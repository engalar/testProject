
(function(l, r) { if (!l || l.getElementById('livereloadscript')) return; r = l.createElement('script'); r.async = 1; r.src = '//' + (self.location.host || 'localhost').split(':')[0] + ':35730/livereload.js?snipver=1'; r.id = 'livereloadscript'; l.getElementsByTagName('head')[0].appendChild(r) })(self.document);
function ___$insertStyle(css) {
    if (!css || typeof window === 'undefined') {
        return;
    }
    const style = document.createElement('style');
    style.setAttribute('type', 'text/css');
    style.innerHTML = css;
    document.head.appendChild(style);
    return css;
}

import React, { Children, createElement, useRef, useEffect, useState, useCallback } from 'react';

var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

var classnames$1 = {exports: {}};

/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/

(function (module) {
/* global define */
(function () {

  var hasOwn = {}.hasOwnProperty;

  function classNames() {
    var classes = [];

    for (var i = 0; i < arguments.length; i++) {
      var arg = arguments[i];
      if (!arg) continue;
      var argType = typeof arg;

      if (argType === 'string' || argType === 'number') {
        classes.push(arg);
      } else if (Array.isArray(arg)) {
        if (arg.length) {
          var inner = classNames.apply(null, arg);

          if (inner) {
            classes.push(inner);
          }
        }
      } else if (argType === 'object') {
        if (arg.toString === Object.prototype.toString) {
          for (var key in arg) {
            if (hasOwn.call(arg, key) && arg[key]) {
              classes.push(key);
            }
          }
        } else {
          classes.push(arg.toString());
        }
      }
    }

    return classes.join(' ');
  }

  if (module.exports) {
    classNames.default = classNames;
    module.exports = classNames;
  } else {
    window.classNames = classNames;
  }
})();
}(classnames$1));

var classNames$1 = classnames$1.exports;

const Alert = ({
  className,
  bootstrapStyle,
  children
}) => Children.count(children) > 0 ? createElement("div", {
  className: classNames$1(`alert alert-${bootstrapStyle}`, className)
}, children) : null;
Alert.displayName = "Alert";

const executeAction = action => {
  if (action && action.canExecute && !action.isExecuting) {
    action.execute();
  }
};

var FormatterType;

(function (FormatterType) {
  FormatterType["Number"] = "number";
  FormatterType["DateTime"] = "datetime";
})(FormatterType || (FormatterType = {}));

function getDimensions(props) {
  const style = {
    width: props.widthUnit === "percentage" ? `${props.width}%` : `${props.width}px`
  };

  if (props.heightUnit === "percentageOfWidth") {
    const ratio = props.height / 100 * props.width;

    if (props.widthUnit === "percentage") {
      style.height = "auto";
      style.paddingBottom = `${ratio}%`;
    } else {
      style.height = `${ratio}px`;
    }
  } else if (props.heightUnit === "pixels") {
    style.height = `${props.height}px`;
  } else if (props.heightUnit === "percentageOfParent") {
    style.height = `${props.height}%`;
  }

  return style;
}

var classnames = {exports: {}};

/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/

(function (module) {
/* global define */
(function () {

  var hasOwn = {}.hasOwnProperty;

  function classNames() {
    var classes = [];

    for (var i = 0; i < arguments.length; i++) {
      var arg = arguments[i];
      if (!arg) continue;
      var argType = typeof arg;

      if (argType === 'string' || argType === 'number') {
        classes.push(arg);
      } else if (Array.isArray(arg)) {
        if (arg.length) {
          var inner = classNames.apply(null, arg);

          if (inner) {
            classes.push(inner);
          }
        }
      } else if (argType === 'object') {
        if (arg.toString === Object.prototype.toString) {
          for (var key in arg) {
            if (hasOwn.call(arg, key) && arg[key]) {
              classes.push(key);
            }
          }
        } else {
          classes.push(arg.toString());
        }
      }
    }

    return classes.join(' ');
  }

  if (module.exports) {
    classNames.default = classNames;
    module.exports = classNames;
  } else {
    window.classNames = classNames;
  }
})();
}(classnames));

var classNames = classnames.exports;

function fixProto(target, prototype) {
  var setPrototypeOf = Object.setPrototypeOf;
  setPrototypeOf ? setPrototypeOf(target, prototype) : target.__proto__ = prototype;
}

function fixStack(target, fn) {
  if (fn === void 0) {
    fn = target.constructor;
  }

  var captureStackTrace = Error.captureStackTrace;
  captureStackTrace && captureStackTrace(target, fn);
}

var __extends$13 = function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) {
        if (b.hasOwnProperty(p)) {
          d[p] = b[p];
        }
      }
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var CustomError = function (_super) {
  __extends$13(CustomError, _super);

  function CustomError(message) {
    var _newTarget = this.constructor;

    var _this = _super.call(this, message) || this;

    Object.defineProperty(_this, 'name', {
      value: _newTarget.name,
      enumerable: false,
      configurable: true
    });
    fixProto(_this, _newTarget.prototype);
    fixStack(_this);
    return _this;
  }

  return CustomError;
}(Error);

var __extends$12 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var Exception =
/** @class */
function (_super) {
  __extends$12(Exception, _super);
  /**
   * Allows Exception to be constructed directly
   * with some message and prototype definition.
   */


  function Exception(message) {
    if (message === void 0) {
      message = undefined;
    }

    var _this = _super.call(this, message) || this;

    _this.message = message;
    return _this;
  }

  Exception.prototype.getKind = function () {
    var ex = this.constructor;
    return ex.kind;
  };
  /**
   * It's typed as string so it can be extended and overriden.
   */


  Exception.kind = 'Exception';
  return Exception;
}(CustomError);

var __extends$11 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var ArgumentException =
/** @class */
function (_super) {
  __extends$11(ArgumentException, _super);

  function ArgumentException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  ArgumentException.kind = 'ArgumentException';
  return ArgumentException;
}(Exception);

var __extends$10 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var IllegalArgumentException =
/** @class */
function (_super) {
  __extends$10(IllegalArgumentException, _super);

  function IllegalArgumentException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  IllegalArgumentException.kind = 'IllegalArgumentException';
  return IllegalArgumentException;
}(Exception);

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var BinaryBitmap =
/** @class */
function () {
  function BinaryBitmap(binarizer) {
    this.binarizer = binarizer;

    if (binarizer === null) {
      throw new IllegalArgumentException('Binarizer must be non-null.');
    }
  }
  /**
   * @return The width of the bitmap.
   */


  BinaryBitmap.prototype.getWidth = function () {
    return this.binarizer.getWidth();
  };
  /**
   * @return The height of the bitmap.
   */


  BinaryBitmap.prototype.getHeight = function () {
    return this.binarizer.getHeight();
  };
  /**
   * Converts one row of luminance data to 1 bit data. May actually do the conversion, or return
   * cached data. Callers should assume this method is expensive and call it as seldom as possible.
   * This method is intended for decoding 1D barcodes and may choose to apply sharpening.
   *
   * @param y The row to fetch, which must be in [0, bitmap height)
   * @param row An optional preallocated array. If null or too small, it will be ignored.
   *            If used, the Binarizer will call BitArray.clear(). Always use the returned object.
   * @return The array of bits for this row (true means black).
   * @throws NotFoundException if row can't be binarized
   */


  BinaryBitmap.prototype.getBlackRow = function (y
  /*int*/
  , row) {
    return this.binarizer.getBlackRow(y, row);
  };
  /**
   * Converts a 2D array of luminance data to 1 bit. As above, assume this method is expensive
   * and do not call it repeatedly. This method is intended for decoding 2D barcodes and may or
   * may not apply sharpening. Therefore, a row from this matrix may not be identical to one
   * fetched using getBlackRow(), so don't mix and match between them.
   *
   * @return The 2D array of bits for the image (true means black).
   * @throws NotFoundException if image can't be binarized to make a matrix
   */


  BinaryBitmap.prototype.getBlackMatrix = function () {
    // The matrix is created on demand the first time it is requested, then cached. There are two
    // reasons for this:
    // 1. This work will never be done if the caller only installs 1D Reader objects, or if a
    //    1D Reader finds a barcode before the 2D Readers run.
    // 2. This work will only be done once even if the caller installs multiple 2D Readers.
    if (this.matrix === null || this.matrix === undefined) {
      this.matrix = this.binarizer.getBlackMatrix();
    }

    return this.matrix;
  };
  /**
   * @return Whether this bitmap can be cropped.
   */


  BinaryBitmap.prototype.isCropSupported = function () {
    return this.binarizer.getLuminanceSource().isCropSupported();
  };
  /**
   * Returns a new object with cropped image data. Implementations may keep a reference to the
   * original data rather than a copy. Only callable if isCropSupported() is true.
   *
   * @param left The left coordinate, which must be in [0,getWidth())
   * @param top The top coordinate, which must be in [0,getHeight())
   * @param width The width of the rectangle to crop.
   * @param height The height of the rectangle to crop.
   * @return A cropped version of this object.
   */


  BinaryBitmap.prototype.crop = function (left
  /*int*/
  , top
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  ) {
    var newSource = this.binarizer.getLuminanceSource().crop(left, top, width, height);
    return new BinaryBitmap(this.binarizer.createBinarizer(newSource));
  };
  /**
   * @return Whether this bitmap supports counter-clockwise rotation.
   */


  BinaryBitmap.prototype.isRotateSupported = function () {
    return this.binarizer.getLuminanceSource().isRotateSupported();
  };
  /**
   * Returns a new object with rotated image data by 90 degrees counterclockwise.
   * Only callable if {@link #isRotateSupported()} is true.
   *
   * @return A rotated version of this object.
   */


  BinaryBitmap.prototype.rotateCounterClockwise = function () {
    var newSource = this.binarizer.getLuminanceSource().rotateCounterClockwise();
    return new BinaryBitmap(this.binarizer.createBinarizer(newSource));
  };
  /**
   * Returns a new object with rotated image data by 45 degrees counterclockwise.
   * Only callable if {@link #isRotateSupported()} is true.
   *
   * @return A rotated version of this object.
   */


  BinaryBitmap.prototype.rotateCounterClockwise45 = function () {
    var newSource = this.binarizer.getLuminanceSource().rotateCounterClockwise45();
    return new BinaryBitmap(this.binarizer.createBinarizer(newSource));
  };
  /*@Override*/


  BinaryBitmap.prototype.toString = function () {
    try {
      return this.getBlackMatrix().toString();
    } catch (e
    /*: NotFoundException*/
    ) {
      return '';
    }
  };

  return BinaryBitmap;
}();

var __extends$$ = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var ChecksumException =
/** @class */
function (_super) {
  __extends$$(ChecksumException, _super);

  function ChecksumException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  ChecksumException.getChecksumInstance = function () {
    return new ChecksumException();
  };

  ChecksumException.kind = 'ChecksumException';
  return ChecksumException;
}(Exception);

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * This class hierarchy provides a set of methods to convert luminance data to 1 bit data.
 * It allows the algorithm to vary polymorphically, for example allowing a very expensive
 * thresholding technique for servers and a fast one for mobile. It also permits the implementation
 * to vary, e.g. a JNI version for Android and a Java fallback version for other platforms.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 */
var Binarizer =
/** @class */
function () {
  function Binarizer(source) {
    this.source = source;
  }

  Binarizer.prototype.getLuminanceSource = function () {
    return this.source;
  };

  Binarizer.prototype.getWidth = function () {
    return this.source.getWidth();
  };

  Binarizer.prototype.getHeight = function () {
    return this.source.getHeight();
  };

  return Binarizer;
}();

var System =
/** @class */
function () {
  function System() {} // public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)

  /**
   * Makes a copy of a array.
   */


  System.arraycopy = function (src, srcPos, dest, destPos, length) {
    // TODO: better use split or set?
    while (length--) {
      dest[destPos++] = src[srcPos++];
    }
  };
  /**
   * Returns the current time in milliseconds.
   */


  System.currentTimeMillis = function () {
    return Date.now();
  };

  return System;
}();

var __extends$_ = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var IndexOutOfBoundsException =
/** @class */
function (_super) {
  __extends$_(IndexOutOfBoundsException, _super);

  function IndexOutOfBoundsException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  IndexOutOfBoundsException.kind = 'IndexOutOfBoundsException';
  return IndexOutOfBoundsException;
}(Exception);

var __extends$Z = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var ArrayIndexOutOfBoundsException =
/** @class */
function (_super) {
  __extends$Z(ArrayIndexOutOfBoundsException, _super);

  function ArrayIndexOutOfBoundsException(index, message) {
    if (index === void 0) {
      index = undefined;
    }

    if (message === void 0) {
      message = undefined;
    }

    var _this = _super.call(this, message) || this;

    _this.index = index;
    _this.message = message;
    return _this;
  }

  ArrayIndexOutOfBoundsException.kind = 'ArrayIndexOutOfBoundsException';
  return ArrayIndexOutOfBoundsException;
}(IndexOutOfBoundsException);

var __values$D = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};

var Arrays =
/** @class */
function () {
  function Arrays() {}
  /**
   * Assigns the specified int value to each element of the specified array
   * of ints.
   *
   * @param a the array to be filled
   * @param val the value to be stored in all elements of the array
   */


  Arrays.fill = function (a, val) {
    for (var i = 0, len = a.length; i < len; i++) a[i] = val;
  };
  /**
   * Assigns the specified int value to each element of the specified
   * range of the specified array of ints.  The range to be filled
   * extends from index {@code fromIndex}, inclusive, to index
   * {@code toIndex}, exclusive.  (If {@code fromIndex==toIndex}, the
   * range to be filled is empty.)
   *
   * @param a the array to be filled
   * @param fromIndex the index of the first element (inclusive) to be
   *        filled with the specified value
   * @param toIndex the index of the last element (exclusive) to be
   *        filled with the specified value
   * @param val the value to be stored in all elements of the array
   * @throws IllegalArgumentException if {@code fromIndex > toIndex}
   * @throws ArrayIndexOutOfBoundsException if {@code fromIndex < 0} or
   *         {@code toIndex > a.length}
   */


  Arrays.fillWithin = function (a, fromIndex, toIndex, val) {
    Arrays.rangeCheck(a.length, fromIndex, toIndex);

    for (var i = fromIndex; i < toIndex; i++) a[i] = val;
  };
  /**
   * Checks that {@code fromIndex} and {@code toIndex} are in
   * the range and throws an exception if they aren't.
   */


  Arrays.rangeCheck = function (arrayLength, fromIndex, toIndex) {
    if (fromIndex > toIndex) {
      throw new IllegalArgumentException('fromIndex(' + fromIndex + ') > toIndex(' + toIndex + ')');
    }

    if (fromIndex < 0) {
      throw new ArrayIndexOutOfBoundsException(fromIndex);
    }

    if (toIndex > arrayLength) {
      throw new ArrayIndexOutOfBoundsException(toIndex);
    }
  };

  Arrays.asList = function () {
    var args = [];

    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }

    return args;
  };

  Arrays.create = function (rows, cols, value) {
    var arr = Array.from({
      length: rows
    });
    return arr.map(function (x) {
      return Array.from({
        length: cols
      }).fill(value);
    });
  };

  Arrays.createInt32Array = function (rows, cols, value) {
    var arr = Array.from({
      length: rows
    });
    return arr.map(function (x) {
      return Int32Array.from({
        length: cols
      }).fill(value);
    });
  };

  Arrays.equals = function (first, second) {
    if (!first) {
      return false;
    }

    if (!second) {
      return false;
    }

    if (!first.length) {
      return false;
    }

    if (!second.length) {
      return false;
    }

    if (first.length !== second.length) {
      return false;
    }

    for (var i = 0, length_1 = first.length; i < length_1; i++) {
      if (first[i] !== second[i]) {
        return false;
      }
    }

    return true;
  };

  Arrays.hashCode = function (a) {
    var e_1, _a;

    if (a === null) {
      return 0;
    }

    var result = 1;

    try {
      for (var a_1 = __values$D(a), a_1_1 = a_1.next(); !a_1_1.done; a_1_1 = a_1.next()) {
        var element = a_1_1.value;
        result = 31 * result + element;
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (a_1_1 && !a_1_1.done && (_a = a_1.return)) _a.call(a_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    return result;
  };

  Arrays.fillUint8Array = function (a, value) {
    for (var i = 0; i !== a.length; i++) {
      a[i] = value;
    }
  };

  Arrays.copyOf = function (original, newLength) {
    return original.slice(0, newLength);
  };

  Arrays.copyOfUint8Array = function (original, newLength) {
    if (original.length <= newLength) {
      var newArray = new Uint8Array(newLength);
      newArray.set(original);
      return newArray;
    }

    return original.slice(0, newLength);
  };

  Arrays.copyOfRange = function (original, from, to) {
    var newLength = to - from;
    var copy = new Int32Array(newLength);
    System.arraycopy(original, from, copy, 0, newLength);
    return copy;
  };
  /*
  * Returns the index of of the element in a sorted array or (-n-1) where n is the insertion point
  * for the new element.
  * Parameters:
  *     ar - A sorted array
  *     el - An element to search for
  *     comparator - A comparator function. The function takes two arguments: (a, b) and returns:
  *        a negative number  if a is less than b;
  *        0 if a is equal to b;
  *        a positive number of a is greater than b.
  * The array may contain duplicate elements. If there are more than one equal elements in the array,
  * the returned value can be the index of any one of the equal elements.
  *
  * http://jsfiddle.net/aryzhov/pkfst550/
  */


  Arrays.binarySearch = function (ar, el, comparator) {
    if (undefined === comparator) {
      comparator = Arrays.numberComparator;
    }

    var m = 0;
    var n = ar.length - 1;

    while (m <= n) {
      var k = n + m >> 1;
      var cmp = comparator(el, ar[k]);

      if (cmp > 0) {
        m = k + 1;
      } else if (cmp < 0) {
        n = k - 1;
      } else {
        return k;
      }
    }

    return -m - 1;
  };

  Arrays.numberComparator = function (a, b) {
    return a - b;
  };

  return Arrays;
}();

/**
 * Ponyfill for Java's Integer class.
 */
var Integer =
/** @class */
function () {
  function Integer() {}

  Integer.numberOfTrailingZeros = function (i) {
    var y;
    if (i === 0) return 32;
    var n = 31;
    y = i << 16;

    if (y !== 0) {
      n -= 16;
      i = y;
    }

    y = i << 8;

    if (y !== 0) {
      n -= 8;
      i = y;
    }

    y = i << 4;

    if (y !== 0) {
      n -= 4;
      i = y;
    }

    y = i << 2;

    if (y !== 0) {
      n -= 2;
      i = y;
    }

    return n - (i << 1 >>> 31);
  };

  Integer.numberOfLeadingZeros = function (i) {
    // HD, Figure 5-6
    if (i === 0) {
      return 32;
    }

    var n = 1;

    if (i >>> 16 === 0) {
      n += 16;
      i <<= 16;
    }

    if (i >>> 24 === 0) {
      n += 8;
      i <<= 8;
    }

    if (i >>> 28 === 0) {
      n += 4;
      i <<= 4;
    }

    if (i >>> 30 === 0) {
      n += 2;
      i <<= 2;
    }

    n -= i >>> 31;
    return n;
  };

  Integer.toHexString = function (i) {
    return i.toString(16);
  };

  Integer.toBinaryString = function (intNumber) {
    return String(parseInt(String(intNumber), 2));
  }; // Returns the number of one-bits in the two's complement binary representation of the specified int value. This function is sometimes referred to as the population count.
  // Returns:
  // the number of one-bits in the two's complement binary representation of the specified int value.


  Integer.bitCount = function (i) {
    // HD, Figure 5-2
    i = i - (i >>> 1 & 0x55555555);
    i = (i & 0x33333333) + (i >>> 2 & 0x33333333);
    i = i + (i >>> 4) & 0x0f0f0f0f;
    i = i + (i >>> 8);
    i = i + (i >>> 16);
    return i & 0x3f;
  };

  Integer.truncDivision = function (dividend, divisor) {
    return Math.trunc(dividend / divisor);
  };
  /**
   * Converts A string to an integer.
   * @param s A string to convert into a number.
   * @param radix A value between 2 and 36 that specifies the base of the number in numString. If this argument is not supplied, strings with a prefix of '0x' are considered hexadecimal. All other strings are considered decimal.
   */


  Integer.parseInt = function (num, radix) {
    if (radix === void 0) {
      radix = undefined;
    }

    return parseInt(num, radix);
  };

  Integer.MIN_VALUE_32_BITS = -2147483648;
  Integer.MAX_VALUE = Number.MAX_SAFE_INTEGER;
  return Integer;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>A simple, fast array of bits, represented compactly by an array of ints internally.</p>
 *
 * @author Sean Owen
 */

var BitArray
/*implements Cloneable*/
=
/** @class */
function () {
  // public constructor() {
  //   this.size = 0
  //   this.bits = new Int32Array(1)
  // }
  // public constructor(size?: number /*int*/) {
  //   if (undefined === size) {
  //     this.size = 0
  //   } else {
  //     this.size = size
  //   }
  //   this.bits = this.makeArray(size)
  // }
  // For testing only
  function BitArray(size
  /*int*/
  , bits) {
    if (undefined === size) {
      this.size = 0;
      this.bits = new Int32Array(1);
    } else {
      this.size = size;

      if (undefined === bits || null === bits) {
        this.bits = BitArray.makeArray(size);
      } else {
        this.bits = bits;
      }
    }
  }

  BitArray.prototype.getSize = function () {
    return this.size;
  };

  BitArray.prototype.getSizeInBytes = function () {
    return Math.floor((this.size + 7) / 8);
  };

  BitArray.prototype.ensureCapacity = function (size
  /*int*/
  ) {
    if (size > this.bits.length * 32) {
      var newBits = BitArray.makeArray(size);
      System.arraycopy(this.bits, 0, newBits, 0, this.bits.length);
      this.bits = newBits;
    }
  };
  /**
   * @param i bit to get
   * @return true iff bit i is set
   */


  BitArray.prototype.get = function (i
  /*int*/
  ) {
    return (this.bits[Math.floor(i / 32)] & 1 << (i & 0x1F)) !== 0;
  };
  /**
   * Sets bit i.
   *
   * @param i bit to set
   */


  BitArray.prototype.set = function (i
  /*int*/
  ) {
    this.bits[Math.floor(i / 32)] |= 1 << (i & 0x1F);
  };
  /**
   * Flips bit i.
   *
   * @param i bit to set
   */


  BitArray.prototype.flip = function (i
  /*int*/
  ) {
    this.bits[Math.floor(i / 32)] ^= 1 << (i & 0x1F);
  };
  /**
   * @param from first bit to check
   * @return index of first bit that is set, starting from the given index, or size if none are set
   *  at or beyond this given index
   * @see #getNextUnset(int)
   */


  BitArray.prototype.getNextSet = function (from
  /*int*/
  ) {
    var size = this.size;

    if (from >= size) {
      return size;
    }

    var bits = this.bits;
    var bitsOffset = Math.floor(from / 32);
    var currentBits = bits[bitsOffset]; // mask off lesser bits first

    currentBits &= ~((1 << (from & 0x1F)) - 1);
    var length = bits.length;

    while (currentBits === 0) {
      if (++bitsOffset === length) {
        return size;
      }

      currentBits = bits[bitsOffset];
    }

    var result = bitsOffset * 32 + Integer.numberOfTrailingZeros(currentBits);
    return result > size ? size : result;
  };
  /**
   * @param from index to start looking for unset bit
   * @return index of next unset bit, or {@code size} if none are unset until the end
   * @see #getNextSet(int)
   */


  BitArray.prototype.getNextUnset = function (from
  /*int*/
  ) {
    var size = this.size;

    if (from >= size) {
      return size;
    }

    var bits = this.bits;
    var bitsOffset = Math.floor(from / 32);
    var currentBits = ~bits[bitsOffset]; // mask off lesser bits first

    currentBits &= ~((1 << (from & 0x1F)) - 1);
    var length = bits.length;

    while (currentBits === 0) {
      if (++bitsOffset === length) {
        return size;
      }

      currentBits = ~bits[bitsOffset];
    }

    var result = bitsOffset * 32 + Integer.numberOfTrailingZeros(currentBits);
    return result > size ? size : result;
  };
  /**
   * Sets a block of 32 bits, starting at bit i.
   *
   * @param i first bit to set
   * @param newBits the new value of the next 32 bits. Note again that the least-significant bit
   * corresponds to bit i, the next-least-significant to i+1, and so on.
   */


  BitArray.prototype.setBulk = function (i
  /*int*/
  , newBits
  /*int*/
  ) {
    this.bits[Math.floor(i / 32)] = newBits;
  };
  /**
   * Sets a range of bits.
   *
   * @param start start of range, inclusive.
   * @param end end of range, exclusive
   */


  BitArray.prototype.setRange = function (start
  /*int*/
  , end
  /*int*/
  ) {
    if (end < start || start < 0 || end > this.size) {
      throw new IllegalArgumentException();
    }

    if (end === start) {
      return;
    }

    end--; // will be easier to treat this as the last actually set bit -- inclusive

    var firstInt = Math.floor(start / 32);
    var lastInt = Math.floor(end / 32);
    var bits = this.bits;

    for (var i = firstInt; i <= lastInt; i++) {
      var firstBit = i > firstInt ? 0 : start & 0x1F;
      var lastBit = i < lastInt ? 31 : end & 0x1F; // Ones from firstBit to lastBit, inclusive

      var mask = (2 << lastBit) - (1 << firstBit);
      bits[i] |= mask;
    }
  };
  /**
   * Clears all bits (sets to false).
   */


  BitArray.prototype.clear = function () {
    var max = this.bits.length;
    var bits = this.bits;

    for (var i = 0; i < max; i++) {
      bits[i] = 0;
    }
  };
  /**
   * Efficient method to check if a range of bits is set, or not set.
   *
   * @param start start of range, inclusive.
   * @param end end of range, exclusive
   * @param value if true, checks that bits in range are set, otherwise checks that they are not set
   * @return true iff all bits are set or not set in range, according to value argument
   * @throws IllegalArgumentException if end is less than start or the range is not contained in the array
   */


  BitArray.prototype.isRange = function (start
  /*int*/
  , end
  /*int*/
  , value) {
    if (end < start || start < 0 || end > this.size) {
      throw new IllegalArgumentException();
    }

    if (end === start) {
      return true; // empty range matches
    }

    end--; // will be easier to treat this as the last actually set bit -- inclusive

    var firstInt = Math.floor(start / 32);
    var lastInt = Math.floor(end / 32);
    var bits = this.bits;

    for (var i = firstInt; i <= lastInt; i++) {
      var firstBit = i > firstInt ? 0 : start & 0x1F;
      var lastBit = i < lastInt ? 31 : end & 0x1F; // Ones from firstBit to lastBit, inclusive

      var mask = (2 << lastBit) - (1 << firstBit) & 0xFFFFFFFF; // TYPESCRIPTPORT: & 0xFFFFFFFF added to discard anything after 32 bits, as ES has 53 bits
      // Return false if we're looking for 1s and the masked bits[i] isn't all 1s (is: that,
      // equals the mask, or we're looking for 0s and the masked portion is not all 0s

      if ((bits[i] & mask) !== (value ? mask : 0)) {
        return false;
      }
    }

    return true;
  };

  BitArray.prototype.appendBit = function (bit) {
    this.ensureCapacity(this.size + 1);

    if (bit) {
      this.bits[Math.floor(this.size / 32)] |= 1 << (this.size & 0x1F);
    }

    this.size++;
  };
  /**
   * Appends the least-significant bits, from value, in order from most-significant to
   * least-significant. For example, appending 6 bits from 0x000001E will append the bits
   * 0, 1, 1, 1, 1, 0 in that order.
   *
   * @param value {@code int} containing bits to append
   * @param numBits bits from value to append
   */


  BitArray.prototype.appendBits = function (value
  /*int*/
  , numBits
  /*int*/
  ) {
    if (numBits < 0 || numBits > 32) {
      throw new IllegalArgumentException('Num bits must be between 0 and 32');
    }

    this.ensureCapacity(this.size + numBits); // const appendBit = this.appendBit;

    for (var numBitsLeft = numBits; numBitsLeft > 0; numBitsLeft--) {
      this.appendBit((value >> numBitsLeft - 1 & 0x01) === 1);
    }
  };

  BitArray.prototype.appendBitArray = function (other) {
    var otherSize = other.size;
    this.ensureCapacity(this.size + otherSize); // const appendBit = this.appendBit;

    for (var i = 0; i < otherSize; i++) {
      this.appendBit(other.get(i));
    }
  };

  BitArray.prototype.xor = function (other) {
    if (this.size !== other.size) {
      throw new IllegalArgumentException('Sizes don\'t match');
    }

    var bits = this.bits;

    for (var i = 0, length_1 = bits.length; i < length_1; i++) {
      // The last int could be incomplete (i.e. not have 32 bits in
      // it) but there is no problem since 0 XOR 0 == 0.
      bits[i] ^= other.bits[i];
    }
  };
  /**
   *
   * @param bitOffset first bit to start writing
   * @param array array to write into. Bytes are written most-significant byte first. This is the opposite
   *  of the internal representation, which is exposed by {@link #getBitArray()}
   * @param offset position in array to start writing
   * @param numBytes how many bytes to write
   */


  BitArray.prototype.toBytes = function (bitOffset
  /*int*/
  , array, offset
  /*int*/
  , numBytes
  /*int*/
  ) {
    for (var i = 0; i < numBytes; i++) {
      var theByte = 0;

      for (var j = 0; j < 8; j++) {
        if (this.get(bitOffset)) {
          theByte |= 1 << 7 - j;
        }

        bitOffset++;
      }

      array[offset + i] =
      /*(byte)*/
      theByte;
    }
  };
  /**
   * @return underlying array of ints. The first element holds the first 32 bits, and the least
   *         significant bit is bit 0.
   */


  BitArray.prototype.getBitArray = function () {
    return this.bits;
  };
  /**
   * Reverses all bits in the array.
   */


  BitArray.prototype.reverse = function () {
    var newBits = new Int32Array(this.bits.length); // reverse all int's first

    var len = Math.floor((this.size - 1) / 32);
    var oldBitsLen = len + 1;
    var bits = this.bits;

    for (var i = 0; i < oldBitsLen; i++) {
      var x = bits[i];
      x = x >> 1 & 0x55555555 | (x & 0x55555555) << 1;
      x = x >> 2 & 0x33333333 | (x & 0x33333333) << 2;
      x = x >> 4 & 0x0f0f0f0f | (x & 0x0f0f0f0f) << 4;
      x = x >> 8 & 0x00ff00ff | (x & 0x00ff00ff) << 8;
      x = x >> 16 & 0x0000ffff | (x & 0x0000ffff) << 16;
      newBits[len - i] =
      /*(int)*/
      x;
    } // now correct the int's if the bit size isn't a multiple of 32


    if (this.size !== oldBitsLen * 32) {
      var leftOffset = oldBitsLen * 32 - this.size;
      var currentInt = newBits[0] >>> leftOffset;

      for (var i = 1; i < oldBitsLen; i++) {
        var nextInt = newBits[i];
        currentInt |= nextInt << 32 - leftOffset;
        newBits[i - 1] = currentInt;
        currentInt = nextInt >>> leftOffset;
      }

      newBits[oldBitsLen - 1] = currentInt;
    }

    this.bits = newBits;
  };

  BitArray.makeArray = function (size
  /*int*/
  ) {
    return new Int32Array(Math.floor((size + 31) / 32));
  };
  /*@Override*/


  BitArray.prototype.equals = function (o) {
    if (!(o instanceof BitArray)) {
      return false;
    }

    var other = o;
    return this.size === other.size && Arrays.equals(this.bits, other.bits);
  };
  /*@Override*/


  BitArray.prototype.hashCode = function () {
    return 31 * this.size + Arrays.hashCode(this.bits);
  };
  /*@Override*/


  BitArray.prototype.toString = function () {
    var result = '';

    for (var i = 0, size = this.size; i < size; i++) {
      if ((i & 0x07) === 0) {
        result += ' ';
      }

      result += this.get(i) ? 'X' : '.';
    }

    return result;
  };
  /*@Override*/


  BitArray.prototype.clone = function () {
    return new BitArray(this.size, this.bits.slice());
  };

  return BitArray;
}();

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*namespace com.google.zxing {*/

/**
 * Encapsulates a type of hint that a caller may pass to a barcode reader to help it
 * more quickly or accurately decode it. It is up to implementations to decide what,
 * if anything, to do with the information that is supplied.
 *
 * @author Sean Owen
 * @author dswitkin@google.com (Daniel Switkin)
 * @see Reader#decode(BinaryBitmap,java.util.Map)
 */
var DecodeHintType;

(function (DecodeHintType) {
  /**
   * Unspecified, application-specific hint. Maps to an unspecified {@link Object}.
   */
  DecodeHintType[DecodeHintType["OTHER"] = 0] = "OTHER";
  /*(Object.class)*/

  /**
   * Image is a pure monochrome image of a barcode. Doesn't matter what it maps to;
   * use {@link Boolean#TRUE}.
   */

  DecodeHintType[DecodeHintType["PURE_BARCODE"] = 1] = "PURE_BARCODE";
  /*(Void.class)*/

  /**
   * Image is known to be of one of a few possible formats.
   * Maps to a {@link List} of {@link BarcodeFormat}s.
   */

  DecodeHintType[DecodeHintType["POSSIBLE_FORMATS"] = 2] = "POSSIBLE_FORMATS";
  /*(List.class)*/

  /**
   * Spend more time to try to find a barcode; optimize for accuracy, not speed.
   * Doesn't matter what it maps to; use {@link Boolean#TRUE}.
   */

  DecodeHintType[DecodeHintType["TRY_HARDER"] = 3] = "TRY_HARDER";
  /*(Void.class)*/

  /**
   * Specifies what character encoding to use when decoding, where applicable (type String)
   */

  DecodeHintType[DecodeHintType["CHARACTER_SET"] = 4] = "CHARACTER_SET";
  /*(String.class)*/

  /**
   * Allowed lengths of encoded data -- reject anything else. Maps to an {@code Int32Array}.
   */

  DecodeHintType[DecodeHintType["ALLOWED_LENGTHS"] = 5] = "ALLOWED_LENGTHS";
  /*(Int32Array.class)*/

  /**
   * Assume Code 39 codes employ a check digit. Doesn't matter what it maps to;
   * use {@link Boolean#TRUE}.
   */

  DecodeHintType[DecodeHintType["ASSUME_CODE_39_CHECK_DIGIT"] = 6] = "ASSUME_CODE_39_CHECK_DIGIT";
  /*(Void.class)*/

  /**
   * Assume the barcode is being processed as a GS1 barcode, and modify behavior as needed.
   * For example this affects FNC1 handling for Code 128 (aka GS1-128). Doesn't matter what it maps to;
   * use {@link Boolean#TRUE}.
   */

  DecodeHintType[DecodeHintType["ASSUME_GS1"] = 7] = "ASSUME_GS1";
  /*(Void.class)*/

  /**
   * If true, return the start and end digits in a Codabar barcode instead of stripping them. They
   * are alpha, whereas the rest are numeric. By default, they are stripped, but this causes them
   * to not be. Doesn't matter what it maps to; use {@link Boolean#TRUE}.
   */

  DecodeHintType[DecodeHintType["RETURN_CODABAR_START_END"] = 8] = "RETURN_CODABAR_START_END";
  /*(Void.class)*/

  /**
   * The caller needs to be notified via callback when a possible {@link ResultPoint}
   * is found. Maps to a {@link ResultPointCallback}.
   */

  DecodeHintType[DecodeHintType["NEED_RESULT_POINT_CALLBACK"] = 9] = "NEED_RESULT_POINT_CALLBACK";
  /*(ResultPointCallback.class)*/

  /**
   * Allowed extension lengths for EAN or UPC barcodes. Other formats will ignore this.
   * Maps to an {@code Int32Array} of the allowed extension lengths, for example [2], [5], or [2, 5].
   * If it is optional to have an extension, do not set this hint. If this is set,
   * and a UPC or EAN barcode is found but an extension is not, then no result will be returned
   * at all.
   */

  DecodeHintType[DecodeHintType["ALLOWED_EAN_EXTENSIONS"] = 10] = "ALLOWED_EAN_EXTENSIONS";
  /*(Int32Array.class)*/
  // End of enumeration values.

  /**
   * Data type the hint is expecting.
   * Among the possible values the {@link Void} stands out as being used for
   * hints that do not expect a value to be supplied (flag hints). Such hints
   * will possibly have their value ignored, or replaced by a
   * {@link Boolean#TRUE}. Hint suppliers should probably use
   * {@link Boolean#TRUE} as directed by the actual hint documentation.
   */
  // private valueType: Class<?>
  // DecodeHintType(valueType: Class<?>) {
  //   this.valueType = valueType
  // }
  // public getValueType(): Class<?> {
  //   return valueType
  // }
})(DecodeHintType || (DecodeHintType = {}));

var DecodeHintType$1 = DecodeHintType;

var __extends$Y = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var FormatException =
/** @class */
function (_super) {
  __extends$Y(FormatException, _super);

  function FormatException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  FormatException.getFormatInstance = function () {
    return new FormatException();
  };

  FormatException.kind = 'FormatException';
  return FormatException;
}(Exception);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$C = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*import java.util.HashMap;*/

/*import java.util.Map;*/

var CharacterSetValueIdentifiers;

(function (CharacterSetValueIdentifiers) {
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["Cp437"] = 0] = "Cp437";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_1"] = 1] = "ISO8859_1";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_2"] = 2] = "ISO8859_2";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_3"] = 3] = "ISO8859_3";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_4"] = 4] = "ISO8859_4";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_5"] = 5] = "ISO8859_5";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_6"] = 6] = "ISO8859_6";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_7"] = 7] = "ISO8859_7";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_8"] = 8] = "ISO8859_8";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_9"] = 9] = "ISO8859_9";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_10"] = 10] = "ISO8859_10";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_11"] = 11] = "ISO8859_11";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_13"] = 12] = "ISO8859_13";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_14"] = 13] = "ISO8859_14";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_15"] = 14] = "ISO8859_15";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ISO8859_16"] = 15] = "ISO8859_16";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["SJIS"] = 16] = "SJIS";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["Cp1250"] = 17] = "Cp1250";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["Cp1251"] = 18] = "Cp1251";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["Cp1252"] = 19] = "Cp1252";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["Cp1256"] = 20] = "Cp1256";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["UnicodeBigUnmarked"] = 21] = "UnicodeBigUnmarked";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["UTF8"] = 22] = "UTF8";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["ASCII"] = 23] = "ASCII";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["Big5"] = 24] = "Big5";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["GB18030"] = 25] = "GB18030";
  CharacterSetValueIdentifiers[CharacterSetValueIdentifiers["EUC_KR"] = 26] = "EUC_KR";
})(CharacterSetValueIdentifiers || (CharacterSetValueIdentifiers = {}));
/**
 * Encapsulates a Character Set ECI, according to "Extended Channel Interpretations" 5.3.1.1
 * of ISO 18004.
 *
 * @author Sean Owen
 */


var CharacterSetECI =
/** @class */
function () {
  function CharacterSetECI(valueIdentifier, valuesParam, name) {
    var e_1, _a;

    var otherEncodingNames = [];

    for (var _i = 3; _i < arguments.length; _i++) {
      otherEncodingNames[_i - 3] = arguments[_i];
    }

    this.valueIdentifier = valueIdentifier;
    this.name = name;

    if (typeof valuesParam === 'number') {
      this.values = Int32Array.from([valuesParam]);
    } else {
      this.values = valuesParam;
    }

    this.otherEncodingNames = otherEncodingNames;
    CharacterSetECI.VALUE_IDENTIFIER_TO_ECI.set(valueIdentifier, this);
    CharacterSetECI.NAME_TO_ECI.set(name, this);
    var values = this.values;

    for (var i = 0, length_1 = values.length; i !== length_1; i++) {
      var v = values[i];
      CharacterSetECI.VALUES_TO_ECI.set(v, this);
    }

    try {
      for (var otherEncodingNames_1 = __values$C(otherEncodingNames), otherEncodingNames_1_1 = otherEncodingNames_1.next(); !otherEncodingNames_1_1.done; otherEncodingNames_1_1 = otherEncodingNames_1.next()) {
        var otherName = otherEncodingNames_1_1.value;
        CharacterSetECI.NAME_TO_ECI.set(otherName, this);
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (otherEncodingNames_1_1 && !otherEncodingNames_1_1.done && (_a = otherEncodingNames_1.return)) _a.call(otherEncodingNames_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }
  } // CharacterSetECI(value: number /*int*/) {
  //   this(new Int32Array {value})
  // }
  // CharacterSetECI(value: number /*int*/, String... otherEncodingNames) {
  //   this.values = new Int32Array {value}
  //   this.otherEncodingNames = otherEncodingNames
  // }
  // CharacterSetECI(values: Int32Array, String... otherEncodingNames) {
  //   this.values = values
  //   this.otherEncodingNames = otherEncodingNames
  // }


  CharacterSetECI.prototype.getValueIdentifier = function () {
    return this.valueIdentifier;
  };

  CharacterSetECI.prototype.getName = function () {
    return this.name;
  };

  CharacterSetECI.prototype.getValue = function () {
    return this.values[0];
  };
  /**
   * @param value character set ECI value
   * @return {@code CharacterSetECI} representing ECI of given value, or null if it is legal but
   *   unsupported
   * @throws FormatException if ECI value is invalid
   */


  CharacterSetECI.getCharacterSetECIByValue = function (value
  /*int*/
  ) {
    if (value < 0 || value >= 900) {
      throw new FormatException('incorect value');
    }

    var characterSet = CharacterSetECI.VALUES_TO_ECI.get(value);

    if (undefined === characterSet) {
      throw new FormatException('incorect value');
    }

    return characterSet;
  };
  /**
   * @param name character set ECI encoding name
   * @return CharacterSetECI representing ECI for character encoding, or null if it is legal
   *   but unsupported
   */


  CharacterSetECI.getCharacterSetECIByName = function (name) {
    var characterSet = CharacterSetECI.NAME_TO_ECI.get(name);

    if (undefined === characterSet) {
      throw new FormatException('incorect value');
    }

    return characterSet;
  };

  CharacterSetECI.prototype.equals = function (o) {
    if (!(o instanceof CharacterSetECI)) {
      return false;
    }

    var other = o;
    return this.getName() === other.getName();
  };

  CharacterSetECI.VALUE_IDENTIFIER_TO_ECI = new Map();
  CharacterSetECI.VALUES_TO_ECI = new Map();
  CharacterSetECI.NAME_TO_ECI = new Map(); // Enum name is a Java encoding valid for java.lang and java.io
  // TYPESCRIPTPORT: changed the main label for ISO as the TextEncoder did not recognized them in the form from java
  // (eg ISO8859_1 must be ISO88591 or ISO8859-1 or ISO-8859-1)
  // later on: well, except 16 wich does not work with ISO885916 so used ISO-8859-1 form for default

  CharacterSetECI.Cp437 = new CharacterSetECI(CharacterSetValueIdentifiers.Cp437, Int32Array.from([0, 2]), 'Cp437');
  CharacterSetECI.ISO8859_1 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_1, Int32Array.from([1, 3]), 'ISO-8859-1', 'ISO88591', 'ISO8859_1');
  CharacterSetECI.ISO8859_2 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_2, 4, 'ISO-8859-2', 'ISO88592', 'ISO8859_2');
  CharacterSetECI.ISO8859_3 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_3, 5, 'ISO-8859-3', 'ISO88593', 'ISO8859_3');
  CharacterSetECI.ISO8859_4 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_4, 6, 'ISO-8859-4', 'ISO88594', 'ISO8859_4');
  CharacterSetECI.ISO8859_5 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_5, 7, 'ISO-8859-5', 'ISO88595', 'ISO8859_5');
  CharacterSetECI.ISO8859_6 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_6, 8, 'ISO-8859-6', 'ISO88596', 'ISO8859_6');
  CharacterSetECI.ISO8859_7 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_7, 9, 'ISO-8859-7', 'ISO88597', 'ISO8859_7');
  CharacterSetECI.ISO8859_8 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_8, 10, 'ISO-8859-8', 'ISO88598', 'ISO8859_8');
  CharacterSetECI.ISO8859_9 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_9, 11, 'ISO-8859-9', 'ISO88599', 'ISO8859_9');
  CharacterSetECI.ISO8859_10 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_10, 12, 'ISO-8859-10', 'ISO885910', 'ISO8859_10');
  CharacterSetECI.ISO8859_11 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_11, 13, 'ISO-8859-11', 'ISO885911', 'ISO8859_11');
  CharacterSetECI.ISO8859_13 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_13, 15, 'ISO-8859-13', 'ISO885913', 'ISO8859_13');
  CharacterSetECI.ISO8859_14 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_14, 16, 'ISO-8859-14', 'ISO885914', 'ISO8859_14');
  CharacterSetECI.ISO8859_15 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_15, 17, 'ISO-8859-15', 'ISO885915', 'ISO8859_15');
  CharacterSetECI.ISO8859_16 = new CharacterSetECI(CharacterSetValueIdentifiers.ISO8859_16, 18, 'ISO-8859-16', 'ISO885916', 'ISO8859_16');
  CharacterSetECI.SJIS = new CharacterSetECI(CharacterSetValueIdentifiers.SJIS, 20, 'SJIS', 'Shift_JIS');
  CharacterSetECI.Cp1250 = new CharacterSetECI(CharacterSetValueIdentifiers.Cp1250, 21, 'Cp1250', 'windows-1250');
  CharacterSetECI.Cp1251 = new CharacterSetECI(CharacterSetValueIdentifiers.Cp1251, 22, 'Cp1251', 'windows-1251');
  CharacterSetECI.Cp1252 = new CharacterSetECI(CharacterSetValueIdentifiers.Cp1252, 23, 'Cp1252', 'windows-1252');
  CharacterSetECI.Cp1256 = new CharacterSetECI(CharacterSetValueIdentifiers.Cp1256, 24, 'Cp1256', 'windows-1256');
  CharacterSetECI.UnicodeBigUnmarked = new CharacterSetECI(CharacterSetValueIdentifiers.UnicodeBigUnmarked, 25, 'UnicodeBigUnmarked', 'UTF-16BE', 'UnicodeBig');
  CharacterSetECI.UTF8 = new CharacterSetECI(CharacterSetValueIdentifiers.UTF8, 26, 'UTF8', 'UTF-8');
  CharacterSetECI.ASCII = new CharacterSetECI(CharacterSetValueIdentifiers.ASCII, Int32Array.from([27, 170]), 'ASCII', 'US-ASCII');
  CharacterSetECI.Big5 = new CharacterSetECI(CharacterSetValueIdentifiers.Big5, 28, 'Big5');
  CharacterSetECI.GB18030 = new CharacterSetECI(CharacterSetValueIdentifiers.GB18030, 29, 'GB18030', 'GB2312', 'EUC_CN', 'GBK');
  CharacterSetECI.EUC_KR = new CharacterSetECI(CharacterSetValueIdentifiers.EUC_KR, 30, 'EUC_KR', 'EUC-KR');
  return CharacterSetECI;
}();

var __extends$X = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var UnsupportedOperationException =
/** @class */
function (_super) {
  __extends$X(UnsupportedOperationException, _super);

  function UnsupportedOperationException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  UnsupportedOperationException.kind = 'UnsupportedOperationException';
  return UnsupportedOperationException;
}(Exception);

/**
 * Responsible for en/decoding strings.
 */

var StringEncoding =
/** @class */
function () {
  function StringEncoding() {}
  /**
   * Decodes some Uint8Array to a string format.
   */


  StringEncoding.decode = function (bytes, encoding) {
    var encodingName = this.encodingName(encoding);

    if (this.customDecoder) {
      return this.customDecoder(bytes, encodingName);
    } // Increases browser support.


    if (typeof TextDecoder === 'undefined' || this.shouldDecodeOnFallback(encodingName)) {
      return this.decodeFallback(bytes, encodingName);
    }

    return new TextDecoder(encodingName).decode(bytes);
  };
  /**
   * Checks if the decoding method should use the fallback for decoding
   * once Node TextDecoder doesn't support all encoding formats.
   *
   * @param encodingName
   */


  StringEncoding.shouldDecodeOnFallback = function (encodingName) {
    return !StringEncoding.isBrowser() && encodingName === 'ISO-8859-1';
  };
  /**
   * Encodes some string into a Uint8Array.
   */


  StringEncoding.encode = function (s, encoding) {
    var encodingName = this.encodingName(encoding);

    if (this.customEncoder) {
      return this.customEncoder(s, encodingName);
    } // Increases browser support.


    if (typeof TextEncoder === 'undefined') {
      return this.encodeFallback(s);
    } // TextEncoder only encodes to UTF8 by default as specified by encoding.spec.whatwg.org


    return new TextEncoder().encode(s);
  };

  StringEncoding.isBrowser = function () {
    return typeof window !== 'undefined' && {}.toString.call(window) === '[object Window]';
  };
  /**
   * Returns the string value from some encoding character set.
   */


  StringEncoding.encodingName = function (encoding) {
    return typeof encoding === 'string' ? encoding : encoding.getName();
  };
  /**
   * Returns character set from some encoding character set.
   */


  StringEncoding.encodingCharacterSet = function (encoding) {
    if (encoding instanceof CharacterSetECI) {
      return encoding;
    }

    return CharacterSetECI.getCharacterSetECIByName(encoding);
  };
  /**
   * Runs a fallback for the native decoding funcion.
   */


  StringEncoding.decodeFallback = function (bytes, encoding) {
    var characterSet = this.encodingCharacterSet(encoding);

    if (StringEncoding.isDecodeFallbackSupported(characterSet)) {
      var s = '';

      for (var i = 0, length_1 = bytes.length; i < length_1; i++) {
        var h = bytes[i].toString(16);

        if (h.length < 2) {
          h = '0' + h;
        }

        s += '%' + h;
      }

      return decodeURIComponent(s);
    }

    if (characterSet.equals(CharacterSetECI.UnicodeBigUnmarked)) {
      return String.fromCharCode.apply(null, new Uint16Array(bytes.buffer));
    }

    throw new UnsupportedOperationException("Encoding " + this.encodingName(encoding) + " not supported by fallback.");
  };

  StringEncoding.isDecodeFallbackSupported = function (characterSet) {
    return characterSet.equals(CharacterSetECI.UTF8) || characterSet.equals(CharacterSetECI.ISO8859_1) || characterSet.equals(CharacterSetECI.ASCII);
  };
  /**
   * Runs a fallback for the native encoding funcion.
   *
   * @see https://stackoverflow.com/a/17192845/4367683
   */


  StringEncoding.encodeFallback = function (s) {
    var encodedURIstring = btoa(unescape(encodeURIComponent(s)));
    var charList = encodedURIstring.split('');
    var uintArray = [];

    for (var i = 0; i < charList.length; i++) {
      uintArray.push(charList[i].charCodeAt(0));
    }

    return new Uint8Array(uintArray);
  };

  return StringEncoding;
}();

/*
 * Copyright (C) 2010 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Common string-related functions.
 *
 * @author Sean Owen
 * @author Alex Dupre
 */

var StringUtils =
/** @class */
function () {
  function StringUtils() {} // SHIFT_JIS.equalsIgnoreCase(PLATFORM_DEFAULT_ENCODING) ||
  // EUC_JP.equalsIgnoreCase(PLATFORM_DEFAULT_ENCODING);


  StringUtils.castAsNonUtf8Char = function (code, encoding) {
    if (encoding === void 0) {
      encoding = null;
    } // ISO 8859-1 is the Java default as UTF-8 is JavaScripts
    // you can see this method as a Java version of String.fromCharCode


    var e = encoding ? encoding.getName() : this.ISO88591; // use passed format (fromCharCode will return UTF8 encoding)

    return StringEncoding.decode(new Uint8Array([code]), e);
  };
  /**
   * @param bytes bytes encoding a string, whose encoding should be guessed
   * @param hints decode hints if applicable
   * @return name of guessed encoding; at the moment will only guess one of:
   *  {@link #SHIFT_JIS}, {@link #UTF8}, {@link #ISO88591}, or the platform
   *  default encoding if none of these can possibly be correct
   */


  StringUtils.guessEncoding = function (bytes, hints) {
    if (hints !== null && hints !== undefined && undefined !== hints.get(DecodeHintType$1.CHARACTER_SET)) {
      return hints.get(DecodeHintType$1.CHARACTER_SET).toString();
    } // For now, merely tries to distinguish ISO-8859-1, UTF-8 and Shift_JIS,
    // which should be by far the most common encodings.


    var length = bytes.length;
    var canBeISO88591 = true;
    var canBeShiftJIS = true;
    var canBeUTF8 = true;
    var utf8BytesLeft = 0; // int utf8LowChars = 0

    var utf2BytesChars = 0;
    var utf3BytesChars = 0;
    var utf4BytesChars = 0;
    var sjisBytesLeft = 0; // int sjisLowChars = 0

    var sjisKatakanaChars = 0; // int sjisDoubleBytesChars = 0

    var sjisCurKatakanaWordLength = 0;
    var sjisCurDoubleBytesWordLength = 0;
    var sjisMaxKatakanaWordLength = 0;
    var sjisMaxDoubleBytesWordLength = 0; // int isoLowChars = 0
    // int isoHighChars = 0

    var isoHighOther = 0;
    var utf8bom = bytes.length > 3 && bytes[0] ===
    /*(byte) */
    0xEF && bytes[1] ===
    /*(byte) */
    0xBB && bytes[2] ===
    /*(byte) */
    0xBF;

    for (var i = 0; i < length && (canBeISO88591 || canBeShiftJIS || canBeUTF8); i++) {
      var value = bytes[i] & 0xFF; // UTF-8 stuff

      if (canBeUTF8) {
        if (utf8BytesLeft > 0) {
          if ((value & 0x80) === 0) {
            canBeUTF8 = false;
          } else {
            utf8BytesLeft--;
          }
        } else if ((value & 0x80) !== 0) {
          if ((value & 0x40) === 0) {
            canBeUTF8 = false;
          } else {
            utf8BytesLeft++;

            if ((value & 0x20) === 0) {
              utf2BytesChars++;
            } else {
              utf8BytesLeft++;

              if ((value & 0x10) === 0) {
                utf3BytesChars++;
              } else {
                utf8BytesLeft++;

                if ((value & 0x08) === 0) {
                  utf4BytesChars++;
                } else {
                  canBeUTF8 = false;
                }
              }
            }
          }
        } // else {
        // utf8LowChars++
        // }

      } // ISO-8859-1 stuff


      if (canBeISO88591) {
        if (value > 0x7F && value < 0xA0) {
          canBeISO88591 = false;
        } else if (value > 0x9F) {
          if (value < 0xC0 || value === 0xD7 || value === 0xF7) {
            isoHighOther++;
          } // else {
          // isoHighChars++
          // }

        } // else {
        // isoLowChars++
        // }

      } // Shift_JIS stuff


      if (canBeShiftJIS) {
        if (sjisBytesLeft > 0) {
          if (value < 0x40 || value === 0x7F || value > 0xFC) {
            canBeShiftJIS = false;
          } else {
            sjisBytesLeft--;
          }
        } else if (value === 0x80 || value === 0xA0 || value > 0xEF) {
          canBeShiftJIS = false;
        } else if (value > 0xA0 && value < 0xE0) {
          sjisKatakanaChars++;
          sjisCurDoubleBytesWordLength = 0;
          sjisCurKatakanaWordLength++;

          if (sjisCurKatakanaWordLength > sjisMaxKatakanaWordLength) {
            sjisMaxKatakanaWordLength = sjisCurKatakanaWordLength;
          }
        } else if (value > 0x7F) {
          sjisBytesLeft++; // sjisDoubleBytesChars++

          sjisCurKatakanaWordLength = 0;
          sjisCurDoubleBytesWordLength++;

          if (sjisCurDoubleBytesWordLength > sjisMaxDoubleBytesWordLength) {
            sjisMaxDoubleBytesWordLength = sjisCurDoubleBytesWordLength;
          }
        } else {
          // sjisLowChars++
          sjisCurKatakanaWordLength = 0;
          sjisCurDoubleBytesWordLength = 0;
        }
      }
    }

    if (canBeUTF8 && utf8BytesLeft > 0) {
      canBeUTF8 = false;
    }

    if (canBeShiftJIS && sjisBytesLeft > 0) {
      canBeShiftJIS = false;
    } // Easy -- if there is BOM or at least 1 valid not-single byte character (and no evidence it can't be UTF-8), done


    if (canBeUTF8 && (utf8bom || utf2BytesChars + utf3BytesChars + utf4BytesChars > 0)) {
      return StringUtils.UTF8;
    } // Easy -- if assuming Shift_JIS or at least 3 valid consecutive not-ascii characters (and no evidence it can't be), done


    if (canBeShiftJIS && (StringUtils.ASSUME_SHIFT_JIS || sjisMaxKatakanaWordLength >= 3 || sjisMaxDoubleBytesWordLength >= 3)) {
      return StringUtils.SHIFT_JIS;
    } // Distinguishing Shift_JIS and ISO-8859-1 can be a little tough for short words. The crude heuristic is:
    // - If we saw
    //   - only two consecutive katakana chars in the whole text, or
    //   - at least 10% of bytes that could be "upper" not-alphanumeric Latin1,
    // - then we conclude Shift_JIS, else ISO-8859-1


    if (canBeISO88591 && canBeShiftJIS) {
      return sjisMaxKatakanaWordLength === 2 && sjisKatakanaChars === 2 || isoHighOther * 10 >= length ? StringUtils.SHIFT_JIS : StringUtils.ISO88591;
    } // Otherwise, try in order ISO-8859-1, Shift JIS, UTF-8 and fall back to default platform encoding


    if (canBeISO88591) {
      return StringUtils.ISO88591;
    }

    if (canBeShiftJIS) {
      return StringUtils.SHIFT_JIS;
    }

    if (canBeUTF8) {
      return StringUtils.UTF8;
    } // Otherwise, we take a wild guess with platform encoding


    return StringUtils.PLATFORM_DEFAULT_ENCODING;
  };
  /**
   *
   * @see https://stackoverflow.com/a/13439711/4367683
   *
   * @param append The new string to append.
   * @param args Argumets values to be formated.
   */


  StringUtils.format = function (append) {
    var args = [];

    for (var _i = 1; _i < arguments.length; _i++) {
      args[_i - 1] = arguments[_i];
    }

    var i = -1;

    function callback(exp, p0, p1, p2, p3, p4) {
      if (exp === '%%') return '%';
      if (args[++i] === undefined) return undefined;
      exp = p2 ? parseInt(p2.substr(1)) : undefined;
      var base = p3 ? parseInt(p3.substr(1)) : undefined;
      var val;

      switch (p4) {
        case 's':
          val = args[i];
          break;

        case 'c':
          val = args[i][0];
          break;

        case 'f':
          val = parseFloat(args[i]).toFixed(exp);
          break;

        case 'p':
          val = parseFloat(args[i]).toPrecision(exp);
          break;

        case 'e':
          val = parseFloat(args[i]).toExponential(exp);
          break;

        case 'x':
          val = parseInt(args[i]).toString(base ? base : 16);
          break;

        case 'd':
          val = parseFloat(parseInt(args[i], base ? base : 10).toPrecision(exp)).toFixed(0);
          break;
      }

      val = typeof val === 'object' ? JSON.stringify(val) : (+val).toString(base);
      var size = parseInt(p1);
      /* padding size */

      var ch = p1 && p1[0] + '' === '0' ? '0' : ' ';
      /* isnull? */

      while (val.length < size) val = p0 !== undefined ? val + ch : ch + val;
      /* isminus? */


      return val;
    }

    var regex = /%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;
    return append.replace(regex, callback);
  };
  /**
   *
   */


  StringUtils.getBytes = function (str, encoding) {
    return StringEncoding.encode(str, encoding);
  };
  /**
   * Returns the charcode at the specified index or at index zero.
   */


  StringUtils.getCharCode = function (str, index) {
    if (index === void 0) {
      index = 0;
    }

    return str.charCodeAt(index);
  };
  /**
   * Returns char for given charcode
   */


  StringUtils.getCharAt = function (charCode) {
    return String.fromCharCode(charCode);
  };

  StringUtils.SHIFT_JIS = CharacterSetECI.SJIS.getName(); // "SJIS"

  StringUtils.GB2312 = 'GB2312';
  StringUtils.ISO88591 = CharacterSetECI.ISO8859_1.getName(); // "ISO8859_1"

  StringUtils.EUC_JP = 'EUC_JP';
  StringUtils.UTF8 = CharacterSetECI.UTF8.getName(); // "UTF8"

  StringUtils.PLATFORM_DEFAULT_ENCODING = StringUtils.UTF8; // "UTF8"//Charset.defaultCharset().name()

  StringUtils.ASSUME_SHIFT_JIS = false;
  return StringUtils;
}();

var StringBuilder =
/** @class */
function () {
  function StringBuilder(value) {
    if (value === void 0) {
      value = '';
    }

    this.value = value;
  }

  StringBuilder.prototype.enableDecoding = function (encoding) {
    this.encoding = encoding;
    return this;
  };

  StringBuilder.prototype.append = function (s) {
    if (typeof s === 'string') {
      this.value += s.toString();
    } else if (this.encoding) {
      // use passed format (fromCharCode will return UTF8 encoding)
      this.value += StringUtils.castAsNonUtf8Char(s, this.encoding);
    } else {
      // correctly converts from UTF-8, but not other encodings
      this.value += String.fromCharCode(s);
    }

    return this;
  };

  StringBuilder.prototype.appendChars = function (str, offset, len) {
    for (var i = offset; offset < offset + len; i++) {
      this.append(str[i]);
    }

    return this;
  };

  StringBuilder.prototype.length = function () {
    return this.value.length;
  };

  StringBuilder.prototype.charAt = function (n) {
    return this.value.charAt(n);
  };

  StringBuilder.prototype.deleteCharAt = function (n) {
    this.value = this.value.substr(0, n) + this.value.substring(n + 1);
  };

  StringBuilder.prototype.setCharAt = function (n, c) {
    this.value = this.value.substr(0, n) + c + this.value.substr(n + 1);
  };

  StringBuilder.prototype.substring = function (start, end) {
    return this.value.substring(start, end);
  };
  /**
   * @note helper method for RSS Expanded
   */


  StringBuilder.prototype.setLengthToZero = function () {
    this.value = '';
  };

  StringBuilder.prototype.toString = function () {
    return this.value;
  };

  StringBuilder.prototype.insert = function (n, c) {
    this.value = this.value.substr(0, n) + c + this.value.substr(n + c.length);
  };

  return StringBuilder;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>Represents a 2D matrix of bits. In function arguments below, and throughout the common
 * module, x is the column position, and y is the row position. The ordering is always x, y.
 * The origin is at the top-left.</p>
 *
 * <p>Internally the bits are represented in a 1-D array of 32-bit ints. However, each row begins
 * with a new int. This is done intentionally so that we can copy out a row into a BitArray very
 * efficiently.</p>
 *
 * <p>The ordering of bits is row-major. Within each int, the least significant bits are used first,
 * meaning they represent lower x values. This is compatible with BitArray's implementation.</p>
 *
 * @author Sean Owen
 * @author dswitkin@google.com (Daniel Switkin)
 */

var BitMatrix
/*implements Cloneable*/
=
/** @class */
function () {
  /**
   * Creates an empty square {@link BitMatrix}.
   *
   * @param dimension height and width
   */
  // public constructor(dimension: number /*int*/) {
  //   this(dimension, dimension)
  // }

  /**
   * Creates an empty {@link BitMatrix}.
   *
   * @param width bit matrix width
   * @param height bit matrix height
   */
  // public constructor(width: number /*int*/, height: number /*int*/) {
  //   if (width < 1 || height < 1) {
  //     throw new IllegalArgumentException("Both dimensions must be greater than 0")
  //   }
  //   this.width = width
  //   this.height = height
  //   this.rowSize = (width + 31) / 32
  //   bits = new int[rowSize * height];
  // }
  function BitMatrix(width
  /*int*/
  , height
  /*int*/
  , rowSize
  /*int*/
  , bits) {
    this.width = width;
    this.height = height;
    this.rowSize = rowSize;
    this.bits = bits;

    if (undefined === height || null === height) {
      height = width;
    }

    this.height = height;

    if (width < 1 || height < 1) {
      throw new IllegalArgumentException('Both dimensions must be greater than 0');
    }

    if (undefined === rowSize || null === rowSize) {
      rowSize = Math.floor((width + 31) / 32);
    }

    this.rowSize = rowSize;

    if (undefined === bits || null === bits) {
      this.bits = new Int32Array(this.rowSize * this.height);
    }
  }
  /**
   * Interprets a 2D array of booleans as a {@link BitMatrix}, where "true" means an "on" bit.
   *
   * @function parse
   * @param image bits of the image, as a row-major 2D array. Elements are arrays representing rows
   * @return {@link BitMatrix} representation of image
   */


  BitMatrix.parseFromBooleanArray = function (image) {
    var height = image.length;
    var width = image[0].length;
    var bits = new BitMatrix(width, height);

    for (var i = 0; i < height; i++) {
      var imageI = image[i];

      for (var j = 0; j < width; j++) {
        if (imageI[j]) {
          bits.set(j, i);
        }
      }
    }

    return bits;
  };
  /**
   *
   * @function parse
   * @param stringRepresentation
   * @param setString
   * @param unsetString
   */


  BitMatrix.parseFromString = function (stringRepresentation, setString, unsetString) {
    if (stringRepresentation === null) {
      throw new IllegalArgumentException('stringRepresentation cannot be null');
    }

    var bits = new Array(stringRepresentation.length);
    var bitsPos = 0;
    var rowStartPos = 0;
    var rowLength = -1;
    var nRows = 0;
    var pos = 0;

    while (pos < stringRepresentation.length) {
      if (stringRepresentation.charAt(pos) === '\n' || stringRepresentation.charAt(pos) === '\r') {
        if (bitsPos > rowStartPos) {
          if (rowLength === -1) {
            rowLength = bitsPos - rowStartPos;
          } else if (bitsPos - rowStartPos !== rowLength) {
            throw new IllegalArgumentException('row lengths do not match');
          }

          rowStartPos = bitsPos;
          nRows++;
        }

        pos++;
      } else if (stringRepresentation.substring(pos, pos + setString.length) === setString) {
        pos += setString.length;
        bits[bitsPos] = true;
        bitsPos++;
      } else if (stringRepresentation.substring(pos, pos + unsetString.length) === unsetString) {
        pos += unsetString.length;
        bits[bitsPos] = false;
        bitsPos++;
      } else {
        throw new IllegalArgumentException('illegal character encountered: ' + stringRepresentation.substring(pos));
      }
    } // no EOL at end?


    if (bitsPos > rowStartPos) {
      if (rowLength === -1) {
        rowLength = bitsPos - rowStartPos;
      } else if (bitsPos - rowStartPos !== rowLength) {
        throw new IllegalArgumentException('row lengths do not match');
      }

      nRows++;
    }

    var matrix = new BitMatrix(rowLength, nRows);

    for (var i = 0; i < bitsPos; i++) {
      if (bits[i]) {
        matrix.set(Math.floor(i % rowLength), Math.floor(i / rowLength));
      }
    }

    return matrix;
  };
  /**
   * <p>Gets the requested bit, where true means black.</p>
   *
   * @param x The horizontal component (i.e. which column)
   * @param y The vertical component (i.e. which row)
   * @return value of given bit in matrix
   */


  BitMatrix.prototype.get = function (x
  /*int*/
  , y
  /*int*/
  ) {
    var offset = y * this.rowSize + Math.floor(x / 32);
    return (this.bits[offset] >>> (x & 0x1f) & 1) !== 0;
  };
  /**
   * <p>Sets the given bit to true.</p>
   *
   * @param x The horizontal component (i.e. which column)
   * @param y The vertical component (i.e. which row)
   */


  BitMatrix.prototype.set = function (x
  /*int*/
  , y
  /*int*/
  ) {
    var offset = y * this.rowSize + Math.floor(x / 32);
    this.bits[offset] |= 1 << (x & 0x1f) & 0xFFFFFFFF;
  };

  BitMatrix.prototype.unset = function (x
  /*int*/
  , y
  /*int*/
  ) {
    var offset = y * this.rowSize + Math.floor(x / 32);
    this.bits[offset] &= ~(1 << (x & 0x1f) & 0xFFFFFFFF);
  };
  /**
   * <p>Flips the given bit.</p>
   *
   * @param x The horizontal component (i.e. which column)
   * @param y The vertical component (i.e. which row)
   */


  BitMatrix.prototype.flip = function (x
  /*int*/
  , y
  /*int*/
  ) {
    var offset = y * this.rowSize + Math.floor(x / 32);
    this.bits[offset] ^= 1 << (x & 0x1f) & 0xFFFFFFFF;
  };
  /**
   * Exclusive-or (XOR): Flip the bit in this {@code BitMatrix} if the corresponding
   * mask bit is set.
   *
   * @param mask XOR mask
   */


  BitMatrix.prototype.xor = function (mask) {
    if (this.width !== mask.getWidth() || this.height !== mask.getHeight() || this.rowSize !== mask.getRowSize()) {
      throw new IllegalArgumentException('input matrix dimensions do not match');
    }

    var rowArray = new BitArray(Math.floor(this.width / 32) + 1);
    var rowSize = this.rowSize;
    var bits = this.bits;

    for (var y = 0, height = this.height; y < height; y++) {
      var offset = y * rowSize;
      var row = mask.getRow(y, rowArray).getBitArray();

      for (var x = 0; x < rowSize; x++) {
        bits[offset + x] ^= row[x];
      }
    }
  };
  /**
   * Clears all bits (sets to false).
   */


  BitMatrix.prototype.clear = function () {
    var bits = this.bits;
    var max = bits.length;

    for (var i = 0; i < max; i++) {
      bits[i] = 0;
    }
  };
  /**
   * <p>Sets a square region of the bit matrix to true.</p>
   *
   * @param left The horizontal position to begin at (inclusive)
   * @param top The vertical position to begin at (inclusive)
   * @param width The width of the region
   * @param height The height of the region
   */


  BitMatrix.prototype.setRegion = function (left
  /*int*/
  , top
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  ) {
    if (top < 0 || left < 0) {
      throw new IllegalArgumentException('Left and top must be nonnegative');
    }

    if (height < 1 || width < 1) {
      throw new IllegalArgumentException('Height and width must be at least 1');
    }

    var right = left + width;
    var bottom = top + height;

    if (bottom > this.height || right > this.width) {
      throw new IllegalArgumentException('The region must fit inside the matrix');
    }

    var rowSize = this.rowSize;
    var bits = this.bits;

    for (var y = top; y < bottom; y++) {
      var offset = y * rowSize;

      for (var x = left; x < right; x++) {
        bits[offset + Math.floor(x / 32)] |= 1 << (x & 0x1f) & 0xFFFFFFFF;
      }
    }
  };
  /**
   * A fast method to retrieve one row of data from the matrix as a BitArray.
   *
   * @param y The row to retrieve
   * @param row An optional caller-allocated BitArray, will be allocated if null or too small
   * @return The resulting BitArray - this reference should always be used even when passing
   *         your own row
   */


  BitMatrix.prototype.getRow = function (y
  /*int*/
  , row) {
    if (row === null || row === undefined || row.getSize() < this.width) {
      row = new BitArray(this.width);
    } else {
      row.clear();
    }

    var rowSize = this.rowSize;
    var bits = this.bits;
    var offset = y * rowSize;

    for (var x = 0; x < rowSize; x++) {
      row.setBulk(x * 32, bits[offset + x]);
    }

    return row;
  };
  /**
   * @param y row to set
   * @param row {@link BitArray} to copy from
   */


  BitMatrix.prototype.setRow = function (y
  /*int*/
  , row) {
    System.arraycopy(row.getBitArray(), 0, this.bits, y * this.rowSize, this.rowSize);
  };
  /**
   * Modifies this {@code BitMatrix} to represent the same but rotated 180 degrees
   */


  BitMatrix.prototype.rotate180 = function () {
    var width = this.getWidth();
    var height = this.getHeight();
    var topRow = new BitArray(width);
    var bottomRow = new BitArray(width);

    for (var i = 0, length_1 = Math.floor((height + 1) / 2); i < length_1; i++) {
      topRow = this.getRow(i, topRow);
      bottomRow = this.getRow(height - 1 - i, bottomRow);
      topRow.reverse();
      bottomRow.reverse();
      this.setRow(i, bottomRow);
      this.setRow(height - 1 - i, topRow);
    }
  };
  /**
   * This is useful in detecting the enclosing rectangle of a 'pure' barcode.
   *
   * @return {@code left,top,width,height} enclosing rectangle of all 1 bits, or null if it is all white
   */


  BitMatrix.prototype.getEnclosingRectangle = function () {
    var width = this.width;
    var height = this.height;
    var rowSize = this.rowSize;
    var bits = this.bits;
    var left = width;
    var top = height;
    var right = -1;
    var bottom = -1;

    for (var y = 0; y < height; y++) {
      for (var x32 = 0; x32 < rowSize; x32++) {
        var theBits = bits[y * rowSize + x32];

        if (theBits !== 0) {
          if (y < top) {
            top = y;
          }

          if (y > bottom) {
            bottom = y;
          }

          if (x32 * 32 < left) {
            var bit = 0;

            while ((theBits << 31 - bit & 0xFFFFFFFF) === 0) {
              bit++;
            }

            if (x32 * 32 + bit < left) {
              left = x32 * 32 + bit;
            }
          }

          if (x32 * 32 + 31 > right) {
            var bit = 31;

            while (theBits >>> bit === 0) {
              bit--;
            }

            if (x32 * 32 + bit > right) {
              right = x32 * 32 + bit;
            }
          }
        }
      }
    }

    if (right < left || bottom < top) {
      return null;
    }

    return Int32Array.from([left, top, right - left + 1, bottom - top + 1]);
  };
  /**
   * This is useful in detecting a corner of a 'pure' barcode.
   *
   * @return {@code x,y} coordinate of top-left-most 1 bit, or null if it is all white
   */


  BitMatrix.prototype.getTopLeftOnBit = function () {
    var rowSize = this.rowSize;
    var bits = this.bits;
    var bitsOffset = 0;

    while (bitsOffset < bits.length && bits[bitsOffset] === 0) {
      bitsOffset++;
    }

    if (bitsOffset === bits.length) {
      return null;
    }

    var y = bitsOffset / rowSize;
    var x = bitsOffset % rowSize * 32;
    var theBits = bits[bitsOffset];
    var bit = 0;

    while ((theBits << 31 - bit & 0xFFFFFFFF) === 0) {
      bit++;
    }

    x += bit;
    return Int32Array.from([x, y]);
  };

  BitMatrix.prototype.getBottomRightOnBit = function () {
    var rowSize = this.rowSize;
    var bits = this.bits;
    var bitsOffset = bits.length - 1;

    while (bitsOffset >= 0 && bits[bitsOffset] === 0) {
      bitsOffset--;
    }

    if (bitsOffset < 0) {
      return null;
    }

    var y = Math.floor(bitsOffset / rowSize);
    var x = Math.floor(bitsOffset % rowSize) * 32;
    var theBits = bits[bitsOffset];
    var bit = 31;

    while (theBits >>> bit === 0) {
      bit--;
    }

    x += bit;
    return Int32Array.from([x, y]);
  };
  /**
   * @return The width of the matrix
   */


  BitMatrix.prototype.getWidth = function () {
    return this.width;
  };
  /**
   * @return The height of the matrix
   */


  BitMatrix.prototype.getHeight = function () {
    return this.height;
  };
  /**
   * @return The row size of the matrix
   */


  BitMatrix.prototype.getRowSize = function () {
    return this.rowSize;
  };
  /*@Override*/


  BitMatrix.prototype.equals = function (o) {
    if (!(o instanceof BitMatrix)) {
      return false;
    }

    var other = o;
    return this.width === other.width && this.height === other.height && this.rowSize === other.rowSize && Arrays.equals(this.bits, other.bits);
  };
  /*@Override*/


  BitMatrix.prototype.hashCode = function () {
    var hash = this.width;
    hash = 31 * hash + this.width;
    hash = 31 * hash + this.height;
    hash = 31 * hash + this.rowSize;
    hash = 31 * hash + Arrays.hashCode(this.bits);
    return hash;
  };
  /**
   * @return string representation using "X" for set and " " for unset bits
   */

  /*@Override*/
  // public toString(): string {
  //   return toString(": "X, "  ")
  // }

  /**
   * @param setString representation of a set bit
   * @param unsetString representation of an unset bit
   * @return string representation of entire matrix utilizing given strings
   */
  // public toString(setString: string = "X ", unsetString: string = "  "): string {
  //   return this.buildToString(setString, unsetString, "\n")
  // }

  /**
   * @param setString representation of a set bit
   * @param unsetString representation of an unset bit
   * @param lineSeparator newline character in string representation
   * @return string representation of entire matrix utilizing given strings and line separator
   * @deprecated call {@link #toString(String,String)} only, which uses \n line separator always
   */
  // @Deprecated


  BitMatrix.prototype.toString = function (setString, unsetString, lineSeparator) {
    if (setString === void 0) {
      setString = 'X ';
    }

    if (unsetString === void 0) {
      unsetString = '  ';
    }

    if (lineSeparator === void 0) {
      lineSeparator = '\n';
    }

    return this.buildToString(setString, unsetString, lineSeparator);
  };

  BitMatrix.prototype.buildToString = function (setString, unsetString, lineSeparator) {
    var result = new StringBuilder(); // result.append(lineSeparator);

    for (var y = 0, height = this.height; y < height; y++) {
      for (var x = 0, width = this.width; x < width; x++) {
        result.append(this.get(x, y) ? setString : unsetString);
      }

      result.append(lineSeparator);
    }

    return result.toString();
  };
  /*@Override*/


  BitMatrix.prototype.clone = function () {
    return new BitMatrix(this.width, this.height, this.rowSize, this.bits.slice());
  };

  return BitMatrix;
}();

var __extends$W = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var NotFoundException =
/** @class */
function (_super) {
  __extends$W(NotFoundException, _super);

  function NotFoundException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  NotFoundException.getNotFoundInstance = function () {
    return new NotFoundException();
  };

  NotFoundException.kind = 'NotFoundException';
  return NotFoundException;
}(Exception);

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$V = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * This Binarizer implementation uses the old ZXing global histogram approach. It is suitable
 * for low-end mobile devices which don't have enough CPU or memory to use a local thresholding
 * algorithm. However, because it picks a global black point, it cannot handle difficult shadows
 * and gradients.
 *
 * Faster mobile devices and all desktop applications should probably use HybridBinarizer instead.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 * @author Sean Owen
 */

var GlobalHistogramBinarizer =
/** @class */
function (_super) {
  __extends$V(GlobalHistogramBinarizer, _super);

  function GlobalHistogramBinarizer(source) {
    var _this = _super.call(this, source) || this;

    _this.luminances = GlobalHistogramBinarizer.EMPTY;
    _this.buckets = new Int32Array(GlobalHistogramBinarizer.LUMINANCE_BUCKETS);
    return _this;
  } // Applies simple sharpening to the row data to improve performance of the 1D Readers.

  /*@Override*/


  GlobalHistogramBinarizer.prototype.getBlackRow = function (y
  /*int*/
  , row) {
    var source = this.getLuminanceSource();
    var width = source.getWidth();

    if (row === undefined || row === null || row.getSize() < width) {
      row = new BitArray(width);
    } else {
      row.clear();
    }

    this.initArrays(width);
    var localLuminances = source.getRow(y, this.luminances);
    var localBuckets = this.buckets;

    for (var x = 0; x < width; x++) {
      localBuckets[(localLuminances[x] & 0xff) >> GlobalHistogramBinarizer.LUMINANCE_SHIFT]++;
    }

    var blackPoint = GlobalHistogramBinarizer.estimateBlackPoint(localBuckets);

    if (width < 3) {
      // Special case for very small images
      for (var x = 0; x < width; x++) {
        if ((localLuminances[x] & 0xff) < blackPoint) {
          row.set(x);
        }
      }
    } else {
      var left = localLuminances[0] & 0xff;
      var center = localLuminances[1] & 0xff;

      for (var x = 1; x < width - 1; x++) {
        var right = localLuminances[x + 1] & 0xff; // A simple -1 4 -1 box filter with a weight of 2.

        if ((center * 4 - left - right) / 2 < blackPoint) {
          row.set(x);
        }

        left = center;
        center = right;
      }
    }

    return row;
  }; // Does not sharpen the data, as this call is intended to only be used by 2D Readers.

  /*@Override*/


  GlobalHistogramBinarizer.prototype.getBlackMatrix = function () {
    var source = this.getLuminanceSource();
    var width = source.getWidth();
    var height = source.getHeight();
    var matrix = new BitMatrix(width, height); // Quickly calculates the histogram by sampling four rows from the image. This proved to be
    // more robust on the blackbox tests than sampling a diagonal as we used to do.

    this.initArrays(width);
    var localBuckets = this.buckets;

    for (var y = 1; y < 5; y++) {
      var row = Math.floor(height * y / 5);
      var localLuminances_1 = source.getRow(row, this.luminances);
      var right = Math.floor(width * 4 / 5);

      for (var x = Math.floor(width / 5); x < right; x++) {
        var pixel = localLuminances_1[x] & 0xff;
        localBuckets[pixel >> GlobalHistogramBinarizer.LUMINANCE_SHIFT]++;
      }
    }

    var blackPoint = GlobalHistogramBinarizer.estimateBlackPoint(localBuckets); // We delay reading the entire image luminance until the black point estimation succeeds.
    // Although we end up reading four rows twice, it is consistent with our motto of
    // "fail quickly" which is necessary for continuous scanning.

    var localLuminances = source.getMatrix();

    for (var y = 0; y < height; y++) {
      var offset = y * width;

      for (var x = 0; x < width; x++) {
        var pixel = localLuminances[offset + x] & 0xff;

        if (pixel < blackPoint) {
          matrix.set(x, y);
        }
      }
    }

    return matrix;
  };
  /*@Override*/


  GlobalHistogramBinarizer.prototype.createBinarizer = function (source) {
    return new GlobalHistogramBinarizer(source);
  };

  GlobalHistogramBinarizer.prototype.initArrays = function (luminanceSize
  /*int*/
  ) {
    if (this.luminances.length < luminanceSize) {
      this.luminances = new Uint8ClampedArray(luminanceSize);
    }

    var buckets = this.buckets;

    for (var x = 0; x < GlobalHistogramBinarizer.LUMINANCE_BUCKETS; x++) {
      buckets[x] = 0;
    }
  };

  GlobalHistogramBinarizer.estimateBlackPoint = function (buckets) {
    // Find the tallest peak in the histogram.
    var numBuckets = buckets.length;
    var maxBucketCount = 0;
    var firstPeak = 0;
    var firstPeakSize = 0;

    for (var x = 0; x < numBuckets; x++) {
      if (buckets[x] > firstPeakSize) {
        firstPeak = x;
        firstPeakSize = buckets[x];
      }

      if (buckets[x] > maxBucketCount) {
        maxBucketCount = buckets[x];
      }
    } // Find the second-tallest peak which is somewhat far from the tallest peak.


    var secondPeak = 0;
    var secondPeakScore = 0;

    for (var x = 0; x < numBuckets; x++) {
      var distanceToBiggest = x - firstPeak; // Encourage more distant second peaks by multiplying by square of distance.

      var score = buckets[x] * distanceToBiggest * distanceToBiggest;

      if (score > secondPeakScore) {
        secondPeak = x;
        secondPeakScore = score;
      }
    } // Make sure firstPeak corresponds to the black peak.


    if (firstPeak > secondPeak) {
      var temp = firstPeak;
      firstPeak = secondPeak;
      secondPeak = temp;
    } // If there is too little contrast in the image to pick a meaningful black point, throw rather
    // than waste time trying to decode the image, and risk false positives.


    if (secondPeak - firstPeak <= numBuckets / 16) {
      throw new NotFoundException();
    } // Find a valley between them that is low and closer to the white peak.


    var bestValley = secondPeak - 1;
    var bestValleyScore = -1;

    for (var x = secondPeak - 1; x > firstPeak; x--) {
      var fromFirst = x - firstPeak;
      var score = fromFirst * fromFirst * (secondPeak - x) * (maxBucketCount - buckets[x]);

      if (score > bestValleyScore) {
        bestValley = x;
        bestValleyScore = score;
      }
    }

    return bestValley << GlobalHistogramBinarizer.LUMINANCE_SHIFT;
  };

  GlobalHistogramBinarizer.LUMINANCE_BITS = 5;
  GlobalHistogramBinarizer.LUMINANCE_SHIFT = 8 - GlobalHistogramBinarizer.LUMINANCE_BITS;
  GlobalHistogramBinarizer.LUMINANCE_BUCKETS = 1 << GlobalHistogramBinarizer.LUMINANCE_BITS;
  GlobalHistogramBinarizer.EMPTY = Uint8ClampedArray.from([0]);
  return GlobalHistogramBinarizer;
}(Binarizer);

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$U = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * This class implements a local thresholding algorithm, which while slower than the
 * GlobalHistogramBinarizer, is fairly efficient for what it does. It is designed for
 * high frequency images of barcodes with black data on white backgrounds. For this application,
 * it does a much better job than a global blackpoint with severe shadows and gradients.
 * However it tends to produce artifacts on lower frequency images and is therefore not
 * a good general purpose binarizer for uses outside ZXing.
 *
 * This class extends GlobalHistogramBinarizer, using the older histogram approach for 1D readers,
 * and the newer local approach for 2D readers. 1D decoding using a per-row histogram is already
 * inherently local, and only fails for horizontal gradients. We can revisit that problem later,
 * but for now it was not a win to use local blocks for 1D.
 *
 * This Binarizer is the default for the unit tests and the recommended class for library users.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 */

var HybridBinarizer =
/** @class */
function (_super) {
  __extends$U(HybridBinarizer, _super);

  function HybridBinarizer(source) {
    var _this = _super.call(this, source) || this;

    _this.matrix = null;
    return _this;
  }
  /**
   * Calculates the final BitMatrix once for all requests. This could be called once from the
   * constructor instead, but there are some advantages to doing it lazily, such as making
   * profiling easier, and not doing heavy lifting when callers don't expect it.
   */

  /*@Override*/


  HybridBinarizer.prototype.getBlackMatrix = function () {
    if (this.matrix !== null) {
      return this.matrix;
    }

    var source = this.getLuminanceSource();
    var width = source.getWidth();
    var height = source.getHeight();

    if (width >= HybridBinarizer.MINIMUM_DIMENSION && height >= HybridBinarizer.MINIMUM_DIMENSION) {
      var luminances = source.getMatrix();
      var subWidth = width >> HybridBinarizer.BLOCK_SIZE_POWER;

      if ((width & HybridBinarizer.BLOCK_SIZE_MASK) !== 0) {
        subWidth++;
      }

      var subHeight = height >> HybridBinarizer.BLOCK_SIZE_POWER;

      if ((height & HybridBinarizer.BLOCK_SIZE_MASK) !== 0) {
        subHeight++;
      }

      var blackPoints = HybridBinarizer.calculateBlackPoints(luminances, subWidth, subHeight, width, height);
      var newMatrix = new BitMatrix(width, height);
      HybridBinarizer.calculateThresholdForBlock(luminances, subWidth, subHeight, width, height, blackPoints, newMatrix);
      this.matrix = newMatrix;
    } else {
      // If the image is too small, fall back to the global histogram approach.
      this.matrix = _super.prototype.getBlackMatrix.call(this);
    }

    return this.matrix;
  };
  /*@Override*/


  HybridBinarizer.prototype.createBinarizer = function (source) {
    return new HybridBinarizer(source);
  };
  /**
   * For each block in the image, calculate the average black point using a 5x5 grid
   * of the blocks around it. Also handles the corner cases (fractional blocks are computed based
   * on the last pixels in the row/column which are also used in the previous block).
   */


  HybridBinarizer.calculateThresholdForBlock = function (luminances, subWidth
  /*int*/
  , subHeight
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  , blackPoints, matrix) {
    var maxYOffset = height - HybridBinarizer.BLOCK_SIZE;
    var maxXOffset = width - HybridBinarizer.BLOCK_SIZE;

    for (var y = 0; y < subHeight; y++) {
      var yoffset = y << HybridBinarizer.BLOCK_SIZE_POWER;

      if (yoffset > maxYOffset) {
        yoffset = maxYOffset;
      }

      var top_1 = HybridBinarizer.cap(y, 2, subHeight - 3);

      for (var x = 0; x < subWidth; x++) {
        var xoffset = x << HybridBinarizer.BLOCK_SIZE_POWER;

        if (xoffset > maxXOffset) {
          xoffset = maxXOffset;
        }

        var left = HybridBinarizer.cap(x, 2, subWidth - 3);
        var sum = 0;

        for (var z = -2; z <= 2; z++) {
          var blackRow = blackPoints[top_1 + z];
          sum += blackRow[left - 2] + blackRow[left - 1] + blackRow[left] + blackRow[left + 1] + blackRow[left + 2];
        }

        var average = sum / 25;
        HybridBinarizer.thresholdBlock(luminances, xoffset, yoffset, average, width, matrix);
      }
    }
  };

  HybridBinarizer.cap = function (value
  /*int*/
  , min
  /*int*/
  , max
  /*int*/
  ) {
    return value < min ? min : value > max ? max : value;
  };
  /**
   * Applies a single threshold to a block of pixels.
   */


  HybridBinarizer.thresholdBlock = function (luminances, xoffset
  /*int*/
  , yoffset
  /*int*/
  , threshold
  /*int*/
  , stride
  /*int*/
  , matrix) {
    for (var y = 0, offset = yoffset * stride + xoffset; y < HybridBinarizer.BLOCK_SIZE; y++, offset += stride) {
      for (var x = 0; x < HybridBinarizer.BLOCK_SIZE; x++) {
        // Comparison needs to be <= so that black == 0 pixels are black even if the threshold is 0.
        if ((luminances[offset + x] & 0xFF) <= threshold) {
          matrix.set(xoffset + x, yoffset + y);
        }
      }
    }
  };
  /**
   * Calculates a single black point for each block of pixels and saves it away.
   * See the following thread for a discussion of this algorithm:
   *  http://groups.google.com/group/zxing/browse_thread/thread/d06efa2c35a7ddc0
   */


  HybridBinarizer.calculateBlackPoints = function (luminances, subWidth
  /*int*/
  , subHeight
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  ) {
    var maxYOffset = height - HybridBinarizer.BLOCK_SIZE;
    var maxXOffset = width - HybridBinarizer.BLOCK_SIZE; // tslint:disable-next-line:whitespace

    var blackPoints = new Array(subHeight); // subWidth

    for (var y = 0; y < subHeight; y++) {
      blackPoints[y] = new Int32Array(subWidth);
      var yoffset = y << HybridBinarizer.BLOCK_SIZE_POWER;

      if (yoffset > maxYOffset) {
        yoffset = maxYOffset;
      }

      for (var x = 0; x < subWidth; x++) {
        var xoffset = x << HybridBinarizer.BLOCK_SIZE_POWER;

        if (xoffset > maxXOffset) {
          xoffset = maxXOffset;
        }

        var sum = 0;
        var min = 0xFF;
        var max = 0;

        for (var yy = 0, offset = yoffset * width + xoffset; yy < HybridBinarizer.BLOCK_SIZE; yy++, offset += width) {
          for (var xx = 0; xx < HybridBinarizer.BLOCK_SIZE; xx++) {
            var pixel = luminances[offset + xx] & 0xFF;
            sum += pixel; // still looking for good contrast

            if (pixel < min) {
              min = pixel;
            }

            if (pixel > max) {
              max = pixel;
            }
          } // short-circuit min/max tests once dynamic range is met


          if (max - min > HybridBinarizer.MIN_DYNAMIC_RANGE) {
            // finish the rest of the rows quickly
            for (yy++, offset += width; yy < HybridBinarizer.BLOCK_SIZE; yy++, offset += width) {
              for (var xx = 0; xx < HybridBinarizer.BLOCK_SIZE; xx++) {
                sum += luminances[offset + xx] & 0xFF;
              }
            }
          }
        } // The default estimate is the average of the values in the block.


        var average = sum >> HybridBinarizer.BLOCK_SIZE_POWER * 2;

        if (max - min <= HybridBinarizer.MIN_DYNAMIC_RANGE) {
          // If variation within the block is low, assume this is a block with only light or only
          // dark pixels. In that case we do not want to use the average, as it would divide this
          // low contrast area into black and white pixels, essentially creating data out of noise.
          //
          // The default assumption is that the block is light/background. Since no estimate for
          // the level of dark pixels exists locally, use half the min for the block.
          average = min / 2;

          if (y > 0 && x > 0) {
            // Correct the "white background" assumption for blocks that have neighbors by comparing
            // the pixels in this block to the previously calculated black points. This is based on
            // the fact that dark barcode symbology is always surrounded by some amount of light
            // background for which reasonable black point estimates were made. The bp estimated at
            // the boundaries is used for the interior.
            // The (min < bp) is arbitrary but works better than other heuristics that were tried.
            var averageNeighborBlackPoint = (blackPoints[y - 1][x] + 2 * blackPoints[y][x - 1] + blackPoints[y - 1][x - 1]) / 4;

            if (min < averageNeighborBlackPoint) {
              average = averageNeighborBlackPoint;
            }
          }
        }

        blackPoints[y][x] = average;
      }
    }

    return blackPoints;
  }; // This class uses 5x5 blocks to compute local luminance, where each block is 8x8 pixels.
  // So this is the smallest dimension in each axis we can accept.


  HybridBinarizer.BLOCK_SIZE_POWER = 3;
  HybridBinarizer.BLOCK_SIZE = 1 << HybridBinarizer.BLOCK_SIZE_POWER; // ...0100...00

  HybridBinarizer.BLOCK_SIZE_MASK = HybridBinarizer.BLOCK_SIZE - 1; // ...0011...11

  HybridBinarizer.MINIMUM_DIMENSION = HybridBinarizer.BLOCK_SIZE * 5;
  HybridBinarizer.MIN_DYNAMIC_RANGE = 24;
  return HybridBinarizer;
}(GlobalHistogramBinarizer);

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*namespace com.google.zxing {*/

/**
 * The purpose of this class hierarchy is to abstract different bitmap implementations across
 * platforms into a standard interface for requesting greyscale luminance values. The interface
 * only provides immutable methods; therefore crop and rotation create copies. This is to ensure
 * that one Reader does not modify the original luminance source and leave it in an unknown state
 * for other Readers in the chain.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 */

var LuminanceSource =
/** @class */
function () {
  function LuminanceSource(width
  /*int*/
  , height
  /*int*/
  ) {
    this.width = width;
    this.height = height;
  }
  /**
   * @return The width of the bitmap.
   */


  LuminanceSource.prototype.getWidth = function () {
    return this.width;
  };
  /**
   * @return The height of the bitmap.
   */


  LuminanceSource.prototype.getHeight = function () {
    return this.height;
  };
  /**
   * @return Whether this subclass supports cropping.
   */


  LuminanceSource.prototype.isCropSupported = function () {
    return false;
  };
  /**
   * Returns a new object with cropped image data. Implementations may keep a reference to the
   * original data rather than a copy. Only callable if isCropSupported() is true.
   *
   * @param left The left coordinate, which must be in [0,getWidth())
   * @param top The top coordinate, which must be in [0,getHeight())
   * @param width The width of the rectangle to crop.
   * @param height The height of the rectangle to crop.
   * @return A cropped version of this object.
   */


  LuminanceSource.prototype.crop = function (left
  /*int*/
  , top
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  ) {
    throw new UnsupportedOperationException('This luminance source does not support cropping.');
  };
  /**
   * @return Whether this subclass supports counter-clockwise rotation.
   */


  LuminanceSource.prototype.isRotateSupported = function () {
    return false;
  };
  /**
   * Returns a new object with rotated image data by 90 degrees counterclockwise.
   * Only callable if {@link #isRotateSupported()} is true.
   *
   * @return A rotated version of this object.
   */


  LuminanceSource.prototype.rotateCounterClockwise = function () {
    throw new UnsupportedOperationException('This luminance source does not support rotation by 90 degrees.');
  };
  /**
   * Returns a new object with rotated image data by 45 degrees counterclockwise.
   * Only callable if {@link #isRotateSupported()} is true.
   *
   * @return A rotated version of this object.
   */


  LuminanceSource.prototype.rotateCounterClockwise45 = function () {
    throw new UnsupportedOperationException('This luminance source does not support rotation by 45 degrees.');
  };
  /*@Override*/


  LuminanceSource.prototype.toString = function () {
    var row = new Uint8ClampedArray(this.width);
    var result = new StringBuilder();

    for (var y = 0; y < this.height; y++) {
      var sourceRow = this.getRow(y, row);

      for (var x = 0; x < this.width; x++) {
        var luminance = sourceRow[x] & 0xFF;
        var c = void 0;

        if (luminance < 0x40) {
          c = '#';
        } else if (luminance < 0x80) {
          c = '+';
        } else if (luminance < 0xC0) {
          c = '.';
        } else {
          c = ' ';
        }

        result.append(c);
      }

      result.append('\n');
    }

    return result.toString();
  };

  return LuminanceSource;
}();

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$T = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/*namespace com.google.zxing {*/

/**
 * A wrapper implementation of {@link LuminanceSource} which inverts the luminances it returns -- black becomes
 * white and vice versa, and each value becomes (255-value).
 *
 * @author Sean Owen
 */

var InvertedLuminanceSource =
/** @class */
function (_super) {
  __extends$T(InvertedLuminanceSource, _super);

  function InvertedLuminanceSource(delegate) {
    var _this = _super.call(this, delegate.getWidth(), delegate.getHeight()) || this;

    _this.delegate = delegate;
    return _this;
  }
  /*@Override*/


  InvertedLuminanceSource.prototype.getRow = function (y
  /*int*/
  , row) {
    var sourceRow = this.delegate.getRow(y, row);
    var width = this.getWidth();

    for (var i = 0; i < width; i++) {
      sourceRow[i] =
      /*(byte)*/
      255 - (sourceRow[i] & 0xFF);
    }

    return sourceRow;
  };
  /*@Override*/


  InvertedLuminanceSource.prototype.getMatrix = function () {
    var matrix = this.delegate.getMatrix();
    var length = this.getWidth() * this.getHeight();
    var invertedMatrix = new Uint8ClampedArray(length);

    for (var i = 0; i < length; i++) {
      invertedMatrix[i] =
      /*(byte)*/
      255 - (matrix[i] & 0xFF);
    }

    return invertedMatrix;
  };
  /*@Override*/


  InvertedLuminanceSource.prototype.isCropSupported = function () {
    return this.delegate.isCropSupported();
  };
  /*@Override*/


  InvertedLuminanceSource.prototype.crop = function (left
  /*int*/
  , top
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  ) {
    return new InvertedLuminanceSource(this.delegate.crop(left, top, width, height));
  };
  /*@Override*/


  InvertedLuminanceSource.prototype.isRotateSupported = function () {
    return this.delegate.isRotateSupported();
  };
  /**
   * @return original delegate {@link LuminanceSource} since invert undoes itself
   */

  /*@Override*/


  InvertedLuminanceSource.prototype.invert = function () {
    return this.delegate;
  };
  /*@Override*/


  InvertedLuminanceSource.prototype.rotateCounterClockwise = function () {
    return new InvertedLuminanceSource(this.delegate.rotateCounterClockwise());
  };
  /*@Override*/


  InvertedLuminanceSource.prototype.rotateCounterClockwise45 = function () {
    return new InvertedLuminanceSource(this.delegate.rotateCounterClockwise45());
  };

  return InvertedLuminanceSource;
}(LuminanceSource);

var __extends$S = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * @deprecated Moving to @zxing/browser
 */

var HTMLCanvasElementLuminanceSource =
/** @class */
function (_super) {
  __extends$S(HTMLCanvasElementLuminanceSource, _super);

  function HTMLCanvasElementLuminanceSource(canvas) {
    var _this = _super.call(this, canvas.width, canvas.height) || this;

    _this.canvas = canvas;
    _this.tempCanvasElement = null;
    _this.buffer = HTMLCanvasElementLuminanceSource.makeBufferFromCanvasImageData(canvas);
    return _this;
  }

  HTMLCanvasElementLuminanceSource.makeBufferFromCanvasImageData = function (canvas) {
    var imageData = canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height);
    return HTMLCanvasElementLuminanceSource.toGrayscaleBuffer(imageData.data, canvas.width, canvas.height);
  };

  HTMLCanvasElementLuminanceSource.toGrayscaleBuffer = function (imageBuffer, width, height) {
    var grayscaleBuffer = new Uint8ClampedArray(width * height);

    for (var i = 0, j = 0, length_1 = imageBuffer.length; i < length_1; i += 4, j++) {
      var gray = void 0;
      var alpha = imageBuffer[i + 3]; // The color of fully-transparent pixels is irrelevant. They are often, technically, fully-transparent
      // black (0 alpha, and then 0 RGB). They are often used, of course as the "white" area in a
      // barcode image. Force any such pixel to be white:

      if (alpha === 0) {
        gray = 0xFF;
      } else {
        var pixelR = imageBuffer[i];
        var pixelG = imageBuffer[i + 1];
        var pixelB = imageBuffer[i + 2]; // .299R + 0.587G + 0.114B (YUV/YIQ for PAL and NTSC),
        // (306*R) >> 10 is approximately equal to R*0.299, and so on.
        // 0x200 >> 10 is 0.5, it implements rounding.

        gray = 306 * pixelR + 601 * pixelG + 117 * pixelB + 0x200 >> 10;
      }

      grayscaleBuffer[j] = gray;
    }

    return grayscaleBuffer;
  };

  HTMLCanvasElementLuminanceSource.prototype.getRow = function (y
  /*int*/
  , row) {
    if (y < 0 || y >= this.getHeight()) {
      throw new IllegalArgumentException('Requested row is outside the image: ' + y);
    }

    var width = this.getWidth();
    var start = y * width;

    if (row === null) {
      row = this.buffer.slice(start, start + width);
    } else {
      if (row.length < width) {
        row = new Uint8ClampedArray(width);
      } // The underlying raster of image consists of bytes with the luminance values
      // TODO: can avoid set/slice?


      row.set(this.buffer.slice(start, start + width));
    }

    return row;
  };

  HTMLCanvasElementLuminanceSource.prototype.getMatrix = function () {
    return this.buffer;
  };

  HTMLCanvasElementLuminanceSource.prototype.isCropSupported = function () {
    return true;
  };

  HTMLCanvasElementLuminanceSource.prototype.crop = function (left
  /*int*/
  , top
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  ) {
    _super.prototype.crop.call(this, left, top, width, height);

    return this;
  };
  /**
   * This is always true, since the image is a gray-scale image.
   *
   * @return true
   */


  HTMLCanvasElementLuminanceSource.prototype.isRotateSupported = function () {
    return true;
  };

  HTMLCanvasElementLuminanceSource.prototype.rotateCounterClockwise = function () {
    this.rotate(-90);
    return this;
  };

  HTMLCanvasElementLuminanceSource.prototype.rotateCounterClockwise45 = function () {
    this.rotate(-45);
    return this;
  };

  HTMLCanvasElementLuminanceSource.prototype.getTempCanvasElement = function () {
    if (null === this.tempCanvasElement) {
      var tempCanvasElement = this.canvas.ownerDocument.createElement('canvas');
      tempCanvasElement.width = this.canvas.width;
      tempCanvasElement.height = this.canvas.height;
      this.tempCanvasElement = tempCanvasElement;
    }

    return this.tempCanvasElement;
  };

  HTMLCanvasElementLuminanceSource.prototype.rotate = function (angle) {
    var tempCanvasElement = this.getTempCanvasElement();
    var tempContext = tempCanvasElement.getContext('2d');
    var angleRadians = angle * HTMLCanvasElementLuminanceSource.DEGREE_TO_RADIANS; // Calculate and set new dimensions for temp canvas

    var width = this.canvas.width;
    var height = this.canvas.height;
    var newWidth = Math.ceil(Math.abs(Math.cos(angleRadians)) * width + Math.abs(Math.sin(angleRadians)) * height);
    var newHeight = Math.ceil(Math.abs(Math.sin(angleRadians)) * width + Math.abs(Math.cos(angleRadians)) * height);
    tempCanvasElement.width = newWidth;
    tempCanvasElement.height = newHeight; // Draw at center of temp canvas to prevent clipping of image data

    tempContext.translate(newWidth / 2, newHeight / 2);
    tempContext.rotate(angleRadians);
    tempContext.drawImage(this.canvas, width / -2, height / -2);
    this.buffer = HTMLCanvasElementLuminanceSource.makeBufferFromCanvasImageData(tempCanvasElement);
    return this;
  };

  HTMLCanvasElementLuminanceSource.prototype.invert = function () {
    return new InvertedLuminanceSource(this);
  };

  HTMLCanvasElementLuminanceSource.DEGREE_TO_RADIANS = Math.PI / 180;
  return HTMLCanvasElementLuminanceSource;
}(LuminanceSource);

/**
 * @deprecated Moving to @zxing/browser
 *
 * Video input device metadata containing the id and label of the device if available.
 */
var VideoInputDevice =
/** @class */
function () {
  /**
   * Creates an instance of VideoInputDevice.
   *
   * @param {string} deviceId the video input device id
   * @param {string} label the label of the device if available
   */
  function VideoInputDevice(deviceId, label, groupId) {
    this.deviceId = deviceId;
    this.label = label;
    /** @inheritdoc */

    this.kind = 'videoinput';
    this.groupId = groupId || undefined;
  }
  /** @inheritdoc */


  VideoInputDevice.prototype.toJSON = function () {
    return {
      kind: this.kind,
      groupId: this.groupId,
      deviceId: this.deviceId,
      label: this.label
    };
  };

  return VideoInputDevice;
}();

var __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }

  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }

    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }

    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }

    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};

var __generator = undefined && undefined.__generator || function (thisArg, body) {
  var _ = {
    label: 0,
    sent: function () {
      if (t[0] & 1) throw t[1];
      return t[1];
    },
    trys: [],
    ops: []
  },
      f,
      y,
      t,
      g;
  return g = {
    next: verb(0),
    "throw": verb(1),
    "return": verb(2)
  }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {
    return this;
  }), g;

  function verb(n) {
    return function (v) {
      return step([n, v]);
    };
  }

  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");

    while (_) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];

      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;

        case 4:
          _.label++;
          return {
            value: op[1],
            done: false
          };

        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;

        case 7:
          op = _.ops.pop();

          _.trys.pop();

          continue;

        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }

          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }

          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }

          if (t && _.label < t[2]) {
            _.label = t[2];

            _.ops.push(op);

            break;
          }

          if (t[2]) _.ops.pop();

          _.trys.pop();

          continue;
      }

      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }

    if (op[0] & 5) throw op[1];
    return {
      value: op[0] ? op[1] : void 0,
      done: true
    };
  }
};

var __values$B = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * @deprecated Moving to @zxing/browser
 *
 * Base class for browser code reader.
 */

var BrowserCodeReader =
/** @class */
function () {
  /**
   * Creates an instance of BrowserCodeReader.
   * @param {Reader} reader The reader instance to decode the barcode
   * @param {number} [timeBetweenScansMillis=500] the time delay between subsequent successful decode tries
   *
   * @memberOf BrowserCodeReader
   */
  function BrowserCodeReader(reader, timeBetweenScansMillis, _hints) {
    if (timeBetweenScansMillis === void 0) {
      timeBetweenScansMillis = 500;
    }

    this.reader = reader;
    this.timeBetweenScansMillis = timeBetweenScansMillis;
    this._hints = _hints;
    /**
     * This will break the loop.
     */

    this._stopContinuousDecode = false;
    /**
     * This will break the loop.
     */

    this._stopAsyncDecode = false;
    /**
     * Delay time between decode attempts made by the scanner.
     */

    this._timeBetweenDecodingAttempts = 0;
  }

  Object.defineProperty(BrowserCodeReader.prototype, "hasNavigator", {
    /**
     * If navigator is present.
     */
    get: function () {
      return typeof navigator !== 'undefined';
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(BrowserCodeReader.prototype, "isMediaDevicesSuported", {
    /**
     * If mediaDevices under navigator is supported.
     */
    get: function () {
      return this.hasNavigator && !!navigator.mediaDevices;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(BrowserCodeReader.prototype, "canEnumerateDevices", {
    /**
     * If enumerateDevices under navigator is supported.
     */
    get: function () {
      return !!(this.isMediaDevicesSuported && navigator.mediaDevices.enumerateDevices);
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(BrowserCodeReader.prototype, "timeBetweenDecodingAttempts", {
    /** Time between two decoding tries in milli seconds. */
    get: function () {
      return this._timeBetweenDecodingAttempts;
    },

    /**
     * Change the time span the decoder waits between two decoding tries.
     *
     * @param {number} millis Time between two decoding tries in milli seconds.
     */
    set: function (millis) {
      this._timeBetweenDecodingAttempts = millis < 0 ? 0 : millis;
    },
    enumerable: false,
    configurable: true
  });
  Object.defineProperty(BrowserCodeReader.prototype, "hints", {
    /**
     * Sets the hints.
     */
    get: function () {
      return this._hints;
    },

    /**
     * Sets the hints.
     */
    set: function (hints) {
      this._hints = hints || null;
    },
    enumerable: false,
    configurable: true
  });
  /**
   * Lists all the available video input devices.
   */

  BrowserCodeReader.prototype.listVideoInputDevices = function () {
    return __awaiter(this, void 0, void 0, function () {
      var devices, videoDevices, devices_1, devices_1_1, device, kind, deviceId, label, groupId, videoDevice;

      var e_1, _a;

      return __generator(this, function (_b) {
        switch (_b.label) {
          case 0:
            if (!this.hasNavigator) {
              throw new Error('Can\'t enumerate devices, navigator is not present.');
            }

            if (!this.canEnumerateDevices) {
              throw new Error('Can\'t enumerate devices, method not supported.');
            }

            return [4
            /*yield*/
            , navigator.mediaDevices.enumerateDevices()];

          case 1:
            devices = _b.sent();
            videoDevices = [];

            try {
              for (devices_1 = __values$B(devices), devices_1_1 = devices_1.next(); !devices_1_1.done; devices_1_1 = devices_1.next()) {
                device = devices_1_1.value;
                kind = device.kind === 'video' ? 'videoinput' : device.kind;

                if (kind !== 'videoinput') {
                  continue;
                }

                deviceId = device.deviceId || device.id;
                label = device.label || "Video device " + (videoDevices.length + 1);
                groupId = device.groupId;
                videoDevice = {
                  deviceId: deviceId,
                  label: label,
                  kind: kind,
                  groupId: groupId
                };
                videoDevices.push(videoDevice);
              }
            } catch (e_1_1) {
              e_1 = {
                error: e_1_1
              };
            } finally {
              try {
                if (devices_1_1 && !devices_1_1.done && (_a = devices_1.return)) _a.call(devices_1);
              } finally {
                if (e_1) throw e_1.error;
              }
            }

            return [2
            /*return*/
            , videoDevices];
        }
      });
    });
  };
  /**
   * Obtain the list of available devices with type 'videoinput'.
   *
   * @returns {Promise<VideoInputDevice[]>} an array of available video input devices
   *
   * @memberOf BrowserCodeReader
   *
   * @deprecated Use `listVideoInputDevices` instead.
   */


  BrowserCodeReader.prototype.getVideoInputDevices = function () {
    return __awaiter(this, void 0, void 0, function () {
      var devices;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [4
            /*yield*/
            , this.listVideoInputDevices()];

          case 1:
            devices = _a.sent();
            return [2
            /*return*/
            , devices.map(function (d) {
              return new VideoInputDevice(d.deviceId, d.label);
            })];
        }
      });
    });
  };
  /**
   * Let's you find a device using it's Id.
   */


  BrowserCodeReader.prototype.findDeviceById = function (deviceId) {
    return __awaiter(this, void 0, void 0, function () {
      var devices;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [4
            /*yield*/
            , this.listVideoInputDevices()];

          case 1:
            devices = _a.sent();

            if (!devices) {
              return [2
              /*return*/
              , null];
            }

            return [2
            /*return*/
            , devices.find(function (x) {
              return x.deviceId === deviceId;
            })];
        }
      });
    });
  };
  /**
   * Decodes the barcode from the device specified by deviceId while showing the video in the specified video element.
   *
   * @param deviceId the id of one of the devices obtained after calling getVideoInputDevices. Can be undefined, in this case it will decode from one of the available devices, preffering the main camera (environment facing) if available.
   * @param video the video element in page where to show the video while decoding. Can be either an element id or directly an HTMLVideoElement. Can be undefined, in which case no video will be shown.
   * @returns The decoding result.
   *
   * @memberOf BrowserCodeReader
   *
   * @deprecated Use `decodeOnceFromVideoDevice` instead.
   */


  BrowserCodeReader.prototype.decodeFromInputVideoDevice = function (deviceId, videoSource) {
    return __awaiter(this, void 0, void 0, function () {
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [4
            /*yield*/
            , this.decodeOnceFromVideoDevice(deviceId, videoSource)];

          case 1:
            return [2
            /*return*/
            , _a.sent()];
        }
      });
    });
  };
  /**
   * In one attempt, tries to decode the barcode from the device specified by deviceId while showing the video in the specified video element.
   *
   * @param deviceId the id of one of the devices obtained after calling getVideoInputDevices. Can be undefined, in this case it will decode from one of the available devices, preffering the main camera (environment facing) if available.
   * @param video the video element in page where to show the video while decoding. Can be either an element id or directly an HTMLVideoElement. Can be undefined, in which case no video will be shown.
   * @returns The decoding result.
   *
   * @memberOf BrowserCodeReader
   */


  BrowserCodeReader.prototype.decodeOnceFromVideoDevice = function (deviceId, videoSource) {
    return __awaiter(this, void 0, void 0, function () {
      var videoConstraints, constraints;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            this.reset();

            if (!deviceId) {
              videoConstraints = {
                facingMode: 'environment'
              };
            } else {
              videoConstraints = {
                deviceId: {
                  exact: deviceId
                }
              };
            }

            constraints = {
              video: videoConstraints
            };
            return [4
            /*yield*/
            , this.decodeOnceFromConstraints(constraints, videoSource)];

          case 1:
            return [2
            /*return*/
            , _a.sent()];
        }
      });
    });
  };
  /**
   * In one attempt, tries to decode the barcode from a stream obtained from the given constraints while showing the video in the specified video element.
   *
   * @param constraints the media stream constraints to get s valid media stream to decode from
   * @param video the video element in page where to show the video while decoding. Can be either an element id or directly an HTMLVideoElement. Can be undefined, in which case no video will be shown.
   * @returns The decoding result.
   *
   * @memberOf BrowserCodeReader
   */


  BrowserCodeReader.prototype.decodeOnceFromConstraints = function (constraints, videoSource) {
    return __awaiter(this, void 0, void 0, function () {
      var stream;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [4
            /*yield*/
            , navigator.mediaDevices.getUserMedia(constraints)];

          case 1:
            stream = _a.sent();
            return [4
            /*yield*/
            , this.decodeOnceFromStream(stream, videoSource)];

          case 2:
            return [2
            /*return*/
            , _a.sent()];
        }
      });
    });
  };
  /**
   * In one attempt, tries to decode the barcode from a stream obtained from the given constraints while showing the video in the specified video element.
   *
   * @param {MediaStream} [constraints] the media stream constraints to get s valid media stream to decode from
   * @param {string|HTMLVideoElement} [video] the video element in page where to show the video while decoding. Can be either an element id or directly an HTMLVideoElement. Can be undefined, in which case no video will be shown.
   * @returns {Promise<Result>} The decoding result.
   *
   * @memberOf BrowserCodeReader
   */


  BrowserCodeReader.prototype.decodeOnceFromStream = function (stream, videoSource) {
    return __awaiter(this, void 0, void 0, function () {
      var video, result;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            this.reset();
            return [4
            /*yield*/
            , this.attachStreamToVideo(stream, videoSource)];

          case 1:
            video = _a.sent();
            return [4
            /*yield*/
            , this.decodeOnce(video)];

          case 2:
            result = _a.sent();
            return [2
            /*return*/
            , result];
        }
      });
    });
  };
  /**
   * Continuously decodes the barcode from the device specified by device while showing the video in the specified video element.
   *
   * @param {string|null} [deviceId] the id of one of the devices obtained after calling getVideoInputDevices. Can be undefined, in this case it will decode from one of the available devices, preffering the main camera (environment facing) if available.
   * @param {string|HTMLVideoElement|null} [video] the video element in page where to show the video while decoding. Can be either an element id or directly an HTMLVideoElement. Can be undefined, in which case no video will be shown.
   * @returns {Promise<void>}
   *
   * @memberOf BrowserCodeReader
   *
   * @deprecated Use `decodeFromVideoDevice` instead.
   */


  BrowserCodeReader.prototype.decodeFromInputVideoDeviceContinuously = function (deviceId, videoSource, callbackFn) {
    return __awaiter(this, void 0, void 0, function () {
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [4
            /*yield*/
            , this.decodeFromVideoDevice(deviceId, videoSource, callbackFn)];

          case 1:
            return [2
            /*return*/
            , _a.sent()];
        }
      });
    });
  };
  /**
   * Continuously tries to decode the barcode from the device specified by device while showing the video in the specified video element.
   *
   * @param {string|null} [deviceId] the id of one of the devices obtained after calling getVideoInputDevices. Can be undefined, in this case it will decode from one of the available devices, preffering the main camera (environment facing) if available.
   * @param {string|HTMLVideoElement|null} [video] the video element in page where to show the video while decoding. Can be either an element id or directly an HTMLVideoElement. Can be undefined, in which case no video will be shown.
   * @returns {Promise<void>}
   *
   * @memberOf BrowserCodeReader
   */


  BrowserCodeReader.prototype.decodeFromVideoDevice = function (deviceId, videoSource, callbackFn) {
    return __awaiter(this, void 0, void 0, function () {
      var videoConstraints, constraints;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            if (!deviceId) {
              videoConstraints = {
                facingMode: 'environment'
              };
            } else {
              videoConstraints = {
                deviceId: {
                  exact: deviceId
                }
              };
            }

            constraints = {
              video: videoConstraints
            };
            return [4
            /*yield*/
            , this.decodeFromConstraints(constraints, videoSource, callbackFn)];

          case 1:
            return [2
            /*return*/
            , _a.sent()];
        }
      });
    });
  };
  /**
   * Continuously tries to decode the barcode from a stream obtained from the given constraints while showing the video in the specified video element.
   *
   * @param {MediaStream} [constraints] the media stream constraints to get s valid media stream to decode from
   * @param {string|HTMLVideoElement} [video] the video element in page where to show the video while decoding. Can be either an element id or directly an HTMLVideoElement. Can be undefined, in which case no video will be shown.
   * @returns {Promise<Result>} The decoding result.
   *
   * @memberOf BrowserCodeReader
   */


  BrowserCodeReader.prototype.decodeFromConstraints = function (constraints, videoSource, callbackFn) {
    return __awaiter(this, void 0, void 0, function () {
      var stream;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            return [4
            /*yield*/
            , navigator.mediaDevices.getUserMedia(constraints)];

          case 1:
            stream = _a.sent();
            return [4
            /*yield*/
            , this.decodeFromStream(stream, videoSource, callbackFn)];

          case 2:
            return [2
            /*return*/
            , _a.sent()];
        }
      });
    });
  };
  /**
   * In one attempt, tries to decode the barcode from a stream obtained from the given constraints while showing the video in the specified video element.
   *
   * @param {MediaStream} [constraints] the media stream constraints to get s valid media stream to decode from
   * @param {string|HTMLVideoElement} [video] the video element in page where to show the video while decoding. Can be either an element id or directly an HTMLVideoElement. Can be undefined, in which case no video will be shown.
   * @returns {Promise<Result>} The decoding result.
   *
   * @memberOf BrowserCodeReader
   */


  BrowserCodeReader.prototype.decodeFromStream = function (stream, videoSource, callbackFn) {
    return __awaiter(this, void 0, void 0, function () {
      var video;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            this.reset();
            return [4
            /*yield*/
            , this.attachStreamToVideo(stream, videoSource)];

          case 1:
            video = _a.sent();
            return [4
            /*yield*/
            , this.decodeContinuously(video, callbackFn)];

          case 2:
            return [2
            /*return*/
            , _a.sent()];
        }
      });
    });
  };
  /**
   * Breaks the decoding loop.
   */


  BrowserCodeReader.prototype.stopAsyncDecode = function () {
    this._stopAsyncDecode = true;
  };
  /**
   * Breaks the decoding loop.
   */


  BrowserCodeReader.prototype.stopContinuousDecode = function () {
    this._stopContinuousDecode = true;
  };
  /**
   * Sets the new stream and request a new decoding-with-delay.
   *
   * @param stream The stream to be shown in the video element.
   * @param decodeFn A callback for the decode method.
   */


  BrowserCodeReader.prototype.attachStreamToVideo = function (stream, videoSource) {
    return __awaiter(this, void 0, void 0, function () {
      var videoElement;
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            videoElement = this.prepareVideoElement(videoSource);
            this.addVideoSource(videoElement, stream);
            this.videoElement = videoElement;
            this.stream = stream;
            return [4
            /*yield*/
            , this.playVideoOnLoadAsync(videoElement)];

          case 1:
            _a.sent();

            return [2
            /*return*/
            , videoElement];
        }
      });
    });
  };
  /**
   *
   * @param videoElement
   */


  BrowserCodeReader.prototype.playVideoOnLoadAsync = function (videoElement) {
    var _this = this;

    return new Promise(function (resolve, reject) {
      return _this.playVideoOnLoad(videoElement, function () {
        return resolve();
      });
    });
  };
  /**
   * Binds listeners and callbacks to the videoElement.
   *
   * @param element
   * @param callbackFn
   */


  BrowserCodeReader.prototype.playVideoOnLoad = function (element, callbackFn) {
    var _this = this;

    this.videoEndedListener = function () {
      return _this.stopStreams();
    };

    this.videoCanPlayListener = function () {
      return _this.tryPlayVideo(element);
    };

    element.addEventListener('ended', this.videoEndedListener);
    element.addEventListener('canplay', this.videoCanPlayListener);
    element.addEventListener('playing', callbackFn); // if canplay was already fired, we won't know when to play, so just give it a try

    this.tryPlayVideo(element);
  };
  /**
   * Checks if the given video element is currently playing.
   */


  BrowserCodeReader.prototype.isVideoPlaying = function (video) {
    return video.currentTime > 0 && !video.paused && !video.ended && video.readyState > 2;
  };
  /**
   * Just tries to play the video and logs any errors.
   * The play call is only made is the video is not already playing.
   */


  BrowserCodeReader.prototype.tryPlayVideo = function (videoElement) {
    return __awaiter(this, void 0, void 0, function () {

      return __generator(this, function (_b) {
        switch (_b.label) {
          case 0:
            if (this.isVideoPlaying(videoElement)) {
              return [2
              /*return*/
              ];
            }

            _b.label = 1;

          case 1:
            _b.trys.push([1, 3,, 4]);

            return [4
            /*yield*/
            , videoElement.play()];

          case 2:
            _b.sent();

            return [3
            /*break*/
            , 4];

          case 3:
            _b.sent();
            return [3
            /*break*/
            , 4];

          case 4:
            return [2
            /*return*/
            ];
        }
      });
    });
  };
  /**
   * Searches and validates a media element.
   */


  BrowserCodeReader.prototype.getMediaElement = function (mediaElementId, type) {
    var mediaElement = document.getElementById(mediaElementId);

    if (!mediaElement) {
      throw new ArgumentException("element with id '" + mediaElementId + "' not found");
    }

    if (mediaElement.nodeName.toLowerCase() !== type.toLowerCase()) {
      throw new ArgumentException("element with id '" + mediaElementId + "' must be an " + type + " element");
    }

    return mediaElement;
  };
  /**
   * Decodes the barcode from an image.
   *
   * @param {(string|HTMLImageElement)} [source] The image element that can be either an element id or the element itself. Can be undefined in which case the decoding will be done from the imageUrl parameter.
   * @param {string} [url]
   * @returns {Promise<Result>} The decoding result.
   *
   * @memberOf BrowserCodeReader
   */


  BrowserCodeReader.prototype.decodeFromImage = function (source, url) {
    if (!source && !url) {
      throw new ArgumentException('either imageElement with a src set or an url must be provided');
    }

    if (url && !source) {
      return this.decodeFromImageUrl(url);
    }

    return this.decodeFromImageElement(source);
  };
  /**
   * Decodes the barcode from a video.
   *
   * @param {(string|HTMLImageElement)} [source] The image element that can be either an element id or the element itself. Can be undefined in which case the decoding will be done from the imageUrl parameter.
   * @param {string} [url]
   * @returns {Promise<Result>} The decoding result.
   *
   * @memberOf BrowserCodeReader
   */


  BrowserCodeReader.prototype.decodeFromVideo = function (source, url) {
    if (!source && !url) {
      throw new ArgumentException('Either an element with a src set or an URL must be provided');
    }

    if (url && !source) {
      return this.decodeFromVideoUrl(url);
    }

    return this.decodeFromVideoElement(source);
  };
  /**
   * Decodes continuously the barcode from a video.
   *
   * @param {(string|HTMLImageElement)} [source] The image element that can be either an element id or the element itself. Can be undefined in which case the decoding will be done from the imageUrl parameter.
   * @param {string} [url]
   * @returns {Promise<Result>} The decoding result.
   *
   * @memberOf BrowserCodeReader
   *
   * @experimental
   */


  BrowserCodeReader.prototype.decodeFromVideoContinuously = function (source, url, callbackFn) {
    if (undefined === source && undefined === url) {
      throw new ArgumentException('Either an element with a src set or an URL must be provided');
    }

    if (url && !source) {
      return this.decodeFromVideoUrlContinuously(url, callbackFn);
    }

    return this.decodeFromVideoElementContinuously(source, callbackFn);
  };
  /**
   * Decodes something from an image HTML element.
   */


  BrowserCodeReader.prototype.decodeFromImageElement = function (source) {
    if (!source) {
      throw new ArgumentException('An image element must be provided.');
    }

    this.reset();
    var element = this.prepareImageElement(source);
    this.imageElement = element;
    var task;

    if (this.isImageLoaded(element)) {
      task = this.decodeOnce(element, false, true);
    } else {
      task = this._decodeOnLoadImage(element);
    }

    return task;
  };
  /**
   * Decodes something from an image HTML element.
   */


  BrowserCodeReader.prototype.decodeFromVideoElement = function (source) {
    var element = this._decodeFromVideoElementSetup(source);

    return this._decodeOnLoadVideo(element);
  };
  /**
   * Decodes something from an image HTML element.
   */


  BrowserCodeReader.prototype.decodeFromVideoElementContinuously = function (source, callbackFn) {
    var element = this._decodeFromVideoElementSetup(source);

    return this._decodeOnLoadVideoContinuously(element, callbackFn);
  };
  /**
   * Sets up the video source so it can be decoded when loaded.
   *
   * @param source The video source element.
   */


  BrowserCodeReader.prototype._decodeFromVideoElementSetup = function (source) {
    if (!source) {
      throw new ArgumentException('A video element must be provided.');
    }

    this.reset();
    var element = this.prepareVideoElement(source); // defines the video element before starts decoding

    this.videoElement = element;
    return element;
  };
  /**
   * Decodes an image from a URL.
   */


  BrowserCodeReader.prototype.decodeFromImageUrl = function (url) {
    if (!url) {
      throw new ArgumentException('An URL must be provided.');
    }

    this.reset();
    var element = this.prepareImageElement();
    this.imageElement = element;

    var decodeTask = this._decodeOnLoadImage(element);

    element.src = url;
    return decodeTask;
  };
  /**
   * Decodes an image from a URL.
   */


  BrowserCodeReader.prototype.decodeFromVideoUrl = function (url) {
    if (!url) {
      throw new ArgumentException('An URL must be provided.');
    }

    this.reset(); // creates a new element

    var element = this.prepareVideoElement();
    var decodeTask = this.decodeFromVideoElement(element);
    element.src = url;
    return decodeTask;
  };
  /**
   * Decodes an image from a URL.
   *
   * @experimental
   */


  BrowserCodeReader.prototype.decodeFromVideoUrlContinuously = function (url, callbackFn) {
    if (!url) {
      throw new ArgumentException('An URL must be provided.');
    }

    this.reset(); // creates a new element

    var element = this.prepareVideoElement();
    var decodeTask = this.decodeFromVideoElementContinuously(element, callbackFn);
    element.src = url;
    return decodeTask;
  };

  BrowserCodeReader.prototype._decodeOnLoadImage = function (element) {
    var _this = this;

    return new Promise(function (resolve, reject) {
      _this.imageLoadedListener = function () {
        return _this.decodeOnce(element, false, true).then(resolve, reject);
      };

      element.addEventListener('load', _this.imageLoadedListener);
    });
  };

  BrowserCodeReader.prototype._decodeOnLoadVideo = function (videoElement) {
    return __awaiter(this, void 0, void 0, function () {
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            // plays the video
            return [4
            /*yield*/
            , this.playVideoOnLoadAsync(videoElement)];

          case 1:
            // plays the video
            _a.sent();

            return [4
            /*yield*/
            , this.decodeOnce(videoElement)];

          case 2:
            // starts decoding after played the video
            return [2
            /*return*/
            , _a.sent()];
        }
      });
    });
  };

  BrowserCodeReader.prototype._decodeOnLoadVideoContinuously = function (videoElement, callbackFn) {
    return __awaiter(this, void 0, void 0, function () {
      return __generator(this, function (_a) {
        switch (_a.label) {
          case 0:
            // plays the video
            return [4
            /*yield*/
            , this.playVideoOnLoadAsync(videoElement)];

          case 1:
            // plays the video
            _a.sent(); // starts decoding after played the video


            this.decodeContinuously(videoElement, callbackFn);
            return [2
            /*return*/
            ];
        }
      });
    });
  };

  BrowserCodeReader.prototype.isImageLoaded = function (img) {
    // During the onload event, IE correctly identifies any images that
    // weren’t downloaded as not complete. Others should too. Gecko-based
    // browsers act like NS4 in that they report this incorrectly.
    if (!img.complete) {
      return false;
    } // However, they do have two very useful properties: naturalWidth and
    // naturalHeight. These give the true size of the image. If it failed
    // to load, either of these should be zero.


    if (img.naturalWidth === 0) {
      return false;
    } // No other way of checking: assume it’s ok.


    return true;
  };

  BrowserCodeReader.prototype.prepareImageElement = function (imageSource) {
    var imageElement;

    if (typeof imageSource === 'undefined') {
      imageElement = document.createElement('img');
      imageElement.width = 200;
      imageElement.height = 200;
    }

    if (typeof imageSource === 'string') {
      imageElement = this.getMediaElement(imageSource, 'img');
    }

    if (imageSource instanceof HTMLImageElement) {
      imageElement = imageSource;
    }

    return imageElement;
  };
  /**
   * Sets a HTMLVideoElement for scanning or creates a new one.
   *
   * @param videoSource The HTMLVideoElement to be set.
   */


  BrowserCodeReader.prototype.prepareVideoElement = function (videoSource) {
    var videoElement;

    if (!videoSource && typeof document !== 'undefined') {
      videoElement = document.createElement('video');
      videoElement.width = 200;
      videoElement.height = 200;
    }

    if (typeof videoSource === 'string') {
      videoElement = this.getMediaElement(videoSource, 'video');
    }

    if (videoSource instanceof HTMLVideoElement) {
      videoElement = videoSource;
    } // Needed for iOS 11


    videoElement.setAttribute('autoplay', 'true');
    videoElement.setAttribute('muted', 'true');
    videoElement.setAttribute('playsinline', 'true');
    return videoElement;
  };
  /**
   * Tries to decode from the video input until it finds some value.
   */


  BrowserCodeReader.prototype.decodeOnce = function (element, retryIfNotFound, retryIfChecksumOrFormatError) {
    var _this = this;

    if (retryIfNotFound === void 0) {
      retryIfNotFound = true;
    }

    if (retryIfChecksumOrFormatError === void 0) {
      retryIfChecksumOrFormatError = true;
    }

    this._stopAsyncDecode = false;

    var loop = function (resolve, reject) {
      if (_this._stopAsyncDecode) {
        reject(new NotFoundException('Video stream has ended before any code could be detected.'));
        _this._stopAsyncDecode = undefined;
        return;
      }

      try {
        var result = _this.decode(element);

        resolve(result);
      } catch (e) {
        var ifNotFound = retryIfNotFound && e instanceof NotFoundException;
        var isChecksumOrFormatError = e instanceof ChecksumException || e instanceof FormatException;
        var ifChecksumOrFormat = isChecksumOrFormatError && retryIfChecksumOrFormatError;

        if (ifNotFound || ifChecksumOrFormat) {
          // trying again
          return setTimeout(loop, _this._timeBetweenDecodingAttempts, resolve, reject);
        }

        reject(e);
      }
    };

    return new Promise(function (resolve, reject) {
      return loop(resolve, reject);
    });
  };
  /**
   * Continuously decodes from video input.
   */


  BrowserCodeReader.prototype.decodeContinuously = function (element, callbackFn) {
    var _this = this;

    this._stopContinuousDecode = false;

    var loop = function () {
      if (_this._stopContinuousDecode) {
        _this._stopContinuousDecode = undefined;
        return;
      }

      try {
        var result = _this.decode(element);

        callbackFn(result, null);
        setTimeout(loop, _this.timeBetweenScansMillis);
      } catch (e) {
        callbackFn(null, e);
        var isChecksumOrFormatError = e instanceof ChecksumException || e instanceof FormatException;
        var isNotFound = e instanceof NotFoundException;

        if (isChecksumOrFormatError || isNotFound) {
          // trying again
          setTimeout(loop, _this._timeBetweenDecodingAttempts);
        }
      }
    };

    loop();
  };
  /**
   * Gets the BinaryBitmap for ya! (and decodes it)
   */


  BrowserCodeReader.prototype.decode = function (element) {
    // get binary bitmap for decode function
    var binaryBitmap = this.createBinaryBitmap(element);
    return this.decodeBitmap(binaryBitmap);
  };
  /**
   * Creates a binaryBitmap based in some image source.
   *
   * @param mediaElement HTML element containing drawable image source.
   */


  BrowserCodeReader.prototype.createBinaryBitmap = function (mediaElement) {
    var ctx = this.getCaptureCanvasContext(mediaElement);
    this.drawImageOnCanvas(ctx, mediaElement);
    var canvas = this.getCaptureCanvas(mediaElement);
    var luminanceSource = new HTMLCanvasElementLuminanceSource(canvas);
    var hybridBinarizer = new HybridBinarizer(luminanceSource);
    return new BinaryBitmap(hybridBinarizer);
  };
  /**
   *
   */


  BrowserCodeReader.prototype.getCaptureCanvasContext = function (mediaElement) {
    if (!this.captureCanvasContext) {
      var elem = this.getCaptureCanvas(mediaElement);
      var ctx = elem.getContext('2d');
      this.captureCanvasContext = ctx;
    }

    return this.captureCanvasContext;
  };
  /**
   *
   */


  BrowserCodeReader.prototype.getCaptureCanvas = function (mediaElement) {
    if (!this.captureCanvas) {
      var elem = this.createCaptureCanvas(mediaElement);
      this.captureCanvas = elem;
    }

    return this.captureCanvas;
  };
  /**
   * Ovewriting this allows you to manipulate the snapshot image in anyway you want before decode.
   */


  BrowserCodeReader.prototype.drawImageOnCanvas = function (canvasElementContext, srcElement) {
    canvasElementContext.drawImage(srcElement, 0, 0);
  };
  /**
   * Call the encapsulated readers decode
   */


  BrowserCodeReader.prototype.decodeBitmap = function (binaryBitmap) {
    return this.reader.decode(binaryBitmap, this._hints);
  };
  /**
   * 🖌 Prepares the canvas for capture and scan frames.
   */


  BrowserCodeReader.prototype.createCaptureCanvas = function (mediaElement) {
    if (typeof document === 'undefined') {
      this._destroyCaptureCanvas();

      return null;
    }

    var canvasElement = document.createElement('canvas');
    var width;
    var height;

    if (typeof mediaElement !== 'undefined') {
      if (mediaElement instanceof HTMLVideoElement) {
        width = mediaElement.videoWidth;
        height = mediaElement.videoHeight;
      } else if (mediaElement instanceof HTMLImageElement) {
        width = mediaElement.naturalWidth || mediaElement.width;
        height = mediaElement.naturalHeight || mediaElement.height;
      }
    }

    canvasElement.style.width = width + 'px';
    canvasElement.style.height = height + 'px';
    canvasElement.width = width;
    canvasElement.height = height;
    return canvasElement;
  };
  /**
   * Stops the continuous scan and cleans the stream.
   */


  BrowserCodeReader.prototype.stopStreams = function () {
    if (this.stream) {
      this.stream.getVideoTracks().forEach(function (t) {
        return t.stop();
      });
      this.stream = undefined;
    }

    if (this._stopAsyncDecode === false) {
      this.stopAsyncDecode();
    }

    if (this._stopContinuousDecode === false) {
      this.stopContinuousDecode();
    }
  };
  /**
   * Resets the code reader to the initial state. Cancels any ongoing barcode scanning from video or camera.
   *
   * @memberOf BrowserCodeReader
   */


  BrowserCodeReader.prototype.reset = function () {
    // stops the camera, preview and scan 🔴
    this.stopStreams(); // clean and forget about HTML elements

    this._destroyVideoElement();

    this._destroyImageElement();

    this._destroyCaptureCanvas();
  };

  BrowserCodeReader.prototype._destroyVideoElement = function () {
    if (!this.videoElement) {
      return;
    } // first gives freedon to the element 🕊


    if (typeof this.videoEndedListener !== 'undefined') {
      this.videoElement.removeEventListener('ended', this.videoEndedListener);
    }

    if (typeof this.videoPlayingEventListener !== 'undefined') {
      this.videoElement.removeEventListener('playing', this.videoPlayingEventListener);
    }

    if (typeof this.videoCanPlayListener !== 'undefined') {
      this.videoElement.removeEventListener('loadedmetadata', this.videoCanPlayListener);
    } // then forgets about that element 😢


    this.cleanVideoSource(this.videoElement);
    this.videoElement = undefined;
  };

  BrowserCodeReader.prototype._destroyImageElement = function () {
    if (!this.imageElement) {
      return;
    } // first gives freedon to the element 🕊


    if (undefined !== this.imageLoadedListener) {
      this.imageElement.removeEventListener('load', this.imageLoadedListener);
    } // then forget about that element 😢


    this.imageElement.src = undefined;
    this.imageElement.removeAttribute('src');
    this.imageElement = undefined;
  };
  /**
   * Cleans canvas references 🖌
   */


  BrowserCodeReader.prototype._destroyCaptureCanvas = function () {
    // then forget about that element 😢
    this.captureCanvasContext = undefined;
    this.captureCanvas = undefined;
  };
  /**
   * Defines what the videoElement src will be.
   *
   * @param videoElement
   * @param stream
   */


  BrowserCodeReader.prototype.addVideoSource = function (videoElement, stream) {
    // Older browsers may not have `srcObject`
    try {
      // @note Throws Exception if interrupted by a new loaded request
      videoElement.srcObject = stream;
    } catch (err) {
      // @note Avoid using this in new browsers, as it is going away.
      videoElement.src = URL.createObjectURL(stream);
    }
  };
  /**
   * Unbinds a HTML video src property.
   *
   * @param videoElement
   */


  BrowserCodeReader.prototype.cleanVideoSource = function (videoElement) {
    try {
      videoElement.srcObject = null;
    } catch (err) {
      videoElement.src = '';
    }

    this.videoElement.removeAttribute('src');
  };

  return BrowserCodeReader;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>Encapsulates the result of decoding a barcode within an image.</p>
 *
 * @author Sean Owen
 */

var Result =
/** @class */
function () {
  // public constructor(private text: string,
  //               Uint8Array rawBytes,
  //               ResultPoconst resultPoints: Int32Array,
  //               BarcodeFormat format) {
  //   this(text, rawBytes, resultPoints, format, System.currentTimeMillis())
  // }
  // public constructor(text: string,
  //               Uint8Array rawBytes,
  //               ResultPoconst resultPoints: Int32Array,
  //               BarcodeFormat format,
  //               long timestamp) {
  //   this(text, rawBytes, rawBytes == null ? 0 : 8 * rawBytes.length,
  //        resultPoints, format, timestamp)
  // }
  function Result(text, rawBytes, numBits, resultPoints, format, timestamp) {
    if (numBits === void 0) {
      numBits = rawBytes == null ? 0 : 8 * rawBytes.length;
    }

    if (timestamp === void 0) {
      timestamp = System.currentTimeMillis();
    }

    this.text = text;
    this.rawBytes = rawBytes;
    this.numBits = numBits;
    this.resultPoints = resultPoints;
    this.format = format;
    this.timestamp = timestamp;
    this.text = text;
    this.rawBytes = rawBytes;

    if (undefined === numBits || null === numBits) {
      this.numBits = rawBytes === null || rawBytes === undefined ? 0 : 8 * rawBytes.length;
    } else {
      this.numBits = numBits;
    }

    this.resultPoints = resultPoints;
    this.format = format;
    this.resultMetadata = null;

    if (undefined === timestamp || null === timestamp) {
      this.timestamp = System.currentTimeMillis();
    } else {
      this.timestamp = timestamp;
    }
  }
  /**
   * @return raw text encoded by the barcode
   */


  Result.prototype.getText = function () {
    return this.text;
  };
  /**
   * @return raw bytes encoded by the barcode, if applicable, otherwise {@code null}
   */


  Result.prototype.getRawBytes = function () {
    return this.rawBytes;
  };
  /**
   * @return how many bits of {@link #getRawBytes()} are valid; typically 8 times its length
   * @since 3.3.0
   */


  Result.prototype.getNumBits = function () {
    return this.numBits;
  };
  /**
   * @return points related to the barcode in the image. These are typically points
   *         identifying finder patterns or the corners of the barcode. The exact meaning is
   *         specific to the type of barcode that was decoded.
   */


  Result.prototype.getResultPoints = function () {
    return this.resultPoints;
  };
  /**
   * @return {@link BarcodeFormat} representing the format of the barcode that was decoded
   */


  Result.prototype.getBarcodeFormat = function () {
    return this.format;
  };
  /**
   * @return {@link Map} mapping {@link ResultMetadataType} keys to values. May be
   *   {@code null}. This contains optional metadata about what was detected about the barcode,
   *   like orientation.
   */


  Result.prototype.getResultMetadata = function () {
    return this.resultMetadata;
  };

  Result.prototype.putMetadata = function (type, value) {
    if (this.resultMetadata === null) {
      this.resultMetadata = new Map();
    }

    this.resultMetadata.set(type, value);
  };

  Result.prototype.putAllMetadata = function (metadata) {
    if (metadata !== null) {
      if (this.resultMetadata === null) {
        this.resultMetadata = metadata;
      } else {
        this.resultMetadata = new Map(metadata);
      }
    }
  };

  Result.prototype.addResultPoints = function (newPoints) {
    var oldPoints = this.resultPoints;

    if (oldPoints === null) {
      this.resultPoints = newPoints;
    } else if (newPoints !== null && newPoints.length > 0) {
      var allPoints = new Array(oldPoints.length + newPoints.length);
      System.arraycopy(oldPoints, 0, allPoints, 0, oldPoints.length);
      System.arraycopy(newPoints, 0, allPoints, oldPoints.length, newPoints.length);
      this.resultPoints = allPoints;
    }
  };

  Result.prototype.getTimestamp = function () {
    return this.timestamp;
  };
  /*@Override*/


  Result.prototype.toString = function () {
    return this.text;
  };

  return Result;
}();

/*
 * Direct port to TypeScript of ZXing by Adrian Toșcă
 */

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*namespace com.google.zxing {*/

/**
 * Enumerates barcode formats known to this package. Please keep alphabetized.
 *
 * @author Sean Owen
 */
var BarcodeFormat;

(function (BarcodeFormat) {
  /** Aztec 2D barcode format. */
  BarcodeFormat[BarcodeFormat["AZTEC"] = 0] = "AZTEC";
  /** CODABAR 1D format. */

  BarcodeFormat[BarcodeFormat["CODABAR"] = 1] = "CODABAR";
  /** Code 39 1D format. */

  BarcodeFormat[BarcodeFormat["CODE_39"] = 2] = "CODE_39";
  /** Code 93 1D format. */

  BarcodeFormat[BarcodeFormat["CODE_93"] = 3] = "CODE_93";
  /** Code 128 1D format. */

  BarcodeFormat[BarcodeFormat["CODE_128"] = 4] = "CODE_128";
  /** Data Matrix 2D barcode format. */

  BarcodeFormat[BarcodeFormat["DATA_MATRIX"] = 5] = "DATA_MATRIX";
  /** EAN-8 1D format. */

  BarcodeFormat[BarcodeFormat["EAN_8"] = 6] = "EAN_8";
  /** EAN-13 1D format. */

  BarcodeFormat[BarcodeFormat["EAN_13"] = 7] = "EAN_13";
  /** ITF (Interleaved Two of Five) 1D format. */

  BarcodeFormat[BarcodeFormat["ITF"] = 8] = "ITF";
  /** MaxiCode 2D barcode format. */

  BarcodeFormat[BarcodeFormat["MAXICODE"] = 9] = "MAXICODE";
  /** PDF417 format. */

  BarcodeFormat[BarcodeFormat["PDF_417"] = 10] = "PDF_417";
  /** QR Code 2D barcode format. */

  BarcodeFormat[BarcodeFormat["QR_CODE"] = 11] = "QR_CODE";
  /** RSS 14 */

  BarcodeFormat[BarcodeFormat["RSS_14"] = 12] = "RSS_14";
  /** RSS EXPANDED */

  BarcodeFormat[BarcodeFormat["RSS_EXPANDED"] = 13] = "RSS_EXPANDED";
  /** UPC-A 1D format. */

  BarcodeFormat[BarcodeFormat["UPC_A"] = 14] = "UPC_A";
  /** UPC-E 1D format. */

  BarcodeFormat[BarcodeFormat["UPC_E"] = 15] = "UPC_E";
  /** UPC/EAN extension format. Not a stand-alone format. */

  BarcodeFormat[BarcodeFormat["UPC_EAN_EXTENSION"] = 16] = "UPC_EAN_EXTENSION";
})(BarcodeFormat || (BarcodeFormat = {}));

var BarcodeFormat$1 = BarcodeFormat;

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*namespace com.google.zxing {*/

/**
 * Represents some type of metadata about the result of the decoding that the decoder
 * wishes to communicate back to the caller.
 *
 * @author Sean Owen
 */
var ResultMetadataType;

(function (ResultMetadataType) {
  /**
   * Unspecified, application-specific metadata. Maps to an unspecified {@link Object}.
   */
  ResultMetadataType[ResultMetadataType["OTHER"] = 0] = "OTHER";
  /**
   * Denotes the likely approximate orientation of the barcode in the image. This value
   * is given as degrees rotated clockwise from the normal, upright orientation.
   * For example a 1D barcode which was found by reading top-to-bottom would be
   * said to have orientation "90". This key maps to an {@link Integer} whose
   * value is in the range [0,360).
   */

  ResultMetadataType[ResultMetadataType["ORIENTATION"] = 1] = "ORIENTATION";
  /**
   * <p>2D barcode formats typically encode text, but allow for a sort of 'byte mode'
   * which is sometimes used to encode binary data. While {@link Result} makes available
   * the complete raw bytes in the barcode for these formats, it does not offer the bytes
   * from the byte segments alone.</p>
   *
   * <p>This maps to a {@link java.util.List} of byte arrays corresponding to the
   * raw bytes in the byte segments in the barcode, in order.</p>
   */

  ResultMetadataType[ResultMetadataType["BYTE_SEGMENTS"] = 2] = "BYTE_SEGMENTS";
  /**
   * Error correction level used, if applicable. The value type depends on the
   * format, but is typically a String.
   */

  ResultMetadataType[ResultMetadataType["ERROR_CORRECTION_LEVEL"] = 3] = "ERROR_CORRECTION_LEVEL";
  /**
   * For some periodicals, indicates the issue number as an {@link Integer}.
   */

  ResultMetadataType[ResultMetadataType["ISSUE_NUMBER"] = 4] = "ISSUE_NUMBER";
  /**
   * For some products, indicates the suggested retail price in the barcode as a
   * formatted {@link String}.
   */

  ResultMetadataType[ResultMetadataType["SUGGESTED_PRICE"] = 5] = "SUGGESTED_PRICE";
  /**
   * For some products, the possible country of manufacture as a {@link String} denoting the
   * ISO country code. Some map to multiple possible countries, like "US/CA".
   */

  ResultMetadataType[ResultMetadataType["POSSIBLE_COUNTRY"] = 6] = "POSSIBLE_COUNTRY";
  /**
   * For some products, the extension text
   */

  ResultMetadataType[ResultMetadataType["UPC_EAN_EXTENSION"] = 7] = "UPC_EAN_EXTENSION";
  /**
   * PDF417-specific metadata
   */

  ResultMetadataType[ResultMetadataType["PDF417_EXTRA_METADATA"] = 8] = "PDF417_EXTRA_METADATA";
  /**
   * If the code format supports structured append and the current scanned code is part of one then the
   * sequence number is given with it.
   */

  ResultMetadataType[ResultMetadataType["STRUCTURED_APPEND_SEQUENCE"] = 9] = "STRUCTURED_APPEND_SEQUENCE";
  /**
   * If the code format supports structured append and the current scanned code is part of one then the
   * parity is given with it.
   */

  ResultMetadataType[ResultMetadataType["STRUCTURED_APPEND_PARITY"] = 10] = "STRUCTURED_APPEND_PARITY";
})(ResultMetadataType || (ResultMetadataType = {}));

var ResultMetadataType$1 = ResultMetadataType;

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*namespace com.google.zxing.common {*/

/*import java.util.List;*/

/**
 * <p>Encapsulates the result of decoding a matrix of bits. This typically
 * applies to 2D barcode formats. For now it contains the raw bytes obtained,
 * as well as a String interpretation of those bytes, if applicable.</p>
 *
 * @author Sean Owen
 */
var DecoderResult =
/** @class */
function () {
  // public constructor(rawBytes: Uint8Array,
  //                      text: string,
  //                      List<Uint8Array> byteSegments,
  //                      String ecLevel) {
  //   this(rawBytes, text, byteSegments, ecLevel, -1, -1)
  // }
  function DecoderResult(rawBytes, text, byteSegments, ecLevel, structuredAppendSequenceNumber, structuredAppendParity) {
    if (structuredAppendSequenceNumber === void 0) {
      structuredAppendSequenceNumber = -1;
    }

    if (structuredAppendParity === void 0) {
      structuredAppendParity = -1;
    }

    this.rawBytes = rawBytes;
    this.text = text;
    this.byteSegments = byteSegments;
    this.ecLevel = ecLevel;
    this.structuredAppendSequenceNumber = structuredAppendSequenceNumber;
    this.structuredAppendParity = structuredAppendParity;
    this.numBits = rawBytes === undefined || rawBytes === null ? 0 : 8 * rawBytes.length;
  }
  /**
   * @return raw bytes representing the result, or {@code null} if not applicable
   */


  DecoderResult.prototype.getRawBytes = function () {
    return this.rawBytes;
  };
  /**
   * @return how many bits of {@link #getRawBytes()} are valid; typically 8 times its length
   * @since 3.3.0
   */


  DecoderResult.prototype.getNumBits = function () {
    return this.numBits;
  };
  /**
   * @param numBits overrides the number of bits that are valid in {@link #getRawBytes()}
   * @since 3.3.0
   */


  DecoderResult.prototype.setNumBits = function (numBits
  /*int*/
  ) {
    this.numBits = numBits;
  };
  /**
   * @return text representation of the result
   */


  DecoderResult.prototype.getText = function () {
    return this.text;
  };
  /**
   * @return list of byte segments in the result, or {@code null} if not applicable
   */


  DecoderResult.prototype.getByteSegments = function () {
    return this.byteSegments;
  };
  /**
   * @return name of error correction level used, or {@code null} if not applicable
   */


  DecoderResult.prototype.getECLevel = function () {
    return this.ecLevel;
  };
  /**
   * @return number of errors corrected, or {@code null} if not applicable
   */


  DecoderResult.prototype.getErrorsCorrected = function () {
    return this.errorsCorrected;
  };

  DecoderResult.prototype.setErrorsCorrected = function (errorsCorrected
  /*Integer*/
  ) {
    this.errorsCorrected = errorsCorrected;
  };
  /**
   * @return number of erasures corrected, or {@code null} if not applicable
   */


  DecoderResult.prototype.getErasures = function () {
    return this.erasures;
  };

  DecoderResult.prototype.setErasures = function (erasures
  /*Integer*/
  ) {
    this.erasures = erasures;
  };
  /**
   * @return arbitrary additional metadata
   */


  DecoderResult.prototype.getOther = function () {
    return this.other;
  };

  DecoderResult.prototype.setOther = function (other) {
    this.other = other;
  };

  DecoderResult.prototype.hasStructuredAppend = function () {
    return this.structuredAppendParity >= 0 && this.structuredAppendSequenceNumber >= 0;
  };

  DecoderResult.prototype.getStructuredAppendParity = function () {
    return this.structuredAppendParity;
  };

  DecoderResult.prototype.getStructuredAppendSequenceNumber = function () {
    return this.structuredAppendSequenceNumber;
  };

  return DecoderResult;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>This class contains utility methods for performing mathematical operations over
 * the Galois Fields. Operations use a given primitive polynomial in calculations.</p>
 *
 * <p>Throughout this package, elements of the GF are represented as an {@code int}
 * for convenience and speed (but at the cost of memory).
 * </p>
 *
 * @author Sean Owen
 * @author David Olivier
 */

var AbstractGenericGF =
/** @class */
function () {
  function AbstractGenericGF() {}
  /**
   * @return 2 to the power of a in GF(size)
   */


  AbstractGenericGF.prototype.exp = function (a) {
    return this.expTable[a];
  };
  /**
   * @return base 2 log of a in GF(size)
   */


  AbstractGenericGF.prototype.log = function (a
  /*int*/
  ) {
    if (a === 0) {
      throw new IllegalArgumentException();
    }

    return this.logTable[a];
  };
  /**
   * Implements both addition and subtraction -- they are the same in GF(size).
   *
   * @return sum/difference of a and b
   */


  AbstractGenericGF.addOrSubtract = function (a
  /*int*/
  , b
  /*int*/
  ) {
    return a ^ b;
  };

  return AbstractGenericGF;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>Represents a polynomial whose coefficients are elements of a GF.
 * Instances of this class are immutable.</p>
 *
 * <p>Much credit is due to William Rucklidge since portions of this code are an indirect
 * port of his C++ Reed-Solomon implementation.</p>
 *
 * @author Sean Owen
 */

var GenericGFPoly =
/** @class */
function () {
  /**
   * @param field the {@link GenericGF} instance representing the field to use
   * to perform computations
   * @param coefficients coefficients as ints representing elements of GF(size), arranged
   * from most significant (highest-power term) coefficient to least significant
   * @throws IllegalArgumentException if argument is null or empty,
   * or if leading coefficient is 0 and this is not a
   * constant polynomial (that is, it is not the monomial "0")
   */
  function GenericGFPoly(field, coefficients) {
    if (coefficients.length === 0) {
      throw new IllegalArgumentException();
    }

    this.field = field;
    var coefficientsLength = coefficients.length;

    if (coefficientsLength > 1 && coefficients[0] === 0) {
      // Leading term must be non-zero for anything except the constant polynomial "0"
      var firstNonZero = 1;

      while (firstNonZero < coefficientsLength && coefficients[firstNonZero] === 0) {
        firstNonZero++;
      }

      if (firstNonZero === coefficientsLength) {
        this.coefficients = Int32Array.from([0]);
      } else {
        this.coefficients = new Int32Array(coefficientsLength - firstNonZero);
        System.arraycopy(coefficients, firstNonZero, this.coefficients, 0, this.coefficients.length);
      }
    } else {
      this.coefficients = coefficients;
    }
  }

  GenericGFPoly.prototype.getCoefficients = function () {
    return this.coefficients;
  };
  /**
   * @return degree of this polynomial
   */


  GenericGFPoly.prototype.getDegree = function () {
    return this.coefficients.length - 1;
  };
  /**
   * @return true iff this polynomial is the monomial "0"
   */


  GenericGFPoly.prototype.isZero = function () {
    return this.coefficients[0] === 0;
  };
  /**
   * @return coefficient of x^degree term in this polynomial
   */


  GenericGFPoly.prototype.getCoefficient = function (degree
  /*int*/
  ) {
    return this.coefficients[this.coefficients.length - 1 - degree];
  };
  /**
   * @return evaluation of this polynomial at a given point
   */


  GenericGFPoly.prototype.evaluateAt = function (a
  /*int*/
  ) {
    if (a === 0) {
      // Just return the x^0 coefficient
      return this.getCoefficient(0);
    }

    var coefficients = this.coefficients;
    var result;

    if (a === 1) {
      // Just the sum of the coefficients
      result = 0;

      for (var i = 0, length_1 = coefficients.length; i !== length_1; i++) {
        var coefficient = coefficients[i];
        result = AbstractGenericGF.addOrSubtract(result, coefficient);
      }

      return result;
    }

    result = coefficients[0];
    var size = coefficients.length;
    var field = this.field;

    for (var i = 1; i < size; i++) {
      result = AbstractGenericGF.addOrSubtract(field.multiply(a, result), coefficients[i]);
    }

    return result;
  };

  GenericGFPoly.prototype.addOrSubtract = function (other) {
    if (!this.field.equals(other.field)) {
      throw new IllegalArgumentException('GenericGFPolys do not have same GenericGF field');
    }

    if (this.isZero()) {
      return other;
    }

    if (other.isZero()) {
      return this;
    }

    var smallerCoefficients = this.coefficients;
    var largerCoefficients = other.coefficients;

    if (smallerCoefficients.length > largerCoefficients.length) {
      var temp = smallerCoefficients;
      smallerCoefficients = largerCoefficients;
      largerCoefficients = temp;
    }

    var sumDiff = new Int32Array(largerCoefficients.length);
    var lengthDiff = largerCoefficients.length - smallerCoefficients.length; // Copy high-order terms only found in higher-degree polynomial's coefficients

    System.arraycopy(largerCoefficients, 0, sumDiff, 0, lengthDiff);

    for (var i = lengthDiff; i < largerCoefficients.length; i++) {
      sumDiff[i] = AbstractGenericGF.addOrSubtract(smallerCoefficients[i - lengthDiff], largerCoefficients[i]);
    }

    return new GenericGFPoly(this.field, sumDiff);
  };

  GenericGFPoly.prototype.multiply = function (other) {
    if (!this.field.equals(other.field)) {
      throw new IllegalArgumentException('GenericGFPolys do not have same GenericGF field');
    }

    if (this.isZero() || other.isZero()) {
      return this.field.getZero();
    }

    var aCoefficients = this.coefficients;
    var aLength = aCoefficients.length;
    var bCoefficients = other.coefficients;
    var bLength = bCoefficients.length;
    var product = new Int32Array(aLength + bLength - 1);
    var field = this.field;

    for (var i = 0; i < aLength; i++) {
      var aCoeff = aCoefficients[i];

      for (var j = 0; j < bLength; j++) {
        product[i + j] = AbstractGenericGF.addOrSubtract(product[i + j], field.multiply(aCoeff, bCoefficients[j]));
      }
    }

    return new GenericGFPoly(field, product);
  };

  GenericGFPoly.prototype.multiplyScalar = function (scalar
  /*int*/
  ) {
    if (scalar === 0) {
      return this.field.getZero();
    }

    if (scalar === 1) {
      return this;
    }

    var size = this.coefficients.length;
    var field = this.field;
    var product = new Int32Array(size);
    var coefficients = this.coefficients;

    for (var i = 0; i < size; i++) {
      product[i] = field.multiply(coefficients[i], scalar);
    }

    return new GenericGFPoly(field, product);
  };

  GenericGFPoly.prototype.multiplyByMonomial = function (degree
  /*int*/
  , coefficient
  /*int*/
  ) {
    if (degree < 0) {
      throw new IllegalArgumentException();
    }

    if (coefficient === 0) {
      return this.field.getZero();
    }

    var coefficients = this.coefficients;
    var size = coefficients.length;
    var product = new Int32Array(size + degree);
    var field = this.field;

    for (var i = 0; i < size; i++) {
      product[i] = field.multiply(coefficients[i], coefficient);
    }

    return new GenericGFPoly(field, product);
  };

  GenericGFPoly.prototype.divide = function (other) {
    if (!this.field.equals(other.field)) {
      throw new IllegalArgumentException('GenericGFPolys do not have same GenericGF field');
    }

    if (other.isZero()) {
      throw new IllegalArgumentException('Divide by 0');
    }

    var field = this.field;
    var quotient = field.getZero();
    var remainder = this;
    var denominatorLeadingTerm = other.getCoefficient(other.getDegree());
    var inverseDenominatorLeadingTerm = field.inverse(denominatorLeadingTerm);

    while (remainder.getDegree() >= other.getDegree() && !remainder.isZero()) {
      var degreeDifference = remainder.getDegree() - other.getDegree();
      var scale = field.multiply(remainder.getCoefficient(remainder.getDegree()), inverseDenominatorLeadingTerm);
      var term = other.multiplyByMonomial(degreeDifference, scale);
      var iterationQuotient = field.buildMonomial(degreeDifference, scale);
      quotient = quotient.addOrSubtract(iterationQuotient);
      remainder = remainder.addOrSubtract(term);
    }

    return [quotient, remainder];
  };
  /*@Override*/


  GenericGFPoly.prototype.toString = function () {
    var result = '';

    for (var degree = this.getDegree(); degree >= 0; degree--) {
      var coefficient = this.getCoefficient(degree);

      if (coefficient !== 0) {
        if (coefficient < 0) {
          result += ' - ';
          coefficient = -coefficient;
        } else {
          if (result.length > 0) {
            result += ' + ';
          }
        }

        if (degree === 0 || coefficient !== 1) {
          var alphaPower = this.field.log(coefficient);

          if (alphaPower === 0) {
            result += '1';
          } else if (alphaPower === 1) {
            result += 'a';
          } else {
            result += 'a^';
            result += alphaPower;
          }
        }

        if (degree !== 0) {
          if (degree === 1) {
            result += 'x';
          } else {
            result += 'x^';
            result += degree;
          }
        }
      }
    }

    return result;
  };

  return GenericGFPoly;
}();

var __extends$R = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var ArithmeticException =
/** @class */
function (_super) {
  __extends$R(ArithmeticException, _super);

  function ArithmeticException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  ArithmeticException.kind = 'ArithmeticException';
  return ArithmeticException;
}(Exception);

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$Q = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * <p>This class contains utility methods for performing mathematical operations over
 * the Galois Fields. Operations use a given primitive polynomial in calculations.</p>
 *
 * <p>Throughout this package, elements of the GF are represented as an {@code int}
 * for convenience and speed (but at the cost of memory).
 * </p>
 *
 * @author Sean Owen
 * @author David Olivier
 */

var GenericGF =
/** @class */
function (_super) {
  __extends$Q(GenericGF, _super);
  /**
   * Create a representation of GF(size) using the given primitive polynomial.
   *
   * @param primitive irreducible polynomial whose coefficients are represented by
   *  the bits of an int, where the least-significant bit represents the constant
   *  coefficient
   * @param size the size of the field
   * @param b the factor b in the generator polynomial can be 0- or 1-based
   *  (g(x) = (x+a^b)(x+a^(b+1))...(x+a^(b+2t-1))).
   *  In most cases it should be 1, but for QR code it is 0.
   */


  function GenericGF(primitive
  /*int*/
  , size
  /*int*/
  , generatorBase
  /*int*/
  ) {
    var _this = _super.call(this) || this;

    _this.primitive = primitive;
    _this.size = size;
    _this.generatorBase = generatorBase;
    var expTable = new Int32Array(size);
    var x = 1;

    for (var i = 0; i < size; i++) {
      expTable[i] = x;
      x *= 2; // we're assuming the generator alpha is 2

      if (x >= size) {
        x ^= primitive;
        x &= size - 1;
      }
    }

    _this.expTable = expTable;
    var logTable = new Int32Array(size);

    for (var i = 0; i < size - 1; i++) {
      logTable[expTable[i]] = i;
    }

    _this.logTable = logTable; // logTable[0] == 0 but this should never be used

    _this.zero = new GenericGFPoly(_this, Int32Array.from([0]));
    _this.one = new GenericGFPoly(_this, Int32Array.from([1]));
    return _this;
  }

  GenericGF.prototype.getZero = function () {
    return this.zero;
  };

  GenericGF.prototype.getOne = function () {
    return this.one;
  };
  /**
   * @return the monomial representing coefficient * x^degree
   */


  GenericGF.prototype.buildMonomial = function (degree
  /*int*/
  , coefficient
  /*int*/
  ) {
    if (degree < 0) {
      throw new IllegalArgumentException();
    }

    if (coefficient === 0) {
      return this.zero;
    }

    var coefficients = new Int32Array(degree + 1);
    coefficients[0] = coefficient;
    return new GenericGFPoly(this, coefficients);
  };
  /**
   * @return multiplicative inverse of a
   */


  GenericGF.prototype.inverse = function (a
  /*int*/
  ) {
    if (a === 0) {
      throw new ArithmeticException();
    }

    return this.expTable[this.size - this.logTable[a] - 1];
  };
  /**
   * @return product of a and b in GF(size)
   */


  GenericGF.prototype.multiply = function (a
  /*int*/
  , b
  /*int*/
  ) {
    if (a === 0 || b === 0) {
      return 0;
    }

    return this.expTable[(this.logTable[a] + this.logTable[b]) % (this.size - 1)];
  };

  GenericGF.prototype.getSize = function () {
    return this.size;
  };

  GenericGF.prototype.getGeneratorBase = function () {
    return this.generatorBase;
  };
  /*@Override*/


  GenericGF.prototype.toString = function () {
    return 'GF(0x' + Integer.toHexString(this.primitive) + ',' + this.size + ')';
  };

  GenericGF.prototype.equals = function (o) {
    return o === this;
  };

  GenericGF.AZTEC_DATA_12 = new GenericGF(0x1069, 4096, 1); // x^12 + x^6 + x^5 + x^3 + 1

  GenericGF.AZTEC_DATA_10 = new GenericGF(0x409, 1024, 1); // x^10 + x^3 + 1

  GenericGF.AZTEC_DATA_6 = new GenericGF(0x43, 64, 1); // x^6 + x + 1

  GenericGF.AZTEC_PARAM = new GenericGF(0x13, 16, 1); // x^4 + x + 1

  GenericGF.QR_CODE_FIELD_256 = new GenericGF(0x011d, 256, 0); // x^8 + x^4 + x^3 + x^2 + 1

  GenericGF.DATA_MATRIX_FIELD_256 = new GenericGF(0x012d, 256, 1); // x^8 + x^5 + x^3 + x^2 + 1

  GenericGF.AZTEC_DATA_8 = GenericGF.DATA_MATRIX_FIELD_256;
  GenericGF.MAXICODE_FIELD_64 = GenericGF.AZTEC_DATA_6;
  return GenericGF;
}(AbstractGenericGF);

var __extends$P = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var ReedSolomonException =
/** @class */
function (_super) {
  __extends$P(ReedSolomonException, _super);

  function ReedSolomonException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  ReedSolomonException.kind = 'ReedSolomonException';
  return ReedSolomonException;
}(Exception);

var __extends$O = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var IllegalStateException =
/** @class */
function (_super) {
  __extends$O(IllegalStateException, _super);

  function IllegalStateException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  IllegalStateException.kind = 'IllegalStateException';
  return IllegalStateException;
}(Exception);

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>Implements Reed-Solomon decoding, as the name implies.</p>
 *
 * <p>The algorithm will not be explained here, but the following references were helpful
 * in creating this implementation:</p>
 *
 * <ul>
 * <li>Bruce Maggs.
 * <a href="http://www.cs.cmu.edu/afs/cs.cmu.edu/project/pscico-guyb/realworld/www/rs_decode.ps">
 * "Decoding Reed-Solomon Codes"</a> (see discussion of Forney's Formula)</li>
 * <li>J.I. Hall. <a href="www.mth.msu.edu/~jhall/classes/codenotes/GRS.pdf">
 * "Chapter 5. Generalized Reed-Solomon Codes"</a>
 * (see discussion of Euclidean algorithm)</li>
 * </ul>
 *
 * <p>Much credit is due to William Rucklidge since portions of this code are an indirect
 * port of his C++ Reed-Solomon implementation.</p>
 *
 * @author Sean Owen
 * @author William Rucklidge
 * @author sanfordsquires
 */

var ReedSolomonDecoder =
/** @class */
function () {
  function ReedSolomonDecoder(field) {
    this.field = field;
  }
  /**
   * <p>Decodes given set of received codewords, which include both data and error-correction
   * codewords. Really, this means it uses Reed-Solomon to detect and correct errors, in-place,
   * in the input.</p>
   *
   * @param received data and error-correction codewords
   * @param twoS number of error-correction codewords available
   * @throws ReedSolomonException if decoding fails for any reason
   */


  ReedSolomonDecoder.prototype.decode = function (received, twoS
  /*int*/
  ) {
    var field = this.field;
    var poly = new GenericGFPoly(field, received);
    var syndromeCoefficients = new Int32Array(twoS);
    var noError = true;

    for (var i = 0; i < twoS; i++) {
      var evalResult = poly.evaluateAt(field.exp(i + field.getGeneratorBase()));
      syndromeCoefficients[syndromeCoefficients.length - 1 - i] = evalResult;

      if (evalResult !== 0) {
        noError = false;
      }
    }

    if (noError) {
      return;
    }

    var syndrome = new GenericGFPoly(field, syndromeCoefficients);
    var sigmaOmega = this.runEuclideanAlgorithm(field.buildMonomial(twoS, 1), syndrome, twoS);
    var sigma = sigmaOmega[0];
    var omega = sigmaOmega[1];
    var errorLocations = this.findErrorLocations(sigma);
    var errorMagnitudes = this.findErrorMagnitudes(omega, errorLocations);

    for (var i = 0; i < errorLocations.length; i++) {
      var position = received.length - 1 - field.log(errorLocations[i]);

      if (position < 0) {
        throw new ReedSolomonException('Bad error location');
      }

      received[position] = GenericGF.addOrSubtract(received[position], errorMagnitudes[i]);
    }
  };

  ReedSolomonDecoder.prototype.runEuclideanAlgorithm = function (a, b, R
  /*int*/
  ) {
    // Assume a's degree is >= b's
    if (a.getDegree() < b.getDegree()) {
      var temp = a;
      a = b;
      b = temp;
    }

    var field = this.field;
    var rLast = a;
    var r = b;
    var tLast = field.getZero();
    var t = field.getOne(); // Run Euclidean algorithm until r's degree is less than R/2

    while (r.getDegree() >= (R / 2 | 0)) {
      var rLastLast = rLast;
      var tLastLast = tLast;
      rLast = r;
      tLast = t; // Divide rLastLast by rLast, with quotient in q and remainder in r

      if (rLast.isZero()) {
        // Oops, Euclidean algorithm already terminated?
        throw new ReedSolomonException('r_{i-1} was zero');
      }

      r = rLastLast;
      var q = field.getZero();
      var denominatorLeadingTerm = rLast.getCoefficient(rLast.getDegree());
      var dltInverse = field.inverse(denominatorLeadingTerm);

      while (r.getDegree() >= rLast.getDegree() && !r.isZero()) {
        var degreeDiff = r.getDegree() - rLast.getDegree();
        var scale = field.multiply(r.getCoefficient(r.getDegree()), dltInverse);
        q = q.addOrSubtract(field.buildMonomial(degreeDiff, scale));
        r = r.addOrSubtract(rLast.multiplyByMonomial(degreeDiff, scale));
      }

      t = q.multiply(tLast).addOrSubtract(tLastLast);

      if (r.getDegree() >= rLast.getDegree()) {
        throw new IllegalStateException('Division algorithm failed to reduce polynomial?');
      }
    }

    var sigmaTildeAtZero = t.getCoefficient(0);

    if (sigmaTildeAtZero === 0) {
      throw new ReedSolomonException('sigmaTilde(0) was zero');
    }

    var inverse = field.inverse(sigmaTildeAtZero);
    var sigma = t.multiplyScalar(inverse);
    var omega = r.multiplyScalar(inverse);
    return [sigma, omega];
  };

  ReedSolomonDecoder.prototype.findErrorLocations = function (errorLocator) {
    // This is a direct application of Chien's search
    var numErrors = errorLocator.getDegree();

    if (numErrors === 1) {
      // shortcut
      return Int32Array.from([errorLocator.getCoefficient(1)]);
    }

    var result = new Int32Array(numErrors);
    var e = 0;
    var field = this.field;

    for (var i = 1; i < field.getSize() && e < numErrors; i++) {
      if (errorLocator.evaluateAt(i) === 0) {
        result[e] = field.inverse(i);
        e++;
      }
    }

    if (e !== numErrors) {
      throw new ReedSolomonException('Error locator degree does not match number of roots');
    }

    return result;
  };

  ReedSolomonDecoder.prototype.findErrorMagnitudes = function (errorEvaluator, errorLocations) {
    // This is directly applying Forney's Formula
    var s = errorLocations.length;
    var result = new Int32Array(s);
    var field = this.field;

    for (var i = 0; i < s; i++) {
      var xiInverse = field.inverse(errorLocations[i]);
      var denominator = 1;

      for (var j = 0; j < s; j++) {
        if (i !== j) {
          // denominator = field.multiply(denominator,
          //    GenericGF.addOrSubtract(1, field.multiply(errorLocations[j], xiInverse)))
          // Above should work but fails on some Apple and Linux JDKs due to a Hotspot bug.
          // Below is a funny-looking workaround from Steven Parkes
          var term = field.multiply(errorLocations[j], xiInverse);
          var termPlus1 = (term & 0x1) === 0 ? term | 1 : term & ~1;
          denominator = field.multiply(denominator, termPlus1);
        }
      }

      result[i] = field.multiply(errorEvaluator.evaluateAt(xiInverse), field.inverse(denominator));

      if (field.getGeneratorBase() !== 0) {
        result[i] = field.multiply(result[i], xiInverse);
      }
    }

    return result;
  };

  return ReedSolomonDecoder;
}();

/*
 * Copyright 2010 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var Table;

(function (Table) {
  Table[Table["UPPER"] = 0] = "UPPER";
  Table[Table["LOWER"] = 1] = "LOWER";
  Table[Table["MIXED"] = 2] = "MIXED";
  Table[Table["DIGIT"] = 3] = "DIGIT";
  Table[Table["PUNCT"] = 4] = "PUNCT";
  Table[Table["BINARY"] = 5] = "BINARY";
})(Table || (Table = {}));
/**
 * <p>The main class which implements Aztec Code decoding -- as opposed to locating and extracting
 * the Aztec Code from an image.</p>
 *
 * @author David Olivier
 */


var Decoder$2 =
/** @class */
function () {
  function Decoder() {}

  Decoder.prototype.decode = function (detectorResult) {
    this.ddata = detectorResult;
    var matrix = detectorResult.getBits();
    var rawbits = this.extractBits(matrix);
    var correctedBits = this.correctBits(rawbits);
    var rawBytes = Decoder.convertBoolArrayToByteArray(correctedBits);
    var result = Decoder.getEncodedData(correctedBits);
    var decoderResult = new DecoderResult(rawBytes, result, null, null);
    decoderResult.setNumBits(correctedBits.length);
    return decoderResult;
  }; // This method is used for testing the high-level encoder


  Decoder.highLevelDecode = function (correctedBits) {
    return this.getEncodedData(correctedBits);
  };
  /**
   * Gets the string encoded in the aztec code bits
   *
   * @return the decoded string
   */


  Decoder.getEncodedData = function (correctedBits) {
    var endIndex = correctedBits.length;
    var latchTable = Table.UPPER; // table most recently latched to

    var shiftTable = Table.UPPER; // table to use for the next read

    var result = '';
    var index = 0;

    while (index < endIndex) {
      if (shiftTable === Table.BINARY) {
        if (endIndex - index < 5) {
          break;
        }

        var length_1 = Decoder.readCode(correctedBits, index, 5);
        index += 5;

        if (length_1 === 0) {
          if (endIndex - index < 11) {
            break;
          }

          length_1 = Decoder.readCode(correctedBits, index, 11) + 31;
          index += 11;
        }

        for (var charCount = 0; charCount < length_1; charCount++) {
          if (endIndex - index < 8) {
            index = endIndex; // Force outer loop to exit

            break;
          }

          var code = Decoder.readCode(correctedBits, index, 8);
          result +=
          /*(char)*/
          StringUtils.castAsNonUtf8Char(code);
          index += 8;
        } // Go back to whatever mode we had been in


        shiftTable = latchTable;
      } else {
        var size = shiftTable === Table.DIGIT ? 4 : 5;

        if (endIndex - index < size) {
          break;
        }

        var code = Decoder.readCode(correctedBits, index, size);
        index += size;
        var str = Decoder.getCharacter(shiftTable, code);

        if (str.startsWith('CTRL_')) {
          // Table changes
          // ISO/IEC 24778:2008 prescribes ending a shift sequence in the mode from which it was invoked.
          // That's including when that mode is a shift.
          // Our test case dlusbs.png for issue #642 exercises that.
          latchTable = shiftTable; // Latch the current mode, so as to return to Upper after U/S B/S

          shiftTable = Decoder.getTable(str.charAt(5));

          if (str.charAt(6) === 'L') {
            latchTable = shiftTable;
          }
        } else {
          result += str; // Go back to whatever mode we had been in

          shiftTable = latchTable;
        }
      }
    }

    return result;
  };
  /**
   * gets the table corresponding to the char passed
   */


  Decoder.getTable = function (t) {
    switch (t) {
      case 'L':
        return Table.LOWER;

      case 'P':
        return Table.PUNCT;

      case 'M':
        return Table.MIXED;

      case 'D':
        return Table.DIGIT;

      case 'B':
        return Table.BINARY;

      case 'U':
      default:
        return Table.UPPER;
    }
  };
  /**
   * Gets the character (or string) corresponding to the passed code in the given table
   *
   * @param table the table used
   * @param code the code of the character
   */


  Decoder.getCharacter = function (table, code) {
    switch (table) {
      case Table.UPPER:
        return Decoder.UPPER_TABLE[code];

      case Table.LOWER:
        return Decoder.LOWER_TABLE[code];

      case Table.MIXED:
        return Decoder.MIXED_TABLE[code];

      case Table.PUNCT:
        return Decoder.PUNCT_TABLE[code];

      case Table.DIGIT:
        return Decoder.DIGIT_TABLE[code];

      default:
        // Should not reach here.
        throw new IllegalStateException('Bad table');
    }
  };
  /**
   * <p>Performs RS error correction on an array of bits.</p>
   *
   * @return the corrected array
   * @throws FormatException if the input contains too many errors
   */


  Decoder.prototype.correctBits = function (rawbits) {
    var gf;
    var codewordSize;

    if (this.ddata.getNbLayers() <= 2) {
      codewordSize = 6;
      gf = GenericGF.AZTEC_DATA_6;
    } else if (this.ddata.getNbLayers() <= 8) {
      codewordSize = 8;
      gf = GenericGF.AZTEC_DATA_8;
    } else if (this.ddata.getNbLayers() <= 22) {
      codewordSize = 10;
      gf = GenericGF.AZTEC_DATA_10;
    } else {
      codewordSize = 12;
      gf = GenericGF.AZTEC_DATA_12;
    }

    var numDataCodewords = this.ddata.getNbDatablocks();
    var numCodewords = rawbits.length / codewordSize;

    if (numCodewords < numDataCodewords) {
      throw new FormatException();
    }

    var offset = rawbits.length % codewordSize;
    var dataWords = new Int32Array(numCodewords);

    for (var i = 0; i < numCodewords; i++, offset += codewordSize) {
      dataWords[i] = Decoder.readCode(rawbits, offset, codewordSize);
    }

    try {
      var rsDecoder = new ReedSolomonDecoder(gf);
      rsDecoder.decode(dataWords, numCodewords - numDataCodewords);
    } catch (ex) {
      throw new FormatException(ex);
    } // Now perform the unstuffing operation.
    // First, count how many bits are going to be thrown out as stuffing


    var mask = (1 << codewordSize) - 1;
    var stuffedBits = 0;

    for (var i = 0; i < numDataCodewords; i++) {
      var dataWord = dataWords[i];

      if (dataWord === 0 || dataWord === mask) {
        throw new FormatException();
      } else if (dataWord === 1 || dataWord === mask - 1) {
        stuffedBits++;
      }
    } // Now, actually unpack the bits and remove the stuffing


    var correctedBits = new Array(numDataCodewords * codewordSize - stuffedBits);
    var index = 0;

    for (var i = 0; i < numDataCodewords; i++) {
      var dataWord = dataWords[i];

      if (dataWord === 1 || dataWord === mask - 1) {
        // next codewordSize-1 bits are all zeros or all ones
        correctedBits.fill(dataWord > 1, index, index + codewordSize - 1); // Arrays.fill(correctedBits, index, index + codewordSize - 1, dataWord > 1);

        index += codewordSize - 1;
      } else {
        for (var bit = codewordSize - 1; bit >= 0; --bit) {
          correctedBits[index++] = (dataWord & 1 << bit) !== 0;
        }
      }
    }

    return correctedBits;
  };
  /**
   * Gets the array of bits from an Aztec Code matrix
   *
   * @return the array of bits
   */


  Decoder.prototype.extractBits = function (matrix) {
    var compact = this.ddata.isCompact();
    var layers = this.ddata.getNbLayers();
    var baseMatrixSize = (compact ? 11 : 14) + layers * 4; // not including alignment lines

    var alignmentMap = new Int32Array(baseMatrixSize);
    var rawbits = new Array(this.totalBitsInLayer(layers, compact));

    if (compact) {
      for (var i = 0; i < alignmentMap.length; i++) {
        alignmentMap[i] = i;
      }
    } else {
      var matrixSize = baseMatrixSize + 1 + 2 * Integer.truncDivision(Integer.truncDivision(baseMatrixSize, 2) - 1, 15);
      var origCenter = baseMatrixSize / 2;
      var center = Integer.truncDivision(matrixSize, 2);

      for (var i = 0; i < origCenter; i++) {
        var newOffset = i + Integer.truncDivision(i, 15);
        alignmentMap[origCenter - i - 1] = center - newOffset - 1;
        alignmentMap[origCenter + i] = center + newOffset + 1;
      }
    }

    for (var i = 0, rowOffset = 0; i < layers; i++) {
      var rowSize = (layers - i) * 4 + (compact ? 9 : 12); // The top-left most point of this layer is <low, low> (not including alignment lines)

      var low = i * 2; // The bottom-right most point of this layer is <high, high> (not including alignment lines)

      var high = baseMatrixSize - 1 - low; // We pull bits from the two 2 x rowSize columns and two rowSize x 2 rows

      for (var j = 0; j < rowSize; j++) {
        var columnOffset = j * 2;

        for (var k = 0; k < 2; k++) {
          // left column
          rawbits[rowOffset + columnOffset + k] = matrix.get(alignmentMap[low + k], alignmentMap[low + j]); // bottom row

          rawbits[rowOffset + 2 * rowSize + columnOffset + k] = matrix.get(alignmentMap[low + j], alignmentMap[high - k]); // right column

          rawbits[rowOffset + 4 * rowSize + columnOffset + k] = matrix.get(alignmentMap[high - k], alignmentMap[high - j]); // top row

          rawbits[rowOffset + 6 * rowSize + columnOffset + k] = matrix.get(alignmentMap[high - j], alignmentMap[low + k]);
        }
      }

      rowOffset += rowSize * 8;
    }

    return rawbits;
  };
  /**
   * Reads a code of given length and at given index in an array of bits
   */


  Decoder.readCode = function (rawbits, startIndex, length) {
    var res = 0;

    for (var i = startIndex; i < startIndex + length; i++) {
      res <<= 1;

      if (rawbits[i]) {
        res |= 0x01;
      }
    }

    return res;
  };
  /**
   * Reads a code of length 8 in an array of bits, padding with zeros
   */


  Decoder.readByte = function (rawbits, startIndex) {
    var n = rawbits.length - startIndex;

    if (n >= 8) {
      return Decoder.readCode(rawbits, startIndex, 8);
    }

    return Decoder.readCode(rawbits, startIndex, n) << 8 - n;
  };
  /**
   * Packs a bit array into bytes, most significant bit first
   */


  Decoder.convertBoolArrayToByteArray = function (boolArr) {
    var byteArr = new Uint8Array((boolArr.length + 7) / 8);

    for (var i = 0; i < byteArr.length; i++) {
      byteArr[i] = Decoder.readByte(boolArr, 8 * i);
    }

    return byteArr;
  };

  Decoder.prototype.totalBitsInLayer = function (layers, compact) {
    return ((compact ? 88 : 112) + 16 * layers) * layers;
  };

  Decoder.UPPER_TABLE = ['CTRL_PS', ' ', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'CTRL_LL', 'CTRL_ML', 'CTRL_DL', 'CTRL_BS'];
  Decoder.LOWER_TABLE = ['CTRL_PS', ' ', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'CTRL_US', 'CTRL_ML', 'CTRL_DL', 'CTRL_BS'];
  Decoder.MIXED_TABLE = [// Module parse failed: Octal literal in strict mode (50:29)
  // so number string were scaped
  'CTRL_PS', ' ', '\\1', '\\2', '\\3', '\\4', '\\5', '\\6', '\\7', '\b', '\t', '\n', '\\13', '\f', '\r', '\\33', '\\34', '\\35', '\\36', '\\37', '@', '\\', '^', '_', '`', '|', '~', '\\177', 'CTRL_LL', 'CTRL_UL', 'CTRL_PL', 'CTRL_BS'];
  Decoder.PUNCT_TABLE = ['', '\r', '\r\n', '. ', ', ', ': ', '!', '"', '#', '$', '%', '&', '\'', '(', ')', '*', '+', ',', '-', '.', '/', ':', ';', '<', '=', '>', '?', '[', ']', '{', '}', 'CTRL_UL'];
  Decoder.DIGIT_TABLE = ['CTRL_PS', ' ', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ',', '.', 'CTRL_UL', 'CTRL_US'];
  return Decoder;
}();

/*
 * Copyright 2012 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*namespace com.google.zxing.common.detector {*/

/**
 * General math-related and numeric utility functions.
 */
var MathUtils =
/** @class */
function () {
  function MathUtils() {}
  /**
   * Ends up being a bit faster than {@link Math#round(float)}. This merely rounds its
   * argument to the nearest int, where x.5 rounds up to x+1. Semantics of this shortcut
   * differ slightly from {@link Math#round(float)} in that half rounds down for negative
   * values. -2.5 rounds to -3, not -2. For purposes here it makes no difference.
   *
   * @param d real value to round
   * @return nearest {@code int}
   */


  MathUtils.round = function (d
  /*float*/
  ) {
    if (NaN === d) return 0;
    if (d <= Number.MIN_SAFE_INTEGER) return Number.MIN_SAFE_INTEGER;
    if (d >= Number.MAX_SAFE_INTEGER) return Number.MAX_SAFE_INTEGER;
    return (
      /*(int) */
      d + (d < 0.0 ? -0.5 : 0.5) | 0
    );
  }; // TYPESCRIPTPORT: maybe remove round method and call directly Math.round, it looks like it doesn't make sense for js

  /**
   * @param aX point A x coordinate
   * @param aY point A y coordinate
   * @param bX point B x coordinate
   * @param bY point B y coordinate
   * @return Euclidean distance between points A and B
   */


  MathUtils.distance = function (aX
  /*float|int*/
  , aY
  /*float|int*/
  , bX
  /*float|int*/
  , bY
  /*float|int*/
  ) {
    var xDiff = aX - bX;
    var yDiff = aY - bY;
    return (
      /*(float) */
      Math.sqrt(xDiff * xDiff + yDiff * yDiff)
    );
  };
  /**
   * @param aX point A x coordinate
   * @param aY point A y coordinate
   * @param bX point B x coordinate
   * @param bY point B y coordinate
   * @return Euclidean distance between points A and B
   */
  // public static distance(aX: number /*int*/, aY: number /*int*/, bX: number /*int*/, bY: number /*int*/): float {
  //   const xDiff = aX - bX
  //   const yDiff = aY - bY
  //   return (float) Math.sqrt(xDiff * xDiff + yDiff * yDiff);
  // }

  /**
   * @param array values to sum
   * @return sum of values in array
   */


  MathUtils.sum = function (array) {
    var count = 0;

    for (var i = 0, length_1 = array.length; i !== length_1; i++) {
      var a = array[i];
      count += a;
    }

    return count;
  };

  return MathUtils;
}();

/**
 * Ponyfill for Java's Float class.
 */
var Float =
/** @class */
function () {
  function Float() {}
  /**
   * SincTS has no difference between int and float, there's all numbers,
   * this is used only to polyfill Java code.
   */


  Float.floatToIntBits = function (f) {
    return f;
  };
  /**
   * The float max value in JS is the number max value.
   */


  Float.MAX_VALUE = Number.MAX_SAFE_INTEGER;
  return Float;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>Encapsulates a point of interest in an image containing a barcode. Typically, this
 * would be the location of a finder pattern or the corner of the barcode, for example.</p>
 *
 * @author Sean Owen
 */

var ResultPoint =
/** @class */
function () {
  function ResultPoint(x, y) {
    this.x = x;
    this.y = y;
  }

  ResultPoint.prototype.getX = function () {
    return this.x;
  };

  ResultPoint.prototype.getY = function () {
    return this.y;
  };
  /*@Override*/


  ResultPoint.prototype.equals = function (other) {
    if (other instanceof ResultPoint) {
      var otherPoint = other;
      return this.x === otherPoint.x && this.y === otherPoint.y;
    }

    return false;
  };
  /*@Override*/


  ResultPoint.prototype.hashCode = function () {
    return 31 * Float.floatToIntBits(this.x) + Float.floatToIntBits(this.y);
  };
  /*@Override*/


  ResultPoint.prototype.toString = function () {
    return '(' + this.x + ',' + this.y + ')';
  };
  /**
   * Orders an array of three ResultPoints in an order [A,B,C] such that AB is less than AC
   * and BC is less than AC, and the angle between BC and BA is less than 180 degrees.
   *
   * @param patterns array of three {@code ResultPoint} to order
   */


  ResultPoint.orderBestPatterns = function (patterns) {
    // Find distances between pattern centers
    var zeroOneDistance = this.distance(patterns[0], patterns[1]);
    var oneTwoDistance = this.distance(patterns[1], patterns[2]);
    var zeroTwoDistance = this.distance(patterns[0], patterns[2]);
    var pointA;
    var pointB;
    var pointC; // Assume one closest to other two is B; A and C will just be guesses at first

    if (oneTwoDistance >= zeroOneDistance && oneTwoDistance >= zeroTwoDistance) {
      pointB = patterns[0];
      pointA = patterns[1];
      pointC = patterns[2];
    } else if (zeroTwoDistance >= oneTwoDistance && zeroTwoDistance >= zeroOneDistance) {
      pointB = patterns[1];
      pointA = patterns[0];
      pointC = patterns[2];
    } else {
      pointB = patterns[2];
      pointA = patterns[0];
      pointC = patterns[1];
    } // Use cross product to figure out whether A and C are correct or flipped.
    // This asks whether BC x BA has a positive z component, which is the arrangement
    // we want for A, B, C. If it's negative, then we've got it flipped around and
    // should swap A and C.


    if (this.crossProductZ(pointA, pointB, pointC) < 0.0) {
      var temp = pointA;
      pointA = pointC;
      pointC = temp;
    }

    patterns[0] = pointA;
    patterns[1] = pointB;
    patterns[2] = pointC;
  };
  /**
   * @param pattern1 first pattern
   * @param pattern2 second pattern
   * @return distance between two points
   */


  ResultPoint.distance = function (pattern1, pattern2) {
    return MathUtils.distance(pattern1.x, pattern1.y, pattern2.x, pattern2.y);
  };
  /**
   * Returns the z component of the cross product between vectors BC and BA.
   */


  ResultPoint.crossProductZ = function (pointA, pointB, pointC) {
    var bX = pointB.x;
    var bY = pointB.y;
    return (pointC.x - bX) * (pointA.y - bY) - (pointC.y - bY) * (pointA.x - bX);
  };

  return ResultPoint;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * <p>Encapsulates the result of detecting a barcode in an image. This includes the raw
 * matrix of black/white pixels corresponding to the barcode, and possibly points of interest
 * in the image, like the location of finder patterns or corners of the barcode in the image.</p>
 *
 * @author Sean Owen
 */
var DetectorResult =
/** @class */
function () {
  function DetectorResult(bits, points) {
    this.bits = bits;
    this.points = points;
  }

  DetectorResult.prototype.getBits = function () {
    return this.bits;
  };

  DetectorResult.prototype.getPoints = function () {
    return this.points;
  };

  return DetectorResult;
}();

/*
 * Copyright 2010 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$N = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * <p>Extends {@link DetectorResult} with more information specific to the Aztec format,
 * like the number of layers and whether it's compact.</p>
 *
 * @author Sean Owen
 */

var AztecDetectorResult =
/** @class */
function (_super) {
  __extends$N(AztecDetectorResult, _super);

  function AztecDetectorResult(bits, points, compact, nbDatablocks, nbLayers) {
    var _this = _super.call(this, bits, points) || this;

    _this.compact = compact;
    _this.nbDatablocks = nbDatablocks;
    _this.nbLayers = nbLayers;
    return _this;
  }

  AztecDetectorResult.prototype.getNbLayers = function () {
    return this.nbLayers;
  };

  AztecDetectorResult.prototype.getNbDatablocks = function () {
    return this.nbDatablocks;
  };

  AztecDetectorResult.prototype.isCompact = function () {
    return this.compact;
  };

  return AztecDetectorResult;
}(DetectorResult);

/*
 * Copyright 2010 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>
 * Detects a candidate barcode-like rectangular region within an image. It
 * starts around the center of the image, increases the size of the candidate
 * region until it finds a white rectangular region. By keeping track of the
 * last black points it encountered, it determines the corners of the barcode.
 * </p>
 *
 * @author David Olivier
 */

var WhiteRectangleDetector =
/** @class */
function () {
  // public constructor(private image: BitMatrix) /*throws NotFoundException*/ {
  //   this(image, INIT_SIZE, image.getWidth() / 2, image.getHeight() / 2)
  // }

  /**
   * @param image barcode image to find a rectangle in
   * @param initSize initial size of search area around center
   * @param x x position of search center
   * @param y y position of search center
   * @throws NotFoundException if image is too small to accommodate {@code initSize}
   */
  function WhiteRectangleDetector(image, initSize
  /*int*/
  , x
  /*int*/
  , y
  /*int*/
  ) {
    this.image = image;
    this.height = image.getHeight();
    this.width = image.getWidth();

    if (undefined === initSize || null === initSize) {
      initSize = WhiteRectangleDetector.INIT_SIZE;
    }

    if (undefined === x || null === x) {
      x = image.getWidth() / 2 | 0;
    }

    if (undefined === y || null === y) {
      y = image.getHeight() / 2 | 0;
    }

    var halfsize = initSize / 2 | 0;
    this.leftInit = x - halfsize;
    this.rightInit = x + halfsize;
    this.upInit = y - halfsize;
    this.downInit = y + halfsize;

    if (this.upInit < 0 || this.leftInit < 0 || this.downInit >= this.height || this.rightInit >= this.width) {
      throw new NotFoundException();
    }
  }
  /**
   * <p>
   * Detects a candidate barcode-like rectangular region within an image. It
   * starts around the center of the image, increases the size of the candidate
   * region until it finds a white rectangular region.
   * </p>
   *
   * @return {@link ResultPoint}[] describing the corners of the rectangular
   *         region. The first and last points are opposed on the diagonal, as
   *         are the second and third. The first point will be the topmost
   *         point and the last, the bottommost. The second point will be
   *         leftmost and the third, the rightmost
   * @throws NotFoundException if no Data Matrix Code can be found
   */


  WhiteRectangleDetector.prototype.detect = function () {
    var left = this.leftInit;
    var right = this.rightInit;
    var up = this.upInit;
    var down = this.downInit;
    var sizeExceeded = false;
    var aBlackPointFoundOnBorder = true;
    var atLeastOneBlackPointFoundOnBorder = false;
    var atLeastOneBlackPointFoundOnRight = false;
    var atLeastOneBlackPointFoundOnBottom = false;
    var atLeastOneBlackPointFoundOnLeft = false;
    var atLeastOneBlackPointFoundOnTop = false;
    var width = this.width;
    var height = this.height;

    while (aBlackPointFoundOnBorder) {
      aBlackPointFoundOnBorder = false; // .....
      // .   |
      // .....

      var rightBorderNotWhite = true;

      while ((rightBorderNotWhite || !atLeastOneBlackPointFoundOnRight) && right < width) {
        rightBorderNotWhite = this.containsBlackPoint(up, down, right, false);

        if (rightBorderNotWhite) {
          right++;
          aBlackPointFoundOnBorder = true;
          atLeastOneBlackPointFoundOnRight = true;
        } else if (!atLeastOneBlackPointFoundOnRight) {
          right++;
        }
      }

      if (right >= width) {
        sizeExceeded = true;
        break;
      } // .....
      // .   .
      // .___.


      var bottomBorderNotWhite = true;

      while ((bottomBorderNotWhite || !atLeastOneBlackPointFoundOnBottom) && down < height) {
        bottomBorderNotWhite = this.containsBlackPoint(left, right, down, true);

        if (bottomBorderNotWhite) {
          down++;
          aBlackPointFoundOnBorder = true;
          atLeastOneBlackPointFoundOnBottom = true;
        } else if (!atLeastOneBlackPointFoundOnBottom) {
          down++;
        }
      }

      if (down >= height) {
        sizeExceeded = true;
        break;
      } // .....
      // |   .
      // .....


      var leftBorderNotWhite = true;

      while ((leftBorderNotWhite || !atLeastOneBlackPointFoundOnLeft) && left >= 0) {
        leftBorderNotWhite = this.containsBlackPoint(up, down, left, false);

        if (leftBorderNotWhite) {
          left--;
          aBlackPointFoundOnBorder = true;
          atLeastOneBlackPointFoundOnLeft = true;
        } else if (!atLeastOneBlackPointFoundOnLeft) {
          left--;
        }
      }

      if (left < 0) {
        sizeExceeded = true;
        break;
      } // .___.
      // .   .
      // .....


      var topBorderNotWhite = true;

      while ((topBorderNotWhite || !atLeastOneBlackPointFoundOnTop) && up >= 0) {
        topBorderNotWhite = this.containsBlackPoint(left, right, up, true);

        if (topBorderNotWhite) {
          up--;
          aBlackPointFoundOnBorder = true;
          atLeastOneBlackPointFoundOnTop = true;
        } else if (!atLeastOneBlackPointFoundOnTop) {
          up--;
        }
      }

      if (up < 0) {
        sizeExceeded = true;
        break;
      }

      if (aBlackPointFoundOnBorder) {
        atLeastOneBlackPointFoundOnBorder = true;
      }
    }

    if (!sizeExceeded && atLeastOneBlackPointFoundOnBorder) {
      var maxSize = right - left;
      var z = null;

      for (var i = 1; z === null && i < maxSize; i++) {
        z = this.getBlackPointOnSegment(left, down - i, left + i, down);
      }

      if (z == null) {
        throw new NotFoundException();
      }

      var t = null; // go down right

      for (var i = 1; t === null && i < maxSize; i++) {
        t = this.getBlackPointOnSegment(left, up + i, left + i, up);
      }

      if (t == null) {
        throw new NotFoundException();
      }

      var x = null; // go down left

      for (var i = 1; x === null && i < maxSize; i++) {
        x = this.getBlackPointOnSegment(right, up + i, right - i, up);
      }

      if (x == null) {
        throw new NotFoundException();
      }

      var y = null; // go up left

      for (var i = 1; y === null && i < maxSize; i++) {
        y = this.getBlackPointOnSegment(right, down - i, right - i, down);
      }

      if (y == null) {
        throw new NotFoundException();
      }

      return this.centerEdges(y, z, x, t);
    } else {
      throw new NotFoundException();
    }
  };

  WhiteRectangleDetector.prototype.getBlackPointOnSegment = function (aX
  /*float*/
  , aY
  /*float*/
  , bX
  /*float*/
  , bY
  /*float*/
  ) {
    var dist = MathUtils.round(MathUtils.distance(aX, aY, bX, bY));
    var xStep = (bX - aX) / dist;
    var yStep = (bY - aY) / dist;
    var image = this.image;

    for (var i = 0; i < dist; i++) {
      var x = MathUtils.round(aX + i * xStep);
      var y = MathUtils.round(aY + i * yStep);

      if (image.get(x, y)) {
        return new ResultPoint(x, y);
      }
    }

    return null;
  };
  /**
   * recenters the points of a constant distance towards the center
   *
   * @param y bottom most point
   * @param z left most point
   * @param x right most point
   * @param t top most point
   * @return {@link ResultPoint}[] describing the corners of the rectangular
   *         region. The first and last points are opposed on the diagonal, as
   *         are the second and third. The first point will be the topmost
   *         point and the last, the bottommost. The second point will be
   *         leftmost and the third, the rightmost
   */


  WhiteRectangleDetector.prototype.centerEdges = function (y, z, x, t) {
    //
    //       t            t
    //  z                      x
    //        x    OR    z
    //   y                    y
    //
    var yi = y.getX();
    var yj = y.getY();
    var zi = z.getX();
    var zj = z.getY();
    var xi = x.getX();
    var xj = x.getY();
    var ti = t.getX();
    var tj = t.getY();
    var CORR = WhiteRectangleDetector.CORR;

    if (yi < this.width / 2.0) {
      return [new ResultPoint(ti - CORR, tj + CORR), new ResultPoint(zi + CORR, zj + CORR), new ResultPoint(xi - CORR, xj - CORR), new ResultPoint(yi + CORR, yj - CORR)];
    } else {
      return [new ResultPoint(ti + CORR, tj + CORR), new ResultPoint(zi + CORR, zj - CORR), new ResultPoint(xi - CORR, xj + CORR), new ResultPoint(yi - CORR, yj - CORR)];
    }
  };
  /**
   * Determines whether a segment contains a black point
   *
   * @param a          min value of the scanned coordinate
   * @param b          max value of the scanned coordinate
   * @param fixed      value of fixed coordinate
   * @param horizontal set to true if scan must be horizontal, false if vertical
   * @return true if a black point has been found, else false.
   */


  WhiteRectangleDetector.prototype.containsBlackPoint = function (a
  /*int*/
  , b
  /*int*/
  , fixed
  /*int*/
  , horizontal) {
    var image = this.image;

    if (horizontal) {
      for (var x = a; x <= b; x++) {
        if (image.get(x, fixed)) {
          return true;
        }
      }
    } else {
      for (var y = a; y <= b; y++) {
        if (image.get(fixed, y)) {
          return true;
        }
      }
    }

    return false;
  };

  WhiteRectangleDetector.INIT_SIZE = 10;
  WhiteRectangleDetector.CORR = 1;
  return WhiteRectangleDetector;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Implementations of this class can, given locations of finder patterns for a QR code in an
 * image, sample the right points in the image to reconstruct the QR code, accounting for
 * perspective distortion. It is abstracted since it is relatively expensive and should be allowed
 * to take advantage of platform-specific optimized implementations, like Sun's Java Advanced
 * Imaging library, but which may not be available in other environments such as J2ME, and vice
 * versa.
 *
 * The implementation used can be controlled by calling {@link #setGridSampler(GridSampler)}
 * with an instance of a class which implements this interface.
 *
 * @author Sean Owen
 */

var GridSampler =
/** @class */
function () {
  function GridSampler() {}
  /**
   * <p>Checks a set of points that have been transformed to sample points on an image against
   * the image's dimensions to see if the point are even within the image.</p>
   *
   * <p>This method will actually "nudge" the endpoints back onto the image if they are found to be
   * barely (less than 1 pixel) off the image. This accounts for imperfect detection of finder
   * patterns in an image where the QR Code runs all the way to the image border.</p>
   *
   * <p>For efficiency, the method will check points from either end of the line until one is found
   * to be within the image. Because the set of points are assumed to be linear, this is valid.</p>
   *
   * @param image image into which the points should map
   * @param points actual points in x1,y1,...,xn,yn form
   * @throws NotFoundException if an endpoint is lies outside the image boundaries
   */


  GridSampler.checkAndNudgePoints = function (image, points) {
    var width = image.getWidth();
    var height = image.getHeight(); // Check and nudge points from start until we see some that are OK:

    var nudged = true;

    for (var offset = 0; offset < points.length && nudged; offset += 2) {
      var x = Math.floor(points[offset]);
      var y = Math.floor(points[offset + 1]);

      if (x < -1 || x > width || y < -1 || y > height) {
        throw new NotFoundException();
      }

      nudged = false;

      if (x === -1) {
        points[offset] = 0.0;
        nudged = true;
      } else if (x === width) {
        points[offset] = width - 1;
        nudged = true;
      }

      if (y === -1) {
        points[offset + 1] = 0.0;
        nudged = true;
      } else if (y === height) {
        points[offset + 1] = height - 1;
        nudged = true;
      }
    } // Check and nudge points from end:


    nudged = true;

    for (var offset = points.length - 2; offset >= 0 && nudged; offset -= 2) {
      var x = Math.floor(points[offset]);
      var y = Math.floor(points[offset + 1]);

      if (x < -1 || x > width || y < -1 || y > height) {
        throw new NotFoundException();
      }

      nudged = false;

      if (x === -1) {
        points[offset] = 0.0;
        nudged = true;
      } else if (x === width) {
        points[offset] = width - 1;
        nudged = true;
      }

      if (y === -1) {
        points[offset + 1] = 0.0;
        nudged = true;
      } else if (y === height) {
        points[offset + 1] = height - 1;
        nudged = true;
      }
    }
  };

  return GridSampler;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*namespace com.google.zxing.common {*/

/**
 * <p>This class implements a perspective transform in two dimensions. Given four source and four
 * destination points, it will compute the transformation implied between them. The code is based
 * directly upon section 3.4.2 of George Wolberg's "Digital Image Warping"; see pages 54-56.</p>
 *
 * @author Sean Owen
 */
var PerspectiveTransform =
/** @class */
function () {
  function PerspectiveTransform(a11
  /*float*/
  , a21
  /*float*/
  , a31
  /*float*/
  , a12
  /*float*/
  , a22
  /*float*/
  , a32
  /*float*/
  , a13
  /*float*/
  , a23
  /*float*/
  , a33
  /*float*/
  ) {
    this.a11 = a11;
    this.a21 = a21;
    this.a31 = a31;
    this.a12 = a12;
    this.a22 = a22;
    this.a32 = a32;
    this.a13 = a13;
    this.a23 = a23;
    this.a33 = a33;
  }

  PerspectiveTransform.quadrilateralToQuadrilateral = function (x0
  /*float*/
  , y0
  /*float*/
  , x1
  /*float*/
  , y1
  /*float*/
  , x2
  /*float*/
  , y2
  /*float*/
  , x3
  /*float*/
  , y3
  /*float*/
  , x0p
  /*float*/
  , y0p
  /*float*/
  , x1p
  /*float*/
  , y1p
  /*float*/
  , x2p
  /*float*/
  , y2p
  /*float*/
  , x3p
  /*float*/
  , y3p
  /*float*/
  ) {
    var qToS = PerspectiveTransform.quadrilateralToSquare(x0, y0, x1, y1, x2, y2, x3, y3);
    var sToQ = PerspectiveTransform.squareToQuadrilateral(x0p, y0p, x1p, y1p, x2p, y2p, x3p, y3p);
    return sToQ.times(qToS);
  };

  PerspectiveTransform.prototype.transformPoints = function (points) {
    var max = points.length;
    var a11 = this.a11;
    var a12 = this.a12;
    var a13 = this.a13;
    var a21 = this.a21;
    var a22 = this.a22;
    var a23 = this.a23;
    var a31 = this.a31;
    var a32 = this.a32;
    var a33 = this.a33;

    for (var i = 0; i < max; i += 2) {
      var x = points[i];
      var y = points[i + 1];
      var denominator = a13 * x + a23 * y + a33;
      points[i] = (a11 * x + a21 * y + a31) / denominator;
      points[i + 1] = (a12 * x + a22 * y + a32) / denominator;
    }
  };

  PerspectiveTransform.prototype.transformPointsWithValues = function (xValues, yValues) {
    var a11 = this.a11;
    var a12 = this.a12;
    var a13 = this.a13;
    var a21 = this.a21;
    var a22 = this.a22;
    var a23 = this.a23;
    var a31 = this.a31;
    var a32 = this.a32;
    var a33 = this.a33;
    var n = xValues.length;

    for (var i = 0; i < n; i++) {
      var x = xValues[i];
      var y = yValues[i];
      var denominator = a13 * x + a23 * y + a33;
      xValues[i] = (a11 * x + a21 * y + a31) / denominator;
      yValues[i] = (a12 * x + a22 * y + a32) / denominator;
    }
  };

  PerspectiveTransform.squareToQuadrilateral = function (x0
  /*float*/
  , y0
  /*float*/
  , x1
  /*float*/
  , y1
  /*float*/
  , x2
  /*float*/
  , y2
  /*float*/
  , x3
  /*float*/
  , y3
  /*float*/
  ) {
    var dx3 = x0 - x1 + x2 - x3;
    var dy3 = y0 - y1 + y2 - y3;

    if (dx3 === 0.0 && dy3 === 0.0) {
      // Affine
      return new PerspectiveTransform(x1 - x0, x2 - x1, x0, y1 - y0, y2 - y1, y0, 0.0, 0.0, 1.0);
    } else {
      var dx1 = x1 - x2;
      var dx2 = x3 - x2;
      var dy1 = y1 - y2;
      var dy2 = y3 - y2;
      var denominator = dx1 * dy2 - dx2 * dy1;
      var a13 = (dx3 * dy2 - dx2 * dy3) / denominator;
      var a23 = (dx1 * dy3 - dx3 * dy1) / denominator;
      return new PerspectiveTransform(x1 - x0 + a13 * x1, x3 - x0 + a23 * x3, x0, y1 - y0 + a13 * y1, y3 - y0 + a23 * y3, y0, a13, a23, 1.0);
    }
  };

  PerspectiveTransform.quadrilateralToSquare = function (x0
  /*float*/
  , y0
  /*float*/
  , x1
  /*float*/
  , y1
  /*float*/
  , x2
  /*float*/
  , y2
  /*float*/
  , x3
  /*float*/
  , y3
  /*float*/
  ) {
    // Here, the adjoint serves as the inverse:
    return PerspectiveTransform.squareToQuadrilateral(x0, y0, x1, y1, x2, y2, x3, y3).buildAdjoint();
  };

  PerspectiveTransform.prototype.buildAdjoint = function () {
    // Adjoint is the transpose of the cofactor matrix:
    return new PerspectiveTransform(this.a22 * this.a33 - this.a23 * this.a32, this.a23 * this.a31 - this.a21 * this.a33, this.a21 * this.a32 - this.a22 * this.a31, this.a13 * this.a32 - this.a12 * this.a33, this.a11 * this.a33 - this.a13 * this.a31, this.a12 * this.a31 - this.a11 * this.a32, this.a12 * this.a23 - this.a13 * this.a22, this.a13 * this.a21 - this.a11 * this.a23, this.a11 * this.a22 - this.a12 * this.a21);
  };

  PerspectiveTransform.prototype.times = function (other) {
    return new PerspectiveTransform(this.a11 * other.a11 + this.a21 * other.a12 + this.a31 * other.a13, this.a11 * other.a21 + this.a21 * other.a22 + this.a31 * other.a23, this.a11 * other.a31 + this.a21 * other.a32 + this.a31 * other.a33, this.a12 * other.a11 + this.a22 * other.a12 + this.a32 * other.a13, this.a12 * other.a21 + this.a22 * other.a22 + this.a32 * other.a23, this.a12 * other.a31 + this.a22 * other.a32 + this.a32 * other.a33, this.a13 * other.a11 + this.a23 * other.a12 + this.a33 * other.a13, this.a13 * other.a21 + this.a23 * other.a22 + this.a33 * other.a23, this.a13 * other.a31 + this.a23 * other.a32 + this.a33 * other.a33);
  };

  return PerspectiveTransform;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$M = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * @author Sean Owen
 */

var DefaultGridSampler =
/** @class */
function (_super) {
  __extends$M(DefaultGridSampler, _super);

  function DefaultGridSampler() {
    return _super !== null && _super.apply(this, arguments) || this;
  }
  /*@Override*/


  DefaultGridSampler.prototype.sampleGrid = function (image, dimensionX
  /*int*/
  , dimensionY
  /*int*/
  , p1ToX
  /*float*/
  , p1ToY
  /*float*/
  , p2ToX
  /*float*/
  , p2ToY
  /*float*/
  , p3ToX
  /*float*/
  , p3ToY
  /*float*/
  , p4ToX
  /*float*/
  , p4ToY
  /*float*/
  , p1FromX
  /*float*/
  , p1FromY
  /*float*/
  , p2FromX
  /*float*/
  , p2FromY
  /*float*/
  , p3FromX
  /*float*/
  , p3FromY
  /*float*/
  , p4FromX
  /*float*/
  , p4FromY
  /*float*/
  ) {
    var transform = PerspectiveTransform.quadrilateralToQuadrilateral(p1ToX, p1ToY, p2ToX, p2ToY, p3ToX, p3ToY, p4ToX, p4ToY, p1FromX, p1FromY, p2FromX, p2FromY, p3FromX, p3FromY, p4FromX, p4FromY);
    return this.sampleGridWithTransform(image, dimensionX, dimensionY, transform);
  };
  /*@Override*/


  DefaultGridSampler.prototype.sampleGridWithTransform = function (image, dimensionX
  /*int*/
  , dimensionY
  /*int*/
  , transform) {
    if (dimensionX <= 0 || dimensionY <= 0) {
      throw new NotFoundException();
    }

    var bits = new BitMatrix(dimensionX, dimensionY);
    var points = new Float32Array(2 * dimensionX);

    for (var y = 0; y < dimensionY; y++) {
      var max = points.length;
      var iValue = y + 0.5;

      for (var x = 0; x < max; x += 2) {
        points[x] = x / 2 + 0.5;
        points[x + 1] = iValue;
      }

      transform.transformPoints(points); // Quick check to see if points transformed to something inside the image
      // sufficient to check the endpoints

      GridSampler.checkAndNudgePoints(image, points);

      try {
        for (var x = 0; x < max; x += 2) {
          if (image.get(Math.floor(points[x]), Math.floor(points[x + 1]))) {
            // Black(-ish) pixel
            bits.set(x / 2, y);
          }
        }
      } catch (aioobe
      /*: ArrayIndexOutOfBoundsException*/
      ) {
        // This feels wrong, but, sometimes if the finder patterns are misidentified, the resulting
        // transform gets "twisted" such that it maps a straight line of points to a set of points
        // whose endpoints are in bounds, but others are not. There is probably some mathematical
        // way to detect this about the transformation that I don't know yet.
        // This results in an ugly runtime exception despite our clever checks above -- can't have
        // that. We could check each point's coordinates but that feels duplicative. We settle for
        // catching and wrapping ArrayIndexOutOfBoundsException.
        throw new NotFoundException();
      }
    }

    return bits;
  };

  return DefaultGridSampler;
}(GridSampler);

var GridSamplerInstance =
/** @class */
function () {
  function GridSamplerInstance() {}
  /**
   * Sets the implementation of GridSampler used by the library. One global
   * instance is stored, which may sound problematic. But, the implementation provided
   * ought to be appropriate for the entire platform, and all uses of this library
   * in the whole lifetime of the JVM. For instance, an Android activity can swap in
   * an implementation that takes advantage of native platform libraries.
   *
   * @param newGridSampler The platform-specific object to install.
   */


  GridSamplerInstance.setGridSampler = function (newGridSampler) {
    GridSamplerInstance.gridSampler = newGridSampler;
  };
  /**
   * @return the current implementation of GridSampler
   */


  GridSamplerInstance.getInstance = function () {
    return GridSamplerInstance.gridSampler;
  };

  GridSamplerInstance.gridSampler = new DefaultGridSampler();
  return GridSamplerInstance;
}();

/*
 * Copyright 2010 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var Point =
/** @class */
function () {
  function Point(x, y) {
    this.x = x;
    this.y = y;
  }

  Point.prototype.toResultPoint = function () {
    return new ResultPoint(this.getX(), this.getY());
  };

  Point.prototype.getX = function () {
    return this.x;
  };

  Point.prototype.getY = function () {
    return this.y;
  };

  return Point;
}();
/**
 * Encapsulates logic that can detect an Aztec Code in an image, even if the Aztec Code
 * is rotated or skewed, or partially obscured.
 *
 * @author David Olivier
 * @author Frank Yellin
 */

var Detector$3 =
/** @class */
function () {
  function Detector(image) {
    this.EXPECTED_CORNER_BITS = new Int32Array([0xee0, 0x1dc, 0x83b, 0x707]);
    this.image = image;
  }

  Detector.prototype.detect = function () {
    return this.detectMirror(false);
  };
  /**
   * Detects an Aztec Code in an image.
   *
   * @param isMirror if true, image is a mirror-image of original
   * @return {@link AztecDetectorResult} encapsulating results of detecting an Aztec Code
   * @throws NotFoundException if no Aztec Code can be found
   */


  Detector.prototype.detectMirror = function (isMirror) {
    // 1. Get the center of the aztec matrix
    var pCenter = this.getMatrixCenter(); // 2. Get the center points of the four diagonal points just outside the bull's eye
    //  [topRight, bottomRight, bottomLeft, topLeft]

    var bullsEyeCorners = this.getBullsEyeCorners(pCenter);

    if (isMirror) {
      var temp = bullsEyeCorners[0];
      bullsEyeCorners[0] = bullsEyeCorners[2];
      bullsEyeCorners[2] = temp;
    } // 3. Get the size of the matrix and other parameters from the bull's eye


    this.extractParameters(bullsEyeCorners); // 4. Sample the grid

    var bits = this.sampleGrid(this.image, bullsEyeCorners[this.shift % 4], bullsEyeCorners[(this.shift + 1) % 4], bullsEyeCorners[(this.shift + 2) % 4], bullsEyeCorners[(this.shift + 3) % 4]); // 5. Get the corners of the matrix.

    var corners = this.getMatrixCornerPoints(bullsEyeCorners);
    return new AztecDetectorResult(bits, corners, this.compact, this.nbDataBlocks, this.nbLayers);
  };
  /**
   * Extracts the number of data layers and data blocks from the layer around the bull's eye.
   *
   * @param bullsEyeCorners the array of bull's eye corners
   * @throws NotFoundException in case of too many errors or invalid parameters
   */


  Detector.prototype.extractParameters = function (bullsEyeCorners) {
    if (!this.isValidPoint(bullsEyeCorners[0]) || !this.isValidPoint(bullsEyeCorners[1]) || !this.isValidPoint(bullsEyeCorners[2]) || !this.isValidPoint(bullsEyeCorners[3])) {
      throw new NotFoundException();
    }

    var length = 2 * this.nbCenterLayers; // Get the bits around the bull's eye

    var sides = new Int32Array([this.sampleLine(bullsEyeCorners[0], bullsEyeCorners[1], length), this.sampleLine(bullsEyeCorners[1], bullsEyeCorners[2], length), this.sampleLine(bullsEyeCorners[2], bullsEyeCorners[3], length), this.sampleLine(bullsEyeCorners[3], bullsEyeCorners[0], length) // Top
    ]); // bullsEyeCorners[shift] is the corner of the bulls'eye that has three
    // orientation marks.
    // sides[shift] is the row/column that goes from the corner with three
    // orientation marks to the corner with two.

    this.shift = this.getRotation(sides, length); // Flatten the parameter bits into a single 28- or 40-bit long

    var parameterData = 0;

    for (var i = 0; i < 4; i++) {
      var side = sides[(this.shift + i) % 4];

      if (this.compact) {
        // Each side of the form ..XXXXXXX. where Xs are parameter data
        parameterData <<= 7;
        parameterData += side >> 1 & 0x7F;
      } else {
        // Each side of the form ..XXXXX.XXXXX. where Xs are parameter data
        parameterData <<= 10;
        parameterData += (side >> 2 & 0x1f << 5) + (side >> 1 & 0x1F);
      }
    } // Corrects parameter data using RS.  Returns just the data portion
    // without the error correction.


    var correctedData = this.getCorrectedParameterData(parameterData, this.compact);

    if (this.compact) {
      // 8 bits:  2 bits layers and 6 bits data blocks
      this.nbLayers = (correctedData >> 6) + 1;
      this.nbDataBlocks = (correctedData & 0x3F) + 1;
    } else {
      // 16 bits:  5 bits layers and 11 bits data blocks
      this.nbLayers = (correctedData >> 11) + 1;
      this.nbDataBlocks = (correctedData & 0x7FF) + 1;
    }
  };

  Detector.prototype.getRotation = function (sides, length) {
    // In a normal pattern, we expect to See
    //   **    .*             D       A
    //   *      *
    //
    //   .      *
    //   ..    ..             C       B
    //
    // Grab the 3 bits from each of the sides the form the locator pattern and concatenate
    // into a 12-bit integer.  Start with the bit at A
    var cornerBits = 0;
    sides.forEach(function (side, idx, arr) {
      // XX......X where X's are orientation marks
      var t = (side >> length - 2 << 1) + (side & 1);
      cornerBits = (cornerBits << 3) + t;
    }); // for (var side in sides) {
    //     // XX......X where X's are orientation marks
    //     var t = ((side >> (length - 2)) << 1) + (side & 1);
    //     cornerBits = (cornerBits << 3) + t;
    // }
    // Mov the bottom bit to the top, so that the three bits of the locator pattern at A are
    // together.  cornerBits is now:
    //  3 orientation bits at A || 3 orientation bits at B || ... || 3 orientation bits at D

    cornerBits = ((cornerBits & 1) << 11) + (cornerBits >> 1); // The result shift indicates which element of BullsEyeCorners[] goes into the top-left
    // corner. Since the four rotation values have a Hamming distance of 8, we
    // can easily tolerate two errors.

    for (var shift = 0; shift < 4; shift++) {
      if (Integer.bitCount(cornerBits ^ this.EXPECTED_CORNER_BITS[shift]) <= 2) {
        return shift;
      }
    }

    throw new NotFoundException();
  };
  /**
   * Corrects the parameter bits using Reed-Solomon algorithm.
   *
   * @param parameterData parameter bits
   * @param compact true if this is a compact Aztec code
   * @throws NotFoundException if the array contains too many errors
   */


  Detector.prototype.getCorrectedParameterData = function (parameterData, compact) {
    var numCodewords;
    var numDataCodewords;

    if (compact) {
      numCodewords = 7;
      numDataCodewords = 2;
    } else {
      numCodewords = 10;
      numDataCodewords = 4;
    }

    var numECCodewords = numCodewords - numDataCodewords;
    var parameterWords = new Int32Array(numCodewords);

    for (var i = numCodewords - 1; i >= 0; --i) {
      parameterWords[i] = parameterData & 0xF;
      parameterData >>= 4;
    }

    try {
      var rsDecoder = new ReedSolomonDecoder(GenericGF.AZTEC_PARAM);
      rsDecoder.decode(parameterWords, numECCodewords);
    } catch (ignored) {
      throw new NotFoundException();
    } // Toss the error correction.  Just return the data as an integer


    var result = 0;

    for (var i = 0; i < numDataCodewords; i++) {
      result = (result << 4) + parameterWords[i];
    }

    return result;
  };
  /**
   * Finds the corners of a bull-eye centered on the passed point.
   * This returns the centers of the diagonal points just outside the bull's eye
   * Returns [topRight, bottomRight, bottomLeft, topLeft]
   *
   * @param pCenter Center point
   * @return The corners of the bull-eye
   * @throws NotFoundException If no valid bull-eye can be found
   */


  Detector.prototype.getBullsEyeCorners = function (pCenter) {
    var pina = pCenter;
    var pinb = pCenter;
    var pinc = pCenter;
    var pind = pCenter;
    var color = true;

    for (this.nbCenterLayers = 1; this.nbCenterLayers < 9; this.nbCenterLayers++) {
      var pouta = this.getFirstDifferent(pina, color, 1, -1);
      var poutb = this.getFirstDifferent(pinb, color, 1, 1);
      var poutc = this.getFirstDifferent(pinc, color, -1, 1);
      var poutd = this.getFirstDifferent(pind, color, -1, -1); // d      a
      //
      // c      b

      if (this.nbCenterLayers > 2) {
        var q = this.distancePoint(poutd, pouta) * this.nbCenterLayers / (this.distancePoint(pind, pina) * (this.nbCenterLayers + 2));

        if (q < 0.75 || q > 1.25 || !this.isWhiteOrBlackRectangle(pouta, poutb, poutc, poutd)) {
          break;
        }
      }

      pina = pouta;
      pinb = poutb;
      pinc = poutc;
      pind = poutd;
      color = !color;
    }

    if (this.nbCenterLayers !== 5 && this.nbCenterLayers !== 7) {
      throw new NotFoundException();
    }

    this.compact = this.nbCenterLayers === 5; // Expand the square by .5 pixel in each direction so that we're on the border
    // between the white square and the black square

    var pinax = new ResultPoint(pina.getX() + 0.5, pina.getY() - 0.5);
    var pinbx = new ResultPoint(pinb.getX() + 0.5, pinb.getY() + 0.5);
    var pincx = new ResultPoint(pinc.getX() - 0.5, pinc.getY() + 0.5);
    var pindx = new ResultPoint(pind.getX() - 0.5, pind.getY() - 0.5); // Expand the square so that its corners are the centers of the points
    // just outside the bull's eye.

    return this.expandSquare([pinax, pinbx, pincx, pindx], 2 * this.nbCenterLayers - 3, 2 * this.nbCenterLayers);
  };
  /**
   * Finds a candidate center point of an Aztec code from an image
   *
   * @return the center point
   */


  Detector.prototype.getMatrixCenter = function () {
    var pointA;
    var pointB;
    var pointC;
    var pointD; // Get a white rectangle that can be the border of the matrix in center bull's eye or

    try {
      var cornerPoints = new WhiteRectangleDetector(this.image).detect();
      pointA = cornerPoints[0];
      pointB = cornerPoints[1];
      pointC = cornerPoints[2];
      pointD = cornerPoints[3];
    } catch (e) {
      // This exception can be in case the initial rectangle is white
      // In that case, surely in the bull's eye, we try to expand the rectangle.
      var cx_1 = this.image.getWidth() / 2;
      var cy_1 = this.image.getHeight() / 2;
      pointA = this.getFirstDifferent(new Point(cx_1 + 7, cy_1 - 7), false, 1, -1).toResultPoint();
      pointB = this.getFirstDifferent(new Point(cx_1 + 7, cy_1 + 7), false, 1, 1).toResultPoint();
      pointC = this.getFirstDifferent(new Point(cx_1 - 7, cy_1 + 7), false, -1, 1).toResultPoint();
      pointD = this.getFirstDifferent(new Point(cx_1 - 7, cy_1 - 7), false, -1, -1).toResultPoint();
    } // Compute the center of the rectangle


    var cx = MathUtils.round((pointA.getX() + pointD.getX() + pointB.getX() + pointC.getX()) / 4.0);
    var cy = MathUtils.round((pointA.getY() + pointD.getY() + pointB.getY() + pointC.getY()) / 4.0); // Redetermine the white rectangle starting from previously computed center.
    // This will ensure that we end up with a white rectangle in center bull's eye
    // in order to compute a more accurate center.

    try {
      var cornerPoints = new WhiteRectangleDetector(this.image, 15, cx, cy).detect();
      pointA = cornerPoints[0];
      pointB = cornerPoints[1];
      pointC = cornerPoints[2];
      pointD = cornerPoints[3];
    } catch (e) {
      // This exception can be in case the initial rectangle is white
      // In that case we try to expand the rectangle.
      pointA = this.getFirstDifferent(new Point(cx + 7, cy - 7), false, 1, -1).toResultPoint();
      pointB = this.getFirstDifferent(new Point(cx + 7, cy + 7), false, 1, 1).toResultPoint();
      pointC = this.getFirstDifferent(new Point(cx - 7, cy + 7), false, -1, 1).toResultPoint();
      pointD = this.getFirstDifferent(new Point(cx - 7, cy - 7), false, -1, -1).toResultPoint();
    } // Recompute the center of the rectangle


    cx = MathUtils.round((pointA.getX() + pointD.getX() + pointB.getX() + pointC.getX()) / 4.0);
    cy = MathUtils.round((pointA.getY() + pointD.getY() + pointB.getY() + pointC.getY()) / 4.0);
    return new Point(cx, cy);
  };
  /**
   * Gets the Aztec code corners from the bull's eye corners and the parameters.
   *
   * @param bullsEyeCorners the array of bull's eye corners
   * @return the array of aztec code corners
   */


  Detector.prototype.getMatrixCornerPoints = function (bullsEyeCorners) {
    return this.expandSquare(bullsEyeCorners, 2 * this.nbCenterLayers, this.getDimension());
  };
  /**
   * Creates a BitMatrix by sampling the provided image.
   * topLeft, topRight, bottomRight, and bottomLeft are the centers of the squares on the
   * diagonal just outside the bull's eye.
   */


  Detector.prototype.sampleGrid = function (image, topLeft, topRight, bottomRight, bottomLeft) {
    var sampler = GridSamplerInstance.getInstance();
    var dimension = this.getDimension();
    var low = dimension / 2 - this.nbCenterLayers;
    var high = dimension / 2 + this.nbCenterLayers;
    return sampler.sampleGrid(image, dimension, dimension, low, low, // topleft
    high, low, // topright
    high, high, // bottomright
    low, high, // bottomleft
    topLeft.getX(), topLeft.getY(), topRight.getX(), topRight.getY(), bottomRight.getX(), bottomRight.getY(), bottomLeft.getX(), bottomLeft.getY());
  };
  /**
   * Samples a line.
   *
   * @param p1   start point (inclusive)
   * @param p2   end point (exclusive)
   * @param size number of bits
   * @return the array of bits as an int (first bit is high-order bit of result)
   */


  Detector.prototype.sampleLine = function (p1, p2, size) {
    var result = 0;
    var d = this.distanceResultPoint(p1, p2);
    var moduleSize = d / size;
    var px = p1.getX();
    var py = p1.getY();
    var dx = moduleSize * (p2.getX() - p1.getX()) / d;
    var dy = moduleSize * (p2.getY() - p1.getY()) / d;

    for (var i = 0; i < size; i++) {
      if (this.image.get(MathUtils.round(px + i * dx), MathUtils.round(py + i * dy))) {
        result |= 1 << size - i - 1;
      }
    }

    return result;
  };
  /**
   * @return true if the border of the rectangle passed in parameter is compound of white points only
   *         or black points only
   */


  Detector.prototype.isWhiteOrBlackRectangle = function (p1, p2, p3, p4) {
    var corr = 3;
    p1 = new Point(p1.getX() - corr, p1.getY() + corr);
    p2 = new Point(p2.getX() - corr, p2.getY() - corr);
    p3 = new Point(p3.getX() + corr, p3.getY() - corr);
    p4 = new Point(p4.getX() + corr, p4.getY() + corr);
    var cInit = this.getColor(p4, p1);

    if (cInit === 0) {
      return false;
    }

    var c = this.getColor(p1, p2);

    if (c !== cInit) {
      return false;
    }

    c = this.getColor(p2, p3);

    if (c !== cInit) {
      return false;
    }

    c = this.getColor(p3, p4);
    return c === cInit;
  };
  /**
   * Gets the color of a segment
   *
   * @return 1 if segment more than 90% black, -1 if segment is more than 90% white, 0 else
   */


  Detector.prototype.getColor = function (p1, p2) {
    var d = this.distancePoint(p1, p2);
    var dx = (p2.getX() - p1.getX()) / d;
    var dy = (p2.getY() - p1.getY()) / d;
    var error = 0;
    var px = p1.getX();
    var py = p1.getY();
    var colorModel = this.image.get(p1.getX(), p1.getY());
    var iMax = Math.ceil(d);

    for (var i = 0; i < iMax; i++) {
      px += dx;
      py += dy;

      if (this.image.get(MathUtils.round(px), MathUtils.round(py)) !== colorModel) {
        error++;
      }
    }

    var errRatio = error / d;

    if (errRatio > 0.1 && errRatio < 0.9) {
      return 0;
    }

    return errRatio <= 0.1 === colorModel ? 1 : -1;
  };
  /**
   * Gets the coordinate of the first point with a different color in the given direction
   */


  Detector.prototype.getFirstDifferent = function (init, color, dx, dy) {
    var x = init.getX() + dx;
    var y = init.getY() + dy;

    while (this.isValid(x, y) && this.image.get(x, y) === color) {
      x += dx;
      y += dy;
    }

    x -= dx;
    y -= dy;

    while (this.isValid(x, y) && this.image.get(x, y) === color) {
      x += dx;
    }

    x -= dx;

    while (this.isValid(x, y) && this.image.get(x, y) === color) {
      y += dy;
    }

    y -= dy;
    return new Point(x, y);
  };
  /**
   * Expand the square represented by the corner points by pushing out equally in all directions
   *
   * @param cornerPoints the corners of the square, which has the bull's eye at its center
   * @param oldSide the original length of the side of the square in the target bit matrix
   * @param newSide the new length of the size of the square in the target bit matrix
   * @return the corners of the expanded square
   */


  Detector.prototype.expandSquare = function (cornerPoints, oldSide, newSide) {
    var ratio = newSide / (2.0 * oldSide);
    var dx = cornerPoints[0].getX() - cornerPoints[2].getX();
    var dy = cornerPoints[0].getY() - cornerPoints[2].getY();
    var centerx = (cornerPoints[0].getX() + cornerPoints[2].getX()) / 2.0;
    var centery = (cornerPoints[0].getY() + cornerPoints[2].getY()) / 2.0;
    var result0 = new ResultPoint(centerx + ratio * dx, centery + ratio * dy);
    var result2 = new ResultPoint(centerx - ratio * dx, centery - ratio * dy);
    dx = cornerPoints[1].getX() - cornerPoints[3].getX();
    dy = cornerPoints[1].getY() - cornerPoints[3].getY();
    centerx = (cornerPoints[1].getX() + cornerPoints[3].getX()) / 2.0;
    centery = (cornerPoints[1].getY() + cornerPoints[3].getY()) / 2.0;
    var result1 = new ResultPoint(centerx + ratio * dx, centery + ratio * dy);
    var result3 = new ResultPoint(centerx - ratio * dx, centery - ratio * dy);
    var results = [result0, result1, result2, result3];
    return results;
  };

  Detector.prototype.isValid = function (x, y) {
    return x >= 0 && x < this.image.getWidth() && y > 0 && y < this.image.getHeight();
  };

  Detector.prototype.isValidPoint = function (point) {
    var x = MathUtils.round(point.getX());
    var y = MathUtils.round(point.getY());
    return this.isValid(x, y);
  };

  Detector.prototype.distancePoint = function (a, b) {
    return MathUtils.distance(a.getX(), a.getY(), b.getX(), b.getY());
  };

  Detector.prototype.distanceResultPoint = function (a, b) {
    return MathUtils.distance(a.getX(), a.getY(), b.getX(), b.getY());
  };

  Detector.prototype.getDimension = function () {
    if (this.compact) {
      return 4 * this.nbLayers + 11;
    }

    if (this.nbLayers <= 4) {
      return 4 * this.nbLayers + 15;
    }

    return 4 * this.nbLayers + 2 * (Integer.truncDivision(this.nbLayers - 4, 8) + 1) + 15;
  };

  return Detector;
}();

/*
 * Copyright 2010 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
// import java.util.Map;

/**
 * This implementation can detect and decode Aztec codes in an image.
 *
 * @author David Olivier
 */

var AztecReader =
/** @class */
function () {
  function AztecReader() {}
  /**
   * Locates and decodes a Data Matrix code in an image.
   *
   * @return a String representing the content encoded by the Data Matrix code
   * @throws NotFoundException if a Data Matrix code cannot be found
   * @throws FormatException if a Data Matrix code cannot be decoded
   */


  AztecReader.prototype.decode = function (image, hints) {
    if (hints === void 0) {
      hints = null;
    }

    var exception = null;
    var detector = new Detector$3(image.getBlackMatrix());
    var points = null;
    var decoderResult = null;

    try {
      var detectorResult = detector.detectMirror(false);
      points = detectorResult.getPoints();
      this.reportFoundResultPoints(hints, points);
      decoderResult = new Decoder$2().decode(detectorResult);
    } catch (e) {
      exception = e;
    }

    if (decoderResult == null) {
      try {
        var detectorResult = detector.detectMirror(true);
        points = detectorResult.getPoints();
        this.reportFoundResultPoints(hints, points);
        decoderResult = new Decoder$2().decode(detectorResult);
      } catch (e) {
        if (exception != null) {
          throw exception;
        }

        throw e;
      }
    }

    var result = new Result(decoderResult.getText(), decoderResult.getRawBytes(), decoderResult.getNumBits(), points, BarcodeFormat$1.AZTEC, System.currentTimeMillis());
    var byteSegments = decoderResult.getByteSegments();

    if (byteSegments != null) {
      result.putMetadata(ResultMetadataType$1.BYTE_SEGMENTS, byteSegments);
    }

    var ecLevel = decoderResult.getECLevel();

    if (ecLevel != null) {
      result.putMetadata(ResultMetadataType$1.ERROR_CORRECTION_LEVEL, ecLevel);
    }

    return result;
  };

  AztecReader.prototype.reportFoundResultPoints = function (hints, points) {
    if (hints != null) {
      var rpcb_1 = hints.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK);

      if (rpcb_1 != null) {
        points.forEach(function (point, idx, arr) {
          rpcb_1.foundPossibleResultPoint(point);
        });
      }
    }
  }; // @Override


  AztecReader.prototype.reset = function () {// do nothing
  };

  return AztecReader;
}();

var __extends$L = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Aztec Code reader to use from browser.
 *
 * @class BrowserAztecCodeReader
 * @extends {BrowserCodeReader}
 */

/** @class */
(function (_super) {
  __extends$L(BrowserAztecCodeReader, _super);
  /**
   * Creates an instance of BrowserAztecCodeReader.
   * @param {number} [timeBetweenScansMillis=500] the time delay between subsequent decode tries
   *
   * @memberOf BrowserAztecCodeReader
   */


  function BrowserAztecCodeReader(timeBetweenScansMillis) {
    if (timeBetweenScansMillis === void 0) {
      timeBetweenScansMillis = 500;
    }

    return _super.call(this, new AztecReader(), timeBetweenScansMillis) || this;
  }

  return BrowserAztecCodeReader;
})(BrowserCodeReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * Encapsulates functionality and implementation that is common to all families
 * of one-dimensional barcodes.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 * @author Sean Owen
 */

var OneDReader =
/** @class */
function () {
  function OneDReader() {}
  /*
  @Override
  public Result decode(BinaryBitmap image) throws NotFoundException, FormatException {
    return decode(image, null);
  }
  */
  // Note that we don't try rotation without the try harder flag, even if rotation was supported.
  // @Override


  OneDReader.prototype.decode = function (image, hints) {
    try {
      return this.doDecode(image, hints);
    } catch (nfe) {
      var tryHarder = hints && hints.get(DecodeHintType$1.TRY_HARDER) === true;

      if (tryHarder && image.isRotateSupported()) {
        var rotatedImage = image.rotateCounterClockwise();
        var result = this.doDecode(rotatedImage, hints); // Record that we found it rotated 90 degrees CCW / 270 degrees CW

        var metadata = result.getResultMetadata();
        var orientation_1 = 270;

        if (metadata !== null && metadata.get(ResultMetadataType$1.ORIENTATION) === true) {
          // But if we found it reversed in doDecode(), add in that result here:
          orientation_1 = orientation_1 + metadata.get(ResultMetadataType$1.ORIENTATION) % 360;
        }

        result.putMetadata(ResultMetadataType$1.ORIENTATION, orientation_1); // Update result points

        var points = result.getResultPoints();

        if (points !== null) {
          var height = rotatedImage.getHeight();

          for (var i = 0; i < points.length; i++) {
            points[i] = new ResultPoint(height - points[i].getY() - 1, points[i].getX());
          }
        }

        return result;
      } else {
        throw new NotFoundException();
      }
    }
  }; // @Override


  OneDReader.prototype.reset = function () {// do nothing
  };
  /**
   * We're going to examine rows from the middle outward, searching alternately above and below the
   * middle, and farther out each time. rowStep is the number of rows between each successive
   * attempt above and below the middle. So we'd scan row middle, then middle - rowStep, then
   * middle + rowStep, then middle - (2 * rowStep), etc.
   * rowStep is bigger as the image is taller, but is always at least 1. We've somewhat arbitrarily
   * decided that moving up and down by about 1/16 of the image is pretty good; we try more of the
   * image if "trying harder".
   *
   * @param image The image to decode
   * @param hints Any hints that were requested
   * @return The contents of the decoded barcode
   * @throws NotFoundException Any spontaneous errors which occur
   */


  OneDReader.prototype.doDecode = function (image, hints) {
    var width = image.getWidth();
    var height = image.getHeight();
    var row = new BitArray(width);
    var tryHarder = hints && hints.get(DecodeHintType$1.TRY_HARDER) === true;
    var rowStep = Math.max(1, height >> (tryHarder ? 8 : 5));
    var maxLines;

    if (tryHarder) {
      maxLines = height; // Look at the whole image, not just the center
    } else {
      maxLines = 15; // 15 rows spaced 1/32 apart is roughly the middle half of the image
    }

    var middle = Math.trunc(height / 2);

    for (var x = 0; x < maxLines; x++) {
      // Scanning from the middle out. Determine which row we're looking at next:
      var rowStepsAboveOrBelow = Math.trunc((x + 1) / 2);
      var isAbove = (x & 0x01) === 0; // i.e. is x even?

      var rowNumber = middle + rowStep * (isAbove ? rowStepsAboveOrBelow : -rowStepsAboveOrBelow);

      if (rowNumber < 0 || rowNumber >= height) {
        // Oops, if we run off the top or bottom, stop
        break;
      } // Estimate black point for this row and load it:


      try {
        row = image.getBlackRow(rowNumber, row);
      } catch (ignored) {
        continue;
      }

      var _loop_1 = function (attempt) {
        if (attempt === 1) {
          // trying again?
          row.reverse(); // reverse the row and continue
          // This means we will only ever draw result points *once* in the life of this method
          // since we want to avoid drawing the wrong points after flipping the row, and,
          // don't want to clutter with noise from every single row scan -- just the scans
          // that start on the center line.

          if (hints && hints.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK) === true) {
            var newHints_1 = new Map();
            hints.forEach(function (hint, key) {
              return newHints_1.set(key, hint);
            });
            newHints_1.delete(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK);
            hints = newHints_1;
          }
        }

        try {
          // Look for a barcode
          var result = this_1.decodeRow(rowNumber, row, hints); // We found our barcode

          if (attempt === 1) {
            // But it was upside down, so note that
            result.putMetadata(ResultMetadataType$1.ORIENTATION, 180); // And remember to flip the result points horizontally.

            var points = result.getResultPoints();

            if (points !== null) {
              points[0] = new ResultPoint(width - points[0].getX() - 1, points[0].getY());
              points[1] = new ResultPoint(width - points[1].getX() - 1, points[1].getY());
            }
          }

          return {
            value: result
          };
        } catch (re) {// continue -- just couldn't decode this row
        }
      };

      var this_1 = this; // While we have the image data in a BitArray, it's fairly cheap to reverse it in place to
      // handle decoding upside down barcodes.

      for (var attempt = 0; attempt < 2; attempt++) {
        var state_1 = _loop_1(attempt);

        if (typeof state_1 === "object") return state_1.value;
      }
    }

    throw new NotFoundException();
  };
  /**
   * Records the size of successive runs of white and black pixels in a row, starting at a given point.
   * The values are recorded in the given array, and the number of runs recorded is equal to the size
   * of the array. If the row starts on a white pixel at the given start point, then the first count
   * recorded is the run of white pixels starting from that point; likewise it is the count of a run
   * of black pixels if the row begin on a black pixels at that point.
   *
   * @param row row to count from
   * @param start offset into row to start at
   * @param counters array into which to record counts
   * @throws NotFoundException if counters cannot be filled entirely from row before running out
   *  of pixels
   */


  OneDReader.recordPattern = function (row, start, counters) {
    var numCounters = counters.length;

    for (var index = 0; index < numCounters; index++) counters[index] = 0;

    var end = row.getSize();

    if (start >= end) {
      throw new NotFoundException();
    }

    var isWhite = !row.get(start);
    var counterPosition = 0;
    var i = start;

    while (i < end) {
      if (row.get(i) !== isWhite) {
        counters[counterPosition]++;
      } else {
        if (++counterPosition === numCounters) {
          break;
        } else {
          counters[counterPosition] = 1;
          isWhite = !isWhite;
        }
      }

      i++;
    } // If we read fully the last section of pixels and filled up our counters -- or filled
    // the last counter but ran off the side of the image, OK. Otherwise, a problem.


    if (!(counterPosition === numCounters || counterPosition === numCounters - 1 && i === end)) {
      throw new NotFoundException();
    }
  };

  OneDReader.recordPatternInReverse = function (row, start, counters) {
    // This could be more efficient I guess
    var numTransitionsLeft = counters.length;
    var last = row.get(start);

    while (start > 0 && numTransitionsLeft >= 0) {
      if (row.get(--start) !== last) {
        numTransitionsLeft--;
        last = !last;
      }
    }

    if (numTransitionsLeft >= 0) {
      throw new NotFoundException();
    }

    OneDReader.recordPattern(row, start + 1, counters);
  };
  /**
   * Determines how closely a set of observed counts of runs of black/white values matches a given
   * target pattern. This is reported as the ratio of the total variance from the expected pattern
   * proportions across all pattern elements, to the length of the pattern.
   *
   * @param counters observed counters
   * @param pattern expected pattern
   * @param maxIndividualVariance The most any counter can differ before we give up
   * @return ratio of total variance between counters and pattern compared to total pattern size
   */


  OneDReader.patternMatchVariance = function (counters, pattern, maxIndividualVariance) {
    var numCounters = counters.length;
    var total = 0;
    var patternLength = 0;

    for (var i = 0; i < numCounters; i++) {
      total += counters[i];
      patternLength += pattern[i];
    }

    if (total < patternLength) {
      // If we don't even have one pixel per unit of bar width, assume this is too small
      // to reliably match, so fail:
      return Number.POSITIVE_INFINITY;
    }

    var unitBarWidth = total / patternLength;
    maxIndividualVariance *= unitBarWidth;
    var totalVariance = 0.0;

    for (var x = 0; x < numCounters; x++) {
      var counter = counters[x];
      var scaledPattern = pattern[x] * unitBarWidth;
      var variance = counter > scaledPattern ? counter - scaledPattern : scaledPattern - counter;

      if (variance > maxIndividualVariance) {
        return Number.POSITIVE_INFINITY;
      }

      totalVariance += variance;
    }

    return totalVariance / total;
  };

  return OneDReader;
}();

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$K = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * <p>Decodes Code 128 barcodes.</p>
 *
 * @author Sean Owen
 */

var Code128Reader =
/** @class */
function (_super) {
  __extends$K(Code128Reader, _super);

  function Code128Reader() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  Code128Reader.findStartPattern = function (row) {
    var width = row.getSize();
    var rowOffset = row.getNextSet(0);
    var counterPosition = 0;
    var counters = Int32Array.from([0, 0, 0, 0, 0, 0]);
    var patternStart = rowOffset;
    var isWhite = false;
    var patternLength = 6;

    for (var i = rowOffset; i < width; i++) {
      if (row.get(i) !== isWhite) {
        counters[counterPosition]++;
      } else {
        if (counterPosition === patternLength - 1) {
          var bestVariance = Code128Reader.MAX_AVG_VARIANCE;
          var bestMatch = -1;

          for (var startCode = Code128Reader.CODE_START_A; startCode <= Code128Reader.CODE_START_C; startCode++) {
            var variance = OneDReader.patternMatchVariance(counters, Code128Reader.CODE_PATTERNS[startCode], Code128Reader.MAX_INDIVIDUAL_VARIANCE);

            if (variance < bestVariance) {
              bestVariance = variance;
              bestMatch = startCode;
            }
          } // Look for whitespace before start pattern, >= 50% of width of start pattern


          if (bestMatch >= 0 && row.isRange(Math.max(0, patternStart - (i - patternStart) / 2), patternStart, false)) {
            return Int32Array.from([patternStart, i, bestMatch]);
          }

          patternStart += counters[0] + counters[1];
          counters = counters.slice(2, counters.length - 1);
          counters[counterPosition - 1] = 0;
          counters[counterPosition] = 0;
          counterPosition--;
        } else {
          counterPosition++;
        }

        counters[counterPosition] = 1;
        isWhite = !isWhite;
      }
    }

    throw new NotFoundException();
  };

  Code128Reader.decodeCode = function (row, counters, rowOffset) {
    OneDReader.recordPattern(row, rowOffset, counters);
    var bestVariance = Code128Reader.MAX_AVG_VARIANCE; // worst variance we'll accept

    var bestMatch = -1;

    for (var d = 0; d < Code128Reader.CODE_PATTERNS.length; d++) {
      var pattern = Code128Reader.CODE_PATTERNS[d];
      var variance = this.patternMatchVariance(counters, pattern, Code128Reader.MAX_INDIVIDUAL_VARIANCE);

      if (variance < bestVariance) {
        bestVariance = variance;
        bestMatch = d;
      }
    } // TODO We're overlooking the fact that the STOP pattern has 7 values, not 6.


    if (bestMatch >= 0) {
      return bestMatch;
    } else {
      throw new NotFoundException();
    }
  };

  Code128Reader.prototype.decodeRow = function (rowNumber, row, hints) {
    var convertFNC1 = hints && hints.get(DecodeHintType$1.ASSUME_GS1) === true;
    var startPatternInfo = Code128Reader.findStartPattern(row);
    var startCode = startPatternInfo[2];
    var currentRawCodesIndex = 0;
    var rawCodes = new Uint8Array(20);
    rawCodes[currentRawCodesIndex++] = startCode;
    var codeSet;

    switch (startCode) {
      case Code128Reader.CODE_START_A:
        codeSet = Code128Reader.CODE_CODE_A;
        break;

      case Code128Reader.CODE_START_B:
        codeSet = Code128Reader.CODE_CODE_B;
        break;

      case Code128Reader.CODE_START_C:
        codeSet = Code128Reader.CODE_CODE_C;
        break;

      default:
        throw new FormatException();
    }

    var done = false;
    var isNextShifted = false;
    var result = '';
    var lastStart = startPatternInfo[0];
    var nextStart = startPatternInfo[1];
    var counters = Int32Array.from([0, 0, 0, 0, 0, 0]);
    var lastCode = 0;
    var code = 0;
    var checksumTotal = startCode;
    var multiplier = 0;
    var lastCharacterWasPrintable = true;
    var upperMode = false;
    var shiftUpperMode = false;

    while (!done) {
      var unshift = isNextShifted;
      isNextShifted = false; // Save off last code

      lastCode = code; // Decode another code from image

      code = Code128Reader.decodeCode(row, counters, nextStart);
      rawCodes[currentRawCodesIndex++] = code; // Remember whether the last code was printable or not (excluding CODE_STOP)

      if (code !== Code128Reader.CODE_STOP) {
        lastCharacterWasPrintable = true;
      } // Add to checksum computation (if not CODE_STOP of course)


      if (code !== Code128Reader.CODE_STOP) {
        multiplier++;
        checksumTotal += multiplier * code;
      } // Advance to where the next code will to start


      lastStart = nextStart;
      nextStart += counters.reduce(function (previous, current) {
        return previous + current;
      }, 0); // Take care of illegal start codes

      switch (code) {
        case Code128Reader.CODE_START_A:
        case Code128Reader.CODE_START_B:
        case Code128Reader.CODE_START_C:
          throw new FormatException();
      }

      switch (codeSet) {
        case Code128Reader.CODE_CODE_A:
          if (code < 64) {
            if (shiftUpperMode === upperMode) {
              result += String.fromCharCode(' '.charCodeAt(0) + code);
            } else {
              result += String.fromCharCode(' '.charCodeAt(0) + code + 128);
            }

            shiftUpperMode = false;
          } else if (code < 96) {
            if (shiftUpperMode === upperMode) {
              result += String.fromCharCode(code - 64);
            } else {
              result += String.fromCharCode(code + 64);
            }

            shiftUpperMode = false;
          } else {
            // Don't let CODE_STOP, which always appears, affect whether whether we think the last
            // code was printable or not.
            if (code !== Code128Reader.CODE_STOP) {
              lastCharacterWasPrintable = false;
            }

            switch (code) {
              case Code128Reader.CODE_FNC_1:
                if (convertFNC1) {
                  if (result.length === 0) {
                    // GS1 specification 5.4.3.7. and 5.4.6.4. If the first char after the start code
                    // is FNC1 then this is GS1-128. We add the symbology identifier.
                    result += ']C1';
                  } else {
                    // GS1 specification 5.4.7.5. Every subsequent FNC1 is returned as ASCII 29 (GS)
                    result += String.fromCharCode(29);
                  }
                }

                break;

              case Code128Reader.CODE_FNC_2:
              case Code128Reader.CODE_FNC_3:
                // do nothing?
                break;

              case Code128Reader.CODE_FNC_4_A:
                if (!upperMode && shiftUpperMode) {
                  upperMode = true;
                  shiftUpperMode = false;
                } else if (upperMode && shiftUpperMode) {
                  upperMode = false;
                  shiftUpperMode = false;
                } else {
                  shiftUpperMode = true;
                }

                break;

              case Code128Reader.CODE_SHIFT:
                isNextShifted = true;
                codeSet = Code128Reader.CODE_CODE_B;
                break;

              case Code128Reader.CODE_CODE_B:
                codeSet = Code128Reader.CODE_CODE_B;
                break;

              case Code128Reader.CODE_CODE_C:
                codeSet = Code128Reader.CODE_CODE_C;
                break;

              case Code128Reader.CODE_STOP:
                done = true;
                break;
            }
          }

          break;

        case Code128Reader.CODE_CODE_B:
          if (code < 96) {
            if (shiftUpperMode === upperMode) {
              result += String.fromCharCode(' '.charCodeAt(0) + code);
            } else {
              result += String.fromCharCode(' '.charCodeAt(0) + code + 128);
            }

            shiftUpperMode = false;
          } else {
            if (code !== Code128Reader.CODE_STOP) {
              lastCharacterWasPrintable = false;
            }

            switch (code) {
              case Code128Reader.CODE_FNC_1:
                if (convertFNC1) {
                  if (result.length === 0) {
                    // GS1 specification 5.4.3.7. and 5.4.6.4. If the first char after the start code
                    // is FNC1 then this is GS1-128. We add the symbology identifier.
                    result += ']C1';
                  } else {
                    // GS1 specification 5.4.7.5. Every subsequent FNC1 is returned as ASCII 29 (GS)
                    result += String.fromCharCode(29);
                  }
                }

                break;

              case Code128Reader.CODE_FNC_2:
              case Code128Reader.CODE_FNC_3:
                // do nothing?
                break;

              case Code128Reader.CODE_FNC_4_B:
                if (!upperMode && shiftUpperMode) {
                  upperMode = true;
                  shiftUpperMode = false;
                } else if (upperMode && shiftUpperMode) {
                  upperMode = false;
                  shiftUpperMode = false;
                } else {
                  shiftUpperMode = true;
                }

                break;

              case Code128Reader.CODE_SHIFT:
                isNextShifted = true;
                codeSet = Code128Reader.CODE_CODE_A;
                break;

              case Code128Reader.CODE_CODE_A:
                codeSet = Code128Reader.CODE_CODE_A;
                break;

              case Code128Reader.CODE_CODE_C:
                codeSet = Code128Reader.CODE_CODE_C;
                break;

              case Code128Reader.CODE_STOP:
                done = true;
                break;
            }
          }

          break;

        case Code128Reader.CODE_CODE_C:
          if (code < 100) {
            if (code < 10) {
              result += '0';
            }

            result += code;
          } else {
            if (code !== Code128Reader.CODE_STOP) {
              lastCharacterWasPrintable = false;
            }

            switch (code) {
              case Code128Reader.CODE_FNC_1:
                if (convertFNC1) {
                  if (result.length === 0) {
                    // GS1 specification 5.4.3.7. and 5.4.6.4. If the first char after the start code
                    // is FNC1 then this is GS1-128. We add the symbology identifier.
                    result += ']C1';
                  } else {
                    // GS1 specification 5.4.7.5. Every subsequent FNC1 is returned as ASCII 29 (GS)
                    result += String.fromCharCode(29);
                  }
                }

                break;

              case Code128Reader.CODE_CODE_A:
                codeSet = Code128Reader.CODE_CODE_A;
                break;

              case Code128Reader.CODE_CODE_B:
                codeSet = Code128Reader.CODE_CODE_B;
                break;

              case Code128Reader.CODE_STOP:
                done = true;
                break;
            }
          }

          break;
      } // Unshift back to another code set if we were shifted


      if (unshift) {
        codeSet = codeSet === Code128Reader.CODE_CODE_A ? Code128Reader.CODE_CODE_B : Code128Reader.CODE_CODE_A;
      }
    }

    var lastPatternSize = nextStart - lastStart; // Check for ample whitespace following pattern, but, to do this we first need to remember that
    // we fudged decoding CODE_STOP since it actually has 7 bars, not 6. There is a black bar left
    // to read off. Would be slightly better to properly read. Here we just skip it:

    nextStart = row.getNextUnset(nextStart);

    if (!row.isRange(nextStart, Math.min(row.getSize(), nextStart + (nextStart - lastStart) / 2), false)) {
      throw new NotFoundException();
    } // Pull out from sum the value of the penultimate check code


    checksumTotal -= multiplier * lastCode; // lastCode is the checksum then:

    if (checksumTotal % 103 !== lastCode) {
      throw new ChecksumException();
    } // Need to pull out the check digits from string


    var resultLength = result.length;

    if (resultLength === 0) {
      // false positive
      throw new NotFoundException();
    } // Only bother if the result had at least one character, and if the checksum digit happened to
    // be a printable character. If it was just interpreted as a control code, nothing to remove.


    if (resultLength > 0 && lastCharacterWasPrintable) {
      if (codeSet === Code128Reader.CODE_CODE_C) {
        result = result.substring(0, resultLength - 2);
      } else {
        result = result.substring(0, resultLength - 1);
      }
    }

    var left = (startPatternInfo[1] + startPatternInfo[0]) / 2.0;
    var right = lastStart + lastPatternSize / 2.0;
    var rawCodesSize = rawCodes.length;
    var rawBytes = new Uint8Array(rawCodesSize);

    for (var i = 0; i < rawCodesSize; i++) {
      rawBytes[i] = rawCodes[i];
    }

    var points = [new ResultPoint(left, rowNumber), new ResultPoint(right, rowNumber)];
    return new Result(result, rawBytes, 0, points, BarcodeFormat$1.CODE_128, new Date().getTime());
  };

  Code128Reader.CODE_PATTERNS = [Int32Array.from([2, 1, 2, 2, 2, 2]), Int32Array.from([2, 2, 2, 1, 2, 2]), Int32Array.from([2, 2, 2, 2, 2, 1]), Int32Array.from([1, 2, 1, 2, 2, 3]), Int32Array.from([1, 2, 1, 3, 2, 2]), Int32Array.from([1, 3, 1, 2, 2, 2]), Int32Array.from([1, 2, 2, 2, 1, 3]), Int32Array.from([1, 2, 2, 3, 1, 2]), Int32Array.from([1, 3, 2, 2, 1, 2]), Int32Array.from([2, 2, 1, 2, 1, 3]), Int32Array.from([2, 2, 1, 3, 1, 2]), Int32Array.from([2, 3, 1, 2, 1, 2]), Int32Array.from([1, 1, 2, 2, 3, 2]), Int32Array.from([1, 2, 2, 1, 3, 2]), Int32Array.from([1, 2, 2, 2, 3, 1]), Int32Array.from([1, 1, 3, 2, 2, 2]), Int32Array.from([1, 2, 3, 1, 2, 2]), Int32Array.from([1, 2, 3, 2, 2, 1]), Int32Array.from([2, 2, 3, 2, 1, 1]), Int32Array.from([2, 2, 1, 1, 3, 2]), Int32Array.from([2, 2, 1, 2, 3, 1]), Int32Array.from([2, 1, 3, 2, 1, 2]), Int32Array.from([2, 2, 3, 1, 1, 2]), Int32Array.from([3, 1, 2, 1, 3, 1]), Int32Array.from([3, 1, 1, 2, 2, 2]), Int32Array.from([3, 2, 1, 1, 2, 2]), Int32Array.from([3, 2, 1, 2, 2, 1]), Int32Array.from([3, 1, 2, 2, 1, 2]), Int32Array.from([3, 2, 2, 1, 1, 2]), Int32Array.from([3, 2, 2, 2, 1, 1]), Int32Array.from([2, 1, 2, 1, 2, 3]), Int32Array.from([2, 1, 2, 3, 2, 1]), Int32Array.from([2, 3, 2, 1, 2, 1]), Int32Array.from([1, 1, 1, 3, 2, 3]), Int32Array.from([1, 3, 1, 1, 2, 3]), Int32Array.from([1, 3, 1, 3, 2, 1]), Int32Array.from([1, 1, 2, 3, 1, 3]), Int32Array.from([1, 3, 2, 1, 1, 3]), Int32Array.from([1, 3, 2, 3, 1, 1]), Int32Array.from([2, 1, 1, 3, 1, 3]), Int32Array.from([2, 3, 1, 1, 1, 3]), Int32Array.from([2, 3, 1, 3, 1, 1]), Int32Array.from([1, 1, 2, 1, 3, 3]), Int32Array.from([1, 1, 2, 3, 3, 1]), Int32Array.from([1, 3, 2, 1, 3, 1]), Int32Array.from([1, 1, 3, 1, 2, 3]), Int32Array.from([1, 1, 3, 3, 2, 1]), Int32Array.from([1, 3, 3, 1, 2, 1]), Int32Array.from([3, 1, 3, 1, 2, 1]), Int32Array.from([2, 1, 1, 3, 3, 1]), Int32Array.from([2, 3, 1, 1, 3, 1]), Int32Array.from([2, 1, 3, 1, 1, 3]), Int32Array.from([2, 1, 3, 3, 1, 1]), Int32Array.from([2, 1, 3, 1, 3, 1]), Int32Array.from([3, 1, 1, 1, 2, 3]), Int32Array.from([3, 1, 1, 3, 2, 1]), Int32Array.from([3, 3, 1, 1, 2, 1]), Int32Array.from([3, 1, 2, 1, 1, 3]), Int32Array.from([3, 1, 2, 3, 1, 1]), Int32Array.from([3, 3, 2, 1, 1, 1]), Int32Array.from([3, 1, 4, 1, 1, 1]), Int32Array.from([2, 2, 1, 4, 1, 1]), Int32Array.from([4, 3, 1, 1, 1, 1]), Int32Array.from([1, 1, 1, 2, 2, 4]), Int32Array.from([1, 1, 1, 4, 2, 2]), Int32Array.from([1, 2, 1, 1, 2, 4]), Int32Array.from([1, 2, 1, 4, 2, 1]), Int32Array.from([1, 4, 1, 1, 2, 2]), Int32Array.from([1, 4, 1, 2, 2, 1]), Int32Array.from([1, 1, 2, 2, 1, 4]), Int32Array.from([1, 1, 2, 4, 1, 2]), Int32Array.from([1, 2, 2, 1, 1, 4]), Int32Array.from([1, 2, 2, 4, 1, 1]), Int32Array.from([1, 4, 2, 1, 1, 2]), Int32Array.from([1, 4, 2, 2, 1, 1]), Int32Array.from([2, 4, 1, 2, 1, 1]), Int32Array.from([2, 2, 1, 1, 1, 4]), Int32Array.from([4, 1, 3, 1, 1, 1]), Int32Array.from([2, 4, 1, 1, 1, 2]), Int32Array.from([1, 3, 4, 1, 1, 1]), Int32Array.from([1, 1, 1, 2, 4, 2]), Int32Array.from([1, 2, 1, 1, 4, 2]), Int32Array.from([1, 2, 1, 2, 4, 1]), Int32Array.from([1, 1, 4, 2, 1, 2]), Int32Array.from([1, 2, 4, 1, 1, 2]), Int32Array.from([1, 2, 4, 2, 1, 1]), Int32Array.from([4, 1, 1, 2, 1, 2]), Int32Array.from([4, 2, 1, 1, 1, 2]), Int32Array.from([4, 2, 1, 2, 1, 1]), Int32Array.from([2, 1, 2, 1, 4, 1]), Int32Array.from([2, 1, 4, 1, 2, 1]), Int32Array.from([4, 1, 2, 1, 2, 1]), Int32Array.from([1, 1, 1, 1, 4, 3]), Int32Array.from([1, 1, 1, 3, 4, 1]), Int32Array.from([1, 3, 1, 1, 4, 1]), Int32Array.from([1, 1, 4, 1, 1, 3]), Int32Array.from([1, 1, 4, 3, 1, 1]), Int32Array.from([4, 1, 1, 1, 1, 3]), Int32Array.from([4, 1, 1, 3, 1, 1]), Int32Array.from([1, 1, 3, 1, 4, 1]), Int32Array.from([1, 1, 4, 1, 3, 1]), Int32Array.from([3, 1, 1, 1, 4, 1]), Int32Array.from([4, 1, 1, 1, 3, 1]), Int32Array.from([2, 1, 1, 4, 1, 2]), Int32Array.from([2, 1, 1, 2, 1, 4]), Int32Array.from([2, 1, 1, 2, 3, 2]), Int32Array.from([2, 3, 3, 1, 1, 1, 2])];
  Code128Reader.MAX_AVG_VARIANCE = 0.25;
  Code128Reader.MAX_INDIVIDUAL_VARIANCE = 0.7;
  Code128Reader.CODE_SHIFT = 98;
  Code128Reader.CODE_CODE_C = 99;
  Code128Reader.CODE_CODE_B = 100;
  Code128Reader.CODE_CODE_A = 101;
  Code128Reader.CODE_FNC_1 = 102;
  Code128Reader.CODE_FNC_2 = 97;
  Code128Reader.CODE_FNC_3 = 96;
  Code128Reader.CODE_FNC_4_A = 101;
  Code128Reader.CODE_FNC_4_B = 100;
  Code128Reader.CODE_START_A = 103;
  Code128Reader.CODE_START_B = 104;
  Code128Reader.CODE_START_C = 105;
  Code128Reader.CODE_STOP = 106;
  return Code128Reader;
}(OneDReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$J = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$A = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * <p>Decodes Code 39 barcodes. Supports "Full ASCII Code 39" if USE_CODE_39_EXTENDED_MODE is set.</p>
 *
 * @author Sean Owen
 * @see Code93Reader
 */

var Code39Reader =
/** @class */
function (_super) {
  __extends$J(Code39Reader, _super);
  /**
   * Creates a reader that assumes all encoded data is data, and does not treat the final
   * character as a check digit. It will not decoded "extended Code 39" sequences.
   */
  // public Code39Reader() {
  //   this(false);
  // }

  /**
   * Creates a reader that can be configured to check the last character as a check digit.
   * It will not decoded "extended Code 39" sequences.
   *
   * @param usingCheckDigit if true, treat the last data character as a check digit, not
   * data, and verify that the checksum passes.
   */
  // public Code39Reader(boolean usingCheckDigit) {
  //   this(usingCheckDigit, false);
  // }

  /**
   * Creates a reader that can be configured to check the last character as a check digit,
   * or optionally attempt to decode "extended Code 39" sequences that are used to encode
   * the full ASCII character set.
   *
   * @param usingCheckDigit if true, treat the last data character as a check digit, not
   * data, and verify that the checksum passes.
   * @param extendedMode if true, will attempt to decode extended Code 39 sequences in the
   * text.
   */


  function Code39Reader(usingCheckDigit, extendedMode) {
    if (usingCheckDigit === void 0) {
      usingCheckDigit = false;
    }

    if (extendedMode === void 0) {
      extendedMode = false;
    }

    var _this = _super.call(this) || this;

    _this.usingCheckDigit = usingCheckDigit;
    _this.extendedMode = extendedMode;
    _this.decodeRowResult = '';
    _this.counters = new Int32Array(9);
    return _this;
  }

  Code39Reader.prototype.decodeRow = function (rowNumber, row, hints) {
    var e_1, _a, e_2, _b;

    var theCounters = this.counters;
    theCounters.fill(0);
    this.decodeRowResult = '';
    var start = Code39Reader.findAsteriskPattern(row, theCounters); // Read off white space

    var nextStart = row.getNextSet(start[1]);
    var end = row.getSize();
    var decodedChar;
    var lastStart;

    do {
      Code39Reader.recordPattern(row, nextStart, theCounters);
      var pattern = Code39Reader.toNarrowWidePattern(theCounters);

      if (pattern < 0) {
        throw new NotFoundException();
      }

      decodedChar = Code39Reader.patternToChar(pattern);
      this.decodeRowResult += decodedChar;
      lastStart = nextStart;

      try {
        for (var theCounters_1 = (e_1 = void 0, __values$A(theCounters)), theCounters_1_1 = theCounters_1.next(); !theCounters_1_1.done; theCounters_1_1 = theCounters_1.next()) {
          var counter = theCounters_1_1.value;
          nextStart += counter;
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (theCounters_1_1 && !theCounters_1_1.done && (_a = theCounters_1.return)) _a.call(theCounters_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      } // Read off white space


      nextStart = row.getNextSet(nextStart);
    } while (decodedChar !== '*');

    this.decodeRowResult = this.decodeRowResult.substring(0, this.decodeRowResult.length - 1); // remove asterisk
    // Look for whitespace after pattern:

    var lastPatternSize = 0;

    try {
      for (var theCounters_2 = __values$A(theCounters), theCounters_2_1 = theCounters_2.next(); !theCounters_2_1.done; theCounters_2_1 = theCounters_2.next()) {
        var counter = theCounters_2_1.value;
        lastPatternSize += counter;
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (theCounters_2_1 && !theCounters_2_1.done && (_b = theCounters_2.return)) _b.call(theCounters_2);
      } finally {
        if (e_2) throw e_2.error;
      }
    }

    var whiteSpaceAfterEnd = nextStart - lastStart - lastPatternSize; // If 50% of last pattern size, following last pattern, is not whitespace, fail
    // (but if it's whitespace to the very end of the image, that's OK)

    if (nextStart !== end && whiteSpaceAfterEnd * 2 < lastPatternSize) {
      throw new NotFoundException();
    }

    if (this.usingCheckDigit) {
      var max = this.decodeRowResult.length - 1;
      var total = 0;

      for (var i = 0; i < max; i++) {
        total += Code39Reader.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(i));
      }

      if (this.decodeRowResult.charAt(max) !== Code39Reader.ALPHABET_STRING.charAt(total % 43)) {
        throw new ChecksumException();
      }

      this.decodeRowResult = this.decodeRowResult.substring(0, max);
    }

    if (this.decodeRowResult.length === 0) {
      // false positive
      throw new NotFoundException();
    }

    var resultString;

    if (this.extendedMode) {
      resultString = Code39Reader.decodeExtended(this.decodeRowResult);
    } else {
      resultString = this.decodeRowResult;
    }

    var left = (start[1] + start[0]) / 2.0;
    var right = lastStart + lastPatternSize / 2.0;
    return new Result(resultString, null, 0, [new ResultPoint(left, rowNumber), new ResultPoint(right, rowNumber)], BarcodeFormat$1.CODE_39, new Date().getTime());
  };

  Code39Reader.findAsteriskPattern = function (row, counters) {
    var width = row.getSize();
    var rowOffset = row.getNextSet(0);
    var counterPosition = 0;
    var patternStart = rowOffset;
    var isWhite = false;
    var patternLength = counters.length;

    for (var i = rowOffset; i < width; i++) {
      if (row.get(i) !== isWhite) {
        counters[counterPosition]++;
      } else {
        if (counterPosition === patternLength - 1) {
          // Look for whitespace before start pattern, >= 50% of width of start pattern
          if (this.toNarrowWidePattern(counters) === Code39Reader.ASTERISK_ENCODING && row.isRange(Math.max(0, patternStart - Math.floor((i - patternStart) / 2)), patternStart, false)) {
            return [patternStart, i];
          }

          patternStart += counters[0] + counters[1];
          counters.copyWithin(0, 2, 2 + counterPosition - 1);
          counters[counterPosition - 1] = 0;
          counters[counterPosition] = 0;
          counterPosition--;
        } else {
          counterPosition++;
        }

        counters[counterPosition] = 1;
        isWhite = !isWhite;
      }
    }

    throw new NotFoundException();
  }; // For efficiency, returns -1 on failure. Not throwing here saved as many as 700 exceptions
  // per image when using some of our blackbox images.


  Code39Reader.toNarrowWidePattern = function (counters) {
    var e_3, _a;

    var numCounters = counters.length;
    var maxNarrowCounter = 0;
    var wideCounters;

    do {
      var minCounter = 0x7fffffff;

      try {
        for (var counters_1 = (e_3 = void 0, __values$A(counters)), counters_1_1 = counters_1.next(); !counters_1_1.done; counters_1_1 = counters_1.next()) {
          var counter = counters_1_1.value;

          if (counter < minCounter && counter > maxNarrowCounter) {
            minCounter = counter;
          }
        }
      } catch (e_3_1) {
        e_3 = {
          error: e_3_1
        };
      } finally {
        try {
          if (counters_1_1 && !counters_1_1.done && (_a = counters_1.return)) _a.call(counters_1);
        } finally {
          if (e_3) throw e_3.error;
        }
      }

      maxNarrowCounter = minCounter;
      wideCounters = 0;
      var totalWideCountersWidth = 0;
      var pattern = 0;

      for (var i = 0; i < numCounters; i++) {
        var counter = counters[i];

        if (counter > maxNarrowCounter) {
          pattern |= 1 << numCounters - 1 - i;
          wideCounters++;
          totalWideCountersWidth += counter;
        }
      }

      if (wideCounters === 3) {
        // Found 3 wide counters, but are they close enough in width?
        // We can perform a cheap, conservative check to see if any individual
        // counter is more than 1.5 times the average:
        for (var i = 0; i < numCounters && wideCounters > 0; i++) {
          var counter = counters[i];

          if (counter > maxNarrowCounter) {
            wideCounters--; // totalWideCountersWidth = 3 * average, so this checks if counter >= 3/2 * average

            if (counter * 2 >= totalWideCountersWidth) {
              return -1;
            }
          }
        }

        return pattern;
      }
    } while (wideCounters > 3);

    return -1;
  };

  Code39Reader.patternToChar = function (pattern) {
    for (var i = 0; i < Code39Reader.CHARACTER_ENCODINGS.length; i++) {
      if (Code39Reader.CHARACTER_ENCODINGS[i] === pattern) {
        return Code39Reader.ALPHABET_STRING.charAt(i);
      }
    }

    if (pattern === Code39Reader.ASTERISK_ENCODING) {
      return '*';
    }

    throw new NotFoundException();
  };

  Code39Reader.decodeExtended = function (encoded) {
    var length = encoded.length;
    var decoded = '';

    for (var i = 0; i < length; i++) {
      var c = encoded.charAt(i);

      if (c === '+' || c === '$' || c === '%' || c === '/') {
        var next = encoded.charAt(i + 1);
        var decodedChar = '\0';

        switch (c) {
          case '+':
            // +A to +Z map to a to z
            if (next >= 'A' && next <= 'Z') {
              decodedChar = String.fromCharCode(next.charCodeAt(0) + 32);
            } else {
              throw new FormatException();
            }

            break;

          case '$':
            // $A to $Z map to control codes SH to SB
            if (next >= 'A' && next <= 'Z') {
              decodedChar = String.fromCharCode(next.charCodeAt(0) - 64);
            } else {
              throw new FormatException();
            }

            break;

          case '%':
            // %A to %E map to control codes ESC to US
            if (next >= 'A' && next <= 'E') {
              decodedChar = String.fromCharCode(next.charCodeAt(0) - 38);
            } else if (next >= 'F' && next <= 'J') {
              decodedChar = String.fromCharCode(next.charCodeAt(0) - 11);
            } else if (next >= 'K' && next <= 'O') {
              decodedChar = String.fromCharCode(next.charCodeAt(0) + 16);
            } else if (next >= 'P' && next <= 'T') {
              decodedChar = String.fromCharCode(next.charCodeAt(0) + 43);
            } else if (next === 'U') {
              decodedChar = '\0';
            } else if (next === 'V') {
              decodedChar = '@';
            } else if (next === 'W') {
              decodedChar = '`';
            } else if (next === 'X' || next === 'Y' || next === 'Z') {
              decodedChar = '\x7f';
            } else {
              throw new FormatException();
            }

            break;

          case '/':
            // /A to /O map to ! to , and /Z maps to :
            if (next >= 'A' && next <= 'O') {
              decodedChar = String.fromCharCode(next.charCodeAt(0) - 32);
            } else if (next === 'Z') {
              decodedChar = ':';
            } else {
              throw new FormatException();
            }

            break;
        }

        decoded += decodedChar; // bump up i again since we read two characters

        i++;
      } else {
        decoded += c;
      }
    }

    return decoded;
  };

  Code39Reader.ALPHABET_STRING = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%';
  /**
   * These represent the encodings of characters, as patterns of wide and narrow bars.
   * The 9 least-significant bits of each int correspond to the pattern of wide and narrow,
   * with 1s representing "wide" and 0s representing narrow.
   */

  Code39Reader.CHARACTER_ENCODINGS = [0x034, 0x121, 0x061, 0x160, 0x031, 0x130, 0x070, 0x025, 0x124, 0x064, 0x109, 0x049, 0x148, 0x019, 0x118, 0x058, 0x00D, 0x10C, 0x04C, 0x01C, 0x103, 0x043, 0x142, 0x013, 0x112, 0x052, 0x007, 0x106, 0x046, 0x016, 0x181, 0x0C1, 0x1C0, 0x091, 0x190, 0x0D0, 0x085, 0x184, 0x0C4, 0x0A8, 0x0A2, 0x08A, 0x02A // /-%
  ];
  Code39Reader.ASTERISK_ENCODING = 0x094;
  return Code39Reader;
}(OneDReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$I = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$z = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * <p>Decodes ITF barcodes.</p>
 *
 * @author Tjieco
 */

var ITFReader =
/** @class */
function (_super) {
  __extends$I(ITFReader, _super);

  function ITFReader() {
    // private static W = 3; // Pixel width of a 3x wide line
    // private static w = 2; // Pixel width of a 2x wide line
    // private static N = 1; // Pixed width of a narrow line
    var _this = _super !== null && _super.apply(this, arguments) || this; // Stores the actual narrow line width of the image being decoded.


    _this.narrowLineWidth = -1;
    return _this;
  } // See ITFWriter.PATTERNS

  /*
     /!**
   * Patterns of Wide / Narrow lines to indicate each digit
   *!/
  */


  ITFReader.prototype.decodeRow = function (rowNumber, row, hints) {
    var e_1, _a; // Find out where the Middle section (payload) starts & ends


    var startRange = this.decodeStart(row);
    var endRange = this.decodeEnd(row);
    var result = new StringBuilder();
    ITFReader.decodeMiddle(row, startRange[1], endRange[0], result);
    var resultString = result.toString();
    var allowedLengths = null;

    if (hints != null) {
      allowedLengths = hints.get(DecodeHintType$1.ALLOWED_LENGTHS);
    }

    if (allowedLengths == null) {
      allowedLengths = ITFReader.DEFAULT_ALLOWED_LENGTHS;
    } // To avoid false positives with 2D barcodes (and other patterns), make
    // an assumption that the decoded string must be a 'standard' length if it's short


    var length = resultString.length;
    var lengthOK = false;
    var maxAllowedLength = 0;

    try {
      for (var allowedLengths_1 = __values$z(allowedLengths), allowedLengths_1_1 = allowedLengths_1.next(); !allowedLengths_1_1.done; allowedLengths_1_1 = allowedLengths_1.next()) {
        var value = allowedLengths_1_1.value;

        if (length === value) {
          lengthOK = true;
          break;
        }

        if (value > maxAllowedLength) {
          maxAllowedLength = value;
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (allowedLengths_1_1 && !allowedLengths_1_1.done && (_a = allowedLengths_1.return)) _a.call(allowedLengths_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    if (!lengthOK && length > maxAllowedLength) {
      lengthOK = true;
    }

    if (!lengthOK) {
      throw new FormatException();
    }

    var points = [new ResultPoint(startRange[1], rowNumber), new ResultPoint(endRange[0], rowNumber)];
    var resultReturn = new Result(resultString, null, // no natural byte representation for these barcodes
    0, points, BarcodeFormat$1.ITF, new Date().getTime());
    return resultReturn;
  };
  /*
  /!**
   * @param row          row of black/white values to search
   * @param payloadStart offset of start pattern
   * @param resultString {@link StringBuilder} to append decoded chars to
   * @throws NotFoundException if decoding could not complete successfully
   *!/*/


  ITFReader.decodeMiddle = function (row, payloadStart, payloadEnd, resultString) {
    // Digits are interleaved in pairs - 5 black lines for one digit, and the
    // 5
    // interleaved white lines for the second digit.
    // Therefore, need to scan 10 lines and then
    // split these into two arrays
    var counterDigitPair = new Int32Array(10); // 10

    var counterBlack = new Int32Array(5); // 5

    var counterWhite = new Int32Array(5); // 5

    counterDigitPair.fill(0);
    counterBlack.fill(0);
    counterWhite.fill(0);

    while (payloadStart < payloadEnd) {
      // Get 10 runs of black/white.
      OneDReader.recordPattern(row, payloadStart, counterDigitPair); // Split them into each array

      for (var k = 0; k < 5; k++) {
        var twoK = 2 * k;
        counterBlack[k] = counterDigitPair[twoK];
        counterWhite[k] = counterDigitPair[twoK + 1];
      }

      var bestMatch = ITFReader.decodeDigit(counterBlack);
      resultString.append(bestMatch.toString());
      bestMatch = this.decodeDigit(counterWhite);
      resultString.append(bestMatch.toString());
      counterDigitPair.forEach(function (counterDigit) {
        payloadStart += counterDigit;
      });
    }
  };
  /*/!**
   * Identify where the start of the middle / payload section starts.
   *
   * @param row row of black/white values to search
   * @return Array, containing index of start of 'start block' and end of
   *         'start block'
   *!/*/


  ITFReader.prototype.decodeStart = function (row) {
    var endStart = ITFReader.skipWhiteSpace(row);
    var startPattern = ITFReader.findGuardPattern(row, endStart, ITFReader.START_PATTERN); // Determine the width of a narrow line in pixels. We can do this by
    // getting the width of the start pattern and dividing by 4 because its
    // made up of 4 narrow lines.

    this.narrowLineWidth = (startPattern[1] - startPattern[0]) / 4;
    this.validateQuietZone(row, startPattern[0]);
    return startPattern;
  };
  /*/!**
   * The start & end patterns must be pre/post fixed by a quiet zone. This
   * zone must be at least 10 times the width of a narrow line.  Scan back until
   * we either get to the start of the barcode or match the necessary number of
   * quiet zone pixels.
   *
   * Note: Its assumed the row is reversed when using this method to find
   * quiet zone after the end pattern.
   *
   * ref: http://www.barcode-1.net/i25code.html
   *
   * @param row bit array representing the scanned barcode.
   * @param startPattern index into row of the start or end pattern.
   * @throws NotFoundException if the quiet zone cannot be found
   *!/*/


  ITFReader.prototype.validateQuietZone = function (row, startPattern) {
    var quietCount = this.narrowLineWidth * 10; // expect to find this many pixels of quiet zone
    // if there are not so many pixel at all let's try as many as possible

    quietCount = quietCount < startPattern ? quietCount : startPattern;

    for (var i = startPattern - 1; quietCount > 0 && i >= 0; i--) {
      if (row.get(i)) {
        break;
      }

      quietCount--;
    }

    if (quietCount !== 0) {
      // Unable to find the necessary number of quiet zone pixels.
      throw new NotFoundException();
    }
  };
  /*
  /!**
   * Skip all whitespace until we get to the first black line.
   *
   * @param row row of black/white values to search
   * @return index of the first black line.
   * @throws NotFoundException Throws exception if no black lines are found in the row
   *!/*/


  ITFReader.skipWhiteSpace = function (row) {
    var width = row.getSize();
    var endStart = row.getNextSet(0);

    if (endStart === width) {
      throw new NotFoundException();
    }

    return endStart;
  };
  /*/!**
   * Identify where the end of the middle / payload section ends.
   *
   * @param row row of black/white values to search
   * @return Array, containing index of start of 'end block' and end of 'end
   *         block'
   *!/*/


  ITFReader.prototype.decodeEnd = function (row) {
    // For convenience, reverse the row and then
    // search from 'the start' for the end block
    row.reverse();

    try {
      var endStart = ITFReader.skipWhiteSpace(row);
      var endPattern = void 0;

      try {
        endPattern = ITFReader.findGuardPattern(row, endStart, ITFReader.END_PATTERN_REVERSED[0]);
      } catch (error) {
        if (error instanceof NotFoundException) {
          endPattern = ITFReader.findGuardPattern(row, endStart, ITFReader.END_PATTERN_REVERSED[1]);
        }
      } // The start & end patterns must be pre/post fixed by a quiet zone. This
      // zone must be at least 10 times the width of a narrow line.
      // ref: http://www.barcode-1.net/i25code.html


      this.validateQuietZone(row, endPattern[0]); // Now recalculate the indices of where the 'endblock' starts & stops to
      // accommodate
      // the reversed nature of the search

      var temp = endPattern[0];
      endPattern[0] = row.getSize() - endPattern[1];
      endPattern[1] = row.getSize() - temp;
      return endPattern;
    } finally {
      // Put the row back the right way.
      row.reverse();
    }
  };
  /*
  /!**
   * @param row       row of black/white values to search
   * @param rowOffset position to start search
   * @param pattern   pattern of counts of number of black and white pixels that are
   *                  being searched for as a pattern
   * @return start/end horizontal offset of guard pattern, as an array of two
   *         ints
   * @throws NotFoundException if pattern is not found
   *!/*/


  ITFReader.findGuardPattern = function (row, rowOffset, pattern) {
    var patternLength = pattern.length;
    var counters = new Int32Array(patternLength);
    var width = row.getSize();
    var isWhite = false;
    var counterPosition = 0;
    var patternStart = rowOffset;
    counters.fill(0);

    for (var x = rowOffset; x < width; x++) {
      if (row.get(x) !== isWhite) {
        counters[counterPosition]++;
      } else {
        if (counterPosition === patternLength - 1) {
          if (OneDReader.patternMatchVariance(counters, pattern, ITFReader.MAX_INDIVIDUAL_VARIANCE) < ITFReader.MAX_AVG_VARIANCE) {
            return [patternStart, x];
          }

          patternStart += counters[0] + counters[1];
          System.arraycopy(counters, 2, counters, 0, counterPosition - 1);
          counters[counterPosition - 1] = 0;
          counters[counterPosition] = 0;
          counterPosition--;
        } else {
          counterPosition++;
        }

        counters[counterPosition] = 1;
        isWhite = !isWhite;
      }
    }

    throw new NotFoundException();
  };
  /*/!**
   * Attempts to decode a sequence of ITF black/white lines into single
   * digit.
   *
   * @param counters the counts of runs of observed black/white/black/... values
   * @return The decoded digit
   * @throws NotFoundException if digit cannot be decoded
   *!/*/


  ITFReader.decodeDigit = function (counters) {
    var bestVariance = ITFReader.MAX_AVG_VARIANCE; // worst variance we'll accept

    var bestMatch = -1;
    var max = ITFReader.PATTERNS.length;

    for (var i = 0; i < max; i++) {
      var pattern = ITFReader.PATTERNS[i];
      var variance = OneDReader.patternMatchVariance(counters, pattern, ITFReader.MAX_INDIVIDUAL_VARIANCE);

      if (variance < bestVariance) {
        bestVariance = variance;
        bestMatch = i;
      } else if (variance === bestVariance) {
        // if we find a second 'best match' with the same variance, we can not reliably report to have a suitable match
        bestMatch = -1;
      }
    }

    if (bestMatch >= 0) {
      return bestMatch % 10;
    } else {
      throw new NotFoundException();
    }
  };

  ITFReader.PATTERNS = [Int32Array.from([1, 1, 2, 2, 1]), Int32Array.from([2, 1, 1, 1, 2]), Int32Array.from([1, 2, 1, 1, 2]), Int32Array.from([2, 2, 1, 1, 1]), Int32Array.from([1, 1, 2, 1, 2]), Int32Array.from([2, 1, 2, 1, 1]), Int32Array.from([1, 2, 2, 1, 1]), Int32Array.from([1, 1, 1, 2, 2]), Int32Array.from([2, 1, 1, 2, 1]), Int32Array.from([1, 2, 1, 2, 1]), Int32Array.from([1, 1, 3, 3, 1]), Int32Array.from([3, 1, 1, 1, 3]), Int32Array.from([1, 3, 1, 1, 3]), Int32Array.from([3, 3, 1, 1, 1]), Int32Array.from([1, 1, 3, 1, 3]), Int32Array.from([3, 1, 3, 1, 1]), Int32Array.from([1, 3, 3, 1, 1]), Int32Array.from([1, 1, 1, 3, 3]), Int32Array.from([3, 1, 1, 3, 1]), Int32Array.from([1, 3, 1, 3, 1]) // 9
  ];
  ITFReader.MAX_AVG_VARIANCE = 0.38;
  ITFReader.MAX_INDIVIDUAL_VARIANCE = 0.5;
  /* /!** Valid ITF lengths. Anything longer than the largest value is also allowed. *!/*/

  ITFReader.DEFAULT_ALLOWED_LENGTHS = [6, 8, 10, 12, 14];
  /*/!**
   * Start/end guard pattern.
   *
   * Note: The end pattern is reversed because the row is reversed before
   * searching for the END_PATTERN
   *!/*/

  ITFReader.START_PATTERN = Int32Array.from([1, 1, 1, 1]);
  ITFReader.END_PATTERN_REVERSED = [Int32Array.from([1, 1, 2]), Int32Array.from([1, 1, 3]) // 3x
  ];
  return ITFReader;
}(OneDReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$H = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * <p>Encapsulates functionality and implementation that is common to UPC and EAN families
 * of one-dimensional barcodes.</p>
 *
 * @author dswitkin@google.com (Daniel Switkin)
 * @author Sean Owen
 * @author alasdair@google.com (Alasdair Mackintosh)
 */

var AbstractUPCEANReader =
/** @class */
function (_super) {
  __extends$H(AbstractUPCEANReader, _super);

  function AbstractUPCEANReader() {
    var _this = _super !== null && _super.apply(this, arguments) || this;

    _this.decodeRowStringBuffer = '';
    return _this;
  } // private final UPCEANExtensionSupport extensionReader;
  // private final EANManufacturerOrgSupport eanManSupport;

  /*
  protected UPCEANReader() {
      decodeRowStringBuffer = new StringBuilder(20);
      extensionReader = new UPCEANExtensionSupport();
      eanManSupport = new EANManufacturerOrgSupport();
  }
  */


  AbstractUPCEANReader.findStartGuardPattern = function (row) {
    var foundStart = false;
    var startRange;
    var nextStart = 0;
    var counters = Int32Array.from([0, 0, 0]);

    while (!foundStart) {
      counters = Int32Array.from([0, 0, 0]);
      startRange = AbstractUPCEANReader.findGuardPattern(row, nextStart, false, this.START_END_PATTERN, counters);
      var start = startRange[0];
      nextStart = startRange[1];
      var quietStart = start - (nextStart - start);

      if (quietStart >= 0) {
        foundStart = row.isRange(quietStart, start, false);
      }
    }

    return startRange;
  };

  AbstractUPCEANReader.checkChecksum = function (s) {
    return AbstractUPCEANReader.checkStandardUPCEANChecksum(s);
  };

  AbstractUPCEANReader.checkStandardUPCEANChecksum = function (s) {
    var length = s.length;
    if (length === 0) return false;
    var check = parseInt(s.charAt(length - 1), 10);
    return AbstractUPCEANReader.getStandardUPCEANChecksum(s.substring(0, length - 1)) === check;
  };

  AbstractUPCEANReader.getStandardUPCEANChecksum = function (s) {
    var length = s.length;
    var sum = 0;

    for (var i = length - 1; i >= 0; i -= 2) {
      var digit = s.charAt(i).charCodeAt(0) - '0'.charCodeAt(0);

      if (digit < 0 || digit > 9) {
        throw new FormatException();
      }

      sum += digit;
    }

    sum *= 3;

    for (var i = length - 2; i >= 0; i -= 2) {
      var digit = s.charAt(i).charCodeAt(0) - '0'.charCodeAt(0);

      if (digit < 0 || digit > 9) {
        throw new FormatException();
      }

      sum += digit;
    }

    return (1000 - sum) % 10;
  };

  AbstractUPCEANReader.decodeEnd = function (row, endStart) {
    return AbstractUPCEANReader.findGuardPattern(row, endStart, false, AbstractUPCEANReader.START_END_PATTERN, new Int32Array(AbstractUPCEANReader.START_END_PATTERN.length).fill(0));
  };
  /**
   * @throws NotFoundException
   */


  AbstractUPCEANReader.findGuardPatternWithoutCounters = function (row, rowOffset, whiteFirst, pattern) {
    return this.findGuardPattern(row, rowOffset, whiteFirst, pattern, new Int32Array(pattern.length));
  };
  /**
   * @param row row of black/white values to search
   * @param rowOffset position to start search
   * @param whiteFirst if true, indicates that the pattern specifies white/black/white/...
   * pixel counts, otherwise, it is interpreted as black/white/black/...
   * @param pattern pattern of counts of number of black and white pixels that are being
   * searched for as a pattern
   * @param counters array of counters, as long as pattern, to re-use
   * @return start/end horizontal offset of guard pattern, as an array of two ints
   * @throws NotFoundException if pattern is not found
   */


  AbstractUPCEANReader.findGuardPattern = function (row, rowOffset, whiteFirst, pattern, counters) {
    var width = row.getSize();
    rowOffset = whiteFirst ? row.getNextUnset(rowOffset) : row.getNextSet(rowOffset);
    var counterPosition = 0;
    var patternStart = rowOffset;
    var patternLength = pattern.length;
    var isWhite = whiteFirst;

    for (var x = rowOffset; x < width; x++) {
      if (row.get(x) !== isWhite) {
        counters[counterPosition]++;
      } else {
        if (counterPosition === patternLength - 1) {
          if (OneDReader.patternMatchVariance(counters, pattern, AbstractUPCEANReader.MAX_INDIVIDUAL_VARIANCE) < AbstractUPCEANReader.MAX_AVG_VARIANCE) {
            return Int32Array.from([patternStart, x]);
          }

          patternStart += counters[0] + counters[1];
          var slice = counters.slice(2, counters.length - 1);

          for (var i = 0; i < counterPosition - 1; i++) {
            counters[i] = slice[i];
          }

          counters[counterPosition - 1] = 0;
          counters[counterPosition] = 0;
          counterPosition--;
        } else {
          counterPosition++;
        }

        counters[counterPosition] = 1;
        isWhite = !isWhite;
      }
    }

    throw new NotFoundException();
  };

  AbstractUPCEANReader.decodeDigit = function (row, counters, rowOffset, patterns) {
    this.recordPattern(row, rowOffset, counters);
    var bestVariance = this.MAX_AVG_VARIANCE;
    var bestMatch = -1;
    var max = patterns.length;

    for (var i = 0; i < max; i++) {
      var pattern = patterns[i];
      var variance = OneDReader.patternMatchVariance(counters, pattern, AbstractUPCEANReader.MAX_INDIVIDUAL_VARIANCE);

      if (variance < bestVariance) {
        bestVariance = variance;
        bestMatch = i;
      }
    }

    if (bestMatch >= 0) {
      return bestMatch;
    } else {
      throw new NotFoundException();
    }
  }; // These two values are critical for determining how permissive the decoding will be.
  // We've arrived at these values through a lot of trial and error. Setting them any higher
  // lets false positives creep in quickly.


  AbstractUPCEANReader.MAX_AVG_VARIANCE = 0.48;
  AbstractUPCEANReader.MAX_INDIVIDUAL_VARIANCE = 0.7;
  /**
   * Start/end guard pattern.
   */

  AbstractUPCEANReader.START_END_PATTERN = Int32Array.from([1, 1, 1]);
  /**
   * Pattern marking the middle of a UPC/EAN pattern, separating the two halves.
   */

  AbstractUPCEANReader.MIDDLE_PATTERN = Int32Array.from([1, 1, 1, 1, 1]);
  /**
   * end guard pattern.
   */

  AbstractUPCEANReader.END_PATTERN = Int32Array.from([1, 1, 1, 1, 1, 1]);
  /**
   * "Odd", or "L" patterns used to encode UPC/EAN digits.
   */

  AbstractUPCEANReader.L_PATTERNS = [Int32Array.from([3, 2, 1, 1]), Int32Array.from([2, 2, 2, 1]), Int32Array.from([2, 1, 2, 2]), Int32Array.from([1, 4, 1, 1]), Int32Array.from([1, 1, 3, 2]), Int32Array.from([1, 2, 3, 1]), Int32Array.from([1, 1, 1, 4]), Int32Array.from([1, 3, 1, 2]), Int32Array.from([1, 2, 1, 3]), Int32Array.from([3, 1, 1, 2])];
  return AbstractUPCEANReader;
}(OneDReader);

/*
 * Copyright (C) 2010 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$y = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * @see UPCEANExtension2Support
 */

var UPCEANExtension5Support =
/** @class */
function () {
  function UPCEANExtension5Support() {
    this.CHECK_DIGIT_ENCODINGS = [0x18, 0x14, 0x12, 0x11, 0x0C, 0x06, 0x03, 0x0A, 0x09, 0x05];
    this.decodeMiddleCounters = Int32Array.from([0, 0, 0, 0]);
    this.decodeRowStringBuffer = '';
  }

  UPCEANExtension5Support.prototype.decodeRow = function (rowNumber, row, extensionStartRange) {
    var result = this.decodeRowStringBuffer;
    var end = this.decodeMiddle(row, extensionStartRange, result);
    var resultString = result.toString();
    var extensionData = UPCEANExtension5Support.parseExtensionString(resultString);
    var resultPoints = [new ResultPoint((extensionStartRange[0] + extensionStartRange[1]) / 2.0, rowNumber), new ResultPoint(end, rowNumber)];
    var extensionResult = new Result(resultString, null, 0, resultPoints, BarcodeFormat$1.UPC_EAN_EXTENSION, new Date().getTime());

    if (extensionData != null) {
      extensionResult.putAllMetadata(extensionData);
    }

    return extensionResult;
  };

  UPCEANExtension5Support.prototype.decodeMiddle = function (row, startRange, resultString) {
    var e_1, _a;

    var counters = this.decodeMiddleCounters;
    counters[0] = 0;
    counters[1] = 0;
    counters[2] = 0;
    counters[3] = 0;
    var end = row.getSize();
    var rowOffset = startRange[1];
    var lgPatternFound = 0;

    for (var x = 0; x < 5 && rowOffset < end; x++) {
      var bestMatch = AbstractUPCEANReader.decodeDigit(row, counters, rowOffset, AbstractUPCEANReader.L_AND_G_PATTERNS);
      resultString += String.fromCharCode('0'.charCodeAt(0) + bestMatch % 10);

      try {
        for (var counters_1 = (e_1 = void 0, __values$y(counters)), counters_1_1 = counters_1.next(); !counters_1_1.done; counters_1_1 = counters_1.next()) {
          var counter = counters_1_1.value;
          rowOffset += counter;
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (counters_1_1 && !counters_1_1.done && (_a = counters_1.return)) _a.call(counters_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }

      if (bestMatch >= 10) {
        lgPatternFound |= 1 << 4 - x;
      }

      if (x !== 4) {
        // Read off separator if not last
        rowOffset = row.getNextSet(rowOffset);
        rowOffset = row.getNextUnset(rowOffset);
      }
    }

    if (resultString.length !== 5) {
      throw new NotFoundException();
    }

    var checkDigit = this.determineCheckDigit(lgPatternFound);

    if (UPCEANExtension5Support.extensionChecksum(resultString.toString()) !== checkDigit) {
      throw new NotFoundException();
    }

    return rowOffset;
  };

  UPCEANExtension5Support.extensionChecksum = function (s) {
    var length = s.length;
    var sum = 0;

    for (var i = length - 2; i >= 0; i -= 2) {
      sum += s.charAt(i).charCodeAt(0) - '0'.charCodeAt(0);
    }

    sum *= 3;

    for (var i = length - 1; i >= 0; i -= 2) {
      sum += s.charAt(i).charCodeAt(0) - '0'.charCodeAt(0);
    }

    sum *= 3;
    return sum % 10;
  };

  UPCEANExtension5Support.prototype.determineCheckDigit = function (lgPatternFound) {
    for (var d = 0; d < 10; d++) {
      if (lgPatternFound === this.CHECK_DIGIT_ENCODINGS[d]) {
        return d;
      }
    }

    throw new NotFoundException();
  };

  UPCEANExtension5Support.parseExtensionString = function (raw) {
    if (raw.length !== 5) {
      return null;
    }

    var value = UPCEANExtension5Support.parseExtension5String(raw);

    if (value == null) {
      return null;
    }

    return new Map([[ResultMetadataType$1.SUGGESTED_PRICE, value]]);
  };

  UPCEANExtension5Support.parseExtension5String = function (raw) {
    var currency;

    switch (raw.charAt(0)) {
      case '0':
        currency = '£';
        break;

      case '5':
        currency = '$';
        break;

      case '9':
        // Reference: http://www.jollytech.com
        switch (raw) {
          case '90000':
            // No suggested retail price
            return null;

          case '99991':
            // Complementary
            return '0.00';

          case '99990':
            return 'Used';
        } // Otherwise... unknown currency?


        currency = '';
        break;

      default:
        currency = '';
        break;
    }

    var rawAmount = parseInt(raw.substring(1));
    var unitsString = (rawAmount / 100).toString();
    var hundredths = rawAmount % 100;
    var hundredthsString = hundredths < 10 ? '0' + hundredths : hundredths.toString(); // fixme

    return currency + unitsString + '.' + hundredthsString;
  };

  return UPCEANExtension5Support;
}();

/*
 * Copyright (C) 2012 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$x = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * @see UPCEANExtension5Support
 */

var UPCEANExtension2Support =
/** @class */
function () {
  function UPCEANExtension2Support() {
    this.decodeMiddleCounters = Int32Array.from([0, 0, 0, 0]);
    this.decodeRowStringBuffer = '';
  }

  UPCEANExtension2Support.prototype.decodeRow = function (rowNumber, row, extensionStartRange) {
    var result = this.decodeRowStringBuffer;
    var end = this.decodeMiddle(row, extensionStartRange, result);
    var resultString = result.toString();
    var extensionData = UPCEANExtension2Support.parseExtensionString(resultString);
    var resultPoints = [new ResultPoint((extensionStartRange[0] + extensionStartRange[1]) / 2.0, rowNumber), new ResultPoint(end, rowNumber)];
    var extensionResult = new Result(resultString, null, 0, resultPoints, BarcodeFormat$1.UPC_EAN_EXTENSION, new Date().getTime());

    if (extensionData != null) {
      extensionResult.putAllMetadata(extensionData);
    }

    return extensionResult;
  };

  UPCEANExtension2Support.prototype.decodeMiddle = function (row, startRange, resultString) {
    var e_1, _a;

    var counters = this.decodeMiddleCounters;
    counters[0] = 0;
    counters[1] = 0;
    counters[2] = 0;
    counters[3] = 0;
    var end = row.getSize();
    var rowOffset = startRange[1];
    var checkParity = 0;

    for (var x = 0; x < 2 && rowOffset < end; x++) {
      var bestMatch = AbstractUPCEANReader.decodeDigit(row, counters, rowOffset, AbstractUPCEANReader.L_AND_G_PATTERNS);
      resultString += String.fromCharCode('0'.charCodeAt(0) + bestMatch % 10);

      try {
        for (var counters_1 = (e_1 = void 0, __values$x(counters)), counters_1_1 = counters_1.next(); !counters_1_1.done; counters_1_1 = counters_1.next()) {
          var counter = counters_1_1.value;
          rowOffset += counter;
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (counters_1_1 && !counters_1_1.done && (_a = counters_1.return)) _a.call(counters_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }

      if (bestMatch >= 10) {
        checkParity |= 1 << 1 - x;
      }

      if (x !== 1) {
        // Read off separator if not last
        rowOffset = row.getNextSet(rowOffset);
        rowOffset = row.getNextUnset(rowOffset);
      }
    }

    if (resultString.length !== 2) {
      throw new NotFoundException();
    }

    if (parseInt(resultString.toString()) % 4 !== checkParity) {
      throw new NotFoundException();
    }

    return rowOffset;
  };

  UPCEANExtension2Support.parseExtensionString = function (raw) {
    if (raw.length !== 2) {
      return null;
    }

    return new Map([[ResultMetadataType$1.ISSUE_NUMBER, parseInt(raw)]]);
  };

  return UPCEANExtension2Support;
}();

/*
 * Copyright (C) 2010 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var UPCEANExtensionSupport =
/** @class */
function () {
  function UPCEANExtensionSupport() {}

  UPCEANExtensionSupport.decodeRow = function (rowNumber, row, rowOffset) {
    var extensionStartRange = AbstractUPCEANReader.findGuardPattern(row, rowOffset, false, this.EXTENSION_START_PATTERN, new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));

    try {
      // return null;
      var fiveSupport = new UPCEANExtension5Support();
      return fiveSupport.decodeRow(rowNumber, row, extensionStartRange);
    } catch (err) {
      // return null;
      var twoSupport = new UPCEANExtension2Support();
      return twoSupport.decodeRow(rowNumber, row, extensionStartRange);
    }
  };

  UPCEANExtensionSupport.EXTENSION_START_PATTERN = Int32Array.from([1, 1, 2]);
  return UPCEANExtensionSupport;
}();

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$G = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * <p>Encapsulates functionality and implementation that is common to UPC and EAN families
 * of one-dimensional barcodes.</p>
 *
 * @author dswitkin@google.com (Daniel Switkin)
 * @author Sean Owen
 * @author alasdair@google.com (Alasdair Mackintosh)
 */

var UPCEANReader =
/** @class */
function (_super) {
  __extends$G(UPCEANReader, _super);

  function UPCEANReader() {
    var _this = _super.call(this) || this;

    _this.decodeRowStringBuffer = '';
    UPCEANReader.L_AND_G_PATTERNS = UPCEANReader.L_PATTERNS.map(function (arr) {
      return Int32Array.from(arr);
    });

    for (var i = 10; i < 20; i++) {
      var widths = UPCEANReader.L_PATTERNS[i - 10];
      var reversedWidths = new Int32Array(widths.length);

      for (var j = 0; j < widths.length; j++) {
        reversedWidths[j] = widths[widths.length - j - 1];
      }

      UPCEANReader.L_AND_G_PATTERNS[i] = reversedWidths;
    }

    return _this;
  }

  UPCEANReader.prototype.decodeRow = function (rowNumber, row, hints) {
    var startGuardRange = UPCEANReader.findStartGuardPattern(row);
    var resultPointCallback = hints == null ? null : hints.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK);

    if (resultPointCallback != null) {
      var resultPoint_1 = new ResultPoint((startGuardRange[0] + startGuardRange[1]) / 2.0, rowNumber);
      resultPointCallback.foundPossibleResultPoint(resultPoint_1);
    }

    var budello = this.decodeMiddle(row, startGuardRange, this.decodeRowStringBuffer);
    var endStart = budello.rowOffset;
    var result = budello.resultString;

    if (resultPointCallback != null) {
      var resultPoint_2 = new ResultPoint(endStart, rowNumber);
      resultPointCallback.foundPossibleResultPoint(resultPoint_2);
    }

    var endRange = UPCEANReader.decodeEnd(row, endStart);

    if (resultPointCallback != null) {
      var resultPoint_3 = new ResultPoint((endRange[0] + endRange[1]) / 2.0, rowNumber);
      resultPointCallback.foundPossibleResultPoint(resultPoint_3);
    } // Make sure there is a quiet zone at least as big as the end pattern after the barcode. The
    // spec might want more whitespace, but in practice this is the maximum we can count on.


    var end = endRange[1];
    var quietEnd = end + (end - endRange[0]);

    if (quietEnd >= row.getSize() || !row.isRange(end, quietEnd, false)) {
      throw new NotFoundException();
    }

    var resultString = result.toString(); // UPC/EAN should never be less than 8 chars anyway

    if (resultString.length < 8) {
      throw new FormatException();
    }

    if (!UPCEANReader.checkChecksum(resultString)) {
      throw new ChecksumException();
    }

    var left = (startGuardRange[1] + startGuardRange[0]) / 2.0;
    var right = (endRange[1] + endRange[0]) / 2.0;
    var format = this.getBarcodeFormat();
    var resultPoint = [new ResultPoint(left, rowNumber), new ResultPoint(right, rowNumber)];
    var decodeResult = new Result(resultString, null, 0, resultPoint, format, new Date().getTime());
    var extensionLength = 0;

    try {
      var extensionResult = UPCEANExtensionSupport.decodeRow(rowNumber, row, endRange[1]);
      decodeResult.putMetadata(ResultMetadataType$1.UPC_EAN_EXTENSION, extensionResult.getText());
      decodeResult.putAllMetadata(extensionResult.getResultMetadata());
      decodeResult.addResultPoints(extensionResult.getResultPoints());
      extensionLength = extensionResult.getText().length;
    } catch (err) {}

    var allowedExtensions = hints == null ? null : hints.get(DecodeHintType$1.ALLOWED_EAN_EXTENSIONS);

    if (allowedExtensions != null) {
      var valid = false;

      for (var length_1 in allowedExtensions) {
        if (extensionLength.toString() === length_1) {
          // check me
          valid = true;
          break;
        }
      }

      if (!valid) {
        throw new NotFoundException();
      }
    }

    if (format === BarcodeFormat$1.EAN_13 || format === BarcodeFormat$1.UPC_A) ;

    return decodeResult;
  };

  UPCEANReader.checkChecksum = function (s) {
    return UPCEANReader.checkStandardUPCEANChecksum(s);
  };

  UPCEANReader.checkStandardUPCEANChecksum = function (s) {
    var length = s.length;
    if (length === 0) return false;
    var check = parseInt(s.charAt(length - 1), 10);
    return UPCEANReader.getStandardUPCEANChecksum(s.substring(0, length - 1)) === check;
  };

  UPCEANReader.getStandardUPCEANChecksum = function (s) {
    var length = s.length;
    var sum = 0;

    for (var i = length - 1; i >= 0; i -= 2) {
      var digit = s.charAt(i).charCodeAt(0) - '0'.charCodeAt(0);

      if (digit < 0 || digit > 9) {
        throw new FormatException();
      }

      sum += digit;
    }

    sum *= 3;

    for (var i = length - 2; i >= 0; i -= 2) {
      var digit = s.charAt(i).charCodeAt(0) - '0'.charCodeAt(0);

      if (digit < 0 || digit > 9) {
        throw new FormatException();
      }

      sum += digit;
    }

    return (1000 - sum) % 10;
  };

  UPCEANReader.decodeEnd = function (row, endStart) {
    return UPCEANReader.findGuardPattern(row, endStart, false, UPCEANReader.START_END_PATTERN, new Int32Array(UPCEANReader.START_END_PATTERN.length).fill(0));
  };

  return UPCEANReader;
}(AbstractUPCEANReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$F = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$w = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * <p>Implements decoding of the EAN-13 format.</p>
 *
 * @author dswitkin@google.com (Daniel Switkin)
 * @author Sean Owen
 * @author alasdair@google.com (Alasdair Mackintosh)
 */

var EAN13Reader =
/** @class */
function (_super) {
  __extends$F(EAN13Reader, _super);

  function EAN13Reader() {
    var _this = _super.call(this) || this;

    _this.decodeMiddleCounters = Int32Array.from([0, 0, 0, 0]);
    return _this;
  }

  EAN13Reader.prototype.decodeMiddle = function (row, startRange, resultString) {
    var e_1, _a, e_2, _b;

    var counters = this.decodeMiddleCounters;
    counters[0] = 0;
    counters[1] = 0;
    counters[2] = 0;
    counters[3] = 0;
    var end = row.getSize();
    var rowOffset = startRange[1];
    var lgPatternFound = 0;

    for (var x = 0; x < 6 && rowOffset < end; x++) {
      var bestMatch = UPCEANReader.decodeDigit(row, counters, rowOffset, UPCEANReader.L_AND_G_PATTERNS);
      resultString += String.fromCharCode('0'.charCodeAt(0) + bestMatch % 10);

      try {
        for (var counters_1 = (e_1 = void 0, __values$w(counters)), counters_1_1 = counters_1.next(); !counters_1_1.done; counters_1_1 = counters_1.next()) {
          var counter = counters_1_1.value;
          rowOffset += counter;
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (counters_1_1 && !counters_1_1.done && (_a = counters_1.return)) _a.call(counters_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }

      if (bestMatch >= 10) {
        lgPatternFound |= 1 << 5 - x;
      }
    }

    resultString = EAN13Reader.determineFirstDigit(resultString, lgPatternFound);
    var middleRange = UPCEANReader.findGuardPattern(row, rowOffset, true, UPCEANReader.MIDDLE_PATTERN, new Int32Array(UPCEANReader.MIDDLE_PATTERN.length).fill(0));
    rowOffset = middleRange[1];

    for (var x = 0; x < 6 && rowOffset < end; x++) {
      var bestMatch = UPCEANReader.decodeDigit(row, counters, rowOffset, UPCEANReader.L_PATTERNS);
      resultString += String.fromCharCode('0'.charCodeAt(0) + bestMatch);

      try {
        for (var counters_2 = (e_2 = void 0, __values$w(counters)), counters_2_1 = counters_2.next(); !counters_2_1.done; counters_2_1 = counters_2.next()) {
          var counter = counters_2_1.value;
          rowOffset += counter;
        }
      } catch (e_2_1) {
        e_2 = {
          error: e_2_1
        };
      } finally {
        try {
          if (counters_2_1 && !counters_2_1.done && (_b = counters_2.return)) _b.call(counters_2);
        } finally {
          if (e_2) throw e_2.error;
        }
      }
    }

    return {
      rowOffset: rowOffset,
      resultString: resultString
    };
  };

  EAN13Reader.prototype.getBarcodeFormat = function () {
    return BarcodeFormat$1.EAN_13;
  };

  EAN13Reader.determineFirstDigit = function (resultString, lgPatternFound) {
    for (var d = 0; d < 10; d++) {
      if (lgPatternFound === this.FIRST_DIGIT_ENCODINGS[d]) {
        resultString = String.fromCharCode('0'.charCodeAt(0) + d) + resultString;
        return resultString;
      }
    }

    throw new NotFoundException();
  };

  EAN13Reader.FIRST_DIGIT_ENCODINGS = [0x00, 0x0B, 0x0D, 0xE, 0x13, 0x19, 0x1C, 0x15, 0x16, 0x1A];
  return EAN13Reader;
}(UPCEANReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$E = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$v = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * <p>Implements decoding of the EAN-8 format.</p>
 *
 * @author Sean Owen
 */

var EAN8Reader =
/** @class */
function (_super) {
  __extends$E(EAN8Reader, _super);

  function EAN8Reader() {
    var _this = _super.call(this) || this;

    _this.decodeMiddleCounters = Int32Array.from([0, 0, 0, 0]);
    return _this;
  }

  EAN8Reader.prototype.decodeMiddle = function (row, startRange, resultString) {
    var e_1, _a, e_2, _b;

    var counters = this.decodeMiddleCounters;
    counters[0] = 0;
    counters[1] = 0;
    counters[2] = 0;
    counters[3] = 0;
    var end = row.getSize();
    var rowOffset = startRange[1];

    for (var x = 0; x < 4 && rowOffset < end; x++) {
      var bestMatch = UPCEANReader.decodeDigit(row, counters, rowOffset, UPCEANReader.L_PATTERNS);
      resultString += String.fromCharCode('0'.charCodeAt(0) + bestMatch);

      try {
        for (var counters_1 = (e_1 = void 0, __values$v(counters)), counters_1_1 = counters_1.next(); !counters_1_1.done; counters_1_1 = counters_1.next()) {
          var counter = counters_1_1.value;
          rowOffset += counter;
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (counters_1_1 && !counters_1_1.done && (_a = counters_1.return)) _a.call(counters_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }
    }

    var middleRange = UPCEANReader.findGuardPattern(row, rowOffset, true, UPCEANReader.MIDDLE_PATTERN, new Int32Array(UPCEANReader.MIDDLE_PATTERN.length).fill(0));
    rowOffset = middleRange[1];

    for (var x = 0; x < 4 && rowOffset < end; x++) {
      var bestMatch = UPCEANReader.decodeDigit(row, counters, rowOffset, UPCEANReader.L_PATTERNS);
      resultString += String.fromCharCode('0'.charCodeAt(0) + bestMatch);

      try {
        for (var counters_2 = (e_2 = void 0, __values$v(counters)), counters_2_1 = counters_2.next(); !counters_2_1.done; counters_2_1 = counters_2.next()) {
          var counter = counters_2_1.value;
          rowOffset += counter;
        }
      } catch (e_2_1) {
        e_2 = {
          error: e_2_1
        };
      } finally {
        try {
          if (counters_2_1 && !counters_2_1.done && (_b = counters_2.return)) _b.call(counters_2);
        } finally {
          if (e_2) throw e_2.error;
        }
      }
    }

    return {
      rowOffset: rowOffset,
      resultString: resultString
    };
  };

  EAN8Reader.prototype.getBarcodeFormat = function () {
    return BarcodeFormat$1.EAN_8;
  };

  return EAN8Reader;
}(UPCEANReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$D = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Encapsulates functionality and implementation that is common to all families
 * of one-dimensional barcodes.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 * @author Sean Owen
 * @author sam2332 (Sam Rudloff)
 *
 * @source https://github.com/zxing/zxing/blob/3c96923276dd5785d58eb970b6ba3f80d36a9505/core/src/main/java/com/google/zxing/oned/UPCAReader.java
 *
 * @experimental
 */

var UPCAReader =
/** @class */
function (_super) {
  __extends$D(UPCAReader, _super);

  function UPCAReader() {
    var _this = _super !== null && _super.apply(this, arguments) || this;

    _this.ean13Reader = new EAN13Reader();
    return _this;
  } // @Override


  UPCAReader.prototype.getBarcodeFormat = function () {
    return BarcodeFormat$1.UPC_A;
  }; // Note that we don't try rotation without the try harder flag, even if rotation was supported.
  // @Override


  UPCAReader.prototype.decode = function (image, hints) {
    return this.maybeReturnResult(this.ean13Reader.decode(image));
  }; // @Override


  UPCAReader.prototype.decodeRow = function (rowNumber, row, hints) {
    return this.maybeReturnResult(this.ean13Reader.decodeRow(rowNumber, row, hints));
  }; // @Override


  UPCAReader.prototype.decodeMiddle = function (row, startRange, resultString) {
    return this.ean13Reader.decodeMiddle(row, startRange, resultString);
  };

  UPCAReader.prototype.maybeReturnResult = function (result) {
    var text = result.getText();

    if (text.charAt(0) === '0') {
      var upcaResult = new Result(text.substring(1), null, null, result.getResultPoints(), BarcodeFormat$1.UPC_A);

      if (result.getResultMetadata() != null) {
        upcaResult.putAllMetadata(result.getResultMetadata());
      }

      return upcaResult;
    } else {
      throw new NotFoundException();
    }
  };

  UPCAReader.prototype.reset = function () {
    this.ean13Reader.reset();
  };

  return UPCAReader;
}(UPCEANReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$C = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$u = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
// import com.google.zxing.BarcodeFormat;
// import com.google.zxing.FormatException;
// import com.google.zxing.NotFoundException;
// import com.google.zxing.common.BitArray;

/**
 * <p>Implements decoding of the UPC-E format.</p>
 * <p><a href="http://www.barcodeisland.com/upce.phtml">This</a> is a great reference for
 * UPC-E information.</p>
 *
 * @author Sean Owen
 *
 * @source https://github.com/zxing/zxing/blob/3c96923276dd5785d58eb970b6ba3f80d36a9505/core/src/main/java/com/google/zxing/oned/UPCEReader.java
 *
 * @experimental
 */

var UPCEReader =
/** @class */
function (_super) {
  __extends$C(UPCEReader, _super);

  function UPCEReader() {
    var _this = _super.call(this) || this;

    _this.decodeMiddleCounters = new Int32Array(4);
    return _this;
  }
  /**
   * @throws NotFoundException
   */
  // @Override


  UPCEReader.prototype.decodeMiddle = function (row, startRange, result) {
    var e_1, _a;

    var counters = this.decodeMiddleCounters.map(function (x) {
      return x;
    });
    counters[0] = 0;
    counters[1] = 0;
    counters[2] = 0;
    counters[3] = 0;
    var end = row.getSize();
    var rowOffset = startRange[1];
    var lgPatternFound = 0;

    for (var x = 0; x < 6 && rowOffset < end; x++) {
      var bestMatch = UPCEReader.decodeDigit(row, counters, rowOffset, UPCEReader.L_AND_G_PATTERNS);
      result += String.fromCharCode('0'.charCodeAt(0) + bestMatch % 10);

      try {
        for (var counters_1 = (e_1 = void 0, __values$u(counters)), counters_1_1 = counters_1.next(); !counters_1_1.done; counters_1_1 = counters_1.next()) {
          var counter = counters_1_1.value;
          rowOffset += counter;
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (counters_1_1 && !counters_1_1.done && (_a = counters_1.return)) _a.call(counters_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }

      if (bestMatch >= 10) {
        lgPatternFound |= 1 << 5 - x;
      }
    }

    UPCEReader.determineNumSysAndCheckDigit(new StringBuilder(result), lgPatternFound);
    return rowOffset;
  };
  /**
   * @throws NotFoundException
   */
  // @Override


  UPCEReader.prototype.decodeEnd = function (row, endStart) {
    return UPCEReader.findGuardPatternWithoutCounters(row, endStart, true, UPCEReader.MIDDLE_END_PATTERN);
  };
  /**
   * @throws FormatException
   */
  // @Override


  UPCEReader.prototype.checkChecksum = function (s) {
    return UPCEANReader.checkChecksum(UPCEReader.convertUPCEtoUPCA(s));
  };
  /**
   * @throws NotFoundException
   */


  UPCEReader.determineNumSysAndCheckDigit = function (resultString, lgPatternFound) {
    for (var numSys = 0; numSys <= 1; numSys++) {
      for (var d = 0; d < 10; d++) {
        if (lgPatternFound === this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[numSys][d]) {
          resultString.insert(0,
          /*(char)*/
          '0' + numSys);
          resultString.append(
          /*(char)*/
          '0' + d);
          return;
        }
      }
    }

    throw NotFoundException.getNotFoundInstance();
  }; // @Override


  UPCEReader.prototype.getBarcodeFormat = function () {
    return BarcodeFormat$1.UPC_E;
  };
  /**
   * Expands a UPC-E value back into its full, equivalent UPC-A code value.
   *
   * @param upce UPC-E code as string of digits
   * @return equivalent UPC-A code as string of digits
   */


  UPCEReader.convertUPCEtoUPCA = function (upce) {
    // the following line is equivalent to upce.getChars(1, 7, upceChars, 0);
    var upceChars = upce.slice(1, 7).split('').map(function (x) {
      return x.charCodeAt(0);
    });
    var result = new StringBuilder();
    result.append(upce.charAt(0));
    var lastChar = upceChars[5];

    switch (lastChar) {
      case 0:
      case 1:
      case 2:
        result.appendChars(upceChars, 0, 2);
        result.append(lastChar);
        result.append('0000');
        result.appendChars(upceChars, 2, 3);
        break;

      case 3:
        result.appendChars(upceChars, 0, 3);
        result.append('00000');
        result.appendChars(upceChars, 3, 2);
        break;

      case 4:
        result.appendChars(upceChars, 0, 4);
        result.append('00000');
        result.append(upceChars[4]);
        break;

      default:
        result.appendChars(upceChars, 0, 5);
        result.append('0000');
        result.append(lastChar);
        break;
    } // Only append check digit in conversion if supplied


    if (upce.length >= 8) {
      result.append(upce.charAt(7));
    }

    return result.toString();
  };
  /**
   * The pattern that marks the middle, and end, of a UPC-E pattern.
   * There is no "second half" to a UPC-E barcode.
   */


  UPCEReader.MIDDLE_END_PATTERN = Int32Array.from([1, 1, 1, 1, 1, 1]); // For an UPC-E barcode, the final digit is represented by the parities used
  // to encode the middle six digits, according to the table below.
  //
  //                Parity of next 6 digits
  //    Digit   0     1     2     3     4     5
  //       0    Even   Even  Even Odd  Odd   Odd
  //       1    Even   Even  Odd  Even Odd   Odd
  //       2    Even   Even  Odd  Odd  Even  Odd
  //       3    Even   Even  Odd  Odd  Odd   Even
  //       4    Even   Odd   Even Even Odd   Odd
  //       5    Even   Odd   Odd  Even Even  Odd
  //       6    Even   Odd   Odd  Odd  Even  Even
  //       7    Even   Odd   Even Odd  Even  Odd
  //       8    Even   Odd   Even Odd  Odd   Even
  //       9    Even   Odd   Odd  Even Odd   Even
  //
  // The encoding is represented by the following array, which is a bit pattern
  // using Odd = 0 and Even = 1. For example, 5 is represented by:
  //
  //              Odd Even Even Odd Odd Even
  // in binary:
  //                0    1    1   0   0    1   == 0x19
  //

  /**
   * See {@link #L_AND_G_PATTERNS}; these values similarly represent patterns of
   * even-odd parity encodings of digits that imply both the number system (0 or 1)
   * used, and the check digit.
   */

  UPCEReader.NUMSYS_AND_CHECK_DIGIT_PATTERNS = [Int32Array.from([0x38, 0x34, 0x32, 0x31, 0x2C, 0x26, 0x23, 0x2A, 0x29, 0x25]), Int32Array.from([0x07, 0x0B, 0x0D, 0x0E, 0x13, 0x19, 0x1C, 0x15, 0x16, 0x1])];
  return UPCEReader;
}(UPCEANReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$B = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$t = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * <p>A reader that can read all available UPC/EAN formats. If a caller wants to try to
 * read all such formats, it is most efficient to use this implementation rather than invoke
 * individual readers.</p>
 *
 * @author Sean Owen
 */

var MultiFormatUPCEANReader =
/** @class */
function (_super) {
  __extends$B(MultiFormatUPCEANReader, _super);

  function MultiFormatUPCEANReader(hints) {
    var _this = _super.call(this) || this;

    var possibleFormats = hints == null ? null : hints.get(DecodeHintType$1.POSSIBLE_FORMATS);
    var readers = [];

    if (possibleFormats != null) {
      if (possibleFormats.indexOf(BarcodeFormat$1.EAN_13) > -1) {
        readers.push(new EAN13Reader());
      } else if (possibleFormats.indexOf(BarcodeFormat$1.UPC_A) > -1) {
        readers.push(new UPCAReader());
      }

      if (possibleFormats.indexOf(BarcodeFormat$1.EAN_8) > -1) {
        readers.push(new EAN8Reader());
      }

      if (possibleFormats.indexOf(BarcodeFormat$1.UPC_E) > -1) {
        readers.push(new UPCEReader());
      }
    }

    if (readers.length === 0) {
      readers.push(new EAN13Reader()); // UPC-A is covered by EAN-13

      readers.push(new EAN8Reader());
      readers.push(new UPCEReader());
    }

    _this.readers = readers;
    return _this;
  }

  MultiFormatUPCEANReader.prototype.decodeRow = function (rowNumber, row, hints) {
    var e_1, _a;

    try {
      for (var _b = __values$t(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {
        var reader = _c.value;

        try {
          // const result: Result = reader.decodeRow(rowNumber, row, startGuardPattern, hints);
          var result = reader.decodeRow(rowNumber, row, hints); // Special case: a 12-digit code encoded in UPC-A is identical to a "0"
          // followed by those 12 digits encoded as EAN-13. Each will recognize such a code,
          // UPC-A as a 12-digit string and EAN-13 as a 13-digit string starting with "0".
          // Individually these are correct and their readers will both read such a code
          // and correctly call it EAN-13, or UPC-A, respectively.
          //
          // In this case, if we've been looking for both types, we'd like to call it
          // a UPC-A code. But for efficiency we only run the EAN-13 decoder to also read
          // UPC-A. So we special case it here, and convert an EAN-13 result to a UPC-A
          // result if appropriate.
          //
          // But, don't return UPC-A if UPC-A was not a requested format!

          var ean13MayBeUPCA = result.getBarcodeFormat() === BarcodeFormat$1.EAN_13 && result.getText().charAt(0) === '0'; // @SuppressWarnings("unchecked")

          var possibleFormats = hints == null ? null : hints.get(DecodeHintType$1.POSSIBLE_FORMATS);
          var canReturnUPCA = possibleFormats == null || possibleFormats.includes(BarcodeFormat$1.UPC_A);

          if (ean13MayBeUPCA && canReturnUPCA) {
            var rawBytes = result.getRawBytes(); // Transfer the metadata across

            var resultUPCA = new Result(result.getText().substring(1), rawBytes, rawBytes.length, result.getResultPoints(), BarcodeFormat$1.UPC_A);
            resultUPCA.putAllMetadata(result.getResultMetadata());
            return resultUPCA;
          }

          return result;
        } catch (err) {// continue;
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    throw new NotFoundException();
  };

  MultiFormatUPCEANReader.prototype.reset = function () {
    var e_2, _a;

    try {
      for (var _b = __values$t(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {
        var reader = _c.value;
        reader.reset();
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_2) throw e_2.error;
      }
    }
  };

  return MultiFormatUPCEANReader;
}(OneDReader);

var __extends$A = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$s = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
// import Float from '../../util/Float';

var AbstractRSSReader =
/** @class */
function (_super) {
  __extends$A(AbstractRSSReader, _super);

  function AbstractRSSReader() {
    var _this = _super.call(this) || this;

    _this.decodeFinderCounters = new Int32Array(4);
    _this.dataCharacterCounters = new Int32Array(8);
    _this.oddRoundingErrors = new Array(4);
    _this.evenRoundingErrors = new Array(4);
    _this.oddCounts = new Array(_this.dataCharacterCounters.length / 2);
    _this.evenCounts = new Array(_this.dataCharacterCounters.length / 2);
    return _this;
  }

  AbstractRSSReader.prototype.getDecodeFinderCounters = function () {
    return this.decodeFinderCounters;
  };

  AbstractRSSReader.prototype.getDataCharacterCounters = function () {
    return this.dataCharacterCounters;
  };

  AbstractRSSReader.prototype.getOddRoundingErrors = function () {
    return this.oddRoundingErrors;
  };

  AbstractRSSReader.prototype.getEvenRoundingErrors = function () {
    return this.evenRoundingErrors;
  };

  AbstractRSSReader.prototype.getOddCounts = function () {
    return this.oddCounts;
  };

  AbstractRSSReader.prototype.getEvenCounts = function () {
    return this.evenCounts;
  };

  AbstractRSSReader.prototype.parseFinderValue = function (counters, finderPatterns) {
    for (var value = 0; value < finderPatterns.length; value++) {
      if (OneDReader.patternMatchVariance(counters, finderPatterns[value], AbstractRSSReader.MAX_INDIVIDUAL_VARIANCE) < AbstractRSSReader.MAX_AVG_VARIANCE) {
        return value;
      }
    }

    throw new NotFoundException();
  };
  /**
   * @param array values to sum
   * @return sum of values
   * @deprecated call {@link MathUtils#sum(int[])}
   */


  AbstractRSSReader.count = function (array) {
    return MathUtils.sum(new Int32Array(array));
  };

  AbstractRSSReader.increment = function (array, errors) {
    var index = 0;
    var biggestError = errors[0];

    for (var i = 1; i < array.length; i++) {
      if (errors[i] > biggestError) {
        biggestError = errors[i];
        index = i;
      }
    }

    array[index]++;
  };

  AbstractRSSReader.decrement = function (array, errors) {
    var index = 0;
    var biggestError = errors[0];

    for (var i = 1; i < array.length; i++) {
      if (errors[i] < biggestError) {
        biggestError = errors[i];
        index = i;
      }
    }

    array[index]--;
  };

  AbstractRSSReader.isFinderPattern = function (counters) {
    var e_1, _a;

    var firstTwoSum = counters[0] + counters[1];
    var sum = firstTwoSum + counters[2] + counters[3];
    var ratio = firstTwoSum / sum;

    if (ratio >= AbstractRSSReader.MIN_FINDER_PATTERN_RATIO && ratio <= AbstractRSSReader.MAX_FINDER_PATTERN_RATIO) {
      // passes ratio test in spec, but see if the counts are unreasonable
      var minCounter = Number.MAX_SAFE_INTEGER;
      var maxCounter = Number.MIN_SAFE_INTEGER;

      try {
        for (var counters_1 = __values$s(counters), counters_1_1 = counters_1.next(); !counters_1_1.done; counters_1_1 = counters_1.next()) {
          var counter = counters_1_1.value;

          if (counter > maxCounter) {
            maxCounter = counter;
          }

          if (counter < minCounter) {
            minCounter = counter;
          }
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (counters_1_1 && !counters_1_1.done && (_a = counters_1.return)) _a.call(counters_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }

      return maxCounter < 10 * minCounter;
    }

    return false;
  };

  AbstractRSSReader.MAX_AVG_VARIANCE = 0.2;
  AbstractRSSReader.MAX_INDIVIDUAL_VARIANCE = 0.45;
  AbstractRSSReader.MIN_FINDER_PATTERN_RATIO = 9.5 / 12.0;
  AbstractRSSReader.MAX_FINDER_PATTERN_RATIO = 12.5 / 14.0;
  return AbstractRSSReader;
}(OneDReader);

var DataCharacter =
/** @class */
function () {
  function DataCharacter(value, checksumPortion) {
    this.value = value;
    this.checksumPortion = checksumPortion;
  }

  DataCharacter.prototype.getValue = function () {
    return this.value;
  };

  DataCharacter.prototype.getChecksumPortion = function () {
    return this.checksumPortion;
  };

  DataCharacter.prototype.toString = function () {
    return this.value + '(' + this.checksumPortion + ')';
  };

  DataCharacter.prototype.equals = function (o) {
    if (!(o instanceof DataCharacter)) {
      return false;
    }

    var that = o;
    return this.value === that.value && this.checksumPortion === that.checksumPortion;
  };

  DataCharacter.prototype.hashCode = function () {
    return this.value ^ this.checksumPortion;
  };

  return DataCharacter;
}();

var FinderPattern$1 =
/** @class */
function () {
  function FinderPattern(value, startEnd, start, end, rowNumber) {
    this.value = value;
    this.startEnd = startEnd;
    this.value = value;
    this.startEnd = startEnd;
    this.resultPoints = new Array();
    this.resultPoints.push(new ResultPoint(start, rowNumber));
    this.resultPoints.push(new ResultPoint(end, rowNumber));
  }

  FinderPattern.prototype.getValue = function () {
    return this.value;
  };

  FinderPattern.prototype.getStartEnd = function () {
    return this.startEnd;
  };

  FinderPattern.prototype.getResultPoints = function () {
    return this.resultPoints;
  };

  FinderPattern.prototype.equals = function (o) {
    if (!(o instanceof FinderPattern)) {
      return false;
    }

    var that = o;
    return this.value === that.value;
  };

  FinderPattern.prototype.hashCode = function () {
    return this.value;
  };

  return FinderPattern;
}();

var __values$r = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * RSS util functions.
 */


var RSSUtils =
/** @class */
function () {
  function RSSUtils() {}

  RSSUtils.getRSSvalue = function (widths, maxWidth, noNarrow) {
    var e_1, _a;

    var n = 0;

    try {
      for (var widths_1 = __values$r(widths), widths_1_1 = widths_1.next(); !widths_1_1.done; widths_1_1 = widths_1.next()) {
        var width = widths_1_1.value;
        n += width;
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (widths_1_1 && !widths_1_1.done && (_a = widths_1.return)) _a.call(widths_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    var val = 0;
    var narrowMask = 0;
    var elements = widths.length;

    for (var bar = 0; bar < elements - 1; bar++) {
      var elmWidth = void 0;

      for (elmWidth = 1, narrowMask |= 1 << bar; elmWidth < widths[bar]; elmWidth++, narrowMask &= ~(1 << bar)) {
        var subVal = RSSUtils.combins(n - elmWidth - 1, elements - bar - 2);

        if (noNarrow && narrowMask === 0 && n - elmWidth - (elements - bar - 1) >= elements - bar - 1) {
          subVal -= RSSUtils.combins(n - elmWidth - (elements - bar), elements - bar - 2);
        }

        if (elements - bar - 1 > 1) {
          var lessVal = 0;

          for (var mxwElement = n - elmWidth - (elements - bar - 2); mxwElement > maxWidth; mxwElement--) {
            lessVal += RSSUtils.combins(n - elmWidth - mxwElement - 1, elements - bar - 3);
          }

          subVal -= lessVal * (elements - 1 - bar);
        } else if (n - elmWidth > maxWidth) {
          subVal--;
        }

        val += subVal;
      }

      n -= elmWidth;
    }

    return val;
  };

  RSSUtils.combins = function (n, r) {
    var maxDenom;
    var minDenom;

    if (n - r > r) {
      minDenom = r;
      maxDenom = n - r;
    } else {
      minDenom = n - r;
      maxDenom = r;
    }

    var val = 1;
    var j = 1;

    for (var i = n; i > maxDenom; i--) {
      val *= i;

      if (j <= minDenom) {
        val /= j;
        j++;
      }
    }

    while (j <= minDenom) {
      val /= j;
      j++;
    }

    return val;
  };

  return RSSUtils;
}();

var BitArrayBuilder =
/** @class */
function () {
  function BitArrayBuilder() {}

  BitArrayBuilder.buildBitArray = function (pairs) {
    var charNumber = pairs.length * 2 - 1;

    if (pairs[pairs.length - 1].getRightChar() == null) {
      charNumber -= 1;
    }

    var size = 12 * charNumber;
    var binary = new BitArray(size);
    var accPos = 0;
    var firstPair = pairs[0];
    var firstValue = firstPair.getRightChar().getValue();

    for (var i = 11; i >= 0; --i) {
      if ((firstValue & 1 << i) != 0) {
        binary.set(accPos);
      }

      accPos++;
    }

    for (var i = 1; i < pairs.length; ++i) {
      var currentPair = pairs[i];
      var leftValue = currentPair.getLeftChar().getValue();

      for (var j = 11; j >= 0; --j) {
        if ((leftValue & 1 << j) != 0) {
          binary.set(accPos);
        }

        accPos++;
      }

      if (currentPair.getRightChar() != null) {
        var rightValue = currentPair.getRightChar().getValue();

        for (var j = 11; j >= 0; --j) {
          if ((rightValue & 1 << j) != 0) {
            binary.set(accPos);
          }

          accPos++;
        }
      }
    }

    return binary;
  };

  return BitArrayBuilder;
}();

var BlockParsedResult =
/** @class */
function () {
  function BlockParsedResult(finished, decodedInformation) {
    if (decodedInformation) {
      this.decodedInformation = null;
    } else {
      this.finished = finished;
      this.decodedInformation = decodedInformation;
    }
  }

  BlockParsedResult.prototype.getDecodedInformation = function () {
    return this.decodedInformation;
  };

  BlockParsedResult.prototype.isFinished = function () {
    return this.finished;
  };

  return BlockParsedResult;
}();

var DecodedObject =
/** @class */
function () {
  function DecodedObject(newPosition) {
    this.newPosition = newPosition;
  }

  DecodedObject.prototype.getNewPosition = function () {
    return this.newPosition;
  };

  return DecodedObject;
}();

var __extends$z = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var DecodedChar =
/** @class */
function (_super) {
  __extends$z(DecodedChar, _super);

  function DecodedChar(newPosition, value) {
    var _this = _super.call(this, newPosition) || this;

    _this.value = value;
    return _this;
  }

  DecodedChar.prototype.getValue = function () {
    return this.value;
  };

  DecodedChar.prototype.isFNC1 = function () {
    return this.value === DecodedChar.FNC1;
  };

  DecodedChar.FNC1 = '$';
  return DecodedChar;
}(DecodedObject);

var __extends$y = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var DecodedInformation =
/** @class */
function (_super) {
  __extends$y(DecodedInformation, _super);

  function DecodedInformation(newPosition, newString, remainingValue) {
    var _this = _super.call(this, newPosition) || this;

    if (remainingValue) {
      _this.remaining = true;
      _this.remainingValue = _this.remainingValue;
    } else {
      _this.remaining = false;
      _this.remainingValue = 0;
    }

    _this.newString = newString;
    return _this;
  }

  DecodedInformation.prototype.getNewString = function () {
    return this.newString;
  };

  DecodedInformation.prototype.isRemaining = function () {
    return this.remaining;
  };

  DecodedInformation.prototype.getRemainingValue = function () {
    return this.remainingValue;
  };

  return DecodedInformation;
}(DecodedObject);

var __extends$x = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var DecodedNumeric =
/** @class */
function (_super) {
  __extends$x(DecodedNumeric, _super);

  function DecodedNumeric(newPosition, firstDigit, secondDigit) {
    var _this = _super.call(this, newPosition) || this;

    if (firstDigit < 0 || firstDigit > 10 || secondDigit < 0 || secondDigit > 10) {
      throw new FormatException();
    }

    _this.firstDigit = firstDigit;
    _this.secondDigit = secondDigit;
    return _this;
  }

  DecodedNumeric.prototype.getFirstDigit = function () {
    return this.firstDigit;
  };

  DecodedNumeric.prototype.getSecondDigit = function () {
    return this.secondDigit;
  };

  DecodedNumeric.prototype.getValue = function () {
    return this.firstDigit * 10 + this.secondDigit;
  };

  DecodedNumeric.prototype.isFirstDigitFNC1 = function () {
    return this.firstDigit === DecodedNumeric.FNC1;
  };

  DecodedNumeric.prototype.isSecondDigitFNC1 = function () {
    return this.secondDigit === DecodedNumeric.FNC1;
  };

  DecodedNumeric.prototype.isAnyFNC1 = function () {
    return this.firstDigit === DecodedNumeric.FNC1 || this.secondDigit === DecodedNumeric.FNC1;
  };

  DecodedNumeric.FNC1 = 10;
  return DecodedNumeric;
}(DecodedObject);

var __values$q = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};

var FieldParser =
/** @class */
function () {
  function FieldParser() {}

  FieldParser.parseFieldsInGeneralPurpose = function (rawInformation) {
    var e_1, _a, e_2, _b, e_3, _c, e_4, _d;

    if (!rawInformation) {
      return null;
    } // Processing 2-digit AIs


    if (rawInformation.length < 2) {
      throw new NotFoundException();
    }

    var firstTwoDigits = rawInformation.substring(0, 2);

    try {
      for (var _e = __values$q(FieldParser.TWO_DIGIT_DATA_LENGTH), _f = _e.next(); !_f.done; _f = _e.next()) {
        var dataLength = _f.value;

        if (dataLength[0] === firstTwoDigits) {
          if (dataLength[1] === FieldParser.VARIABLE_LENGTH) {
            return FieldParser.processVariableAI(2, dataLength[2], rawInformation);
          }

          return FieldParser.processFixedAI(2, dataLength[1], rawInformation);
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_f && !_f.done && (_a = _e.return)) _a.call(_e);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    if (rawInformation.length < 3) {
      throw new NotFoundException();
    }

    var firstThreeDigits = rawInformation.substring(0, 3);

    try {
      for (var _g = __values$q(FieldParser.THREE_DIGIT_DATA_LENGTH), _h = _g.next(); !_h.done; _h = _g.next()) {
        var dataLength = _h.value;

        if (dataLength[0] === firstThreeDigits) {
          if (dataLength[1] === FieldParser.VARIABLE_LENGTH) {
            return FieldParser.processVariableAI(3, dataLength[2], rawInformation);
          }

          return FieldParser.processFixedAI(3, dataLength[1], rawInformation);
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (_h && !_h.done && (_b = _g.return)) _b.call(_g);
      } finally {
        if (e_2) throw e_2.error;
      }
    }

    try {
      for (var _j = __values$q(FieldParser.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH), _k = _j.next(); !_k.done; _k = _j.next()) {
        var dataLength = _k.value;

        if (dataLength[0] === firstThreeDigits) {
          if (dataLength[1] === FieldParser.VARIABLE_LENGTH) {
            return FieldParser.processVariableAI(4, dataLength[2], rawInformation);
          }

          return FieldParser.processFixedAI(4, dataLength[1], rawInformation);
        }
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (_k && !_k.done && (_c = _j.return)) _c.call(_j);
      } finally {
        if (e_3) throw e_3.error;
      }
    }

    if (rawInformation.length < 4) {
      throw new NotFoundException();
    }

    var firstFourDigits = rawInformation.substring(0, 4);

    try {
      for (var _l = __values$q(FieldParser.FOUR_DIGIT_DATA_LENGTH), _m = _l.next(); !_m.done; _m = _l.next()) {
        var dataLength = _m.value;

        if (dataLength[0] === firstFourDigits) {
          if (dataLength[1] === FieldParser.VARIABLE_LENGTH) {
            return FieldParser.processVariableAI(4, dataLength[2], rawInformation);
          }

          return FieldParser.processFixedAI(4, dataLength[1], rawInformation);
        }
      }
    } catch (e_4_1) {
      e_4 = {
        error: e_4_1
      };
    } finally {
      try {
        if (_m && !_m.done && (_d = _l.return)) _d.call(_l);
      } finally {
        if (e_4) throw e_4.error;
      }
    }

    throw new NotFoundException();
  };

  FieldParser.processFixedAI = function (aiSize, fieldSize, rawInformation) {
    if (rawInformation.length < aiSize) {
      throw new NotFoundException();
    }

    var ai = rawInformation.substring(0, aiSize);

    if (rawInformation.length < aiSize + fieldSize) {
      throw new NotFoundException();
    }

    var field = rawInformation.substring(aiSize, aiSize + fieldSize);
    var remaining = rawInformation.substring(aiSize + fieldSize);
    var result = '(' + ai + ')' + field;
    var parsedAI = FieldParser.parseFieldsInGeneralPurpose(remaining);
    return parsedAI == null ? result : result + parsedAI;
  };

  FieldParser.processVariableAI = function (aiSize, variableFieldSize, rawInformation) {
    var ai = rawInformation.substring(0, aiSize);
    var maxSize;

    if (rawInformation.length < aiSize + variableFieldSize) {
      maxSize = rawInformation.length;
    } else {
      maxSize = aiSize + variableFieldSize;
    }

    var field = rawInformation.substring(aiSize, maxSize);
    var remaining = rawInformation.substring(maxSize);
    var result = '(' + ai + ')' + field;
    var parsedAI = FieldParser.parseFieldsInGeneralPurpose(remaining);
    return parsedAI == null ? result : result + parsedAI;
  };

  FieldParser.VARIABLE_LENGTH = [];
  FieldParser.TWO_DIGIT_DATA_LENGTH = [['00', 18], ['01', 14], ['02', 14], ['10', FieldParser.VARIABLE_LENGTH, 20], ['11', 6], ['12', 6], ['13', 6], ['15', 6], ['17', 6], ['20', 2], ['21', FieldParser.VARIABLE_LENGTH, 20], ['22', FieldParser.VARIABLE_LENGTH, 29], ['30', FieldParser.VARIABLE_LENGTH, 8], ['37', FieldParser.VARIABLE_LENGTH, 8], // internal company codes
  ['90', FieldParser.VARIABLE_LENGTH, 30], ['91', FieldParser.VARIABLE_LENGTH, 30], ['92', FieldParser.VARIABLE_LENGTH, 30], ['93', FieldParser.VARIABLE_LENGTH, 30], ['94', FieldParser.VARIABLE_LENGTH, 30], ['95', FieldParser.VARIABLE_LENGTH, 30], ['96', FieldParser.VARIABLE_LENGTH, 30], ['97', FieldParser.VARIABLE_LENGTH, 3], ['98', FieldParser.VARIABLE_LENGTH, 30], ['99', FieldParser.VARIABLE_LENGTH, 30]];
  FieldParser.THREE_DIGIT_DATA_LENGTH = [// Same format as above
  ['240', FieldParser.VARIABLE_LENGTH, 30], ['241', FieldParser.VARIABLE_LENGTH, 30], ['242', FieldParser.VARIABLE_LENGTH, 6], ['250', FieldParser.VARIABLE_LENGTH, 30], ['251', FieldParser.VARIABLE_LENGTH, 30], ['253', FieldParser.VARIABLE_LENGTH, 17], ['254', FieldParser.VARIABLE_LENGTH, 20], ['400', FieldParser.VARIABLE_LENGTH, 30], ['401', FieldParser.VARIABLE_LENGTH, 30], ['402', 17], ['403', FieldParser.VARIABLE_LENGTH, 30], ['410', 13], ['411', 13], ['412', 13], ['413', 13], ['414', 13], ['420', FieldParser.VARIABLE_LENGTH, 20], ['421', FieldParser.VARIABLE_LENGTH, 15], ['422', 3], ['423', FieldParser.VARIABLE_LENGTH, 15], ['424', 3], ['425', 3], ['426', 3]];
  FieldParser.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH = [// Same format as above
  ['310', 6], ['311', 6], ['312', 6], ['313', 6], ['314', 6], ['315', 6], ['316', 6], ['320', 6], ['321', 6], ['322', 6], ['323', 6], ['324', 6], ['325', 6], ['326', 6], ['327', 6], ['328', 6], ['329', 6], ['330', 6], ['331', 6], ['332', 6], ['333', 6], ['334', 6], ['335', 6], ['336', 6], ['340', 6], ['341', 6], ['342', 6], ['343', 6], ['344', 6], ['345', 6], ['346', 6], ['347', 6], ['348', 6], ['349', 6], ['350', 6], ['351', 6], ['352', 6], ['353', 6], ['354', 6], ['355', 6], ['356', 6], ['357', 6], ['360', 6], ['361', 6], ['362', 6], ['363', 6], ['364', 6], ['365', 6], ['366', 6], ['367', 6], ['368', 6], ['369', 6], ['390', FieldParser.VARIABLE_LENGTH, 15], ['391', FieldParser.VARIABLE_LENGTH, 18], ['392', FieldParser.VARIABLE_LENGTH, 15], ['393', FieldParser.VARIABLE_LENGTH, 18], ['703', FieldParser.VARIABLE_LENGTH, 30]];
  FieldParser.FOUR_DIGIT_DATA_LENGTH = [// Same format as above
  ['7001', 13], ['7002', FieldParser.VARIABLE_LENGTH, 30], ['7003', 10], ['8001', 14], ['8002', FieldParser.VARIABLE_LENGTH, 20], ['8003', FieldParser.VARIABLE_LENGTH, 30], ['8004', FieldParser.VARIABLE_LENGTH, 30], ['8005', 6], ['8006', 18], ['8007', FieldParser.VARIABLE_LENGTH, 30], ['8008', FieldParser.VARIABLE_LENGTH, 12], ['8018', 18], ['8020', FieldParser.VARIABLE_LENGTH, 25], ['8100', 6], ['8101', 10], ['8102', 2], ['8110', FieldParser.VARIABLE_LENGTH, 70], ['8200', FieldParser.VARIABLE_LENGTH, 70]];
  return FieldParser;
}();

var GeneralAppIdDecoder =
/** @class */
function () {
  function GeneralAppIdDecoder(information) {
    this.buffer = new StringBuilder();
    this.information = information;
  }

  GeneralAppIdDecoder.prototype.decodeAllCodes = function (buff, initialPosition) {
    var currentPosition = initialPosition;
    var remaining = null;

    do {
      var info = this.decodeGeneralPurposeField(currentPosition, remaining);
      var parsedFields = FieldParser.parseFieldsInGeneralPurpose(info.getNewString());

      if (parsedFields != null) {
        buff.append(parsedFields);
      }

      if (info.isRemaining()) {
        remaining = '' + info.getRemainingValue();
      } else {
        remaining = null;
      }

      if (currentPosition === info.getNewPosition()) {
        // No step forward!
        break;
      }

      currentPosition = info.getNewPosition();
    } while (true);

    return buff.toString();
  };

  GeneralAppIdDecoder.prototype.isStillNumeric = function (pos) {
    // It's numeric if it still has 7 positions
    // and one of the first 4 bits is "1".
    if (pos + 7 > this.information.getSize()) {
      return pos + 4 <= this.information.getSize();
    }

    for (var i = pos; i < pos + 3; ++i) {
      if (this.information.get(i)) {
        return true;
      }
    }

    return this.information.get(pos + 3);
  };

  GeneralAppIdDecoder.prototype.decodeNumeric = function (pos) {
    if (pos + 7 > this.information.getSize()) {
      var numeric_1 = this.extractNumericValueFromBitArray(pos, 4);

      if (numeric_1 === 0) {
        return new DecodedNumeric(this.information.getSize(), DecodedNumeric.FNC1, DecodedNumeric.FNC1);
      }

      return new DecodedNumeric(this.information.getSize(), numeric_1 - 1, DecodedNumeric.FNC1);
    }

    var numeric = this.extractNumericValueFromBitArray(pos, 7);
    var digit1 = (numeric - 8) / 11;
    var digit2 = (numeric - 8) % 11;
    return new DecodedNumeric(pos + 7, digit1, digit2);
  };

  GeneralAppIdDecoder.prototype.extractNumericValueFromBitArray = function (pos, bits) {
    return GeneralAppIdDecoder.extractNumericValueFromBitArray(this.information, pos, bits);
  };

  GeneralAppIdDecoder.extractNumericValueFromBitArray = function (information, pos, bits) {
    var value = 0;

    for (var i = 0; i < bits; ++i) {
      if (information.get(pos + i)) {
        value |= 1 << bits - i - 1;
      }
    }

    return value;
  };

  GeneralAppIdDecoder.prototype.decodeGeneralPurposeField = function (pos, remaining) {
    // this.buffer.setLength(0);
    this.buffer.setLengthToZero();

    if (remaining != null) {
      this.buffer.append(remaining);
    }

    this.current.setPosition(pos);
    var lastDecoded = this.parseBlocks();

    if (lastDecoded != null && lastDecoded.isRemaining()) {
      return new DecodedInformation(this.current.getPosition(), this.buffer.toString(), lastDecoded.getRemainingValue());
    }

    return new DecodedInformation(this.current.getPosition(), this.buffer.toString());
  };

  GeneralAppIdDecoder.prototype.parseBlocks = function () {
    var isFinished;
    var result;

    do {
      var initialPosition = this.current.getPosition();

      if (this.current.isAlpha()) {
        result = this.parseAlphaBlock();
        isFinished = result.isFinished();
      } else if (this.current.isIsoIec646()) {
        result = this.parseIsoIec646Block();
        isFinished = result.isFinished();
      } else {
        // it must be numeric
        result = this.parseNumericBlock();
        isFinished = result.isFinished();
      }

      var positionChanged = initialPosition !== this.current.getPosition();

      if (!positionChanged && !isFinished) {
        break;
      }
    } while (!isFinished);

    return result.getDecodedInformation();
  };

  GeneralAppIdDecoder.prototype.parseNumericBlock = function () {
    while (this.isStillNumeric(this.current.getPosition())) {
      var numeric = this.decodeNumeric(this.current.getPosition());
      this.current.setPosition(numeric.getNewPosition());

      if (numeric.isFirstDigitFNC1()) {
        var information = void 0;

        if (numeric.isSecondDigitFNC1()) {
          information = new DecodedInformation(this.current.getPosition(), this.buffer.toString());
        } else {
          information = new DecodedInformation(this.current.getPosition(), this.buffer.toString(), numeric.getSecondDigit());
        }

        return new BlockParsedResult(true, information);
      }

      this.buffer.append(numeric.getFirstDigit());

      if (numeric.isSecondDigitFNC1()) {
        var information = new DecodedInformation(this.current.getPosition(), this.buffer.toString());
        return new BlockParsedResult(true, information);
      }

      this.buffer.append(numeric.getSecondDigit());
    }

    if (this.isNumericToAlphaNumericLatch(this.current.getPosition())) {
      this.current.setAlpha();
      this.current.incrementPosition(4);
    }

    return new BlockParsedResult(false);
  };

  GeneralAppIdDecoder.prototype.parseIsoIec646Block = function () {
    while (this.isStillIsoIec646(this.current.getPosition())) {
      var iso = this.decodeIsoIec646(this.current.getPosition());
      this.current.setPosition(iso.getNewPosition());

      if (iso.isFNC1()) {
        var information = new DecodedInformation(this.current.getPosition(), this.buffer.toString());
        return new BlockParsedResult(true, information);
      }

      this.buffer.append(iso.getValue());
    }

    if (this.isAlphaOr646ToNumericLatch(this.current.getPosition())) {
      this.current.incrementPosition(3);
      this.current.setNumeric();
    } else if (this.isAlphaTo646ToAlphaLatch(this.current.getPosition())) {
      if (this.current.getPosition() + 5 < this.information.getSize()) {
        this.current.incrementPosition(5);
      } else {
        this.current.setPosition(this.information.getSize());
      }

      this.current.setAlpha();
    }

    return new BlockParsedResult(false);
  };

  GeneralAppIdDecoder.prototype.parseAlphaBlock = function () {
    while (this.isStillAlpha(this.current.getPosition())) {
      var alpha = this.decodeAlphanumeric(this.current.getPosition());
      this.current.setPosition(alpha.getNewPosition());

      if (alpha.isFNC1()) {
        var information = new DecodedInformation(this.current.getPosition(), this.buffer.toString());
        return new BlockParsedResult(true, information); // end of the char block
      }

      this.buffer.append(alpha.getValue());
    }

    if (this.isAlphaOr646ToNumericLatch(this.current.getPosition())) {
      this.current.incrementPosition(3);
      this.current.setNumeric();
    } else if (this.isAlphaTo646ToAlphaLatch(this.current.getPosition())) {
      if (this.current.getPosition() + 5 < this.information.getSize()) {
        this.current.incrementPosition(5);
      } else {
        this.current.setPosition(this.information.getSize());
      }

      this.current.setIsoIec646();
    }

    return new BlockParsedResult(false);
  };

  GeneralAppIdDecoder.prototype.isStillIsoIec646 = function (pos) {
    if (pos + 5 > this.information.getSize()) {
      return false;
    }

    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);

    if (fiveBitValue >= 5 && fiveBitValue < 16) {
      return true;
    }

    if (pos + 7 > this.information.getSize()) {
      return false;
    }

    var sevenBitValue = this.extractNumericValueFromBitArray(pos, 7);

    if (sevenBitValue >= 64 && sevenBitValue < 116) {
      return true;
    }

    if (pos + 8 > this.information.getSize()) {
      return false;
    }

    var eightBitValue = this.extractNumericValueFromBitArray(pos, 8);
    return eightBitValue >= 232 && eightBitValue < 253;
  };

  GeneralAppIdDecoder.prototype.decodeIsoIec646 = function (pos) {
    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);

    if (fiveBitValue === 15) {
      return new DecodedChar(pos + 5, DecodedChar.FNC1);
    }

    if (fiveBitValue >= 5 && fiveBitValue < 15) {
      return new DecodedChar(pos + 5, '0' + (fiveBitValue - 5));
    }

    var sevenBitValue = this.extractNumericValueFromBitArray(pos, 7);

    if (sevenBitValue >= 64 && sevenBitValue < 90) {
      return new DecodedChar(pos + 7, '' + (sevenBitValue + 1));
    }

    if (sevenBitValue >= 90 && sevenBitValue < 116) {
      return new DecodedChar(pos + 7, '' + (sevenBitValue + 7));
    }

    var eightBitValue = this.extractNumericValueFromBitArray(pos, 8);
    var c;

    switch (eightBitValue) {
      case 232:
        c = '!';
        break;

      case 233:
        c = '"';
        break;

      case 234:
        c = '%';
        break;

      case 235:
        c = '&';
        break;

      case 236:
        c = '\'';
        break;

      case 237:
        c = '(';
        break;

      case 238:
        c = ')';
        break;

      case 239:
        c = '*';
        break;

      case 240:
        c = '+';
        break;

      case 241:
        c = ',';
        break;

      case 242:
        c = '-';
        break;

      case 243:
        c = '.';
        break;

      case 244:
        c = '/';
        break;

      case 245:
        c = ':';
        break;

      case 246:
        c = ';';
        break;

      case 247:
        c = '<';
        break;

      case 248:
        c = '=';
        break;

      case 249:
        c = '>';
        break;

      case 250:
        c = '?';
        break;

      case 251:
        c = '_';
        break;

      case 252:
        c = ' ';
        break;

      default:
        throw new FormatException();
    }

    return new DecodedChar(pos + 8, c);
  };

  GeneralAppIdDecoder.prototype.isStillAlpha = function (pos) {
    if (pos + 5 > this.information.getSize()) {
      return false;
    } // We now check if it's a valid 5-bit value (0..9 and FNC1)


    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);

    if (fiveBitValue >= 5 && fiveBitValue < 16) {
      return true;
    }

    if (pos + 6 > this.information.getSize()) {
      return false;
    }

    var sixBitValue = this.extractNumericValueFromBitArray(pos, 6);
    return sixBitValue >= 16 && sixBitValue < 63; // 63 not included
  };

  GeneralAppIdDecoder.prototype.decodeAlphanumeric = function (pos) {
    var fiveBitValue = this.extractNumericValueFromBitArray(pos, 5);

    if (fiveBitValue === 15) {
      return new DecodedChar(pos + 5, DecodedChar.FNC1);
    }

    if (fiveBitValue >= 5 && fiveBitValue < 15) {
      return new DecodedChar(pos + 5, '0' + (fiveBitValue - 5));
    }

    var sixBitValue = this.extractNumericValueFromBitArray(pos, 6);

    if (sixBitValue >= 32 && sixBitValue < 58) {
      return new DecodedChar(pos + 6, '' + (sixBitValue + 33));
    }

    var c;

    switch (sixBitValue) {
      case 58:
        c = '*';
        break;

      case 59:
        c = ',';
        break;

      case 60:
        c = '-';
        break;

      case 61:
        c = '.';
        break;

      case 62:
        c = '/';
        break;

      default:
        throw new IllegalStateException('Decoding invalid alphanumeric value: ' + sixBitValue);
    }

    return new DecodedChar(pos + 6, c);
  };

  GeneralAppIdDecoder.prototype.isAlphaTo646ToAlphaLatch = function (pos) {
    if (pos + 1 > this.information.getSize()) {
      return false;
    }

    for (var i = 0; i < 5 && i + pos < this.information.getSize(); ++i) {
      if (i === 2) {
        if (!this.information.get(pos + 2)) {
          return false;
        }
      } else if (this.information.get(pos + i)) {
        return false;
      }
    }

    return true;
  };

  GeneralAppIdDecoder.prototype.isAlphaOr646ToNumericLatch = function (pos) {
    // Next is alphanumeric if there are 3 positions and they are all zeros
    if (pos + 3 > this.information.getSize()) {
      return false;
    }

    for (var i = pos; i < pos + 3; ++i) {
      if (this.information.get(i)) {
        return false;
      }
    }

    return true;
  };

  GeneralAppIdDecoder.prototype.isNumericToAlphaNumericLatch = function (pos) {
    // Next is alphanumeric if there are 4 positions and they are all zeros, or
    // if there is a subset of this just before the end of the symbol
    if (pos + 1 > this.information.getSize()) {
      return false;
    }

    for (var i = 0; i < 4 && i + pos < this.information.getSize(); ++i) {
      if (this.information.get(pos + i)) {
        return false;
      }
    }

    return true;
  };

  return GeneralAppIdDecoder;
}();

var AbstractExpandedDecoder =
/** @class */
function () {
  function AbstractExpandedDecoder(information) {
    this.information = information;
    this.generalDecoder = new GeneralAppIdDecoder(information);
  }

  AbstractExpandedDecoder.prototype.getInformation = function () {
    return this.information;
  };

  AbstractExpandedDecoder.prototype.getGeneralDecoder = function () {
    return this.generalDecoder;
  };

  return AbstractExpandedDecoder;
}();

var __extends$w = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AI01decoder =
/** @class */
function (_super) {
  __extends$w(AI01decoder, _super);

  function AI01decoder(information) {
    return _super.call(this, information) || this;
  }

  AI01decoder.prototype.encodeCompressedGtin = function (buf, currentPos) {
    buf.append('(01)');
    var initialPosition = buf.length();
    buf.append('9');
    this.encodeCompressedGtinWithoutAI(buf, currentPos, initialPosition);
  };

  AI01decoder.prototype.encodeCompressedGtinWithoutAI = function (buf, currentPos, initialBufferPosition) {
    for (var i = 0; i < 4; ++i) {
      var currentBlock = this.getGeneralDecoder().extractNumericValueFromBitArray(currentPos + 10 * i, 10);

      if (currentBlock / 100 === 0) {
        buf.append('0');
      }

      if (currentBlock / 10 === 0) {
        buf.append('0');
      }

      buf.append(currentBlock);
    }

    AI01decoder.appendCheckDigit(buf, initialBufferPosition);
  };

  AI01decoder.appendCheckDigit = function (buf, currentPos) {
    var checkDigit = 0;

    for (var i = 0; i < 13; i++) {
      // let digit = buf.charAt(i + currentPos) - '0';
      // To be checked
      var digit = buf.charAt(i + currentPos).charCodeAt(0) - '0'.charCodeAt(0);
      checkDigit += (i & 0x01) === 0 ? 3 * digit : digit;
    }

    checkDigit = 10 - checkDigit % 10;

    if (checkDigit === 10) {
      checkDigit = 0;
    }

    buf.append(checkDigit);
  };

  AI01decoder.GTIN_SIZE = 40;
  return AI01decoder;
}(AbstractExpandedDecoder);

var __extends$v = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AI01AndOtherAIs =
/** @class */
function (_super) {
  __extends$v(AI01AndOtherAIs, _super); // the second one is the encodation method, and the other two are for the variable length


  function AI01AndOtherAIs(information) {
    return _super.call(this, information) || this;
  }

  AI01AndOtherAIs.prototype.parseInformation = function () {
    var buff = new StringBuilder();
    buff.append('(01)');
    var initialGtinPosition = buff.length();
    var firstGtinDigit = this.getGeneralDecoder().extractNumericValueFromBitArray(AI01AndOtherAIs.HEADER_SIZE, 4);
    buff.append(firstGtinDigit);
    this.encodeCompressedGtinWithoutAI(buff, AI01AndOtherAIs.HEADER_SIZE + 4, initialGtinPosition);
    return this.getGeneralDecoder().decodeAllCodes(buff, AI01AndOtherAIs.HEADER_SIZE + 44);
  };

  AI01AndOtherAIs.HEADER_SIZE = 1 + 1 + 2; // first bit encodes the linkage flag,

  return AI01AndOtherAIs;
}(AI01decoder);

var __extends$u = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AnyAIDecoder =
/** @class */
function (_super) {
  __extends$u(AnyAIDecoder, _super);

  function AnyAIDecoder(information) {
    return _super.call(this, information) || this;
  }

  AnyAIDecoder.prototype.parseInformation = function () {
    var buf = new StringBuilder();
    return this.getGeneralDecoder().decodeAllCodes(buf, AnyAIDecoder.HEADER_SIZE);
  };

  AnyAIDecoder.HEADER_SIZE = 2 + 1 + 2;
  return AnyAIDecoder;
}(AbstractExpandedDecoder);

var __extends$t = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AI01weightDecoder =
/** @class */
function (_super) {
  __extends$t(AI01weightDecoder, _super);

  function AI01weightDecoder(information) {
    return _super.call(this, information) || this;
  }

  AI01weightDecoder.prototype.encodeCompressedWeight = function (buf, currentPos, weightSize) {
    var originalWeightNumeric = this.getGeneralDecoder().extractNumericValueFromBitArray(currentPos, weightSize);
    this.addWeightCode(buf, originalWeightNumeric);
    var weightNumeric = this.checkWeight(originalWeightNumeric);
    var currentDivisor = 100000;

    for (var i = 0; i < 5; ++i) {
      if (weightNumeric / currentDivisor === 0) {
        buf.append('0');
      }

      currentDivisor /= 10;
    }

    buf.append(weightNumeric);
  };

  return AI01weightDecoder;
}(AI01decoder);

var __extends$s = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AI013x0xDecoder =
/** @class */
function (_super) {
  __extends$s(AI013x0xDecoder, _super);

  function AI013x0xDecoder(information) {
    return _super.call(this, information) || this;
  }

  AI013x0xDecoder.prototype.parseInformation = function () {
    if (this.getInformation().getSize() != AI013x0xDecoder.HEADER_SIZE + AI01weightDecoder.GTIN_SIZE + AI013x0xDecoder.WEIGHT_SIZE) {
      throw new NotFoundException();
    }

    var buf = new StringBuilder();
    this.encodeCompressedGtin(buf, AI013x0xDecoder.HEADER_SIZE);
    this.encodeCompressedWeight(buf, AI013x0xDecoder.HEADER_SIZE + AI01weightDecoder.GTIN_SIZE, AI013x0xDecoder.WEIGHT_SIZE);
    return buf.toString();
  };

  AI013x0xDecoder.HEADER_SIZE = 4 + 1;
  AI013x0xDecoder.WEIGHT_SIZE = 15;
  return AI013x0xDecoder;
}(AI01weightDecoder);

var __extends$r = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AI013103decoder =
/** @class */
function (_super) {
  __extends$r(AI013103decoder, _super);

  function AI013103decoder(information) {
    return _super.call(this, information) || this;
  }

  AI013103decoder.prototype.addWeightCode = function (buf, weight) {
    buf.append('(3103)');
  };

  AI013103decoder.prototype.checkWeight = function (weight) {
    return weight;
  };

  return AI013103decoder;
}(AI013x0xDecoder);

var __extends$q = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AI01320xDecoder =
/** @class */
function (_super) {
  __extends$q(AI01320xDecoder, _super);

  function AI01320xDecoder(information) {
    return _super.call(this, information) || this;
  }

  AI01320xDecoder.prototype.addWeightCode = function (buf, weight) {
    if (weight < 10000) {
      buf.append('(3202)');
    } else {
      buf.append('(3203)');
    }
  };

  AI01320xDecoder.prototype.checkWeight = function (weight) {
    if (weight < 10000) {
      return weight;
    }

    return weight - 10000;
  };

  return AI01320xDecoder;
}(AI013x0xDecoder);

var __extends$p = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AI01392xDecoder =
/** @class */
function (_super) {
  __extends$p(AI01392xDecoder, _super);

  function AI01392xDecoder(information) {
    return _super.call(this, information) || this;
  }

  AI01392xDecoder.prototype.parseInformation = function () {
    if (this.getInformation().getSize() < AI01392xDecoder.HEADER_SIZE + AI01decoder.GTIN_SIZE) {
      throw new NotFoundException();
    }

    var buf = new StringBuilder();
    this.encodeCompressedGtin(buf, AI01392xDecoder.HEADER_SIZE);
    var lastAIdigit = this.getGeneralDecoder().extractNumericValueFromBitArray(AI01392xDecoder.HEADER_SIZE + AI01decoder.GTIN_SIZE, AI01392xDecoder.LAST_DIGIT_SIZE);
    buf.append('(392');
    buf.append(lastAIdigit);
    buf.append(')');
    var decodedInformation = this.getGeneralDecoder().decodeGeneralPurposeField(AI01392xDecoder.HEADER_SIZE + AI01decoder.GTIN_SIZE + AI01392xDecoder.LAST_DIGIT_SIZE, null);
    buf.append(decodedInformation.getNewString());
    return buf.toString();
  };

  AI01392xDecoder.HEADER_SIZE = 5 + 1 + 2;
  AI01392xDecoder.LAST_DIGIT_SIZE = 2;
  return AI01392xDecoder;
}(AI01decoder);

var __extends$o = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AI01393xDecoder =
/** @class */
function (_super) {
  __extends$o(AI01393xDecoder, _super);

  function AI01393xDecoder(information) {
    return _super.call(this, information) || this;
  }

  AI01393xDecoder.prototype.parseInformation = function () {
    if (this.getInformation().getSize() < AI01393xDecoder.HEADER_SIZE + AI01decoder.GTIN_SIZE) {
      throw new NotFoundException();
    }

    var buf = new StringBuilder();
    this.encodeCompressedGtin(buf, AI01393xDecoder.HEADER_SIZE);
    var lastAIdigit = this.getGeneralDecoder().extractNumericValueFromBitArray(AI01393xDecoder.HEADER_SIZE + AI01decoder.GTIN_SIZE, AI01393xDecoder.LAST_DIGIT_SIZE);
    buf.append('(393');
    buf.append(lastAIdigit);
    buf.append(')');
    var firstThreeDigits = this.getGeneralDecoder().extractNumericValueFromBitArray(AI01393xDecoder.HEADER_SIZE + AI01decoder.GTIN_SIZE + AI01393xDecoder.LAST_DIGIT_SIZE, AI01393xDecoder.FIRST_THREE_DIGITS_SIZE);

    if (firstThreeDigits / 100 == 0) {
      buf.append('0');
    }

    if (firstThreeDigits / 10 == 0) {
      buf.append('0');
    }

    buf.append(firstThreeDigits);
    var generalInformation = this.getGeneralDecoder().decodeGeneralPurposeField(AI01393xDecoder.HEADER_SIZE + AI01decoder.GTIN_SIZE + AI01393xDecoder.LAST_DIGIT_SIZE + AI01393xDecoder.FIRST_THREE_DIGITS_SIZE, null);
    buf.append(generalInformation.getNewString());
    return buf.toString();
  };

  AI01393xDecoder.HEADER_SIZE = 5 + 1 + 2;
  AI01393xDecoder.LAST_DIGIT_SIZE = 2;
  AI01393xDecoder.FIRST_THREE_DIGITS_SIZE = 10;
  return AI01393xDecoder;
}(AI01decoder);

var __extends$n = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var AI013x0x1xDecoder =
/** @class */
function (_super) {
  __extends$n(AI013x0x1xDecoder, _super);

  function AI013x0x1xDecoder(information, firstAIdigits, dateCode) {
    var _this = _super.call(this, information) || this;

    _this.dateCode = dateCode;
    _this.firstAIdigits = firstAIdigits;
    return _this;
  }

  AI013x0x1xDecoder.prototype.parseInformation = function () {
    if (this.getInformation().getSize() != AI013x0x1xDecoder.HEADER_SIZE + AI013x0x1xDecoder.GTIN_SIZE + AI013x0x1xDecoder.WEIGHT_SIZE + AI013x0x1xDecoder.DATE_SIZE) {
      throw new NotFoundException();
    }

    var buf = new StringBuilder();
    this.encodeCompressedGtin(buf, AI013x0x1xDecoder.HEADER_SIZE);
    this.encodeCompressedWeight(buf, AI013x0x1xDecoder.HEADER_SIZE + AI013x0x1xDecoder.GTIN_SIZE, AI013x0x1xDecoder.WEIGHT_SIZE);
    this.encodeCompressedDate(buf, AI013x0x1xDecoder.HEADER_SIZE + AI013x0x1xDecoder.GTIN_SIZE + AI013x0x1xDecoder.WEIGHT_SIZE);
    return buf.toString();
  };

  AI013x0x1xDecoder.prototype.encodeCompressedDate = function (buf, currentPos) {
    var numericDate = this.getGeneralDecoder().extractNumericValueFromBitArray(currentPos, AI013x0x1xDecoder.DATE_SIZE);

    if (numericDate == 38400) {
      return;
    }

    buf.append('(');
    buf.append(this.dateCode);
    buf.append(')');
    var day = numericDate % 32;
    numericDate /= 32;
    var month = numericDate % 12 + 1;
    numericDate /= 12;
    var year = numericDate;

    if (year / 10 == 0) {
      buf.append('0');
    }

    buf.append(year);

    if (month / 10 == 0) {
      buf.append('0');
    }

    buf.append(month);

    if (day / 10 == 0) {
      buf.append('0');
    }

    buf.append(day);
  };

  AI013x0x1xDecoder.prototype.addWeightCode = function (buf, weight) {
    buf.append('(');
    buf.append(this.firstAIdigits);
    buf.append(weight / 100000);
    buf.append(')');
  };

  AI013x0x1xDecoder.prototype.checkWeight = function (weight) {
    return weight % 100000;
  };

  AI013x0x1xDecoder.HEADER_SIZE = 7 + 1;
  AI013x0x1xDecoder.WEIGHT_SIZE = 20;
  AI013x0x1xDecoder.DATE_SIZE = 16;
  return AI013x0x1xDecoder;
}(AI01weightDecoder);

function createDecoder(information) {
  try {
    if (information.get(1)) {
      return new AI01AndOtherAIs(information);
    }

    if (!information.get(2)) {
      return new AnyAIDecoder(information);
    }

    var fourBitEncodationMethod = GeneralAppIdDecoder.extractNumericValueFromBitArray(information, 1, 4);

    switch (fourBitEncodationMethod) {
      case 4:
        return new AI013103decoder(information);

      case 5:
        return new AI01320xDecoder(information);
    }

    var fiveBitEncodationMethod = GeneralAppIdDecoder.extractNumericValueFromBitArray(information, 1, 5);

    switch (fiveBitEncodationMethod) {
      case 12:
        return new AI01392xDecoder(information);

      case 13:
        return new AI01393xDecoder(information);
    }

    var sevenBitEncodationMethod = GeneralAppIdDecoder.extractNumericValueFromBitArray(information, 1, 7);

    switch (sevenBitEncodationMethod) {
      case 56:
        return new AI013x0x1xDecoder(information, '310', '11');

      case 57:
        return new AI013x0x1xDecoder(information, '320', '11');

      case 58:
        return new AI013x0x1xDecoder(information, '310', '13');

      case 59:
        return new AI013x0x1xDecoder(information, '320', '13');

      case 60:
        return new AI013x0x1xDecoder(information, '310', '15');

      case 61:
        return new AI013x0x1xDecoder(information, '320', '15');

      case 62:
        return new AI013x0x1xDecoder(information, '310', '17');

      case 63:
        return new AI013x0x1xDecoder(information, '320', '17');
    }
  } catch (e) {
    console.log(e);
    throw new IllegalStateException('unknown decoder: ' + information);
  }
}

var ExpandedPair =
/** @class */
function () {
  function ExpandedPair(leftChar, rightChar, finderPatter, mayBeLast) {
    this.leftchar = leftChar;
    this.rightchar = rightChar;
    this.finderpattern = finderPatter;
    this.maybeLast = mayBeLast;
  }

  ExpandedPair.prototype.mayBeLast = function () {
    return this.maybeLast;
  };

  ExpandedPair.prototype.getLeftChar = function () {
    return this.leftchar;
  };

  ExpandedPair.prototype.getRightChar = function () {
    return this.rightchar;
  };

  ExpandedPair.prototype.getFinderPattern = function () {
    return this.finderpattern;
  };

  ExpandedPair.prototype.mustBeLast = function () {
    return this.rightchar == null;
  };

  ExpandedPair.prototype.toString = function () {
    return '[ ' + this.leftchar + ', ' + this.rightchar + ' : ' + (this.finderpattern == null ? 'null' : this.finderpattern.getValue()) + ' ]';
  };

  ExpandedPair.equals = function (o1, o2) {
    if (!(o1 instanceof ExpandedPair)) {
      return false;
    }

    return ExpandedPair.equalsOrNull(o1.leftchar, o2.leftchar) && ExpandedPair.equalsOrNull(o1.rightchar, o2.rightchar) && ExpandedPair.equalsOrNull(o1.finderpattern, o2.finderpattern);
  };

  ExpandedPair.equalsOrNull = function (o1, o2) {
    return o1 === null ? o2 === null : ExpandedPair.equals(o1, o2);
  };

  ExpandedPair.prototype.hashCode = function () {
    // return ExpandedPair.hashNotNull(leftChar) ^ hashNotNull(rightChar) ^ hashNotNull(finderPattern);
    var value = this.leftchar.getValue() ^ this.rightchar.getValue() ^ this.finderpattern.getValue();
    return value;
  };

  return ExpandedPair;
}();

var ExpandedRow =
/** @class */
function () {
  function ExpandedRow(pairs, rowNumber, wasReversed) {
    this.pairs = pairs;
    this.rowNumber = rowNumber;
    this.wasReversed = wasReversed;
  }

  ExpandedRow.prototype.getPairs = function () {
    return this.pairs;
  };

  ExpandedRow.prototype.getRowNumber = function () {
    return this.rowNumber;
  };

  ExpandedRow.prototype.isReversed = function () {
    return this.wasReversed;
  }; // check implementation


  ExpandedRow.prototype.isEquivalent = function (otherPairs) {
    return this.checkEqualitity(this, otherPairs);
  }; // @Override


  ExpandedRow.prototype.toString = function () {
    return '{ ' + this.pairs + ' }';
  };
  /**
   * Two rows are equal if they contain the same pairs in the same order.
   */
  // @Override
  // check implementation


  ExpandedRow.prototype.equals = function (o1, o2) {
    if (!(o1 instanceof ExpandedRow)) {
      return false;
    }

    return this.checkEqualitity(o1, o2) && o1.wasReversed === o2.wasReversed;
  };

  ExpandedRow.prototype.checkEqualitity = function (pair1, pair2) {
    if (!pair1 || !pair2) return;
    var result;
    pair1.forEach(function (e1, i) {
      pair2.forEach(function (e2) {
        if (e1.getLeftChar().getValue() === e2.getLeftChar().getValue() && e1.getRightChar().getValue() === e2.getRightChar().getValue() && e1.getFinderPatter().getValue() === e2.getFinderPatter().getValue()) {
          result = true;
        }
      });
    });
    return result;
  };

  return ExpandedRow;
}();

var __extends$m = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$p = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
// import java.util.Iterator;
// import java.util.List;
// import java.util.Map;
// import java.util.Collections;

/** @experimental */

var RSSExpandedReader =
/** @class */
function (_super) {
  __extends$m(RSSExpandedReader, _super);

  function RSSExpandedReader() {
    var _this = _super !== null && _super.apply(this, arguments) || this;

    _this.pairs = new Array(RSSExpandedReader.MAX_PAIRS);
    _this.rows = new Array();
    _this.startEnd = [2];
    return _this;
  }

  RSSExpandedReader.prototype.decodeRow = function (rowNumber, row, hints) {
    // Rows can start with even pattern in case in prev rows there where odd number of patters.
    // So lets try twice
    // this.pairs.clear();
    this.pairs.length = 0;
    this.startFromEven = false;

    try {
      return RSSExpandedReader.constructResult(this.decodeRow2pairs(rowNumber, row));
    } catch (e) {// OK
      // console.log(e);
    }

    this.pairs.length = 0;
    this.startFromEven = true;
    return RSSExpandedReader.constructResult(this.decodeRow2pairs(rowNumber, row));
  };

  RSSExpandedReader.prototype.reset = function () {
    this.pairs.length = 0;
    this.rows.length = 0;
  }; // Not private for testing


  RSSExpandedReader.prototype.decodeRow2pairs = function (rowNumber, row) {
    var done = false;

    while (!done) {
      try {
        this.pairs.push(this.retrieveNextPair(row, this.pairs, rowNumber));
      } catch (error) {
        if (error instanceof NotFoundException) {
          if (!this.pairs.length) {
            throw new NotFoundException();
          } // exit this loop when retrieveNextPair() fails and throws


          done = true;
        }
      }
    } // TODO: verify sequence of finder patterns as in checkPairSequence()


    if (this.checkChecksum()) {
      return this.pairs;
    }

    var tryStackedDecode;

    if (this.rows.length) {
      tryStackedDecode = true;
    } else {
      tryStackedDecode = false;
    } // let tryStackedDecode = !this.rows.isEmpty();


    this.storeRow(rowNumber, false); // TODO: deal with reversed rows

    if (tryStackedDecode) {
      // When the image is 180-rotated, then rows are sorted in wrong direction.
      // Try twice with both the directions.
      var ps = this.checkRowsBoolean(false);

      if (ps != null) {
        return ps;
      }

      ps = this.checkRowsBoolean(true);

      if (ps != null) {
        return ps;
      }
    }

    throw new NotFoundException();
  }; // Need to Verify


  RSSExpandedReader.prototype.checkRowsBoolean = function (reverse) {
    // Limit number of rows we are checking
    // We use recursive algorithm with pure complexity and don't want it to take forever
    // Stacked barcode can have up to 11 rows, so 25 seems reasonable enough
    if (this.rows.length > 25) {
      this.rows.length = 0; // We will never have a chance to get result, so clear it

      return null;
    }

    this.pairs.length = 0;

    if (reverse) {
      this.rows = this.rows.reverse(); // Collections.reverse(this.rows);
    }

    var ps = null;

    try {
      ps = this.checkRows(new Array(), 0);
    } catch (e) {
      // OK
      console.log(e);
    }

    if (reverse) {
      this.rows = this.rows.reverse(); // Collections.reverse(this.rows);
    }

    return ps;
  }; // Try to construct a valid rows sequence
  // Recursion is used to implement backtracking


  RSSExpandedReader.prototype.checkRows = function (collectedRows, currentRow) {
    var e_1, _a;

    for (var i = currentRow; i < this.rows.length; i++) {
      var row = this.rows[i];
      this.pairs.length = 0;

      try {
        for (var collectedRows_1 = (e_1 = void 0, __values$p(collectedRows)), collectedRows_1_1 = collectedRows_1.next(); !collectedRows_1_1.done; collectedRows_1_1 = collectedRows_1.next()) {
          var collectedRow = collectedRows_1_1.value;
          this.pairs.push(collectedRow.getPairs());
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (collectedRows_1_1 && !collectedRows_1_1.done && (_a = collectedRows_1.return)) _a.call(collectedRows_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }

      this.pairs.push(row.getPairs());

      if (!RSSExpandedReader.isValidSequence(this.pairs)) {
        continue;
      }

      if (this.checkChecksum()) {
        return this.pairs;
      }

      var rs = new Array(collectedRows);
      rs.push(row);

      try {
        // Recursion: try to add more rows
        return this.checkRows(rs, i + 1);
      } catch (e) {
        // We failed, try the next candidate
        console.log(e);
      }
    }

    throw new NotFoundException();
  }; // Whether the pairs form a valid find pattern sequence,
  // either complete or a prefix


  RSSExpandedReader.isValidSequence = function (pairs) {
    var e_2, _a;

    try {
      for (var _b = __values$p(RSSExpandedReader.FINDER_PATTERN_SEQUENCES), _c = _b.next(); !_c.done; _c = _b.next()) {
        var sequence = _c.value;

        if (pairs.length > sequence.length) {
          continue;
        }

        var stop_1 = true;

        for (var j = 0; j < pairs.length; j++) {
          if (pairs[j].getFinderPattern().getValue() != sequence[j]) {
            stop_1 = false;
            break;
          }
        }

        if (stop_1) {
          return true;
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_2) throw e_2.error;
      }
    }

    return false;
  };

  RSSExpandedReader.prototype.storeRow = function (rowNumber, wasReversed) {
    // Discard if duplicate above or below; otherwise insert in order by row number.
    var insertPos = 0;
    var prevIsSame = false;
    var nextIsSame = false;

    while (insertPos < this.rows.length) {
      var erow = this.rows[insertPos];

      if (erow.getRowNumber() > rowNumber) {
        nextIsSame = erow.isEquivalent(this.pairs);
        break;
      }

      prevIsSame = erow.isEquivalent(this.pairs);
      insertPos++;
    }

    if (nextIsSame || prevIsSame) {
      return;
    } // When the row was partially decoded (e.g. 2 pairs found instead of 3),
    // it will prevent us from detecting the barcode.
    // Try to merge partial rows
    // Check whether the row is part of an allready detected row


    if (RSSExpandedReader.isPartialRow(this.pairs, this.rows)) {
      return;
    }

    this.rows.push(insertPos, new ExpandedRow(this.pairs, rowNumber, wasReversed));
    this.removePartialRows(this.pairs, this.rows);
  }; // Remove all the rows that contains only specified pairs


  RSSExpandedReader.prototype.removePartialRows = function (pairs, rows) {
    var e_3, _a, e_4, _b, e_5, _c;

    try {
      // for (Iterator<ExpandedRow> iterator = rows.iterator(); iterator.hasNext();) {
      //   ExpandedRow r = iterator.next();
      //   if (r.getPairs().size() == pairs.size()) {
      //     continue;
      //   }
      //   boolean allFound = true;
      //   for (ExpandedPair p : r.getPairs()) {
      //     boolean found = false;
      //     for (ExpandedPair pp : pairs) {
      //       if (p.equals(pp)) {
      //         found = true;
      //         break;
      //       }
      //     }
      //     if (!found) {
      //       allFound = false;
      //       break;
      //     }
      //   }
      //   if (allFound) {
      //     // 'pairs' contains all the pairs from the row 'r'
      //     iterator.remove();
      //   }
      // }
      for (var rows_1 = __values$p(rows), rows_1_1 = rows_1.next(); !rows_1_1.done; rows_1_1 = rows_1.next()) {
        var row = rows_1_1.value;

        if (row.getPairs().length === pairs.length) {
          continue;
        }

        var allFound = true;

        try {
          for (var _d = (e_4 = void 0, __values$p(row.getPairs())), _e = _d.next(); !_e.done; _e = _d.next()) {
            var p = _e.value;
            var found = false;

            try {
              for (var pairs_1 = (e_5 = void 0, __values$p(pairs)), pairs_1_1 = pairs_1.next(); !pairs_1_1.done; pairs_1_1 = pairs_1.next()) {
                var pp = pairs_1_1.value;

                if (ExpandedPair.equals(p, pp)) {
                  found = true;
                  break;
                }
              }
            } catch (e_5_1) {
              e_5 = {
                error: e_5_1
              };
            } finally {
              try {
                if (pairs_1_1 && !pairs_1_1.done && (_c = pairs_1.return)) _c.call(pairs_1);
              } finally {
                if (e_5) throw e_5.error;
              }
            }

            if (!found) {
              allFound = false;
            }
          }
        } catch (e_4_1) {
          e_4 = {
            error: e_4_1
          };
        } finally {
          try {
            if (_e && !_e.done && (_b = _d.return)) _b.call(_d);
          } finally {
            if (e_4) throw e_4.error;
          }
        }
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (rows_1_1 && !rows_1_1.done && (_a = rows_1.return)) _a.call(rows_1);
      } finally {
        if (e_3) throw e_3.error;
      }
    }
  }; // Returns true when one of the rows already contains all the pairs


  RSSExpandedReader.isPartialRow = function (pairs, rows) {
    var e_6, _a, e_7, _b, e_8, _c;

    try {
      for (var rows_2 = __values$p(rows), rows_2_1 = rows_2.next(); !rows_2_1.done; rows_2_1 = rows_2.next()) {
        var r = rows_2_1.value;
        var allFound = true;

        try {
          for (var pairs_2 = (e_7 = void 0, __values$p(pairs)), pairs_2_1 = pairs_2.next(); !pairs_2_1.done; pairs_2_1 = pairs_2.next()) {
            var p = pairs_2_1.value;
            var found = false;

            try {
              for (var _d = (e_8 = void 0, __values$p(r.getPairs())), _e = _d.next(); !_e.done; _e = _d.next()) {
                var pp = _e.value;

                if (p.equals(pp)) {
                  found = true;
                  break;
                }
              }
            } catch (e_8_1) {
              e_8 = {
                error: e_8_1
              };
            } finally {
              try {
                if (_e && !_e.done && (_c = _d.return)) _c.call(_d);
              } finally {
                if (e_8) throw e_8.error;
              }
            }

            if (!found) {
              allFound = false;
              break;
            }
          }
        } catch (e_7_1) {
          e_7 = {
            error: e_7_1
          };
        } finally {
          try {
            if (pairs_2_1 && !pairs_2_1.done && (_b = pairs_2.return)) _b.call(pairs_2);
          } finally {
            if (e_7) throw e_7.error;
          }
        }

        if (allFound) {
          // the row 'r' contain all the pairs from 'pairs'
          return true;
        }
      }
    } catch (e_6_1) {
      e_6 = {
        error: e_6_1
      };
    } finally {
      try {
        if (rows_2_1 && !rows_2_1.done && (_a = rows_2.return)) _a.call(rows_2);
      } finally {
        if (e_6) throw e_6.error;
      }
    }

    return false;
  }; // Only used for unit testing


  RSSExpandedReader.prototype.getRows = function () {
    return this.rows;
  }; // Not private for unit testing


  RSSExpandedReader.constructResult = function (pairs) {
    var binary = BitArrayBuilder.buildBitArray(pairs);
    var decoder = createDecoder(binary);
    var resultingString = decoder.parseInformation();
    var firstPoints = pairs[0].getFinderPattern().getResultPoints();
    var lastPoints = pairs[pairs.length - 1].getFinderPattern().getResultPoints();
    var points = [firstPoints[0], firstPoints[1], lastPoints[0], lastPoints[1]];
    return new Result(resultingString, null, null, points, BarcodeFormat$1.RSS_EXPANDED, null);
  };

  RSSExpandedReader.prototype.checkChecksum = function () {
    var firstPair = this.pairs.get(0);
    var checkCharacter = firstPair.getLeftChar();
    var firstCharacter = firstPair.getRightChar();

    if (firstCharacter == null) {
      return false;
    }

    var checksum = firstCharacter.getChecksumPortion();
    var s = 2;

    for (var i = 1; i < this.pairs.size(); ++i) {
      var currentPair = this.pairs.get(i);
      checksum += currentPair.getLeftChar().getChecksumPortion();
      s++;
      var currentRightChar = currentPair.getRightChar();

      if (currentRightChar != null) {
        checksum += currentRightChar.getChecksumPortion();
        s++;
      }
    }

    checksum %= 211;
    var checkCharacterValue = 211 * (s - 4) + checksum;
    return checkCharacterValue == checkCharacter.getValue();
  };

  RSSExpandedReader.getNextSecondBar = function (row, initialPos) {
    var currentPos;

    if (row.get(initialPos)) {
      currentPos = row.getNextUnset(initialPos);
      currentPos = row.getNextSet(currentPos);
    } else {
      currentPos = row.getNextSet(initialPos);
      currentPos = row.getNextUnset(currentPos);
    }

    return currentPos;
  }; // not private for testing


  RSSExpandedReader.prototype.retrieveNextPair = function (row, previousPairs, rowNumber) {
    var isOddPattern = previousPairs.length % 2 == 0;

    if (this.startFromEven) {
      isOddPattern = !isOddPattern;
    }

    var pattern;
    var keepFinding = true;
    var forcedOffset = -1;

    do {
      this.findNextPair(row, previousPairs, forcedOffset);
      pattern = this.parseFoundFinderPattern(row, rowNumber, isOddPattern);

      if (pattern == null) {
        forcedOffset = RSSExpandedReader.getNextSecondBar(row, this.startEnd[0]);
      } else {
        keepFinding = false;
      }
    } while (keepFinding); // When stacked symbol is split over multiple rows, there's no way to guess if this pair can be last or not.
    // boolean mayBeLast = checkPairSequence(previousPairs, pattern);


    var leftChar = this.decodeDataCharacter(row, pattern, isOddPattern, true);

    if (!this.isEmptyPair(previousPairs) && previousPairs[previousPairs.length - 1].mustBeLast()) {
      throw new NotFoundException();
    }

    var rightChar;

    try {
      rightChar = this.decodeDataCharacter(row, pattern, isOddPattern, false);
    } catch (e) {
      rightChar = null;
      console.log(e);
    }

    return new ExpandedPair(leftChar, rightChar, pattern, true);
  };

  RSSExpandedReader.prototype.isEmptyPair = function (pairs) {
    if (pairs.length === 0) {
      return true;
    }

    return false;
  };

  RSSExpandedReader.prototype.findNextPair = function (row, previousPairs, forcedOffset) {
    var counters = this.getDecodeFinderCounters();
    counters[0] = 0;
    counters[1] = 0;
    counters[2] = 0;
    counters[3] = 0;
    var width = row.getSize();
    var rowOffset;

    if (forcedOffset >= 0) {
      rowOffset = forcedOffset;
    } else if (this.isEmptyPair(previousPairs)) {
      rowOffset = 0;
    } else {
      var lastPair = previousPairs[previousPairs.length - 1];
      rowOffset = lastPair.getFinderPattern().getStartEnd()[1];
    }

    var searchingEvenPair = previousPairs.length % 2 != 0;

    if (this.startFromEven) {
      searchingEvenPair = !searchingEvenPair;
    }

    var isWhite = false;

    while (rowOffset < width) {
      isWhite = !row.get(rowOffset);

      if (!isWhite) {
        break;
      }

      rowOffset++;
    }

    var counterPosition = 0;
    var patternStart = rowOffset;

    for (var x = rowOffset; x < width; x++) {
      if (row.get(x) != isWhite) {
        counters[counterPosition]++;
      } else {
        if (counterPosition == 3) {
          if (searchingEvenPair) {
            RSSExpandedReader.reverseCounters(counters);
          }

          if (RSSExpandedReader.isFinderPattern(counters)) {
            this.startEnd[0] = patternStart;
            this.startEnd[1] = x;
            return;
          }

          if (searchingEvenPair) {
            RSSExpandedReader.reverseCounters(counters);
          }

          patternStart += counters[0] + counters[1];
          counters[0] = counters[2];
          counters[1] = counters[3];
          counters[2] = 0;
          counters[3] = 0;
          counterPosition--;
        } else {
          counterPosition++;
        }

        counters[counterPosition] = 1;
        isWhite = !isWhite;
      }
    }

    throw new NotFoundException();
  };

  RSSExpandedReader.reverseCounters = function (counters) {
    var length = counters.length;

    for (var i = 0; i < length / 2; ++i) {
      var tmp = counters[i];
      counters[i] = counters[length - i - 1];
      counters[length - i - 1] = tmp;
    }
  };

  RSSExpandedReader.prototype.parseFoundFinderPattern = function (row, rowNumber, oddPattern) {
    // Actually we found elements 2-5.
    var firstCounter;
    var start;
    var end;

    if (oddPattern) {
      // If pattern number is odd, we need to locate element 1 *before* the current block.
      var firstElementStart = this.startEnd[0] - 1; // Locate element 1

      while (firstElementStart >= 0 && !row.get(firstElementStart)) {
        firstElementStart--;
      }

      firstElementStart++;
      firstCounter = this.startEnd[0] - firstElementStart;
      start = firstElementStart;
      end = this.startEnd[1];
    } else {
      // If pattern number is even, the pattern is reversed, so we need to locate element 1 *after* the current block.
      start = this.startEnd[0];
      end = row.getNextUnset(this.startEnd[1] + 1);
      firstCounter = end - this.startEnd[1];
    } // Make 'counters' hold 1-4


    var counters = this.getDecodeFinderCounters();
    System.arraycopy(counters, 0, counters, 1, counters.length - 1);
    counters[0] = firstCounter;
    var value;

    try {
      value = this.parseFinderValue(counters, RSSExpandedReader.FINDER_PATTERNS);
    } catch (e) {
      return null;
    } // return new FinderPattern(value, new int[] { start, end }, start, end, rowNumber});


    return new FinderPattern$1(value, [start, end], start, end, rowNumber);
  };

  RSSExpandedReader.prototype.decodeDataCharacter = function (row, pattern, isOddPattern, leftChar) {
    var counters = this.getDataCharacterCounters();

    for (var x = 0; x < counters.length; x++) {
      counters[x] = 0;
    }

    if (leftChar) {
      RSSExpandedReader.recordPatternInReverse(row, pattern.getStartEnd()[0], counters);
    } else {
      RSSExpandedReader.recordPattern(row, pattern.getStartEnd()[1], counters); // reverse it

      for (var i = 0, j = counters.length - 1; i < j; i++, j--) {
        var temp = counters[i];
        counters[i] = counters[j];
        counters[j] = temp;
      }
    } // counters[] has the pixels of the module


    var numModules = 17; // left and right data characters have all the same length

    var elementWidth = MathUtils.sum(new Int32Array(counters)) / numModules; // Sanity check: element width for pattern and the character should match

    var expectedElementWidth = (pattern.getStartEnd()[1] - pattern.getStartEnd()[0]) / 15.0;

    if (Math.abs(elementWidth - expectedElementWidth) / expectedElementWidth > 0.3) {
      throw new NotFoundException();
    }

    var oddCounts = this.getOddCounts();
    var evenCounts = this.getEvenCounts();
    var oddRoundingErrors = this.getOddRoundingErrors();
    var evenRoundingErrors = this.getEvenRoundingErrors();

    for (var i = 0; i < counters.length; i++) {
      var value_1 = 1.0 * counters[i] / elementWidth;
      var count = value_1 + 0.5; // Round

      if (count < 1) {
        if (value_1 < 0.3) {
          throw new NotFoundException();
        }

        count = 1;
      } else if (count > 8) {
        if (value_1 > 8.7) {
          throw new NotFoundException();
        }

        count = 8;
      }

      var offset = i / 2;

      if ((i & 0x01) == 0) {
        oddCounts[offset] = count;
        oddRoundingErrors[offset] = value_1 - count;
      } else {
        evenCounts[offset] = count;
        evenRoundingErrors[offset] = value_1 - count;
      }
    }

    this.adjustOddEvenCounts(numModules);
    var weightRowNumber = 4 * pattern.getValue() + (isOddPattern ? 0 : 2) + (leftChar ? 0 : 1) - 1;
    var oddSum = 0;
    var oddChecksumPortion = 0;

    for (var i = oddCounts.length - 1; i >= 0; i--) {
      if (RSSExpandedReader.isNotA1left(pattern, isOddPattern, leftChar)) {
        var weight = RSSExpandedReader.WEIGHTS[weightRowNumber][2 * i];
        oddChecksumPortion += oddCounts[i] * weight;
      }

      oddSum += oddCounts[i];
    }

    var evenChecksumPortion = 0; // int evenSum = 0;

    for (var i = evenCounts.length - 1; i >= 0; i--) {
      if (RSSExpandedReader.isNotA1left(pattern, isOddPattern, leftChar)) {
        var weight = RSSExpandedReader.WEIGHTS[weightRowNumber][2 * i + 1];
        evenChecksumPortion += evenCounts[i] * weight;
      } // evenSum += evenCounts[i];

    }

    var checksumPortion = oddChecksumPortion + evenChecksumPortion;

    if ((oddSum & 0x01) != 0 || oddSum > 13 || oddSum < 4) {
      throw new NotFoundException();
    }

    var group = (13 - oddSum) / 2;
    var oddWidest = RSSExpandedReader.SYMBOL_WIDEST[group];
    var evenWidest = 9 - oddWidest;
    var vOdd = RSSUtils.getRSSvalue(oddCounts, oddWidest, true);
    var vEven = RSSUtils.getRSSvalue(evenCounts, evenWidest, false);
    var tEven = RSSExpandedReader.EVEN_TOTAL_SUBSET[group];
    var gSum = RSSExpandedReader.GSUM[group];
    var value = vOdd * tEven + vEven + gSum;
    return new DataCharacter(value, checksumPortion);
  };

  RSSExpandedReader.isNotA1left = function (pattern, isOddPattern, leftChar) {
    // A1: pattern.getValue is 0 (A), and it's an oddPattern, and it is a left char
    return !(pattern.getValue() == 0 && isOddPattern && leftChar);
  };

  RSSExpandedReader.prototype.adjustOddEvenCounts = function (numModules) {
    var oddSum = MathUtils.sum(new Int32Array(this.getOddCounts()));
    var evenSum = MathUtils.sum(new Int32Array(this.getEvenCounts()));
    var incrementOdd = false;
    var decrementOdd = false;

    if (oddSum > 13) {
      decrementOdd = true;
    } else if (oddSum < 4) {
      incrementOdd = true;
    }

    var incrementEven = false;
    var decrementEven = false;

    if (evenSum > 13) {
      decrementEven = true;
    } else if (evenSum < 4) {
      incrementEven = true;
    }

    var mismatch = oddSum + evenSum - numModules;
    var oddParityBad = (oddSum & 0x01) == 1;
    var evenParityBad = (evenSum & 0x01) == 0;

    if (mismatch == 1) {
      if (oddParityBad) {
        if (evenParityBad) {
          throw new NotFoundException();
        }

        decrementOdd = true;
      } else {
        if (!evenParityBad) {
          throw new NotFoundException();
        }

        decrementEven = true;
      }
    } else if (mismatch == -1) {
      if (oddParityBad) {
        if (evenParityBad) {
          throw new NotFoundException();
        }

        incrementOdd = true;
      } else {
        if (!evenParityBad) {
          throw new NotFoundException();
        }

        incrementEven = true;
      }
    } else if (mismatch == 0) {
      if (oddParityBad) {
        if (!evenParityBad) {
          throw new NotFoundException();
        } // Both bad


        if (oddSum < evenSum) {
          incrementOdd = true;
          decrementEven = true;
        } else {
          decrementOdd = true;
          incrementEven = true;
        }
      } else {
        if (evenParityBad) {
          throw new NotFoundException();
        } // Nothing to do!

      }
    } else {
      throw new NotFoundException();
    }

    if (incrementOdd) {
      if (decrementOdd) {
        throw new NotFoundException();
      }

      RSSExpandedReader.increment(this.getOddCounts(), this.getOddRoundingErrors());
    }

    if (decrementOdd) {
      RSSExpandedReader.decrement(this.getOddCounts(), this.getOddRoundingErrors());
    }

    if (incrementEven) {
      if (decrementEven) {
        throw new NotFoundException();
      }

      RSSExpandedReader.increment(this.getEvenCounts(), this.getOddRoundingErrors());
    }

    if (decrementEven) {
      RSSExpandedReader.decrement(this.getEvenCounts(), this.getEvenRoundingErrors());
    }
  };

  RSSExpandedReader.SYMBOL_WIDEST = [7, 5, 4, 3, 1];
  RSSExpandedReader.EVEN_TOTAL_SUBSET = [4, 20, 52, 104, 204];
  RSSExpandedReader.GSUM = [0, 348, 1388, 2948, 3988];
  RSSExpandedReader.FINDER_PATTERNS = [Int32Array.from([1, 8, 4, 1]), Int32Array.from([3, 6, 4, 1]), Int32Array.from([3, 4, 6, 1]), Int32Array.from([3, 2, 8, 1]), Int32Array.from([2, 6, 5, 1]), Int32Array.from([2, 2, 9, 1]) // F
  ];
  RSSExpandedReader.WEIGHTS = [[1, 3, 9, 27, 81, 32, 96, 77], [20, 60, 180, 118, 143, 7, 21, 63], [189, 145, 13, 39, 117, 140, 209, 205], [193, 157, 49, 147, 19, 57, 171, 91], [62, 186, 136, 197, 169, 85, 44, 132], [185, 133, 188, 142, 4, 12, 36, 108], [113, 128, 173, 97, 80, 29, 87, 50], [150, 28, 84, 41, 123, 158, 52, 156], [46, 138, 203, 187, 139, 206, 196, 166], [76, 17, 51, 153, 37, 111, 122, 155], [43, 129, 176, 106, 107, 110, 119, 146], [16, 48, 144, 10, 30, 90, 59, 177], [109, 116, 137, 200, 178, 112, 125, 164], [70, 210, 208, 202, 184, 130, 179, 115], [134, 191, 151, 31, 93, 68, 204, 190], [148, 22, 66, 198, 172, 94, 71, 2], [6, 18, 54, 162, 64, 192, 154, 40], [120, 149, 25, 75, 14, 42, 126, 167], [79, 26, 78, 23, 69, 207, 199, 175], [103, 98, 83, 38, 114, 131, 182, 124], [161, 61, 183, 127, 170, 88, 53, 159], [55, 165, 73, 8, 24, 72, 5, 15], [45, 135, 194, 160, 58, 174, 100, 89]];
  RSSExpandedReader.FINDER_PAT_A = 0;
  RSSExpandedReader.FINDER_PAT_B = 1;
  RSSExpandedReader.FINDER_PAT_C = 2;
  RSSExpandedReader.FINDER_PAT_D = 3;
  RSSExpandedReader.FINDER_PAT_E = 4;
  RSSExpandedReader.FINDER_PAT_F = 5;
  RSSExpandedReader.FINDER_PATTERN_SEQUENCES = [[RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_A], [RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_B], [RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_C, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_D], [RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_E, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_D, RSSExpandedReader.FINDER_PAT_C], [RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_E, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_D, RSSExpandedReader.FINDER_PAT_D, RSSExpandedReader.FINDER_PAT_F], [RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_E, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_D, RSSExpandedReader.FINDER_PAT_E, RSSExpandedReader.FINDER_PAT_F, RSSExpandedReader.FINDER_PAT_F], [RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_C, RSSExpandedReader.FINDER_PAT_C, RSSExpandedReader.FINDER_PAT_D, RSSExpandedReader.FINDER_PAT_D], [RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_C, RSSExpandedReader.FINDER_PAT_C, RSSExpandedReader.FINDER_PAT_D, RSSExpandedReader.FINDER_PAT_E, RSSExpandedReader.FINDER_PAT_E], [RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_C, RSSExpandedReader.FINDER_PAT_C, RSSExpandedReader.FINDER_PAT_D, RSSExpandedReader.FINDER_PAT_E, RSSExpandedReader.FINDER_PAT_F, RSSExpandedReader.FINDER_PAT_F], [RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_A, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_B, RSSExpandedReader.FINDER_PAT_C, RSSExpandedReader.FINDER_PAT_D, RSSExpandedReader.FINDER_PAT_D, RSSExpandedReader.FINDER_PAT_E, RSSExpandedReader.FINDER_PAT_E, RSSExpandedReader.FINDER_PAT_F, RSSExpandedReader.FINDER_PAT_F]];
  RSSExpandedReader.MAX_PAIRS = 11;
  return RSSExpandedReader;
}(AbstractRSSReader);

var __extends$l = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var Pair =
/** @class */
function (_super) {
  __extends$l(Pair, _super);

  function Pair(value, checksumPortion, finderPattern) {
    var _this = _super.call(this, value, checksumPortion) || this;

    _this.count = 0;
    _this.finderPattern = finderPattern;
    return _this;
  }

  Pair.prototype.getFinderPattern = function () {
    return this.finderPattern;
  };

  Pair.prototype.getCount = function () {
    return this.count;
  };

  Pair.prototype.incrementCount = function () {
    this.count++;
  };

  return Pair;
}(DataCharacter);

var __extends$k = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$o = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};

var RSS14Reader =
/** @class */
function (_super) {
  __extends$k(RSS14Reader, _super);

  function RSS14Reader() {
    var _this = _super !== null && _super.apply(this, arguments) || this;

    _this.possibleLeftPairs = [];
    _this.possibleRightPairs = [];
    return _this;
  }

  RSS14Reader.prototype.decodeRow = function (rowNumber, row, hints) {
    var e_1, _a, e_2, _b;

    var leftPair = this.decodePair(row, false, rowNumber, hints);
    RSS14Reader.addOrTally(this.possibleLeftPairs, leftPair);
    row.reverse();
    var rightPair = this.decodePair(row, true, rowNumber, hints);
    RSS14Reader.addOrTally(this.possibleRightPairs, rightPair);
    row.reverse();

    try {
      for (var _c = __values$o(this.possibleLeftPairs), _d = _c.next(); !_d.done; _d = _c.next()) {
        var left = _d.value;

        if (left.getCount() > 1) {
          try {
            for (var _e = (e_2 = void 0, __values$o(this.possibleRightPairs)), _f = _e.next(); !_f.done; _f = _e.next()) {
              var right = _f.value;

              if (right.getCount() > 1 && RSS14Reader.checkChecksum(left, right)) {
                return RSS14Reader.constructResult(left, right);
              }
            }
          } catch (e_2_1) {
            e_2 = {
              error: e_2_1
            };
          } finally {
            try {
              if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
            } finally {
              if (e_2) throw e_2.error;
            }
          }
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    throw new NotFoundException();
  };

  RSS14Reader.addOrTally = function (possiblePairs, pair) {
    var e_3, _a;

    if (pair == null) {
      return;
    }

    var found = false;

    try {
      for (var possiblePairs_1 = __values$o(possiblePairs), possiblePairs_1_1 = possiblePairs_1.next(); !possiblePairs_1_1.done; possiblePairs_1_1 = possiblePairs_1.next()) {
        var other = possiblePairs_1_1.value;

        if (other.getValue() === pair.getValue()) {
          other.incrementCount();
          found = true;
          break;
        }
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (possiblePairs_1_1 && !possiblePairs_1_1.done && (_a = possiblePairs_1.return)) _a.call(possiblePairs_1);
      } finally {
        if (e_3) throw e_3.error;
      }
    }

    if (!found) {
      possiblePairs.push(pair);
    }
  };

  RSS14Reader.prototype.reset = function () {
    this.possibleLeftPairs.length = 0;
    this.possibleRightPairs.length = 0;
  };

  RSS14Reader.constructResult = function (leftPair, rightPair) {
    var symbolValue = 4537077 * leftPair.getValue() + rightPair.getValue();
    var text = new String(symbolValue).toString();
    var buffer = new StringBuilder();

    for (var i = 13 - text.length; i > 0; i--) {
      buffer.append('0');
    }

    buffer.append(text);
    var checkDigit = 0;

    for (var i = 0; i < 13; i++) {
      var digit = buffer.charAt(i).charCodeAt(0) - '0'.charCodeAt(0);
      checkDigit += (i & 0x01) === 0 ? 3 * digit : digit;
    }

    checkDigit = 10 - checkDigit % 10;

    if (checkDigit === 10) {
      checkDigit = 0;
    }

    buffer.append(checkDigit.toString());
    var leftPoints = leftPair.getFinderPattern().getResultPoints();
    var rightPoints = rightPair.getFinderPattern().getResultPoints();
    return new Result(buffer.toString(), null, 0, [leftPoints[0], leftPoints[1], rightPoints[0], rightPoints[1]], BarcodeFormat$1.RSS_14, new Date().getTime());
  };

  RSS14Reader.checkChecksum = function (leftPair, rightPair) {
    var checkValue = (leftPair.getChecksumPortion() + 16 * rightPair.getChecksumPortion()) % 79;
    var targetCheckValue = 9 * leftPair.getFinderPattern().getValue() + rightPair.getFinderPattern().getValue();

    if (targetCheckValue > 72) {
      targetCheckValue--;
    }

    if (targetCheckValue > 8) {
      targetCheckValue--;
    }

    return checkValue === targetCheckValue;
  };

  RSS14Reader.prototype.decodePair = function (row, right, rowNumber, hints) {
    try {
      var startEnd = this.findFinderPattern(row, right);
      var pattern = this.parseFoundFinderPattern(row, rowNumber, right, startEnd);
      var resultPointCallback = hints == null ? null : hints.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK);

      if (resultPointCallback != null) {
        var center = (startEnd[0] + startEnd[1]) / 2.0;

        if (right) {
          // row is actually reversed
          center = row.getSize() - 1 - center;
        }

        resultPointCallback.foundPossibleResultPoint(new ResultPoint(center, rowNumber));
      }

      var outside = this.decodeDataCharacter(row, pattern, true);
      var inside = this.decodeDataCharacter(row, pattern, false);
      return new Pair(1597 * outside.getValue() + inside.getValue(), outside.getChecksumPortion() + 4 * inside.getChecksumPortion(), pattern);
    } catch (err) {
      return null;
    }
  };

  RSS14Reader.prototype.decodeDataCharacter = function (row, pattern, outsideChar) {
    var counters = this.getDataCharacterCounters();

    for (var x = 0; x < counters.length; x++) {
      counters[x] = 0;
    }

    if (outsideChar) {
      OneDReader.recordPatternInReverse(row, pattern.getStartEnd()[0], counters);
    } else {
      OneDReader.recordPattern(row, pattern.getStartEnd()[1] + 1, counters); // reverse it

      for (var i = 0, j = counters.length - 1; i < j; i++, j--) {
        var temp = counters[i];
        counters[i] = counters[j];
        counters[j] = temp;
      }
    }

    var numModules = outsideChar ? 16 : 15;
    var elementWidth = MathUtils.sum(new Int32Array(counters)) / numModules;
    var oddCounts = this.getOddCounts();
    var evenCounts = this.getEvenCounts();
    var oddRoundingErrors = this.getOddRoundingErrors();
    var evenRoundingErrors = this.getEvenRoundingErrors();

    for (var i = 0; i < counters.length; i++) {
      var value = counters[i] / elementWidth;
      var count = Math.floor(value + 0.5);

      if (count < 1) {
        count = 1;
      } else if (count > 8) {
        count = 8;
      }

      var offset = Math.floor(i / 2);

      if ((i & 0x01) === 0) {
        oddCounts[offset] = count;
        oddRoundingErrors[offset] = value - count;
      } else {
        evenCounts[offset] = count;
        evenRoundingErrors[offset] = value - count;
      }
    }

    this.adjustOddEvenCounts(outsideChar, numModules);
    var oddSum = 0;
    var oddChecksumPortion = 0;

    for (var i = oddCounts.length - 1; i >= 0; i--) {
      oddChecksumPortion *= 9;
      oddChecksumPortion += oddCounts[i];
      oddSum += oddCounts[i];
    }

    var evenChecksumPortion = 0;
    var evenSum = 0;

    for (var i = evenCounts.length - 1; i >= 0; i--) {
      evenChecksumPortion *= 9;
      evenChecksumPortion += evenCounts[i];
      evenSum += evenCounts[i];
    }

    var checksumPortion = oddChecksumPortion + 3 * evenChecksumPortion;

    if (outsideChar) {
      if ((oddSum & 0x01) !== 0 || oddSum > 12 || oddSum < 4) {
        throw new NotFoundException();
      }

      var group = (12 - oddSum) / 2;
      var oddWidest = RSS14Reader.OUTSIDE_ODD_WIDEST[group];
      var evenWidest = 9 - oddWidest;
      var vOdd = RSSUtils.getRSSvalue(oddCounts, oddWidest, false);
      var vEven = RSSUtils.getRSSvalue(evenCounts, evenWidest, true);
      var tEven = RSS14Reader.OUTSIDE_EVEN_TOTAL_SUBSET[group];
      var gSum = RSS14Reader.OUTSIDE_GSUM[group];
      return new DataCharacter(vOdd * tEven + vEven + gSum, checksumPortion);
    } else {
      if ((evenSum & 0x01) !== 0 || evenSum > 10 || evenSum < 4) {
        throw new NotFoundException();
      }

      var group = (10 - evenSum) / 2;
      var oddWidest = RSS14Reader.INSIDE_ODD_WIDEST[group];
      var evenWidest = 9 - oddWidest;
      var vOdd = RSSUtils.getRSSvalue(oddCounts, oddWidest, true);
      var vEven = RSSUtils.getRSSvalue(evenCounts, evenWidest, false);
      var tOdd = RSS14Reader.INSIDE_ODD_TOTAL_SUBSET[group];
      var gSum = RSS14Reader.INSIDE_GSUM[group];
      return new DataCharacter(vEven * tOdd + vOdd + gSum, checksumPortion);
    }
  };

  RSS14Reader.prototype.findFinderPattern = function (row, rightFinderPattern) {
    var counters = this.getDecodeFinderCounters();
    counters[0] = 0;
    counters[1] = 0;
    counters[2] = 0;
    counters[3] = 0;
    var width = row.getSize();
    var isWhite = false;
    var rowOffset = 0;

    while (rowOffset < width) {
      isWhite = !row.get(rowOffset);

      if (rightFinderPattern === isWhite) {
        // Will encounter white first when searching for right finder pattern
        break;
      }

      rowOffset++;
    }

    var counterPosition = 0;
    var patternStart = rowOffset;

    for (var x = rowOffset; x < width; x++) {
      if (row.get(x) !== isWhite) {
        counters[counterPosition]++;
      } else {
        if (counterPosition === 3) {
          if (AbstractRSSReader.isFinderPattern(counters)) {
            return [patternStart, x];
          }

          patternStart += counters[0] + counters[1];
          counters[0] = counters[2];
          counters[1] = counters[3];
          counters[2] = 0;
          counters[3] = 0;
          counterPosition--;
        } else {
          counterPosition++;
        }

        counters[counterPosition] = 1;
        isWhite = !isWhite;
      }
    }

    throw new NotFoundException();
  };

  RSS14Reader.prototype.parseFoundFinderPattern = function (row, rowNumber, right, startEnd) {
    // Actually we found elements 2-5
    var firstIsBlack = row.get(startEnd[0]);
    var firstElementStart = startEnd[0] - 1; // Locate element 1

    while (firstElementStart >= 0 && firstIsBlack !== row.get(firstElementStart)) {
      firstElementStart--;
    }

    firstElementStart++;
    var firstCounter = startEnd[0] - firstElementStart; // Make 'counters' hold 1-4

    var counters = this.getDecodeFinderCounters();
    var copy = new Int32Array(counters.length);
    System.arraycopy(counters, 0, copy, 1, counters.length - 1);
    copy[0] = firstCounter;
    var value = this.parseFinderValue(copy, RSS14Reader.FINDER_PATTERNS);
    var start = firstElementStart;
    var end = startEnd[1];

    if (right) {
      // row is actually reversed
      start = row.getSize() - 1 - start;
      end = row.getSize() - 1 - end;
    }

    return new FinderPattern$1(value, [firstElementStart, startEnd[1]], start, end, rowNumber);
  };

  RSS14Reader.prototype.adjustOddEvenCounts = function (outsideChar, numModules) {
    var oddSum = MathUtils.sum(new Int32Array(this.getOddCounts()));
    var evenSum = MathUtils.sum(new Int32Array(this.getEvenCounts()));
    var incrementOdd = false;
    var decrementOdd = false;
    var incrementEven = false;
    var decrementEven = false;

    if (outsideChar) {
      if (oddSum > 12) {
        decrementOdd = true;
      } else if (oddSum < 4) {
        incrementOdd = true;
      }

      if (evenSum > 12) {
        decrementEven = true;
      } else if (evenSum < 4) {
        incrementEven = true;
      }
    } else {
      if (oddSum > 11) {
        decrementOdd = true;
      } else if (oddSum < 5) {
        incrementOdd = true;
      }

      if (evenSum > 10) {
        decrementEven = true;
      } else if (evenSum < 4) {
        incrementEven = true;
      }
    }

    var mismatch = oddSum + evenSum - numModules;
    var oddParityBad = (oddSum & 0x01) === (outsideChar ? 1 : 0);
    var evenParityBad = (evenSum & 0x01) === 1;

    if (mismatch === 1) {
      if (oddParityBad) {
        if (evenParityBad) {
          throw new NotFoundException();
        }

        decrementOdd = true;
      } else {
        if (!evenParityBad) {
          throw new NotFoundException();
        }

        decrementEven = true;
      }
    } else if (mismatch === -1) {
      if (oddParityBad) {
        if (evenParityBad) {
          throw new NotFoundException();
        }

        incrementOdd = true;
      } else {
        if (!evenParityBad) {
          throw new NotFoundException();
        }

        incrementEven = true;
      }
    } else if (mismatch === 0) {
      if (oddParityBad) {
        if (!evenParityBad) {
          throw new NotFoundException();
        } // Both bad


        if (oddSum < evenSum) {
          incrementOdd = true;
          decrementEven = true;
        } else {
          decrementOdd = true;
          incrementEven = true;
        }
      } else {
        if (evenParityBad) {
          throw new NotFoundException();
        } // Nothing to do!

      }
    } else {
      throw new NotFoundException();
    }

    if (incrementOdd) {
      if (decrementOdd) {
        throw new NotFoundException();
      }

      AbstractRSSReader.increment(this.getOddCounts(), this.getOddRoundingErrors());
    }

    if (decrementOdd) {
      AbstractRSSReader.decrement(this.getOddCounts(), this.getOddRoundingErrors());
    }

    if (incrementEven) {
      if (decrementEven) {
        throw new NotFoundException();
      }

      AbstractRSSReader.increment(this.getEvenCounts(), this.getOddRoundingErrors());
    }

    if (decrementEven) {
      AbstractRSSReader.decrement(this.getEvenCounts(), this.getEvenRoundingErrors());
    }
  };

  RSS14Reader.OUTSIDE_EVEN_TOTAL_SUBSET = [1, 10, 34, 70, 126];
  RSS14Reader.INSIDE_ODD_TOTAL_SUBSET = [4, 20, 48, 81];
  RSS14Reader.OUTSIDE_GSUM = [0, 161, 961, 2015, 2715];
  RSS14Reader.INSIDE_GSUM = [0, 336, 1036, 1516];
  RSS14Reader.OUTSIDE_ODD_WIDEST = [8, 6, 4, 3, 1];
  RSS14Reader.INSIDE_ODD_WIDEST = [2, 4, 6, 8];
  RSS14Reader.FINDER_PATTERNS = [Int32Array.from([3, 8, 2, 1]), Int32Array.from([3, 5, 5, 1]), Int32Array.from([3, 3, 7, 1]), Int32Array.from([3, 1, 9, 1]), Int32Array.from([2, 7, 4, 1]), Int32Array.from([2, 5, 6, 1]), Int32Array.from([2, 3, 8, 1]), Int32Array.from([1, 5, 7, 1]), Int32Array.from([1, 3, 9, 1])];
  return RSS14Reader;
}(AbstractRSSReader);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$j = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * @author Daniel Switkin <dswitkin@google.com>
 * @author Sean Owen
 */

var MultiFormatOneDReader =
/** @class */
function (_super) {
  __extends$j(MultiFormatOneDReader, _super);

  function MultiFormatOneDReader(hints) {
    var _this = _super.call(this) || this;

    _this.readers = [];
    var possibleFormats = !hints ? null : hints.get(DecodeHintType$1.POSSIBLE_FORMATS);
    var useCode39CheckDigit = hints && hints.get(DecodeHintType$1.ASSUME_CODE_39_CHECK_DIGIT) !== undefined;

    if (possibleFormats) {
      if (possibleFormats.includes(BarcodeFormat$1.EAN_13) || possibleFormats.includes(BarcodeFormat$1.UPC_A) || possibleFormats.includes(BarcodeFormat$1.EAN_8) || possibleFormats.includes(BarcodeFormat$1.UPC_E)) {
        _this.readers.push(new MultiFormatUPCEANReader(hints));
      }

      if (possibleFormats.includes(BarcodeFormat$1.CODE_39)) {
        _this.readers.push(new Code39Reader(useCode39CheckDigit));
      } // if (possibleFormats.includes(BarcodeFormat.CODE_93)) {
      //    this.readers.push(new Code93Reader());
      // }


      if (possibleFormats.includes(BarcodeFormat$1.CODE_128)) {
        _this.readers.push(new Code128Reader());
      }

      if (possibleFormats.includes(BarcodeFormat$1.ITF)) {
        _this.readers.push(new ITFReader());
      } // if (possibleFormats.includes(BarcodeFormat.CODABAR)) {
      //    this.readers.push(new CodaBarReader());
      // }


      if (possibleFormats.includes(BarcodeFormat$1.RSS_14)) {
        _this.readers.push(new RSS14Reader());
      }

      if (possibleFormats.includes(BarcodeFormat$1.RSS_EXPANDED)) {
        console.warn('RSS Expanded reader IS NOT ready for production yet! use at your own risk.');

        _this.readers.push(new RSSExpandedReader());
      }
    }

    if (_this.readers.length === 0) {
      _this.readers.push(new MultiFormatUPCEANReader(hints));

      _this.readers.push(new Code39Reader()); // this.readers.push(new CodaBarReader());
      // this.readers.push(new Code93Reader());


      _this.readers.push(new MultiFormatUPCEANReader(hints));

      _this.readers.push(new Code128Reader());

      _this.readers.push(new ITFReader());

      _this.readers.push(new RSS14Reader()); // this.readers.push(new RSSExpandedReader());

    }

    return _this;
  } // @Override


  MultiFormatOneDReader.prototype.decodeRow = function (rowNumber, row, hints) {
    for (var i = 0; i < this.readers.length; i++) {
      try {
        return this.readers[i].decodeRow(rowNumber, row, hints);
      } catch (re) {// continue
      }
    }

    throw new NotFoundException();
  }; // @Override


  MultiFormatOneDReader.prototype.reset = function () {
    this.readers.forEach(function (reader) {
      return reader.reset();
    });
  };

  return MultiFormatOneDReader;
}(OneDReader);

var __extends$i = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * @deprecated Moving to @zxing/browser
 *
 * Barcode reader reader to use from browser.
 */

/** @class */
(function (_super) {
  __extends$i(BrowserBarcodeReader, _super);
  /**
   * Creates an instance of BrowserBarcodeReader.
   * @param {number} [timeBetweenScansMillis=500] the time delay between subsequent decode tries
   * @param {Map<DecodeHintType, any>} hints
   */


  function BrowserBarcodeReader(timeBetweenScansMillis, hints) {
    if (timeBetweenScansMillis === void 0) {
      timeBetweenScansMillis = 500;
    }

    return _super.call(this, new MultiFormatOneDReader(hints), timeBetweenScansMillis, hints) || this;
  }

  return BrowserBarcodeReader;
})(BrowserCodeReader);

var __values$n = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * <p>Encapsulates a set of error-correction blocks in one symbol version. Most versions will
 * use blocks of differing sizes within one version, so, this encapsulates the parameters for
 * each set of blocks. It also holds the number of error-correction codewords per block since it
 * will be the same across all blocks within one version.</p>
 */

var ECBlocks$1 =
/** @class */
function () {
  function ECBlocks(ecCodewords, ecBlocks1, ecBlocks2) {
    this.ecCodewords = ecCodewords;
    this.ecBlocks = [ecBlocks1];
    ecBlocks2 && this.ecBlocks.push(ecBlocks2);
  }

  ECBlocks.prototype.getECCodewords = function () {
    return this.ecCodewords;
  };

  ECBlocks.prototype.getECBlocks = function () {
    return this.ecBlocks;
  };

  return ECBlocks;
}();
/**
 * <p>Encapsulates the parameters for one error-correction block in one symbol version.
 * This includes the number of data codewords, and the number of times a block with these
 * parameters is used consecutively in the Data Matrix code version's format.</p>
 */

var ECB$1 =
/** @class */
function () {
  function ECB(count, dataCodewords) {
    this.count = count;
    this.dataCodewords = dataCodewords;
  }

  ECB.prototype.getCount = function () {
    return this.count;
  };

  ECB.prototype.getDataCodewords = function () {
    return this.dataCodewords;
  };

  return ECB;
}();
/**
 * The Version object encapsulates attributes about a particular
 * size Data Matrix Code.
 *
 * @author bbrown@google.com (Brian Brown)
 */

var Version$1 =
/** @class */
function () {
  function Version(versionNumber, symbolSizeRows, symbolSizeColumns, dataRegionSizeRows, dataRegionSizeColumns, ecBlocks) {
    var e_1, _a;

    this.versionNumber = versionNumber;
    this.symbolSizeRows = symbolSizeRows;
    this.symbolSizeColumns = symbolSizeColumns;
    this.dataRegionSizeRows = dataRegionSizeRows;
    this.dataRegionSizeColumns = dataRegionSizeColumns;
    this.ecBlocks = ecBlocks; // Calculate the total number of codewords

    var total = 0;
    var ecCodewords = ecBlocks.getECCodewords();
    var ecbArray = ecBlocks.getECBlocks();

    try {
      for (var ecbArray_1 = __values$n(ecbArray), ecbArray_1_1 = ecbArray_1.next(); !ecbArray_1_1.done; ecbArray_1_1 = ecbArray_1.next()) {
        var ecBlock = ecbArray_1_1.value;
        total += ecBlock.getCount() * (ecBlock.getDataCodewords() + ecCodewords);
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (ecbArray_1_1 && !ecbArray_1_1.done && (_a = ecbArray_1.return)) _a.call(ecbArray_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    this.totalCodewords = total;
  }

  Version.prototype.getVersionNumber = function () {
    return this.versionNumber;
  };

  Version.prototype.getSymbolSizeRows = function () {
    return this.symbolSizeRows;
  };

  Version.prototype.getSymbolSizeColumns = function () {
    return this.symbolSizeColumns;
  };

  Version.prototype.getDataRegionSizeRows = function () {
    return this.dataRegionSizeRows;
  };

  Version.prototype.getDataRegionSizeColumns = function () {
    return this.dataRegionSizeColumns;
  };

  Version.prototype.getTotalCodewords = function () {
    return this.totalCodewords;
  };

  Version.prototype.getECBlocks = function () {
    return this.ecBlocks;
  };
  /**
   * <p>Deduces version information from Data Matrix dimensions.</p>
   *
   * @param numRows Number of rows in modules
   * @param numColumns Number of columns in modules
   * @return Version for a Data Matrix Code of those dimensions
   * @throws FormatException if dimensions do correspond to a valid Data Matrix size
   */


  Version.getVersionForDimensions = function (numRows, numColumns) {
    var e_2, _a;

    if ((numRows & 0x01) !== 0 || (numColumns & 0x01) !== 0) {
      throw new FormatException();
    }

    try {
      for (var _b = __values$n(Version.VERSIONS), _c = _b.next(); !_c.done; _c = _b.next()) {
        var version = _c.value;

        if (version.symbolSizeRows === numRows && version.symbolSizeColumns === numColumns) {
          return version;
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_2) throw e_2.error;
      }
    }

    throw new FormatException();
  }; //  @Override


  Version.prototype.toString = function () {
    return '' + this.versionNumber;
  };
  /**
   * See ISO 16022:2006 5.5.1 Table 7
   */


  Version.buildVersions = function () {
    return [new Version(1, 10, 10, 8, 8, new ECBlocks$1(5, new ECB$1(1, 3))), new Version(2, 12, 12, 10, 10, new ECBlocks$1(7, new ECB$1(1, 5))), new Version(3, 14, 14, 12, 12, new ECBlocks$1(10, new ECB$1(1, 8))), new Version(4, 16, 16, 14, 14, new ECBlocks$1(12, new ECB$1(1, 12))), new Version(5, 18, 18, 16, 16, new ECBlocks$1(14, new ECB$1(1, 18))), new Version(6, 20, 20, 18, 18, new ECBlocks$1(18, new ECB$1(1, 22))), new Version(7, 22, 22, 20, 20, new ECBlocks$1(20, new ECB$1(1, 30))), new Version(8, 24, 24, 22, 22, new ECBlocks$1(24, new ECB$1(1, 36))), new Version(9, 26, 26, 24, 24, new ECBlocks$1(28, new ECB$1(1, 44))), new Version(10, 32, 32, 14, 14, new ECBlocks$1(36, new ECB$1(1, 62))), new Version(11, 36, 36, 16, 16, new ECBlocks$1(42, new ECB$1(1, 86))), new Version(12, 40, 40, 18, 18, new ECBlocks$1(48, new ECB$1(1, 114))), new Version(13, 44, 44, 20, 20, new ECBlocks$1(56, new ECB$1(1, 144))), new Version(14, 48, 48, 22, 22, new ECBlocks$1(68, new ECB$1(1, 174))), new Version(15, 52, 52, 24, 24, new ECBlocks$1(42, new ECB$1(2, 102))), new Version(16, 64, 64, 14, 14, new ECBlocks$1(56, new ECB$1(2, 140))), new Version(17, 72, 72, 16, 16, new ECBlocks$1(36, new ECB$1(4, 92))), new Version(18, 80, 80, 18, 18, new ECBlocks$1(48, new ECB$1(4, 114))), new Version(19, 88, 88, 20, 20, new ECBlocks$1(56, new ECB$1(4, 144))), new Version(20, 96, 96, 22, 22, new ECBlocks$1(68, new ECB$1(4, 174))), new Version(21, 104, 104, 24, 24, new ECBlocks$1(56, new ECB$1(6, 136))), new Version(22, 120, 120, 18, 18, new ECBlocks$1(68, new ECB$1(6, 175))), new Version(23, 132, 132, 20, 20, new ECBlocks$1(62, new ECB$1(8, 163))), new Version(24, 144, 144, 22, 22, new ECBlocks$1(62, new ECB$1(8, 156), new ECB$1(2, 155))), new Version(25, 8, 18, 6, 16, new ECBlocks$1(7, new ECB$1(1, 5))), new Version(26, 8, 32, 6, 14, new ECBlocks$1(11, new ECB$1(1, 10))), new Version(27, 12, 26, 10, 24, new ECBlocks$1(14, new ECB$1(1, 16))), new Version(28, 12, 36, 10, 16, new ECBlocks$1(18, new ECB$1(1, 22))), new Version(29, 16, 36, 14, 16, new ECBlocks$1(24, new ECB$1(1, 32))), new Version(30, 16, 48, 14, 22, new ECBlocks$1(28, new ECB$1(1, 49)))];
  };

  Version.VERSIONS = Version.buildVersions();
  return Version;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * @author bbrown@google.com (Brian Brown)
 */

var BitMatrixParser$1 =
/** @class */
function () {
  /**
   * @param bitMatrix {@link BitMatrix} to parse
   * @throws FormatException if dimension is < 8 or > 144 or not 0 mod 2
   */
  function BitMatrixParser(bitMatrix) {
    var dimension = bitMatrix.getHeight();

    if (dimension < 8 || dimension > 144 || (dimension & 0x01) !== 0) {
      throw new FormatException();
    }

    this.version = BitMatrixParser.readVersion(bitMatrix);
    this.mappingBitMatrix = this.extractDataRegion(bitMatrix);
    this.readMappingMatrix = new BitMatrix(this.mappingBitMatrix.getWidth(), this.mappingBitMatrix.getHeight());
  }

  BitMatrixParser.prototype.getVersion = function () {
    return this.version;
  };
  /**
   * <p>Creates the version object based on the dimension of the original bit matrix from
   * the datamatrix code.</p>
   *
   * <p>See ISO 16022:2006 Table 7 - ECC 200 symbol attributes</p>
   *
   * @param bitMatrix Original {@link BitMatrix} including alignment patterns
   * @return {@link Version} encapsulating the Data Matrix Code's "version"
   * @throws FormatException if the dimensions of the mapping matrix are not valid
   * Data Matrix dimensions.
   */


  BitMatrixParser.readVersion = function (bitMatrix) {
    var numRows = bitMatrix.getHeight();
    var numColumns = bitMatrix.getWidth();
    return Version$1.getVersionForDimensions(numRows, numColumns);
  };
  /**
   * <p>Reads the bits in the {@link BitMatrix} representing the mapping matrix (No alignment patterns)
   * in the correct order in order to reconstitute the codewords bytes contained within the
   * Data Matrix Code.</p>
   *
   * @return bytes encoded within the Data Matrix Code
   * @throws FormatException if the exact number of bytes expected is not read
   */


  BitMatrixParser.prototype.readCodewords = function () {
    var result = new Int8Array(this.version.getTotalCodewords());
    var resultOffset = 0;
    var row = 4;
    var column = 0;
    var numRows = this.mappingBitMatrix.getHeight();
    var numColumns = this.mappingBitMatrix.getWidth();
    var corner1Read = false;
    var corner2Read = false;
    var corner3Read = false;
    var corner4Read = false; // Read all of the codewords

    do {
      // Check the four corner cases
      if (row === numRows && column === 0 && !corner1Read) {
        result[resultOffset++] = this.readCorner1(numRows, numColumns) & 0xff;
        row -= 2;
        column += 2;
        corner1Read = true;
      } else if (row === numRows - 2 && column === 0 && (numColumns & 0x03) !== 0 && !corner2Read) {
        result[resultOffset++] = this.readCorner2(numRows, numColumns) & 0xff;
        row -= 2;
        column += 2;
        corner2Read = true;
      } else if (row === numRows + 4 && column === 2 && (numColumns & 0x07) === 0 && !corner3Read) {
        result[resultOffset++] = this.readCorner3(numRows, numColumns) & 0xff;
        row -= 2;
        column += 2;
        corner3Read = true;
      } else if (row === numRows - 2 && column === 0 && (numColumns & 0x07) === 4 && !corner4Read) {
        result[resultOffset++] = this.readCorner4(numRows, numColumns) & 0xff;
        row -= 2;
        column += 2;
        corner4Read = true;
      } else {
        // Sweep upward diagonally to the right
        do {
          if (row < numRows && column >= 0 && !this.readMappingMatrix.get(column, row)) {
            result[resultOffset++] = this.readUtah(row, column, numRows, numColumns) & 0xff;
          }

          row -= 2;
          column += 2;
        } while (row >= 0 && column < numColumns);

        row += 1;
        column += 3; // Sweep downward diagonally to the left

        do {
          if (row >= 0 && column < numColumns && !this.readMappingMatrix.get(column, row)) {
            result[resultOffset++] = this.readUtah(row, column, numRows, numColumns) & 0xff;
          }

          row += 2;
          column -= 2;
        } while (row < numRows && column >= 0);

        row += 3;
        column += 1;
      }
    } while (row < numRows || column < numColumns);

    if (resultOffset !== this.version.getTotalCodewords()) {
      throw new FormatException();
    }

    return result;
  };
  /**
   * <p>Reads a bit of the mapping matrix accounting for boundary wrapping.</p>
   *
   * @param row Row to read in the mapping matrix
   * @param column Column to read in the mapping matrix
   * @param numRows Number of rows in the mapping matrix
   * @param numColumns Number of columns in the mapping matrix
   * @return value of the given bit in the mapping matrix
   */


  BitMatrixParser.prototype.readModule = function (row, column, numRows, numColumns) {
    // Adjust the row and column indices based on boundary wrapping
    if (row < 0) {
      row += numRows;
      column += 4 - (numRows + 4 & 0x07);
    }

    if (column < 0) {
      column += numColumns;
      row += 4 - (numColumns + 4 & 0x07);
    }

    this.readMappingMatrix.set(column, row);
    return this.mappingBitMatrix.get(column, row);
  };
  /**
   * <p>Reads the 8 bits of the standard Utah-shaped pattern.</p>
   *
   * <p>See ISO 16022:2006, 5.8.1 Figure 6</p>
   *
   * @param row Current row in the mapping matrix, anchored at the 8th bit (LSB) of the pattern
   * @param column Current column in the mapping matrix, anchored at the 8th bit (LSB) of the pattern
   * @param numRows Number of rows in the mapping matrix
   * @param numColumns Number of columns in the mapping matrix
   * @return byte from the utah shape
   */


  BitMatrixParser.prototype.readUtah = function (row, column, numRows, numColumns) {
    var currentByte = 0;

    if (this.readModule(row - 2, column - 2, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(row - 2, column - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(row - 1, column - 2, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(row - 1, column - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(row - 1, column, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(row, column - 2, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(row, column - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(row, column, numRows, numColumns)) {
      currentByte |= 1;
    }

    return currentByte;
  };
  /**
   * <p>Reads the 8 bits of the special corner condition 1.</p>
   *
   * <p>See ISO 16022:2006, Figure F.3</p>
   *
   * @param numRows Number of rows in the mapping matrix
   * @param numColumns Number of columns in the mapping matrix
   * @return byte from the Corner condition 1
   */


  BitMatrixParser.prototype.readCorner1 = function (numRows, numColumns) {
    var currentByte = 0;

    if (this.readModule(numRows - 1, 0, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(numRows - 1, 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(numRows - 1, 2, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 2, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(1, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(2, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(3, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    return currentByte;
  };
  /**
   * <p>Reads the 8 bits of the special corner condition 2.</p>
   *
   * <p>See ISO 16022:2006, Figure F.4</p>
   *
   * @param numRows Number of rows in the mapping matrix
   * @param numColumns Number of columns in the mapping matrix
   * @return byte from the Corner condition 2
   */


  BitMatrixParser.prototype.readCorner2 = function (numRows, numColumns) {
    var currentByte = 0;

    if (this.readModule(numRows - 3, 0, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(numRows - 2, 0, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(numRows - 1, 0, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 4, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 3, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 2, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(1, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    return currentByte;
  };
  /**
   * <p>Reads the 8 bits of the special corner condition 3.</p>
   *
   * <p>See ISO 16022:2006, Figure F.5</p>
   *
   * @param numRows Number of rows in the mapping matrix
   * @param numColumns Number of columns in the mapping matrix
   * @return byte from the Corner condition 3
   */


  BitMatrixParser.prototype.readCorner3 = function (numRows, numColumns) {
    var currentByte = 0;

    if (this.readModule(numRows - 1, 0, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(numRows - 1, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 3, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 2, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(1, numColumns - 3, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(1, numColumns - 2, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(1, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    return currentByte;
  };
  /**
   * <p>Reads the 8 bits of the special corner condition 4.</p>
   *
   * <p>See ISO 16022:2006, Figure F.6</p>
   *
   * @param numRows Number of rows in the mapping matrix
   * @param numColumns Number of columns in the mapping matrix
   * @return byte from the Corner condition 4
   */


  BitMatrixParser.prototype.readCorner4 = function (numRows, numColumns) {
    var currentByte = 0;

    if (this.readModule(numRows - 3, 0, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(numRows - 2, 0, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(numRows - 1, 0, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 2, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(0, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(1, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(2, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    currentByte <<= 1;

    if (this.readModule(3, numColumns - 1, numRows, numColumns)) {
      currentByte |= 1;
    }

    return currentByte;
  };
  /**
   * <p>Extracts the data region from a {@link BitMatrix} that contains
   * alignment patterns.</p>
   *
   * @param bitMatrix Original {@link BitMatrix} with alignment patterns
   * @return BitMatrix that has the alignment patterns removed
   */


  BitMatrixParser.prototype.extractDataRegion = function (bitMatrix) {
    var symbolSizeRows = this.version.getSymbolSizeRows();
    var symbolSizeColumns = this.version.getSymbolSizeColumns();

    if (bitMatrix.getHeight() !== symbolSizeRows) {
      throw new IllegalArgumentException('Dimension of bitMatrix must match the version size');
    }

    var dataRegionSizeRows = this.version.getDataRegionSizeRows();
    var dataRegionSizeColumns = this.version.getDataRegionSizeColumns();
    var numDataRegionsRow = symbolSizeRows / dataRegionSizeRows | 0;
    var numDataRegionsColumn = symbolSizeColumns / dataRegionSizeColumns | 0;
    var sizeDataRegionRow = numDataRegionsRow * dataRegionSizeRows;
    var sizeDataRegionColumn = numDataRegionsColumn * dataRegionSizeColumns;
    var bitMatrixWithoutAlignment = new BitMatrix(sizeDataRegionColumn, sizeDataRegionRow);

    for (var dataRegionRow = 0; dataRegionRow < numDataRegionsRow; ++dataRegionRow) {
      var dataRegionRowOffset = dataRegionRow * dataRegionSizeRows;

      for (var dataRegionColumn = 0; dataRegionColumn < numDataRegionsColumn; ++dataRegionColumn) {
        var dataRegionColumnOffset = dataRegionColumn * dataRegionSizeColumns;

        for (var i = 0; i < dataRegionSizeRows; ++i) {
          var readRowOffset = dataRegionRow * (dataRegionSizeRows + 2) + 1 + i;
          var writeRowOffset = dataRegionRowOffset + i;

          for (var j = 0; j < dataRegionSizeColumns; ++j) {
            var readColumnOffset = dataRegionColumn * (dataRegionSizeColumns + 2) + 1 + j;

            if (bitMatrix.get(readColumnOffset, readRowOffset)) {
              var writeColumnOffset = dataRegionColumnOffset + j;
              bitMatrixWithoutAlignment.set(writeColumnOffset, writeRowOffset);
            }
          }
        }
      }
    }

    return bitMatrixWithoutAlignment;
  };

  return BitMatrixParser;
}();

var __values$m = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * <p>Encapsulates a block of data within a Data Matrix Code. Data Matrix Codes may split their data into
 * multiple blocks, each of which is a unit of data and error-correction codewords. Each
 * is represented by an instance of this class.</p>
 *
 * @author bbrown@google.com (Brian Brown)
 */

var DataBlock$1 =
/** @class */
function () {
  function DataBlock(numDataCodewords, codewords) {
    this.numDataCodewords = numDataCodewords;
    this.codewords = codewords;
  }
  /**
   * <p>When Data Matrix Codes use multiple data blocks, they actually interleave the bytes of each of them.
   * That is, the first byte of data block 1 to n is written, then the second bytes, and so on. This
   * method will separate the data into original blocks.</p>
   *
   * @param rawCodewords bytes as read directly from the Data Matrix Code
   * @param version version of the Data Matrix Code
   * @return DataBlocks containing original bytes, "de-interleaved" from representation in the
   *         Data Matrix Code
   */


  DataBlock.getDataBlocks = function (rawCodewords, version) {
    var e_1, _a, e_2, _b; // Figure out the number and size of data blocks used by this version


    var ecBlocks = version.getECBlocks(); // First count the total number of data blocks

    var totalBlocks = 0;
    var ecBlockArray = ecBlocks.getECBlocks();

    try {
      for (var ecBlockArray_1 = __values$m(ecBlockArray), ecBlockArray_1_1 = ecBlockArray_1.next(); !ecBlockArray_1_1.done; ecBlockArray_1_1 = ecBlockArray_1.next()) {
        var ecBlock = ecBlockArray_1_1.value;
        totalBlocks += ecBlock.getCount();
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (ecBlockArray_1_1 && !ecBlockArray_1_1.done && (_a = ecBlockArray_1.return)) _a.call(ecBlockArray_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    } // Now establish DataBlocks of the appropriate size and number of data codewords


    var result = new Array(totalBlocks);
    var numResultBlocks = 0;

    try {
      for (var ecBlockArray_2 = __values$m(ecBlockArray), ecBlockArray_2_1 = ecBlockArray_2.next(); !ecBlockArray_2_1.done; ecBlockArray_2_1 = ecBlockArray_2.next()) {
        var ecBlock = ecBlockArray_2_1.value;

        for (var i = 0; i < ecBlock.getCount(); i++) {
          var numDataCodewords = ecBlock.getDataCodewords();
          var numBlockCodewords = ecBlocks.getECCodewords() + numDataCodewords;
          result[numResultBlocks++] = new DataBlock(numDataCodewords, new Uint8Array(numBlockCodewords));
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (ecBlockArray_2_1 && !ecBlockArray_2_1.done && (_b = ecBlockArray_2.return)) _b.call(ecBlockArray_2);
      } finally {
        if (e_2) throw e_2.error;
      }
    } // All blocks have the same amount of data, except that the last n
    // (where n may be 0) have 1 less byte. Figure out where these start.
    // TODO(bbrown): There is only one case where there is a difference for Data Matrix for size 144


    var longerBlocksTotalCodewords = result[0].codewords.length; // int shorterBlocksTotalCodewords = longerBlocksTotalCodewords - 1;

    var longerBlocksNumDataCodewords = longerBlocksTotalCodewords - ecBlocks.getECCodewords();
    var shorterBlocksNumDataCodewords = longerBlocksNumDataCodewords - 1; // The last elements of result may be 1 element shorter for 144 matrix
    // first fill out as many elements as all of them have minus 1

    var rawCodewordsOffset = 0;

    for (var i = 0; i < shorterBlocksNumDataCodewords; i++) {
      for (var j = 0; j < numResultBlocks; j++) {
        result[j].codewords[i] = rawCodewords[rawCodewordsOffset++];
      }
    } // Fill out the last data block in the longer ones


    var specialVersion = version.getVersionNumber() === 24;
    var numLongerBlocks = specialVersion ? 8 : numResultBlocks;

    for (var j = 0; j < numLongerBlocks; j++) {
      result[j].codewords[longerBlocksNumDataCodewords - 1] = rawCodewords[rawCodewordsOffset++];
    } // Now add in error correction blocks


    var max = result[0].codewords.length;

    for (var i = longerBlocksNumDataCodewords; i < max; i++) {
      for (var j = 0; j < numResultBlocks; j++) {
        var jOffset = specialVersion ? (j + 8) % numResultBlocks : j;
        var iOffset = specialVersion && jOffset > 7 ? i - 1 : i;
        result[jOffset].codewords[iOffset] = rawCodewords[rawCodewordsOffset++];
      }
    }

    if (rawCodewordsOffset !== rawCodewords.length) {
      throw new IllegalArgumentException();
    }

    return result;
  };

  DataBlock.prototype.getNumDataCodewords = function () {
    return this.numDataCodewords;
  };

  DataBlock.prototype.getCodewords = function () {
    return this.codewords;
  };

  return DataBlock;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>This provides an easy abstraction to read bits at a time from a sequence of bytes, where the
 * number of bits read is not often a multiple of 8.</p>
 *
 * <p>This class is thread-safe but not reentrant -- unless the caller modifies the bytes array
 * it passed in, in which case all bets are off.</p>
 *
 * @author Sean Owen
 */

var BitSource =
/** @class */
function () {
  /**
   * @param bytes bytes from which this will read bits. Bits will be read from the first byte first.
   * Bits are read within a byte from most-significant to least-significant bit.
   */
  function BitSource(bytes) {
    this.bytes = bytes;
    this.byteOffset = 0;
    this.bitOffset = 0;
  }
  /**
   * @return index of next bit in current byte which would be read by the next call to {@link #readBits(int)}.
   */


  BitSource.prototype.getBitOffset = function () {
    return this.bitOffset;
  };
  /**
   * @return index of next byte in input byte array which would be read by the next call to {@link #readBits(int)}.
   */


  BitSource.prototype.getByteOffset = function () {
    return this.byteOffset;
  };
  /**
   * @param numBits number of bits to read
   * @return int representing the bits read. The bits will appear as the least-significant
   *         bits of the int
   * @throws IllegalArgumentException if numBits isn't in [1,32] or more than is available
   */


  BitSource.prototype.readBits = function (numBits
  /*int*/
  ) {
    if (numBits < 1 || numBits > 32 || numBits > this.available()) {
      throw new IllegalArgumentException('' + numBits);
    }

    var result = 0;
    var bitOffset = this.bitOffset;
    var byteOffset = this.byteOffset;
    var bytes = this.bytes; // First, read remainder from current byte

    if (bitOffset > 0) {
      var bitsLeft = 8 - bitOffset;
      var toRead = numBits < bitsLeft ? numBits : bitsLeft;
      var bitsToNotRead = bitsLeft - toRead;
      var mask = 0xFF >> 8 - toRead << bitsToNotRead;
      result = (bytes[byteOffset] & mask) >> bitsToNotRead;
      numBits -= toRead;
      bitOffset += toRead;

      if (bitOffset === 8) {
        bitOffset = 0;
        byteOffset++;
      }
    } // Next read whole bytes


    if (numBits > 0) {
      while (numBits >= 8) {
        result = result << 8 | bytes[byteOffset] & 0xFF;
        byteOffset++;
        numBits -= 8;
      } // Finally read a partial byte


      if (numBits > 0) {
        var bitsToNotRead = 8 - numBits;
        var mask = 0xFF >> bitsToNotRead << bitsToNotRead;
        result = result << numBits | (bytes[byteOffset] & mask) >> bitsToNotRead;
        bitOffset += numBits;
      }
    }

    this.bitOffset = bitOffset;
    this.byteOffset = byteOffset;
    return result;
  };
  /**
   * @return number of bits that can be read successfully
   */


  BitSource.prototype.available = function () {
    return 8 * (this.bytes.length - this.byteOffset) - this.bitOffset;
  };

  return BitSource;
}();

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

var Mode$2;

(function (Mode) {
  Mode[Mode["PAD_ENCODE"] = 0] = "PAD_ENCODE";
  Mode[Mode["ASCII_ENCODE"] = 1] = "ASCII_ENCODE";
  Mode[Mode["C40_ENCODE"] = 2] = "C40_ENCODE";
  Mode[Mode["TEXT_ENCODE"] = 3] = "TEXT_ENCODE";
  Mode[Mode["ANSIX12_ENCODE"] = 4] = "ANSIX12_ENCODE";
  Mode[Mode["EDIFACT_ENCODE"] = 5] = "EDIFACT_ENCODE";
  Mode[Mode["BASE256_ENCODE"] = 6] = "BASE256_ENCODE";
})(Mode$2 || (Mode$2 = {}));
/**
 * <p>Data Matrix Codes can encode text as bits in one of several modes, and can use multiple modes
 * in one Data Matrix Code. This class decodes the bits back into text.</p>
 *
 * <p>See ISO 16022:2006, 5.2.1 - 5.2.9.2</p>
 *
 * @author bbrown@google.com (Brian Brown)
 * @author Sean Owen
 */


var DecodedBitStreamParser$2 =
/** @class */
function () {
  function DecodedBitStreamParser() {}

  DecodedBitStreamParser.decode = function (bytes) {
    var bits = new BitSource(bytes);
    var result = new StringBuilder();
    var resultTrailer = new StringBuilder();
    var byteSegments = new Array();
    var mode = Mode$2.ASCII_ENCODE;

    do {
      if (mode === Mode$2.ASCII_ENCODE) {
        mode = this.decodeAsciiSegment(bits, result, resultTrailer);
      } else {
        switch (mode) {
          case Mode$2.C40_ENCODE:
            this.decodeC40Segment(bits, result);
            break;

          case Mode$2.TEXT_ENCODE:
            this.decodeTextSegment(bits, result);
            break;

          case Mode$2.ANSIX12_ENCODE:
            this.decodeAnsiX12Segment(bits, result);
            break;

          case Mode$2.EDIFACT_ENCODE:
            this.decodeEdifactSegment(bits, result);
            break;

          case Mode$2.BASE256_ENCODE:
            this.decodeBase256Segment(bits, result, byteSegments);
            break;

          default:
            throw new FormatException();
        }

        mode = Mode$2.ASCII_ENCODE;
      }
    } while (mode !== Mode$2.PAD_ENCODE && bits.available() > 0);

    if (resultTrailer.length() > 0) {
      result.append(resultTrailer.toString());
    }

    return new DecoderResult(bytes, result.toString(), byteSegments.length === 0 ? null : byteSegments, null);
  };
  /**
   * See ISO 16022:2006, 5.2.3 and Annex C, Table C.2
   */


  DecodedBitStreamParser.decodeAsciiSegment = function (bits, result, resultTrailer) {
    var upperShift = false;

    do {
      var oneByte = bits.readBits(8);

      if (oneByte === 0) {
        throw new FormatException();
      } else if (oneByte <= 128) {
        // ASCII data (ASCII value + 1)
        if (upperShift) {
          oneByte += 128; // upperShift = false;
        }

        result.append(String.fromCharCode(oneByte - 1));
        return Mode$2.ASCII_ENCODE;
      } else if (oneByte === 129) {
        // Pad
        return Mode$2.PAD_ENCODE;
      } else if (oneByte <= 229) {
        // 2-digit data 00-99 (Numeric Value + 130)
        var value = oneByte - 130;

        if (value < 10) {
          // pad with '0' for single digit values
          result.append('0');
        }

        result.append('' + value);
      } else {
        switch (oneByte) {
          case 230:
            // Latch to C40 encodation
            return Mode$2.C40_ENCODE;

          case 231:
            // Latch to Base 256 encodation
            return Mode$2.BASE256_ENCODE;

          case 232:
            // FNC1
            result.append(String.fromCharCode(29)); // translate as ASCII 29

            break;

          case 233: // Structured Append

          case 234:
            // Reader Programming
            // Ignore these symbols for now
            // throw ReaderException.getInstance();
            break;

          case 235:
            // Upper Shift (shift to Extended ASCII)
            upperShift = true;
            break;

          case 236:
            // 05 Macro
            result.append('[)>\u001E05\u001D');
            resultTrailer.insert(0, '\u001E\u0004');
            break;

          case 237:
            // 06 Macro
            result.append('[)>\u001E06\u001D');
            resultTrailer.insert(0, '\u001E\u0004');
            break;

          case 238:
            // Latch to ANSI X12 encodation
            return Mode$2.ANSIX12_ENCODE;

          case 239:
            // Latch to Text encodation
            return Mode$2.TEXT_ENCODE;

          case 240:
            // Latch to EDIFACT encodation
            return Mode$2.EDIFACT_ENCODE;

          case 241:
            // ECI Character
            // TODO(bbrown): I think we need to support ECI
            // throw ReaderException.getInstance();
            // Ignore this symbol for now
            break;

          default:
            // Not to be used in ASCII encodation
            // but work around encoders that end with 254, latch back to ASCII
            if (oneByte !== 254 || bits.available() !== 0) {
              throw new FormatException();
            }

            break;
        }
      }
    } while (bits.available() > 0);

    return Mode$2.ASCII_ENCODE;
  };
  /**
   * See ISO 16022:2006, 5.2.5 and Annex C, Table C.1
   */


  DecodedBitStreamParser.decodeC40Segment = function (bits, result) {
    // Three C40 values are encoded in a 16-bit value as
    // (1600 * C1) + (40 * C2) + C3 + 1
    // TODO(bbrown): The Upper Shift with C40 doesn't work in the 4 value scenario all the time
    var upperShift = false;
    var cValues = [];
    var shift = 0;

    do {
      // If there is only one byte left then it will be encoded as ASCII
      if (bits.available() === 8) {
        return;
      }

      var firstByte = bits.readBits(8);

      if (firstByte === 254) {
        // Unlatch codeword
        return;
      }

      this.parseTwoBytes(firstByte, bits.readBits(8), cValues);

      for (var i = 0; i < 3; i++) {
        var cValue = cValues[i];

        switch (shift) {
          case 0:
            if (cValue < 3) {
              shift = cValue + 1;
            } else if (cValue < this.C40_BASIC_SET_CHARS.length) {
              var c40char = this.C40_BASIC_SET_CHARS[cValue];

              if (upperShift) {
                result.append(String.fromCharCode(c40char.charCodeAt(0) + 128));
                upperShift = false;
              } else {
                result.append(c40char);
              }
            } else {
              throw new FormatException();
            }

            break;

          case 1:
            if (upperShift) {
              result.append(String.fromCharCode(cValue + 128));
              upperShift = false;
            } else {
              result.append(String.fromCharCode(cValue));
            }

            shift = 0;
            break;

          case 2:
            if (cValue < this.C40_SHIFT2_SET_CHARS.length) {
              var c40char = this.C40_SHIFT2_SET_CHARS[cValue];

              if (upperShift) {
                result.append(String.fromCharCode(c40char.charCodeAt(0) + 128));
                upperShift = false;
              } else {
                result.append(c40char);
              }
            } else {
              switch (cValue) {
                case 27:
                  // FNC1
                  result.append(String.fromCharCode(29)); // translate as ASCII 29

                  break;

                case 30:
                  // Upper Shift
                  upperShift = true;
                  break;

                default:
                  throw new FormatException();
              }
            }

            shift = 0;
            break;

          case 3:
            if (upperShift) {
              result.append(String.fromCharCode(cValue + 224));
              upperShift = false;
            } else {
              result.append(String.fromCharCode(cValue + 96));
            }

            shift = 0;
            break;

          default:
            throw new FormatException();
        }
      }
    } while (bits.available() > 0);
  };
  /**
   * See ISO 16022:2006, 5.2.6 and Annex C, Table C.2
   */


  DecodedBitStreamParser.decodeTextSegment = function (bits, result) {
    // Three Text values are encoded in a 16-bit value as
    // (1600 * C1) + (40 * C2) + C3 + 1
    // TODO(bbrown): The Upper Shift with Text doesn't work in the 4 value scenario all the time
    var upperShift = false;
    var cValues = [];
    var shift = 0;

    do {
      // If there is only one byte left then it will be encoded as ASCII
      if (bits.available() === 8) {
        return;
      }

      var firstByte = bits.readBits(8);

      if (firstByte === 254) {
        // Unlatch codeword
        return;
      }

      this.parseTwoBytes(firstByte, bits.readBits(8), cValues);

      for (var i = 0; i < 3; i++) {
        var cValue = cValues[i];

        switch (shift) {
          case 0:
            if (cValue < 3) {
              shift = cValue + 1;
            } else if (cValue < this.TEXT_BASIC_SET_CHARS.length) {
              var textChar = this.TEXT_BASIC_SET_CHARS[cValue];

              if (upperShift) {
                result.append(String.fromCharCode(textChar.charCodeAt(0) + 128));
                upperShift = false;
              } else {
                result.append(textChar);
              }
            } else {
              throw new FormatException();
            }

            break;

          case 1:
            if (upperShift) {
              result.append(String.fromCharCode(cValue + 128));
              upperShift = false;
            } else {
              result.append(String.fromCharCode(cValue));
            }

            shift = 0;
            break;

          case 2:
            // Shift 2 for Text is the same encoding as C40
            if (cValue < this.TEXT_SHIFT2_SET_CHARS.length) {
              var textChar = this.TEXT_SHIFT2_SET_CHARS[cValue];

              if (upperShift) {
                result.append(String.fromCharCode(textChar.charCodeAt(0) + 128));
                upperShift = false;
              } else {
                result.append(textChar);
              }
            } else {
              switch (cValue) {
                case 27:
                  // FNC1
                  result.append(String.fromCharCode(29)); // translate as ASCII 29

                  break;

                case 30:
                  // Upper Shift
                  upperShift = true;
                  break;

                default:
                  throw new FormatException();
              }
            }

            shift = 0;
            break;

          case 3:
            if (cValue < this.TEXT_SHIFT3_SET_CHARS.length) {
              var textChar = this.TEXT_SHIFT3_SET_CHARS[cValue];

              if (upperShift) {
                result.append(String.fromCharCode(textChar.charCodeAt(0) + 128));
                upperShift = false;
              } else {
                result.append(textChar);
              }

              shift = 0;
            } else {
              throw new FormatException();
            }

            break;

          default:
            throw new FormatException();
        }
      }
    } while (bits.available() > 0);
  };
  /**
   * See ISO 16022:2006, 5.2.7
   */


  DecodedBitStreamParser.decodeAnsiX12Segment = function (bits, result) {
    // Three ANSI X12 values are encoded in a 16-bit value as
    // (1600 * C1) + (40 * C2) + C3 + 1
    var cValues = [];

    do {
      // If there is only one byte left then it will be encoded as ASCII
      if (bits.available() === 8) {
        return;
      }

      var firstByte = bits.readBits(8);

      if (firstByte === 254) {
        // Unlatch codeword
        return;
      }

      this.parseTwoBytes(firstByte, bits.readBits(8), cValues);

      for (var i = 0; i < 3; i++) {
        var cValue = cValues[i];

        switch (cValue) {
          case 0:
            // X12 segment terminator <CR>
            result.append('\r');
            break;

          case 1:
            // X12 segment separator *
            result.append('*');
            break;

          case 2:
            // X12 sub-element separator >
            result.append('>');
            break;

          case 3:
            // space
            result.append(' ');
            break;

          default:
            if (cValue < 14) {
              // 0 - 9
              result.append(String.fromCharCode(cValue + 44));
            } else if (cValue < 40) {
              // A - Z
              result.append(String.fromCharCode(cValue + 51));
            } else {
              throw new FormatException();
            }

            break;
        }
      }
    } while (bits.available() > 0);
  };

  DecodedBitStreamParser.parseTwoBytes = function (firstByte, secondByte, result) {
    var fullBitValue = (firstByte << 8) + secondByte - 1;
    var temp = Math.floor(fullBitValue / 1600);
    result[0] = temp;
    fullBitValue -= temp * 1600;
    temp = Math.floor(fullBitValue / 40);
    result[1] = temp;
    result[2] = fullBitValue - temp * 40;
  };
  /**
   * See ISO 16022:2006, 5.2.8 and Annex C Table C.3
   */


  DecodedBitStreamParser.decodeEdifactSegment = function (bits, result) {
    do {
      // If there is only two or less bytes left then it will be encoded as ASCII
      if (bits.available() <= 16) {
        return;
      }

      for (var i = 0; i < 4; i++) {
        var edifactValue = bits.readBits(6); // Check for the unlatch character

        if (edifactValue === 0x1F) {
          // 011111
          // Read rest of byte, which should be 0, and stop
          var bitsLeft = 8 - bits.getBitOffset();

          if (bitsLeft !== 8) {
            bits.readBits(bitsLeft);
          }

          return;
        }

        if ((edifactValue & 0x20) === 0) {
          // no 1 in the leading (6th) bit
          edifactValue |= 0x40; // Add a leading 01 to the 6 bit binary value
        }

        result.append(String.fromCharCode(edifactValue));
      }
    } while (bits.available() > 0);
  };
  /**
   * See ISO 16022:2006, 5.2.9 and Annex B, B.2
   */


  DecodedBitStreamParser.decodeBase256Segment = function (bits, result, byteSegments) {
    // Figure out how long the Base 256 Segment is.
    var codewordPosition = 1 + bits.getByteOffset(); // position is 1-indexed

    var d1 = this.unrandomize255State(bits.readBits(8), codewordPosition++);
    var count;

    if (d1 === 0) {
      // Read the remainder of the symbol
      count = bits.available() / 8 | 0;
    } else if (d1 < 250) {
      count = d1;
    } else {
      count = 250 * (d1 - 249) + this.unrandomize255State(bits.readBits(8), codewordPosition++);
    } // We're seeing NegativeArraySizeException errors from users.


    if (count < 0) {
      throw new FormatException();
    }

    var bytes = new Uint8Array(count);

    for (var i = 0; i < count; i++) {
      // Have seen this particular error in the wild, such as at
      // http://www.bcgen.com/demo/IDAutomationStreamingDataMatrix.aspx?MODE=3&D=Fred&PFMT=3&PT=F&X=0.3&O=0&LM=0.2
      if (bits.available() < 8) {
        throw new FormatException();
      }

      bytes[i] = this.unrandomize255State(bits.readBits(8), codewordPosition++);
    }

    byteSegments.push(bytes);

    try {
      result.append(StringEncoding.decode(bytes, StringUtils.ISO88591));
    } catch (uee) {
      throw new IllegalStateException('Platform does not support required encoding: ' + uee.message);
    }
  };
  /**
   * See ISO 16022:2006, Annex B, B.2
   */


  DecodedBitStreamParser.unrandomize255State = function (randomizedBase256Codeword, base256CodewordPosition) {
    var pseudoRandomNumber = 149 * base256CodewordPosition % 255 + 1;
    var tempVariable = randomizedBase256Codeword - pseudoRandomNumber;
    return tempVariable >= 0 ? tempVariable : tempVariable + 256;
  };
  /**
   * See ISO 16022:2006, Annex C Table C.1
   * The C40 Basic Character Set (*'s used for placeholders for the shift values)
   */


  DecodedBitStreamParser.C40_BASIC_SET_CHARS = ['*', '*', '*', ' ', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];
  DecodedBitStreamParser.C40_SHIFT2_SET_CHARS = ['!', '"', '#', '$', '%', '&', '\'', '(', ')', '*', '+', ',', '-', '.', '/', ':', ';', '<', '=', '>', '?', '@', '[', '\\', ']', '^', '_'];
  /**
   * See ISO 16022:2006, Annex C Table C.2
   * The Text Basic Character Set (*'s used for placeholders for the shift values)
   */

  DecodedBitStreamParser.TEXT_BASIC_SET_CHARS = ['*', '*', '*', ' ', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']; // Shift 2 for Text is the same encoding as C40

  DecodedBitStreamParser.TEXT_SHIFT2_SET_CHARS = DecodedBitStreamParser.C40_SHIFT2_SET_CHARS;
  DecodedBitStreamParser.TEXT_SHIFT3_SET_CHARS = ['`', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '{', '|', '}', '~', String.fromCharCode(127)];
  return DecodedBitStreamParser;
}();

var __values$l = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * <p>The main class which implements Data Matrix Code decoding -- as opposed to locating and extracting
 * the Data Matrix Code from an image.</p>
 *
 * @author bbrown@google.com (Brian Brown)
 */

var Decoder$1 =
/** @class */
function () {
  function Decoder() {
    this.rsDecoder = new ReedSolomonDecoder(GenericGF.DATA_MATRIX_FIELD_256);
  }
  /**
   * <p>Decodes a Data Matrix Code represented as a {@link BitMatrix}. A 1 or "true" is taken
   * to mean a black module.</p>
   *
   * @param bits booleans representing white/black Data Matrix Code modules
   * @return text and bytes encoded within the Data Matrix Code
   * @throws FormatException if the Data Matrix Code cannot be decoded
   * @throws ChecksumException if error correction fails
   */


  Decoder.prototype.decode = function (bits) {
    var e_1, _a; // Construct a parser and read version, error-correction level


    var parser = new BitMatrixParser$1(bits);
    var version = parser.getVersion(); // Read codewords

    var codewords = parser.readCodewords(); // Separate into data blocks

    var dataBlocks = DataBlock$1.getDataBlocks(codewords, version); // Count total number of data bytes

    var totalBytes = 0;

    try {
      for (var dataBlocks_1 = __values$l(dataBlocks), dataBlocks_1_1 = dataBlocks_1.next(); !dataBlocks_1_1.done; dataBlocks_1_1 = dataBlocks_1.next()) {
        var db = dataBlocks_1_1.value;
        totalBytes += db.getNumDataCodewords();
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (dataBlocks_1_1 && !dataBlocks_1_1.done && (_a = dataBlocks_1.return)) _a.call(dataBlocks_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    var resultBytes = new Uint8Array(totalBytes);
    var dataBlocksCount = dataBlocks.length; // Error-correct and copy data blocks together into a stream of bytes

    for (var j = 0; j < dataBlocksCount; j++) {
      var dataBlock = dataBlocks[j];
      var codewordBytes = dataBlock.getCodewords();
      var numDataCodewords = dataBlock.getNumDataCodewords();
      this.correctErrors(codewordBytes, numDataCodewords);

      for (var i = 0; i < numDataCodewords; i++) {
        // De-interlace data blocks.
        resultBytes[i * dataBlocksCount + j] = codewordBytes[i];
      }
    } // Decode the contents of that stream of bytes


    return DecodedBitStreamParser$2.decode(resultBytes);
  };
  /**
   * <p>Given data and error-correction codewords received, possibly corrupted by errors, attempts to
   * correct the errors in-place using Reed-Solomon error correction.</p>
   *
   * @param codewordBytes data and error correction codewords
   * @param numDataCodewords number of codewords that are data bytes
   * @throws ChecksumException if error correction fails
   */


  Decoder.prototype.correctErrors = function (codewordBytes, numDataCodewords) {
    // const numCodewords = codewordBytes.length;
    // First read into an array of ints
    var codewordsInts = new Int32Array(codewordBytes); // for (let i = 0; i < numCodewords; i++) {
    //   codewordsInts[i] = codewordBytes[i] & 0xFF;
    // }

    try {
      this.rsDecoder.decode(codewordsInts, codewordBytes.length - numDataCodewords);
    } catch (ignored
    /* ReedSolomonException */
    ) {
      throw new ChecksumException();
    } // Copy back into array of bytes -- only need to worry about the bytes that were data
    // We don't care about errors in the error-correction codewords


    for (var i = 0; i < numDataCodewords; i++) {
      codewordBytes[i] = codewordsInts[i];
    }
  };

  return Decoder;
}();

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * <p>Encapsulates logic that can detect a Data Matrix Code in an image, even if the Data Matrix Code
 * is rotated or skewed, or partially obscured.</p>
 *
 * @author Sean Owen
 */

var Detector$2 =
/** @class */
function () {
  function Detector(image) {
    this.image = image;
    this.rectangleDetector = new WhiteRectangleDetector(this.image);
  }
  /**
   * <p>Detects a Data Matrix Code in an image.</p>
   *
   * @return {@link DetectorResult} encapsulating results of detecting a Data Matrix Code
   * @throws NotFoundException if no Data Matrix Code can be found
   */


  Detector.prototype.detect = function () {
    var cornerPoints = this.rectangleDetector.detect();
    var points = this.detectSolid1(cornerPoints);
    points = this.detectSolid2(points);
    points[3] = this.correctTopRight(points);

    if (!points[3]) {
      throw new NotFoundException();
    }

    points = this.shiftToModuleCenter(points);
    var topLeft = points[0];
    var bottomLeft = points[1];
    var bottomRight = points[2];
    var topRight = points[3];
    var dimensionTop = this.transitionsBetween(topLeft, topRight) + 1;
    var dimensionRight = this.transitionsBetween(bottomRight, topRight) + 1;

    if ((dimensionTop & 0x01) === 1) {
      dimensionTop += 1;
    }

    if ((dimensionRight & 0x01) === 1) {
      dimensionRight += 1;
    }

    if (4 * dimensionTop < 7 * dimensionRight && 4 * dimensionRight < 7 * dimensionTop) {
      // The matrix is square
      dimensionTop = dimensionRight = Math.max(dimensionTop, dimensionRight);
    }

    var bits = Detector.sampleGrid(this.image, topLeft, bottomLeft, bottomRight, topRight, dimensionTop, dimensionRight);
    return new DetectorResult(bits, [topLeft, bottomLeft, bottomRight, topRight]);
  };

  Detector.shiftPoint = function (point, to, div) {
    var x = (to.getX() - point.getX()) / (div + 1);
    var y = (to.getY() - point.getY()) / (div + 1);
    return new ResultPoint(point.getX() + x, point.getY() + y);
  };

  Detector.moveAway = function (point, fromX, fromY) {
    var x = point.getX();
    var y = point.getY();

    if (x < fromX) {
      x -= 1;
    } else {
      x += 1;
    }

    if (y < fromY) {
      y -= 1;
    } else {
      y += 1;
    }

    return new ResultPoint(x, y);
  };
  /**
   * Detect a solid side which has minimum transition.
   */


  Detector.prototype.detectSolid1 = function (cornerPoints) {
    // 0  2
    // 1  3
    var pointA = cornerPoints[0];
    var pointB = cornerPoints[1];
    var pointC = cornerPoints[3];
    var pointD = cornerPoints[2];
    var trAB = this.transitionsBetween(pointA, pointB);
    var trBC = this.transitionsBetween(pointB, pointC);
    var trCD = this.transitionsBetween(pointC, pointD);
    var trDA = this.transitionsBetween(pointD, pointA); // 0..3
    // :  :
    // 1--2

    var min = trAB;
    var points = [pointD, pointA, pointB, pointC];

    if (min > trBC) {
      min = trBC;
      points[0] = pointA;
      points[1] = pointB;
      points[2] = pointC;
      points[3] = pointD;
    }

    if (min > trCD) {
      min = trCD;
      points[0] = pointB;
      points[1] = pointC;
      points[2] = pointD;
      points[3] = pointA;
    }

    if (min > trDA) {
      points[0] = pointC;
      points[1] = pointD;
      points[2] = pointA;
      points[3] = pointB;
    }

    return points;
  };
  /**
   * Detect a second solid side next to first solid side.
   */


  Detector.prototype.detectSolid2 = function (points) {
    // A..D
    // :  :
    // B--C
    var pointA = points[0];
    var pointB = points[1];
    var pointC = points[2];
    var pointD = points[3]; // Transition detection on the edge is not stable.
    // To safely detect, shift the points to the module center.

    var tr = this.transitionsBetween(pointA, pointD);
    var pointBs = Detector.shiftPoint(pointB, pointC, (tr + 1) * 4);
    var pointCs = Detector.shiftPoint(pointC, pointB, (tr + 1) * 4);
    var trBA = this.transitionsBetween(pointBs, pointA);
    var trCD = this.transitionsBetween(pointCs, pointD); // 0..3
    // |  :
    // 1--2

    if (trBA < trCD) {
      // solid sides: A-B-C
      points[0] = pointA;
      points[1] = pointB;
      points[2] = pointC;
      points[3] = pointD;
    } else {
      // solid sides: B-C-D
      points[0] = pointB;
      points[1] = pointC;
      points[2] = pointD;
      points[3] = pointA;
    }

    return points;
  };
  /**
   * Calculates the corner position of the white top right module.
   */


  Detector.prototype.correctTopRight = function (points) {
    // A..D
    // |  :
    // B--C
    var pointA = points[0];
    var pointB = points[1];
    var pointC = points[2];
    var pointD = points[3]; // shift points for safe transition detection.

    var trTop = this.transitionsBetween(pointA, pointD);
    var trRight = this.transitionsBetween(pointB, pointD);
    var pointAs = Detector.shiftPoint(pointA, pointB, (trRight + 1) * 4);
    var pointCs = Detector.shiftPoint(pointC, pointB, (trTop + 1) * 4);
    trTop = this.transitionsBetween(pointAs, pointD);
    trRight = this.transitionsBetween(pointCs, pointD);
    var candidate1 = new ResultPoint(pointD.getX() + (pointC.getX() - pointB.getX()) / (trTop + 1), pointD.getY() + (pointC.getY() - pointB.getY()) / (trTop + 1));
    var candidate2 = new ResultPoint(pointD.getX() + (pointA.getX() - pointB.getX()) / (trRight + 1), pointD.getY() + (pointA.getY() - pointB.getY()) / (trRight + 1));

    if (!this.isValid(candidate1)) {
      if (this.isValid(candidate2)) {
        return candidate2;
      }

      return null;
    }

    if (!this.isValid(candidate2)) {
      return candidate1;
    }

    var sumc1 = this.transitionsBetween(pointAs, candidate1) + this.transitionsBetween(pointCs, candidate1);
    var sumc2 = this.transitionsBetween(pointAs, candidate2) + this.transitionsBetween(pointCs, candidate2);

    if (sumc1 > sumc2) {
      return candidate1;
    } else {
      return candidate2;
    }
  };
  /**
   * Shift the edge points to the module center.
   */


  Detector.prototype.shiftToModuleCenter = function (points) {
    // A..D
    // |  :
    // B--C
    var pointA = points[0];
    var pointB = points[1];
    var pointC = points[2];
    var pointD = points[3]; // calculate pseudo dimensions

    var dimH = this.transitionsBetween(pointA, pointD) + 1;
    var dimV = this.transitionsBetween(pointC, pointD) + 1; // shift points for safe dimension detection

    var pointAs = Detector.shiftPoint(pointA, pointB, dimV * 4);
    var pointCs = Detector.shiftPoint(pointC, pointB, dimH * 4); //  calculate more precise dimensions

    dimH = this.transitionsBetween(pointAs, pointD) + 1;
    dimV = this.transitionsBetween(pointCs, pointD) + 1;

    if ((dimH & 0x01) === 1) {
      dimH += 1;
    }

    if ((dimV & 0x01) === 1) {
      dimV += 1;
    } // WhiteRectangleDetector returns points inside of the rectangle.
    // I want points on the edges.


    var centerX = (pointA.getX() + pointB.getX() + pointC.getX() + pointD.getX()) / 4;
    var centerY = (pointA.getY() + pointB.getY() + pointC.getY() + pointD.getY()) / 4;
    pointA = Detector.moveAway(pointA, centerX, centerY);
    pointB = Detector.moveAway(pointB, centerX, centerY);
    pointC = Detector.moveAway(pointC, centerX, centerY);
    pointD = Detector.moveAway(pointD, centerX, centerY);
    var pointBs;
    var pointDs; // shift points to the center of each modules

    pointAs = Detector.shiftPoint(pointA, pointB, dimV * 4);
    pointAs = Detector.shiftPoint(pointAs, pointD, dimH * 4);
    pointBs = Detector.shiftPoint(pointB, pointA, dimV * 4);
    pointBs = Detector.shiftPoint(pointBs, pointC, dimH * 4);
    pointCs = Detector.shiftPoint(pointC, pointD, dimV * 4);
    pointCs = Detector.shiftPoint(pointCs, pointB, dimH * 4);
    pointDs = Detector.shiftPoint(pointD, pointC, dimV * 4);
    pointDs = Detector.shiftPoint(pointDs, pointA, dimH * 4);
    return [pointAs, pointBs, pointCs, pointDs];
  };

  Detector.prototype.isValid = function (p) {
    return p.getX() >= 0 && p.getX() < this.image.getWidth() && p.getY() > 0 && p.getY() < this.image.getHeight();
  };

  Detector.sampleGrid = function (image, topLeft, bottomLeft, bottomRight, topRight, dimensionX, dimensionY) {
    var sampler = GridSamplerInstance.getInstance();
    return sampler.sampleGrid(image, dimensionX, dimensionY, 0.5, 0.5, dimensionX - 0.5, 0.5, dimensionX - 0.5, dimensionY - 0.5, 0.5, dimensionY - 0.5, topLeft.getX(), topLeft.getY(), topRight.getX(), topRight.getY(), bottomRight.getX(), bottomRight.getY(), bottomLeft.getX(), bottomLeft.getY());
  };
  /**
   * Counts the number of black/white transitions between two points, using something like Bresenham's algorithm.
   */


  Detector.prototype.transitionsBetween = function (from, to) {
    // See QR Code Detector, sizeOfBlackWhiteBlackRun()
    var fromX = Math.trunc(from.getX());
    var fromY = Math.trunc(from.getY());
    var toX = Math.trunc(to.getX());
    var toY = Math.trunc(to.getY());
    var steep = Math.abs(toY - fromY) > Math.abs(toX - fromX);

    if (steep) {
      var temp = fromX;
      fromX = fromY;
      fromY = temp;
      temp = toX;
      toX = toY;
      toY = temp;
    }

    var dx = Math.abs(toX - fromX);
    var dy = Math.abs(toY - fromY);
    var error = -dx / 2;
    var ystep = fromY < toY ? 1 : -1;
    var xstep = fromX < toX ? 1 : -1;
    var transitions = 0;
    var inBlack = this.image.get(steep ? fromY : fromX, steep ? fromX : fromY);

    for (var x = fromX, y = fromY; x !== toX; x += xstep) {
      var isBlack = this.image.get(steep ? y : x, steep ? x : y);

      if (isBlack !== inBlack) {
        transitions++;
        inBlack = isBlack;
      }

      error += dy;

      if (error > 0) {
        if (y === toY) {
          break;
        }

        y += ystep;
        error -= dx;
      }
    }

    return transitions;
  };

  return Detector;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * This implementation can detect and decode Data Matrix codes in an image.
 *
 * @author bbrown@google.com (Brian Brown)
 */

var DataMatrixReader =
/** @class */
function () {
  function DataMatrixReader() {
    this.decoder = new Decoder$1();
  }
  /**
   * Locates and decodes a Data Matrix code in an image.
   *
   * @return a String representing the content encoded by the Data Matrix code
   * @throws NotFoundException if a Data Matrix code cannot be found
   * @throws FormatException if a Data Matrix code cannot be decoded
   * @throws ChecksumException if error correction fails
   */
  // @Override
  // public Result decode(BinaryBitmap image) throws NotFoundException, ChecksumException, FormatException {
  //   return decode(image, null);
  // }
  // @Override


  DataMatrixReader.prototype.decode = function (image, hints) {
    if (hints === void 0) {
      hints = null;
    }

    var decoderResult;
    var points;

    if (hints != null && hints.has(DecodeHintType$1.PURE_BARCODE)) {
      var bits = DataMatrixReader.extractPureBits(image.getBlackMatrix());
      decoderResult = this.decoder.decode(bits);
      points = DataMatrixReader.NO_POINTS;
    } else {
      var detectorResult = new Detector$2(image.getBlackMatrix()).detect();
      decoderResult = this.decoder.decode(detectorResult.getBits());
      points = detectorResult.getPoints();
    }

    var rawBytes = decoderResult.getRawBytes();
    var result = new Result(decoderResult.getText(), rawBytes, 8 * rawBytes.length, points, BarcodeFormat$1.DATA_MATRIX, System.currentTimeMillis());
    var byteSegments = decoderResult.getByteSegments();

    if (byteSegments != null) {
      result.putMetadata(ResultMetadataType$1.BYTE_SEGMENTS, byteSegments);
    }

    var ecLevel = decoderResult.getECLevel();

    if (ecLevel != null) {
      result.putMetadata(ResultMetadataType$1.ERROR_CORRECTION_LEVEL, ecLevel);
    }

    return result;
  }; // @Override


  DataMatrixReader.prototype.reset = function () {// do nothing
  };
  /**
   * This method detects a code in a "pure" image -- that is, pure monochrome image
   * which contains only an unrotated, unskewed, image of a code, with some white border
   * around it. This is a specialized method that works exceptionally fast in this special
   * case.
   *
   * @see com.google.zxing.qrcode.QRCodeReader#extractPureBits(BitMatrix)
   */


  DataMatrixReader.extractPureBits = function (image) {
    var leftTopBlack = image.getTopLeftOnBit();
    var rightBottomBlack = image.getBottomRightOnBit();

    if (leftTopBlack == null || rightBottomBlack == null) {
      throw new NotFoundException();
    }

    var moduleSize = this.moduleSize(leftTopBlack, image);
    var top = leftTopBlack[1];
    var bottom = rightBottomBlack[1];
    var left = leftTopBlack[0];
    var right = rightBottomBlack[0];
    var matrixWidth = (right - left + 1) / moduleSize;
    var matrixHeight = (bottom - top + 1) / moduleSize;

    if (matrixWidth <= 0 || matrixHeight <= 0) {
      throw new NotFoundException();
    } // Push in the "border" by half the module width so that we start
    // sampling in the middle of the module. Just in case the image is a
    // little off, this will help recover.


    var nudge = moduleSize / 2;
    top += nudge;
    left += nudge; // Now just read off the bits

    var bits = new BitMatrix(matrixWidth, matrixHeight);

    for (var y = 0; y < matrixHeight; y++) {
      var iOffset = top + y * moduleSize;

      for (var x = 0; x < matrixWidth; x++) {
        if (image.get(left + x * moduleSize, iOffset)) {
          bits.set(x, y);
        }
      }
    }

    return bits;
  };

  DataMatrixReader.moduleSize = function (leftTopBlack, image) {
    var width = image.getWidth();
    var x = leftTopBlack[0];
    var y = leftTopBlack[1];

    while (x < width && image.get(x, y)) {
      x++;
    }

    if (x === width) {
      throw new NotFoundException();
    }

    var moduleSize = x - leftTopBlack[0];

    if (moduleSize === 0) {
      throw new NotFoundException();
    }

    return moduleSize;
  };

  DataMatrixReader.NO_POINTS = [];
  return DataMatrixReader;
}();

var __extends$h = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * @deprecated Moving to @zxing/browser
 *
 * QR Code reader to use from browser.
 */

/** @class */
(function (_super) {
  __extends$h(BrowserDatamatrixCodeReader, _super);
  /**
   * Creates an instance of BrowserQRCodeReader.
   * @param {number} [timeBetweenScansMillis=500] the time delay between subsequent decode tries
   */


  function BrowserDatamatrixCodeReader(timeBetweenScansMillis) {
    if (timeBetweenScansMillis === void 0) {
      timeBetweenScansMillis = 500;
    }

    return _super.call(this, new DataMatrixReader(), timeBetweenScansMillis) || this;
  }

  return BrowserDatamatrixCodeReader;
})(BrowserCodeReader);

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ErrorCorrectionLevelValues;

(function (ErrorCorrectionLevelValues) {
  ErrorCorrectionLevelValues[ErrorCorrectionLevelValues["L"] = 0] = "L";
  ErrorCorrectionLevelValues[ErrorCorrectionLevelValues["M"] = 1] = "M";
  ErrorCorrectionLevelValues[ErrorCorrectionLevelValues["Q"] = 2] = "Q";
  ErrorCorrectionLevelValues[ErrorCorrectionLevelValues["H"] = 3] = "H";
})(ErrorCorrectionLevelValues || (ErrorCorrectionLevelValues = {}));
/**
 * <p>See ISO 18004:2006, 6.5.1. This enum encapsulates the four error correction levels
 * defined by the QR code standard.</p>
 *
 * @author Sean Owen
 */


var ErrorCorrectionLevel =
/** @class */
function () {
  function ErrorCorrectionLevel(value, stringValue, bits
  /*int*/
  ) {
    this.value = value;
    this.stringValue = stringValue;
    this.bits = bits;
    ErrorCorrectionLevel.FOR_BITS.set(bits, this);
    ErrorCorrectionLevel.FOR_VALUE.set(value, this);
  }

  ErrorCorrectionLevel.prototype.getValue = function () {
    return this.value;
  };

  ErrorCorrectionLevel.prototype.getBits = function () {
    return this.bits;
  };

  ErrorCorrectionLevel.fromString = function (s) {
    switch (s) {
      case 'L':
        return ErrorCorrectionLevel.L;

      case 'M':
        return ErrorCorrectionLevel.M;

      case 'Q':
        return ErrorCorrectionLevel.Q;

      case 'H':
        return ErrorCorrectionLevel.H;

      default:
        throw new ArgumentException(s + 'not available');
    }
  };

  ErrorCorrectionLevel.prototype.toString = function () {
    return this.stringValue;
  };

  ErrorCorrectionLevel.prototype.equals = function (o) {
    if (!(o instanceof ErrorCorrectionLevel)) {
      return false;
    }

    var other = o;
    return this.value === other.value;
  };
  /**
   * @param bits int containing the two bits encoding a QR Code's error correction level
   * @return ErrorCorrectionLevel representing the encoded error correction level
   */


  ErrorCorrectionLevel.forBits = function (bits
  /*int*/
  ) {
    if (bits < 0 || bits >= ErrorCorrectionLevel.FOR_BITS.size) {
      throw new IllegalArgumentException();
    }

    return ErrorCorrectionLevel.FOR_BITS.get(bits);
  };

  ErrorCorrectionLevel.FOR_BITS = new Map();
  ErrorCorrectionLevel.FOR_VALUE = new Map();
  /** L = ~7% correction */

  ErrorCorrectionLevel.L = new ErrorCorrectionLevel(ErrorCorrectionLevelValues.L, 'L', 0x01);
  /** M = ~15% correction */

  ErrorCorrectionLevel.M = new ErrorCorrectionLevel(ErrorCorrectionLevelValues.M, 'M', 0x00);
  /** Q = ~25% correction */

  ErrorCorrectionLevel.Q = new ErrorCorrectionLevel(ErrorCorrectionLevelValues.Q, 'Q', 0x03);
  /** H = ~30% correction */

  ErrorCorrectionLevel.H = new ErrorCorrectionLevel(ErrorCorrectionLevelValues.H, 'H', 0x02);
  return ErrorCorrectionLevel;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$k = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * <p>Encapsulates a QR Code's format information, including the data mask used and
 * error correction level.</p>
 *
 * @author Sean Owen
 * @see DataMask
 * @see ErrorCorrectionLevel
 */

var FormatInformation =
/** @class */
function () {
  function FormatInformation(formatInfo
  /*int*/
  ) {
    // Bits 3,4
    this.errorCorrectionLevel = ErrorCorrectionLevel.forBits(formatInfo >> 3 & 0x03); // Bottom 3 bits

    this.dataMask =
    /*(byte) */
    formatInfo & 0x07;
  }

  FormatInformation.numBitsDiffering = function (a
  /*int*/
  , b
  /*int*/
  ) {
    return Integer.bitCount(a ^ b);
  };
  /**
   * @param maskedFormatInfo1 format info indicator, with mask still applied
   * @param maskedFormatInfo2 second copy of same info; both are checked at the same time
   *  to establish best match
   * @return information about the format it specifies, or {@code null}
   *  if doesn't seem to match any known pattern
   */


  FormatInformation.decodeFormatInformation = function (maskedFormatInfo1
  /*int*/
  , maskedFormatInfo2
  /*int*/
  ) {
    var formatInfo = FormatInformation.doDecodeFormatInformation(maskedFormatInfo1, maskedFormatInfo2);

    if (formatInfo !== null) {
      return formatInfo;
    } // Should return null, but, some QR codes apparently
    // do not mask this info. Try again by actually masking the pattern
    // first


    return FormatInformation.doDecodeFormatInformation(maskedFormatInfo1 ^ FormatInformation.FORMAT_INFO_MASK_QR, maskedFormatInfo2 ^ FormatInformation.FORMAT_INFO_MASK_QR);
  };

  FormatInformation.doDecodeFormatInformation = function (maskedFormatInfo1
  /*int*/
  , maskedFormatInfo2
  /*int*/
  ) {
    var e_1, _a; // Find the int in FORMAT_INFO_DECODE_LOOKUP with fewest bits differing


    var bestDifference = Number.MAX_SAFE_INTEGER;
    var bestFormatInfo = 0;

    try {
      for (var _b = __values$k(FormatInformation.FORMAT_INFO_DECODE_LOOKUP), _c = _b.next(); !_c.done; _c = _b.next()) {
        var decodeInfo = _c.value;
        var targetInfo = decodeInfo[0];

        if (targetInfo === maskedFormatInfo1 || targetInfo === maskedFormatInfo2) {
          // Found an exact match
          return new FormatInformation(decodeInfo[1]);
        }

        var bitsDifference = FormatInformation.numBitsDiffering(maskedFormatInfo1, targetInfo);

        if (bitsDifference < bestDifference) {
          bestFormatInfo = decodeInfo[1];
          bestDifference = bitsDifference;
        }

        if (maskedFormatInfo1 !== maskedFormatInfo2) {
          // also try the other option
          bitsDifference = FormatInformation.numBitsDiffering(maskedFormatInfo2, targetInfo);

          if (bitsDifference < bestDifference) {
            bestFormatInfo = decodeInfo[1];
            bestDifference = bitsDifference;
          }
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    } // Hamming distance of the 32 masked codes is 7, by construction, so <= 3 bits
    // differing means we found a match


    if (bestDifference <= 3) {
      return new FormatInformation(bestFormatInfo);
    }

    return null;
  };

  FormatInformation.prototype.getErrorCorrectionLevel = function () {
    return this.errorCorrectionLevel;
  };

  FormatInformation.prototype.getDataMask = function () {
    return this.dataMask;
  };
  /*@Override*/


  FormatInformation.prototype.hashCode = function () {
    return this.errorCorrectionLevel.getBits() << 3 | this.dataMask;
  };
  /*@Override*/


  FormatInformation.prototype.equals = function (o) {
    if (!(o instanceof FormatInformation)) {
      return false;
    }

    var other = o;
    return this.errorCorrectionLevel === other.errorCorrectionLevel && this.dataMask === other.dataMask;
  };

  FormatInformation.FORMAT_INFO_MASK_QR = 0x5412;
  /**
   * See ISO 18004:2006, Annex C, Table C.1
   */

  FormatInformation.FORMAT_INFO_DECODE_LOOKUP = [Int32Array.from([0x5412, 0x00]), Int32Array.from([0x5125, 0x01]), Int32Array.from([0x5E7C, 0x02]), Int32Array.from([0x5B4B, 0x03]), Int32Array.from([0x45F9, 0x04]), Int32Array.from([0x40CE, 0x05]), Int32Array.from([0x4F97, 0x06]), Int32Array.from([0x4AA0, 0x07]), Int32Array.from([0x77C4, 0x08]), Int32Array.from([0x72F3, 0x09]), Int32Array.from([0x7DAA, 0x0A]), Int32Array.from([0x789D, 0x0B]), Int32Array.from([0x662F, 0x0C]), Int32Array.from([0x6318, 0x0D]), Int32Array.from([0x6C41, 0x0E]), Int32Array.from([0x6976, 0x0F]), Int32Array.from([0x1689, 0x10]), Int32Array.from([0x13BE, 0x11]), Int32Array.from([0x1CE7, 0x12]), Int32Array.from([0x19D0, 0x13]), Int32Array.from([0x0762, 0x14]), Int32Array.from([0x0255, 0x15]), Int32Array.from([0x0D0C, 0x16]), Int32Array.from([0x083B, 0x17]), Int32Array.from([0x355F, 0x18]), Int32Array.from([0x3068, 0x19]), Int32Array.from([0x3F31, 0x1A]), Int32Array.from([0x3A06, 0x1B]), Int32Array.from([0x24B4, 0x1C]), Int32Array.from([0x2183, 0x1D]), Int32Array.from([0x2EDA, 0x1E]), Int32Array.from([0x2BED, 0x1F])];
  return FormatInformation;
}();

var __values$j = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * <p>Encapsulates a set of error-correction blocks in one symbol version. Most versions will
 * use blocks of differing sizes within one version, so, this encapsulates the parameters for
 * each set of blocks. It also holds the number of error-correction codewords per block since it
 * will be the same across all blocks within one version.</p>
 */


var ECBlocks =
/** @class */
function () {
  function ECBlocks(ecCodewordsPerBlock
  /*int*/
  ) {
    var ecBlocks = [];

    for (var _i = 1; _i < arguments.length; _i++) {
      ecBlocks[_i - 1] = arguments[_i];
    }

    this.ecCodewordsPerBlock = ecCodewordsPerBlock;
    this.ecBlocks = ecBlocks;
  }

  ECBlocks.prototype.getECCodewordsPerBlock = function () {
    return this.ecCodewordsPerBlock;
  };

  ECBlocks.prototype.getNumBlocks = function () {
    var e_1, _a;

    var total = 0;
    var ecBlocks = this.ecBlocks;

    try {
      for (var ecBlocks_1 = __values$j(ecBlocks), ecBlocks_1_1 = ecBlocks_1.next(); !ecBlocks_1_1.done; ecBlocks_1_1 = ecBlocks_1.next()) {
        var ecBlock = ecBlocks_1_1.value;
        total += ecBlock.getCount();
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (ecBlocks_1_1 && !ecBlocks_1_1.done && (_a = ecBlocks_1.return)) _a.call(ecBlocks_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    return total;
  };

  ECBlocks.prototype.getTotalECCodewords = function () {
    return this.ecCodewordsPerBlock * this.getNumBlocks();
  };

  ECBlocks.prototype.getECBlocks = function () {
    return this.ecBlocks;
  };

  return ECBlocks;
}();

/**
 * <p>Encapsulates the parameters for one error-correction block in one symbol version.
 * This includes the number of data codewords, and the number of times a block with these
 * parameters is used consecutively in the QR code version's format.</p>
 */
var ECB =
/** @class */
function () {
  function ECB(count
  /*int*/
  , dataCodewords
  /*int*/
  ) {
    this.count = count;
    this.dataCodewords = dataCodewords;
  }

  ECB.prototype.getCount = function () {
    return this.count;
  };

  ECB.prototype.getDataCodewords = function () {
    return this.dataCodewords;
  };

  return ECB;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$i = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * See ISO 18004:2006 Annex D
 *
 * @author Sean Owen
 */

var Version =
/** @class */
function () {
  function Version(versionNumber
  /*int*/
  , alignmentPatternCenters) {
    var e_1, _a;

    var ecBlocks = [];

    for (var _i = 2; _i < arguments.length; _i++) {
      ecBlocks[_i - 2] = arguments[_i];
    }

    this.versionNumber = versionNumber;
    this.alignmentPatternCenters = alignmentPatternCenters;
    this.ecBlocks = ecBlocks;
    var total = 0;
    var ecCodewords = ecBlocks[0].getECCodewordsPerBlock();
    var ecbArray = ecBlocks[0].getECBlocks();

    try {
      for (var ecbArray_1 = __values$i(ecbArray), ecbArray_1_1 = ecbArray_1.next(); !ecbArray_1_1.done; ecbArray_1_1 = ecbArray_1.next()) {
        var ecBlock = ecbArray_1_1.value;
        total += ecBlock.getCount() * (ecBlock.getDataCodewords() + ecCodewords);
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (ecbArray_1_1 && !ecbArray_1_1.done && (_a = ecbArray_1.return)) _a.call(ecbArray_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    this.totalCodewords = total;
  }

  Version.prototype.getVersionNumber = function () {
    return this.versionNumber;
  };

  Version.prototype.getAlignmentPatternCenters = function () {
    return this.alignmentPatternCenters;
  };

  Version.prototype.getTotalCodewords = function () {
    return this.totalCodewords;
  };

  Version.prototype.getDimensionForVersion = function () {
    return 17 + 4 * this.versionNumber;
  };

  Version.prototype.getECBlocksForLevel = function (ecLevel) {
    return this.ecBlocks[ecLevel.getValue()]; // TYPESCRIPTPORT: original was using ordinal, and using the order of levels as defined in ErrorCorrectionLevel enum (LMQH)
    // I will use the direct value from ErrorCorrectionLevelValues enum which in typescript goes to a number
  };
  /**
   * <p>Deduces version information purely from QR Code dimensions.</p>
   *
   * @param dimension dimension in modules
   * @return Version for a QR Code of that dimension
   * @throws FormatException if dimension is not 1 mod 4
   */


  Version.getProvisionalVersionForDimension = function (dimension
  /*int*/
  ) {
    if (dimension % 4 !== 1) {
      throw new FormatException();
    }

    try {
      return this.getVersionForNumber((dimension - 17) / 4);
    } catch (ignored
    /*: IllegalArgumentException*/
    ) {
      throw new FormatException();
    }
  };

  Version.getVersionForNumber = function (versionNumber
  /*int*/
  ) {
    if (versionNumber < 1 || versionNumber > 40) {
      throw new IllegalArgumentException();
    }

    return Version.VERSIONS[versionNumber - 1];
  };

  Version.decodeVersionInformation = function (versionBits
  /*int*/
  ) {
    var bestDifference = Number.MAX_SAFE_INTEGER;
    var bestVersion = 0;

    for (var i = 0; i < Version.VERSION_DECODE_INFO.length; i++) {
      var targetVersion = Version.VERSION_DECODE_INFO[i]; // Do the version info bits match exactly? done.

      if (targetVersion === versionBits) {
        return Version.getVersionForNumber(i + 7);
      } // Otherwise see if this is the closest to a real version info bit string
      // we have seen so far


      var bitsDifference = FormatInformation.numBitsDiffering(versionBits, targetVersion);

      if (bitsDifference < bestDifference) {
        bestVersion = i + 7;
        bestDifference = bitsDifference;
      }
    } // We can tolerate up to 3 bits of error since no two version info codewords will
    // differ in less than 8 bits.


    if (bestDifference <= 3) {
      return Version.getVersionForNumber(bestVersion);
    } // If we didn't find a close enough match, fail


    return null;
  };
  /**
   * See ISO 18004:2006 Annex E
   */


  Version.prototype.buildFunctionPattern = function () {
    var dimension = this.getDimensionForVersion();
    var bitMatrix = new BitMatrix(dimension); // Top left finder pattern + separator + format

    bitMatrix.setRegion(0, 0, 9, 9); // Top right finder pattern + separator + format

    bitMatrix.setRegion(dimension - 8, 0, 8, 9); // Bottom left finder pattern + separator + format

    bitMatrix.setRegion(0, dimension - 8, 9, 8); // Alignment patterns

    var max = this.alignmentPatternCenters.length;

    for (var x = 0; x < max; x++) {
      var i = this.alignmentPatternCenters[x] - 2;

      for (var y = 0; y < max; y++) {
        if (x === 0 && (y === 0 || y === max - 1) || x === max - 1 && y === 0) {
          // No alignment patterns near the three finder patterns
          continue;
        }

        bitMatrix.setRegion(this.alignmentPatternCenters[y] - 2, i, 5, 5);
      }
    } // Vertical timing pattern


    bitMatrix.setRegion(6, 9, 1, dimension - 17); // Horizontal timing pattern

    bitMatrix.setRegion(9, 6, dimension - 17, 1);

    if (this.versionNumber > 6) {
      // Version info, top right
      bitMatrix.setRegion(dimension - 11, 0, 3, 6); // Version info, bottom left

      bitMatrix.setRegion(0, dimension - 11, 6, 3);
    }

    return bitMatrix;
  };
  /*@Override*/


  Version.prototype.toString = function () {
    return '' + this.versionNumber;
  };
  /**
     * See ISO 18004:2006 Annex D.
     * Element i represents the raw version bits that specify version i + 7
     */


  Version.VERSION_DECODE_INFO = Int32Array.from([0x07C94, 0x085BC, 0x09A99, 0x0A4D3, 0x0BBF6, 0x0C762, 0x0D847, 0x0E60D, 0x0F928, 0x10B78, 0x1145D, 0x12A17, 0x13532, 0x149A6, 0x15683, 0x168C9, 0x177EC, 0x18EC4, 0x191E1, 0x1AFAB, 0x1B08E, 0x1CC1A, 0x1D33F, 0x1ED75, 0x1F250, 0x209D5, 0x216F0, 0x228BA, 0x2379F, 0x24B0B, 0x2542E, 0x26A64, 0x27541, 0x28C69]);
  /**
     * See ISO 18004:2006 6.5.1 Table 9
     */

  Version.VERSIONS = [new Version(1, new Int32Array(0), new ECBlocks(7, new ECB(1, 19)), new ECBlocks(10, new ECB(1, 16)), new ECBlocks(13, new ECB(1, 13)), new ECBlocks(17, new ECB(1, 9))), new Version(2, Int32Array.from([6, 18]), new ECBlocks(10, new ECB(1, 34)), new ECBlocks(16, new ECB(1, 28)), new ECBlocks(22, new ECB(1, 22)), new ECBlocks(28, new ECB(1, 16))), new Version(3, Int32Array.from([6, 22]), new ECBlocks(15, new ECB(1, 55)), new ECBlocks(26, new ECB(1, 44)), new ECBlocks(18, new ECB(2, 17)), new ECBlocks(22, new ECB(2, 13))), new Version(4, Int32Array.from([6, 26]), new ECBlocks(20, new ECB(1, 80)), new ECBlocks(18, new ECB(2, 32)), new ECBlocks(26, new ECB(2, 24)), new ECBlocks(16, new ECB(4, 9))), new Version(5, Int32Array.from([6, 30]), new ECBlocks(26, new ECB(1, 108)), new ECBlocks(24, new ECB(2, 43)), new ECBlocks(18, new ECB(2, 15), new ECB(2, 16)), new ECBlocks(22, new ECB(2, 11), new ECB(2, 12))), new Version(6, Int32Array.from([6, 34]), new ECBlocks(18, new ECB(2, 68)), new ECBlocks(16, new ECB(4, 27)), new ECBlocks(24, new ECB(4, 19)), new ECBlocks(28, new ECB(4, 15))), new Version(7, Int32Array.from([6, 22, 38]), new ECBlocks(20, new ECB(2, 78)), new ECBlocks(18, new ECB(4, 31)), new ECBlocks(18, new ECB(2, 14), new ECB(4, 15)), new ECBlocks(26, new ECB(4, 13), new ECB(1, 14))), new Version(8, Int32Array.from([6, 24, 42]), new ECBlocks(24, new ECB(2, 97)), new ECBlocks(22, new ECB(2, 38), new ECB(2, 39)), new ECBlocks(22, new ECB(4, 18), new ECB(2, 19)), new ECBlocks(26, new ECB(4, 14), new ECB(2, 15))), new Version(9, Int32Array.from([6, 26, 46]), new ECBlocks(30, new ECB(2, 116)), new ECBlocks(22, new ECB(3, 36), new ECB(2, 37)), new ECBlocks(20, new ECB(4, 16), new ECB(4, 17)), new ECBlocks(24, new ECB(4, 12), new ECB(4, 13))), new Version(10, Int32Array.from([6, 28, 50]), new ECBlocks(18, new ECB(2, 68), new ECB(2, 69)), new ECBlocks(26, new ECB(4, 43), new ECB(1, 44)), new ECBlocks(24, new ECB(6, 19), new ECB(2, 20)), new ECBlocks(28, new ECB(6, 15), new ECB(2, 16))), new Version(11, Int32Array.from([6, 30, 54]), new ECBlocks(20, new ECB(4, 81)), new ECBlocks(30, new ECB(1, 50), new ECB(4, 51)), new ECBlocks(28, new ECB(4, 22), new ECB(4, 23)), new ECBlocks(24, new ECB(3, 12), new ECB(8, 13))), new Version(12, Int32Array.from([6, 32, 58]), new ECBlocks(24, new ECB(2, 92), new ECB(2, 93)), new ECBlocks(22, new ECB(6, 36), new ECB(2, 37)), new ECBlocks(26, new ECB(4, 20), new ECB(6, 21)), new ECBlocks(28, new ECB(7, 14), new ECB(4, 15))), new Version(13, Int32Array.from([6, 34, 62]), new ECBlocks(26, new ECB(4, 107)), new ECBlocks(22, new ECB(8, 37), new ECB(1, 38)), new ECBlocks(24, new ECB(8, 20), new ECB(4, 21)), new ECBlocks(22, new ECB(12, 11), new ECB(4, 12))), new Version(14, Int32Array.from([6, 26, 46, 66]), new ECBlocks(30, new ECB(3, 115), new ECB(1, 116)), new ECBlocks(24, new ECB(4, 40), new ECB(5, 41)), new ECBlocks(20, new ECB(11, 16), new ECB(5, 17)), new ECBlocks(24, new ECB(11, 12), new ECB(5, 13))), new Version(15, Int32Array.from([6, 26, 48, 70]), new ECBlocks(22, new ECB(5, 87), new ECB(1, 88)), new ECBlocks(24, new ECB(5, 41), new ECB(5, 42)), new ECBlocks(30, new ECB(5, 24), new ECB(7, 25)), new ECBlocks(24, new ECB(11, 12), new ECB(7, 13))), new Version(16, Int32Array.from([6, 26, 50, 74]), new ECBlocks(24, new ECB(5, 98), new ECB(1, 99)), new ECBlocks(28, new ECB(7, 45), new ECB(3, 46)), new ECBlocks(24, new ECB(15, 19), new ECB(2, 20)), new ECBlocks(30, new ECB(3, 15), new ECB(13, 16))), new Version(17, Int32Array.from([6, 30, 54, 78]), new ECBlocks(28, new ECB(1, 107), new ECB(5, 108)), new ECBlocks(28, new ECB(10, 46), new ECB(1, 47)), new ECBlocks(28, new ECB(1, 22), new ECB(15, 23)), new ECBlocks(28, new ECB(2, 14), new ECB(17, 15))), new Version(18, Int32Array.from([6, 30, 56, 82]), new ECBlocks(30, new ECB(5, 120), new ECB(1, 121)), new ECBlocks(26, new ECB(9, 43), new ECB(4, 44)), new ECBlocks(28, new ECB(17, 22), new ECB(1, 23)), new ECBlocks(28, new ECB(2, 14), new ECB(19, 15))), new Version(19, Int32Array.from([6, 30, 58, 86]), new ECBlocks(28, new ECB(3, 113), new ECB(4, 114)), new ECBlocks(26, new ECB(3, 44), new ECB(11, 45)), new ECBlocks(26, new ECB(17, 21), new ECB(4, 22)), new ECBlocks(26, new ECB(9, 13), new ECB(16, 14))), new Version(20, Int32Array.from([6, 34, 62, 90]), new ECBlocks(28, new ECB(3, 107), new ECB(5, 108)), new ECBlocks(26, new ECB(3, 41), new ECB(13, 42)), new ECBlocks(30, new ECB(15, 24), new ECB(5, 25)), new ECBlocks(28, new ECB(15, 15), new ECB(10, 16))), new Version(21, Int32Array.from([6, 28, 50, 72, 94]), new ECBlocks(28, new ECB(4, 116), new ECB(4, 117)), new ECBlocks(26, new ECB(17, 42)), new ECBlocks(28, new ECB(17, 22), new ECB(6, 23)), new ECBlocks(30, new ECB(19, 16), new ECB(6, 17))), new Version(22, Int32Array.from([6, 26, 50, 74, 98]), new ECBlocks(28, new ECB(2, 111), new ECB(7, 112)), new ECBlocks(28, new ECB(17, 46)), new ECBlocks(30, new ECB(7, 24), new ECB(16, 25)), new ECBlocks(24, new ECB(34, 13))), new Version(23, Int32Array.from([6, 30, 54, 78, 102]), new ECBlocks(30, new ECB(4, 121), new ECB(5, 122)), new ECBlocks(28, new ECB(4, 47), new ECB(14, 48)), new ECBlocks(30, new ECB(11, 24), new ECB(14, 25)), new ECBlocks(30, new ECB(16, 15), new ECB(14, 16))), new Version(24, Int32Array.from([6, 28, 54, 80, 106]), new ECBlocks(30, new ECB(6, 117), new ECB(4, 118)), new ECBlocks(28, new ECB(6, 45), new ECB(14, 46)), new ECBlocks(30, new ECB(11, 24), new ECB(16, 25)), new ECBlocks(30, new ECB(30, 16), new ECB(2, 17))), new Version(25, Int32Array.from([6, 32, 58, 84, 110]), new ECBlocks(26, new ECB(8, 106), new ECB(4, 107)), new ECBlocks(28, new ECB(8, 47), new ECB(13, 48)), new ECBlocks(30, new ECB(7, 24), new ECB(22, 25)), new ECBlocks(30, new ECB(22, 15), new ECB(13, 16))), new Version(26, Int32Array.from([6, 30, 58, 86, 114]), new ECBlocks(28, new ECB(10, 114), new ECB(2, 115)), new ECBlocks(28, new ECB(19, 46), new ECB(4, 47)), new ECBlocks(28, new ECB(28, 22), new ECB(6, 23)), new ECBlocks(30, new ECB(33, 16), new ECB(4, 17))), new Version(27, Int32Array.from([6, 34, 62, 90, 118]), new ECBlocks(30, new ECB(8, 122), new ECB(4, 123)), new ECBlocks(28, new ECB(22, 45), new ECB(3, 46)), new ECBlocks(30, new ECB(8, 23), new ECB(26, 24)), new ECBlocks(30, new ECB(12, 15), new ECB(28, 16))), new Version(28, Int32Array.from([6, 26, 50, 74, 98, 122]), new ECBlocks(30, new ECB(3, 117), new ECB(10, 118)), new ECBlocks(28, new ECB(3, 45), new ECB(23, 46)), new ECBlocks(30, new ECB(4, 24), new ECB(31, 25)), new ECBlocks(30, new ECB(11, 15), new ECB(31, 16))), new Version(29, Int32Array.from([6, 30, 54, 78, 102, 126]), new ECBlocks(30, new ECB(7, 116), new ECB(7, 117)), new ECBlocks(28, new ECB(21, 45), new ECB(7, 46)), new ECBlocks(30, new ECB(1, 23), new ECB(37, 24)), new ECBlocks(30, new ECB(19, 15), new ECB(26, 16))), new Version(30, Int32Array.from([6, 26, 52, 78, 104, 130]), new ECBlocks(30, new ECB(5, 115), new ECB(10, 116)), new ECBlocks(28, new ECB(19, 47), new ECB(10, 48)), new ECBlocks(30, new ECB(15, 24), new ECB(25, 25)), new ECBlocks(30, new ECB(23, 15), new ECB(25, 16))), new Version(31, Int32Array.from([6, 30, 56, 82, 108, 134]), new ECBlocks(30, new ECB(13, 115), new ECB(3, 116)), new ECBlocks(28, new ECB(2, 46), new ECB(29, 47)), new ECBlocks(30, new ECB(42, 24), new ECB(1, 25)), new ECBlocks(30, new ECB(23, 15), new ECB(28, 16))), new Version(32, Int32Array.from([6, 34, 60, 86, 112, 138]), new ECBlocks(30, new ECB(17, 115)), new ECBlocks(28, new ECB(10, 46), new ECB(23, 47)), new ECBlocks(30, new ECB(10, 24), new ECB(35, 25)), new ECBlocks(30, new ECB(19, 15), new ECB(35, 16))), new Version(33, Int32Array.from([6, 30, 58, 86, 114, 142]), new ECBlocks(30, new ECB(17, 115), new ECB(1, 116)), new ECBlocks(28, new ECB(14, 46), new ECB(21, 47)), new ECBlocks(30, new ECB(29, 24), new ECB(19, 25)), new ECBlocks(30, new ECB(11, 15), new ECB(46, 16))), new Version(34, Int32Array.from([6, 34, 62, 90, 118, 146]), new ECBlocks(30, new ECB(13, 115), new ECB(6, 116)), new ECBlocks(28, new ECB(14, 46), new ECB(23, 47)), new ECBlocks(30, new ECB(44, 24), new ECB(7, 25)), new ECBlocks(30, new ECB(59, 16), new ECB(1, 17))), new Version(35, Int32Array.from([6, 30, 54, 78, 102, 126, 150]), new ECBlocks(30, new ECB(12, 121), new ECB(7, 122)), new ECBlocks(28, new ECB(12, 47), new ECB(26, 48)), new ECBlocks(30, new ECB(39, 24), new ECB(14, 25)), new ECBlocks(30, new ECB(22, 15), new ECB(41, 16))), new Version(36, Int32Array.from([6, 24, 50, 76, 102, 128, 154]), new ECBlocks(30, new ECB(6, 121), new ECB(14, 122)), new ECBlocks(28, new ECB(6, 47), new ECB(34, 48)), new ECBlocks(30, new ECB(46, 24), new ECB(10, 25)), new ECBlocks(30, new ECB(2, 15), new ECB(64, 16))), new Version(37, Int32Array.from([6, 28, 54, 80, 106, 132, 158]), new ECBlocks(30, new ECB(17, 122), new ECB(4, 123)), new ECBlocks(28, new ECB(29, 46), new ECB(14, 47)), new ECBlocks(30, new ECB(49, 24), new ECB(10, 25)), new ECBlocks(30, new ECB(24, 15), new ECB(46, 16))), new Version(38, Int32Array.from([6, 32, 58, 84, 110, 136, 162]), new ECBlocks(30, new ECB(4, 122), new ECB(18, 123)), new ECBlocks(28, new ECB(13, 46), new ECB(32, 47)), new ECBlocks(30, new ECB(48, 24), new ECB(14, 25)), new ECBlocks(30, new ECB(42, 15), new ECB(32, 16))), new Version(39, Int32Array.from([6, 26, 54, 82, 110, 138, 166]), new ECBlocks(30, new ECB(20, 117), new ECB(4, 118)), new ECBlocks(28, new ECB(40, 47), new ECB(7, 48)), new ECBlocks(30, new ECB(43, 24), new ECB(22, 25)), new ECBlocks(30, new ECB(10, 15), new ECB(67, 16))), new Version(40, Int32Array.from([6, 30, 58, 86, 114, 142, 170]), new ECBlocks(30, new ECB(19, 118), new ECB(6, 119)), new ECBlocks(28, new ECB(18, 47), new ECB(31, 48)), new ECBlocks(30, new ECB(34, 24), new ECB(34, 25)), new ECBlocks(30, new ECB(20, 15), new ECB(61, 16)))];
  return Version;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var DataMaskValues;

(function (DataMaskValues) {
  DataMaskValues[DataMaskValues["DATA_MASK_000"] = 0] = "DATA_MASK_000";
  DataMaskValues[DataMaskValues["DATA_MASK_001"] = 1] = "DATA_MASK_001";
  DataMaskValues[DataMaskValues["DATA_MASK_010"] = 2] = "DATA_MASK_010";
  DataMaskValues[DataMaskValues["DATA_MASK_011"] = 3] = "DATA_MASK_011";
  DataMaskValues[DataMaskValues["DATA_MASK_100"] = 4] = "DATA_MASK_100";
  DataMaskValues[DataMaskValues["DATA_MASK_101"] = 5] = "DATA_MASK_101";
  DataMaskValues[DataMaskValues["DATA_MASK_110"] = 6] = "DATA_MASK_110";
  DataMaskValues[DataMaskValues["DATA_MASK_111"] = 7] = "DATA_MASK_111";
})(DataMaskValues || (DataMaskValues = {}));
/**
 * <p>Encapsulates data masks for the data bits in a QR code, per ISO 18004:2006 6.8. Implementations
 * of this class can un-mask a raw BitMatrix. For simplicity, they will unmask the entire BitMatrix,
 * including areas used for finder patterns, timing patterns, etc. These areas should be unused
 * after the point they are unmasked anyway.</p>
 *
 * <p>Note that the diagram in section 6.8.1 is misleading since it indicates that i is column position
 * and j is row position. In fact, as the text says, i is row position and j is column position.</p>
 *
 * @author Sean Owen
 */


var DataMask =
/** @class */
function () {
  // See ISO 18004:2006 6.8.1
  function DataMask(value, isMasked) {
    this.value = value;
    this.isMasked = isMasked;
  } // End of enum constants.

  /**
   * <p>Implementations of this method reverse the data masking process applied to a QR Code and
   * make its bits ready to read.</p>
   *
   * @param bits representation of QR Code bits
   * @param dimension dimension of QR Code, represented by bits, being unmasked
   */


  DataMask.prototype.unmaskBitMatrix = function (bits, dimension
  /*int*/
  ) {
    for (var i = 0; i < dimension; i++) {
      for (var j = 0; j < dimension; j++) {
        if (this.isMasked(i, j)) {
          bits.flip(j, i);
        }
      }
    }
  };

  DataMask.values = new Map([
  /**
   * 000: mask bits for which (x + y) mod 2 == 0
   */
  [DataMaskValues.DATA_MASK_000, new DataMask(DataMaskValues.DATA_MASK_000, function (i
  /*int*/
  , j
  /*int*/
  ) {
    return (i + j & 0x01) === 0;
  })],
  /**
   * 001: mask bits for which x mod 2 == 0
   */
  [DataMaskValues.DATA_MASK_001, new DataMask(DataMaskValues.DATA_MASK_001, function (i
  /*int*/
  , j
  /*int*/
  ) {
    return (i & 0x01) === 0;
  })],
  /**
   * 010: mask bits for which y mod 3 == 0
   */
  [DataMaskValues.DATA_MASK_010, new DataMask(DataMaskValues.DATA_MASK_010, function (i
  /*int*/
  , j
  /*int*/
  ) {
    return j % 3 === 0;
  })],
  /**
   * 011: mask bits for which (x + y) mod 3 == 0
   */
  [DataMaskValues.DATA_MASK_011, new DataMask(DataMaskValues.DATA_MASK_011, function (i
  /*int*/
  , j
  /*int*/
  ) {
    return (i + j) % 3 === 0;
  })],
  /**
   * 100: mask bits for which (x/2 + y/3) mod 2 == 0
   */
  [DataMaskValues.DATA_MASK_100, new DataMask(DataMaskValues.DATA_MASK_100, function (i
  /*int*/
  , j
  /*int*/
  ) {
    return (Math.floor(i / 2) + Math.floor(j / 3) & 0x01) === 0;
  })],
  /**
   * 101: mask bits for which xy mod 2 + xy mod 3 == 0
   * equivalently, such that xy mod 6 == 0
   */
  [DataMaskValues.DATA_MASK_101, new DataMask(DataMaskValues.DATA_MASK_101, function (i
  /*int*/
  , j
  /*int*/
  ) {
    return i * j % 6 === 0;
  })],
  /**
   * 110: mask bits for which (xy mod 2 + xy mod 3) mod 2 == 0
   * equivalently, such that xy mod 6 < 3
   */
  [DataMaskValues.DATA_MASK_110, new DataMask(DataMaskValues.DATA_MASK_110, function (i
  /*int*/
  , j
  /*int*/
  ) {
    return i * j % 6 < 3;
  })],
  /**
   * 111: mask bits for which ((x+y)mod 2 + xy mod 3) mod 2 == 0
   * equivalently, such that (x + y + xy mod 3) mod 2 == 0
   */
  [DataMaskValues.DATA_MASK_111, new DataMask(DataMaskValues.DATA_MASK_111, function (i
  /*int*/
  , j
  /*int*/
  ) {
    return (i + j + i * j % 3 & 0x01) === 0;
  })]]);
  return DataMask;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @author Sean Owen
 */

var BitMatrixParser =
/** @class */
function () {
  /**
   * @param bitMatrix {@link BitMatrix} to parse
   * @throws FormatException if dimension is not >= 21 and 1 mod 4
   */
  function BitMatrixParser(bitMatrix) {
    var dimension = bitMatrix.getHeight();

    if (dimension < 21 || (dimension & 0x03) !== 1) {
      throw new FormatException();
    }

    this.bitMatrix = bitMatrix;
  }
  /**
   * <p>Reads format information from one of its two locations within the QR Code.</p>
   *
   * @return {@link FormatInformation} encapsulating the QR Code's format info
   * @throws FormatException if both format information locations cannot be parsed as
   * the valid encoding of format information
   */


  BitMatrixParser.prototype.readFormatInformation = function () {
    if (this.parsedFormatInfo !== null && this.parsedFormatInfo !== undefined) {
      return this.parsedFormatInfo;
    } // Read top-left format info bits


    var formatInfoBits1 = 0;

    for (var i = 0; i < 6; i++) {
      formatInfoBits1 = this.copyBit(i, 8, formatInfoBits1);
    } // .. and skip a bit in the timing pattern ...


    formatInfoBits1 = this.copyBit(7, 8, formatInfoBits1);
    formatInfoBits1 = this.copyBit(8, 8, formatInfoBits1);
    formatInfoBits1 = this.copyBit(8, 7, formatInfoBits1); // .. and skip a bit in the timing pattern ...

    for (var j = 5; j >= 0; j--) {
      formatInfoBits1 = this.copyBit(8, j, formatInfoBits1);
    } // Read the top-right/bottom-left pattern too


    var dimension = this.bitMatrix.getHeight();
    var formatInfoBits2 = 0;
    var jMin = dimension - 7;

    for (var j = dimension - 1; j >= jMin; j--) {
      formatInfoBits2 = this.copyBit(8, j, formatInfoBits2);
    }

    for (var i = dimension - 8; i < dimension; i++) {
      formatInfoBits2 = this.copyBit(i, 8, formatInfoBits2);
    }

    this.parsedFormatInfo = FormatInformation.decodeFormatInformation(formatInfoBits1, formatInfoBits2);

    if (this.parsedFormatInfo !== null) {
      return this.parsedFormatInfo;
    }

    throw new FormatException();
  };
  /**
   * <p>Reads version information from one of its two locations within the QR Code.</p>
   *
   * @return {@link Version} encapsulating the QR Code's version
   * @throws FormatException if both version information locations cannot be parsed as
   * the valid encoding of version information
   */


  BitMatrixParser.prototype.readVersion = function () {
    if (this.parsedVersion !== null && this.parsedVersion !== undefined) {
      return this.parsedVersion;
    }

    var dimension = this.bitMatrix.getHeight();
    var provisionalVersion = Math.floor((dimension - 17) / 4);

    if (provisionalVersion <= 6) {
      return Version.getVersionForNumber(provisionalVersion);
    } // Read top-right version info: 3 wide by 6 tall


    var versionBits = 0;
    var ijMin = dimension - 11;

    for (var j = 5; j >= 0; j--) {
      for (var i = dimension - 9; i >= ijMin; i--) {
        versionBits = this.copyBit(i, j, versionBits);
      }
    }

    var theParsedVersion = Version.decodeVersionInformation(versionBits);

    if (theParsedVersion !== null && theParsedVersion.getDimensionForVersion() === dimension) {
      this.parsedVersion = theParsedVersion;
      return theParsedVersion;
    } // Hmm, failed. Try bottom left: 6 wide by 3 tall


    versionBits = 0;

    for (var i = 5; i >= 0; i--) {
      for (var j = dimension - 9; j >= ijMin; j--) {
        versionBits = this.copyBit(i, j, versionBits);
      }
    }

    theParsedVersion = Version.decodeVersionInformation(versionBits);

    if (theParsedVersion !== null && theParsedVersion.getDimensionForVersion() === dimension) {
      this.parsedVersion = theParsedVersion;
      return theParsedVersion;
    }

    throw new FormatException();
  };

  BitMatrixParser.prototype.copyBit = function (i
  /*int*/
  , j
  /*int*/
  , versionBits
  /*int*/
  ) {
    var bit = this.isMirror ? this.bitMatrix.get(j, i) : this.bitMatrix.get(i, j);
    return bit ? versionBits << 1 | 0x1 : versionBits << 1;
  };
  /**
   * <p>Reads the bits in the {@link BitMatrix} representing the finder pattern in the
   * correct order in order to reconstruct the codewords bytes contained within the
   * QR Code.</p>
   *
   * @return bytes encoded within the QR Code
   * @throws FormatException if the exact number of bytes expected is not read
   */


  BitMatrixParser.prototype.readCodewords = function () {
    var formatInfo = this.readFormatInformation();
    var version = this.readVersion(); // Get the data mask for the format used in this QR Code. This will exclude
    // some bits from reading as we wind through the bit matrix.

    var dataMask = DataMask.values.get(formatInfo.getDataMask());
    var dimension = this.bitMatrix.getHeight();
    dataMask.unmaskBitMatrix(this.bitMatrix, dimension);
    var functionPattern = version.buildFunctionPattern();
    var readingUp = true;
    var result = new Uint8Array(version.getTotalCodewords());
    var resultOffset = 0;
    var currentByte = 0;
    var bitsRead = 0; // Read columns in pairs, from right to left

    for (var j = dimension - 1; j > 0; j -= 2) {
      if (j === 6) {
        // Skip whole column with vertical alignment pattern
        // saves time and makes the other code proceed more cleanly
        j--;
      } // Read alternatingly from bottom to top then top to bottom


      for (var count = 0; count < dimension; count++) {
        var i = readingUp ? dimension - 1 - count : count;

        for (var col = 0; col < 2; col++) {
          // Ignore bits covered by the function pattern
          if (!functionPattern.get(j - col, i)) {
            // Read a bit
            bitsRead++;
            currentByte <<= 1;

            if (this.bitMatrix.get(j - col, i)) {
              currentByte |= 1;
            } // If we've made a whole byte, save it off


            if (bitsRead === 8) {
              result[resultOffset++] =
              /*(byte) */
              currentByte;
              bitsRead = 0;
              currentByte = 0;
            }
          }
        }
      }

      readingUp = !readingUp; // readingUp ^= true; // readingUp = !readingUp; // switch directions
    }

    if (resultOffset !== version.getTotalCodewords()) {
      throw new FormatException();
    }

    return result;
  };
  /**
   * Revert the mask removal done while reading the code words. The bit matrix should revert to its original state.
   */


  BitMatrixParser.prototype.remask = function () {
    if (this.parsedFormatInfo === null) {
      return; // We have no format information, and have no data mask
    }

    var dataMask = DataMask.values[this.parsedFormatInfo.getDataMask()];
    var dimension = this.bitMatrix.getHeight();
    dataMask.unmaskBitMatrix(this.bitMatrix, dimension);
  };
  /**
   * Prepare the parser for a mirrored operation.
   * This flag has effect only on the {@link #readFormatInformation()} and the
   * {@link #readVersion()}. Before proceeding with {@link #readCodewords()} the
   * {@link #mirror()} method should be called.
   *
   * @param mirror Whether to read version and format information mirrored.
   */


  BitMatrixParser.prototype.setMirror = function (isMirror) {
    this.parsedVersion = null;
    this.parsedFormatInfo = null;
    this.isMirror = isMirror;
  };
  /** Mirror the bit matrix in order to attempt a second reading. */


  BitMatrixParser.prototype.mirror = function () {
    var bitMatrix = this.bitMatrix;

    for (var x = 0, width = bitMatrix.getWidth(); x < width; x++) {
      for (var y = x + 1, height = bitMatrix.getHeight(); y < height; y++) {
        if (bitMatrix.get(x, y) !== bitMatrix.get(y, x)) {
          bitMatrix.flip(y, x);
          bitMatrix.flip(x, y);
        }
      }
    }
  };

  return BitMatrixParser;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$h = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * <p>Encapsulates a block of data within a QR Code. QR Codes may split their data into
 * multiple blocks, each of which is a unit of data and error-correction codewords. Each
 * is represented by an instance of this class.</p>
 *
 * @author Sean Owen
 */

var DataBlock =
/** @class */
function () {
  function DataBlock(numDataCodewords
  /*int*/
  , codewords) {
    this.numDataCodewords = numDataCodewords;
    this.codewords = codewords;
  }
  /**
   * <p>When QR Codes use multiple data blocks, they are actually interleaved.
   * That is, the first byte of data block 1 to n is written, then the second bytes, and so on. This
   * method will separate the data into original blocks.</p>
   *
   * @param rawCodewords bytes as read directly from the QR Code
   * @param version version of the QR Code
   * @param ecLevel error-correction level of the QR Code
   * @return DataBlocks containing original bytes, "de-interleaved" from representation in the
   *         QR Code
   */


  DataBlock.getDataBlocks = function (rawCodewords, version, ecLevel) {
    var e_1, _a, e_2, _b;

    if (rawCodewords.length !== version.getTotalCodewords()) {
      throw new IllegalArgumentException();
    } // Figure out the number and size of data blocks used by this version and
    // error correction level


    var ecBlocks = version.getECBlocksForLevel(ecLevel); // First count the total number of data blocks

    var totalBlocks = 0;
    var ecBlockArray = ecBlocks.getECBlocks();

    try {
      for (var ecBlockArray_1 = __values$h(ecBlockArray), ecBlockArray_1_1 = ecBlockArray_1.next(); !ecBlockArray_1_1.done; ecBlockArray_1_1 = ecBlockArray_1.next()) {
        var ecBlock = ecBlockArray_1_1.value;
        totalBlocks += ecBlock.getCount();
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (ecBlockArray_1_1 && !ecBlockArray_1_1.done && (_a = ecBlockArray_1.return)) _a.call(ecBlockArray_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    } // Now establish DataBlocks of the appropriate size and number of data codewords


    var result = new Array(totalBlocks);
    var numResultBlocks = 0;

    try {
      for (var ecBlockArray_2 = __values$h(ecBlockArray), ecBlockArray_2_1 = ecBlockArray_2.next(); !ecBlockArray_2_1.done; ecBlockArray_2_1 = ecBlockArray_2.next()) {
        var ecBlock = ecBlockArray_2_1.value;

        for (var i = 0; i < ecBlock.getCount(); i++) {
          var numDataCodewords = ecBlock.getDataCodewords();
          var numBlockCodewords = ecBlocks.getECCodewordsPerBlock() + numDataCodewords;
          result[numResultBlocks++] = new DataBlock(numDataCodewords, new Uint8Array(numBlockCodewords));
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (ecBlockArray_2_1 && !ecBlockArray_2_1.done && (_b = ecBlockArray_2.return)) _b.call(ecBlockArray_2);
      } finally {
        if (e_2) throw e_2.error;
      }
    } // All blocks have the same amount of data, except that the last n
    // (where n may be 0) have 1 more byte. Figure out where these start.


    var shorterBlocksTotalCodewords = result[0].codewords.length;
    var longerBlocksStartAt = result.length - 1; // TYPESCRIPTPORT: check length is correct here

    while (longerBlocksStartAt >= 0) {
      var numCodewords = result[longerBlocksStartAt].codewords.length;

      if (numCodewords === shorterBlocksTotalCodewords) {
        break;
      }

      longerBlocksStartAt--;
    }

    longerBlocksStartAt++;
    var shorterBlocksNumDataCodewords = shorterBlocksTotalCodewords - ecBlocks.getECCodewordsPerBlock(); // The last elements of result may be 1 element longer
    // first fill out as many elements as all of them have

    var rawCodewordsOffset = 0;

    for (var i = 0; i < shorterBlocksNumDataCodewords; i++) {
      for (var j = 0; j < numResultBlocks; j++) {
        result[j].codewords[i] = rawCodewords[rawCodewordsOffset++];
      }
    } // Fill out the last data block in the longer ones


    for (var j = longerBlocksStartAt; j < numResultBlocks; j++) {
      result[j].codewords[shorterBlocksNumDataCodewords] = rawCodewords[rawCodewordsOffset++];
    } // Now add in error correction blocks


    var max = result[0].codewords.length;

    for (var i = shorterBlocksNumDataCodewords; i < max; i++) {
      for (var j = 0; j < numResultBlocks; j++) {
        var iOffset = j < longerBlocksStartAt ? i : i + 1;
        result[j].codewords[iOffset] = rawCodewords[rawCodewordsOffset++];
      }
    }

    return result;
  };

  DataBlock.prototype.getNumDataCodewords = function () {
    return this.numDataCodewords;
  };

  DataBlock.prototype.getCodewords = function () {
    return this.codewords;
  };

  return DataBlock;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ModeValues;

(function (ModeValues) {
  ModeValues[ModeValues["TERMINATOR"] = 0] = "TERMINATOR";
  ModeValues[ModeValues["NUMERIC"] = 1] = "NUMERIC";
  ModeValues[ModeValues["ALPHANUMERIC"] = 2] = "ALPHANUMERIC";
  ModeValues[ModeValues["STRUCTURED_APPEND"] = 3] = "STRUCTURED_APPEND";
  ModeValues[ModeValues["BYTE"] = 4] = "BYTE";
  ModeValues[ModeValues["ECI"] = 5] = "ECI";
  ModeValues[ModeValues["KANJI"] = 6] = "KANJI";
  ModeValues[ModeValues["FNC1_FIRST_POSITION"] = 7] = "FNC1_FIRST_POSITION";
  ModeValues[ModeValues["FNC1_SECOND_POSITION"] = 8] = "FNC1_SECOND_POSITION";
  /** See GBT 18284-2000; "Hanzi" is a transliteration of this mode name. */

  ModeValues[ModeValues["HANZI"] = 9] = "HANZI";
})(ModeValues || (ModeValues = {}));
/**
 * <p>See ISO 18004:2006, 6.4.1, Tables 2 and 3. This enum encapsulates the various modes in which
 * data can be encoded to bits in the QR code standard.</p>
 *
 * @author Sean Owen
 */


var Mode$1 =
/** @class */
function () {
  function Mode(value, stringValue, characterCountBitsForVersions, bits
  /*int*/
  ) {
    this.value = value;
    this.stringValue = stringValue;
    this.characterCountBitsForVersions = characterCountBitsForVersions;
    this.bits = bits;
    Mode.FOR_BITS.set(bits, this);
    Mode.FOR_VALUE.set(value, this);
  }
  /**
   * @param bits four bits encoding a QR Code data mode
   * @return Mode encoded by these bits
   * @throws IllegalArgumentException if bits do not correspond to a known mode
   */


  Mode.forBits = function (bits
  /*int*/
  ) {
    var mode = Mode.FOR_BITS.get(bits);

    if (undefined === mode) {
      throw new IllegalArgumentException();
    }

    return mode;
  };
  /**
   * @param version version in question
   * @return number of bits used, in this QR Code symbol {@link Version}, to encode the
   *         count of characters that will follow encoded in this Mode
   */


  Mode.prototype.getCharacterCountBits = function (version) {
    var versionNumber = version.getVersionNumber();
    var offset;

    if (versionNumber <= 9) {
      offset = 0;
    } else if (versionNumber <= 26) {
      offset = 1;
    } else {
      offset = 2;
    }

    return this.characterCountBitsForVersions[offset];
  };

  Mode.prototype.getValue = function () {
    return this.value;
  };

  Mode.prototype.getBits = function () {
    return this.bits;
  };

  Mode.prototype.equals = function (o) {
    if (!(o instanceof Mode)) {
      return false;
    }

    var other = o;
    return this.value === other.value;
  };

  Mode.prototype.toString = function () {
    return this.stringValue;
  };

  Mode.FOR_BITS = new Map();
  Mode.FOR_VALUE = new Map();
  Mode.TERMINATOR = new Mode(ModeValues.TERMINATOR, 'TERMINATOR', Int32Array.from([0, 0, 0]), 0x00); // Not really a mode...

  Mode.NUMERIC = new Mode(ModeValues.NUMERIC, 'NUMERIC', Int32Array.from([10, 12, 14]), 0x01);
  Mode.ALPHANUMERIC = new Mode(ModeValues.ALPHANUMERIC, 'ALPHANUMERIC', Int32Array.from([9, 11, 13]), 0x02);
  Mode.STRUCTURED_APPEND = new Mode(ModeValues.STRUCTURED_APPEND, 'STRUCTURED_APPEND', Int32Array.from([0, 0, 0]), 0x03); // Not supported

  Mode.BYTE = new Mode(ModeValues.BYTE, 'BYTE', Int32Array.from([8, 16, 16]), 0x04);
  Mode.ECI = new Mode(ModeValues.ECI, 'ECI', Int32Array.from([0, 0, 0]), 0x07); // character counts don't apply

  Mode.KANJI = new Mode(ModeValues.KANJI, 'KANJI', Int32Array.from([8, 10, 12]), 0x08);
  Mode.FNC1_FIRST_POSITION = new Mode(ModeValues.FNC1_FIRST_POSITION, 'FNC1_FIRST_POSITION', Int32Array.from([0, 0, 0]), 0x05);
  Mode.FNC1_SECOND_POSITION = new Mode(ModeValues.FNC1_SECOND_POSITION, 'FNC1_SECOND_POSITION', Int32Array.from([0, 0, 0]), 0x09);
  /** See GBT 18284-2000; "Hanzi" is a transliteration of this mode name. */

  Mode.HANZI = new Mode(ModeValues.HANZI, 'HANZI', Int32Array.from([8, 10, 12]), 0x0D);
  return Mode;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*import java.io.UnsupportedEncodingException;*/

/*import java.util.ArrayList;*/

/*import java.util.Collection;*/

/*import java.util.List;*/

/*import java.util.Map;*/

/**
 * <p>QR Codes can encode text as bits in one of several modes, and can use multiple modes
 * in one QR Code. This class decodes the bits back into text.</p>
 *
 * <p>See ISO 18004:2006, 6.4.3 - 6.4.7</p>
 *
 * @author Sean Owen
 */

var DecodedBitStreamParser$1 =
/** @class */
function () {
  function DecodedBitStreamParser() {}

  DecodedBitStreamParser.decode = function (bytes, version, ecLevel, hints) {
    var bits = new BitSource(bytes);
    var result = new StringBuilder();
    var byteSegments = new Array(); // 1
    // TYPESCRIPTPORT: I do not use constructor with size 1 as in original Java means capacity and the array length is checked below

    var symbolSequence = -1;
    var parityData = -1;

    try {
      var currentCharacterSetECI = null;
      var fc1InEffect = false;
      var mode = void 0;

      do {
        // While still another segment to read...
        if (bits.available() < 4) {
          // OK, assume we're done. Really, a TERMINATOR mode should have been recorded here
          mode = Mode$1.TERMINATOR;
        } else {
          var modeBits = bits.readBits(4);
          mode = Mode$1.forBits(modeBits); // mode is encoded by 4 bits
        }

        switch (mode) {
          case Mode$1.TERMINATOR:
            break;

          case Mode$1.FNC1_FIRST_POSITION:
          case Mode$1.FNC1_SECOND_POSITION:
            // We do little with FNC1 except alter the parsed result a bit according to the spec
            fc1InEffect = true;
            break;

          case Mode$1.STRUCTURED_APPEND:
            if (bits.available() < 16) {
              throw new FormatException();
            } // sequence number and parity is added later to the result metadata
            // Read next 8 bits (symbol sequence #) and 8 bits (data: parity), then continue


            symbolSequence = bits.readBits(8);
            parityData = bits.readBits(8);
            break;

          case Mode$1.ECI:
            // Count doesn't apply to ECI
            var value = DecodedBitStreamParser.parseECIValue(bits);
            currentCharacterSetECI = CharacterSetECI.getCharacterSetECIByValue(value);

            if (currentCharacterSetECI === null) {
              throw new FormatException();
            }

            break;

          case Mode$1.HANZI:
            // First handle Hanzi mode which does not start with character count
            // Chinese mode contains a sub set indicator right after mode indicator
            var subset = bits.readBits(4);
            var countHanzi = bits.readBits(mode.getCharacterCountBits(version));

            if (subset === DecodedBitStreamParser.GB2312_SUBSET) {
              DecodedBitStreamParser.decodeHanziSegment(bits, result, countHanzi);
            }

            break;

          default:
            // "Normal" QR code modes:
            // How many characters will follow, encoded in this mode?
            var count = bits.readBits(mode.getCharacterCountBits(version));

            switch (mode) {
              case Mode$1.NUMERIC:
                DecodedBitStreamParser.decodeNumericSegment(bits, result, count);
                break;

              case Mode$1.ALPHANUMERIC:
                DecodedBitStreamParser.decodeAlphanumericSegment(bits, result, count, fc1InEffect);
                break;

              case Mode$1.BYTE:
                DecodedBitStreamParser.decodeByteSegment(bits, result, count, currentCharacterSetECI, byteSegments, hints);
                break;

              case Mode$1.KANJI:
                DecodedBitStreamParser.decodeKanjiSegment(bits, result, count);
                break;

              default:
                throw new FormatException();
            }

            break;
        }
      } while (mode !== Mode$1.TERMINATOR);
    } catch (iae
    /*: IllegalArgumentException*/
    ) {
      // from readBits() calls
      throw new FormatException();
    }

    return new DecoderResult(bytes, result.toString(), byteSegments.length === 0 ? null : byteSegments, ecLevel === null ? null : ecLevel.toString(), symbolSequence, parityData);
  };
  /**
   * See specification GBT 18284-2000
   */


  DecodedBitStreamParser.decodeHanziSegment = function (bits, result, count
  /*int*/
  ) {
    // Don't crash trying to read more bits than we have available.
    if (count * 13 > bits.available()) {
      throw new FormatException();
    } // Each character will require 2 bytes. Read the characters as 2-byte pairs
    // and decode as GB2312 afterwards


    var buffer = new Uint8Array(2 * count);
    var offset = 0;

    while (count > 0) {
      // Each 13 bits encodes a 2-byte character
      var twoBytes = bits.readBits(13);
      var assembledTwoBytes = twoBytes / 0x060 << 8 & 0xFFFFFFFF | twoBytes % 0x060;

      if (assembledTwoBytes < 0x003BF) {
        // In the 0xA1A1 to 0xAAFE range
        assembledTwoBytes += 0x0A1A1;
      } else {
        // In the 0xB0A1 to 0xFAFE range
        assembledTwoBytes += 0x0A6A1;
      }

      buffer[offset] =
      /*(byte) */
      assembledTwoBytes >> 8 & 0xFF;
      buffer[offset + 1] =
      /*(byte) */
      assembledTwoBytes & 0xFF;
      offset += 2;
      count--;
    }

    try {
      result.append(StringEncoding.decode(buffer, StringUtils.GB2312)); // TYPESCRIPTPORT: TODO: implement GB2312 decode. StringView from MDN could be a starting point
    } catch (ignored
    /*: UnsupportedEncodingException*/
    ) {
      throw new FormatException(ignored);
    }
  };

  DecodedBitStreamParser.decodeKanjiSegment = function (bits, result, count
  /*int*/
  ) {
    // Don't crash trying to read more bits than we have available.
    if (count * 13 > bits.available()) {
      throw new FormatException();
    } // Each character will require 2 bytes. Read the characters as 2-byte pairs
    // and decode as Shift_JIS afterwards


    var buffer = new Uint8Array(2 * count);
    var offset = 0;

    while (count > 0) {
      // Each 13 bits encodes a 2-byte character
      var twoBytes = bits.readBits(13);
      var assembledTwoBytes = twoBytes / 0x0C0 << 8 & 0xFFFFFFFF | twoBytes % 0x0C0;

      if (assembledTwoBytes < 0x01F00) {
        // In the 0x8140 to 0x9FFC range
        assembledTwoBytes += 0x08140;
      } else {
        // In the 0xE040 to 0xEBBF range
        assembledTwoBytes += 0x0C140;
      }

      buffer[offset] =
      /*(byte) */
      assembledTwoBytes >> 8;
      buffer[offset + 1] =
      /*(byte) */
      assembledTwoBytes;
      offset += 2;
      count--;
    } // Shift_JIS may not be supported in some environments:


    try {
      result.append(StringEncoding.decode(buffer, StringUtils.SHIFT_JIS)); // TYPESCRIPTPORT: TODO: implement SHIFT_JIS decode. StringView from MDN could be a starting point
    } catch (ignored
    /*: UnsupportedEncodingException*/
    ) {
      throw new FormatException(ignored);
    }
  };

  DecodedBitStreamParser.decodeByteSegment = function (bits, result, count
  /*int*/
  , currentCharacterSetECI, byteSegments, hints) {
    // Don't crash trying to read more bits than we have available.
    if (8 * count > bits.available()) {
      throw new FormatException();
    }

    var readBytes = new Uint8Array(count);

    for (var i = 0; i < count; i++) {
      readBytes[i] =
      /*(byte) */
      bits.readBits(8);
    }

    var encoding;

    if (currentCharacterSetECI === null) {
      // The spec isn't clear on this mode; see
      // section 6.4.5: t does not say which encoding to assuming
      // upon decoding. I have seen ISO-8859-1 used as well as
      // Shift_JIS -- without anything like an ECI designator to
      // give a hint.
      encoding = StringUtils.guessEncoding(readBytes, hints);
    } else {
      encoding = currentCharacterSetECI.getName();
    }

    try {
      result.append(StringEncoding.decode(readBytes, encoding));
    } catch (ignored
    /*: UnsupportedEncodingException*/
    ) {
      throw new FormatException(ignored);
    }

    byteSegments.push(readBytes);
  };

  DecodedBitStreamParser.toAlphaNumericChar = function (value
  /*int*/
  ) {
    if (value >= DecodedBitStreamParser.ALPHANUMERIC_CHARS.length) {
      throw new FormatException();
    }

    return DecodedBitStreamParser.ALPHANUMERIC_CHARS[value];
  };

  DecodedBitStreamParser.decodeAlphanumericSegment = function (bits, result, count
  /*int*/
  , fc1InEffect) {
    // Read two characters at a time
    var start = result.length();

    while (count > 1) {
      if (bits.available() < 11) {
        throw new FormatException();
      }

      var nextTwoCharsBits = bits.readBits(11);
      result.append(DecodedBitStreamParser.toAlphaNumericChar(Math.floor(nextTwoCharsBits / 45)));
      result.append(DecodedBitStreamParser.toAlphaNumericChar(nextTwoCharsBits % 45));
      count -= 2;
    }

    if (count === 1) {
      // special case: one character left
      if (bits.available() < 6) {
        throw new FormatException();
      }

      result.append(DecodedBitStreamParser.toAlphaNumericChar(bits.readBits(6)));
    } // See section 6.4.8.1, 6.4.8.2


    if (fc1InEffect) {
      // We need to massage the result a bit if in an FNC1 mode:
      for (var i = start; i < result.length(); i++) {
        if (result.charAt(i) === '%') {
          if (i < result.length() - 1 && result.charAt(i + 1) === '%') {
            // %% is rendered as %
            result.deleteCharAt(i + 1);
          } else {
            // In alpha mode, % should be converted to FNC1 separator 0x1D
            result.setCharAt(i, String.fromCharCode(0x1D));
          }
        }
      }
    }
  };

  DecodedBitStreamParser.decodeNumericSegment = function (bits, result, count
  /*int*/
  ) {
    // Read three digits at a time
    while (count >= 3) {
      // Each 10 bits encodes three digits
      if (bits.available() < 10) {
        throw new FormatException();
      }

      var threeDigitsBits = bits.readBits(10);

      if (threeDigitsBits >= 1000) {
        throw new FormatException();
      }

      result.append(DecodedBitStreamParser.toAlphaNumericChar(Math.floor(threeDigitsBits / 100)));
      result.append(DecodedBitStreamParser.toAlphaNumericChar(Math.floor(threeDigitsBits / 10) % 10));
      result.append(DecodedBitStreamParser.toAlphaNumericChar(threeDigitsBits % 10));
      count -= 3;
    }

    if (count === 2) {
      // Two digits left over to read, encoded in 7 bits
      if (bits.available() < 7) {
        throw new FormatException();
      }

      var twoDigitsBits = bits.readBits(7);

      if (twoDigitsBits >= 100) {
        throw new FormatException();
      }

      result.append(DecodedBitStreamParser.toAlphaNumericChar(Math.floor(twoDigitsBits / 10)));
      result.append(DecodedBitStreamParser.toAlphaNumericChar(twoDigitsBits % 10));
    } else if (count === 1) {
      // One digit left over to read
      if (bits.available() < 4) {
        throw new FormatException();
      }

      var digitBits = bits.readBits(4);

      if (digitBits >= 10) {
        throw new FormatException();
      }

      result.append(DecodedBitStreamParser.toAlphaNumericChar(digitBits));
    }
  };

  DecodedBitStreamParser.parseECIValue = function (bits) {
    var firstByte = bits.readBits(8);

    if ((firstByte & 0x80) === 0) {
      // just one byte
      return firstByte & 0x7F;
    }

    if ((firstByte & 0xC0) === 0x80) {
      // two bytes
      var secondByte = bits.readBits(8);
      return (firstByte & 0x3F) << 8 & 0xFFFFFFFF | secondByte;
    }

    if ((firstByte & 0xE0) === 0xC0) {
      // three bytes
      var secondThirdBytes = bits.readBits(16);
      return (firstByte & 0x1F) << 16 & 0xFFFFFFFF | secondThirdBytes;
    }

    throw new FormatException();
  };
  /**
   * See ISO 18004:2006, 6.4.4 Table 5
   */


  DecodedBitStreamParser.ALPHANUMERIC_CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:';
  DecodedBitStreamParser.GB2312_SUBSET = 1;
  return DecodedBitStreamParser;
}();
//     const CHUNK_SZ = 0x8000;
//     const c = new StringBuilder();
//     for (let i = 0, length = a.length; i < length; i += CHUNK_SZ) {
//         c.append(String.fromCharCode.apply(null, a.subarray(i, i + CHUNK_SZ)));
//     }
//     return c.toString();
// }

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * Meta-data container for QR Code decoding. Instances of this class may be used to convey information back to the
 * decoding caller. Callers are expected to process this.
 *
 * @see com.google.zxing.common.DecoderResult#getOther()
 */
var QRCodeDecoderMetaData =
/** @class */
function () {
  function QRCodeDecoderMetaData(mirrored) {
    this.mirrored = mirrored;
  }
  /**
   * @return true if the QR Code was mirrored.
   */


  QRCodeDecoderMetaData.prototype.isMirrored = function () {
    return this.mirrored;
  };
  /**
   * Apply the result points' order correction due to mirroring.
   *
   * @param points Array of points to apply mirror correction to.
   */


  QRCodeDecoderMetaData.prototype.applyMirroredCorrection = function (points) {
    if (!this.mirrored || points === null || points.length < 3) {
      return;
    }

    var bottomLeft = points[0];
    points[0] = points[2];
    points[2] = bottomLeft; // No need to 'fix' top-left and alignment pattern.
  };

  return QRCodeDecoderMetaData;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$g = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*import java.util.Map;*/

/**
 * <p>The main class which implements QR Code decoding -- as opposed to locating and extracting
 * the QR Code from an image.</p>
 *
 * @author Sean Owen
 */

var Decoder =
/** @class */
function () {
  function Decoder() {
    this.rsDecoder = new ReedSolomonDecoder(GenericGF.QR_CODE_FIELD_256);
  } // public decode(image: boolean[][]): DecoderResult /*throws ChecksumException, FormatException*/ {
  //   return decode(image, null)
  // }

  /**
   * <p>Convenience method that can decode a QR Code represented as a 2D array of booleans.
   * "true" is taken to mean a black module.</p>
   *
   * @param image booleans representing white/black QR Code modules
   * @param hints decoding hints that should be used to influence decoding
   * @return text and bytes encoded within the QR Code
   * @throws FormatException if the QR Code cannot be decoded
   * @throws ChecksumException if error correction fails
   */


  Decoder.prototype.decodeBooleanArray = function (image, hints) {
    return this.decodeBitMatrix(BitMatrix.parseFromBooleanArray(image), hints);
  }; // public decodeBitMatrix(bits: BitMatrix): DecoderResult /*throws ChecksumException, FormatException*/ {
  //   return decode(bits, null)
  // }

  /**
   * <p>Decodes a QR Code represented as a {@link BitMatrix}. A 1 or "true" is taken to mean a black module.</p>
   *
   * @param bits booleans representing white/black QR Code modules
   * @param hints decoding hints that should be used to influence decoding
   * @return text and bytes encoded within the QR Code
   * @throws FormatException if the QR Code cannot be decoded
   * @throws ChecksumException if error correction fails
   */


  Decoder.prototype.decodeBitMatrix = function (bits, hints) {
    // Construct a parser and read version, error-correction level
    var parser = new BitMatrixParser(bits);
    var ex = null;

    try {
      return this.decodeBitMatrixParser(parser, hints);
    } catch (e
    /*: FormatException, ChecksumException*/
    ) {
      ex = e;
    }

    try {
      // Revert the bit matrix
      parser.remask(); // Will be attempting a mirrored reading of the version and format info.

      parser.setMirror(true); // Preemptively read the version.

      parser.readVersion(); // Preemptively read the format information.

      parser.readFormatInformation();
      /*
       * Since we're here, this means we have successfully detected some kind
       * of version and format information when mirrored. This is a good sign,
       * that the QR code may be mirrored, and we should try once more with a
       * mirrored content.
       */
      // Prepare for a mirrored reading.

      parser.mirror();
      var result = this.decodeBitMatrixParser(parser, hints); // Success! Notify the caller that the code was mirrored.

      result.setOther(new QRCodeDecoderMetaData(true));
      return result;
    } catch (e
    /*FormatException | ChecksumException*/
    ) {
      // Throw the exception from the original reading
      if (ex !== null) {
        throw ex;
      }

      throw e;
    }
  };

  Decoder.prototype.decodeBitMatrixParser = function (parser, hints) {
    var e_1, _a, e_2, _b;

    var version = parser.readVersion();
    var ecLevel = parser.readFormatInformation().getErrorCorrectionLevel(); // Read codewords

    var codewords = parser.readCodewords(); // Separate into data blocks

    var dataBlocks = DataBlock.getDataBlocks(codewords, version, ecLevel); // Count total number of data bytes

    var totalBytes = 0;

    try {
      for (var dataBlocks_1 = __values$g(dataBlocks), dataBlocks_1_1 = dataBlocks_1.next(); !dataBlocks_1_1.done; dataBlocks_1_1 = dataBlocks_1.next()) {
        var dataBlock = dataBlocks_1_1.value;
        totalBytes += dataBlock.getNumDataCodewords();
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (dataBlocks_1_1 && !dataBlocks_1_1.done && (_a = dataBlocks_1.return)) _a.call(dataBlocks_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    var resultBytes = new Uint8Array(totalBytes);
    var resultOffset = 0;

    try {
      // Error-correct and copy data blocks together into a stream of bytes
      for (var dataBlocks_2 = __values$g(dataBlocks), dataBlocks_2_1 = dataBlocks_2.next(); !dataBlocks_2_1.done; dataBlocks_2_1 = dataBlocks_2.next()) {
        var dataBlock = dataBlocks_2_1.value;
        var codewordBytes = dataBlock.getCodewords();
        var numDataCodewords = dataBlock.getNumDataCodewords();
        this.correctErrors(codewordBytes, numDataCodewords);

        for (var i = 0; i < numDataCodewords; i++) {
          resultBytes[resultOffset++] = codewordBytes[i];
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (dataBlocks_2_1 && !dataBlocks_2_1.done && (_b = dataBlocks_2.return)) _b.call(dataBlocks_2);
      } finally {
        if (e_2) throw e_2.error;
      }
    } // Decode the contents of that stream of bytes


    return DecodedBitStreamParser$1.decode(resultBytes, version, ecLevel, hints);
  };
  /**
   * <p>Given data and error-correction codewords received, possibly corrupted by errors, attempts to
   * correct the errors in-place using Reed-Solomon error correction.</p>
   *
   * @param codewordBytes data and error correction codewords
   * @param numDataCodewords number of codewords that are data bytes
   * @throws ChecksumException if error correction fails
   */


  Decoder.prototype.correctErrors = function (codewordBytes, numDataCodewords
  /*int*/
  ) {
    // const numCodewords = codewordBytes.length;
    // First read into an array of ints
    var codewordsInts = new Int32Array(codewordBytes); // TYPESCRIPTPORT: not realy necessary to transform to ints? could redesign everything to work with unsigned bytes?
    // const codewordsInts = new Int32Array(numCodewords)
    // for (let i = 0; i < numCodewords; i++) {
    //   codewordsInts[i] = codewordBytes[i] & 0xFF
    // }

    try {
      this.rsDecoder.decode(codewordsInts, codewordBytes.length - numDataCodewords);
    } catch (ignored
    /*: ReedSolomonException*/
    ) {
      throw new ChecksumException();
    } // Copy back into array of bytes -- only need to worry about the bytes that were data
    // We don't care about errors in the error-correction codewords


    for (var i = 0; i < numDataCodewords; i++) {
      codewordBytes[i] =
      /*(byte) */
      codewordsInts[i];
    }
  };

  return Decoder;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$g = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * <p>Encapsulates an alignment pattern, which are the smaller square patterns found in
 * all but the simplest QR Codes.</p>
 *
 * @author Sean Owen
 */

var AlignmentPattern =
/** @class */
function (_super) {
  __extends$g(AlignmentPattern, _super);

  function AlignmentPattern(posX
  /*float*/
  , posY
  /*float*/
  , estimatedModuleSize
  /*float*/
  ) {
    var _this = _super.call(this, posX, posY) || this;

    _this.estimatedModuleSize = estimatedModuleSize;
    return _this;
  }
  /**
   * <p>Determines if this alignment pattern "about equals" an alignment pattern at the stated
   * position and size -- meaning, it is at nearly the same center with nearly the same size.</p>
   */


  AlignmentPattern.prototype.aboutEquals = function (moduleSize
  /*float*/
  , i
  /*float*/
  , j
  /*float*/
  ) {
    if (Math.abs(i - this.getY()) <= moduleSize && Math.abs(j - this.getX()) <= moduleSize) {
      var moduleSizeDiff = Math.abs(moduleSize - this.estimatedModuleSize);
      return moduleSizeDiff <= 1.0 || moduleSizeDiff <= this.estimatedModuleSize;
    }

    return false;
  };
  /**
   * Combines this object's current estimate of a finder pattern position and module size
   * with a new estimate. It returns a new {@code FinderPattern} containing an average of the two.
   */


  AlignmentPattern.prototype.combineEstimate = function (i
  /*float*/
  , j
  /*float*/
  , newModuleSize
  /*float*/
  ) {
    var combinedX = (this.getX() + j) / 2.0;
    var combinedY = (this.getY() + i) / 2.0;
    var combinedModuleSize = (this.estimatedModuleSize + newModuleSize) / 2.0;
    return new AlignmentPattern(combinedX, combinedY, combinedModuleSize);
  };

  return AlignmentPattern;
}(ResultPoint);

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$f = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*import java.util.ArrayList;*/

/*import java.util.List;*/

/**
 * <p>This class attempts to find alignment patterns in a QR Code. Alignment patterns look like finder
 * patterns but are smaller and appear at regular intervals throughout the image.</p>
 *
 * <p>At the moment this only looks for the bottom-right alignment pattern.</p>
 *
 * <p>This is mostly a simplified copy of {@link FinderPatternFinder}. It is copied,
 * pasted and stripped down here for maximum performance but does unfortunately duplicate
 * some code.</p>
 *
 * <p>This class is thread-safe but not reentrant. Each thread must allocate its own object.</p>
 *
 * @author Sean Owen
 */

var AlignmentPatternFinder =
/** @class */
function () {
  /**
   * <p>Creates a finder that will look in a portion of the whole image.</p>
   *
   * @param image image to search
   * @param startX left column from which to start searching
   * @param startY top row from which to start searching
   * @param width width of region to search
   * @param height height of region to search
   * @param moduleSize estimated module size so far
   */
  function AlignmentPatternFinder(image, startX
  /*int*/
  , startY
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  , moduleSize
  /*float*/
  , resultPointCallback) {
    this.image = image;
    this.startX = startX;
    this.startY = startY;
    this.width = width;
    this.height = height;
    this.moduleSize = moduleSize;
    this.resultPointCallback = resultPointCallback;
    this.possibleCenters = []; // new Array<any>(5))
    // TYPESCRIPTPORT: array initialization without size as the length is checked below

    this.crossCheckStateCount = new Int32Array(3);
  }
  /**
   * <p>This method attempts to find the bottom-right alignment pattern in the image. It is a bit messy since
   * it's pretty performance-critical and so is written to be fast foremost.</p>
   *
   * @return {@link AlignmentPattern} if found
   * @throws NotFoundException if not found
   */


  AlignmentPatternFinder.prototype.find = function () {
    var startX = this.startX;
    var height = this.height;
    var width = this.width;
    var maxJ = startX + width;
    var middleI = this.startY + height / 2; // We are looking for black/white/black modules in 1:1:1 ratio
    // this tracks the number of black/white/black modules seen so far

    var stateCount = new Int32Array(3);
    var image = this.image;

    for (var iGen = 0; iGen < height; iGen++) {
      // Search from middle outwards
      var i = middleI + ((iGen & 0x01) === 0 ? Math.floor((iGen + 1) / 2) : -Math.floor((iGen + 1) / 2));
      stateCount[0] = 0;
      stateCount[1] = 0;
      stateCount[2] = 0;
      var j = startX; // Burn off leading white pixels before anything else; if we start in the middle of
      // a white run, it doesn't make sense to count its length, since we don't know if the
      // white run continued to the left of the start point

      while (j < maxJ && !image.get(j, i)) {
        j++;
      }

      var currentState = 0;

      while (j < maxJ) {
        if (image.get(j, i)) {
          // Black pixel
          if (currentState === 1) {
            // Counting black pixels
            stateCount[1]++;
          } else {
            // Counting white pixels
            if (currentState === 2) {
              // A winner?
              if (this.foundPatternCross(stateCount)) {
                // Yes
                var confirmed = this.handlePossibleCenter(stateCount, i, j);

                if (confirmed !== null) {
                  return confirmed;
                }
              }

              stateCount[0] = stateCount[2];
              stateCount[1] = 1;
              stateCount[2] = 0;
              currentState = 1;
            } else {
              stateCount[++currentState]++;
            }
          }
        } else {
          // White pixel
          if (currentState === 1) {
            // Counting black pixels
            currentState++;
          }

          stateCount[currentState]++;
        }

        j++;
      }

      if (this.foundPatternCross(stateCount)) {
        var confirmed = this.handlePossibleCenter(stateCount, i, maxJ);

        if (confirmed !== null) {
          return confirmed;
        }
      }
    } // Hmm, nothing we saw was observed and confirmed twice. If we had
    // any guess at all, return it.


    if (this.possibleCenters.length !== 0) {
      return this.possibleCenters[0];
    }

    throw new NotFoundException();
  };
  /**
   * Given a count of black/white/black pixels just seen and an end position,
   * figures the location of the center of this black/white/black run.
   */


  AlignmentPatternFinder.centerFromEnd = function (stateCount, end
  /*int*/
  ) {
    return end - stateCount[2] - stateCount[1] / 2.0;
  };
  /**
   * @param stateCount count of black/white/black pixels just read
   * @return true iff the proportions of the counts is close enough to the 1/1/1 ratios
   *         used by alignment patterns to be considered a match
   */


  AlignmentPatternFinder.prototype.foundPatternCross = function (stateCount) {
    var moduleSize = this.moduleSize;
    var maxVariance = moduleSize / 2.0;

    for (var i = 0; i < 3; i++) {
      if (Math.abs(moduleSize - stateCount[i]) >= maxVariance) {
        return false;
      }
    }

    return true;
  };
  /**
   * <p>After a horizontal scan finds a potential alignment pattern, this method
   * "cross-checks" by scanning down vertically through the center of the possible
   * alignment pattern to see if the same proportion is detected.</p>
   *
   * @param startI row where an alignment pattern was detected
   * @param centerJ center of the section that appears to cross an alignment pattern
   * @param maxCount maximum reasonable number of modules that should be
   * observed in any reading state, based on the results of the horizontal scan
   * @return vertical center of alignment pattern, or {@link Float#NaN} if not found
   */


  AlignmentPatternFinder.prototype.crossCheckVertical = function (startI
  /*int*/
  , centerJ
  /*int*/
  , maxCount
  /*int*/
  , originalStateCountTotal
  /*int*/
  ) {
    var image = this.image;
    var maxI = image.getHeight();
    var stateCount = this.crossCheckStateCount;
    stateCount[0] = 0;
    stateCount[1] = 0;
    stateCount[2] = 0; // Start counting up from center

    var i = startI;

    while (i >= 0 && image.get(centerJ, i) && stateCount[1] <= maxCount) {
      stateCount[1]++;
      i--;
    } // If already too many modules in this state or ran off the edge:


    if (i < 0 || stateCount[1] > maxCount) {
      return NaN;
    }

    while (i >= 0 && !image.get(centerJ, i) && stateCount[0] <= maxCount) {
      stateCount[0]++;
      i--;
    }

    if (stateCount[0] > maxCount) {
      return NaN;
    } // Now also count down from center


    i = startI + 1;

    while (i < maxI && image.get(centerJ, i) && stateCount[1] <= maxCount) {
      stateCount[1]++;
      i++;
    }

    if (i === maxI || stateCount[1] > maxCount) {
      return NaN;
    }

    while (i < maxI && !image.get(centerJ, i) && stateCount[2] <= maxCount) {
      stateCount[2]++;
      i++;
    }

    if (stateCount[2] > maxCount) {
      return NaN;
    }

    var stateCountTotal = stateCount[0] + stateCount[1] + stateCount[2];

    if (5 * Math.abs(stateCountTotal - originalStateCountTotal) >= 2 * originalStateCountTotal) {
      return NaN;
    }

    return this.foundPatternCross(stateCount) ? AlignmentPatternFinder.centerFromEnd(stateCount, i) : NaN;
  };
  /**
   * <p>This is called when a horizontal scan finds a possible alignment pattern. It will
   * cross check with a vertical scan, and if successful, will see if this pattern had been
   * found on a previous horizontal scan. If so, we consider it confirmed and conclude we have
   * found the alignment pattern.</p>
   *
   * @param stateCount reading state module counts from horizontal scan
   * @param i row where alignment pattern may be found
   * @param j end of possible alignment pattern in row
   * @return {@link AlignmentPattern} if we have found the same pattern twice, or null if not
   */


  AlignmentPatternFinder.prototype.handlePossibleCenter = function (stateCount, i
  /*int*/
  , j
  /*int*/
  ) {
    var e_1, _a;

    var stateCountTotal = stateCount[0] + stateCount[1] + stateCount[2];
    var centerJ = AlignmentPatternFinder.centerFromEnd(stateCount, j);
    var centerI = this.crossCheckVertical(i,
    /*(int) */
    centerJ, 2 * stateCount[1], stateCountTotal);

    if (!isNaN(centerI)) {
      var estimatedModuleSize = (stateCount[0] + stateCount[1] + stateCount[2]) / 3.0;

      try {
        for (var _b = __values$f(this.possibleCenters), _c = _b.next(); !_c.done; _c = _b.next()) {
          var center = _c.value; // Look for about the same center and module size:

          if (center.aboutEquals(estimatedModuleSize, centerI, centerJ)) {
            return center.combineEstimate(centerI, centerJ, estimatedModuleSize);
          }
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
        } finally {
          if (e_1) throw e_1.error;
        }
      } // Hadn't found this before; save it


      var point = new AlignmentPattern(centerJ, centerI, estimatedModuleSize);
      this.possibleCenters.push(point);

      if (this.resultPointCallback !== null && this.resultPointCallback !== undefined) {
        this.resultPointCallback.foundPossibleResultPoint(point);
      }
    }

    return null;
  };

  return AlignmentPatternFinder;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$f = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * <p>Encapsulates a finder pattern, which are the three square patterns found in
 * the corners of QR Codes. It also encapsulates a count of similar finder patterns,
 * as a convenience to the finder's bookkeeping.</p>
 *
 * @author Sean Owen
 */

var FinderPattern =
/** @class */
function (_super) {
  __extends$f(FinderPattern, _super); // FinderPattern(posX: number/*float*/, posY: number/*float*/, estimatedModuleSize: number/*float*/) {
  //   this(posX, posY, estimatedModuleSize, 1)
  // }


  function FinderPattern(posX
  /*float*/
  , posY
  /*float*/
  , estimatedModuleSize
  /*float*/
  , count
  /*int*/
  ) {
    var _this = _super.call(this, posX, posY) || this;

    _this.estimatedModuleSize = estimatedModuleSize;
    _this.count = count;

    if (undefined === count) {
      _this.count = 1;
    }

    return _this;
  }

  FinderPattern.prototype.getEstimatedModuleSize = function () {
    return this.estimatedModuleSize;
  };

  FinderPattern.prototype.getCount = function () {
    return this.count;
  };
  /*
  void incrementCount() {
    this.count++
  }
   */

  /**
   * <p>Determines if this finder pattern "about equals" a finder pattern at the stated
   * position and size -- meaning, it is at nearly the same center with nearly the same size.</p>
   */


  FinderPattern.prototype.aboutEquals = function (moduleSize
  /*float*/
  , i
  /*float*/
  , j
  /*float*/
  ) {
    if (Math.abs(i - this.getY()) <= moduleSize && Math.abs(j - this.getX()) <= moduleSize) {
      var moduleSizeDiff = Math.abs(moduleSize - this.estimatedModuleSize);
      return moduleSizeDiff <= 1.0 || moduleSizeDiff <= this.estimatedModuleSize;
    }

    return false;
  };
  /**
   * Combines this object's current estimate of a finder pattern position and module size
   * with a new estimate. It returns a new {@code FinderPattern} containing a weighted average
   * based on count.
   */


  FinderPattern.prototype.combineEstimate = function (i
  /*float*/
  , j
  /*float*/
  , newModuleSize
  /*float*/
  ) {
    var combinedCount = this.count + 1;
    var combinedX = (this.count * this.getX() + j) / combinedCount;
    var combinedY = (this.count * this.getY() + i) / combinedCount;
    var combinedModuleSize = (this.count * this.estimatedModuleSize + newModuleSize) / combinedCount;
    return new FinderPattern(combinedX, combinedY, combinedModuleSize, combinedCount);
  };

  return FinderPattern;
}(ResultPoint);

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * <p>Encapsulates information about finder patterns in an image, including the location of
 * the three finder patterns, and their estimated module size.</p>
 *
 * @author Sean Owen
 */
var FinderPatternInfo =
/** @class */
function () {
  function FinderPatternInfo(patternCenters) {
    this.bottomLeft = patternCenters[0];
    this.topLeft = patternCenters[1];
    this.topRight = patternCenters[2];
  }

  FinderPatternInfo.prototype.getBottomLeft = function () {
    return this.bottomLeft;
  };

  FinderPatternInfo.prototype.getTopLeft = function () {
    return this.topLeft;
  };

  FinderPatternInfo.prototype.getTopRight = function () {
    return this.topRight;
  };

  return FinderPatternInfo;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$e = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*import java.io.Serializable;*/

/*import java.util.ArrayList;*/

/*import java.util.Collections;*/

/*import java.util.Comparator;*/

/*import java.util.List;*/

/*import java.util.Map;*/

/**
 * <p>This class attempts to find finder patterns in a QR Code. Finder patterns are the square
 * markers at three corners of a QR Code.</p>
 *
 * <p>This class is thread-safe but not reentrant. Each thread must allocate its own object.
 *
 * @author Sean Owen
 */

var FinderPatternFinder =
/** @class */
function () {
  /**
   * <p>Creates a finder that will search the image for three finder patterns.</p>
   *
   * @param image image to search
   */
  // public constructor(image: BitMatrix) {
  //   this(image, null)
  // }
  function FinderPatternFinder(image, resultPointCallback) {
    this.image = image;
    this.resultPointCallback = resultPointCallback;
    this.possibleCenters = [];
    this.crossCheckStateCount = new Int32Array(5);
    this.resultPointCallback = resultPointCallback;
  }

  FinderPatternFinder.prototype.getImage = function () {
    return this.image;
  };

  FinderPatternFinder.prototype.getPossibleCenters = function () {
    return this.possibleCenters;
  };

  FinderPatternFinder.prototype.find = function (hints) {
    var tryHarder = hints !== null && hints !== undefined && undefined !== hints.get(DecodeHintType$1.TRY_HARDER);
    var pureBarcode = hints !== null && hints !== undefined && undefined !== hints.get(DecodeHintType$1.PURE_BARCODE);
    var image = this.image;
    var maxI = image.getHeight();
    var maxJ = image.getWidth(); // We are looking for black/white/black/white/black modules in
    // 1:1:3:1:1 ratio; this tracks the number of such modules seen so far
    // Let's assume that the maximum version QR Code we support takes up 1/4 the height of the
    // image, and then account for the center being 3 modules in size. This gives the smallest
    // number of pixels the center could be, so skip this often. When trying harder, look for all
    // QR versions regardless of how dense they are.

    var iSkip = Math.floor(3 * maxI / (4 * FinderPatternFinder.MAX_MODULES));

    if (iSkip < FinderPatternFinder.MIN_SKIP || tryHarder) {
      iSkip = FinderPatternFinder.MIN_SKIP;
    }

    var done = false;
    var stateCount = new Int32Array(5);

    for (var i = iSkip - 1; i < maxI && !done; i += iSkip) {
      // Get a row of black/white values
      stateCount[0] = 0;
      stateCount[1] = 0;
      stateCount[2] = 0;
      stateCount[3] = 0;
      stateCount[4] = 0;
      var currentState = 0;

      for (var j = 0; j < maxJ; j++) {
        if (image.get(j, i)) {
          // Black pixel
          if ((currentState & 1) === 1) {
            // Counting white pixels
            currentState++;
          }

          stateCount[currentState]++;
        } else {
          // White pixel
          if ((currentState & 1) === 0) {
            // Counting black pixels
            if (currentState === 4) {
              // A winner?
              if (FinderPatternFinder.foundPatternCross(stateCount)) {
                // Yes
                var confirmed = this.handlePossibleCenter(stateCount, i, j, pureBarcode);

                if (confirmed === true) {
                  // Start examining every other line. Checking each line turned out to be too
                  // expensive and didn't improve performance.
                  iSkip = 2;

                  if (this.hasSkipped === true) {
                    done = this.haveMultiplyConfirmedCenters();
                  } else {
                    var rowSkip = this.findRowSkip();

                    if (rowSkip > stateCount[2]) {
                      // Skip rows between row of lower confirmed center
                      // and top of presumed third confirmed center
                      // but back up a bit to get a full chance of detecting
                      // it, entire width of center of finder pattern
                      // Skip by rowSkip, but back off by stateCount[2] (size of last center
                      // of pattern we saw) to be conservative, and also back off by iSkip which
                      // is about to be re-added
                      i += rowSkip - stateCount[2] - iSkip;
                      j = maxJ - 1;
                    }
                  }
                } else {
                  stateCount[0] = stateCount[2];
                  stateCount[1] = stateCount[3];
                  stateCount[2] = stateCount[4];
                  stateCount[3] = 1;
                  stateCount[4] = 0;
                  currentState = 3;
                  continue;
                } // Clear state to start looking again


                currentState = 0;
                stateCount[0] = 0;
                stateCount[1] = 0;
                stateCount[2] = 0;
                stateCount[3] = 0;
                stateCount[4] = 0;
              } else {
                // No, shift counts back by two
                stateCount[0] = stateCount[2];
                stateCount[1] = stateCount[3];
                stateCount[2] = stateCount[4];
                stateCount[3] = 1;
                stateCount[4] = 0;
                currentState = 3;
              }
            } else {
              stateCount[++currentState]++;
            }
          } else {
            // Counting white pixels
            stateCount[currentState]++;
          }
        }
      }

      if (FinderPatternFinder.foundPatternCross(stateCount)) {
        var confirmed = this.handlePossibleCenter(stateCount, i, maxJ, pureBarcode);

        if (confirmed === true) {
          iSkip = stateCount[0];

          if (this.hasSkipped) {
            // Found a third one
            done = this.haveMultiplyConfirmedCenters();
          }
        }
      }
    }

    var patternInfo = this.selectBestPatterns();
    ResultPoint.orderBestPatterns(patternInfo);
    return new FinderPatternInfo(patternInfo);
  };
  /**
   * Given a count of black/white/black/white/black pixels just seen and an end position,
   * figures the location of the center of this run.
   */


  FinderPatternFinder.centerFromEnd = function (stateCount, end
  /*int*/
  ) {
    return end - stateCount[4] - stateCount[3] - stateCount[2] / 2.0;
  };
  /**
   * @param stateCount count of black/white/black/white/black pixels just read
   * @return true iff the proportions of the counts is close enough to the 1/1/3/1/1 ratios
   *         used by finder patterns to be considered a match
   */


  FinderPatternFinder.foundPatternCross = function (stateCount) {
    var totalModuleSize = 0;

    for (var i = 0; i < 5; i++) {
      var count = stateCount[i];

      if (count === 0) {
        return false;
      }

      totalModuleSize += count;
    }

    if (totalModuleSize < 7) {
      return false;
    }

    var moduleSize = totalModuleSize / 7.0;
    var maxVariance = moduleSize / 2.0; // Allow less than 50% variance from 1-1-3-1-1 proportions

    return Math.abs(moduleSize - stateCount[0]) < maxVariance && Math.abs(moduleSize - stateCount[1]) < maxVariance && Math.abs(3.0 * moduleSize - stateCount[2]) < 3 * maxVariance && Math.abs(moduleSize - stateCount[3]) < maxVariance && Math.abs(moduleSize - stateCount[4]) < maxVariance;
  };

  FinderPatternFinder.prototype.getCrossCheckStateCount = function () {
    var crossCheckStateCount = this.crossCheckStateCount;
    crossCheckStateCount[0] = 0;
    crossCheckStateCount[1] = 0;
    crossCheckStateCount[2] = 0;
    crossCheckStateCount[3] = 0;
    crossCheckStateCount[4] = 0;
    return crossCheckStateCount;
  };
  /**
   * After a vertical and horizontal scan finds a potential finder pattern, this method
   * "cross-cross-cross-checks" by scanning down diagonally through the center of the possible
   * finder pattern to see if the same proportion is detected.
   *
   * @param startI row where a finder pattern was detected
   * @param centerJ center of the section that appears to cross a finder pattern
   * @param maxCount maximum reasonable number of modules that should be
   *  observed in any reading state, based on the results of the horizontal scan
   * @param originalStateCountTotal The original state count total.
   * @return true if proportions are withing expected limits
   */


  FinderPatternFinder.prototype.crossCheckDiagonal = function (startI
  /*int*/
  , centerJ
  /*int*/
  , maxCount
  /*int*/
  , originalStateCountTotal
  /*int*/
  ) {
    var stateCount = this.getCrossCheckStateCount(); // Start counting up, left from center finding black center mass

    var i = 0;
    var image = this.image;

    while (startI >= i && centerJ >= i && image.get(centerJ - i, startI - i)) {
      stateCount[2]++;
      i++;
    }

    if (startI < i || centerJ < i) {
      return false;
    } // Continue up, left finding white space


    while (startI >= i && centerJ >= i && !image.get(centerJ - i, startI - i) && stateCount[1] <= maxCount) {
      stateCount[1]++;
      i++;
    } // If already too many modules in this state or ran off the edge:


    if (startI < i || centerJ < i || stateCount[1] > maxCount) {
      return false;
    } // Continue up, left finding black border


    while (startI >= i && centerJ >= i && image.get(centerJ - i, startI - i) && stateCount[0] <= maxCount) {
      stateCount[0]++;
      i++;
    }

    if (stateCount[0] > maxCount) {
      return false;
    }

    var maxI = image.getHeight();
    var maxJ = image.getWidth(); // Now also count down, right from center

    i = 1;

    while (startI + i < maxI && centerJ + i < maxJ && image.get(centerJ + i, startI + i)) {
      stateCount[2]++;
      i++;
    } // Ran off the edge?


    if (startI + i >= maxI || centerJ + i >= maxJ) {
      return false;
    }

    while (startI + i < maxI && centerJ + i < maxJ && !image.get(centerJ + i, startI + i) && stateCount[3] < maxCount) {
      stateCount[3]++;
      i++;
    }

    if (startI + i >= maxI || centerJ + i >= maxJ || stateCount[3] >= maxCount) {
      return false;
    }

    while (startI + i < maxI && centerJ + i < maxJ && image.get(centerJ + i, startI + i) && stateCount[4] < maxCount) {
      stateCount[4]++;
      i++;
    }

    if (stateCount[4] >= maxCount) {
      return false;
    } // If we found a finder-pattern-like section, but its size is more than 100% different than
    // the original, assume it's a false positive


    var stateCountTotal = stateCount[0] + stateCount[1] + stateCount[2] + stateCount[3] + stateCount[4];
    return Math.abs(stateCountTotal - originalStateCountTotal) < 2 * originalStateCountTotal && FinderPatternFinder.foundPatternCross(stateCount);
  };
  /**
   * <p>After a horizontal scan finds a potential finder pattern, this method
   * "cross-checks" by scanning down vertically through the center of the possible
   * finder pattern to see if the same proportion is detected.</p>
   *
   * @param startI row where a finder pattern was detected
   * @param centerJ center of the section that appears to cross a finder pattern
   * @param maxCount maximum reasonable number of modules that should be
   * observed in any reading state, based on the results of the horizontal scan
   * @return vertical center of finder pattern, or {@link Float#NaN} if not found
   */


  FinderPatternFinder.prototype.crossCheckVertical = function (startI
  /*int*/
  , centerJ
  /*int*/
  , maxCount
  /*int*/
  , originalStateCountTotal
  /*int*/
  ) {
    var image = this.image;
    var maxI = image.getHeight();
    var stateCount = this.getCrossCheckStateCount(); // Start counting up from center

    var i = startI;

    while (i >= 0 && image.get(centerJ, i)) {
      stateCount[2]++;
      i--;
    }

    if (i < 0) {
      return NaN;
    }

    while (i >= 0 && !image.get(centerJ, i) && stateCount[1] <= maxCount) {
      stateCount[1]++;
      i--;
    } // If already too many modules in this state or ran off the edge:


    if (i < 0 || stateCount[1] > maxCount) {
      return NaN;
    }

    while (i >= 0 && image.get(centerJ, i) && stateCount[0] <= maxCount) {
      stateCount[0]++;
      i--;
    }

    if (stateCount[0] > maxCount) {
      return NaN;
    } // Now also count down from center


    i = startI + 1;

    while (i < maxI && image.get(centerJ, i)) {
      stateCount[2]++;
      i++;
    }

    if (i === maxI) {
      return NaN;
    }

    while (i < maxI && !image.get(centerJ, i) && stateCount[3] < maxCount) {
      stateCount[3]++;
      i++;
    }

    if (i === maxI || stateCount[3] >= maxCount) {
      return NaN;
    }

    while (i < maxI && image.get(centerJ, i) && stateCount[4] < maxCount) {
      stateCount[4]++;
      i++;
    }

    if (stateCount[4] >= maxCount) {
      return NaN;
    } // If we found a finder-pattern-like section, but its size is more than 40% different than
    // the original, assume it's a false positive


    var stateCountTotal = stateCount[0] + stateCount[1] + stateCount[2] + stateCount[3] + stateCount[4];

    if (5 * Math.abs(stateCountTotal - originalStateCountTotal) >= 2 * originalStateCountTotal) {
      return NaN;
    }

    return FinderPatternFinder.foundPatternCross(stateCount) ? FinderPatternFinder.centerFromEnd(stateCount, i) : NaN;
  };
  /**
   * <p>Like {@link #crossCheckVertical(int, int, int, int)}, and in fact is basically identical,
   * except it reads horizontally instead of vertically. This is used to cross-cross
   * check a vertical cross check and locate the real center of the alignment pattern.</p>
   */


  FinderPatternFinder.prototype.crossCheckHorizontal = function (startJ
  /*int*/
  , centerI
  /*int*/
  , maxCount
  /*int*/
  , originalStateCountTotal
  /*int*/
  ) {
    var image = this.image;
    var maxJ = image.getWidth();
    var stateCount = this.getCrossCheckStateCount();
    var j = startJ;

    while (j >= 0 && image.get(j, centerI)) {
      stateCount[2]++;
      j--;
    }

    if (j < 0) {
      return NaN;
    }

    while (j >= 0 && !image.get(j, centerI) && stateCount[1] <= maxCount) {
      stateCount[1]++;
      j--;
    }

    if (j < 0 || stateCount[1] > maxCount) {
      return NaN;
    }

    while (j >= 0 && image.get(j, centerI) && stateCount[0] <= maxCount) {
      stateCount[0]++;
      j--;
    }

    if (stateCount[0] > maxCount) {
      return NaN;
    }

    j = startJ + 1;

    while (j < maxJ && image.get(j, centerI)) {
      stateCount[2]++;
      j++;
    }

    if (j === maxJ) {
      return NaN;
    }

    while (j < maxJ && !image.get(j, centerI) && stateCount[3] < maxCount) {
      stateCount[3]++;
      j++;
    }

    if (j === maxJ || stateCount[3] >= maxCount) {
      return NaN;
    }

    while (j < maxJ && image.get(j, centerI) && stateCount[4] < maxCount) {
      stateCount[4]++;
      j++;
    }

    if (stateCount[4] >= maxCount) {
      return NaN;
    } // If we found a finder-pattern-like section, but its size is significantly different than
    // the original, assume it's a false positive


    var stateCountTotal = stateCount[0] + stateCount[1] + stateCount[2] + stateCount[3] + stateCount[4];

    if (5 * Math.abs(stateCountTotal - originalStateCountTotal) >= originalStateCountTotal) {
      return NaN;
    }

    return FinderPatternFinder.foundPatternCross(stateCount) ? FinderPatternFinder.centerFromEnd(stateCount, j) : NaN;
  };
  /**
   * <p>This is called when a horizontal scan finds a possible alignment pattern. It will
   * cross check with a vertical scan, and if successful, will, ah, cross-cross-check
   * with another horizontal scan. This is needed primarily to locate the real horizontal
   * center of the pattern in cases of extreme skew.
   * And then we cross-cross-cross check with another diagonal scan.</p>
   *
   * <p>If that succeeds the finder pattern location is added to a list that tracks
   * the number of times each location has been nearly-matched as a finder pattern.
   * Each additional find is more evidence that the location is in fact a finder
   * pattern center
   *
   * @param stateCount reading state module counts from horizontal scan
   * @param i row where finder pattern may be found
   * @param j end of possible finder pattern in row
   * @param pureBarcode true if in "pure barcode" mode
   * @return true if a finder pattern candidate was found this time
   */


  FinderPatternFinder.prototype.handlePossibleCenter = function (stateCount, i
  /*int*/
  , j
  /*int*/
  , pureBarcode) {
    var stateCountTotal = stateCount[0] + stateCount[1] + stateCount[2] + stateCount[3] + stateCount[4];
    var centerJ = FinderPatternFinder.centerFromEnd(stateCount, j);
    var centerI = this.crossCheckVertical(i,
    /*(int) */
    Math.floor(centerJ), stateCount[2], stateCountTotal);

    if (!isNaN(centerI)) {
      // Re-cross check
      centerJ = this.crossCheckHorizontal(
      /*(int) */
      Math.floor(centerJ),
      /*(int) */
      Math.floor(centerI), stateCount[2], stateCountTotal);

      if (!isNaN(centerJ) && (!pureBarcode || this.crossCheckDiagonal(
      /*(int) */
      Math.floor(centerI),
      /*(int) */
      Math.floor(centerJ), stateCount[2], stateCountTotal))) {
        var estimatedModuleSize = stateCountTotal / 7.0;
        var found = false;
        var possibleCenters = this.possibleCenters;

        for (var index = 0, length_1 = possibleCenters.length; index < length_1; index++) {
          var center = possibleCenters[index]; // Look for about the same center and module size:

          if (center.aboutEquals(estimatedModuleSize, centerI, centerJ)) {
            possibleCenters[index] = center.combineEstimate(centerI, centerJ, estimatedModuleSize);
            found = true;
            break;
          }
        }

        if (!found) {
          var point = new FinderPattern(centerJ, centerI, estimatedModuleSize);
          possibleCenters.push(point);

          if (this.resultPointCallback !== null && this.resultPointCallback !== undefined) {
            this.resultPointCallback.foundPossibleResultPoint(point);
          }
        }

        return true;
      }
    }

    return false;
  };
  /**
   * @return number of rows we could safely skip during scanning, based on the first
   *         two finder patterns that have been located. In some cases their position will
   *         allow us to infer that the third pattern must lie below a certain point farther
   *         down in the image.
   */


  FinderPatternFinder.prototype.findRowSkip = function () {
    var e_1, _a;

    var max = this.possibleCenters.length;

    if (max <= 1) {
      return 0;
    }

    var firstConfirmedCenter = null;

    try {
      for (var _b = __values$e(this.possibleCenters), _c = _b.next(); !_c.done; _c = _b.next()) {
        var center = _c.value;

        if (center.getCount() >= FinderPatternFinder.CENTER_QUORUM) {
          if (firstConfirmedCenter == null) {
            firstConfirmedCenter = center;
          } else {
            // We have two confirmed centers
            // How far down can we skip before resuming looking for the next
            // pattern? In the worst case, only the difference between the
            // difference in the x / y coordinates of the two centers.
            // This is the case where you find top left last.
            this.hasSkipped = true;
            return (
              /*(int) */
              Math.floor((Math.abs(firstConfirmedCenter.getX() - center.getX()) - Math.abs(firstConfirmedCenter.getY() - center.getY())) / 2)
            );
          }
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    return 0;
  };
  /**
   * @return true iff we have found at least 3 finder patterns that have been detected
   *         at least {@link #CENTER_QUORUM} times each, and, the estimated module size of the
   *         candidates is "pretty similar"
   */


  FinderPatternFinder.prototype.haveMultiplyConfirmedCenters = function () {
    var e_2, _a, e_3, _b;

    var confirmedCount = 0;
    var totalModuleSize = 0.0;
    var max = this.possibleCenters.length;

    try {
      for (var _c = __values$e(this.possibleCenters), _d = _c.next(); !_d.done; _d = _c.next()) {
        var pattern = _d.value;

        if (pattern.getCount() >= FinderPatternFinder.CENTER_QUORUM) {
          confirmedCount++;
          totalModuleSize += pattern.getEstimatedModuleSize();
        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
      } finally {
        if (e_2) throw e_2.error;
      }
    }

    if (confirmedCount < 3) {
      return false;
    } // OK, we have at least 3 confirmed centers, but, it's possible that one is a "false positive"
    // and that we need to keep looking. We detect this by asking if the estimated module sizes
    // vary too much. We arbitrarily say that when the total deviation from average exceeds
    // 5% of the total module size estimates, it's too much.


    var average = totalModuleSize / max;
    var totalDeviation = 0.0;

    try {
      for (var _e = __values$e(this.possibleCenters), _f = _e.next(); !_f.done; _f = _e.next()) {
        var pattern = _f.value;
        totalDeviation += Math.abs(pattern.getEstimatedModuleSize() - average);
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
      } finally {
        if (e_3) throw e_3.error;
      }
    }

    return totalDeviation <= 0.05 * totalModuleSize;
  };
  /**
   * @return the 3 best {@link FinderPattern}s from our list of candidates. The "best" are
   *         those that have been detected at least {@link #CENTER_QUORUM} times, and whose module
   *         size differs from the average among those patterns the least
   * @throws NotFoundException if 3 such finder patterns do not exist
   */


  FinderPatternFinder.prototype.selectBestPatterns = function () {
    var e_4, _a, e_5, _b;

    var startSize = this.possibleCenters.length;

    if (startSize < 3) {
      // Couldn't find enough finder patterns
      throw new NotFoundException();
    }

    var possibleCenters = this.possibleCenters;
    var average; // Filter outlier possibilities whose module size is too different

    if (startSize > 3) {
      // But we can only afford to do so if we have at least 4 possibilities to choose from
      var totalModuleSize = 0.0;
      var square = 0.0;

      try {
        for (var _c = __values$e(this.possibleCenters), _d = _c.next(); !_d.done; _d = _c.next()) {
          var center = _d.value;
          var size = center.getEstimatedModuleSize();
          totalModuleSize += size;
          square += size * size;
        }
      } catch (e_4_1) {
        e_4 = {
          error: e_4_1
        };
      } finally {
        try {
          if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
        } finally {
          if (e_4) throw e_4.error;
        }
      }

      average = totalModuleSize / startSize;
      var stdDev = Math.sqrt(square / startSize - average * average);
      possibleCenters.sort(
      /**
       * <p>Orders by furthest from average</p>
       */
      // FurthestFromAverageComparator implements Comparator<FinderPattern>
      function (center1, center2) {
        var dA = Math.abs(center2.getEstimatedModuleSize() - average);
        var dB = Math.abs(center1.getEstimatedModuleSize() - average);
        return dA < dB ? -1 : dA > dB ? 1 : 0;
      });
      var limit = Math.max(0.2 * average, stdDev);

      for (var i = 0; i < possibleCenters.length && possibleCenters.length > 3; i++) {
        var pattern = possibleCenters[i];

        if (Math.abs(pattern.getEstimatedModuleSize() - average) > limit) {
          possibleCenters.splice(i, 1);
          i--;
        }
      }
    }

    if (possibleCenters.length > 3) {
      // Throw away all but those first size candidate points we found.
      var totalModuleSize = 0.0;

      try {
        for (var possibleCenters_1 = __values$e(possibleCenters), possibleCenters_1_1 = possibleCenters_1.next(); !possibleCenters_1_1.done; possibleCenters_1_1 = possibleCenters_1.next()) {
          var possibleCenter = possibleCenters_1_1.value;
          totalModuleSize += possibleCenter.getEstimatedModuleSize();
        }
      } catch (e_5_1) {
        e_5 = {
          error: e_5_1
        };
      } finally {
        try {
          if (possibleCenters_1_1 && !possibleCenters_1_1.done && (_b = possibleCenters_1.return)) _b.call(possibleCenters_1);
        } finally {
          if (e_5) throw e_5.error;
        }
      }

      average = totalModuleSize / possibleCenters.length;
      possibleCenters.sort(
      /**
       * <p>Orders by {@link FinderPattern#getCount()}, descending.</p>
       */
      // CenterComparator implements Comparator<FinderPattern>
      function (center1, center2) {
        if (center2.getCount() === center1.getCount()) {
          var dA = Math.abs(center2.getEstimatedModuleSize() - average);
          var dB = Math.abs(center1.getEstimatedModuleSize() - average);
          return dA < dB ? 1 : dA > dB ? -1 : 0;
        } else {
          return center2.getCount() - center1.getCount();
        }
      });
      possibleCenters.splice(3); // this is not realy necessary as we only return first 3 anyway
    }

    return [possibleCenters[0], possibleCenters[1], possibleCenters[2]];
  };

  FinderPatternFinder.CENTER_QUORUM = 2;
  FinderPatternFinder.MIN_SKIP = 3; // 1 pixel/module times 3 modules/center

  FinderPatternFinder.MAX_MODULES = 57; // support up to version 10 for mobile clients

  return FinderPatternFinder;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*import java.util.Map;*/

/**
 * <p>Encapsulates logic that can detect a QR Code in an image, even if the QR Code
 * is rotated or skewed, or partially obscured.</p>
 *
 * @author Sean Owen
 */

var Detector$1 =
/** @class */
function () {
  function Detector(image) {
    this.image = image;
  }

  Detector.prototype.getImage = function () {
    return this.image;
  };

  Detector.prototype.getResultPointCallback = function () {
    return this.resultPointCallback;
  };
  /**
   * <p>Detects a QR Code in an image.</p>
   *
   * @return {@link DetectorResult} encapsulating results of detecting a QR Code
   * @throws NotFoundException if QR Code cannot be found
   * @throws FormatException if a QR Code cannot be decoded
   */
  // public detect(): DetectorResult /*throws NotFoundException, FormatException*/ {
  //   return detect(null)
  // }

  /**
   * <p>Detects a QR Code in an image.</p>
   *
   * @param hints optional hints to detector
   * @return {@link DetectorResult} encapsulating results of detecting a QR Code
   * @throws NotFoundException if QR Code cannot be found
   * @throws FormatException if a QR Code cannot be decoded
   */


  Detector.prototype.detect = function (hints) {
    this.resultPointCallback = hints === null || hints === undefined ? null :
    /*(ResultPointCallback) */
    hints.get(DecodeHintType$1.NEED_RESULT_POINT_CALLBACK);
    var finder = new FinderPatternFinder(this.image, this.resultPointCallback);
    var info = finder.find(hints);
    return this.processFinderPatternInfo(info);
  };

  Detector.prototype.processFinderPatternInfo = function (info) {
    var topLeft = info.getTopLeft();
    var topRight = info.getTopRight();
    var bottomLeft = info.getBottomLeft();
    var moduleSize = this.calculateModuleSize(topLeft, topRight, bottomLeft);

    if (moduleSize < 1.0) {
      throw new NotFoundException('No pattern found in proccess finder.');
    }

    var dimension = Detector.computeDimension(topLeft, topRight, bottomLeft, moduleSize);
    var provisionalVersion = Version.getProvisionalVersionForDimension(dimension);
    var modulesBetweenFPCenters = provisionalVersion.getDimensionForVersion() - 7;
    var alignmentPattern = null; // Anything above version 1 has an alignment pattern

    if (provisionalVersion.getAlignmentPatternCenters().length > 0) {
      // Guess where a "bottom right" finder pattern would have been
      var bottomRightX = topRight.getX() - topLeft.getX() + bottomLeft.getX();
      var bottomRightY = topRight.getY() - topLeft.getY() + bottomLeft.getY(); // Estimate that alignment pattern is closer by 3 modules
      // from "bottom right" to known top left location

      var correctionToTopLeft = 1.0 - 3.0 / modulesBetweenFPCenters;
      var estAlignmentX =
      /*(int) */
      Math.floor(topLeft.getX() + correctionToTopLeft * (bottomRightX - topLeft.getX()));
      var estAlignmentY =
      /*(int) */
      Math.floor(topLeft.getY() + correctionToTopLeft * (bottomRightY - topLeft.getY())); // Kind of arbitrary -- expand search radius before giving up

      for (var i = 4; i <= 16; i <<= 1) {
        try {
          alignmentPattern = this.findAlignmentInRegion(moduleSize, estAlignmentX, estAlignmentY, i);
          break;
        } catch (re
        /*NotFoundException*/
        ) {
          if (!(re instanceof NotFoundException)) {
            throw re;
          } // try next round

        }
      } // If we didn't find alignment pattern... well try anyway without it

    }

    var transform = Detector.createTransform(topLeft, topRight, bottomLeft, alignmentPattern, dimension);
    var bits = Detector.sampleGrid(this.image, transform, dimension);
    var points;

    if (alignmentPattern === null) {
      points = [bottomLeft, topLeft, topRight];
    } else {
      points = [bottomLeft, topLeft, topRight, alignmentPattern];
    }

    return new DetectorResult(bits, points);
  };

  Detector.createTransform = function (topLeft, topRight, bottomLeft, alignmentPattern, dimension
  /*int*/
  ) {
    var dimMinusThree = dimension - 3.5;
    var bottomRightX;
    /*float*/

    var bottomRightY;
    /*float*/

    var sourceBottomRightX;
    /*float*/

    var sourceBottomRightY;
    /*float*/

    if (alignmentPattern !== null) {
      bottomRightX = alignmentPattern.getX();
      bottomRightY = alignmentPattern.getY();
      sourceBottomRightX = dimMinusThree - 3.0;
      sourceBottomRightY = sourceBottomRightX;
    } else {
      // Don't have an alignment pattern, just make up the bottom-right point
      bottomRightX = topRight.getX() - topLeft.getX() + bottomLeft.getX();
      bottomRightY = topRight.getY() - topLeft.getY() + bottomLeft.getY();
      sourceBottomRightX = dimMinusThree;
      sourceBottomRightY = dimMinusThree;
    }

    return PerspectiveTransform.quadrilateralToQuadrilateral(3.5, 3.5, dimMinusThree, 3.5, sourceBottomRightX, sourceBottomRightY, 3.5, dimMinusThree, topLeft.getX(), topLeft.getY(), topRight.getX(), topRight.getY(), bottomRightX, bottomRightY, bottomLeft.getX(), bottomLeft.getY());
  };

  Detector.sampleGrid = function (image, transform, dimension
  /*int*/
  ) {
    var sampler = GridSamplerInstance.getInstance();
    return sampler.sampleGridWithTransform(image, dimension, dimension, transform);
  };
  /**
   * <p>Computes the dimension (number of modules on a size) of the QR Code based on the position
   * of the finder patterns and estimated module size.</p>
   */


  Detector.computeDimension = function (topLeft, topRight, bottomLeft, moduleSize
  /*float*/
  ) {
    var tltrCentersDimension = MathUtils.round(ResultPoint.distance(topLeft, topRight) / moduleSize);
    var tlblCentersDimension = MathUtils.round(ResultPoint.distance(topLeft, bottomLeft) / moduleSize);
    var dimension = Math.floor((tltrCentersDimension + tlblCentersDimension) / 2) + 7;

    switch (dimension & 0x03) {
      // mod 4
      case 0:
        dimension++;
        break;
      // 1? do nothing

      case 2:
        dimension--;
        break;

      case 3:
        throw new NotFoundException('Dimensions could be not found.');
    }

    return dimension;
  };
  /**
   * <p>Computes an average estimated module size based on estimated derived from the positions
   * of the three finder patterns.</p>
   *
   * @param topLeft detected top-left finder pattern center
   * @param topRight detected top-right finder pattern center
   * @param bottomLeft detected bottom-left finder pattern center
   * @return estimated module size
   */


  Detector.prototype.calculateModuleSize = function (topLeft, topRight, bottomLeft) {
    // Take the average
    return (this.calculateModuleSizeOneWay(topLeft, topRight) + this.calculateModuleSizeOneWay(topLeft, bottomLeft)) / 2.0;
  };
  /**
   * <p>Estimates module size based on two finder patterns -- it uses
   * {@link #sizeOfBlackWhiteBlackRunBothWays(int, int, int, int)} to figure the
   * width of each, measuring along the axis between their centers.</p>
   */


  Detector.prototype.calculateModuleSizeOneWay = function (pattern, otherPattern) {
    var moduleSizeEst1 = this.sizeOfBlackWhiteBlackRunBothWays(
    /*(int) */
    Math.floor(pattern.getX()),
    /*(int) */
    Math.floor(pattern.getY()),
    /*(int) */
    Math.floor(otherPattern.getX()),
    /*(int) */
    Math.floor(otherPattern.getY()));
    var moduleSizeEst2 = this.sizeOfBlackWhiteBlackRunBothWays(
    /*(int) */
    Math.floor(otherPattern.getX()),
    /*(int) */
    Math.floor(otherPattern.getY()),
    /*(int) */
    Math.floor(pattern.getX()),
    /*(int) */
    Math.floor(pattern.getY()));

    if (isNaN(moduleSizeEst1)) {
      return moduleSizeEst2 / 7.0;
    }

    if (isNaN(moduleSizeEst2)) {
      return moduleSizeEst1 / 7.0;
    } // Average them, and divide by 7 since we've counted the width of 3 black modules,
    // and 1 white and 1 black module on either side. Ergo, divide sum by 14.


    return (moduleSizeEst1 + moduleSizeEst2) / 14.0;
  };
  /**
   * See {@link #sizeOfBlackWhiteBlackRun(int, int, int, int)}; computes the total width of
   * a finder pattern by looking for a black-white-black run from the center in the direction
   * of another point (another finder pattern center), and in the opposite direction too.
   */


  Detector.prototype.sizeOfBlackWhiteBlackRunBothWays = function (fromX
  /*int*/
  , fromY
  /*int*/
  , toX
  /*int*/
  , toY
  /*int*/
  ) {
    var result = this.sizeOfBlackWhiteBlackRun(fromX, fromY, toX, toY); // Now count other way -- don't run off image though of course

    var scale = 1.0;
    var otherToX = fromX - (toX - fromX);

    if (otherToX < 0) {
      scale = fromX / (
      /*(float) */
      fromX - otherToX);
      otherToX = 0;
    } else if (otherToX >= this.image.getWidth()) {
      scale = (this.image.getWidth() - 1 - fromX) / (
      /*(float) */
      otherToX - fromX);
      otherToX = this.image.getWidth() - 1;
    }

    var otherToY =
    /*(int) */
    Math.floor(fromY - (toY - fromY) * scale);
    scale = 1.0;

    if (otherToY < 0) {
      scale = fromY / (
      /*(float) */
      fromY - otherToY);
      otherToY = 0;
    } else if (otherToY >= this.image.getHeight()) {
      scale = (this.image.getHeight() - 1 - fromY) / (
      /*(float) */
      otherToY - fromY);
      otherToY = this.image.getHeight() - 1;
    }

    otherToX =
    /*(int) */
    Math.floor(fromX + (otherToX - fromX) * scale);
    result += this.sizeOfBlackWhiteBlackRun(fromX, fromY, otherToX, otherToY); // Middle pixel is double-counted this way; subtract 1

    return result - 1.0;
  };
  /**
   * <p>This method traces a line from a point in the image, in the direction towards another point.
   * It begins in a black region, and keeps going until it finds white, then black, then white again.
   * It reports the distance from the start to this point.</p>
   *
   * <p>This is used when figuring out how wide a finder pattern is, when the finder pattern
   * may be skewed or rotated.</p>
   */


  Detector.prototype.sizeOfBlackWhiteBlackRun = function (fromX
  /*int*/
  , fromY
  /*int*/
  , toX
  /*int*/
  , toY
  /*int*/
  ) {
    // Mild variant of Bresenham's algorithm
    // see http://en.wikipedia.org/wiki/Bresenham's_line_algorithm
    var steep = Math.abs(toY - fromY) > Math.abs(toX - fromX);

    if (steep) {
      var temp = fromX;
      fromX = fromY;
      fromY = temp;
      temp = toX;
      toX = toY;
      toY = temp;
    }

    var dx = Math.abs(toX - fromX);
    var dy = Math.abs(toY - fromY);
    var error = -dx / 2;
    var xstep = fromX < toX ? 1 : -1;
    var ystep = fromY < toY ? 1 : -1; // In black pixels, looking for white, first or second time.

    var state = 0; // Loop up until x == toX, but not beyond

    var xLimit = toX + xstep;

    for (var x = fromX, y = fromY; x !== xLimit; x += xstep) {
      var realX = steep ? y : x;
      var realY = steep ? x : y; // Does current pixel mean we have moved white to black or vice versa?
      // Scanning black in state 0,2 and white in state 1, so if we find the wrong
      // color, advance to next state or end if we are in state 2 already

      if (state === 1 === this.image.get(realX, realY)) {
        if (state === 2) {
          return MathUtils.distance(x, y, fromX, fromY);
        }

        state++;
      }

      error += dy;

      if (error > 0) {
        if (y === toY) {
          break;
        }

        y += ystep;
        error -= dx;
      }
    } // Found black-white-black; give the benefit of the doubt that the next pixel outside the image
    // is "white" so this last point at (toX+xStep,toY) is the right ending. This is really a
    // small approximation; (toX+xStep,toY+yStep) might be really correct. Ignore this.


    if (state === 2) {
      return MathUtils.distance(toX + xstep, toY, fromX, fromY);
    } // else we didn't find even black-white-black; no estimate is really possible


    return NaN;
  };
  /**
   * <p>Attempts to locate an alignment pattern in a limited region of the image, which is
   * guessed to contain it. This method uses {@link AlignmentPattern}.</p>
   *
   * @param overallEstModuleSize estimated module size so far
   * @param estAlignmentX x coordinate of center of area probably containing alignment pattern
   * @param estAlignmentY y coordinate of above
   * @param allowanceFactor number of pixels in all directions to search from the center
   * @return {@link AlignmentPattern} if found, or null otherwise
   * @throws NotFoundException if an unexpected error occurs during detection
   */


  Detector.prototype.findAlignmentInRegion = function (overallEstModuleSize
  /*float*/
  , estAlignmentX
  /*int*/
  , estAlignmentY
  /*int*/
  , allowanceFactor
  /*float*/
  ) {
    // Look for an alignment pattern (3 modules in size) around where it
    // should be
    var allowance =
    /*(int) */
    Math.floor(allowanceFactor * overallEstModuleSize);
    var alignmentAreaLeftX = Math.max(0, estAlignmentX - allowance);
    var alignmentAreaRightX = Math.min(this.image.getWidth() - 1, estAlignmentX + allowance);

    if (alignmentAreaRightX - alignmentAreaLeftX < overallEstModuleSize * 3) {
      throw new NotFoundException('Alignment top exceeds estimated module size.');
    }

    var alignmentAreaTopY = Math.max(0, estAlignmentY - allowance);
    var alignmentAreaBottomY = Math.min(this.image.getHeight() - 1, estAlignmentY + allowance);

    if (alignmentAreaBottomY - alignmentAreaTopY < overallEstModuleSize * 3) {
      throw new NotFoundException('Alignment bottom exceeds estimated module size.');
    }

    var alignmentFinder = new AlignmentPatternFinder(this.image, alignmentAreaLeftX, alignmentAreaTopY, alignmentAreaRightX - alignmentAreaLeftX, alignmentAreaBottomY - alignmentAreaTopY, overallEstModuleSize, this.resultPointCallback);
    return alignmentFinder.find();
  };

  return Detector;
}();

/*
 * Copyright 2007 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*import java.util.List;*/

/*import java.util.Map;*/

/**
 * This implementation can detect and decode QR Codes in an image.
 *
 * @author Sean Owen
 */

var QRCodeReader =
/** @class */
function () {
  function QRCodeReader() {
    this.decoder = new Decoder();
  }

  QRCodeReader.prototype.getDecoder = function () {
    return this.decoder;
  };
  /**
   * Locates and decodes a QR code in an image.
   *
   * @return a representing: string the content encoded by the QR code
   * @throws NotFoundException if a QR code cannot be found
   * @throws FormatException if a QR code cannot be decoded
   * @throws ChecksumException if error correction fails
   */

  /*@Override*/
  // public decode(image: BinaryBitmap): Result /*throws NotFoundException, ChecksumException, FormatException */ {
  //   return this.decode(image, null)
  // }

  /*@Override*/


  QRCodeReader.prototype.decode = function (image, hints) {
    var decoderResult;
    var points;

    if (hints !== undefined && hints !== null && undefined !== hints.get(DecodeHintType$1.PURE_BARCODE)) {
      var bits = QRCodeReader.extractPureBits(image.getBlackMatrix());
      decoderResult = this.decoder.decodeBitMatrix(bits, hints);
      points = QRCodeReader.NO_POINTS;
    } else {
      var detectorResult = new Detector$1(image.getBlackMatrix()).detect(hints);
      decoderResult = this.decoder.decodeBitMatrix(detectorResult.getBits(), hints);
      points = detectorResult.getPoints();
    } // If the code was mirrored: swap the bottom-left and the top-right points.


    if (decoderResult.getOther() instanceof QRCodeDecoderMetaData) {
      decoderResult.getOther().applyMirroredCorrection(points);
    }

    var result = new Result(decoderResult.getText(), decoderResult.getRawBytes(), undefined, points, BarcodeFormat$1.QR_CODE, undefined);
    var byteSegments = decoderResult.getByteSegments();

    if (byteSegments !== null) {
      result.putMetadata(ResultMetadataType$1.BYTE_SEGMENTS, byteSegments);
    }

    var ecLevel = decoderResult.getECLevel();

    if (ecLevel !== null) {
      result.putMetadata(ResultMetadataType$1.ERROR_CORRECTION_LEVEL, ecLevel);
    }

    if (decoderResult.hasStructuredAppend()) {
      result.putMetadata(ResultMetadataType$1.STRUCTURED_APPEND_SEQUENCE, decoderResult.getStructuredAppendSequenceNumber());
      result.putMetadata(ResultMetadataType$1.STRUCTURED_APPEND_PARITY, decoderResult.getStructuredAppendParity());
    }

    return result;
  };
  /*@Override*/


  QRCodeReader.prototype.reset = function () {// do nothing
  };
  /**
   * This method detects a code in a "pure" image -- that is, pure monochrome image
   * which contains only an unrotated, unskewed, image of a code, with some white border
   * around it. This is a specialized method that works exceptionally fast in this special
   * case.
   *
   * @see com.google.zxing.datamatrix.DataMatrixReader#extractPureBits(BitMatrix)
   */


  QRCodeReader.extractPureBits = function (image) {
    var leftTopBlack = image.getTopLeftOnBit();
    var rightBottomBlack = image.getBottomRightOnBit();

    if (leftTopBlack === null || rightBottomBlack === null) {
      throw new NotFoundException();
    }

    var moduleSize = this.moduleSize(leftTopBlack, image);
    var top = leftTopBlack[1];
    var bottom = rightBottomBlack[1];
    var left = leftTopBlack[0];
    var right = rightBottomBlack[0]; // Sanity check!

    if (left >= right || top >= bottom) {
      throw new NotFoundException();
    }

    if (bottom - top !== right - left) {
      // Special case, where bottom-right module wasn't black so we found something else in the last row
      // Assume it's a square, so use height as the width
      right = left + (bottom - top);

      if (right >= image.getWidth()) {
        // Abort if that would not make sense -- off image
        throw new NotFoundException();
      }
    }

    var matrixWidth = Math.round((right - left + 1) / moduleSize);
    var matrixHeight = Math.round((bottom - top + 1) / moduleSize);

    if (matrixWidth <= 0 || matrixHeight <= 0) {
      throw new NotFoundException();
    }

    if (matrixHeight !== matrixWidth) {
      // Only possibly decode square regions
      throw new NotFoundException();
    } // Push in the "border" by half the module width so that we start
    // sampling in the middle of the module. Just in case the image is a
    // little off, this will help recover.


    var nudge =
    /*(int) */
    Math.floor(moduleSize / 2.0);
    top += nudge;
    left += nudge; // But careful that this does not sample off the edge
    // "right" is the farthest-right valid pixel location -- right+1 is not necessarily
    // This is positive by how much the inner x loop below would be too large

    var nudgedTooFarRight = left +
    /*(int) */
    Math.floor((matrixWidth - 1) * moduleSize) - right;

    if (nudgedTooFarRight > 0) {
      if (nudgedTooFarRight > nudge) {
        // Neither way fits; abort
        throw new NotFoundException();
      }

      left -= nudgedTooFarRight;
    } // See logic above


    var nudgedTooFarDown = top +
    /*(int) */
    Math.floor((matrixHeight - 1) * moduleSize) - bottom;

    if (nudgedTooFarDown > 0) {
      if (nudgedTooFarDown > nudge) {
        // Neither way fits; abort
        throw new NotFoundException();
      }

      top -= nudgedTooFarDown;
    } // Now just read off the bits


    var bits = new BitMatrix(matrixWidth, matrixHeight);

    for (var y = 0; y < matrixHeight; y++) {
      var iOffset = top +
      /*(int) */
      Math.floor(y * moduleSize);

      for (var x = 0; x < matrixWidth; x++) {
        if (image.get(left +
        /*(int) */
        Math.floor(x * moduleSize), iOffset)) {
          bits.set(x, y);
        }
      }
    }

    return bits;
  };

  QRCodeReader.moduleSize = function (leftTopBlack, image) {
    var height = image.getHeight();
    var width = image.getWidth();
    var x = leftTopBlack[0];
    var y = leftTopBlack[1];
    var inBlack = true;
    var transitions = 0;

    while (x < width && y < height) {
      if (inBlack !== image.get(x, y)) {
        if (++transitions === 5) {
          break;
        }

        inBlack = !inBlack;
      }

      x++;
      y++;
    }

    if (x === width || y === height) {
      throw new NotFoundException();
    }

    return (x - leftTopBlack[0]) / 7.0;
  };

  QRCodeReader.NO_POINTS = new Array();
  return QRCodeReader;
}();

/*
* Copyright 2009 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
// package com.google.zxing.pdf417;
var __values$d = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // import java.util.Arrays;
/**
 * @author SITA Lab (kevin.osullivan@sita.aero)
 * @author Guenther Grau
 */

var PDF417Common =
/** @class */
function () {
  function PDF417Common() {}

  PDF417Common.prototype.PDF417Common = function () {};
  /**
   * @param moduleBitCount values to sum
   * @return sum of values
   * @deprecated call {@link MathUtils#sum(int[])}
   */
  // @Deprecated


  PDF417Common.getBitCountSum = function (moduleBitCount) {
    return MathUtils.sum(moduleBitCount);
  };

  PDF417Common.toIntArray = function (list) {
    var e_1, _a;

    if (list == null || !list.length) {
      return PDF417Common.EMPTY_INT_ARRAY;
    }

    var result = new Int32Array(list.length);
    var i = 0;

    try {
      for (var list_1 = __values$d(list), list_1_1 = list_1.next(); !list_1_1.done; list_1_1 = list_1.next()) {
        var integer = list_1_1.value;
        result[i++] = integer;
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (list_1_1 && !list_1_1.done && (_a = list_1.return)) _a.call(list_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    return result;
  };
  /**
   * @param symbol encoded symbol to translate to a codeword
   * @return the codeword corresponding to the symbol.
   */


  PDF417Common.getCodeword = function (symbol
  /*int*/
  ) {
    var i = Arrays.binarySearch(PDF417Common.SYMBOL_TABLE, symbol & 0x3FFFF);

    if (i < 0) {
      return -1;
    }

    return (PDF417Common.CODEWORD_TABLE[i] - 1) % PDF417Common.NUMBER_OF_CODEWORDS;
  };

  PDF417Common.NUMBER_OF_CODEWORDS = 929; // Maximum Codewords (Data + Error).

  PDF417Common.MAX_CODEWORDS_IN_BARCODE = PDF417Common.NUMBER_OF_CODEWORDS - 1;
  PDF417Common.MIN_ROWS_IN_BARCODE = 3;
  PDF417Common.MAX_ROWS_IN_BARCODE = 90; // One left row indication column + max 30 data columns + one right row indicator column
  // public static /*final*/ MAX_CODEWORDS_IN_ROW: /*int*/ number = 32;

  PDF417Common.MODULES_IN_CODEWORD = 17;
  PDF417Common.MODULES_IN_STOP_PATTERN = 18;
  PDF417Common.BARS_IN_MODULE = 8;
  PDF417Common.EMPTY_INT_ARRAY = new Int32Array([]);
  /**
   * The sorted table of all possible symbols. Extracted from the PDF417
   * specification. The index of a symbol in this table corresponds to the
   * index into the codeword table.
   */

  PDF417Common.SYMBOL_TABLE = Int32Array.from([0x1025e, 0x1027a, 0x1029e, 0x102bc, 0x102f2, 0x102f4, 0x1032e, 0x1034e, 0x1035c, 0x10396, 0x103a6, 0x103ac, 0x10422, 0x10428, 0x10436, 0x10442, 0x10444, 0x10448, 0x10450, 0x1045e, 0x10466, 0x1046c, 0x1047a, 0x10482, 0x1049e, 0x104a0, 0x104bc, 0x104c6, 0x104d8, 0x104ee, 0x104f2, 0x104f4, 0x10504, 0x10508, 0x10510, 0x1051e, 0x10520, 0x1053c, 0x10540, 0x10578, 0x10586, 0x1058c, 0x10598, 0x105b0, 0x105be, 0x105ce, 0x105dc, 0x105e2, 0x105e4, 0x105e8, 0x105f6, 0x1062e, 0x1064e, 0x1065c, 0x1068e, 0x1069c, 0x106b8, 0x106de, 0x106fa, 0x10716, 0x10726, 0x1072c, 0x10746, 0x1074c, 0x10758, 0x1076e, 0x10792, 0x10794, 0x107a2, 0x107a4, 0x107a8, 0x107b6, 0x10822, 0x10828, 0x10842, 0x10848, 0x10850, 0x1085e, 0x10866, 0x1086c, 0x1087a, 0x10882, 0x10884, 0x10890, 0x1089e, 0x108a0, 0x108bc, 0x108c6, 0x108cc, 0x108d8, 0x108ee, 0x108f2, 0x108f4, 0x10902, 0x10908, 0x1091e, 0x10920, 0x1093c, 0x10940, 0x10978, 0x10986, 0x10998, 0x109b0, 0x109be, 0x109ce, 0x109dc, 0x109e2, 0x109e4, 0x109e8, 0x109f6, 0x10a08, 0x10a10, 0x10a1e, 0x10a20, 0x10a3c, 0x10a40, 0x10a78, 0x10af0, 0x10b06, 0x10b0c, 0x10b18, 0x10b30, 0x10b3e, 0x10b60, 0x10b7c, 0x10b8e, 0x10b9c, 0x10bb8, 0x10bc2, 0x10bc4, 0x10bc8, 0x10bd0, 0x10bde, 0x10be6, 0x10bec, 0x10c2e, 0x10c4e, 0x10c5c, 0x10c62, 0x10c64, 0x10c68, 0x10c76, 0x10c8e, 0x10c9c, 0x10cb8, 0x10cc2, 0x10cc4, 0x10cc8, 0x10cd0, 0x10cde, 0x10ce6, 0x10cec, 0x10cfa, 0x10d0e, 0x10d1c, 0x10d38, 0x10d70, 0x10d7e, 0x10d82, 0x10d84, 0x10d88, 0x10d90, 0x10d9e, 0x10da0, 0x10dbc, 0x10dc6, 0x10dcc, 0x10dd8, 0x10dee, 0x10df2, 0x10df4, 0x10e16, 0x10e26, 0x10e2c, 0x10e46, 0x10e58, 0x10e6e, 0x10e86, 0x10e8c, 0x10e98, 0x10eb0, 0x10ebe, 0x10ece, 0x10edc, 0x10f0a, 0x10f12, 0x10f14, 0x10f22, 0x10f28, 0x10f36, 0x10f42, 0x10f44, 0x10f48, 0x10f50, 0x10f5e, 0x10f66, 0x10f6c, 0x10fb2, 0x10fb4, 0x11022, 0x11028, 0x11042, 0x11048, 0x11050, 0x1105e, 0x1107a, 0x11082, 0x11084, 0x11090, 0x1109e, 0x110a0, 0x110bc, 0x110c6, 0x110cc, 0x110d8, 0x110ee, 0x110f2, 0x110f4, 0x11102, 0x1111e, 0x11120, 0x1113c, 0x11140, 0x11178, 0x11186, 0x11198, 0x111b0, 0x111be, 0x111ce, 0x111dc, 0x111e2, 0x111e4, 0x111e8, 0x111f6, 0x11208, 0x1121e, 0x11220, 0x11278, 0x112f0, 0x1130c, 0x11330, 0x1133e, 0x11360, 0x1137c, 0x1138e, 0x1139c, 0x113b8, 0x113c2, 0x113c8, 0x113d0, 0x113de, 0x113e6, 0x113ec, 0x11408, 0x11410, 0x1141e, 0x11420, 0x1143c, 0x11440, 0x11478, 0x114f0, 0x115e0, 0x1160c, 0x11618, 0x11630, 0x1163e, 0x11660, 0x1167c, 0x116c0, 0x116f8, 0x1171c, 0x11738, 0x11770, 0x1177e, 0x11782, 0x11784, 0x11788, 0x11790, 0x1179e, 0x117a0, 0x117bc, 0x117c6, 0x117cc, 0x117d8, 0x117ee, 0x1182e, 0x11834, 0x1184e, 0x1185c, 0x11862, 0x11864, 0x11868, 0x11876, 0x1188e, 0x1189c, 0x118b8, 0x118c2, 0x118c8, 0x118d0, 0x118de, 0x118e6, 0x118ec, 0x118fa, 0x1190e, 0x1191c, 0x11938, 0x11970, 0x1197e, 0x11982, 0x11984, 0x11990, 0x1199e, 0x119a0, 0x119bc, 0x119c6, 0x119cc, 0x119d8, 0x119ee, 0x119f2, 0x119f4, 0x11a0e, 0x11a1c, 0x11a38, 0x11a70, 0x11a7e, 0x11ae0, 0x11afc, 0x11b08, 0x11b10, 0x11b1e, 0x11b20, 0x11b3c, 0x11b40, 0x11b78, 0x11b8c, 0x11b98, 0x11bb0, 0x11bbe, 0x11bce, 0x11bdc, 0x11be2, 0x11be4, 0x11be8, 0x11bf6, 0x11c16, 0x11c26, 0x11c2c, 0x11c46, 0x11c4c, 0x11c58, 0x11c6e, 0x11c86, 0x11c98, 0x11cb0, 0x11cbe, 0x11cce, 0x11cdc, 0x11ce2, 0x11ce4, 0x11ce8, 0x11cf6, 0x11d06, 0x11d0c, 0x11d18, 0x11d30, 0x11d3e, 0x11d60, 0x11d7c, 0x11d8e, 0x11d9c, 0x11db8, 0x11dc4, 0x11dc8, 0x11dd0, 0x11dde, 0x11de6, 0x11dec, 0x11dfa, 0x11e0a, 0x11e12, 0x11e14, 0x11e22, 0x11e24, 0x11e28, 0x11e36, 0x11e42, 0x11e44, 0x11e50, 0x11e5e, 0x11e66, 0x11e6c, 0x11e82, 0x11e84, 0x11e88, 0x11e90, 0x11e9e, 0x11ea0, 0x11ebc, 0x11ec6, 0x11ecc, 0x11ed8, 0x11eee, 0x11f1a, 0x11f2e, 0x11f32, 0x11f34, 0x11f4e, 0x11f5c, 0x11f62, 0x11f64, 0x11f68, 0x11f76, 0x12048, 0x1205e, 0x12082, 0x12084, 0x12090, 0x1209e, 0x120a0, 0x120bc, 0x120d8, 0x120f2, 0x120f4, 0x12108, 0x1211e, 0x12120, 0x1213c, 0x12140, 0x12178, 0x12186, 0x12198, 0x121b0, 0x121be, 0x121e2, 0x121e4, 0x121e8, 0x121f6, 0x12204, 0x12210, 0x1221e, 0x12220, 0x12278, 0x122f0, 0x12306, 0x1230c, 0x12330, 0x1233e, 0x12360, 0x1237c, 0x1238e, 0x1239c, 0x123b8, 0x123c2, 0x123c8, 0x123d0, 0x123e6, 0x123ec, 0x1241e, 0x12420, 0x1243c, 0x124f0, 0x125e0, 0x12618, 0x1263e, 0x12660, 0x1267c, 0x126c0, 0x126f8, 0x12738, 0x12770, 0x1277e, 0x12782, 0x12784, 0x12790, 0x1279e, 0x127a0, 0x127bc, 0x127c6, 0x127cc, 0x127d8, 0x127ee, 0x12820, 0x1283c, 0x12840, 0x12878, 0x128f0, 0x129e0, 0x12bc0, 0x12c18, 0x12c30, 0x12c3e, 0x12c60, 0x12c7c, 0x12cc0, 0x12cf8, 0x12df0, 0x12e1c, 0x12e38, 0x12e70, 0x12e7e, 0x12ee0, 0x12efc, 0x12f04, 0x12f08, 0x12f10, 0x12f20, 0x12f3c, 0x12f40, 0x12f78, 0x12f86, 0x12f8c, 0x12f98, 0x12fb0, 0x12fbe, 0x12fce, 0x12fdc, 0x1302e, 0x1304e, 0x1305c, 0x13062, 0x13068, 0x1308e, 0x1309c, 0x130b8, 0x130c2, 0x130c8, 0x130d0, 0x130de, 0x130ec, 0x130fa, 0x1310e, 0x13138, 0x13170, 0x1317e, 0x13182, 0x13184, 0x13190, 0x1319e, 0x131a0, 0x131bc, 0x131c6, 0x131cc, 0x131d8, 0x131f2, 0x131f4, 0x1320e, 0x1321c, 0x13270, 0x1327e, 0x132e0, 0x132fc, 0x13308, 0x1331e, 0x13320, 0x1333c, 0x13340, 0x13378, 0x13386, 0x13398, 0x133b0, 0x133be, 0x133ce, 0x133dc, 0x133e2, 0x133e4, 0x133e8, 0x133f6, 0x1340e, 0x1341c, 0x13438, 0x13470, 0x1347e, 0x134e0, 0x134fc, 0x135c0, 0x135f8, 0x13608, 0x13610, 0x1361e, 0x13620, 0x1363c, 0x13640, 0x13678, 0x136f0, 0x1370c, 0x13718, 0x13730, 0x1373e, 0x13760, 0x1377c, 0x1379c, 0x137b8, 0x137c2, 0x137c4, 0x137c8, 0x137d0, 0x137de, 0x137e6, 0x137ec, 0x13816, 0x13826, 0x1382c, 0x13846, 0x1384c, 0x13858, 0x1386e, 0x13874, 0x13886, 0x13898, 0x138b0, 0x138be, 0x138ce, 0x138dc, 0x138e2, 0x138e4, 0x138e8, 0x13906, 0x1390c, 0x13930, 0x1393e, 0x13960, 0x1397c, 0x1398e, 0x1399c, 0x139b8, 0x139c8, 0x139d0, 0x139de, 0x139e6, 0x139ec, 0x139fa, 0x13a06, 0x13a0c, 0x13a18, 0x13a30, 0x13a3e, 0x13a60, 0x13a7c, 0x13ac0, 0x13af8, 0x13b0e, 0x13b1c, 0x13b38, 0x13b70, 0x13b7e, 0x13b88, 0x13b90, 0x13b9e, 0x13ba0, 0x13bbc, 0x13bcc, 0x13bd8, 0x13bee, 0x13bf2, 0x13bf4, 0x13c12, 0x13c14, 0x13c22, 0x13c24, 0x13c28, 0x13c36, 0x13c42, 0x13c48, 0x13c50, 0x13c5e, 0x13c66, 0x13c6c, 0x13c82, 0x13c84, 0x13c90, 0x13c9e, 0x13ca0, 0x13cbc, 0x13cc6, 0x13ccc, 0x13cd8, 0x13cee, 0x13d02, 0x13d04, 0x13d08, 0x13d10, 0x13d1e, 0x13d20, 0x13d3c, 0x13d40, 0x13d78, 0x13d86, 0x13d8c, 0x13d98, 0x13db0, 0x13dbe, 0x13dce, 0x13ddc, 0x13de4, 0x13de8, 0x13df6, 0x13e1a, 0x13e2e, 0x13e32, 0x13e34, 0x13e4e, 0x13e5c, 0x13e62, 0x13e64, 0x13e68, 0x13e76, 0x13e8e, 0x13e9c, 0x13eb8, 0x13ec2, 0x13ec4, 0x13ec8, 0x13ed0, 0x13ede, 0x13ee6, 0x13eec, 0x13f26, 0x13f2c, 0x13f3a, 0x13f46, 0x13f4c, 0x13f58, 0x13f6e, 0x13f72, 0x13f74, 0x14082, 0x1409e, 0x140a0, 0x140bc, 0x14104, 0x14108, 0x14110, 0x1411e, 0x14120, 0x1413c, 0x14140, 0x14178, 0x1418c, 0x14198, 0x141b0, 0x141be, 0x141e2, 0x141e4, 0x141e8, 0x14208, 0x14210, 0x1421e, 0x14220, 0x1423c, 0x14240, 0x14278, 0x142f0, 0x14306, 0x1430c, 0x14318, 0x14330, 0x1433e, 0x14360, 0x1437c, 0x1438e, 0x143c2, 0x143c4, 0x143c8, 0x143d0, 0x143e6, 0x143ec, 0x14408, 0x14410, 0x1441e, 0x14420, 0x1443c, 0x14440, 0x14478, 0x144f0, 0x145e0, 0x1460c, 0x14618, 0x14630, 0x1463e, 0x14660, 0x1467c, 0x146c0, 0x146f8, 0x1471c, 0x14738, 0x14770, 0x1477e, 0x14782, 0x14784, 0x14788, 0x14790, 0x147a0, 0x147bc, 0x147c6, 0x147cc, 0x147d8, 0x147ee, 0x14810, 0x14820, 0x1483c, 0x14840, 0x14878, 0x148f0, 0x149e0, 0x14bc0, 0x14c30, 0x14c3e, 0x14c60, 0x14c7c, 0x14cc0, 0x14cf8, 0x14df0, 0x14e38, 0x14e70, 0x14e7e, 0x14ee0, 0x14efc, 0x14f04, 0x14f08, 0x14f10, 0x14f1e, 0x14f20, 0x14f3c, 0x14f40, 0x14f78, 0x14f86, 0x14f8c, 0x14f98, 0x14fb0, 0x14fce, 0x14fdc, 0x15020, 0x15040, 0x15078, 0x150f0, 0x151e0, 0x153c0, 0x15860, 0x1587c, 0x158c0, 0x158f8, 0x159f0, 0x15be0, 0x15c70, 0x15c7e, 0x15ce0, 0x15cfc, 0x15dc0, 0x15df8, 0x15e08, 0x15e10, 0x15e20, 0x15e40, 0x15e78, 0x15ef0, 0x15f0c, 0x15f18, 0x15f30, 0x15f60, 0x15f7c, 0x15f8e, 0x15f9c, 0x15fb8, 0x1604e, 0x1605c, 0x1608e, 0x1609c, 0x160b8, 0x160c2, 0x160c4, 0x160c8, 0x160de, 0x1610e, 0x1611c, 0x16138, 0x16170, 0x1617e, 0x16184, 0x16188, 0x16190, 0x1619e, 0x161a0, 0x161bc, 0x161c6, 0x161cc, 0x161d8, 0x161f2, 0x161f4, 0x1620e, 0x1621c, 0x16238, 0x16270, 0x1627e, 0x162e0, 0x162fc, 0x16304, 0x16308, 0x16310, 0x1631e, 0x16320, 0x1633c, 0x16340, 0x16378, 0x16386, 0x1638c, 0x16398, 0x163b0, 0x163be, 0x163ce, 0x163dc, 0x163e2, 0x163e4, 0x163e8, 0x163f6, 0x1640e, 0x1641c, 0x16438, 0x16470, 0x1647e, 0x164e0, 0x164fc, 0x165c0, 0x165f8, 0x16610, 0x1661e, 0x16620, 0x1663c, 0x16640, 0x16678, 0x166f0, 0x16718, 0x16730, 0x1673e, 0x16760, 0x1677c, 0x1678e, 0x1679c, 0x167b8, 0x167c2, 0x167c4, 0x167c8, 0x167d0, 0x167de, 0x167e6, 0x167ec, 0x1681c, 0x16838, 0x16870, 0x168e0, 0x168fc, 0x169c0, 0x169f8, 0x16bf0, 0x16c10, 0x16c1e, 0x16c20, 0x16c3c, 0x16c40, 0x16c78, 0x16cf0, 0x16de0, 0x16e18, 0x16e30, 0x16e3e, 0x16e60, 0x16e7c, 0x16ec0, 0x16ef8, 0x16f1c, 0x16f38, 0x16f70, 0x16f7e, 0x16f84, 0x16f88, 0x16f90, 0x16f9e, 0x16fa0, 0x16fbc, 0x16fc6, 0x16fcc, 0x16fd8, 0x17026, 0x1702c, 0x17046, 0x1704c, 0x17058, 0x1706e, 0x17086, 0x1708c, 0x17098, 0x170b0, 0x170be, 0x170ce, 0x170dc, 0x170e8, 0x17106, 0x1710c, 0x17118, 0x17130, 0x1713e, 0x17160, 0x1717c, 0x1718e, 0x1719c, 0x171b8, 0x171c2, 0x171c4, 0x171c8, 0x171d0, 0x171de, 0x171e6, 0x171ec, 0x171fa, 0x17206, 0x1720c, 0x17218, 0x17230, 0x1723e, 0x17260, 0x1727c, 0x172c0, 0x172f8, 0x1730e, 0x1731c, 0x17338, 0x17370, 0x1737e, 0x17388, 0x17390, 0x1739e, 0x173a0, 0x173bc, 0x173cc, 0x173d8, 0x173ee, 0x173f2, 0x173f4, 0x1740c, 0x17418, 0x17430, 0x1743e, 0x17460, 0x1747c, 0x174c0, 0x174f8, 0x175f0, 0x1760e, 0x1761c, 0x17638, 0x17670, 0x1767e, 0x176e0, 0x176fc, 0x17708, 0x17710, 0x1771e, 0x17720, 0x1773c, 0x17740, 0x17778, 0x17798, 0x177b0, 0x177be, 0x177dc, 0x177e2, 0x177e4, 0x177e8, 0x17822, 0x17824, 0x17828, 0x17836, 0x17842, 0x17844, 0x17848, 0x17850, 0x1785e, 0x17866, 0x1786c, 0x17882, 0x17884, 0x17888, 0x17890, 0x1789e, 0x178a0, 0x178bc, 0x178c6, 0x178cc, 0x178d8, 0x178ee, 0x178f2, 0x178f4, 0x17902, 0x17904, 0x17908, 0x17910, 0x1791e, 0x17920, 0x1793c, 0x17940, 0x17978, 0x17986, 0x1798c, 0x17998, 0x179b0, 0x179be, 0x179ce, 0x179dc, 0x179e2, 0x179e4, 0x179e8, 0x179f6, 0x17a04, 0x17a08, 0x17a10, 0x17a1e, 0x17a20, 0x17a3c, 0x17a40, 0x17a78, 0x17af0, 0x17b06, 0x17b0c, 0x17b18, 0x17b30, 0x17b3e, 0x17b60, 0x17b7c, 0x17b8e, 0x17b9c, 0x17bb8, 0x17bc4, 0x17bc8, 0x17bd0, 0x17bde, 0x17be6, 0x17bec, 0x17c2e, 0x17c32, 0x17c34, 0x17c4e, 0x17c5c, 0x17c62, 0x17c64, 0x17c68, 0x17c76, 0x17c8e, 0x17c9c, 0x17cb8, 0x17cc2, 0x17cc4, 0x17cc8, 0x17cd0, 0x17cde, 0x17ce6, 0x17cec, 0x17d0e, 0x17d1c, 0x17d38, 0x17d70, 0x17d82, 0x17d84, 0x17d88, 0x17d90, 0x17d9e, 0x17da0, 0x17dbc, 0x17dc6, 0x17dcc, 0x17dd8, 0x17dee, 0x17e26, 0x17e2c, 0x17e3a, 0x17e46, 0x17e4c, 0x17e58, 0x17e6e, 0x17e72, 0x17e74, 0x17e86, 0x17e8c, 0x17e98, 0x17eb0, 0x17ece, 0x17edc, 0x17ee2, 0x17ee4, 0x17ee8, 0x17ef6, 0x1813a, 0x18172, 0x18174, 0x18216, 0x18226, 0x1823a, 0x1824c, 0x18258, 0x1826e, 0x18272, 0x18274, 0x18298, 0x182be, 0x182e2, 0x182e4, 0x182e8, 0x182f6, 0x1835e, 0x1837a, 0x183ae, 0x183d6, 0x18416, 0x18426, 0x1842c, 0x1843a, 0x18446, 0x18458, 0x1846e, 0x18472, 0x18474, 0x18486, 0x184b0, 0x184be, 0x184ce, 0x184dc, 0x184e2, 0x184e4, 0x184e8, 0x184f6, 0x18506, 0x1850c, 0x18518, 0x18530, 0x1853e, 0x18560, 0x1857c, 0x1858e, 0x1859c, 0x185b8, 0x185c2, 0x185c4, 0x185c8, 0x185d0, 0x185de, 0x185e6, 0x185ec, 0x185fa, 0x18612, 0x18614, 0x18622, 0x18628, 0x18636, 0x18642, 0x18650, 0x1865e, 0x1867a, 0x18682, 0x18684, 0x18688, 0x18690, 0x1869e, 0x186a0, 0x186bc, 0x186c6, 0x186cc, 0x186d8, 0x186ee, 0x186f2, 0x186f4, 0x1872e, 0x1874e, 0x1875c, 0x18796, 0x187a6, 0x187ac, 0x187d2, 0x187d4, 0x18826, 0x1882c, 0x1883a, 0x18846, 0x1884c, 0x18858, 0x1886e, 0x18872, 0x18874, 0x18886, 0x18898, 0x188b0, 0x188be, 0x188ce, 0x188dc, 0x188e2, 0x188e4, 0x188e8, 0x188f6, 0x1890c, 0x18930, 0x1893e, 0x18960, 0x1897c, 0x1898e, 0x189b8, 0x189c2, 0x189c8, 0x189d0, 0x189de, 0x189e6, 0x189ec, 0x189fa, 0x18a18, 0x18a30, 0x18a3e, 0x18a60, 0x18a7c, 0x18ac0, 0x18af8, 0x18b1c, 0x18b38, 0x18b70, 0x18b7e, 0x18b82, 0x18b84, 0x18b88, 0x18b90, 0x18b9e, 0x18ba0, 0x18bbc, 0x18bc6, 0x18bcc, 0x18bd8, 0x18bee, 0x18bf2, 0x18bf4, 0x18c22, 0x18c24, 0x18c28, 0x18c36, 0x18c42, 0x18c48, 0x18c50, 0x18c5e, 0x18c66, 0x18c7a, 0x18c82, 0x18c84, 0x18c90, 0x18c9e, 0x18ca0, 0x18cbc, 0x18ccc, 0x18cf2, 0x18cf4, 0x18d04, 0x18d08, 0x18d10, 0x18d1e, 0x18d20, 0x18d3c, 0x18d40, 0x18d78, 0x18d86, 0x18d98, 0x18dce, 0x18de2, 0x18de4, 0x18de8, 0x18e2e, 0x18e32, 0x18e34, 0x18e4e, 0x18e5c, 0x18e62, 0x18e64, 0x18e68, 0x18e8e, 0x18e9c, 0x18eb8, 0x18ec2, 0x18ec4, 0x18ec8, 0x18ed0, 0x18efa, 0x18f16, 0x18f26, 0x18f2c, 0x18f46, 0x18f4c, 0x18f58, 0x18f6e, 0x18f8a, 0x18f92, 0x18f94, 0x18fa2, 0x18fa4, 0x18fa8, 0x18fb6, 0x1902c, 0x1903a, 0x19046, 0x1904c, 0x19058, 0x19072, 0x19074, 0x19086, 0x19098, 0x190b0, 0x190be, 0x190ce, 0x190dc, 0x190e2, 0x190e8, 0x190f6, 0x19106, 0x1910c, 0x19130, 0x1913e, 0x19160, 0x1917c, 0x1918e, 0x1919c, 0x191b8, 0x191c2, 0x191c8, 0x191d0, 0x191de, 0x191e6, 0x191ec, 0x191fa, 0x19218, 0x1923e, 0x19260, 0x1927c, 0x192c0, 0x192f8, 0x19338, 0x19370, 0x1937e, 0x19382, 0x19384, 0x19390, 0x1939e, 0x193a0, 0x193bc, 0x193c6, 0x193cc, 0x193d8, 0x193ee, 0x193f2, 0x193f4, 0x19430, 0x1943e, 0x19460, 0x1947c, 0x194c0, 0x194f8, 0x195f0, 0x19638, 0x19670, 0x1967e, 0x196e0, 0x196fc, 0x19702, 0x19704, 0x19708, 0x19710, 0x19720, 0x1973c, 0x19740, 0x19778, 0x19786, 0x1978c, 0x19798, 0x197b0, 0x197be, 0x197ce, 0x197dc, 0x197e2, 0x197e4, 0x197e8, 0x19822, 0x19824, 0x19842, 0x19848, 0x19850, 0x1985e, 0x19866, 0x1987a, 0x19882, 0x19884, 0x19890, 0x1989e, 0x198a0, 0x198bc, 0x198cc, 0x198f2, 0x198f4, 0x19902, 0x19908, 0x1991e, 0x19920, 0x1993c, 0x19940, 0x19978, 0x19986, 0x19998, 0x199ce, 0x199e2, 0x199e4, 0x199e8, 0x19a08, 0x19a10, 0x19a1e, 0x19a20, 0x19a3c, 0x19a40, 0x19a78, 0x19af0, 0x19b18, 0x19b3e, 0x19b60, 0x19b9c, 0x19bc2, 0x19bc4, 0x19bc8, 0x19bd0, 0x19be6, 0x19c2e, 0x19c34, 0x19c4e, 0x19c5c, 0x19c62, 0x19c64, 0x19c68, 0x19c8e, 0x19c9c, 0x19cb8, 0x19cc2, 0x19cc8, 0x19cd0, 0x19ce6, 0x19cfa, 0x19d0e, 0x19d1c, 0x19d38, 0x19d70, 0x19d7e, 0x19d82, 0x19d84, 0x19d88, 0x19d90, 0x19da0, 0x19dcc, 0x19df2, 0x19df4, 0x19e16, 0x19e26, 0x19e2c, 0x19e46, 0x19e4c, 0x19e58, 0x19e74, 0x19e86, 0x19e8c, 0x19e98, 0x19eb0, 0x19ebe, 0x19ece, 0x19ee2, 0x19ee4, 0x19ee8, 0x19f0a, 0x19f12, 0x19f14, 0x19f22, 0x19f24, 0x19f28, 0x19f42, 0x19f44, 0x19f48, 0x19f50, 0x19f5e, 0x19f6c, 0x19f9a, 0x19fae, 0x19fb2, 0x19fb4, 0x1a046, 0x1a04c, 0x1a072, 0x1a074, 0x1a086, 0x1a08c, 0x1a098, 0x1a0b0, 0x1a0be, 0x1a0e2, 0x1a0e4, 0x1a0e8, 0x1a0f6, 0x1a106, 0x1a10c, 0x1a118, 0x1a130, 0x1a13e, 0x1a160, 0x1a17c, 0x1a18e, 0x1a19c, 0x1a1b8, 0x1a1c2, 0x1a1c4, 0x1a1c8, 0x1a1d0, 0x1a1de, 0x1a1e6, 0x1a1ec, 0x1a218, 0x1a230, 0x1a23e, 0x1a260, 0x1a27c, 0x1a2c0, 0x1a2f8, 0x1a31c, 0x1a338, 0x1a370, 0x1a37e, 0x1a382, 0x1a384, 0x1a388, 0x1a390, 0x1a39e, 0x1a3a0, 0x1a3bc, 0x1a3c6, 0x1a3cc, 0x1a3d8, 0x1a3ee, 0x1a3f2, 0x1a3f4, 0x1a418, 0x1a430, 0x1a43e, 0x1a460, 0x1a47c, 0x1a4c0, 0x1a4f8, 0x1a5f0, 0x1a61c, 0x1a638, 0x1a670, 0x1a67e, 0x1a6e0, 0x1a6fc, 0x1a702, 0x1a704, 0x1a708, 0x1a710, 0x1a71e, 0x1a720, 0x1a73c, 0x1a740, 0x1a778, 0x1a786, 0x1a78c, 0x1a798, 0x1a7b0, 0x1a7be, 0x1a7ce, 0x1a7dc, 0x1a7e2, 0x1a7e4, 0x1a7e8, 0x1a830, 0x1a860, 0x1a87c, 0x1a8c0, 0x1a8f8, 0x1a9f0, 0x1abe0, 0x1ac70, 0x1ac7e, 0x1ace0, 0x1acfc, 0x1adc0, 0x1adf8, 0x1ae04, 0x1ae08, 0x1ae10, 0x1ae20, 0x1ae3c, 0x1ae40, 0x1ae78, 0x1aef0, 0x1af06, 0x1af0c, 0x1af18, 0x1af30, 0x1af3e, 0x1af60, 0x1af7c, 0x1af8e, 0x1af9c, 0x1afb8, 0x1afc4, 0x1afc8, 0x1afd0, 0x1afde, 0x1b042, 0x1b05e, 0x1b07a, 0x1b082, 0x1b084, 0x1b088, 0x1b090, 0x1b09e, 0x1b0a0, 0x1b0bc, 0x1b0cc, 0x1b0f2, 0x1b0f4, 0x1b102, 0x1b104, 0x1b108, 0x1b110, 0x1b11e, 0x1b120, 0x1b13c, 0x1b140, 0x1b178, 0x1b186, 0x1b198, 0x1b1ce, 0x1b1e2, 0x1b1e4, 0x1b1e8, 0x1b204, 0x1b208, 0x1b210, 0x1b21e, 0x1b220, 0x1b23c, 0x1b240, 0x1b278, 0x1b2f0, 0x1b30c, 0x1b33e, 0x1b360, 0x1b39c, 0x1b3c2, 0x1b3c4, 0x1b3c8, 0x1b3d0, 0x1b3e6, 0x1b410, 0x1b41e, 0x1b420, 0x1b43c, 0x1b440, 0x1b478, 0x1b4f0, 0x1b5e0, 0x1b618, 0x1b660, 0x1b67c, 0x1b6c0, 0x1b738, 0x1b782, 0x1b784, 0x1b788, 0x1b790, 0x1b79e, 0x1b7a0, 0x1b7cc, 0x1b82e, 0x1b84e, 0x1b85c, 0x1b88e, 0x1b89c, 0x1b8b8, 0x1b8c2, 0x1b8c4, 0x1b8c8, 0x1b8d0, 0x1b8e6, 0x1b8fa, 0x1b90e, 0x1b91c, 0x1b938, 0x1b970, 0x1b97e, 0x1b982, 0x1b984, 0x1b988, 0x1b990, 0x1b99e, 0x1b9a0, 0x1b9cc, 0x1b9f2, 0x1b9f4, 0x1ba0e, 0x1ba1c, 0x1ba38, 0x1ba70, 0x1ba7e, 0x1bae0, 0x1bafc, 0x1bb08, 0x1bb10, 0x1bb20, 0x1bb3c, 0x1bb40, 0x1bb98, 0x1bbce, 0x1bbe2, 0x1bbe4, 0x1bbe8, 0x1bc16, 0x1bc26, 0x1bc2c, 0x1bc46, 0x1bc4c, 0x1bc58, 0x1bc72, 0x1bc74, 0x1bc86, 0x1bc8c, 0x1bc98, 0x1bcb0, 0x1bcbe, 0x1bcce, 0x1bce2, 0x1bce4, 0x1bce8, 0x1bd06, 0x1bd0c, 0x1bd18, 0x1bd30, 0x1bd3e, 0x1bd60, 0x1bd7c, 0x1bd9c, 0x1bdc2, 0x1bdc4, 0x1bdc8, 0x1bdd0, 0x1bde6, 0x1bdfa, 0x1be12, 0x1be14, 0x1be22, 0x1be24, 0x1be28, 0x1be42, 0x1be44, 0x1be48, 0x1be50, 0x1be5e, 0x1be66, 0x1be82, 0x1be84, 0x1be88, 0x1be90, 0x1be9e, 0x1bea0, 0x1bebc, 0x1becc, 0x1bef4, 0x1bf1a, 0x1bf2e, 0x1bf32, 0x1bf34, 0x1bf4e, 0x1bf5c, 0x1bf62, 0x1bf64, 0x1bf68, 0x1c09a, 0x1c0b2, 0x1c0b4, 0x1c11a, 0x1c132, 0x1c134, 0x1c162, 0x1c164, 0x1c168, 0x1c176, 0x1c1ba, 0x1c21a, 0x1c232, 0x1c234, 0x1c24e, 0x1c25c, 0x1c262, 0x1c264, 0x1c268, 0x1c276, 0x1c28e, 0x1c2c2, 0x1c2c4, 0x1c2c8, 0x1c2d0, 0x1c2de, 0x1c2e6, 0x1c2ec, 0x1c2fa, 0x1c316, 0x1c326, 0x1c33a, 0x1c346, 0x1c34c, 0x1c372, 0x1c374, 0x1c41a, 0x1c42e, 0x1c432, 0x1c434, 0x1c44e, 0x1c45c, 0x1c462, 0x1c464, 0x1c468, 0x1c476, 0x1c48e, 0x1c49c, 0x1c4b8, 0x1c4c2, 0x1c4c8, 0x1c4d0, 0x1c4de, 0x1c4e6, 0x1c4ec, 0x1c4fa, 0x1c51c, 0x1c538, 0x1c570, 0x1c57e, 0x1c582, 0x1c584, 0x1c588, 0x1c590, 0x1c59e, 0x1c5a0, 0x1c5bc, 0x1c5c6, 0x1c5cc, 0x1c5d8, 0x1c5ee, 0x1c5f2, 0x1c5f4, 0x1c616, 0x1c626, 0x1c62c, 0x1c63a, 0x1c646, 0x1c64c, 0x1c658, 0x1c66e, 0x1c672, 0x1c674, 0x1c686, 0x1c68c, 0x1c698, 0x1c6b0, 0x1c6be, 0x1c6ce, 0x1c6dc, 0x1c6e2, 0x1c6e4, 0x1c6e8, 0x1c712, 0x1c714, 0x1c722, 0x1c728, 0x1c736, 0x1c742, 0x1c744, 0x1c748, 0x1c750, 0x1c75e, 0x1c766, 0x1c76c, 0x1c77a, 0x1c7ae, 0x1c7d6, 0x1c7ea, 0x1c81a, 0x1c82e, 0x1c832, 0x1c834, 0x1c84e, 0x1c85c, 0x1c862, 0x1c864, 0x1c868, 0x1c876, 0x1c88e, 0x1c89c, 0x1c8b8, 0x1c8c2, 0x1c8c8, 0x1c8d0, 0x1c8de, 0x1c8e6, 0x1c8ec, 0x1c8fa, 0x1c90e, 0x1c938, 0x1c970, 0x1c97e, 0x1c982, 0x1c984, 0x1c990, 0x1c99e, 0x1c9a0, 0x1c9bc, 0x1c9c6, 0x1c9cc, 0x1c9d8, 0x1c9ee, 0x1c9f2, 0x1c9f4, 0x1ca38, 0x1ca70, 0x1ca7e, 0x1cae0, 0x1cafc, 0x1cb02, 0x1cb04, 0x1cb08, 0x1cb10, 0x1cb20, 0x1cb3c, 0x1cb40, 0x1cb78, 0x1cb86, 0x1cb8c, 0x1cb98, 0x1cbb0, 0x1cbbe, 0x1cbce, 0x1cbdc, 0x1cbe2, 0x1cbe4, 0x1cbe8, 0x1cbf6, 0x1cc16, 0x1cc26, 0x1cc2c, 0x1cc3a, 0x1cc46, 0x1cc58, 0x1cc72, 0x1cc74, 0x1cc86, 0x1ccb0, 0x1ccbe, 0x1ccce, 0x1cce2, 0x1cce4, 0x1cce8, 0x1cd06, 0x1cd0c, 0x1cd18, 0x1cd30, 0x1cd3e, 0x1cd60, 0x1cd7c, 0x1cd9c, 0x1cdc2, 0x1cdc4, 0x1cdc8, 0x1cdd0, 0x1cdde, 0x1cde6, 0x1cdfa, 0x1ce22, 0x1ce28, 0x1ce42, 0x1ce50, 0x1ce5e, 0x1ce66, 0x1ce7a, 0x1ce82, 0x1ce84, 0x1ce88, 0x1ce90, 0x1ce9e, 0x1cea0, 0x1cebc, 0x1cecc, 0x1cef2, 0x1cef4, 0x1cf2e, 0x1cf32, 0x1cf34, 0x1cf4e, 0x1cf5c, 0x1cf62, 0x1cf64, 0x1cf68, 0x1cf96, 0x1cfa6, 0x1cfac, 0x1cfca, 0x1cfd2, 0x1cfd4, 0x1d02e, 0x1d032, 0x1d034, 0x1d04e, 0x1d05c, 0x1d062, 0x1d064, 0x1d068, 0x1d076, 0x1d08e, 0x1d09c, 0x1d0b8, 0x1d0c2, 0x1d0c4, 0x1d0c8, 0x1d0d0, 0x1d0de, 0x1d0e6, 0x1d0ec, 0x1d0fa, 0x1d11c, 0x1d138, 0x1d170, 0x1d17e, 0x1d182, 0x1d184, 0x1d188, 0x1d190, 0x1d19e, 0x1d1a0, 0x1d1bc, 0x1d1c6, 0x1d1cc, 0x1d1d8, 0x1d1ee, 0x1d1f2, 0x1d1f4, 0x1d21c, 0x1d238, 0x1d270, 0x1d27e, 0x1d2e0, 0x1d2fc, 0x1d302, 0x1d304, 0x1d308, 0x1d310, 0x1d31e, 0x1d320, 0x1d33c, 0x1d340, 0x1d378, 0x1d386, 0x1d38c, 0x1d398, 0x1d3b0, 0x1d3be, 0x1d3ce, 0x1d3dc, 0x1d3e2, 0x1d3e4, 0x1d3e8, 0x1d3f6, 0x1d470, 0x1d47e, 0x1d4e0, 0x1d4fc, 0x1d5c0, 0x1d5f8, 0x1d604, 0x1d608, 0x1d610, 0x1d620, 0x1d640, 0x1d678, 0x1d6f0, 0x1d706, 0x1d70c, 0x1d718, 0x1d730, 0x1d73e, 0x1d760, 0x1d77c, 0x1d78e, 0x1d79c, 0x1d7b8, 0x1d7c2, 0x1d7c4, 0x1d7c8, 0x1d7d0, 0x1d7de, 0x1d7e6, 0x1d7ec, 0x1d826, 0x1d82c, 0x1d83a, 0x1d846, 0x1d84c, 0x1d858, 0x1d872, 0x1d874, 0x1d886, 0x1d88c, 0x1d898, 0x1d8b0, 0x1d8be, 0x1d8ce, 0x1d8e2, 0x1d8e4, 0x1d8e8, 0x1d8f6, 0x1d90c, 0x1d918, 0x1d930, 0x1d93e, 0x1d960, 0x1d97c, 0x1d99c, 0x1d9c2, 0x1d9c4, 0x1d9c8, 0x1d9d0, 0x1d9e6, 0x1d9fa, 0x1da0c, 0x1da18, 0x1da30, 0x1da3e, 0x1da60, 0x1da7c, 0x1dac0, 0x1daf8, 0x1db38, 0x1db82, 0x1db84, 0x1db88, 0x1db90, 0x1db9e, 0x1dba0, 0x1dbcc, 0x1dbf2, 0x1dbf4, 0x1dc22, 0x1dc42, 0x1dc44, 0x1dc48, 0x1dc50, 0x1dc5e, 0x1dc66, 0x1dc7a, 0x1dc82, 0x1dc84, 0x1dc88, 0x1dc90, 0x1dc9e, 0x1dca0, 0x1dcbc, 0x1dccc, 0x1dcf2, 0x1dcf4, 0x1dd04, 0x1dd08, 0x1dd10, 0x1dd1e, 0x1dd20, 0x1dd3c, 0x1dd40, 0x1dd78, 0x1dd86, 0x1dd98, 0x1ddce, 0x1dde2, 0x1dde4, 0x1dde8, 0x1de2e, 0x1de32, 0x1de34, 0x1de4e, 0x1de5c, 0x1de62, 0x1de64, 0x1de68, 0x1de8e, 0x1de9c, 0x1deb8, 0x1dec2, 0x1dec4, 0x1dec8, 0x1ded0, 0x1dee6, 0x1defa, 0x1df16, 0x1df26, 0x1df2c, 0x1df46, 0x1df4c, 0x1df58, 0x1df72, 0x1df74, 0x1df8a, 0x1df92, 0x1df94, 0x1dfa2, 0x1dfa4, 0x1dfa8, 0x1e08a, 0x1e092, 0x1e094, 0x1e0a2, 0x1e0a4, 0x1e0a8, 0x1e0b6, 0x1e0da, 0x1e10a, 0x1e112, 0x1e114, 0x1e122, 0x1e124, 0x1e128, 0x1e136, 0x1e142, 0x1e144, 0x1e148, 0x1e150, 0x1e166, 0x1e16c, 0x1e17a, 0x1e19a, 0x1e1b2, 0x1e1b4, 0x1e20a, 0x1e212, 0x1e214, 0x1e222, 0x1e224, 0x1e228, 0x1e236, 0x1e242, 0x1e248, 0x1e250, 0x1e25e, 0x1e266, 0x1e26c, 0x1e27a, 0x1e282, 0x1e284, 0x1e288, 0x1e290, 0x1e2a0, 0x1e2bc, 0x1e2c6, 0x1e2cc, 0x1e2d8, 0x1e2ee, 0x1e2f2, 0x1e2f4, 0x1e31a, 0x1e332, 0x1e334, 0x1e35c, 0x1e362, 0x1e364, 0x1e368, 0x1e3ba, 0x1e40a, 0x1e412, 0x1e414, 0x1e422, 0x1e428, 0x1e436, 0x1e442, 0x1e448, 0x1e450, 0x1e45e, 0x1e466, 0x1e46c, 0x1e47a, 0x1e482, 0x1e484, 0x1e490, 0x1e49e, 0x1e4a0, 0x1e4bc, 0x1e4c6, 0x1e4cc, 0x1e4d8, 0x1e4ee, 0x1e4f2, 0x1e4f4, 0x1e502, 0x1e504, 0x1e508, 0x1e510, 0x1e51e, 0x1e520, 0x1e53c, 0x1e540, 0x1e578, 0x1e586, 0x1e58c, 0x1e598, 0x1e5b0, 0x1e5be, 0x1e5ce, 0x1e5dc, 0x1e5e2, 0x1e5e4, 0x1e5e8, 0x1e5f6, 0x1e61a, 0x1e62e, 0x1e632, 0x1e634, 0x1e64e, 0x1e65c, 0x1e662, 0x1e668, 0x1e68e, 0x1e69c, 0x1e6b8, 0x1e6c2, 0x1e6c4, 0x1e6c8, 0x1e6d0, 0x1e6e6, 0x1e6fa, 0x1e716, 0x1e726, 0x1e72c, 0x1e73a, 0x1e746, 0x1e74c, 0x1e758, 0x1e772, 0x1e774, 0x1e792, 0x1e794, 0x1e7a2, 0x1e7a4, 0x1e7a8, 0x1e7b6, 0x1e812, 0x1e814, 0x1e822, 0x1e824, 0x1e828, 0x1e836, 0x1e842, 0x1e844, 0x1e848, 0x1e850, 0x1e85e, 0x1e866, 0x1e86c, 0x1e87a, 0x1e882, 0x1e884, 0x1e888, 0x1e890, 0x1e89e, 0x1e8a0, 0x1e8bc, 0x1e8c6, 0x1e8cc, 0x1e8d8, 0x1e8ee, 0x1e8f2, 0x1e8f4, 0x1e902, 0x1e904, 0x1e908, 0x1e910, 0x1e920, 0x1e93c, 0x1e940, 0x1e978, 0x1e986, 0x1e98c, 0x1e998, 0x1e9b0, 0x1e9be, 0x1e9ce, 0x1e9dc, 0x1e9e2, 0x1e9e4, 0x1e9e8, 0x1e9f6, 0x1ea04, 0x1ea08, 0x1ea10, 0x1ea20, 0x1ea40, 0x1ea78, 0x1eaf0, 0x1eb06, 0x1eb0c, 0x1eb18, 0x1eb30, 0x1eb3e, 0x1eb60, 0x1eb7c, 0x1eb8e, 0x1eb9c, 0x1ebb8, 0x1ebc2, 0x1ebc4, 0x1ebc8, 0x1ebd0, 0x1ebde, 0x1ebe6, 0x1ebec, 0x1ec1a, 0x1ec2e, 0x1ec32, 0x1ec34, 0x1ec4e, 0x1ec5c, 0x1ec62, 0x1ec64, 0x1ec68, 0x1ec8e, 0x1ec9c, 0x1ecb8, 0x1ecc2, 0x1ecc4, 0x1ecc8, 0x1ecd0, 0x1ece6, 0x1ecfa, 0x1ed0e, 0x1ed1c, 0x1ed38, 0x1ed70, 0x1ed7e, 0x1ed82, 0x1ed84, 0x1ed88, 0x1ed90, 0x1ed9e, 0x1eda0, 0x1edcc, 0x1edf2, 0x1edf4, 0x1ee16, 0x1ee26, 0x1ee2c, 0x1ee3a, 0x1ee46, 0x1ee4c, 0x1ee58, 0x1ee6e, 0x1ee72, 0x1ee74, 0x1ee86, 0x1ee8c, 0x1ee98, 0x1eeb0, 0x1eebe, 0x1eece, 0x1eedc, 0x1eee2, 0x1eee4, 0x1eee8, 0x1ef12, 0x1ef22, 0x1ef24, 0x1ef28, 0x1ef36, 0x1ef42, 0x1ef44, 0x1ef48, 0x1ef50, 0x1ef5e, 0x1ef66, 0x1ef6c, 0x1ef7a, 0x1efae, 0x1efb2, 0x1efb4, 0x1efd6, 0x1f096, 0x1f0a6, 0x1f0ac, 0x1f0ba, 0x1f0ca, 0x1f0d2, 0x1f0d4, 0x1f116, 0x1f126, 0x1f12c, 0x1f13a, 0x1f146, 0x1f14c, 0x1f158, 0x1f16e, 0x1f172, 0x1f174, 0x1f18a, 0x1f192, 0x1f194, 0x1f1a2, 0x1f1a4, 0x1f1a8, 0x1f1da, 0x1f216, 0x1f226, 0x1f22c, 0x1f23a, 0x1f246, 0x1f258, 0x1f26e, 0x1f272, 0x1f274, 0x1f286, 0x1f28c, 0x1f298, 0x1f2b0, 0x1f2be, 0x1f2ce, 0x1f2dc, 0x1f2e2, 0x1f2e4, 0x1f2e8, 0x1f2f6, 0x1f30a, 0x1f312, 0x1f314, 0x1f322, 0x1f328, 0x1f342, 0x1f344, 0x1f348, 0x1f350, 0x1f35e, 0x1f366, 0x1f37a, 0x1f39a, 0x1f3ae, 0x1f3b2, 0x1f3b4, 0x1f416, 0x1f426, 0x1f42c, 0x1f43a, 0x1f446, 0x1f44c, 0x1f458, 0x1f46e, 0x1f472, 0x1f474, 0x1f486, 0x1f48c, 0x1f498, 0x1f4b0, 0x1f4be, 0x1f4ce, 0x1f4dc, 0x1f4e2, 0x1f4e4, 0x1f4e8, 0x1f4f6, 0x1f506, 0x1f50c, 0x1f518, 0x1f530, 0x1f53e, 0x1f560, 0x1f57c, 0x1f58e, 0x1f59c, 0x1f5b8, 0x1f5c2, 0x1f5c4, 0x1f5c8, 0x1f5d0, 0x1f5de, 0x1f5e6, 0x1f5ec, 0x1f5fa, 0x1f60a, 0x1f612, 0x1f614, 0x1f622, 0x1f624, 0x1f628, 0x1f636, 0x1f642, 0x1f644, 0x1f648, 0x1f650, 0x1f65e, 0x1f666, 0x1f67a, 0x1f682, 0x1f684, 0x1f688, 0x1f690, 0x1f69e, 0x1f6a0, 0x1f6bc, 0x1f6cc, 0x1f6f2, 0x1f6f4, 0x1f71a, 0x1f72e, 0x1f732, 0x1f734, 0x1f74e, 0x1f75c, 0x1f762, 0x1f764, 0x1f768, 0x1f776, 0x1f796, 0x1f7a6, 0x1f7ac, 0x1f7ba, 0x1f7d2, 0x1f7d4, 0x1f89a, 0x1f8ae, 0x1f8b2, 0x1f8b4, 0x1f8d6, 0x1f8ea, 0x1f91a, 0x1f92e, 0x1f932, 0x1f934, 0x1f94e, 0x1f95c, 0x1f962, 0x1f964, 0x1f968, 0x1f976, 0x1f996, 0x1f9a6, 0x1f9ac, 0x1f9ba, 0x1f9ca, 0x1f9d2, 0x1f9d4, 0x1fa1a, 0x1fa2e, 0x1fa32, 0x1fa34, 0x1fa4e, 0x1fa5c, 0x1fa62, 0x1fa64, 0x1fa68, 0x1fa76, 0x1fa8e, 0x1fa9c, 0x1fab8, 0x1fac2, 0x1fac4, 0x1fac8, 0x1fad0, 0x1fade, 0x1fae6, 0x1faec, 0x1fb16, 0x1fb26, 0x1fb2c, 0x1fb3a, 0x1fb46, 0x1fb4c, 0x1fb58, 0x1fb6e, 0x1fb72, 0x1fb74, 0x1fb8a, 0x1fb92, 0x1fb94, 0x1fba2, 0x1fba4, 0x1fba8, 0x1fbb6, 0x1fbda]);
  /**
   * This table contains to codewords for all symbols.
   */

  PDF417Common.CODEWORD_TABLE = Int32Array.from([2627, 1819, 2622, 2621, 1813, 1812, 2729, 2724, 2723, 2779, 2774, 2773, 902, 896, 908, 868, 865, 861, 859, 2511, 873, 871, 1780, 835, 2493, 825, 2491, 842, 837, 844, 1764, 1762, 811, 810, 809, 2483, 807, 2482, 806, 2480, 815, 814, 813, 812, 2484, 817, 816, 1745, 1744, 1742, 1746, 2655, 2637, 2635, 2626, 2625, 2623, 2628, 1820, 2752, 2739, 2737, 2728, 2727, 2725, 2730, 2785, 2783, 2778, 2777, 2775, 2780, 787, 781, 747, 739, 736, 2413, 754, 752, 1719, 692, 689, 681, 2371, 678, 2369, 700, 697, 694, 703, 1688, 1686, 642, 638, 2343, 631, 2341, 627, 2338, 651, 646, 643, 2345, 654, 652, 1652, 1650, 1647, 1654, 601, 599, 2322, 596, 2321, 594, 2319, 2317, 611, 610, 608, 606, 2324, 603, 2323, 615, 614, 612, 1617, 1616, 1614, 1612, 616, 1619, 1618, 2575, 2538, 2536, 905, 901, 898, 909, 2509, 2507, 2504, 870, 867, 864, 860, 2512, 875, 872, 1781, 2490, 2489, 2487, 2485, 1748, 836, 834, 832, 830, 2494, 827, 2492, 843, 841, 839, 845, 1765, 1763, 2701, 2676, 2674, 2653, 2648, 2656, 2634, 2633, 2631, 2629, 1821, 2638, 2636, 2770, 2763, 2761, 2750, 2745, 2753, 2736, 2735, 2733, 2731, 1848, 2740, 2738, 2786, 2784, 591, 588, 576, 569, 566, 2296, 1590, 537, 534, 526, 2276, 522, 2274, 545, 542, 539, 548, 1572, 1570, 481, 2245, 466, 2242, 462, 2239, 492, 485, 482, 2249, 496, 494, 1534, 1531, 1528, 1538, 413, 2196, 406, 2191, 2188, 425, 419, 2202, 415, 2199, 432, 430, 427, 1472, 1467, 1464, 433, 1476, 1474, 368, 367, 2160, 365, 2159, 362, 2157, 2155, 2152, 378, 377, 375, 2166, 372, 2165, 369, 2162, 383, 381, 379, 2168, 1419, 1418, 1416, 1414, 385, 1411, 384, 1423, 1422, 1420, 1424, 2461, 802, 2441, 2439, 790, 786, 783, 794, 2409, 2406, 2403, 750, 742, 738, 2414, 756, 753, 1720, 2367, 2365, 2362, 2359, 1663, 693, 691, 684, 2373, 680, 2370, 702, 699, 696, 704, 1690, 1687, 2337, 2336, 2334, 2332, 1624, 2329, 1622, 640, 637, 2344, 634, 2342, 630, 2340, 650, 648, 645, 2346, 655, 653, 1653, 1651, 1649, 1655, 2612, 2597, 2595, 2571, 2568, 2565, 2576, 2534, 2529, 2526, 1787, 2540, 2537, 907, 904, 900, 910, 2503, 2502, 2500, 2498, 1768, 2495, 1767, 2510, 2508, 2506, 869, 866, 863, 2513, 876, 874, 1782, 2720, 2713, 2711, 2697, 2694, 2691, 2702, 2672, 2670, 2664, 1828, 2678, 2675, 2647, 2646, 2644, 2642, 1823, 2639, 1822, 2654, 2652, 2650, 2657, 2771, 1855, 2765, 2762, 1850, 1849, 2751, 2749, 2747, 2754, 353, 2148, 344, 342, 336, 2142, 332, 2140, 345, 1375, 1373, 306, 2130, 299, 2128, 295, 2125, 319, 314, 311, 2132, 1354, 1352, 1349, 1356, 262, 257, 2101, 253, 2096, 2093, 274, 273, 267, 2107, 263, 2104, 280, 278, 275, 1316, 1311, 1308, 1320, 1318, 2052, 202, 2050, 2044, 2040, 219, 2063, 212, 2060, 208, 2055, 224, 221, 2066, 1260, 1258, 1252, 231, 1248, 229, 1266, 1264, 1261, 1268, 155, 1998, 153, 1996, 1994, 1991, 1988, 165, 164, 2007, 162, 2006, 159, 2003, 2000, 172, 171, 169, 2012, 166, 2010, 1186, 1184, 1182, 1179, 175, 1176, 173, 1192, 1191, 1189, 1187, 176, 1194, 1193, 2313, 2307, 2305, 592, 589, 2294, 2292, 2289, 578, 572, 568, 2297, 580, 1591, 2272, 2267, 2264, 1547, 538, 536, 529, 2278, 525, 2275, 547, 544, 541, 1574, 1571, 2237, 2235, 2229, 1493, 2225, 1489, 478, 2247, 470, 2244, 465, 2241, 493, 488, 484, 2250, 498, 495, 1536, 1533, 1530, 1539, 2187, 2186, 2184, 2182, 1432, 2179, 1430, 2176, 1427, 414, 412, 2197, 409, 2195, 405, 2193, 2190, 426, 424, 421, 2203, 418, 2201, 431, 429, 1473, 1471, 1469, 1466, 434, 1477, 1475, 2478, 2472, 2470, 2459, 2457, 2454, 2462, 803, 2437, 2432, 2429, 1726, 2443, 2440, 792, 789, 785, 2401, 2399, 2393, 1702, 2389, 1699, 2411, 2408, 2405, 745, 741, 2415, 758, 755, 1721, 2358, 2357, 2355, 2353, 1661, 2350, 1660, 2347, 1657, 2368, 2366, 2364, 2361, 1666, 690, 687, 2374, 683, 2372, 701, 698, 705, 1691, 1689, 2619, 2617, 2610, 2608, 2605, 2613, 2593, 2588, 2585, 1803, 2599, 2596, 2563, 2561, 2555, 1797, 2551, 1795, 2573, 2570, 2567, 2577, 2525, 2524, 2522, 2520, 1786, 2517, 1785, 2514, 1783, 2535, 2533, 2531, 2528, 1788, 2541, 2539, 906, 903, 911, 2721, 1844, 2715, 2712, 1838, 1836, 2699, 2696, 2693, 2703, 1827, 1826, 1824, 2673, 2671, 2669, 2666, 1829, 2679, 2677, 1858, 1857, 2772, 1854, 1853, 1851, 1856, 2766, 2764, 143, 1987, 139, 1986, 135, 133, 131, 1984, 128, 1983, 125, 1981, 138, 137, 136, 1985, 1133, 1132, 1130, 112, 110, 1974, 107, 1973, 104, 1971, 1969, 122, 121, 119, 117, 1977, 114, 1976, 124, 1115, 1114, 1112, 1110, 1117, 1116, 84, 83, 1953, 81, 1952, 78, 1950, 1948, 1945, 94, 93, 91, 1959, 88, 1958, 85, 1955, 99, 97, 95, 1961, 1086, 1085, 1083, 1081, 1078, 100, 1090, 1089, 1087, 1091, 49, 47, 1917, 44, 1915, 1913, 1910, 1907, 59, 1926, 56, 1925, 53, 1922, 1919, 66, 64, 1931, 61, 1929, 1042, 1040, 1038, 71, 1035, 70, 1032, 68, 1048, 1047, 1045, 1043, 1050, 1049, 12, 10, 1869, 1867, 1864, 1861, 21, 1880, 19, 1877, 1874, 1871, 28, 1888, 25, 1886, 22, 1883, 982, 980, 977, 974, 32, 30, 991, 989, 987, 984, 34, 995, 994, 992, 2151, 2150, 2147, 2146, 2144, 356, 355, 354, 2149, 2139, 2138, 2136, 2134, 1359, 343, 341, 338, 2143, 335, 2141, 348, 347, 346, 1376, 1374, 2124, 2123, 2121, 2119, 1326, 2116, 1324, 310, 308, 305, 2131, 302, 2129, 298, 2127, 320, 318, 316, 313, 2133, 322, 321, 1355, 1353, 1351, 1357, 2092, 2091, 2089, 2087, 1276, 2084, 1274, 2081, 1271, 259, 2102, 256, 2100, 252, 2098, 2095, 272, 269, 2108, 266, 2106, 281, 279, 277, 1317, 1315, 1313, 1310, 282, 1321, 1319, 2039, 2037, 2035, 2032, 1203, 2029, 1200, 1197, 207, 2053, 205, 2051, 201, 2049, 2046, 2043, 220, 218, 2064, 215, 2062, 211, 2059, 228, 226, 223, 2069, 1259, 1257, 1254, 232, 1251, 230, 1267, 1265, 1263, 2316, 2315, 2312, 2311, 2309, 2314, 2304, 2303, 2301, 2299, 1593, 2308, 2306, 590, 2288, 2287, 2285, 2283, 1578, 2280, 1577, 2295, 2293, 2291, 579, 577, 574, 571, 2298, 582, 581, 1592, 2263, 2262, 2260, 2258, 1545, 2255, 1544, 2252, 1541, 2273, 2271, 2269, 2266, 1550, 535, 532, 2279, 528, 2277, 546, 543, 549, 1575, 1573, 2224, 2222, 2220, 1486, 2217, 1485, 2214, 1482, 1479, 2238, 2236, 2234, 2231, 1496, 2228, 1492, 480, 477, 2248, 473, 2246, 469, 2243, 490, 487, 2251, 497, 1537, 1535, 1532, 2477, 2476, 2474, 2479, 2469, 2468, 2466, 2464, 1730, 2473, 2471, 2453, 2452, 2450, 2448, 1729, 2445, 1728, 2460, 2458, 2456, 2463, 805, 804, 2428, 2427, 2425, 2423, 1725, 2420, 1724, 2417, 1722, 2438, 2436, 2434, 2431, 1727, 2444, 2442, 793, 791, 788, 795, 2388, 2386, 2384, 1697, 2381, 1696, 2378, 1694, 1692, 2402, 2400, 2398, 2395, 1703, 2392, 1701, 2412, 2410, 2407, 751, 748, 744, 2416, 759, 757, 1807, 2620, 2618, 1806, 1805, 2611, 2609, 2607, 2614, 1802, 1801, 1799, 2594, 2592, 2590, 2587, 1804, 2600, 2598, 1794, 1793, 1791, 1789, 2564, 2562, 2560, 2557, 1798, 2554, 1796, 2574, 2572, 2569, 2578, 1847, 1846, 2722, 1843, 1842, 1840, 1845, 2716, 2714, 1835, 1834, 1832, 1830, 1839, 1837, 2700, 2698, 2695, 2704, 1817, 1811, 1810, 897, 862, 1777, 829, 826, 838, 1760, 1758, 808, 2481, 1741, 1740, 1738, 1743, 2624, 1818, 2726, 2776, 782, 740, 737, 1715, 686, 679, 695, 1682, 1680, 639, 628, 2339, 647, 644, 1645, 1643, 1640, 1648, 602, 600, 597, 595, 2320, 593, 2318, 609, 607, 604, 1611, 1610, 1608, 1606, 613, 1615, 1613, 2328, 926, 924, 892, 886, 899, 857, 850, 2505, 1778, 824, 823, 821, 819, 2488, 818, 2486, 833, 831, 828, 840, 1761, 1759, 2649, 2632, 2630, 2746, 2734, 2732, 2782, 2781, 570, 567, 1587, 531, 527, 523, 540, 1566, 1564, 476, 467, 463, 2240, 486, 483, 1524, 1521, 1518, 1529, 411, 403, 2192, 399, 2189, 423, 416, 1462, 1457, 1454, 428, 1468, 1465, 2210, 366, 363, 2158, 360, 2156, 357, 2153, 376, 373, 370, 2163, 1410, 1409, 1407, 1405, 382, 1402, 380, 1417, 1415, 1412, 1421, 2175, 2174, 777, 774, 771, 784, 732, 725, 722, 2404, 743, 1716, 676, 674, 668, 2363, 665, 2360, 685, 1684, 1681, 626, 624, 622, 2335, 620, 2333, 617, 2330, 641, 635, 649, 1646, 1644, 1642, 2566, 928, 925, 2530, 2527, 894, 891, 888, 2501, 2499, 2496, 858, 856, 854, 851, 1779, 2692, 2668, 2665, 2645, 2643, 2640, 2651, 2768, 2759, 2757, 2744, 2743, 2741, 2748, 352, 1382, 340, 337, 333, 1371, 1369, 307, 300, 296, 2126, 315, 312, 1347, 1342, 1350, 261, 258, 250, 2097, 246, 2094, 271, 268, 264, 1306, 1301, 1298, 276, 1312, 1309, 2115, 203, 2048, 195, 2045, 191, 2041, 213, 209, 2056, 1246, 1244, 1238, 225, 1234, 222, 1256, 1253, 1249, 1262, 2080, 2079, 154, 1997, 150, 1995, 147, 1992, 1989, 163, 160, 2004, 156, 2001, 1175, 1174, 1172, 1170, 1167, 170, 1164, 167, 1185, 1183, 1180, 1177, 174, 1190, 1188, 2025, 2024, 2022, 587, 586, 564, 559, 556, 2290, 573, 1588, 520, 518, 512, 2268, 508, 2265, 530, 1568, 1565, 461, 457, 2233, 450, 2230, 446, 2226, 479, 471, 489, 1526, 1523, 1520, 397, 395, 2185, 392, 2183, 389, 2180, 2177, 410, 2194, 402, 422, 1463, 1461, 1459, 1456, 1470, 2455, 799, 2433, 2430, 779, 776, 773, 2397, 2394, 2390, 734, 728, 724, 746, 1717, 2356, 2354, 2351, 2348, 1658, 677, 675, 673, 670, 667, 688, 1685, 1683, 2606, 2589, 2586, 2559, 2556, 2552, 927, 2523, 2521, 2518, 2515, 1784, 2532, 895, 893, 890, 2718, 2709, 2707, 2689, 2687, 2684, 2663, 2662, 2660, 2658, 1825, 2667, 2769, 1852, 2760, 2758, 142, 141, 1139, 1138, 134, 132, 129, 126, 1982, 1129, 1128, 1126, 1131, 113, 111, 108, 105, 1972, 101, 1970, 120, 118, 115, 1109, 1108, 1106, 1104, 123, 1113, 1111, 82, 79, 1951, 75, 1949, 72, 1946, 92, 89, 86, 1956, 1077, 1076, 1074, 1072, 98, 1069, 96, 1084, 1082, 1079, 1088, 1968, 1967, 48, 45, 1916, 42, 1914, 39, 1911, 1908, 60, 57, 54, 1923, 50, 1920, 1031, 1030, 1028, 1026, 67, 1023, 65, 1020, 62, 1041, 1039, 1036, 1033, 69, 1046, 1044, 1944, 1943, 1941, 11, 9, 1868, 7, 1865, 1862, 1859, 20, 1878, 16, 1875, 13, 1872, 970, 968, 966, 963, 29, 960, 26, 23, 983, 981, 978, 975, 33, 971, 31, 990, 988, 985, 1906, 1904, 1902, 993, 351, 2145, 1383, 331, 330, 328, 326, 2137, 323, 2135, 339, 1372, 1370, 294, 293, 291, 289, 2122, 286, 2120, 283, 2117, 309, 303, 317, 1348, 1346, 1344, 245, 244, 242, 2090, 239, 2088, 236, 2085, 2082, 260, 2099, 249, 270, 1307, 1305, 1303, 1300, 1314, 189, 2038, 186, 2036, 183, 2033, 2030, 2026, 206, 198, 2047, 194, 216, 1247, 1245, 1243, 1240, 227, 1237, 1255, 2310, 2302, 2300, 2286, 2284, 2281, 565, 563, 561, 558, 575, 1589, 2261, 2259, 2256, 2253, 1542, 521, 519, 517, 514, 2270, 511, 533, 1569, 1567, 2223, 2221, 2218, 2215, 1483, 2211, 1480, 459, 456, 453, 2232, 449, 474, 491, 1527, 1525, 1522, 2475, 2467, 2465, 2451, 2449, 2446, 801, 800, 2426, 2424, 2421, 2418, 1723, 2435, 780, 778, 775, 2387, 2385, 2382, 2379, 1695, 2375, 1693, 2396, 735, 733, 730, 727, 749, 1718, 2616, 2615, 2604, 2603, 2601, 2584, 2583, 2581, 2579, 1800, 2591, 2550, 2549, 2547, 2545, 1792, 2542, 1790, 2558, 929, 2719, 1841, 2710, 2708, 1833, 1831, 2690, 2688, 2686, 1815, 1809, 1808, 1774, 1756, 1754, 1737, 1736, 1734, 1739, 1816, 1711, 1676, 1674, 633, 629, 1638, 1636, 1633, 1641, 598, 1605, 1604, 1602, 1600, 605, 1609, 1607, 2327, 887, 853, 1775, 822, 820, 1757, 1755, 1584, 524, 1560, 1558, 468, 464, 1514, 1511, 1508, 1519, 408, 404, 400, 1452, 1447, 1444, 417, 1458, 1455, 2208, 364, 361, 358, 2154, 1401, 1400, 1398, 1396, 374, 1393, 371, 1408, 1406, 1403, 1413, 2173, 2172, 772, 726, 723, 1712, 672, 669, 666, 682, 1678, 1675, 625, 623, 621, 618, 2331, 636, 632, 1639, 1637, 1635, 920, 918, 884, 880, 889, 849, 848, 847, 846, 2497, 855, 852, 1776, 2641, 2742, 2787, 1380, 334, 1367, 1365, 301, 297, 1340, 1338, 1335, 1343, 255, 251, 247, 1296, 1291, 1288, 265, 1302, 1299, 2113, 204, 196, 192, 2042, 1232, 1230, 1224, 214, 1220, 210, 1242, 1239, 1235, 1250, 2077, 2075, 151, 148, 1993, 144, 1990, 1163, 1162, 1160, 1158, 1155, 161, 1152, 157, 1173, 1171, 1168, 1165, 168, 1181, 1178, 2021, 2020, 2018, 2023, 585, 560, 557, 1585, 516, 509, 1562, 1559, 458, 447, 2227, 472, 1516, 1513, 1510, 398, 396, 393, 390, 2181, 386, 2178, 407, 1453, 1451, 1449, 1446, 420, 1460, 2209, 769, 764, 720, 712, 2391, 729, 1713, 664, 663, 661, 659, 2352, 656, 2349, 671, 1679, 1677, 2553, 922, 919, 2519, 2516, 885, 883, 881, 2685, 2661, 2659, 2767, 2756, 2755, 140, 1137, 1136, 130, 127, 1125, 1124, 1122, 1127, 109, 106, 102, 1103, 1102, 1100, 1098, 116, 1107, 1105, 1980, 80, 76, 73, 1947, 1068, 1067, 1065, 1063, 90, 1060, 87, 1075, 1073, 1070, 1080, 1966, 1965, 46, 43, 40, 1912, 36, 1909, 1019, 1018, 1016, 1014, 58, 1011, 55, 1008, 51, 1029, 1027, 1024, 1021, 63, 1037, 1034, 1940, 1939, 1937, 1942, 8, 1866, 4, 1863, 1, 1860, 956, 954, 952, 949, 946, 17, 14, 969, 967, 964, 961, 27, 957, 24, 979, 976, 972, 1901, 1900, 1898, 1896, 986, 1905, 1903, 350, 349, 1381, 329, 327, 324, 1368, 1366, 292, 290, 287, 284, 2118, 304, 1341, 1339, 1337, 1345, 243, 240, 237, 2086, 233, 2083, 254, 1297, 1295, 1293, 1290, 1304, 2114, 190, 187, 184, 2034, 180, 2031, 177, 2027, 199, 1233, 1231, 1229, 1226, 217, 1223, 1241, 2078, 2076, 584, 555, 554, 552, 550, 2282, 562, 1586, 507, 506, 504, 502, 2257, 499, 2254, 515, 1563, 1561, 445, 443, 441, 2219, 438, 2216, 435, 2212, 460, 454, 475, 1517, 1515, 1512, 2447, 798, 797, 2422, 2419, 770, 768, 766, 2383, 2380, 2376, 721, 719, 717, 714, 731, 1714, 2602, 2582, 2580, 2548, 2546, 2543, 923, 921, 2717, 2706, 2705, 2683, 2682, 2680, 1771, 1752, 1750, 1733, 1732, 1731, 1735, 1814, 1707, 1670, 1668, 1631, 1629, 1626, 1634, 1599, 1598, 1596, 1594, 1603, 1601, 2326, 1772, 1753, 1751, 1581, 1554, 1552, 1504, 1501, 1498, 1509, 1442, 1437, 1434, 401, 1448, 1445, 2206, 1392, 1391, 1389, 1387, 1384, 359, 1399, 1397, 1394, 1404, 2171, 2170, 1708, 1672, 1669, 619, 1632, 1630, 1628, 1773, 1378, 1363, 1361, 1333, 1328, 1336, 1286, 1281, 1278, 248, 1292, 1289, 2111, 1218, 1216, 1210, 197, 1206, 193, 1228, 1225, 1221, 1236, 2073, 2071, 1151, 1150, 1148, 1146, 152, 1143, 149, 1140, 145, 1161, 1159, 1156, 1153, 158, 1169, 1166, 2017, 2016, 2014, 2019, 1582, 510, 1556, 1553, 452, 448, 1506, 1500, 394, 391, 387, 1443, 1441, 1439, 1436, 1450, 2207, 765, 716, 713, 1709, 662, 660, 657, 1673, 1671, 916, 914, 879, 878, 877, 882, 1135, 1134, 1121, 1120, 1118, 1123, 1097, 1096, 1094, 1092, 103, 1101, 1099, 1979, 1059, 1058, 1056, 1054, 77, 1051, 74, 1066, 1064, 1061, 1071, 1964, 1963, 1007, 1006, 1004, 1002, 999, 41, 996, 37, 1017, 1015, 1012, 1009, 52, 1025, 1022, 1936, 1935, 1933, 1938, 942, 940, 938, 935, 932, 5, 2, 955, 953, 950, 947, 18, 943, 15, 965, 962, 958, 1895, 1894, 1892, 1890, 973, 1899, 1897, 1379, 325, 1364, 1362, 288, 285, 1334, 1332, 1330, 241, 238, 234, 1287, 1285, 1283, 1280, 1294, 2112, 188, 185, 181, 178, 2028, 1219, 1217, 1215, 1212, 200, 1209, 1227, 2074, 2072, 583, 553, 551, 1583, 505, 503, 500, 513, 1557, 1555, 444, 442, 439, 436, 2213, 455, 451, 1507, 1505, 1502, 796, 763, 762, 760, 767, 711, 710, 708, 706, 2377, 718, 715, 1710, 2544, 917, 915, 2681, 1627, 1597, 1595, 2325, 1769, 1749, 1747, 1499, 1438, 1435, 2204, 1390, 1388, 1385, 1395, 2169, 2167, 1704, 1665, 1662, 1625, 1623, 1620, 1770, 1329, 1282, 1279, 2109, 1214, 1207, 1222, 2068, 2065, 1149, 1147, 1144, 1141, 146, 1157, 1154, 2013, 2011, 2008, 2015, 1579, 1549, 1546, 1495, 1487, 1433, 1431, 1428, 1425, 388, 1440, 2205, 1705, 658, 1667, 1664, 1119, 1095, 1093, 1978, 1057, 1055, 1052, 1062, 1962, 1960, 1005, 1003, 1000, 997, 38, 1013, 1010, 1932, 1930, 1927, 1934, 941, 939, 936, 933, 6, 930, 3, 951, 948, 944, 1889, 1887, 1884, 1881, 959, 1893, 1891, 35, 1377, 1360, 1358, 1327, 1325, 1322, 1331, 1277, 1275, 1272, 1269, 235, 1284, 2110, 1205, 1204, 1201, 1198, 182, 1195, 179, 1213, 2070, 2067, 1580, 501, 1551, 1548, 440, 437, 1497, 1494, 1490, 1503, 761, 709, 707, 1706, 913, 912, 2198, 1386, 2164, 2161, 1621, 1766, 2103, 1208, 2058, 2054, 1145, 1142, 2005, 2002, 1999, 2009, 1488, 1429, 1426, 2200, 1698, 1659, 1656, 1975, 1053, 1957, 1954, 1001, 998, 1924, 1921, 1918, 1928, 937, 934, 931, 1879, 1876, 1873, 1870, 945, 1885, 1882, 1323, 1273, 1270, 2105, 1202, 1199, 1196, 1211, 2061, 2057, 1576, 1543, 1540, 1484, 1481, 1478, 1491, 1700]);
  return PDF417Common;
}();

/*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
// import java.util.List;

/**
 * @author Guenther Grau
 */
var PDF417DetectorResult =
/** @class */
function () {
  function PDF417DetectorResult(bits, points) {
    this.bits = bits;
    this.points = points;
  }

  PDF417DetectorResult.prototype.getBits = function () {
    return this.bits;
  };

  PDF417DetectorResult.prototype.getPoints = function () {
    return this.points;
  };

  return PDF417DetectorResult;
}();

/*
* Copyright 2009 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var __values$c = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // import com.google.zxing.NotFoundException;
// import java.util.Arrays;
// import java.util.List;
// import java.util.Map;

/**
 * <p>Encapsulates logic that can detect a PDF417 Code in an image, even if the
 * PDF417 Code is rotated or skewed, or partially obscured.</p>
 *
 * @author SITA Lab (kevin.osullivan@sita.aero)
 * @author dswitkin@google.com (Daniel Switkin)
 * @author Guenther Grau
 */

var Detector =
/** @class */
function () {
  function Detector() {}
  /**
   * <p>Detects a PDF417 Code in an image. Only checks 0 and 180 degree rotations.</p>
   *
   * @param image barcode image to decode
   * @param hints optional hints to detector
   * @param multiple if true, then the image is searched for multiple codes. If false, then at most one code will
   * be found and returned
   * @return {@link PDF417DetectorResult} encapsulating results of detecting a PDF417 code
   * @throws NotFoundException if no PDF417 Code can be found
   */


  Detector.detectMultiple = function (image, hints, multiple) {
    // TODO detection improvement, tryHarder could try several different luminance thresholds/blackpoints or even
    // different binarizers
    // boolean tryHarder = hints != null && hints.containsKey(DecodeHintType.TRY_HARDER);
    var bitMatrix = image.getBlackMatrix();
    var barcodeCoordinates = Detector.detect(multiple, bitMatrix);

    if (!barcodeCoordinates.length) {
      bitMatrix = bitMatrix.clone();
      bitMatrix.rotate180();
      barcodeCoordinates = Detector.detect(multiple, bitMatrix);
    }

    return new PDF417DetectorResult(bitMatrix, barcodeCoordinates);
  };
  /**
   * Detects PDF417 codes in an image. Only checks 0 degree rotation
   * @param multiple if true, then the image is searched for multiple codes. If false, then at most one code will
   * be found and returned
   * @param bitMatrix bit matrix to detect barcodes in
   * @return List of ResultPoint arrays containing the coordinates of found barcodes
   */


  Detector.detect = function (multiple, bitMatrix) {
    var e_1, _a;

    var barcodeCoordinates = new Array();
    var row = 0;
    var column = 0;
    var foundBarcodeInRow = false;

    while (row < bitMatrix.getHeight()) {
      var vertices = Detector.findVertices(bitMatrix, row, column);

      if (vertices[0] == null && vertices[3] == null) {
        if (!foundBarcodeInRow) {
          // we didn't find any barcode so that's the end of searching
          break;
        } // we didn't find a barcode starting at the given column and row. Try again from the first column and slightly
        // below the lowest barcode we found so far.


        foundBarcodeInRow = false;
        column = 0;

        try {
          for (var barcodeCoordinates_1 = (e_1 = void 0, __values$c(barcodeCoordinates)), barcodeCoordinates_1_1 = barcodeCoordinates_1.next(); !barcodeCoordinates_1_1.done; barcodeCoordinates_1_1 = barcodeCoordinates_1.next()) {
            var barcodeCoordinate = barcodeCoordinates_1_1.value;

            if (barcodeCoordinate[1] != null) {
              row = Math.trunc(Math.max(row, barcodeCoordinate[1].getY()));
            }

            if (barcodeCoordinate[3] != null) {
              row = Math.max(row, Math.trunc(barcodeCoordinate[3].getY()));
            }
          }
        } catch (e_1_1) {
          e_1 = {
            error: e_1_1
          };
        } finally {
          try {
            if (barcodeCoordinates_1_1 && !barcodeCoordinates_1_1.done && (_a = barcodeCoordinates_1.return)) _a.call(barcodeCoordinates_1);
          } finally {
            if (e_1) throw e_1.error;
          }
        }

        row += Detector.ROW_STEP;
        continue;
      }

      foundBarcodeInRow = true;
      barcodeCoordinates.push(vertices);

      if (!multiple) {
        break;
      } // if we didn't find a right row indicator column, then continue the search for the next barcode after the
      // start pattern of the barcode just found.


      if (vertices[2] != null) {
        column = Math.trunc(vertices[2].getX());
        row = Math.trunc(vertices[2].getY());
      } else {
        column = Math.trunc(vertices[4].getX());
        row = Math.trunc(vertices[4].getY());
      }
    }

    return barcodeCoordinates;
  };
  /**
   * Locate the vertices and the codewords area of a black blob using the Start
   * and Stop patterns as locators.
   *
   * @param matrix the scanned barcode image.
   * @return an array containing the vertices:
   *           vertices[0] x, y top left barcode
   *           vertices[1] x, y bottom left barcode
   *           vertices[2] x, y top right barcode
   *           vertices[3] x, y bottom right barcode
   *           vertices[4] x, y top left codeword area
   *           vertices[5] x, y bottom left codeword area
   *           vertices[6] x, y top right codeword area
   *           vertices[7] x, y bottom right codeword area
   */


  Detector.findVertices = function (matrix, startRow, startColumn) {
    var height = matrix.getHeight();
    var width = matrix.getWidth(); // const result = new ResultPoint[8];

    var result = new Array(8);
    Detector.copyToResult(result, Detector.findRowsWithPattern(matrix, height, width, startRow, startColumn, Detector.START_PATTERN), Detector.INDEXES_START_PATTERN);

    if (result[4] != null) {
      startColumn = Math.trunc(result[4].getX());
      startRow = Math.trunc(result[4].getY());
    }

    Detector.copyToResult(result, Detector.findRowsWithPattern(matrix, height, width, startRow, startColumn, Detector.STOP_PATTERN), Detector.INDEXES_STOP_PATTERN);
    return result;
  };

  Detector.copyToResult = function (result, tmpResult, destinationIndexes) {
    for (var i = 0; i < destinationIndexes.length; i++) {
      result[destinationIndexes[i]] = tmpResult[i];
    }
  };

  Detector.findRowsWithPattern = function (matrix, height, width, startRow, startColumn, pattern) {
    // const result = new ResultPoint[4];
    var result = new Array(4);
    var found = false;
    var counters = new Int32Array(pattern.length);

    for (; startRow < height; startRow += Detector.ROW_STEP) {
      var loc = Detector.findGuardPattern(matrix, startColumn, startRow, width, false, pattern, counters);

      if (loc != null) {
        while (startRow > 0) {
          var previousRowLoc = Detector.findGuardPattern(matrix, startColumn, --startRow, width, false, pattern, counters);

          if (previousRowLoc != null) {
            loc = previousRowLoc;
          } else {
            startRow++;
            break;
          }
        }

        result[0] = new ResultPoint(loc[0], startRow);
        result[1] = new ResultPoint(loc[1], startRow);
        found = true;
        break;
      }
    }

    var stopRow = startRow + 1; // Last row of the current symbol that contains pattern

    if (found) {
      var skippedRowCount = 0;
      var previousRowLoc = Int32Array.from([Math.trunc(result[0].getX()), Math.trunc(result[1].getX())]);

      for (; stopRow < height; stopRow++) {
        var loc = Detector.findGuardPattern(matrix, previousRowLoc[0], stopRow, width, false, pattern, counters); // a found pattern is only considered to belong to the same barcode if the start and end positions
        // don't differ too much. Pattern drift should be not bigger than two for consecutive rows. With
        // a higher number of skipped rows drift could be larger. To keep it simple for now, we allow a slightly
        // larger drift and don't check for skipped rows.

        if (loc != null && Math.abs(previousRowLoc[0] - loc[0]) < Detector.MAX_PATTERN_DRIFT && Math.abs(previousRowLoc[1] - loc[1]) < Detector.MAX_PATTERN_DRIFT) {
          previousRowLoc = loc;
          skippedRowCount = 0;
        } else {
          if (skippedRowCount > Detector.SKIPPED_ROW_COUNT_MAX) {
            break;
          } else {
            skippedRowCount++;
          }
        }
      }

      stopRow -= skippedRowCount + 1;
      result[2] = new ResultPoint(previousRowLoc[0], stopRow);
      result[3] = new ResultPoint(previousRowLoc[1], stopRow);
    }

    if (stopRow - startRow < Detector.BARCODE_MIN_HEIGHT) {
      Arrays.fill(result, null);
    }

    return result;
  };
  /**
   * @param matrix row of black/white values to search
   * @param column x position to start search
   * @param row y position to start search
   * @param width the number of pixels to search on this row
   * @param pattern pattern of counts of number of black and white pixels that are
   *                 being searched for as a pattern
   * @param counters array of counters, as long as pattern, to re-use
   * @return start/end horizontal offset of guard pattern, as an array of two ints.
   */


  Detector.findGuardPattern = function (matrix, column, row, width, whiteFirst, pattern, counters) {
    Arrays.fillWithin(counters, 0, counters.length, 0);
    var patternStart = column;
    var pixelDrift = 0; // if there are black pixels left of the current pixel shift to the left, but only for MAX_PIXEL_DRIFT pixels

    while (matrix.get(patternStart, row) && patternStart > 0 && pixelDrift++ < Detector.MAX_PIXEL_DRIFT) {
      patternStart--;
    }

    var x = patternStart;
    var counterPosition = 0;
    var patternLength = pattern.length;

    for (var isWhite = whiteFirst; x < width; x++) {
      var pixel = matrix.get(x, row);

      if (pixel !== isWhite) {
        counters[counterPosition]++;
      } else {
        if (counterPosition === patternLength - 1) {
          if (Detector.patternMatchVariance(counters, pattern, Detector.MAX_INDIVIDUAL_VARIANCE) < Detector.MAX_AVG_VARIANCE) {
            return new Int32Array([patternStart, x]);
          }

          patternStart += counters[0] + counters[1];
          System.arraycopy(counters, 2, counters, 0, counterPosition - 1);
          counters[counterPosition - 1] = 0;
          counters[counterPosition] = 0;
          counterPosition--;
        } else {
          counterPosition++;
        }

        counters[counterPosition] = 1;
        isWhite = !isWhite;
      }
    }

    if (counterPosition === patternLength - 1 && Detector.patternMatchVariance(counters, pattern, Detector.MAX_INDIVIDUAL_VARIANCE) < Detector.MAX_AVG_VARIANCE) {
      return new Int32Array([patternStart, x - 1]);
    }

    return null;
  };
  /**
   * Determines how closely a set of observed counts of runs of black/white
   * values matches a given target pattern. This is reported as the ratio of
   * the total variance from the expected pattern proportions across all
   * pattern elements, to the length of the pattern.
   *
   * @param counters observed counters
   * @param pattern expected pattern
   * @param maxIndividualVariance The most any counter can differ before we give up
   * @return ratio of total variance between counters and pattern compared to total pattern size
   */


  Detector.patternMatchVariance = function (counters, pattern, maxIndividualVariance) {
    var numCounters = counters.length;
    var total = 0;
    var patternLength = 0;

    for (var i = 0; i < numCounters; i++) {
      total += counters[i];
      patternLength += pattern[i];
    }

    if (total < patternLength) {
      // If we don't even have one pixel per unit of bar width, assume this
      // is too small to reliably match, so fail:
      return (
        /*Float.POSITIVE_INFINITY*/
        Infinity
      );
    } // We're going to fake floating-point math in integers. We just need to use more bits.
    // Scale up patternLength so that intermediate values below like scaledCounter will have
    // more "significant digits".


    var unitBarWidth = total / patternLength;
    maxIndividualVariance *= unitBarWidth;
    var totalVariance = 0.0;

    for (var x = 0; x < numCounters; x++) {
      var counter = counters[x];
      var scaledPattern = pattern[x] * unitBarWidth;
      var variance = counter > scaledPattern ? counter - scaledPattern : scaledPattern - counter;

      if (variance > maxIndividualVariance) {
        return (
          /*Float.POSITIVE_INFINITY*/
          Infinity
        );
      }

      totalVariance += variance;
    }

    return totalVariance / total;
  };

  Detector.INDEXES_START_PATTERN = Int32Array.from([0, 4, 1, 5]);
  Detector.INDEXES_STOP_PATTERN = Int32Array.from([6, 2, 7, 3]);
  Detector.MAX_AVG_VARIANCE = 0.42;
  Detector.MAX_INDIVIDUAL_VARIANCE = 0.8; // B S B S B S B S Bar/Space pattern
  // 11111111 0 1 0 1 0 1 000

  Detector.START_PATTERN = Int32Array.from([8, 1, 1, 1, 1, 1, 1, 3]); // 1111111 0 1 000 1 0 1 00 1

  Detector.STOP_PATTERN = Int32Array.from([7, 1, 1, 3, 1, 1, 1, 2, 1]);
  Detector.MAX_PIXEL_DRIFT = 3;
  Detector.MAX_PATTERN_DRIFT = 5; // if we set the value too low, then we don't detect the correct height of the bar if the start patterns are damaged.
  // if we set the value too high, then we might detect the start pattern from a neighbor barcode.

  Detector.SKIPPED_ROW_COUNT_MAX = 25; // A PDF471 barcode should have at least 3 rows, with each row being >= 3 times the module width. Therefore it should be at least
  // 9 pixels tall. To be conservative, we use about half the size to ensure we don't miss it.

  Detector.ROW_STEP = 5;
  Detector.BARCODE_MIN_HEIGHT = 10;
  return Detector;
}();

/*
* Copyright 2012 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var __values$b = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // package com.google.zxing.pdf417.decoder.ec;
/**
 * @author Sean Owen
 * @see com.google.zxing.common.reedsolomon.GenericGFPoly
 */

var ModulusPoly =
/** @class */
function () {
  function ModulusPoly(field, coefficients) {
    if (coefficients.length === 0) {
      throw new IllegalArgumentException();
    }

    this.field = field;
    var coefficientsLength =
    /*int*/
    coefficients.length;

    if (coefficientsLength > 1 && coefficients[0] === 0) {
      // Leading term must be non-zero for anything except the constant polynomial "0"
      var firstNonZero =
      /*int*/
      1;

      while (firstNonZero < coefficientsLength && coefficients[firstNonZero] === 0) {
        firstNonZero++;
      }

      if (firstNonZero === coefficientsLength) {
        this.coefficients = new Int32Array([0]);
      } else {
        this.coefficients = new Int32Array(coefficientsLength - firstNonZero);
        System.arraycopy(coefficients, firstNonZero, this.coefficients, 0, this.coefficients.length);
      }
    } else {
      this.coefficients = coefficients;
    }
  }

  ModulusPoly.prototype.getCoefficients = function () {
    return this.coefficients;
  };
  /**
   * @return degree of this polynomial
   */


  ModulusPoly.prototype.getDegree = function () {
    return this.coefficients.length - 1;
  };
  /**
   * @return true iff this polynomial is the monomial "0"
   */


  ModulusPoly.prototype.isZero = function () {
    return this.coefficients[0] === 0;
  };
  /**
   * @return coefficient of x^degree term in this polynomial
   */


  ModulusPoly.prototype.getCoefficient = function (degree) {
    return this.coefficients[this.coefficients.length - 1 - degree];
  };
  /**
   * @return evaluation of this polynomial at a given point
   */


  ModulusPoly.prototype.evaluateAt = function (a) {
    var e_1, _a;

    if (a === 0) {
      // Just return the x^0 coefficient
      return this.getCoefficient(0);
    }

    if (a === 1) {
      // Just the sum of the coefficients
      var sum =
      /*int*/
      0;

      try {
        for (var _b = __values$b(this.coefficients), _c = _b.next(); !_c.done; _c = _b.next()) {
          var coefficient = _c.value
          /*int*/
          ;
          sum = this.field.add(sum, coefficient);
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
        } finally {
          if (e_1) throw e_1.error;
        }
      }

      return sum;
    }

    var result =
    /*int*/
    this.coefficients[0];
    var size =
    /*int*/
    this.coefficients.length;

    for (var i
    /*int*/
    = 1; i < size; i++) {
      result = this.field.add(this.field.multiply(a, result), this.coefficients[i]);
    }

    return result;
  };

  ModulusPoly.prototype.add = function (other) {
    if (!this.field.equals(other.field)) {
      throw new IllegalArgumentException('ModulusPolys do not have same ModulusGF field');
    }

    if (this.isZero()) {
      return other;
    }

    if (other.isZero()) {
      return this;
    }

    var smallerCoefficients = this.coefficients;
    var largerCoefficients = other.coefficients;

    if (smallerCoefficients.length > largerCoefficients.length) {
      var temp = smallerCoefficients;
      smallerCoefficients = largerCoefficients;
      largerCoefficients = temp;
    }

    var sumDiff = new Int32Array(largerCoefficients.length);
    var lengthDiff =
    /*int*/
    largerCoefficients.length - smallerCoefficients.length; // Copy high-order terms only found in higher-degree polynomial's coefficients

    System.arraycopy(largerCoefficients, 0, sumDiff, 0, lengthDiff);

    for (var i
    /*int*/
    = lengthDiff; i < largerCoefficients.length; i++) {
      sumDiff[i] = this.field.add(smallerCoefficients[i - lengthDiff], largerCoefficients[i]);
    }

    return new ModulusPoly(this.field, sumDiff);
  };

  ModulusPoly.prototype.subtract = function (other) {
    if (!this.field.equals(other.field)) {
      throw new IllegalArgumentException('ModulusPolys do not have same ModulusGF field');
    }

    if (other.isZero()) {
      return this;
    }

    return this.add(other.negative());
  };

  ModulusPoly.prototype.multiply = function (other) {
    if (other instanceof ModulusPoly) {
      return this.multiplyOther(other);
    }

    return this.multiplyScalar(other);
  };

  ModulusPoly.prototype.multiplyOther = function (other) {
    if (!this.field.equals(other.field)) {
      throw new IllegalArgumentException('ModulusPolys do not have same ModulusGF field');
    }

    if (this.isZero() || other.isZero()) {
      // return this.field.getZero();
      return new ModulusPoly(this.field, new Int32Array([0]));
    }

    var aCoefficients = this.coefficients;
    var aLength =
    /*int*/
    aCoefficients.length;
    var bCoefficients = other.coefficients;
    var bLength =
    /*int*/
    bCoefficients.length;
    var product = new Int32Array(aLength + bLength - 1);

    for (var i
    /*int*/
    = 0; i < aLength; i++) {
      var aCoeff =
      /*int*/
      aCoefficients[i];

      for (var j
      /*int*/
      = 0; j < bLength; j++) {
        product[i + j] = this.field.add(product[i + j], this.field.multiply(aCoeff, bCoefficients[j]));
      }
    }

    return new ModulusPoly(this.field, product);
  };

  ModulusPoly.prototype.negative = function () {
    var size =
    /*int*/
    this.coefficients.length;
    var negativeCoefficients = new Int32Array(size);

    for (var i
    /*int*/
    = 0; i < size; i++) {
      negativeCoefficients[i] = this.field.subtract(0, this.coefficients[i]);
    }

    return new ModulusPoly(this.field, negativeCoefficients);
  };

  ModulusPoly.prototype.multiplyScalar = function (scalar) {
    if (scalar === 0) {
      return new ModulusPoly(this.field, new Int32Array([0]));
    }

    if (scalar === 1) {
      return this;
    }

    var size =
    /*int*/
    this.coefficients.length;
    var product = new Int32Array(size);

    for (var i
    /*int*/
    = 0; i < size; i++) {
      product[i] = this.field.multiply(this.coefficients[i], scalar);
    }

    return new ModulusPoly(this.field, product);
  };

  ModulusPoly.prototype.multiplyByMonomial = function (degree, coefficient) {
    if (degree < 0) {
      throw new IllegalArgumentException();
    }

    if (coefficient === 0) {
      return new ModulusPoly(this.field, new Int32Array([0]));
    }

    var size =
    /*int*/
    this.coefficients.length;
    var product = new Int32Array(size + degree);

    for (var i
    /*int*/
    = 0; i < size; i++) {
      product[i] = this.field.multiply(this.coefficients[i], coefficient);
    }

    return new ModulusPoly(this.field, product);
  };
  /*
  ModulusPoly[] divide(other: ModulusPoly) {
    if (!field.equals(other.field)) {
      throw new IllegalArgumentException("ModulusPolys do not have same ModulusGF field");
    }
    if (other.isZero()) {
      throw new IllegalArgumentException("Divide by 0");
    }
       let quotient: ModulusPoly = field.getZero();
    let remainder: ModulusPoly = this;
       let denominatorLeadingTerm: /*int/ number = other.getCoefficient(other.getDegree());
    let inverseDenominatorLeadingTerm: /*int/ number = field.inverse(denominatorLeadingTerm);
       while (remainder.getDegree() >= other.getDegree() && !remainder.isZero()) {
      let degreeDifference: /*int/ number = remainder.getDegree() - other.getDegree();
      let scale: /*int/ number = field.multiply(remainder.getCoefficient(remainder.getDegree()), inverseDenominatorLeadingTerm);
      let term: ModulusPoly = other.multiplyByMonomial(degreeDifference, scale);
      let iterationQuotient: ModulusPoly = field.buildMonomial(degreeDifference, scale);
      quotient = quotient.add(iterationQuotient);
      remainder = remainder.subtract(term);
    }
       return new ModulusPoly[] { quotient, remainder };
  }
  */
  // @Override


  ModulusPoly.prototype.toString = function () {
    var result = new StringBuilder(); // dynamic string size in JS

    for (var degree
    /*int*/
    = this.getDegree(); degree >= 0; degree--) {
      var coefficient =
      /*int*/
      this.getCoefficient(degree);

      if (coefficient !== 0) {
        if (coefficient < 0) {
          result.append(' - ');
          coefficient = -coefficient;
        } else {
          if (result.length() > 0) {
            result.append(' + ');
          }
        }

        if (degree === 0 || coefficient !== 1) {
          result.append(coefficient);
        }

        if (degree !== 0) {
          if (degree === 1) {
            result.append('x');
          } else {
            result.append('x^');
            result.append(degree);
          }
        }
      }
    }

    return result.toString();
  };

  return ModulusPoly;
}();

var ModulusBase =
/** @class */
function () {
  function ModulusBase() {}

  ModulusBase.prototype.add = function (a, b) {
    return (a + b) % this.modulus;
  };

  ModulusBase.prototype.subtract = function (a, b) {
    return (this.modulus + a - b) % this.modulus;
  };

  ModulusBase.prototype.exp = function (a) {
    return this.expTable[a];
  };

  ModulusBase.prototype.log = function (a) {
    if (a === 0) {
      throw new IllegalArgumentException();
    }

    return this.logTable[a];
  };

  ModulusBase.prototype.inverse = function (a) {
    if (a === 0) {
      throw new ArithmeticException();
    }

    return this.expTable[this.modulus - this.logTable[a] - 1];
  };

  ModulusBase.prototype.multiply = function (a, b) {
    if (a === 0 || b === 0) {
      return 0;
    }

    return this.expTable[(this.logTable[a] + this.logTable[b]) % (this.modulus - 1)];
  };

  ModulusBase.prototype.getSize = function () {
    return this.modulus;
  };

  ModulusBase.prototype.equals = function (o) {
    return o === this;
  };

  return ModulusBase;
}();

/*
 * Copyright 2012 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$e = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}(); // package com.google.zxing.pdf417.decoder.ec;
/**
 * <p>A field based on powers of a generator integer, modulo some modulus.</p>
 *
 * @author Sean Owen
 * @see com.google.zxing.common.reedsolomon.GenericGF
 */

var ModulusGF =
/** @class */
function (_super) {
  __extends$e(ModulusGF, _super); // private /*final*/ modulus: /*int*/ number;


  function ModulusGF(modulus, generator) {
    var _this = _super.call(this) || this;

    _this.modulus = modulus;
    _this.expTable = new Int32Array(modulus);
    _this.logTable = new Int32Array(modulus);
    var x =
    /*int*/
    1;

    for (var i
    /*int*/
    = 0; i < modulus; i++) {
      _this.expTable[i] = x;
      x = x * generator % modulus;
    }

    for (var i
    /*int*/
    = 0; i < modulus - 1; i++) {
      _this.logTable[_this.expTable[i]] = i;
    } // logTable[0] == 0 but this should never be used


    _this.zero = new ModulusPoly(_this, new Int32Array([0]));
    _this.one = new ModulusPoly(_this, new Int32Array([1]));
    return _this;
  }

  ModulusGF.prototype.getZero = function () {
    return this.zero;
  };

  ModulusGF.prototype.getOne = function () {
    return this.one;
  };

  ModulusGF.prototype.buildMonomial = function (degree, coefficient) {
    if (degree < 0) {
      throw new IllegalArgumentException();
    }

    if (coefficient === 0) {
      return this.zero;
    }

    var coefficients = new Int32Array(degree + 1);
    coefficients[0] = coefficient;
    return new ModulusPoly(this, coefficients);
  };

  ModulusGF.PDF417_GF = new ModulusGF(PDF417Common.NUMBER_OF_CODEWORDS, 3);
  return ModulusGF;
}(ModulusBase);

/*
* Copyright 2012 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var __values$a = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // package com.google.zxing.pdf417.decoder.ec;
/**
 * <p>PDF417 error correction implementation.</p>
 *
 * <p>This <a href="http://en.wikipedia.org/wiki/Reed%E2%80%93Solomon_error_correction#Example">example</a>
 * is quite useful in understanding the algorithm.</p>
 *
 * @author Sean Owen
 * @see com.google.zxing.common.reedsolomon.ReedSolomonDecoder
 */

var ErrorCorrection =
/** @class */
function () {
  function ErrorCorrection() {
    this.field = ModulusGF.PDF417_GF;
  }
  /**
   * @param received received codewords
   * @param numECCodewords number of those codewords used for EC
   * @param erasures location of erasures
   * @return number of errors
   * @throws ChecksumException if errors cannot be corrected, maybe because of too many errors
   */


  ErrorCorrection.prototype.decode = function (received, numECCodewords, erasures) {
    var e_1, _a;

    var poly = new ModulusPoly(this.field, received);
    var S = new Int32Array(numECCodewords);
    var error = false;

    for (var i
    /*int*/
    = numECCodewords; i > 0; i--) {
      var evaluation = poly.evaluateAt(this.field.exp(i));
      S[numECCodewords - i] = evaluation;

      if (evaluation !== 0) {
        error = true;
      }
    }

    if (!error) {
      return 0;
    }

    var knownErrors = this.field.getOne();

    if (erasures != null) {
      try {
        for (var erasures_1 = __values$a(erasures), erasures_1_1 = erasures_1.next(); !erasures_1_1.done; erasures_1_1 = erasures_1.next()) {
          var erasure = erasures_1_1.value;
          var b = this.field.exp(received.length - 1 - erasure); // Add (1 - bx) term:

          var term = new ModulusPoly(this.field, new Int32Array([this.field.subtract(0, b), 1]));
          knownErrors = knownErrors.multiply(term);
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (erasures_1_1 && !erasures_1_1.done && (_a = erasures_1.return)) _a.call(erasures_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }
    }

    var syndrome = new ModulusPoly(this.field, S); // syndrome = syndrome.multiply(knownErrors);

    var sigmaOmega = this.runEuclideanAlgorithm(this.field.buildMonomial(numECCodewords, 1), syndrome, numECCodewords);
    var sigma = sigmaOmega[0];
    var omega = sigmaOmega[1]; // sigma = sigma.multiply(knownErrors);

    var errorLocations = this.findErrorLocations(sigma);
    var errorMagnitudes = this.findErrorMagnitudes(omega, sigma, errorLocations);

    for (var i
    /*int*/
    = 0; i < errorLocations.length; i++) {
      var position = received.length - 1 - this.field.log(errorLocations[i]);

      if (position < 0) {
        throw ChecksumException.getChecksumInstance();
      }

      received[position] = this.field.subtract(received[position], errorMagnitudes[i]);
    }

    return errorLocations.length;
  };
  /**
   *
   * @param ModulusPoly
   * @param a
   * @param ModulusPoly
   * @param b
   * @param int
   * @param R
   * @throws ChecksumException
   */


  ErrorCorrection.prototype.runEuclideanAlgorithm = function (a, b, R) {
    // Assume a's degree is >= b's
    if (a.getDegree() < b.getDegree()) {
      var temp = a;
      a = b;
      b = temp;
    }

    var rLast = a;
    var r = b;
    var tLast = this.field.getZero();
    var t = this.field.getOne(); // Run Euclidean algorithm until r's degree is less than R/2

    while (r.getDegree() >= Math.round(R / 2)) {
      var rLastLast = rLast;
      var tLastLast = tLast;
      rLast = r;
      tLast = t; // Divide rLastLast by rLast, with quotient in q and remainder in r

      if (rLast.isZero()) {
        // Oops, Euclidean algorithm already terminated?
        throw ChecksumException.getChecksumInstance();
      }

      r = rLastLast;
      var q = this.field.getZero();
      var denominatorLeadingTerm = rLast.getCoefficient(rLast.getDegree());
      var dltInverse = this.field.inverse(denominatorLeadingTerm);

      while (r.getDegree() >= rLast.getDegree() && !r.isZero()) {
        var degreeDiff = r.getDegree() - rLast.getDegree();
        var scale = this.field.multiply(r.getCoefficient(r.getDegree()), dltInverse);
        q = q.add(this.field.buildMonomial(degreeDiff, scale));
        r = r.subtract(rLast.multiplyByMonomial(degreeDiff, scale));
      }

      t = q.multiply(tLast).subtract(tLastLast).negative();
    }

    var sigmaTildeAtZero = t.getCoefficient(0);

    if (sigmaTildeAtZero === 0) {
      throw ChecksumException.getChecksumInstance();
    }

    var inverse = this.field.inverse(sigmaTildeAtZero);
    var sigma = t.multiply(inverse);
    var omega = r.multiply(inverse);
    return [sigma, omega];
  };
  /**
   *
   * @param errorLocator
   * @throws ChecksumException
   */


  ErrorCorrection.prototype.findErrorLocations = function (errorLocator) {
    // This is a direct application of Chien's search
    var numErrors = errorLocator.getDegree();
    var result = new Int32Array(numErrors);
    var e = 0;

    for (var i
    /*int*/
    = 1; i < this.field.getSize() && e < numErrors; i++) {
      if (errorLocator.evaluateAt(i) === 0) {
        result[e] = this.field.inverse(i);
        e++;
      }
    }

    if (e !== numErrors) {
      throw ChecksumException.getChecksumInstance();
    }

    return result;
  };

  ErrorCorrection.prototype.findErrorMagnitudes = function (errorEvaluator, errorLocator, errorLocations) {
    var errorLocatorDegree = errorLocator.getDegree();
    var formalDerivativeCoefficients = new Int32Array(errorLocatorDegree);

    for (var i
    /*int*/
    = 1; i <= errorLocatorDegree; i++) {
      formalDerivativeCoefficients[errorLocatorDegree - i] = this.field.multiply(i, errorLocator.getCoefficient(i));
    }

    var formalDerivative = new ModulusPoly(this.field, formalDerivativeCoefficients); // This is directly applying Forney's Formula

    var s = errorLocations.length;
    var result = new Int32Array(s);

    for (var i
    /*int*/
    = 0; i < s; i++) {
      var xiInverse = this.field.inverse(errorLocations[i]);
      var numerator = this.field.subtract(0, errorEvaluator.evaluateAt(xiInverse));
      var denominator = this.field.inverse(formalDerivative.evaluateAt(xiInverse));
      result[i] = this.field.multiply(numerator, denominator);
    }

    return result;
  };

  return ErrorCorrection;
}();

/*
* Copyright 2013 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
 * @author Guenther Grau
 */

var BoundingBox =
/** @class */
function () {
  function BoundingBox(image, topLeft, bottomLeft, topRight, bottomRight) {
    if (image instanceof BoundingBox) {
      this.constructor_2(image);
    } else {
      this.constructor_1(image, topLeft, bottomLeft, topRight, bottomRight);
    }
  }
  /**
   *
   * @param image
   * @param topLeft
   * @param bottomLeft
   * @param topRight
   * @param bottomRight
   *
   * @throws NotFoundException
   */


  BoundingBox.prototype.constructor_1 = function (image, topLeft, bottomLeft, topRight, bottomRight) {
    var leftUnspecified = topLeft == null || bottomLeft == null;
    var rightUnspecified = topRight == null || bottomRight == null;

    if (leftUnspecified && rightUnspecified) {
      throw new NotFoundException();
    }

    if (leftUnspecified) {
      topLeft = new ResultPoint(0, topRight.getY());
      bottomLeft = new ResultPoint(0, bottomRight.getY());
    } else if (rightUnspecified) {
      topRight = new ResultPoint(image.getWidth() - 1, topLeft.getY());
      bottomRight = new ResultPoint(image.getWidth() - 1, bottomLeft.getY());
    }

    this.image = image;
    this.topLeft = topLeft;
    this.bottomLeft = bottomLeft;
    this.topRight = topRight;
    this.bottomRight = bottomRight;
    this.minX = Math.trunc(Math.min(topLeft.getX(), bottomLeft.getX()));
    this.maxX = Math.trunc(Math.max(topRight.getX(), bottomRight.getX()));
    this.minY = Math.trunc(Math.min(topLeft.getY(), topRight.getY()));
    this.maxY = Math.trunc(Math.max(bottomLeft.getY(), bottomRight.getY()));
  };

  BoundingBox.prototype.constructor_2 = function (boundingBox) {
    this.image = boundingBox.image;
    this.topLeft = boundingBox.getTopLeft();
    this.bottomLeft = boundingBox.getBottomLeft();
    this.topRight = boundingBox.getTopRight();
    this.bottomRight = boundingBox.getBottomRight();
    this.minX = boundingBox.getMinX();
    this.maxX = boundingBox.getMaxX();
    this.minY = boundingBox.getMinY();
    this.maxY = boundingBox.getMaxY();
  };
  /**
   * @throws NotFoundException
   */


  BoundingBox.merge = function (leftBox, rightBox) {
    if (leftBox == null) {
      return rightBox;
    }

    if (rightBox == null) {
      return leftBox;
    }

    return new BoundingBox(leftBox.image, leftBox.topLeft, leftBox.bottomLeft, rightBox.topRight, rightBox.bottomRight);
  };
  /**
   * @throws NotFoundException
   */


  BoundingBox.prototype.addMissingRows = function (missingStartRows, missingEndRows, isLeft) {
    var newTopLeft = this.topLeft;
    var newBottomLeft = this.bottomLeft;
    var newTopRight = this.topRight;
    var newBottomRight = this.bottomRight;

    if (missingStartRows > 0) {
      var top_1 = isLeft ? this.topLeft : this.topRight;
      var newMinY = Math.trunc(top_1.getY() - missingStartRows);

      if (newMinY < 0) {
        newMinY = 0;
      }

      var newTop = new ResultPoint(top_1.getX(), newMinY);

      if (isLeft) {
        newTopLeft = newTop;
      } else {
        newTopRight = newTop;
      }
    }

    if (missingEndRows > 0) {
      var bottom = isLeft ? this.bottomLeft : this.bottomRight;
      var newMaxY = Math.trunc(bottom.getY() + missingEndRows);

      if (newMaxY >= this.image.getHeight()) {
        newMaxY = this.image.getHeight() - 1;
      }

      var newBottom = new ResultPoint(bottom.getX(), newMaxY);

      if (isLeft) {
        newBottomLeft = newBottom;
      } else {
        newBottomRight = newBottom;
      }
    }

    return new BoundingBox(this.image, newTopLeft, newBottomLeft, newTopRight, newBottomRight);
  };

  BoundingBox.prototype.getMinX = function () {
    return this.minX;
  };

  BoundingBox.prototype.getMaxX = function () {
    return this.maxX;
  };

  BoundingBox.prototype.getMinY = function () {
    return this.minY;
  };

  BoundingBox.prototype.getMaxY = function () {
    return this.maxY;
  };

  BoundingBox.prototype.getTopLeft = function () {
    return this.topLeft;
  };

  BoundingBox.prototype.getTopRight = function () {
    return this.topRight;
  };

  BoundingBox.prototype.getBottomLeft = function () {
    return this.bottomLeft;
  };

  BoundingBox.prototype.getBottomRight = function () {
    return this.bottomRight;
  };

  return BoundingBox;
}();

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
// package com.google.zxing.pdf417.decoder;

/**
 * @author Guenther Grau
 */
var BarcodeMetadata =
/** @class */
function () {
  function BarcodeMetadata(columnCount, rowCountUpperPart, rowCountLowerPart, errorCorrectionLevel) {
    this.columnCount = columnCount;
    this.errorCorrectionLevel = errorCorrectionLevel;
    this.rowCountUpperPart = rowCountUpperPart;
    this.rowCountLowerPart = rowCountLowerPart;
    this.rowCount = rowCountUpperPart + rowCountLowerPart;
  }

  BarcodeMetadata.prototype.getColumnCount = function () {
    return this.columnCount;
  };

  BarcodeMetadata.prototype.getErrorCorrectionLevel = function () {
    return this.errorCorrectionLevel;
  };

  BarcodeMetadata.prototype.getRowCount = function () {
    return this.rowCount;
  };

  BarcodeMetadata.prototype.getRowCountUpperPart = function () {
    return this.rowCountUpperPart;
  };

  BarcodeMetadata.prototype.getRowCountLowerPart = function () {
    return this.rowCountLowerPart;
  };

  return BarcodeMetadata;
}();

/**
 * Java Formatter class polyfill that works in the JS way.
 */
var Formatter =
/** @class */
function () {
  function Formatter() {
    this.buffer = '';
  }
  /**
   *
   * @see https://stackoverflow.com/a/13439711/4367683
   *
   * @param str
   * @param arr
   */


  Formatter.form = function (str, arr) {
    var i = -1;

    function callback(exp, p0, p1, p2, p3, p4) {
      if (exp === '%%') return '%';
      if (arr[++i] === undefined) return undefined;
      exp = p2 ? parseInt(p2.substr(1)) : undefined;
      var base = p3 ? parseInt(p3.substr(1)) : undefined;
      var val;

      switch (p4) {
        case 's':
          val = arr[i];
          break;

        case 'c':
          val = arr[i][0];
          break;

        case 'f':
          val = parseFloat(arr[i]).toFixed(exp);
          break;

        case 'p':
          val = parseFloat(arr[i]).toPrecision(exp);
          break;

        case 'e':
          val = parseFloat(arr[i]).toExponential(exp);
          break;

        case 'x':
          val = parseInt(arr[i]).toString(base ? base : 16);
          break;

        case 'd':
          val = parseFloat(parseInt(arr[i], base ? base : 10).toPrecision(exp)).toFixed(0);
          break;
      }

      val = typeof val === 'object' ? JSON.stringify(val) : (+val).toString(base);
      var size = parseInt(p1);
      /* padding size */

      var ch = p1 && p1[0] + '' === '0' ? '0' : ' ';
      /* isnull? */

      while (val.length < size) val = p0 !== undefined ? val + ch : ch + val;
      /* isminus? */


      return val;
    }

    var regex = /%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;
    return str.replace(regex, callback);
  };
  /**
   *
   * @param append The new string to append.
   * @param args Argumets values to be formated.
   */


  Formatter.prototype.format = function (append) {
    var args = [];

    for (var _i = 1; _i < arguments.length; _i++) {
      args[_i - 1] = arguments[_i];
    }

    this.buffer += Formatter.form(append, args);
  };
  /**
   * Returns the Formatter string value.
   */


  Formatter.prototype.toString = function () {
    return this.buffer;
  };

  return Formatter;
}();

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$9 = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // package com.google.zxing.pdf417.decoder;
/**
 * @author Guenther Grau
 */

var DetectionResultColumn =
/** @class */
function () {
  function DetectionResultColumn(boundingBox) {
    this.boundingBox = new BoundingBox(boundingBox); // this.codewords = new Codeword[boundingBox.getMaxY() - boundingBox.getMinY() + 1];

    this.codewords = new Array(boundingBox.getMaxY() - boundingBox.getMinY() + 1);
  }
  /*final*/


  DetectionResultColumn.prototype.getCodewordNearby = function (imageRow) {
    var codeword = this.getCodeword(imageRow);

    if (codeword != null) {
      return codeword;
    }

    for (var i = 1; i < DetectionResultColumn.MAX_NEARBY_DISTANCE; i++) {
      var nearImageRow = this.imageRowToCodewordIndex(imageRow) - i;

      if (nearImageRow >= 0) {
        codeword = this.codewords[nearImageRow];

        if (codeword != null) {
          return codeword;
        }
      }

      nearImageRow = this.imageRowToCodewordIndex(imageRow) + i;

      if (nearImageRow < this.codewords.length) {
        codeword = this.codewords[nearImageRow];

        if (codeword != null) {
          return codeword;
        }
      }
    }

    return null;
  };
  /*final int*/


  DetectionResultColumn.prototype.imageRowToCodewordIndex = function (imageRow) {
    return imageRow - this.boundingBox.getMinY();
  };
  /*final void*/


  DetectionResultColumn.prototype.setCodeword = function (imageRow, codeword) {
    this.codewords[this.imageRowToCodewordIndex(imageRow)] = codeword;
  };
  /*final*/


  DetectionResultColumn.prototype.getCodeword = function (imageRow) {
    return this.codewords[this.imageRowToCodewordIndex(imageRow)];
  };
  /*final*/


  DetectionResultColumn.prototype.getBoundingBox = function () {
    return this.boundingBox;
  };
  /*final*/


  DetectionResultColumn.prototype.getCodewords = function () {
    return this.codewords;
  }; // @Override


  DetectionResultColumn.prototype.toString = function () {
    var e_1, _a;

    var formatter = new Formatter();
    var row = 0;

    try {
      for (var _b = __values$9(this.codewords), _c = _b.next(); !_c.done; _c = _b.next()) {
        var codeword = _c.value;

        if (codeword == null) {
          formatter.format('%3d:    |   %n', row++);
          continue;
        }

        formatter.format('%3d: %3d|%3d%n', row++, codeword.getRowNumber(), codeword.getValue());
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    return formatter.toString();
  };

  DetectionResultColumn.MAX_NEARBY_DISTANCE = 5;
  return DetectionResultColumn;
}();

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$8 = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};

var __read$7 = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
}; // package com.google.zxing.pdf417.decoder;
// import java.util.Collection;
// import java.util.HashMap;
// import java.util.Map;
// import java.util.Map.Entry;

/**
 * @author Guenther Grau
 */

var BarcodeValue =
/** @class */
function () {
  function BarcodeValue() {
    this.values = new Map();
  }
  /**
   * Add an occurrence of a value
   */


  BarcodeValue.prototype.setValue = function (value) {
    value = Math.trunc(value);
    var confidence = this.values.get(value);

    if (confidence == null) {
      confidence = 0;
    }

    confidence++;
    this.values.set(value, confidence);
  };
  /**
   * Determines the maximum occurrence of a set value and returns all values which were set with this occurrence.
   * @return an array of int, containing the values with the highest occurrence, or null, if no value was set
   */


  BarcodeValue.prototype.getValue = function () {
    var e_1, _a;

    var maxConfidence = -1;
    var result = new Array();

    var _loop_1 = function (key, value) {
      var entry = {
        getKey: function () {
          return key;
        },
        getValue: function () {
          return value;
        }
      };

      if (entry.getValue() > maxConfidence) {
        maxConfidence = entry.getValue();
        result = [];
        result.push(entry.getKey());
      } else if (entry.getValue() === maxConfidence) {
        result.push(entry.getKey());
      }
    };

    try {
      for (var _b = __values$8(this.values.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {
        var _d = __read$7(_c.value, 2),
            key = _d[0],
            value = _d[1];

        _loop_1(key, value);
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    return PDF417Common.toIntArray(result);
  };

  BarcodeValue.prototype.getConfidence = function (value) {
    return this.values.get(value);
  };

  return BarcodeValue;
}();

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$d = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var __values$7 = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // import com.google.zxing.pdf417.PDF417Common;
/**
 * @author Guenther Grau
 */

var DetectionResultRowIndicatorColumn =
/** @class */
function (_super) {
  __extends$d(DetectionResultRowIndicatorColumn, _super);

  function DetectionResultRowIndicatorColumn(boundingBox, isLeft) {
    var _this = _super.call(this, boundingBox) || this;

    _this._isLeft = isLeft;
    return _this;
  }

  DetectionResultRowIndicatorColumn.prototype.setRowNumbers = function () {
    var e_1, _a;

    try {
      for (var _b = __values$7(this.getCodewords()), _c = _b.next(); !_c.done; _c = _b.next()) {
        var codeword = _c.value
        /*Codeword*/
        ;

        if (codeword != null) {
          codeword.setRowNumberAsRowIndicatorColumn();
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    }
  }; // TODO implement properly
  // TODO maybe we should add missing codewords to store the correct row number to make
  // finding row numbers for other columns easier
  // use row height count to make detection of invalid row numbers more reliable


  DetectionResultRowIndicatorColumn.prototype.adjustCompleteIndicatorColumnRowNumbers = function (barcodeMetadata) {
    var codewords = this.getCodewords();
    this.setRowNumbers();
    this.removeIncorrectCodewords(codewords, barcodeMetadata);
    var boundingBox = this.getBoundingBox();
    var top = this._isLeft ? boundingBox.getTopLeft() : boundingBox.getTopRight();
    var bottom = this._isLeft ? boundingBox.getBottomLeft() : boundingBox.getBottomRight();
    var firstRow = this.imageRowToCodewordIndex(Math.trunc(top.getY()));
    var lastRow = this.imageRowToCodewordIndex(Math.trunc(bottom.getY())); // We need to be careful using the average row height. Barcode could be skewed so that we have smaller and
    // taller rows
    // float averageRowHeight = (lastRow - firstRow) / /*(float)*/ barcodeMetadata.getRowCount();

    var barcodeRow = -1;
    var maxRowHeight = 1;
    var currentRowHeight = 0;

    for (var codewordsRow
    /*int*/
    = firstRow; codewordsRow < lastRow; codewordsRow++) {
      if (codewords[codewordsRow] == null) {
        continue;
      }

      var codeword = codewords[codewordsRow]; //      float expectedRowNumber = (codewordsRow - firstRow) / averageRowHeight;
      //      if (Math.abs(codeword.getRowNumber() - expectedRowNumber) > 2) {
      //        SimpleLog.log(LEVEL.WARNING,
      //            "Removing codeword, rowNumberSkew too high, codeword[" + codewordsRow + "]: Expected Row: " +
      //                expectedRowNumber + ", RealRow: " + codeword.getRowNumber() + ", value: " + codeword.getValue());
      //        codewords[codewordsRow] = null;
      //      }

      var rowDifference = codeword.getRowNumber() - barcodeRow; // TODO improve handling with case where first row indicator doesn't start with 0

      if (rowDifference === 0) {
        currentRowHeight++;
      } else if (rowDifference === 1) {
        maxRowHeight = Math.max(maxRowHeight, currentRowHeight);
        currentRowHeight = 1;
        barcodeRow = codeword.getRowNumber();
      } else if (rowDifference < 0 || codeword.getRowNumber() >= barcodeMetadata.getRowCount() || rowDifference > codewordsRow) {
        codewords[codewordsRow] = null;
      } else {
        var checkedRows = void 0;

        if (maxRowHeight > 2) {
          checkedRows = (maxRowHeight - 2) * rowDifference;
        } else {
          checkedRows = rowDifference;
        }

        var closePreviousCodewordFound = checkedRows >= codewordsRow;

        for (var i
        /*int*/
        = 1; i <= checkedRows && !closePreviousCodewordFound; i++) {
          // there must be (height * rowDifference) number of codewords missing. For now we assume height = 1.
          // This should hopefully get rid of most problems already.
          closePreviousCodewordFound = codewords[codewordsRow - i] != null;
        }

        if (closePreviousCodewordFound) {
          codewords[codewordsRow] = null;
        } else {
          barcodeRow = codeword.getRowNumber();
          currentRowHeight = 1;
        }
      }
    } // return (int) (averageRowHeight + 0.5);

  };

  DetectionResultRowIndicatorColumn.prototype.getRowHeights = function () {
    var e_2, _a;

    var barcodeMetadata = this.getBarcodeMetadata();

    if (barcodeMetadata == null) {
      return null;
    }

    this.adjustIncompleteIndicatorColumnRowNumbers(barcodeMetadata);
    var result = new Int32Array(barcodeMetadata.getRowCount());

    try {
      for (var _b = __values$7(this.getCodewords()), _c = _b.next(); !_c.done; _c = _b.next()) {
        var codeword = _c.value
        /*Codeword*/
        ;

        if (codeword != null) {
          var rowNumber = codeword.getRowNumber();

          if (rowNumber >= result.length) {
            // We have more rows than the barcode metadata allows for, ignore them.
            continue;
          }

          result[rowNumber]++;
        } // else throw exception?

      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_2) throw e_2.error;
      }
    }

    return result;
  }; // TODO maybe we should add missing codewords to store the correct row number to make
  // finding row numbers for other columns easier
  // use row height count to make detection of invalid row numbers more reliable


  DetectionResultRowIndicatorColumn.prototype.adjustIncompleteIndicatorColumnRowNumbers = function (barcodeMetadata) {
    var boundingBox = this.getBoundingBox();
    var top = this._isLeft ? boundingBox.getTopLeft() : boundingBox.getTopRight();
    var bottom = this._isLeft ? boundingBox.getBottomLeft() : boundingBox.getBottomRight();
    var firstRow = this.imageRowToCodewordIndex(Math.trunc(top.getY()));
    var lastRow = this.imageRowToCodewordIndex(Math.trunc(bottom.getY())); // float averageRowHeight = (lastRow - firstRow) / /*(float)*/ barcodeMetadata.getRowCount();

    var codewords = this.getCodewords();
    var barcodeRow = -1;

    for (var codewordsRow
    /*int*/
    = firstRow; codewordsRow < lastRow; codewordsRow++) {
      if (codewords[codewordsRow] == null) {
        continue;
      }

      var codeword = codewords[codewordsRow];
      codeword.setRowNumberAsRowIndicatorColumn();
      var rowDifference = codeword.getRowNumber() - barcodeRow; // TODO improve handling with case where first row indicator doesn't start with 0

      if (rowDifference === 0) ; else if (rowDifference === 1) {
        barcodeRow = codeword.getRowNumber();
      } else if (codeword.getRowNumber() >= barcodeMetadata.getRowCount()) {
        codewords[codewordsRow] = null;
      } else {
        barcodeRow = codeword.getRowNumber();
      }
    } // return (int) (averageRowHeight + 0.5);

  };

  DetectionResultRowIndicatorColumn.prototype.getBarcodeMetadata = function () {
    var e_3, _a;

    var codewords = this.getCodewords();
    var barcodeColumnCount = new BarcodeValue();
    var barcodeRowCountUpperPart = new BarcodeValue();
    var barcodeRowCountLowerPart = new BarcodeValue();
    var barcodeECLevel = new BarcodeValue();

    try {
      for (var codewords_1 = __values$7(codewords), codewords_1_1 = codewords_1.next(); !codewords_1_1.done; codewords_1_1 = codewords_1.next()) {
        var codeword = codewords_1_1.value
        /*Codeword*/
        ;

        if (codeword == null) {
          continue;
        }

        codeword.setRowNumberAsRowIndicatorColumn();
        var rowIndicatorValue = codeword.getValue() % 30;
        var codewordRowNumber = codeword.getRowNumber();

        if (!this._isLeft) {
          codewordRowNumber += 2;
        }

        switch (codewordRowNumber % 3) {
          case 0:
            barcodeRowCountUpperPart.setValue(rowIndicatorValue * 3 + 1);
            break;

          case 1:
            barcodeECLevel.setValue(rowIndicatorValue / 3);
            barcodeRowCountLowerPart.setValue(rowIndicatorValue % 3);
            break;

          case 2:
            barcodeColumnCount.setValue(rowIndicatorValue + 1);
            break;
        }
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (codewords_1_1 && !codewords_1_1.done && (_a = codewords_1.return)) _a.call(codewords_1);
      } finally {
        if (e_3) throw e_3.error;
      }
    } // Maybe we should check if we have ambiguous values?


    if (barcodeColumnCount.getValue().length === 0 || barcodeRowCountUpperPart.getValue().length === 0 || barcodeRowCountLowerPart.getValue().length === 0 || barcodeECLevel.getValue().length === 0 || barcodeColumnCount.getValue()[0] < 1 || barcodeRowCountUpperPart.getValue()[0] + barcodeRowCountLowerPart.getValue()[0] < PDF417Common.MIN_ROWS_IN_BARCODE || barcodeRowCountUpperPart.getValue()[0] + barcodeRowCountLowerPart.getValue()[0] > PDF417Common.MAX_ROWS_IN_BARCODE) {
      return null;
    }

    var barcodeMetadata = new BarcodeMetadata(barcodeColumnCount.getValue()[0], barcodeRowCountUpperPart.getValue()[0], barcodeRowCountLowerPart.getValue()[0], barcodeECLevel.getValue()[0]);
    this.removeIncorrectCodewords(codewords, barcodeMetadata);
    return barcodeMetadata;
  };

  DetectionResultRowIndicatorColumn.prototype.removeIncorrectCodewords = function (codewords, barcodeMetadata) {
    // Remove codewords which do not match the metadata
    // TODO Maybe we should keep the incorrect codewords for the start and end positions?
    for (var codewordRow
    /*int*/
    = 0; codewordRow < codewords.length; codewordRow++) {
      var codeword = codewords[codewordRow];

      if (codewords[codewordRow] == null) {
        continue;
      }

      var rowIndicatorValue = codeword.getValue() % 30;
      var codewordRowNumber = codeword.getRowNumber();

      if (codewordRowNumber > barcodeMetadata.getRowCount()) {
        codewords[codewordRow] = null;
        continue;
      }

      if (!this._isLeft) {
        codewordRowNumber += 2;
      }

      switch (codewordRowNumber % 3) {
        case 0:
          if (rowIndicatorValue * 3 + 1 !== barcodeMetadata.getRowCountUpperPart()) {
            codewords[codewordRow] = null;
          }

          break;

        case 1:
          if (Math.trunc(rowIndicatorValue / 3) !== barcodeMetadata.getErrorCorrectionLevel() || rowIndicatorValue % 3 !== barcodeMetadata.getRowCountLowerPart()) {
            codewords[codewordRow] = null;
          }

          break;

        case 2:
          if (rowIndicatorValue + 1 !== barcodeMetadata.getColumnCount()) {
            codewords[codewordRow] = null;
          }

          break;
      }
    }
  };

  DetectionResultRowIndicatorColumn.prototype.isLeft = function () {
    return this._isLeft;
  }; // @Override


  DetectionResultRowIndicatorColumn.prototype.toString = function () {
    return 'IsLeft: ' + this._isLeft + '\n' + _super.prototype.toString.call(this);
  };

  return DetectionResultRowIndicatorColumn;
}(DetectionResultColumn);

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$6 = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // package com.google.zxing.pdf417.decoder;
/**
 * @author Guenther Grau
 */

var DetectionResult =
/** @class */
function () {
  function DetectionResult(barcodeMetadata, boundingBox) {
    /*final*/
    this.ADJUST_ROW_NUMBER_SKIP = 2;
    this.barcodeMetadata = barcodeMetadata;
    this.barcodeColumnCount = barcodeMetadata.getColumnCount();
    this.boundingBox = boundingBox; // this.detectionResultColumns = new DetectionResultColumn[this.barcodeColumnCount + 2];

    this.detectionResultColumns = new Array(this.barcodeColumnCount + 2);
  }

  DetectionResult.prototype.getDetectionResultColumns = function () {
    this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]);
    this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount + 1]);
    var unadjustedCodewordCount = PDF417Common.MAX_CODEWORDS_IN_BARCODE;
    var previousUnadjustedCount;

    do {
      previousUnadjustedCount = unadjustedCodewordCount;
      unadjustedCodewordCount = this.adjustRowNumbersAndGetCount();
    } while (unadjustedCodewordCount > 0 && unadjustedCodewordCount < previousUnadjustedCount);

    return this.detectionResultColumns;
  };

  DetectionResult.prototype.adjustIndicatorColumnRowNumbers = function (detectionResultColumn) {
    if (detectionResultColumn != null) {
      detectionResultColumn.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata);
    }
  }; // TODO ensure that no detected codewords with unknown row number are left
  // we should be able to estimate the row height and use it as a hint for the row number
  // we should also fill the rows top to bottom and bottom to top

  /**
   * @return number of codewords which don't have a valid row number. Note that the count is not accurate as codewords
   * will be counted several times. It just serves as an indicator to see when we can stop adjusting row numbers
   */


  DetectionResult.prototype.adjustRowNumbersAndGetCount = function () {
    var unadjustedCount = this.adjustRowNumbersByRow();

    if (unadjustedCount === 0) {
      return 0;
    }

    for (var barcodeColumn
    /*int*/
    = 1; barcodeColumn < this.barcodeColumnCount + 1; barcodeColumn++) {
      var codewords = this.detectionResultColumns[barcodeColumn].getCodewords();

      for (var codewordsRow
      /*int*/
      = 0; codewordsRow < codewords.length; codewordsRow++) {
        if (codewords[codewordsRow] == null) {
          continue;
        }

        if (!codewords[codewordsRow].hasValidRowNumber()) {
          this.adjustRowNumbers(barcodeColumn, codewordsRow, codewords);
        }
      }
    }

    return unadjustedCount;
  };

  DetectionResult.prototype.adjustRowNumbersByRow = function () {
    this.adjustRowNumbersFromBothRI(); // TODO we should only do full row adjustments if row numbers of left and right row indicator column match.
    // Maybe it's even better to calculated the height (rows: d) and divide it by the number of barcode
    // rows. This, together with the LRI and RRI row numbers should allow us to get a good estimate where a row
    // number starts and ends.

    var unadjustedCount = this.adjustRowNumbersFromLRI();
    return unadjustedCount + this.adjustRowNumbersFromRRI();
  };

  DetectionResult.prototype.adjustRowNumbersFromBothRI = function () {
    if (this.detectionResultColumns[0] == null || this.detectionResultColumns[this.barcodeColumnCount + 1] == null) {
      return;
    }

    var LRIcodewords = this.detectionResultColumns[0].getCodewords();
    var RRIcodewords = this.detectionResultColumns[this.barcodeColumnCount + 1].getCodewords();

    for (var codewordsRow
    /*int*/
    = 0; codewordsRow < LRIcodewords.length; codewordsRow++) {
      if (LRIcodewords[codewordsRow] != null && RRIcodewords[codewordsRow] != null && LRIcodewords[codewordsRow].getRowNumber() === RRIcodewords[codewordsRow].getRowNumber()) {
        for (var barcodeColumn
        /*int*/
        = 1; barcodeColumn <= this.barcodeColumnCount; barcodeColumn++) {
          var codeword = this.detectionResultColumns[barcodeColumn].getCodewords()[codewordsRow];

          if (codeword == null) {
            continue;
          }

          codeword.setRowNumber(LRIcodewords[codewordsRow].getRowNumber());

          if (!codeword.hasValidRowNumber()) {
            this.detectionResultColumns[barcodeColumn].getCodewords()[codewordsRow] = null;
          }
        }
      }
    }
  };

  DetectionResult.prototype.adjustRowNumbersFromRRI = function () {
    if (this.detectionResultColumns[this.barcodeColumnCount + 1] == null) {
      return 0;
    }

    var unadjustedCount = 0;
    var codewords = this.detectionResultColumns[this.barcodeColumnCount + 1].getCodewords();

    for (var codewordsRow
    /*int*/
    = 0; codewordsRow < codewords.length; codewordsRow++) {
      if (codewords[codewordsRow] == null) {
        continue;
      }

      var rowIndicatorRowNumber = codewords[codewordsRow].getRowNumber();
      var invalidRowCounts = 0;

      for (var barcodeColumn
      /*int*/
      = this.barcodeColumnCount + 1; barcodeColumn > 0 && invalidRowCounts < this.ADJUST_ROW_NUMBER_SKIP; barcodeColumn--) {
        var codeword = this.detectionResultColumns[barcodeColumn].getCodewords()[codewordsRow];

        if (codeword != null) {
          invalidRowCounts = DetectionResult.adjustRowNumberIfValid(rowIndicatorRowNumber, invalidRowCounts, codeword);

          if (!codeword.hasValidRowNumber()) {
            unadjustedCount++;
          }
        }
      }
    }

    return unadjustedCount;
  };

  DetectionResult.prototype.adjustRowNumbersFromLRI = function () {
    if (this.detectionResultColumns[0] == null) {
      return 0;
    }

    var unadjustedCount = 0;
    var codewords = this.detectionResultColumns[0].getCodewords();

    for (var codewordsRow
    /*int*/
    = 0; codewordsRow < codewords.length; codewordsRow++) {
      if (codewords[codewordsRow] == null) {
        continue;
      }

      var rowIndicatorRowNumber = codewords[codewordsRow].getRowNumber();
      var invalidRowCounts = 0;

      for (var barcodeColumn
      /*int*/
      = 1; barcodeColumn < this.barcodeColumnCount + 1 && invalidRowCounts < this.ADJUST_ROW_NUMBER_SKIP; barcodeColumn++) {
        var codeword = this.detectionResultColumns[barcodeColumn].getCodewords()[codewordsRow];

        if (codeword != null) {
          invalidRowCounts = DetectionResult.adjustRowNumberIfValid(rowIndicatorRowNumber, invalidRowCounts, codeword);

          if (!codeword.hasValidRowNumber()) {
            unadjustedCount++;
          }
        }
      }
    }

    return unadjustedCount;
  };

  DetectionResult.adjustRowNumberIfValid = function (rowIndicatorRowNumber, invalidRowCounts, codeword) {
    if (codeword == null) {
      return invalidRowCounts;
    }

    if (!codeword.hasValidRowNumber()) {
      if (codeword.isValidRowNumber(rowIndicatorRowNumber)) {
        codeword.setRowNumber(rowIndicatorRowNumber);
        invalidRowCounts = 0;
      } else {
        ++invalidRowCounts;
      }
    }

    return invalidRowCounts;
  };

  DetectionResult.prototype.adjustRowNumbers = function (barcodeColumn, codewordsRow, codewords) {
    var e_1, _a;

    var codeword = codewords[codewordsRow];
    var previousColumnCodewords = this.detectionResultColumns[barcodeColumn - 1].getCodewords();
    var nextColumnCodewords = previousColumnCodewords;

    if (this.detectionResultColumns[barcodeColumn + 1] != null) {
      nextColumnCodewords = this.detectionResultColumns[barcodeColumn + 1].getCodewords();
    } // let otherCodewords: Codeword[] = new Codeword[14];


    var otherCodewords = new Array(14);
    otherCodewords[2] = previousColumnCodewords[codewordsRow];
    otherCodewords[3] = nextColumnCodewords[codewordsRow];

    if (codewordsRow > 0) {
      otherCodewords[0] = codewords[codewordsRow - 1];
      otherCodewords[4] = previousColumnCodewords[codewordsRow - 1];
      otherCodewords[5] = nextColumnCodewords[codewordsRow - 1];
    }

    if (codewordsRow > 1) {
      otherCodewords[8] = codewords[codewordsRow - 2];
      otherCodewords[10] = previousColumnCodewords[codewordsRow - 2];
      otherCodewords[11] = nextColumnCodewords[codewordsRow - 2];
    }

    if (codewordsRow < codewords.length - 1) {
      otherCodewords[1] = codewords[codewordsRow + 1];
      otherCodewords[6] = previousColumnCodewords[codewordsRow + 1];
      otherCodewords[7] = nextColumnCodewords[codewordsRow + 1];
    }

    if (codewordsRow < codewords.length - 2) {
      otherCodewords[9] = codewords[codewordsRow + 2];
      otherCodewords[12] = previousColumnCodewords[codewordsRow + 2];
      otherCodewords[13] = nextColumnCodewords[codewordsRow + 2];
    }

    try {
      for (var otherCodewords_1 = __values$6(otherCodewords), otherCodewords_1_1 = otherCodewords_1.next(); !otherCodewords_1_1.done; otherCodewords_1_1 = otherCodewords_1.next()) {
        var otherCodeword = otherCodewords_1_1.value;

        if (DetectionResult.adjustRowNumber(codeword, otherCodeword)) {
          return;
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (otherCodewords_1_1 && !otherCodewords_1_1.done && (_a = otherCodewords_1.return)) _a.call(otherCodewords_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }
  };
  /**
   * @return true, if row number was adjusted, false otherwise
   */


  DetectionResult.adjustRowNumber = function (codeword, otherCodeword) {
    if (otherCodeword == null) {
      return false;
    }

    if (otherCodeword.hasValidRowNumber() && otherCodeword.getBucket() === codeword.getBucket()) {
      codeword.setRowNumber(otherCodeword.getRowNumber());
      return true;
    }

    return false;
  };

  DetectionResult.prototype.getBarcodeColumnCount = function () {
    return this.barcodeColumnCount;
  };

  DetectionResult.prototype.getBarcodeRowCount = function () {
    return this.barcodeMetadata.getRowCount();
  };

  DetectionResult.prototype.getBarcodeECLevel = function () {
    return this.barcodeMetadata.getErrorCorrectionLevel();
  };

  DetectionResult.prototype.setBoundingBox = function (boundingBox) {
    this.boundingBox = boundingBox;
  };

  DetectionResult.prototype.getBoundingBox = function () {
    return this.boundingBox;
  };

  DetectionResult.prototype.setDetectionResultColumn = function (barcodeColumn, detectionResultColumn) {
    this.detectionResultColumns[barcodeColumn] = detectionResultColumn;
  };

  DetectionResult.prototype.getDetectionResultColumn = function (barcodeColumn) {
    return this.detectionResultColumns[barcodeColumn];
  }; // @Override


  DetectionResult.prototype.toString = function () {
    var rowIndicatorColumn = this.detectionResultColumns[0];

    if (rowIndicatorColumn == null) {
      rowIndicatorColumn = this.detectionResultColumns[this.barcodeColumnCount + 1];
    } // try (


    var formatter = new Formatter(); // ) {

    for (var codewordsRow
    /*int*/
    = 0; codewordsRow < rowIndicatorColumn.getCodewords().length; codewordsRow++) {
      formatter.format('CW %3d:', codewordsRow);

      for (var barcodeColumn
      /*int*/
      = 0; barcodeColumn < this.barcodeColumnCount + 2; barcodeColumn++) {
        if (this.detectionResultColumns[barcodeColumn] == null) {
          formatter.format('    |   ');
          continue;
        }

        var codeword = this.detectionResultColumns[barcodeColumn].getCodewords()[codewordsRow];

        if (codeword == null) {
          formatter.format('    |   ');
          continue;
        }

        formatter.format(' %3d|%3d', codeword.getRowNumber(), codeword.getValue());
      }

      formatter.format('%n');
    }

    return formatter.toString(); // }
  };

  return DetectionResult;
}();

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
// package com.google.zxing.pdf417.decoder;

/**
 * @author Guenther Grau
 */
var Codeword =
/** @class */
function () {
  function Codeword(startX, endX, bucket, value) {
    this.rowNumber = Codeword.BARCODE_ROW_UNKNOWN;
    this.startX = Math.trunc(startX);
    this.endX = Math.trunc(endX);
    this.bucket = Math.trunc(bucket);
    this.value = Math.trunc(value);
  }

  Codeword.prototype.hasValidRowNumber = function () {
    return this.isValidRowNumber(this.rowNumber);
  };

  Codeword.prototype.isValidRowNumber = function (rowNumber) {
    return rowNumber !== Codeword.BARCODE_ROW_UNKNOWN && this.bucket === rowNumber % 3 * 3;
  };

  Codeword.prototype.setRowNumberAsRowIndicatorColumn = function () {
    this.rowNumber = Math.trunc(Math.trunc(this.value / 30) * 3 + Math.trunc(this.bucket / 3));
  };

  Codeword.prototype.getWidth = function () {
    return this.endX - this.startX;
  };

  Codeword.prototype.getStartX = function () {
    return this.startX;
  };

  Codeword.prototype.getEndX = function () {
    return this.endX;
  };

  Codeword.prototype.getBucket = function () {
    return this.bucket;
  };

  Codeword.prototype.getValue = function () {
    return this.value;
  };

  Codeword.prototype.getRowNumber = function () {
    return this.rowNumber;
  };

  Codeword.prototype.setRowNumber = function (rowNumber) {
    this.rowNumber = rowNumber;
  }; //   @Override


  Codeword.prototype.toString = function () {
    return this.rowNumber + '|' + this.value;
  };

  Codeword.BARCODE_ROW_UNKNOWN = -1;
  return Codeword;
}();

/*
* Copyright 2013 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
 * @author Guenther Grau
 * @author creatale GmbH (christoph.schulz@creatale.de)
 */

var PDF417CodewordDecoder =
/** @class */
function () {
  function PDF417CodewordDecoder() {}
  /* @note
   * this action have to be performed before first use of class
   * - static constructor
   * working with 32bit float (based from Java logic)
  */


  PDF417CodewordDecoder.initialize = function () {
    // Pre-computes the symbol ratio table.
    for (
    /*int*/
    var i = 0; i < PDF417Common.SYMBOL_TABLE.length; i++) {
      var currentSymbol = PDF417Common.SYMBOL_TABLE[i];
      var currentBit = currentSymbol & 0x1;

      for (
      /*int*/
      var j = 0; j < PDF417Common.BARS_IN_MODULE; j++) {
        var size = 0.0;

        while ((currentSymbol & 0x1) === currentBit) {
          size += 1.0;
          currentSymbol >>= 1;
        }

        currentBit = currentSymbol & 0x1;

        if (!PDF417CodewordDecoder.RATIOS_TABLE[i]) {
          PDF417CodewordDecoder.RATIOS_TABLE[i] = new Array(PDF417Common.BARS_IN_MODULE);
        }

        PDF417CodewordDecoder.RATIOS_TABLE[i][PDF417Common.BARS_IN_MODULE - j - 1] = Math.fround(size / PDF417Common.MODULES_IN_CODEWORD);
      }
    }

    this.bSymbolTableReady = true;
  };

  PDF417CodewordDecoder.getDecodedValue = function (moduleBitCount) {
    var decodedValue = PDF417CodewordDecoder.getDecodedCodewordValue(PDF417CodewordDecoder.sampleBitCounts(moduleBitCount));

    if (decodedValue !== -1) {
      return decodedValue;
    }

    return PDF417CodewordDecoder.getClosestDecodedValue(moduleBitCount);
  };

  PDF417CodewordDecoder.sampleBitCounts = function (moduleBitCount) {
    var bitCountSum = MathUtils.sum(moduleBitCount);
    var result = new Int32Array(PDF417Common.BARS_IN_MODULE);
    var bitCountIndex = 0;
    var sumPreviousBits = 0;

    for (
    /*int*/
    var i = 0; i < PDF417Common.MODULES_IN_CODEWORD; i++) {
      var sampleIndex = bitCountSum / (2 * PDF417Common.MODULES_IN_CODEWORD) + i * bitCountSum / PDF417Common.MODULES_IN_CODEWORD;

      if (sumPreviousBits + moduleBitCount[bitCountIndex] <= sampleIndex) {
        sumPreviousBits += moduleBitCount[bitCountIndex];
        bitCountIndex++;
      }

      result[bitCountIndex]++;
    }

    return result;
  };

  PDF417CodewordDecoder.getDecodedCodewordValue = function (moduleBitCount) {
    var decodedValue = PDF417CodewordDecoder.getBitValue(moduleBitCount);
    return PDF417Common.getCodeword(decodedValue) === -1 ? -1 : decodedValue;
  };

  PDF417CodewordDecoder.getBitValue = function (moduleBitCount) {
    var result =
    /*long*/
    0;

    for (var
    /*int*/
    i = 0; i < moduleBitCount.length; i++) {
      for (
      /*int*/
      var bit = 0; bit < moduleBitCount[i]; bit++) {
        result = result << 1 | (i % 2 === 0 ? 1 : 0);
      }
    }

    return Math.trunc(result);
  }; // working with 32bit float (as in Java)


  PDF417CodewordDecoder.getClosestDecodedValue = function (moduleBitCount) {
    var bitCountSum = MathUtils.sum(moduleBitCount);
    var bitCountRatios = new Array(PDF417Common.BARS_IN_MODULE);

    if (bitCountSum > 1) {
      for (var
      /*int*/
      i = 0; i < bitCountRatios.length; i++) {
        bitCountRatios[i] = Math.fround(moduleBitCount[i] / bitCountSum);
      }
    }

    var bestMatchError = Float.MAX_VALUE;
    var bestMatch = -1;

    if (!this.bSymbolTableReady) {
      PDF417CodewordDecoder.initialize();
    }

    for (
    /*int*/
    var j = 0; j < PDF417CodewordDecoder.RATIOS_TABLE.length; j++) {
      var error = 0.0;
      var ratioTableRow = PDF417CodewordDecoder.RATIOS_TABLE[j];

      for (
      /*int*/
      var k = 0; k < PDF417Common.BARS_IN_MODULE; k++) {
        var diff = Math.fround(ratioTableRow[k] - bitCountRatios[k]);
        error += Math.fround(diff * diff);

        if (error >= bestMatchError) {
          break;
        }
      }

      if (error < bestMatchError) {
        bestMatchError = error;
        bestMatch = PDF417Common.SYMBOL_TABLE[j];
      }
    }

    return bestMatch;
  }; // flag that the table is ready for use


  PDF417CodewordDecoder.bSymbolTableReady = false;
  PDF417CodewordDecoder.RATIOS_TABLE = new Array(PDF417Common.SYMBOL_TABLE.length).map(function (x) {
    return new Array(PDF417Common.BARS_IN_MODULE);
  });
  return PDF417CodewordDecoder;
}();

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
// package com.google.zxing.pdf417;

/**
 * @author Guenther Grau
 */
var PDF417ResultMetadata =
/** @class */
function () {
  function PDF417ResultMetadata() {
    this.segmentCount = -1;
    this.fileSize = -1;
    this.timestamp = -1;
    this.checksum = -1;
  }
  /**
   * The Segment ID represents the segment of the whole file distributed over different symbols.
   *
   * @return File segment index
   */


  PDF417ResultMetadata.prototype.getSegmentIndex = function () {
    return this.segmentIndex;
  };

  PDF417ResultMetadata.prototype.setSegmentIndex = function (segmentIndex) {
    this.segmentIndex = segmentIndex;
  };
  /**
   * Is the same for each related PDF417 symbol
   *
   * @return File ID
   */


  PDF417ResultMetadata.prototype.getFileId = function () {
    return this.fileId;
  };

  PDF417ResultMetadata.prototype.setFileId = function (fileId) {
    this.fileId = fileId;
  };
  /**
   * @return always null
   * @deprecated use dedicated already parsed fields
   */
  //   @Deprecated


  PDF417ResultMetadata.prototype.getOptionalData = function () {
    return this.optionalData;
  };
  /**
   * @param optionalData old optional data format as int array
   * @deprecated parse and use new fields
   */
  //   @Deprecated


  PDF417ResultMetadata.prototype.setOptionalData = function (optionalData) {
    this.optionalData = optionalData;
  };
  /**
   * @return true if it is the last segment
   */


  PDF417ResultMetadata.prototype.isLastSegment = function () {
    return this.lastSegment;
  };

  PDF417ResultMetadata.prototype.setLastSegment = function (lastSegment) {
    this.lastSegment = lastSegment;
  };
  /**
   * @return count of segments, -1 if not set
   */


  PDF417ResultMetadata.prototype.getSegmentCount = function () {
    return this.segmentCount;
  };

  PDF417ResultMetadata.prototype.setSegmentCount = function (segmentCount
  /*int*/
  ) {
    this.segmentCount = segmentCount;
  };

  PDF417ResultMetadata.prototype.getSender = function () {
    return this.sender || null;
  };

  PDF417ResultMetadata.prototype.setSender = function (sender) {
    this.sender = sender;
  };

  PDF417ResultMetadata.prototype.getAddressee = function () {
    return this.addressee || null;
  };

  PDF417ResultMetadata.prototype.setAddressee = function (addressee) {
    this.addressee = addressee;
  };
  /**
   * Filename of the encoded file
   *
   * @return filename
   */


  PDF417ResultMetadata.prototype.getFileName = function () {
    return this.fileName;
  };

  PDF417ResultMetadata.prototype.setFileName = function (fileName) {
    this.fileName = fileName;
  };
  /**
   * filesize in bytes of the encoded file
   *
   * @return filesize in bytes, -1 if not set
   */


  PDF417ResultMetadata.prototype.getFileSize = function () {
    return this.fileSize;
  };

  PDF417ResultMetadata.prototype.setFileSize = function (fileSize
  /*long*/
  ) {
    this.fileSize = fileSize;
  };
  /**
   * 16-bit CRC checksum using CCITT-16
   *
   * @return crc checksum, -1 if not set
   */


  PDF417ResultMetadata.prototype.getChecksum = function () {
    return this.checksum;
  };

  PDF417ResultMetadata.prototype.setChecksum = function (checksum
  /*int*/
  ) {
    this.checksum = checksum;
  };
  /**
   * unix epock timestamp, elapsed seconds since 1970-01-01
   *
   * @return elapsed seconds, -1 if not set
   */


  PDF417ResultMetadata.prototype.getTimestamp = function () {
    return this.timestamp;
  };

  PDF417ResultMetadata.prototype.setTimestamp = function (timestamp
  /*long*/
  ) {
    this.timestamp = timestamp;
  };

  return PDF417ResultMetadata;
}();

/**
 * Ponyfill for Java's Long class.
 */
var Long =
/** @class */
function () {
  function Long() {}
  /**
   * Parses a string to a number, since JS has no really Int64.
   *
   * @param num Numeric string.
   * @param radix Destination radix.
   */


  Long.parseLong = function (num, radix) {
    if (radix === void 0) {
      radix = undefined;
    }

    return parseInt(num, radix);
  };

  return Long;
}();

var __extends$c = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var NullPointerException =
/** @class */
function (_super) {
  __extends$c(NullPointerException, _super);

  function NullPointerException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  NullPointerException.kind = 'NullPointerException';
  return NullPointerException;
}(Exception);

/*
 * Copyright (c) 1994, 2004, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the "Classpath" exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */
// package java.io;

/**
 * This abstract class is the superclass of all classes representing
 * an output stream of bytes. An output stream accepts output bytes
 * and sends them to some sink.
 * <p>
 * Applications that need to define a subclass of
 * <code>OutputStream</code> must always provide at least a method
 * that writes one byte of output.
 *
 * @author  Arthur van Hoff
 * @see     java.io.BufferedOutputStream
 * @see     java.io.ByteArrayOutputStream
 * @see     java.io.DataOutputStream
 * @see     java.io.FilterOutputStream
 * @see     java.io.InputStream
 * @see     java.io.OutputStream#write(int)
 * @since   JDK1.0
 */

var OutputStream
/*implements Closeable, Flushable*/
=
/** @class */
function () {
  function OutputStream() {}
  /**
   * Writes <code>b.length</code> bytes from the specified byte array
   * to this output stream. The general contract for <code>write(b)</code>
   * is that it should have exactly the same effect as the call
   * <code>write(b, 0, b.length)</code>.
   *
   * @param      b   the data.
   * @exception  IOException  if an I/O error occurs.
   * @see        java.io.OutputStream#write(byte[], int, int)
   */


  OutputStream.prototype.writeBytes = function (b) {
    this.writeBytesOffset(b, 0, b.length);
  };
  /**
   * Writes <code>len</code> bytes from the specified byte array
   * starting at offset <code>off</code> to this output stream.
   * The general contract for <code>write(b, off, len)</code> is that
   * some of the bytes in the array <code>b</code> are written to the
   * output stream in order; element <code>b[off]</code> is the first
   * byte written and <code>b[off+len-1]</code> is the last byte written
   * by this operation.
   * <p>
   * The <code>write</code> method of <code>OutputStream</code> calls
   * the write method of one argument on each of the bytes to be
   * written out. Subclasses are encouraged to override this method and
   * provide a more efficient implementation.
   * <p>
   * If <code>b</code> is <code>null</code>, a
   * <code>NullPointerException</code> is thrown.
   * <p>
   * If <code>off</code> is negative, or <code>len</code> is negative, or
   * <code>off+len</code> is greater than the length of the array
   * <code>b</code>, then an <tt>IndexOutOfBoundsException</tt> is thrown.
   *
   * @param      b     the data.
   * @param      off   the start offset in the data.
   * @param      len   the number of bytes to write.
   * @exception  IOException  if an I/O error occurs. In particular,
   *             an <code>IOException</code> is thrown if the output
   *             stream is closed.
   */


  OutputStream.prototype.writeBytesOffset = function (b, off, len) {
    if (b == null) {
      throw new NullPointerException();
    } else if (off < 0 || off > b.length || len < 0 || off + len > b.length || off + len < 0) {
      throw new IndexOutOfBoundsException();
    } else if (len === 0) {
      return;
    }

    for (var i = 0; i < len; i++) {
      this.write(b[off + i]);
    }
  };
  /**
   * Flushes this output stream and forces any buffered output bytes
   * to be written out. The general contract of <code>flush</code> is
   * that calling it is an indication that, if any bytes previously
   * written have been buffered by the implementation of the output
   * stream, such bytes should immediately be written to their
   * intended destination.
   * <p>
   * If the intended destination of this stream is an abstraction provided by
   * the underlying operating system, for example a file, then flushing the
   * stream guarantees only that bytes previously written to the stream are
   * passed to the operating system for writing; it does not guarantee that
   * they are actually written to a physical device such as a disk drive.
   * <p>
   * The <code>flush</code> method of <code>OutputStream</code> does nothing.
   *
   * @exception  IOException  if an I/O error occurs.
   */


  OutputStream.prototype.flush = function () {};
  /**
   * Closes this output stream and releases any system resources
   * associated with this stream. The general contract of <code>close</code>
   * is that it closes the output stream. A closed stream cannot perform
   * output operations and cannot be reopened.
   * <p>
   * The <code>close</code> method of <code>OutputStream</code> does nothing.
   *
   * @exception  IOException  if an I/O error occurs.
   */


  OutputStream.prototype.close = function () {};

  return OutputStream;
}();

var __extends$b = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var OutOfMemoryError =
/** @class */
function (_super) {
  __extends$b(OutOfMemoryError, _super);

  function OutOfMemoryError() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  return OutOfMemoryError;
}(Exception);

/*
 * Copyright (c) 1994, 2010, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.  Oracle designates this
 * particular file as subject to the "Classpath" exception as provided
 * by Oracle in the LICENSE file that accompanied this code.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */
var __extends$a = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}(); // package java.io;
/**
 * This class implements an output stream in which the data is
 * written into a byte array. The buffer automatically grows as data
 * is written to it.
 * The data can be retrieved using <code>toByteArray()</code> and
 * <code>toString()</code>.
 * <p>
 * Closing a <tt>ByteArrayOutputStream</tt> has no effect. The methods in
 * this class can be called after the stream has been closed without
 * generating an <tt>IOException</tt>.
 *
 * @author  Arthur van Hoff
 * @since   JDK1.0
 */

var ByteArrayOutputStream =
/** @class */
function (_super) {
  __extends$a(ByteArrayOutputStream, _super);
  /**
   * Creates a new byte array output stream. The buffer capacity is
   * initially 32 bytes, though its size increases if necessary.
   */
  // public constructor() {
  //     this(32);
  // }

  /**
   * Creates a new byte array output stream, with a buffer capacity of
   * the specified size, in bytes.
   *
   * @param   size   the initial size.
   * @exception  IllegalArgumentException if size is negative.
   */


  function ByteArrayOutputStream(size) {
    if (size === void 0) {
      size = 32;
    }

    var _this = _super.call(this) || this;
    /**
     * The number of valid bytes in the buffer.
     */


    _this.count = 0;

    if (size < 0) {
      throw new IllegalArgumentException('Negative initial size: ' + size);
    }

    _this.buf = new Uint8Array(size);
    return _this;
  }
  /**
   * Increases the capacity if necessary to ensure that it can hold
   * at least the number of elements specified by the minimum
   * capacity argument.
   *
   * @param minCapacity the desired minimum capacity
   * @throws OutOfMemoryError if {@code minCapacity < 0}.  This is
   * interpreted as a request for the unsatisfiably large capacity
   * {@code (long) Integer.MAX_VALUE + (minCapacity - Integer.MAX_VALUE)}.
   */


  ByteArrayOutputStream.prototype.ensureCapacity = function (minCapacity) {
    // overflow-conscious code
    if (minCapacity - this.buf.length > 0) this.grow(minCapacity);
  };
  /**
   * Increases the capacity to ensure that it can hold at least the
   * number of elements specified by the minimum capacity argument.
   *
   * @param minCapacity the desired minimum capacity
   */


  ByteArrayOutputStream.prototype.grow = function (minCapacity) {
    // overflow-conscious code
    var oldCapacity = this.buf.length;
    var newCapacity = oldCapacity << 1;
    if (newCapacity - minCapacity < 0) newCapacity = minCapacity;

    if (newCapacity < 0) {
      if (minCapacity < 0) // overflow
        throw new OutOfMemoryError();
      newCapacity = Integer.MAX_VALUE;
    }

    this.buf = Arrays.copyOfUint8Array(this.buf, newCapacity);
  };
  /**
   * Writes the specified byte to this byte array output stream.
   *
   * @param   b   the byte to be written.
   */


  ByteArrayOutputStream.prototype.write = function (b) {
    this.ensureCapacity(this.count + 1);
    this.buf[this.count] =
    /*(byte)*/
    b;
    this.count += 1;
  };
  /**
   * Writes <code>len</code> bytes from the specified byte array
   * starting at offset <code>off</code> to this byte array output stream.
   *
   * @param   b     the data.
   * @param   off   the start offset in the data.
   * @param   len   the number of bytes to write.
   */


  ByteArrayOutputStream.prototype.writeBytesOffset = function (b, off, len) {
    if (off < 0 || off > b.length || len < 0 || off + len - b.length > 0) {
      throw new IndexOutOfBoundsException();
    }

    this.ensureCapacity(this.count + len);
    System.arraycopy(b, off, this.buf, this.count, len);
    this.count += len;
  };
  /**
   * Writes the complete contents of this byte array output stream to
   * the specified output stream argument, as if by calling the output
   * stream's write method using <code>out.write(buf, 0, count)</code>.
   *
   * @param      out   the output stream to which to write the data.
   * @exception  IOException  if an I/O error occurs.
   */


  ByteArrayOutputStream.prototype.writeTo = function (out) {
    out.writeBytesOffset(this.buf, 0, this.count);
  };
  /**
   * Resets the <code>count</code> field of this byte array output
   * stream to zero, so that all currently accumulated output in the
   * output stream is discarded. The output stream can be used again,
   * reusing the already allocated buffer space.
   *
   * @see     java.io.ByteArrayInputStream#count
   */


  ByteArrayOutputStream.prototype.reset = function () {
    this.count = 0;
  };
  /**
   * Creates a newly allocated byte array. Its size is the current
   * size of this output stream and the valid contents of the buffer
   * have been copied into it.
   *
   * @return  the current contents of this output stream, as a byte array.
   * @see     java.io.ByteArrayOutputStream#size()
   */


  ByteArrayOutputStream.prototype.toByteArray = function () {
    return Arrays.copyOfUint8Array(this.buf, this.count);
  };
  /**
   * Returns the current size of the buffer.
   *
   * @return  the value of the <code>count</code> field, which is the number
   *          of valid bytes in this output stream.
   * @see     java.io.ByteArrayOutputStream#count
   */


  ByteArrayOutputStream.prototype.size = function () {
    return this.count;
  };

  ByteArrayOutputStream.prototype.toString = function (param) {
    if (!param) {
      return this.toString_void();
    }

    if (typeof param === 'string') {
      return this.toString_string(param);
    }

    return this.toString_number(param);
  };
  /**
   * Converts the buffer's contents into a string decoding bytes using the
   * platform's default character set. The length of the new <tt>String</tt>
   * is a function of the character set, and hence may not be equal to the
   * size of the buffer.
   *
   * <p> This method always replaces malformed-input and unmappable-character
   * sequences with the default replacement string for the platform's
   * default character set. The {@linkplain java.nio.charset.CharsetDecoder}
   * class should be used when more control over the decoding process is
   * required.
   *
   * @return String decoded from the buffer's contents.
   * @since  JDK1.1
   */


  ByteArrayOutputStream.prototype.toString_void = function () {
    return new String(this.buf
    /*, 0, this.count*/
    ).toString();
  };
  /**
   * Converts the buffer's contents into a string by decoding the bytes using
   * the specified {@link java.nio.charset.Charset charsetName}. The length of
   * the new <tt>String</tt> is a function of the charset, and hence may not be
   * equal to the length of the byte array.
   *
   * <p> This method always replaces malformed-input and unmappable-character
   * sequences with this charset's default replacement string. The {@link
   * java.nio.charset.CharsetDecoder} class should be used when more control
   * over the decoding process is required.
   *
   * @param  charsetName  the name of a supported
   *              {@linkplain java.nio.charset.Charset </code>charset<code>}
   * @return String decoded from the buffer's contents.
   * @exception  UnsupportedEncodingException
   *             If the named charset is not supported
   * @since   JDK1.1
   */


  ByteArrayOutputStream.prototype.toString_string = function (charsetName) {
    return new String(this.buf
    /*, 0, this.count, charsetName*/
    ).toString();
  };
  /**
   * Creates a newly allocated string. Its size is the current size of
   * the output stream and the valid contents of the buffer have been
   * copied into it. Each character <i>c</i> in the resulting string is
   * constructed from the corresponding element <i>b</i> in the byte
   * array such that:
   * <blockquote><pre>
   *     c == (char)(((hibyte &amp; 0xff) &lt;&lt; 8) | (b &amp; 0xff))
   * </pre></blockquote>
   *
   * @deprecated This method does not properly convert bytes into characters.
   * As of JDK&nbsp;1.1, the preferred way to do this is via the
   * <code>toString(String enc)</code> method, which takes an encoding-name
   * argument, or the <code>toString()</code> method, which uses the
   * platform's default character encoding.
   *
   * @param      hibyte    the high byte of each resulting Unicode character.
   * @return     the current contents of the output stream, as a string.
   * @see        java.io.ByteArrayOutputStream#size()
   * @see        java.io.ByteArrayOutputStream#toString(String)
   * @see        java.io.ByteArrayOutputStream#toString()
   */
  // @Deprecated


  ByteArrayOutputStream.prototype.toString_number = function (hibyte) {
    return new String(this.buf
    /*, hibyte, 0, this.count*/
    ).toString();
  };
  /**
   * Closing a <tt>ByteArrayOutputStream</tt> has no effect. The methods in
   * this class can be called after the stream has been closed without
   * generating an <tt>IOException</tt>.
   * <p>
   *
   * @throws IOException
   */


  ByteArrayOutputStream.prototype.close = function () {};

  return ByteArrayOutputStream;
}(OutputStream);

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*private*/

var Mode;

(function (Mode) {
  Mode[Mode["ALPHA"] = 0] = "ALPHA";
  Mode[Mode["LOWER"] = 1] = "LOWER";
  Mode[Mode["MIXED"] = 2] = "MIXED";
  Mode[Mode["PUNCT"] = 3] = "PUNCT";
  Mode[Mode["ALPHA_SHIFT"] = 4] = "ALPHA_SHIFT";
  Mode[Mode["PUNCT_SHIFT"] = 5] = "PUNCT_SHIFT";
})(Mode || (Mode = {}));
/**
 * Indirectly access the global BigInt constructor, it
 * allows browsers that doesn't support BigInt to run
 * the library without breaking due to "undefined BigInt"
 * errors.
 */


function getBigIntConstructor() {
  if (typeof window !== 'undefined') {
    return window['BigInt'] || null;
  }

  if (typeof global !== 'undefined') {
    return global['BigInt'] || null;
  }

  if (typeof self !== 'undefined') {
    return self['BigInt'] || null;
  }

  throw new Error('Can\'t search globals for BigInt!');
}
/**
 * Used to store the BigInt constructor.
 */


var BigInteger;
/**
 * This function creates a bigint value. It allows browsers
 * that doesn't support BigInt to run the rest of the library
 * by not directly accessing the BigInt constructor.
 */

function createBigInt(num) {
  if (typeof BigInteger === 'undefined') {
    BigInteger = getBigIntConstructor();
  }

  if (BigInteger === null) {
    throw new Error('BigInt is not supported!');
  }

  return BigInteger(num);
}

function getEXP900() {
  // in Java - array with length = 16
  var EXP900 = [];
  EXP900[0] = createBigInt(1);
  var nineHundred = createBigInt(900);
  EXP900[1] = nineHundred; // in Java - array with length = 16

  for (var i
  /*int*/
  = 2; i < 16; i++) {
    EXP900[i] = EXP900[i - 1] * nineHundred;
  }

  return EXP900;
}
/**
 * <p>This class contains the methods for decoding the PDF417 codewords.</p>
 *
 * @author SITA Lab (kevin.osullivan@sita.aero)
 * @author Guenther Grau
 */


var DecodedBitStreamParser =
/** @class */
function () {
  function DecodedBitStreamParser() {} //   private DecodedBitStreamParser() {
  // }

  /**
   *
   * @param codewords
   * @param ecLevel
   *
   * @throws FormatException
   */


  DecodedBitStreamParser.decode = function (codewords, ecLevel) {
    // pass encoding to result (will be used for decode symbols in byte mode)
    var result = new StringBuilder(''); // let encoding: Charset = StandardCharsets.ISO_8859_1;

    var encoding = CharacterSetECI.ISO8859_1;
    /**
     * @note the next command is specific from this TypeScript library
     * because TS can't properly cast some values to char and
     * convert it to string later correctly due to encoding
     * differences from Java version. As reported here:
     * https://github.com/zxing-js/library/pull/264/files#r382831593
     */

    result.enableDecoding(encoding); // Get compaction mode

    var codeIndex = 1;
    var code = codewords[codeIndex++];
    var resultMetadata = new PDF417ResultMetadata();

    while (codeIndex < codewords[0]) {
      switch (code) {
        case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
          codeIndex = DecodedBitStreamParser.textCompaction(codewords, codeIndex, result);
          break;

        case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH:
        case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH_6:
          codeIndex = DecodedBitStreamParser.byteCompaction(code, codewords, encoding, codeIndex, result);
          break;

        case DecodedBitStreamParser.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
          result.append(
          /*(char)*/
          codewords[codeIndex++]);
          break;

        case DecodedBitStreamParser.NUMERIC_COMPACTION_MODE_LATCH:
          codeIndex = DecodedBitStreamParser.numericCompaction(codewords, codeIndex, result);
          break;

        case DecodedBitStreamParser.ECI_CHARSET:
          CharacterSetECI.getCharacterSetECIByValue(codewords[codeIndex++]); // encoding = Charset.forName(charsetECI.getName());

          break;

        case DecodedBitStreamParser.ECI_GENERAL_PURPOSE:
          // Can't do anything with generic ECI; skip its 2 characters
          codeIndex += 2;
          break;

        case DecodedBitStreamParser.ECI_USER_DEFINED:
          // Can't do anything with user ECI; skip its 1 character
          codeIndex++;
          break;

        case DecodedBitStreamParser.BEGIN_MACRO_PDF417_CONTROL_BLOCK:
          codeIndex = DecodedBitStreamParser.decodeMacroBlock(codewords, codeIndex, resultMetadata);
          break;

        case DecodedBitStreamParser.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:
        case DecodedBitStreamParser.MACRO_PDF417_TERMINATOR:
          // Should not see these outside a macro block
          throw new FormatException();

        default:
          // Default to text compaction. During testing numerous barcodes
          // appeared to be missing the starting mode. In these cases defaulting
          // to text compaction seems to work.
          codeIndex--;
          codeIndex = DecodedBitStreamParser.textCompaction(codewords, codeIndex, result);
          break;
      }

      if (codeIndex < codewords.length) {
        code = codewords[codeIndex++];
      } else {
        throw FormatException.getFormatInstance();
      }
    }

    if (result.length() === 0) {
      throw FormatException.getFormatInstance();
    }

    var decoderResult = new DecoderResult(null, result.toString(), null, ecLevel);
    decoderResult.setOther(resultMetadata);
    return decoderResult;
  };
  /**
   *
   * @param int
   * @param param1
   * @param codewords
   * @param int
   * @param codeIndex
   * @param PDF417ResultMetadata
   * @param resultMetadata
   *
   * @throws FormatException
   */
  // @SuppressWarnings("deprecation")


  DecodedBitStreamParser.decodeMacroBlock = function (codewords, codeIndex, resultMetadata) {
    if (codeIndex + DecodedBitStreamParser.NUMBER_OF_SEQUENCE_CODEWORDS > codewords[0]) {
      // we must have at least two bytes left for the segment index
      throw FormatException.getFormatInstance();
    }

    var segmentIndexArray = new Int32Array(DecodedBitStreamParser.NUMBER_OF_SEQUENCE_CODEWORDS);

    for (var i
    /*int*/
    = 0; i < DecodedBitStreamParser.NUMBER_OF_SEQUENCE_CODEWORDS; i++, codeIndex++) {
      segmentIndexArray[i] = codewords[codeIndex];
    }

    resultMetadata.setSegmentIndex(Integer.parseInt(DecodedBitStreamParser.decodeBase900toBase10(segmentIndexArray, DecodedBitStreamParser.NUMBER_OF_SEQUENCE_CODEWORDS)));
    var fileId = new StringBuilder();
    codeIndex = DecodedBitStreamParser.textCompaction(codewords, codeIndex, fileId);
    resultMetadata.setFileId(fileId.toString());
    var optionalFieldsStart = -1;

    if (codewords[codeIndex] === DecodedBitStreamParser.BEGIN_MACRO_PDF417_OPTIONAL_FIELD) {
      optionalFieldsStart = codeIndex + 1;
    }

    while (codeIndex < codewords[0]) {
      switch (codewords[codeIndex]) {
        case DecodedBitStreamParser.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:
          codeIndex++;

          switch (codewords[codeIndex]) {
            case DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:
              var fileName = new StringBuilder();
              codeIndex = DecodedBitStreamParser.textCompaction(codewords, codeIndex + 1, fileName);
              resultMetadata.setFileName(fileName.toString());
              break;

            case DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_SENDER:
              var sender = new StringBuilder();
              codeIndex = DecodedBitStreamParser.textCompaction(codewords, codeIndex + 1, sender);
              resultMetadata.setSender(sender.toString());
              break;

            case DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:
              var addressee = new StringBuilder();
              codeIndex = DecodedBitStreamParser.textCompaction(codewords, codeIndex + 1, addressee);
              resultMetadata.setAddressee(addressee.toString());
              break;

            case DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:
              var segmentCount = new StringBuilder();
              codeIndex = DecodedBitStreamParser.numericCompaction(codewords, codeIndex + 1, segmentCount);
              resultMetadata.setSegmentCount(Integer.parseInt(segmentCount.toString()));
              break;

            case DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:
              var timestamp = new StringBuilder();
              codeIndex = DecodedBitStreamParser.numericCompaction(codewords, codeIndex + 1, timestamp);
              resultMetadata.setTimestamp(Long.parseLong(timestamp.toString()));
              break;

            case DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:
              var checksum = new StringBuilder();
              codeIndex = DecodedBitStreamParser.numericCompaction(codewords, codeIndex + 1, checksum);
              resultMetadata.setChecksum(Integer.parseInt(checksum.toString()));
              break;

            case DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:
              var fileSize = new StringBuilder();
              codeIndex = DecodedBitStreamParser.numericCompaction(codewords, codeIndex + 1, fileSize);
              resultMetadata.setFileSize(Long.parseLong(fileSize.toString()));
              break;

            default:
              throw FormatException.getFormatInstance();
          }

          break;

        case DecodedBitStreamParser.MACRO_PDF417_TERMINATOR:
          codeIndex++;
          resultMetadata.setLastSegment(true);
          break;

        default:
          throw FormatException.getFormatInstance();
      }
    } // copy optional fields to additional options


    if (optionalFieldsStart !== -1) {
      var optionalFieldsLength = codeIndex - optionalFieldsStart;

      if (resultMetadata.isLastSegment()) {
        // do not include terminator
        optionalFieldsLength--;
      }

      resultMetadata.setOptionalData(Arrays.copyOfRange(codewords, optionalFieldsStart, optionalFieldsStart + optionalFieldsLength));
    }

    return codeIndex;
  };
  /**
   * Text Compaction mode (see 5.4.1.5) permits all printable ASCII characters to be
   * encoded, i.e. values 32 - 126 inclusive in accordance with ISO/IEC 646 (IRV), as
   * well as selected control characters.
   *
   * @param codewords The array of codewords (data + error)
   * @param codeIndex The current index into the codeword array.
   * @param result    The decoded data is appended to the result.
   * @return The next index into the codeword array.
   */


  DecodedBitStreamParser.textCompaction = function (codewords, codeIndex, result) {
    // 2 character per codeword
    var textCompactionData = new Int32Array((codewords[0] - codeIndex) * 2); // Used to hold the byte compaction value if there is a mode shift

    var byteCompactionData = new Int32Array((codewords[0] - codeIndex) * 2);
    var index = 0;
    var end = false;

    while (codeIndex < codewords[0] && !end) {
      var code = codewords[codeIndex++];

      if (code < DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH) {
        textCompactionData[index] = code / 30;
        textCompactionData[index + 1] = code % 30;
        index += 2;
      } else {
        switch (code) {
          case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
            // reinitialize text compaction mode to alpha sub mode
            textCompactionData[index++] = DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH;
            break;

          case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH:
          case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH_6:
          case DecodedBitStreamParser.NUMERIC_COMPACTION_MODE_LATCH:
          case DecodedBitStreamParser.BEGIN_MACRO_PDF417_CONTROL_BLOCK:
          case DecodedBitStreamParser.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:
          case DecodedBitStreamParser.MACRO_PDF417_TERMINATOR:
            codeIndex--;
            end = true;
            break;

          case DecodedBitStreamParser.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
            // The Mode Shift codeword 913 shall cause a temporary
            // switch from Text Compaction mode to Byte Compaction mode.
            // This switch shall be in effect for only the next codeword,
            // after which the mode shall revert to the prevailing sub-mode
            // of the Text Compaction mode. Codeword 913 is only available
            // in Text Compaction mode; its use is described in 5.4.2.4.
            textCompactionData[index] = DecodedBitStreamParser.MODE_SHIFT_TO_BYTE_COMPACTION_MODE;
            code = codewords[codeIndex++];
            byteCompactionData[index] = code;
            index++;
            break;
        }
      }
    }

    DecodedBitStreamParser.decodeTextCompaction(textCompactionData, byteCompactionData, index, result);
    return codeIndex;
  };
  /**
   * The Text Compaction mode includes all the printable ASCII characters
   * (i.e. values from 32 to 126) and three ASCII control characters: HT or tab
   * (9: e), LF or line feed (10: e), and CR or carriage
   * return (13: e). The Text Compaction mode also includes various latch
   * and shift characters which are used exclusively within the mode. The Text
   * Compaction mode encodes up to 2 characters per codeword. The compaction rules
   * for converting data into PDF417 codewords are defined in 5.4.2.2. The sub-mode
   * switches are defined in 5.4.2.3.
   *
   * @param textCompactionData The text compaction data.
   * @param byteCompactionData The byte compaction data if there
   *                           was a mode shift.
   * @param length             The size of the text compaction and byte compaction data.
   * @param result             The decoded data is appended to the result.
   */


  DecodedBitStreamParser.decodeTextCompaction = function (textCompactionData, byteCompactionData, length, result) {
    // Beginning from an initial state of the Alpha sub-mode
    // The default compaction mode for PDF417 in effect at the start of each symbol shall always be Text
    // Compaction mode Alpha sub-mode (alphabetic: uppercase). A latch codeword from another mode to the Text
    // Compaction mode shall always switch to the Text Compaction Alpha sub-mode.
    var subMode = Mode.ALPHA;
    var priorToShiftMode = Mode.ALPHA;
    var i = 0;

    while (i < length) {
      var subModeCh = textCompactionData[i];
      var ch =
      /*char*/
      '';

      switch (subMode) {
        case Mode.ALPHA:
          // Alpha (alphabetic: uppercase)
          if (subModeCh < 26) {
            // Upper case Alpha Character
            // Note: 65 = 'A' ASCII -> there is byte code of symbol
            ch =
            /*(char)('A' + subModeCh) */
            String.fromCharCode(65 + subModeCh);
          } else {
            switch (subModeCh) {
              case 26:
                ch = ' ';
                break;

              case DecodedBitStreamParser.LL:
                subMode = Mode.LOWER;
                break;

              case DecodedBitStreamParser.ML:
                subMode = Mode.MIXED;
                break;

              case DecodedBitStreamParser.PS:
                // Shift to punctuation
                priorToShiftMode = subMode;
                subMode = Mode.PUNCT_SHIFT;
                break;

              case DecodedBitStreamParser.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                result.append(
                /*(char)*/
                byteCompactionData[i]);
                break;

              case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
                subMode = Mode.ALPHA;
                break;
            }
          }

          break;

        case Mode.LOWER:
          // Lower (alphabetic: lowercase)
          if (subModeCh < 26) {
            ch =
            /*(char)('a' + subModeCh)*/
            String.fromCharCode(97 + subModeCh);
          } else {
            switch (subModeCh) {
              case 26:
                ch = ' ';
                break;

              case DecodedBitStreamParser.AS:
                // Shift to alpha
                priorToShiftMode = subMode;
                subMode = Mode.ALPHA_SHIFT;
                break;

              case DecodedBitStreamParser.ML:
                subMode = Mode.MIXED;
                break;

              case DecodedBitStreamParser.PS:
                // Shift to punctuation
                priorToShiftMode = subMode;
                subMode = Mode.PUNCT_SHIFT;
                break;

              case DecodedBitStreamParser.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                // TODO Does this need to use the current character encoding? See other occurrences below
                result.append(
                /*(char)*/
                byteCompactionData[i]);
                break;

              case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
                subMode = Mode.ALPHA;
                break;
            }
          }

          break;

        case Mode.MIXED:
          // Mixed (punctuation: e)
          if (subModeCh < DecodedBitStreamParser.PL) {
            ch = DecodedBitStreamParser.MIXED_CHARS[subModeCh];
          } else {
            switch (subModeCh) {
              case DecodedBitStreamParser.PL:
                subMode = Mode.PUNCT;
                break;

              case 26:
                ch = ' ';
                break;

              case DecodedBitStreamParser.LL:
                subMode = Mode.LOWER;
                break;

              case DecodedBitStreamParser.AL:
                subMode = Mode.ALPHA;
                break;

              case DecodedBitStreamParser.PS:
                // Shift to punctuation
                priorToShiftMode = subMode;
                subMode = Mode.PUNCT_SHIFT;
                break;

              case DecodedBitStreamParser.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                result.append(
                /*(char)*/
                byteCompactionData[i]);
                break;

              case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
                subMode = Mode.ALPHA;
                break;
            }
          }

          break;

        case Mode.PUNCT:
          // Punctuation
          if (subModeCh < DecodedBitStreamParser.PAL) {
            ch = DecodedBitStreamParser.PUNCT_CHARS[subModeCh];
          } else {
            switch (subModeCh) {
              case DecodedBitStreamParser.PAL:
                subMode = Mode.ALPHA;
                break;

              case DecodedBitStreamParser.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                result.append(
                /*(char)*/
                byteCompactionData[i]);
                break;

              case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
                subMode = Mode.ALPHA;
                break;
            }
          }

          break;

        case Mode.ALPHA_SHIFT:
          // Restore sub-mode
          subMode = priorToShiftMode;

          if (subModeCh < 26) {
            ch =
            /*(char)('A' + subModeCh)*/
            String.fromCharCode(65 + subModeCh);
          } else {
            switch (subModeCh) {
              case 26:
                ch = ' ';
                break;

              case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
                subMode = Mode.ALPHA;
                break;
            }
          }

          break;

        case Mode.PUNCT_SHIFT:
          // Restore sub-mode
          subMode = priorToShiftMode;

          if (subModeCh < DecodedBitStreamParser.PAL) {
            ch = DecodedBitStreamParser.PUNCT_CHARS[subModeCh];
          } else {
            switch (subModeCh) {
              case DecodedBitStreamParser.PAL:
                subMode = Mode.ALPHA;
                break;

              case DecodedBitStreamParser.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:
                // PS before Shift-to-Byte is used as a padding character,
                // see 5.4.2.4 of the specification
                result.append(
                /*(char)*/
                byteCompactionData[i]);
                break;

              case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
                subMode = Mode.ALPHA;
                break;
            }
          }

          break;
      } // if (ch !== 0) {


      if (ch !== '') {
        // Append decoded character to result
        result.append(ch);
      }

      i++;
    }
  };
  /**
   * Byte Compaction mode (see 5.4.3) permits all 256 possible 8-bit byte values to be encoded.
   * This includes all ASCII characters value 0 to 127 inclusive and provides for international
   * character set support.
   *
   * @param mode      The byte compaction mode i.e. 901 or 924
   * @param codewords The array of codewords (data + error)
   * @param encoding  Currently active character encoding
   * @param codeIndex The current index into the codeword array.
   * @param result    The decoded data is appended to the result.
   * @return The next index into the codeword array.
   */


  DecodedBitStreamParser.byteCompaction = function (mode, codewords, encoding, codeIndex, result) {
    var decodedBytes = new ByteArrayOutputStream();
    var count = 0;
    var value =
    /*long*/
    0;
    var end = false;

    switch (mode) {
      case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH:
        // Total number of Byte Compaction characters to be encoded
        // is not a multiple of 6
        var byteCompactedCodewords = new Int32Array(6);
        var nextCode = codewords[codeIndex++];

        while (codeIndex < codewords[0] && !end) {
          byteCompactedCodewords[count++] = nextCode; // Base 900

          value = 900 * value + nextCode;
          nextCode = codewords[codeIndex++]; // perhaps it should be ok to check only nextCode >= TEXT_COMPACTION_MODE_LATCH

          switch (nextCode) {
            case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
            case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH:
            case DecodedBitStreamParser.NUMERIC_COMPACTION_MODE_LATCH:
            case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH_6:
            case DecodedBitStreamParser.BEGIN_MACRO_PDF417_CONTROL_BLOCK:
            case DecodedBitStreamParser.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:
            case DecodedBitStreamParser.MACRO_PDF417_TERMINATOR:
              codeIndex--;
              end = true;
              break;

            default:
              if (count % 5 === 0 && count > 0) {
                // Decode every 5 codewords
                // Convert to Base 256
                for (var j
                /*int*/
                = 0; j < 6; ++j) {
                  /* @note
                   * JavaScript stores numbers as 64 bits floating point numbers, but all bitwise operations are performed on 32 bits binary numbers.
                   * So the next bitwise operation could not be done with simple numbers
                   */
                  decodedBytes.write(
                  /*(byte)*/
                  Number(createBigInt(value) >> createBigInt(8 * (5 - j))));
                }

                value = 0;
                count = 0;
              }

              break;
          }
        } // if the end of all codewords is reached the last codeword needs to be added


        if (codeIndex === codewords[0] && nextCode < DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH) {
          byteCompactedCodewords[count++] = nextCode;
        } // If Byte Compaction mode is invoked with codeword 901,
        // the last group of codewords is interpreted directly
        // as one byte per codeword, without compaction.


        for (var i
        /*int*/
        = 0; i < count; i++) {
          decodedBytes.write(
          /*(byte)*/
          byteCompactedCodewords[i]);
        }

        break;

      case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH_6:
        // Total number of Byte Compaction characters to be encoded
        // is an integer multiple of 6
        while (codeIndex < codewords[0] && !end) {
          var code = codewords[codeIndex++];

          if (code < DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH) {
            count++; // Base 900

            value = 900 * value + code;
          } else {
            switch (code) {
              case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
              case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH:
              case DecodedBitStreamParser.NUMERIC_COMPACTION_MODE_LATCH:
              case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH_6:
              case DecodedBitStreamParser.BEGIN_MACRO_PDF417_CONTROL_BLOCK:
              case DecodedBitStreamParser.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:
              case DecodedBitStreamParser.MACRO_PDF417_TERMINATOR:
                codeIndex--;
                end = true;
                break;
            }
          }

          if (count % 5 === 0 && count > 0) {
            // Decode every 5 codewords
            // Convert to Base 256

            /* @note
             * JavaScript stores numbers as 64 bits floating point numbers, but all bitwise operations are performed on 32 bits binary numbers.
             * So the next bitwise operation could not be done with simple numbers
            */
            for (var j
            /*int*/
            = 0; j < 6; ++j) {
              decodedBytes.write(
              /*(byte)*/
              Number(createBigInt(value) >> createBigInt(8 * (5 - j))));
            }

            value = 0;
            count = 0;
          }
        }

        break;
    }

    result.append(StringEncoding.decode(decodedBytes.toByteArray(), encoding));
    return codeIndex;
  };
  /**
   * Numeric Compaction mode (see 5.4.4) permits efficient encoding of numeric data strings.
   *
   * @param codewords The array of codewords (data + error)
   * @param codeIndex The current index into the codeword array.
   * @param result    The decoded data is appended to the result.
   * @return The next index into the codeword array.
   *
   * @throws FormatException
   */


  DecodedBitStreamParser.numericCompaction = function (codewords, codeIndex
  /*int*/
  , result) {
    var count = 0;
    var end = false;
    var numericCodewords = new Int32Array(DecodedBitStreamParser.MAX_NUMERIC_CODEWORDS);

    while (codeIndex < codewords[0] && !end) {
      var code = codewords[codeIndex++];

      if (codeIndex === codewords[0]) {
        end = true;
      }

      if (code < DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH) {
        numericCodewords[count] = code;
        count++;
      } else {
        switch (code) {
          case DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH:
          case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH:
          case DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH_6:
          case DecodedBitStreamParser.BEGIN_MACRO_PDF417_CONTROL_BLOCK:
          case DecodedBitStreamParser.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:
          case DecodedBitStreamParser.MACRO_PDF417_TERMINATOR:
            codeIndex--;
            end = true;
            break;
        }
      }

      if ((count % DecodedBitStreamParser.MAX_NUMERIC_CODEWORDS === 0 || code === DecodedBitStreamParser.NUMERIC_COMPACTION_MODE_LATCH || end) && count > 0) {
        // Re-invoking Numeric Compaction mode (by using codeword 902
        // while in Numeric Compaction mode) serves  to terminate the
        // current Numeric Compaction mode grouping as described in 5.4.4.2,
        // and then to start a new one grouping.
        result.append(DecodedBitStreamParser.decodeBase900toBase10(numericCodewords, count));
        count = 0;
      }
    }

    return codeIndex;
  };
  /**
   * Convert a list of Numeric Compacted codewords from Base 900 to Base 10.
   *
   * @param codewords The array of codewords
   * @param count     The number of codewords
   * @return The decoded string representing the Numeric data.
   *
   * EXAMPLE
   * Encode the fifteen digit numeric string 000213298174000
   * Prefix the numeric string with a 1 and set the initial value of
   * t = 1 000 213 298 174 000
   * Calculate codeword 0
   * d0 = 1 000 213 298 174 000 mod 900 = 200
   *
   * t = 1 000 213 298 174 000 div 900 = 1 111 348 109 082
   * Calculate codeword 1
   * d1 = 1 111 348 109 082 mod 900 = 282
   *
   * t = 1 111 348 109 082 div 900 = 1 234 831 232
   * Calculate codeword 2
   * d2 = 1 234 831 232 mod 900 = 632
   *
   * t = 1 234 831 232 div 900 = 1 372 034
   * Calculate codeword 3
   * d3 = 1 372 034 mod 900 = 434
   *
   * t = 1 372 034 div 900 = 1 524
   * Calculate codeword 4
   * d4 = 1 524 mod 900 = 624
   *
   * t = 1 524 div 900 = 1
   * Calculate codeword 5
   * d5 = 1 mod 900 = 1
   * t = 1 div 900 = 0
   * Codeword sequence is: 1, 624, 434, 632, 282, 200
   *
   * Decode the above codewords involves
   *   1 x 900 power of 5 + 624 x 900 power of 4 + 434 x 900 power of 3 +
   * 632 x 900 power of 2 + 282 x 900 power of 1 + 200 x 900 power of 0 = 1000213298174000
   *
   * Remove leading 1 =>  Result is 000213298174000
   *
   * @throws FormatException
   */


  DecodedBitStreamParser.decodeBase900toBase10 = function (codewords, count) {
    var result = createBigInt(0);

    for (var i
    /*int*/
    = 0; i < count; i++) {
      result += DecodedBitStreamParser.EXP900[count - i - 1] * createBigInt(codewords[i]);
    }

    var resultString = result.toString();

    if (resultString.charAt(0) !== '1') {
      throw new FormatException();
    }

    return resultString.substring(1);
  };

  DecodedBitStreamParser.TEXT_COMPACTION_MODE_LATCH = 900;
  DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH = 901;
  DecodedBitStreamParser.NUMERIC_COMPACTION_MODE_LATCH = 902;
  DecodedBitStreamParser.BYTE_COMPACTION_MODE_LATCH_6 = 924;
  DecodedBitStreamParser.ECI_USER_DEFINED = 925;
  DecodedBitStreamParser.ECI_GENERAL_PURPOSE = 926;
  DecodedBitStreamParser.ECI_CHARSET = 927;
  DecodedBitStreamParser.BEGIN_MACRO_PDF417_CONTROL_BLOCK = 928;
  DecodedBitStreamParser.BEGIN_MACRO_PDF417_OPTIONAL_FIELD = 923;
  DecodedBitStreamParser.MACRO_PDF417_TERMINATOR = 922;
  DecodedBitStreamParser.MODE_SHIFT_TO_BYTE_COMPACTION_MODE = 913;
  DecodedBitStreamParser.MAX_NUMERIC_CODEWORDS = 15;
  DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME = 0;
  DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT = 1;
  DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP = 2;
  DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_SENDER = 3;
  DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE = 4;
  DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE = 5;
  DecodedBitStreamParser.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM = 6;
  DecodedBitStreamParser.PL = 25;
  DecodedBitStreamParser.LL = 27;
  DecodedBitStreamParser.AS = 27;
  DecodedBitStreamParser.ML = 28;
  DecodedBitStreamParser.AL = 28;
  DecodedBitStreamParser.PS = 29;
  DecodedBitStreamParser.PAL = 29;
  DecodedBitStreamParser.PUNCT_CHARS = ';<>@[\\]_`~!\r\t,:\n-.$/"|*()?{}\'';
  DecodedBitStreamParser.MIXED_CHARS = '0123456789&\r\t,:#-.$/+%*=^';
  /**
   * Table containing values for the exponent of 900.
   * This is used in the numeric compaction decode algorithm.
   */

  DecodedBitStreamParser.EXP900 = getBigIntConstructor() ? getEXP900() : [];
  DecodedBitStreamParser.NUMBER_OF_SEQUENCE_CODEWORDS = 2;
  return DecodedBitStreamParser;
}();

/*
* Copyright 2013 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var __values$5 = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // package com.google.zxing.pdf417.decoder;
// import java.util.Collection;
// import java.util.Formatter;
// import java.util.List;

/**
 * @author Guenther Grau
 */

var PDF417ScanningDecoder =
/** @class */
function () {
  function PDF417ScanningDecoder() {}
  /**
   * @TODO don't pass in minCodewordWidth and maxCodewordWidth, pass in barcode columns for start and stop pattern
   *
   * columns. That way width can be deducted from the pattern column.
   * This approach also allows to detect more details about the barcode, e.g. if a bar type (white or black) is wider
   * than it should be. This can happen if the scanner used a bad blackpoint.
   *
   * @param BitMatrix
   * @param image
   * @param ResultPoint
   * @param imageTopLeft
   * @param ResultPoint
   * @param imageBottomLeft
   * @param ResultPoint
   * @param imageTopRight
   * @param ResultPoint
   * @param imageBottomRight
   * @param int
   * @param minCodewordWidth
   * @param int
   * @param maxCodewordWidth
   *
   * @throws NotFoundException
   * @throws FormatException
   * @throws ChecksumException
   */


  PDF417ScanningDecoder.decode = function (image, imageTopLeft, imageBottomLeft, imageTopRight, imageBottomRight, minCodewordWidth, maxCodewordWidth) {
    var boundingBox = new BoundingBox(image, imageTopLeft, imageBottomLeft, imageTopRight, imageBottomRight);
    var leftRowIndicatorColumn = null;
    var rightRowIndicatorColumn = null;
    var detectionResult;

    for (var firstPass
    /*boolean*/
    = true;; firstPass = false) {
      if (imageTopLeft != null) {
        leftRowIndicatorColumn = PDF417ScanningDecoder.getRowIndicatorColumn(image, boundingBox, imageTopLeft, true, minCodewordWidth, maxCodewordWidth);
      }

      if (imageTopRight != null) {
        rightRowIndicatorColumn = PDF417ScanningDecoder.getRowIndicatorColumn(image, boundingBox, imageTopRight, false, minCodewordWidth, maxCodewordWidth);
      }

      detectionResult = PDF417ScanningDecoder.merge(leftRowIndicatorColumn, rightRowIndicatorColumn);

      if (detectionResult == null) {
        throw NotFoundException.getNotFoundInstance();
      }

      var resultBox = detectionResult.getBoundingBox();

      if (firstPass && resultBox != null && (resultBox.getMinY() < boundingBox.getMinY() || resultBox.getMaxY() > boundingBox.getMaxY())) {
        boundingBox = resultBox;
      } else {
        break;
      }
    }

    detectionResult.setBoundingBox(boundingBox);
    var maxBarcodeColumn = detectionResult.getBarcodeColumnCount() + 1;
    detectionResult.setDetectionResultColumn(0, leftRowIndicatorColumn);
    detectionResult.setDetectionResultColumn(maxBarcodeColumn, rightRowIndicatorColumn);
    var leftToRight = leftRowIndicatorColumn != null;

    for (var barcodeColumnCount
    /*int*/
    = 1; barcodeColumnCount <= maxBarcodeColumn; barcodeColumnCount++) {
      var barcodeColumn = leftToRight ? barcodeColumnCount : maxBarcodeColumn - barcodeColumnCount;

      if (detectionResult.getDetectionResultColumn(barcodeColumn) !==
      /* null */
      undefined) {
        // This will be the case for the opposite row indicator column, which doesn't need to be decoded again.
        continue;
      }

      var detectionResultColumn = void 0;

      if (barcodeColumn === 0 || barcodeColumn === maxBarcodeColumn) {
        detectionResultColumn = new DetectionResultRowIndicatorColumn(boundingBox, barcodeColumn === 0);
      } else {
        detectionResultColumn = new DetectionResultColumn(boundingBox);
      }

      detectionResult.setDetectionResultColumn(barcodeColumn, detectionResultColumn);
      var startColumn = -1;
      var previousStartColumn = startColumn; // TODO start at a row for which we know the start position, then detect upwards and downwards from there.

      for (var imageRow
      /*int*/
      = boundingBox.getMinY(); imageRow <= boundingBox.getMaxY(); imageRow++) {
        startColumn = PDF417ScanningDecoder.getStartColumn(detectionResult, barcodeColumn, imageRow, leftToRight);

        if (startColumn < 0 || startColumn > boundingBox.getMaxX()) {
          if (previousStartColumn === -1) {
            continue;
          }

          startColumn = previousStartColumn;
        }

        var codeword = PDF417ScanningDecoder.detectCodeword(image, boundingBox.getMinX(), boundingBox.getMaxX(), leftToRight, startColumn, imageRow, minCodewordWidth, maxCodewordWidth);

        if (codeword != null) {
          detectionResultColumn.setCodeword(imageRow, codeword);
          previousStartColumn = startColumn;
          minCodewordWidth = Math.min(minCodewordWidth, codeword.getWidth());
          maxCodewordWidth = Math.max(maxCodewordWidth, codeword.getWidth());
        }
      }
    }

    return PDF417ScanningDecoder.createDecoderResult(detectionResult);
  };
  /**
   *
   * @param leftRowIndicatorColumn
   * @param rightRowIndicatorColumn
   *
   * @throws NotFoundException
   */


  PDF417ScanningDecoder.merge = function (leftRowIndicatorColumn, rightRowIndicatorColumn) {
    if (leftRowIndicatorColumn == null && rightRowIndicatorColumn == null) {
      return null;
    }

    var barcodeMetadata = PDF417ScanningDecoder.getBarcodeMetadata(leftRowIndicatorColumn, rightRowIndicatorColumn);

    if (barcodeMetadata == null) {
      return null;
    }

    var boundingBox = BoundingBox.merge(PDF417ScanningDecoder.adjustBoundingBox(leftRowIndicatorColumn), PDF417ScanningDecoder.adjustBoundingBox(rightRowIndicatorColumn));
    return new DetectionResult(barcodeMetadata, boundingBox);
  };
  /**
   *
   * @param rowIndicatorColumn
   *
   * @throws NotFoundException
   */


  PDF417ScanningDecoder.adjustBoundingBox = function (rowIndicatorColumn) {
    var e_1, _a;

    if (rowIndicatorColumn == null) {
      return null;
    }

    var rowHeights = rowIndicatorColumn.getRowHeights();

    if (rowHeights == null) {
      return null;
    }

    var maxRowHeight = PDF417ScanningDecoder.getMax(rowHeights);
    var missingStartRows = 0;

    try {
      for (var rowHeights_1 = __values$5(rowHeights), rowHeights_1_1 = rowHeights_1.next(); !rowHeights_1_1.done; rowHeights_1_1 = rowHeights_1.next()) {
        var rowHeight = rowHeights_1_1.value
        /*int*/
        ;
        missingStartRows += maxRowHeight - rowHeight;

        if (rowHeight > 0) {
          break;
        }
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (rowHeights_1_1 && !rowHeights_1_1.done && (_a = rowHeights_1.return)) _a.call(rowHeights_1);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    var codewords = rowIndicatorColumn.getCodewords();

    for (var row
    /*int*/
    = 0; missingStartRows > 0 && codewords[row] == null; row++) {
      missingStartRows--;
    }

    var missingEndRows = 0;

    for (var row
    /*int*/
    = rowHeights.length - 1; row >= 0; row--) {
      missingEndRows += maxRowHeight - rowHeights[row];

      if (rowHeights[row] > 0) {
        break;
      }
    }

    for (var row
    /*int*/
    = codewords.length - 1; missingEndRows > 0 && codewords[row] == null; row--) {
      missingEndRows--;
    }

    return rowIndicatorColumn.getBoundingBox().addMissingRows(missingStartRows, missingEndRows, rowIndicatorColumn.isLeft());
  };

  PDF417ScanningDecoder.getMax = function (values) {
    var e_2, _a;

    var maxValue = -1;

    try {
      for (var values_1 = __values$5(values), values_1_1 = values_1.next(); !values_1_1.done; values_1_1 = values_1.next()) {
        var value = values_1_1.value
        /*int*/
        ;
        maxValue = Math.max(maxValue, value);
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (values_1_1 && !values_1_1.done && (_a = values_1.return)) _a.call(values_1);
      } finally {
        if (e_2) throw e_2.error;
      }
    }

    return maxValue;
  };

  PDF417ScanningDecoder.getBarcodeMetadata = function (leftRowIndicatorColumn, rightRowIndicatorColumn) {
    var leftBarcodeMetadata;

    if (leftRowIndicatorColumn == null || (leftBarcodeMetadata = leftRowIndicatorColumn.getBarcodeMetadata()) == null) {
      return rightRowIndicatorColumn == null ? null : rightRowIndicatorColumn.getBarcodeMetadata();
    }

    var rightBarcodeMetadata;

    if (rightRowIndicatorColumn == null || (rightBarcodeMetadata = rightRowIndicatorColumn.getBarcodeMetadata()) == null) {
      return leftBarcodeMetadata;
    }

    if (leftBarcodeMetadata.getColumnCount() !== rightBarcodeMetadata.getColumnCount() && leftBarcodeMetadata.getErrorCorrectionLevel() !== rightBarcodeMetadata.getErrorCorrectionLevel() && leftBarcodeMetadata.getRowCount() !== rightBarcodeMetadata.getRowCount()) {
      return null;
    }

    return leftBarcodeMetadata;
  };

  PDF417ScanningDecoder.getRowIndicatorColumn = function (image, boundingBox, startPoint, leftToRight, minCodewordWidth, maxCodewordWidth) {
    var rowIndicatorColumn = new DetectionResultRowIndicatorColumn(boundingBox, leftToRight);

    for (var i
    /*int*/
    = 0; i < 2; i++) {
      var increment = i === 0 ? 1 : -1;
      var startColumn = Math.trunc(Math.trunc(startPoint.getX()));

      for (var imageRow
      /*int*/
      = Math.trunc(Math.trunc(startPoint.getY())); imageRow <= boundingBox.getMaxY() && imageRow >= boundingBox.getMinY(); imageRow += increment) {
        var codeword = PDF417ScanningDecoder.detectCodeword(image, 0, image.getWidth(), leftToRight, startColumn, imageRow, minCodewordWidth, maxCodewordWidth);

        if (codeword != null) {
          rowIndicatorColumn.setCodeword(imageRow, codeword);

          if (leftToRight) {
            startColumn = codeword.getStartX();
          } else {
            startColumn = codeword.getEndX();
          }
        }
      }
    }

    return rowIndicatorColumn;
  };
  /**
   *
   * @param detectionResult
   * @param BarcodeValue
   * @param param2
   * @param param3
   * @param barcodeMatrix
   *
   * @throws NotFoundException
   */


  PDF417ScanningDecoder.adjustCodewordCount = function (detectionResult, barcodeMatrix) {
    var barcodeMatrix01 = barcodeMatrix[0][1];
    var numberOfCodewords = barcodeMatrix01.getValue();
    var calculatedNumberOfCodewords = detectionResult.getBarcodeColumnCount() * detectionResult.getBarcodeRowCount() - PDF417ScanningDecoder.getNumberOfECCodeWords(detectionResult.getBarcodeECLevel());

    if (numberOfCodewords.length === 0) {
      if (calculatedNumberOfCodewords < 1 || calculatedNumberOfCodewords > PDF417Common.MAX_CODEWORDS_IN_BARCODE) {
        throw NotFoundException.getNotFoundInstance();
      }

      barcodeMatrix01.setValue(calculatedNumberOfCodewords);
    } else if (numberOfCodewords[0] !== calculatedNumberOfCodewords) {
      // The calculated one is more reliable as it is derived from the row indicator columns
      barcodeMatrix01.setValue(calculatedNumberOfCodewords);
    }
  };
  /**
   *
   * @param detectionResult
   *
   * @throws FormatException
   * @throws ChecksumException
   * @throws NotFoundException
   */


  PDF417ScanningDecoder.createDecoderResult = function (detectionResult) {
    var barcodeMatrix = PDF417ScanningDecoder.createBarcodeMatrix(detectionResult);
    PDF417ScanningDecoder.adjustCodewordCount(detectionResult, barcodeMatrix);
    var erasures
    /*Collection<Integer>*/
    = new Array();
    var codewords = new Int32Array(detectionResult.getBarcodeRowCount() * detectionResult.getBarcodeColumnCount());
    var ambiguousIndexValuesList =
    /*List<int[]>*/
    [];
    var ambiguousIndexesList =
    /*Collection<Integer>*/
    new Array();

    for (var row
    /*int*/
    = 0; row < detectionResult.getBarcodeRowCount(); row++) {
      for (var column
      /*int*/
      = 0; column < detectionResult.getBarcodeColumnCount(); column++) {
        var values = barcodeMatrix[row][column + 1].getValue();
        var codewordIndex = row * detectionResult.getBarcodeColumnCount() + column;

        if (values.length === 0) {
          erasures.push(codewordIndex);
        } else if (values.length === 1) {
          codewords[codewordIndex] = values[0];
        } else {
          ambiguousIndexesList.push(codewordIndex);
          ambiguousIndexValuesList.push(values);
        }
      }
    }

    var ambiguousIndexValues = new Array(ambiguousIndexValuesList.length);

    for (var i
    /*int*/
    = 0; i < ambiguousIndexValues.length; i++) {
      ambiguousIndexValues[i] = ambiguousIndexValuesList[i];
    }

    return PDF417ScanningDecoder.createDecoderResultFromAmbiguousValues(detectionResult.getBarcodeECLevel(), codewords, PDF417Common.toIntArray(erasures), PDF417Common.toIntArray(ambiguousIndexesList), ambiguousIndexValues);
  };
  /**
   * This method deals with the fact, that the decoding process doesn't always yield a single most likely value. The
   * current error correction implementation doesn't deal with erasures very well, so it's better to provide a value
   * for these ambiguous codewords instead of treating it as an erasure. The problem is that we don't know which of
   * the ambiguous values to choose. We try decode using the first value, and if that fails, we use another of the
   * ambiguous values and try to decode again. This usually only happens on very hard to read and decode barcodes,
   * so decoding the normal barcodes is not affected by this.
   *
   * @param erasureArray contains the indexes of erasures
   * @param ambiguousIndexes array with the indexes that have more than one most likely value
   * @param ambiguousIndexValues two dimensional array that contains the ambiguous values. The first dimension must
   * be the same length as the ambiguousIndexes array
   *
   * @throws FormatException
   * @throws ChecksumException
   */


  PDF417ScanningDecoder.createDecoderResultFromAmbiguousValues = function (ecLevel, codewords, erasureArray, ambiguousIndexes, ambiguousIndexValues) {
    var ambiguousIndexCount = new Int32Array(ambiguousIndexes.length);
    var tries = 100;

    while (tries-- > 0) {
      for (var i
      /*int*/
      = 0; i < ambiguousIndexCount.length; i++) {
        codewords[ambiguousIndexes[i]] = ambiguousIndexValues[i][ambiguousIndexCount[i]];
      }

      try {
        return PDF417ScanningDecoder.decodeCodewords(codewords, ecLevel, erasureArray);
      } catch (err) {
        var ignored = err instanceof ChecksumException;

        if (!ignored) {
          throw err;
        }
      }

      if (ambiguousIndexCount.length === 0) {
        throw ChecksumException.getChecksumInstance();
      }

      for (var i
      /*int*/
      = 0; i < ambiguousIndexCount.length; i++) {
        if (ambiguousIndexCount[i] < ambiguousIndexValues[i].length - 1) {
          ambiguousIndexCount[i]++;
          break;
        } else {
          ambiguousIndexCount[i] = 0;

          if (i === ambiguousIndexCount.length - 1) {
            throw ChecksumException.getChecksumInstance();
          }
        }
      }
    }

    throw ChecksumException.getChecksumInstance();
  };

  PDF417ScanningDecoder.createBarcodeMatrix = function (detectionResult) {
    var e_3, _a, e_4, _b; // let barcodeMatrix: BarcodeValue[][] =
    // new BarcodeValue[detectionResult.getBarcodeRowCount()][detectionResult.getBarcodeColumnCount() + 2];


    var barcodeMatrix = Array.from({
      length: detectionResult.getBarcodeRowCount()
    }, function () {
      return new Array(detectionResult.getBarcodeColumnCount() + 2);
    });

    for (var row
    /*int*/
    = 0; row < barcodeMatrix.length; row++) {
      for (var column_1
      /*int*/
      = 0; column_1 < barcodeMatrix[row].length; column_1++) {
        barcodeMatrix[row][column_1] = new BarcodeValue();
      }
    }

    var column = 0;

    try {
      for (var _c = __values$5(detectionResult.getDetectionResultColumns()), _d = _c.next(); !_d.done; _d = _c.next()) {
        var detectionResultColumn = _d.value
        /*DetectionResultColumn*/
        ;

        if (detectionResultColumn != null) {
          try {
            for (var _e = (e_4 = void 0, __values$5(detectionResultColumn.getCodewords())), _f = _e.next(); !_f.done; _f = _e.next()) {
              var codeword = _f.value
              /*Codeword*/
              ;

              if (codeword != null) {
                var rowNumber = codeword.getRowNumber();

                if (rowNumber >= 0) {
                  if (rowNumber >= barcodeMatrix.length) {
                    // We have more rows than the barcode metadata allows for, ignore them.
                    continue;
                  }

                  barcodeMatrix[rowNumber][column].setValue(codeword.getValue());
                }
              }
            }
          } catch (e_4_1) {
            e_4 = {
              error: e_4_1
            };
          } finally {
            try {
              if (_f && !_f.done && (_b = _e.return)) _b.call(_e);
            } finally {
              if (e_4) throw e_4.error;
            }
          }
        }

        column++;
      }
    } catch (e_3_1) {
      e_3 = {
        error: e_3_1
      };
    } finally {
      try {
        if (_d && !_d.done && (_a = _c.return)) _a.call(_c);
      } finally {
        if (e_3) throw e_3.error;
      }
    }

    return barcodeMatrix;
  };

  PDF417ScanningDecoder.isValidBarcodeColumn = function (detectionResult, barcodeColumn) {
    return barcodeColumn >= 0 && barcodeColumn <= detectionResult.getBarcodeColumnCount() + 1;
  };

  PDF417ScanningDecoder.getStartColumn = function (detectionResult, barcodeColumn, imageRow, leftToRight) {
    var e_5, _a;

    var offset = leftToRight ? 1 : -1;
    var codeword = null;

    if (PDF417ScanningDecoder.isValidBarcodeColumn(detectionResult, barcodeColumn - offset)) {
      codeword = detectionResult.getDetectionResultColumn(barcodeColumn - offset).getCodeword(imageRow);
    }

    if (codeword != null) {
      return leftToRight ? codeword.getEndX() : codeword.getStartX();
    }

    codeword = detectionResult.getDetectionResultColumn(barcodeColumn).getCodewordNearby(imageRow);

    if (codeword != null) {
      return leftToRight ? codeword.getStartX() : codeword.getEndX();
    }

    if (PDF417ScanningDecoder.isValidBarcodeColumn(detectionResult, barcodeColumn - offset)) {
      codeword = detectionResult.getDetectionResultColumn(barcodeColumn - offset).getCodewordNearby(imageRow);
    }

    if (codeword != null) {
      return leftToRight ? codeword.getEndX() : codeword.getStartX();
    }

    var skippedColumns = 0;

    while (PDF417ScanningDecoder.isValidBarcodeColumn(detectionResult, barcodeColumn - offset)) {
      barcodeColumn -= offset;

      try {
        for (var _b = (e_5 = void 0, __values$5(detectionResult.getDetectionResultColumn(barcodeColumn).getCodewords())), _c = _b.next(); !_c.done; _c = _b.next()) {
          var previousRowCodeword = _c.value
          /*Codeword*/
          ;

          if (previousRowCodeword != null) {
            return (leftToRight ? previousRowCodeword.getEndX() : previousRowCodeword.getStartX()) + offset * skippedColumns * (previousRowCodeword.getEndX() - previousRowCodeword.getStartX());
          }
        }
      } catch (e_5_1) {
        e_5 = {
          error: e_5_1
        };
      } finally {
        try {
          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
        } finally {
          if (e_5) throw e_5.error;
        }
      }

      skippedColumns++;
    }

    return leftToRight ? detectionResult.getBoundingBox().getMinX() : detectionResult.getBoundingBox().getMaxX();
  };

  PDF417ScanningDecoder.detectCodeword = function (image, minColumn, maxColumn, leftToRight, startColumn, imageRow, minCodewordWidth, maxCodewordWidth) {
    startColumn = PDF417ScanningDecoder.adjustCodewordStartColumn(image, minColumn, maxColumn, leftToRight, startColumn, imageRow); // we usually know fairly exact now how long a codeword is. We should provide minimum and maximum expected length
    // and try to adjust the read pixels, e.g. remove single pixel errors or try to cut off exceeding pixels.
    // min and maxCodewordWidth should not be used as they are calculated for the whole barcode an can be inaccurate
    // for the current position

    var moduleBitCount = PDF417ScanningDecoder.getModuleBitCount(image, minColumn, maxColumn, leftToRight, startColumn, imageRow);

    if (moduleBitCount == null) {
      return null;
    }

    var endColumn;
    var codewordBitCount = MathUtils.sum(moduleBitCount);

    if (leftToRight) {
      endColumn = startColumn + codewordBitCount;
    } else {
      for (var i
      /*int*/
      = 0; i < moduleBitCount.length / 2; i++) {
        var tmpCount = moduleBitCount[i];
        moduleBitCount[i] = moduleBitCount[moduleBitCount.length - 1 - i];
        moduleBitCount[moduleBitCount.length - 1 - i] = tmpCount;
      }

      endColumn = startColumn;
      startColumn = endColumn - codewordBitCount;
    } // TODO implement check for width and correction of black and white bars
    // use start (and maybe stop pattern) to determine if black bars are wider than white bars. If so, adjust.
    // should probably done only for codewords with a lot more than 17 bits.
    // The following fixes 10-1.png, which has wide black bars and small white bars
    //    for (let i /*int*/ = 0; i < moduleBitCount.length; i++) {
    //      if (i % 2 === 0) {
    //        moduleBitCount[i]--;
    //      } else {
    //        moduleBitCount[i]++;
    //      }
    //    }
    // We could also use the width of surrounding codewords for more accurate results, but this seems
    // sufficient for now


    if (!PDF417ScanningDecoder.checkCodewordSkew(codewordBitCount, minCodewordWidth, maxCodewordWidth)) {
      // We could try to use the startX and endX position of the codeword in the same column in the previous row,
      // create the bit count from it and normalize it to 8. This would help with single pixel errors.
      return null;
    }

    var decodedValue = PDF417CodewordDecoder.getDecodedValue(moduleBitCount);
    var codeword = PDF417Common.getCodeword(decodedValue);

    if (codeword === -1) {
      return null;
    }

    return new Codeword(startColumn, endColumn, PDF417ScanningDecoder.getCodewordBucketNumber(decodedValue), codeword);
  };

  PDF417ScanningDecoder.getModuleBitCount = function (image, minColumn, maxColumn, leftToRight, startColumn, imageRow) {
    var imageColumn = startColumn;
    var moduleBitCount = new Int32Array(8);
    var moduleNumber = 0;
    var increment = leftToRight ? 1 : -1;
    var previousPixelValue = leftToRight;

    while ((leftToRight ? imageColumn < maxColumn : imageColumn >= minColumn) && moduleNumber < moduleBitCount.length) {
      if (image.get(imageColumn, imageRow) === previousPixelValue) {
        moduleBitCount[moduleNumber]++;
        imageColumn += increment;
      } else {
        moduleNumber++;
        previousPixelValue = !previousPixelValue;
      }
    }

    if (moduleNumber === moduleBitCount.length || imageColumn === (leftToRight ? maxColumn : minColumn) && moduleNumber === moduleBitCount.length - 1) {
      return moduleBitCount;
    }

    return null;
  };

  PDF417ScanningDecoder.getNumberOfECCodeWords = function (barcodeECLevel) {
    return 2 << barcodeECLevel;
  };

  PDF417ScanningDecoder.adjustCodewordStartColumn = function (image, minColumn, maxColumn, leftToRight, codewordStartColumn, imageRow) {
    var correctedStartColumn = codewordStartColumn;
    var increment = leftToRight ? -1 : 1; // there should be no black pixels before the start column. If there are, then we need to start earlier.

    for (var i
    /*int*/
    = 0; i < 2; i++) {
      while ((leftToRight ? correctedStartColumn >= minColumn : correctedStartColumn < maxColumn) && leftToRight === image.get(correctedStartColumn, imageRow)) {
        if (Math.abs(codewordStartColumn - correctedStartColumn) > PDF417ScanningDecoder.CODEWORD_SKEW_SIZE) {
          return codewordStartColumn;
        }

        correctedStartColumn += increment;
      }

      increment = -increment;
      leftToRight = !leftToRight;
    }

    return correctedStartColumn;
  };

  PDF417ScanningDecoder.checkCodewordSkew = function (codewordSize, minCodewordWidth, maxCodewordWidth) {
    return minCodewordWidth - PDF417ScanningDecoder.CODEWORD_SKEW_SIZE <= codewordSize && codewordSize <= maxCodewordWidth + PDF417ScanningDecoder.CODEWORD_SKEW_SIZE;
  };
  /**
   * @throws FormatException,
   * @throws ChecksumException
   */


  PDF417ScanningDecoder.decodeCodewords = function (codewords, ecLevel, erasures) {
    if (codewords.length === 0) {
      throw FormatException.getFormatInstance();
    }

    var numECCodewords = 1 << ecLevel + 1;
    var correctedErrorsCount = PDF417ScanningDecoder.correctErrors(codewords, erasures, numECCodewords);
    PDF417ScanningDecoder.verifyCodewordCount(codewords, numECCodewords); // Decode the codewords

    var decoderResult = DecodedBitStreamParser.decode(codewords, '' + ecLevel);
    decoderResult.setErrorsCorrected(correctedErrorsCount);
    decoderResult.setErasures(erasures.length);
    return decoderResult;
  };
  /**
   * <p>Given data and error-correction codewords received, possibly corrupted by errors, attempts to
   * correct the errors in-place.</p>
   *
   * @param codewords   data and error correction codewords
   * @param erasures positions of any known erasures
   * @param numECCodewords number of error correction codewords that are available in codewords
   * @throws ChecksumException if error correction fails
   */


  PDF417ScanningDecoder.correctErrors = function (codewords, erasures, numECCodewords) {
    if (erasures != null && erasures.length > numECCodewords / 2 + PDF417ScanningDecoder.MAX_ERRORS || numECCodewords < 0 || numECCodewords > PDF417ScanningDecoder.MAX_EC_CODEWORDS) {
      // Too many errors or EC Codewords is corrupted
      throw ChecksumException.getChecksumInstance();
    }

    return PDF417ScanningDecoder.errorCorrection.decode(codewords, numECCodewords, erasures);
  };
  /**
   * Verify that all is OK with the codeword array.
   * @throws FormatException
   */


  PDF417ScanningDecoder.verifyCodewordCount = function (codewords, numECCodewords) {
    if (codewords.length < 4) {
      // Codeword array size should be at least 4 allowing for
      // Count CW, At least one Data CW, Error Correction CW, Error Correction CW
      throw FormatException.getFormatInstance();
    } // The first codeword, the Symbol Length Descriptor, shall always encode the total number of data
    // codewords in the symbol, including the Symbol Length Descriptor itself, data codewords and pad
    // codewords, but excluding the number of error correction codewords.


    var numberOfCodewords = codewords[0];

    if (numberOfCodewords > codewords.length) {
      throw FormatException.getFormatInstance();
    }

    if (numberOfCodewords === 0) {
      // Reset to the length of the array - 8 (Allow for at least level 3 Error Correction (8 Error Codewords)
      if (numECCodewords < codewords.length) {
        codewords[0] = codewords.length - numECCodewords;
      } else {
        throw FormatException.getFormatInstance();
      }
    }
  };

  PDF417ScanningDecoder.getBitCountForCodeword = function (codeword) {
    var result = new Int32Array(8);
    var previousValue = 0;
    var i = result.length - 1;

    while (true) {
      if ((codeword & 0x1) !== previousValue) {
        previousValue = codeword & 0x1;
        i--;

        if (i < 0) {
          break;
        }
      }

      result[i]++;
      codeword >>= 1;
    }

    return result;
  };

  PDF417ScanningDecoder.getCodewordBucketNumber = function (codeword) {
    if (codeword instanceof Int32Array) {
      return this.getCodewordBucketNumber_Int32Array(codeword);
    }

    return this.getCodewordBucketNumber_number(codeword);
  };

  PDF417ScanningDecoder.getCodewordBucketNumber_number = function (codeword) {
    return PDF417ScanningDecoder.getCodewordBucketNumber(PDF417ScanningDecoder.getBitCountForCodeword(codeword));
  };

  PDF417ScanningDecoder.getCodewordBucketNumber_Int32Array = function (moduleBitCount) {
    return (moduleBitCount[0] - moduleBitCount[2] + moduleBitCount[4] - moduleBitCount[6] + 9) % 9;
  };

  PDF417ScanningDecoder.toString = function (barcodeMatrix) {
    var formatter = new Formatter(); // try (let formatter = new Formatter()) {

    for (var row
    /*int*/
    = 0; row < barcodeMatrix.length; row++) {
      formatter.format('Row %2d: ', row);

      for (var column
      /*int*/
      = 0; column < barcodeMatrix[row].length; column++) {
        var barcodeValue = barcodeMatrix[row][column];

        if (barcodeValue.getValue().length === 0) {
          formatter.format('        ', null);
        } else {
          formatter.format('%4d(%2d)', barcodeValue.getValue()[0], barcodeValue.getConfidence(barcodeValue.getValue()[0]));
        }
      }

      formatter.format('%n');
    }

    return formatter.toString(); // }
  };
  /*final*/


  PDF417ScanningDecoder.CODEWORD_SKEW_SIZE = 2;
  /*final*/

  PDF417ScanningDecoder.MAX_ERRORS = 3;
  /*final*/

  PDF417ScanningDecoder.MAX_EC_CODEWORDS = 512;
  /*final*/

  PDF417ScanningDecoder.errorCorrection = new ErrorCorrection();
  return PDF417ScanningDecoder;
}();

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$4 = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // package com.google.zxing.pdf417;
// import java.util.List;
// import java.util.Map;

/**
 * This implementation can detect and decode PDF417 codes in an image.
 *
 * @author Guenther Grau
 */

var PDF417Reader =
/** @class */
function () {
  function PDF417Reader() {} // private static /*final Result[]*/ EMPTY_RESULT_ARRAY: Result[] = new Result([0]);

  /**
   * Locates and decodes a PDF417 code in an image.
   *
   * @return a String representing the content encoded by the PDF417 code
   * @throws NotFoundException if a PDF417 code cannot be found,
   * @throws FormatException if a PDF417 cannot be decoded
   * @throws ChecksumException
   */
  // @Override


  PDF417Reader.prototype.decode = function (image, hints) {
    if (hints === void 0) {
      hints = null;
    }

    var result = PDF417Reader.decode(image, hints, false);

    if (result == null || result.length === 0 || result[0] == null) {
      throw NotFoundException.getNotFoundInstance();
    }

    return result[0];
  };
  /**
   *
   * @param BinaryBitmap
   * @param image
   * @throws NotFoundException
   */
  //   @Override


  PDF417Reader.prototype.decodeMultiple = function (image, hints) {
    if (hints === void 0) {
      hints = null;
    }

    try {
      return PDF417Reader.decode(image, hints, true);
    } catch (ignored) {
      if (ignored instanceof FormatException || ignored instanceof ChecksumException) {
        throw NotFoundException.getNotFoundInstance();
      }

      throw ignored;
    }
  };
  /**
   *
   * @param image
   * @param hints
   * @param multiple
   *
   * @throws NotFoundException
   * @throws FormatExceptionß
   * @throws ChecksumException
   */


  PDF417Reader.decode = function (image, hints, multiple) {
    var e_1, _a;

    var results = new Array();
    var detectorResult = Detector.detectMultiple(image, hints, multiple);

    try {
      for (var _b = __values$4(detectorResult.getPoints()), _c = _b.next(); !_c.done; _c = _b.next()) {
        var points = _c.value;
        var decoderResult = PDF417ScanningDecoder.decode(detectorResult.getBits(), points[4], points[5], points[6], points[7], PDF417Reader.getMinCodewordWidth(points), PDF417Reader.getMaxCodewordWidth(points));
        var result = new Result(decoderResult.getText(), decoderResult.getRawBytes(), undefined, points, BarcodeFormat$1.PDF_417);
        result.putMetadata(ResultMetadataType$1.ERROR_CORRECTION_LEVEL, decoderResult.getECLevel());
        var pdf417ResultMetadata = decoderResult.getOther();

        if (pdf417ResultMetadata != null) {
          result.putMetadata(ResultMetadataType$1.PDF417_EXTRA_METADATA, pdf417ResultMetadata);
        }

        results.push(result);
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    }

    return results.map(function (x) {
      return x;
    });
  };

  PDF417Reader.getMaxWidth = function (p1, p2) {
    if (p1 == null || p2 == null) {
      return 0;
    }

    return Math.trunc(Math.abs(p1.getX() - p2.getX()));
  };

  PDF417Reader.getMinWidth = function (p1, p2) {
    if (p1 == null || p2 == null) {
      return Integer.MAX_VALUE;
    }

    return Math.trunc(Math.abs(p1.getX() - p2.getX()));
  };

  PDF417Reader.getMaxCodewordWidth = function (p) {
    return Math.floor(Math.max(Math.max(PDF417Reader.getMaxWidth(p[0], p[4]), PDF417Reader.getMaxWidth(p[6], p[2]) * PDF417Common.MODULES_IN_CODEWORD / PDF417Common.MODULES_IN_STOP_PATTERN), Math.max(PDF417Reader.getMaxWidth(p[1], p[5]), PDF417Reader.getMaxWidth(p[7], p[3]) * PDF417Common.MODULES_IN_CODEWORD / PDF417Common.MODULES_IN_STOP_PATTERN)));
  };

  PDF417Reader.getMinCodewordWidth = function (p) {
    return Math.floor(Math.min(Math.min(PDF417Reader.getMinWidth(p[0], p[4]), PDF417Reader.getMinWidth(p[6], p[2]) * PDF417Common.MODULES_IN_CODEWORD / PDF417Common.MODULES_IN_STOP_PATTERN), Math.min(PDF417Reader.getMinWidth(p[1], p[5]), PDF417Reader.getMinWidth(p[7], p[3]) * PDF417Common.MODULES_IN_CODEWORD / PDF417Common.MODULES_IN_STOP_PATTERN)));
  }; // @Override


  PDF417Reader.prototype.reset = function () {// nothing needs to be reset
  };

  return PDF417Reader;
}();

var __extends$9 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var ReaderException =
/** @class */
function (_super) {
  __extends$9(ReaderException, _super);

  function ReaderException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  ReaderException.kind = 'ReaderException';
  return ReaderException;
}(Exception);

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$3 = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*namespace com.google.zxing {*/

/**
 * MultiFormatReader is a convenience class and the main entry point into the library for most uses.
 * By default it attempts to decode all barcode formats that the library supports. Optionally, you
 * can provide a hints object to request different behavior, for example only decoding QR codes.
 *
 * @author Sean Owen
 * @author dswitkin@google.com (Daniel Switkin)
 */

var MultiFormatReader =
/** @class */
function () {
  function MultiFormatReader() {}
  /**
   * This version of decode honors the intent of Reader.decode(BinaryBitmap) in that it
   * passes null as a hint to the decoders. However, that makes it inefficient to call repeatedly.
   * Use setHints() followed by decodeWithState() for continuous scan applications.
   *
   * @param image The pixel data to decode
   * @return The contents of the image
   *
   * @throws NotFoundException Any errors which occurred
   */

  /*@Override*/
  // public decode(image: BinaryBitmap): Result {
  //   setHints(null)
  //   return decodeInternal(image)
  // }

  /**
   * Decode an image using the hints provided. Does not honor existing state.
   *
   * @param image The pixel data to decode
   * @param hints The hints to use, clearing the previous state.
   * @return The contents of the image
   *
   * @throws NotFoundException Any errors which occurred
   */

  /*@Override*/


  MultiFormatReader.prototype.decode = function (image, hints) {
    this.setHints(hints);
    return this.decodeInternal(image);
  };
  /**
   * Decode an image using the state set up by calling setHints() previously. Continuous scan
   * clients will get a <b>large</b> speed increase by using this instead of decode().
   *
   * @param image The pixel data to decode
   * @return The contents of the image
   *
   * @throws NotFoundException Any errors which occurred
   */


  MultiFormatReader.prototype.decodeWithState = function (image) {
    // Make sure to set up the default state so we don't crash
    if (this.readers === null || this.readers === undefined) {
      this.setHints(null);
    }

    return this.decodeInternal(image);
  };
  /**
   * This method adds state to the MultiFormatReader. By setting the hints once, subsequent calls
   * to decodeWithState(image) can reuse the same set of readers without reallocating memory. This
   * is important for performance in continuous scan clients.
   *
   * @param hints The set of hints to use for subsequent calls to decode(image)
   */


  MultiFormatReader.prototype.setHints = function (hints) {
    this.hints = hints;
    var tryHarder = hints !== null && hints !== undefined && undefined !== hints.get(DecodeHintType$1.TRY_HARDER);
    /*@SuppressWarnings("unchecked")*/

    var formats = hints === null || hints === undefined ? null : hints.get(DecodeHintType$1.POSSIBLE_FORMATS);
    var readers = new Array();

    if (formats !== null && formats !== undefined) {
      var addOneDReader = formats.some(function (f) {
        return f === BarcodeFormat$1.UPC_A || f === BarcodeFormat$1.UPC_E || f === BarcodeFormat$1.EAN_13 || f === BarcodeFormat$1.EAN_8 || f === BarcodeFormat$1.CODABAR || f === BarcodeFormat$1.CODE_39 || f === BarcodeFormat$1.CODE_93 || f === BarcodeFormat$1.CODE_128 || f === BarcodeFormat$1.ITF || f === BarcodeFormat$1.RSS_14 || f === BarcodeFormat$1.RSS_EXPANDED;
      }); // Put 1D readers upfront in "normal" mode
      // TYPESCRIPTPORT: TODO: uncomment below as they are ported

      if (addOneDReader && !tryHarder) {
        readers.push(new MultiFormatOneDReader(hints));
      }

      if (formats.includes(BarcodeFormat$1.QR_CODE)) {
        readers.push(new QRCodeReader());
      }

      if (formats.includes(BarcodeFormat$1.DATA_MATRIX)) {
        readers.push(new DataMatrixReader());
      }

      if (formats.includes(BarcodeFormat$1.AZTEC)) {
        readers.push(new AztecReader());
      }

      if (formats.includes(BarcodeFormat$1.PDF_417)) {
        readers.push(new PDF417Reader());
      } // if (formats.includes(BarcodeFormat.MAXICODE)) {
      //    readers.push(new MaxiCodeReader())
      // }
      // At end in "try harder" mode


      if (addOneDReader && tryHarder) {
        readers.push(new MultiFormatOneDReader(hints));
      }
    }

    if (readers.length === 0) {
      if (!tryHarder) {
        readers.push(new MultiFormatOneDReader(hints));
      }

      readers.push(new QRCodeReader());
      readers.push(new DataMatrixReader());
      readers.push(new AztecReader());
      readers.push(new PDF417Reader()); // readers.push(new MaxiCodeReader())

      if (tryHarder) {
        readers.push(new MultiFormatOneDReader(hints));
      }
    }

    this.readers = readers; // .toArray(new Reader[readers.size()])
  };
  /*@Override*/


  MultiFormatReader.prototype.reset = function () {
    var e_1, _a;

    if (this.readers !== null) {
      try {
        for (var _b = __values$3(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {
          var reader = _c.value;
          reader.reset();
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
        } finally {
          if (e_1) throw e_1.error;
        }
      }
    }
  };
  /**
   * @throws NotFoundException
   */


  MultiFormatReader.prototype.decodeInternal = function (image) {
    var e_2, _a;

    if (this.readers === null) {
      throw new ReaderException('No readers where selected, nothing can be read.');
    }

    try {
      for (var _b = __values$3(this.readers), _c = _b.next(); !_c.done; _c = _b.next()) {
        var reader = _c.value; // Trying to decode with ${reader} reader.

        try {
          return reader.decode(image, this.hints);
        } catch (ex) {
          if (ex instanceof ReaderException) {
            continue;
          } // Bad Exception.

        }
      }
    } catch (e_2_1) {
      e_2 = {
        error: e_2_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_2) throw e_2.error;
      }
    }

    throw new NotFoundException('No MultiFormat Readers were able to detect the code.');
  };

  return MultiFormatReader;
}();

var __extends$8 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var BrowserMultiFormatReader =
/** @class */
function (_super) {
  __extends$8(BrowserMultiFormatReader, _super);

  function BrowserMultiFormatReader(hints, timeBetweenScansMillis) {
    if (hints === void 0) {
      hints = null;
    }

    if (timeBetweenScansMillis === void 0) {
      timeBetweenScansMillis = 500;
    }

    var _this = this;

    var reader = new MultiFormatReader();
    reader.setHints(hints);
    _this = _super.call(this, reader, timeBetweenScansMillis) || this;
    return _this;
  }
  /**
   * Overwrite decodeBitmap to call decodeWithState, which will pay
   * attention to the hints set in the constructor function
   */


  BrowserMultiFormatReader.prototype.decodeBitmap = function (binaryBitmap) {
    return this.reader.decodeWithState(binaryBitmap);
  };

  return BrowserMultiFormatReader;
}(BrowserCodeReader);

var __extends$7 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * @deprecated Moving to @zxing/browser
 *
 * QR Code reader to use from browser.
 */

/** @class */
(function (_super) {
  __extends$7(BrowserPDF417Reader, _super);
  /**
   * Creates an instance of BrowserPDF417Reader.
   * @param {number} [timeBetweenScansMillis=500] the time delay between subsequent decode tries
   */


  function BrowserPDF417Reader(timeBetweenScansMillis) {
    if (timeBetweenScansMillis === void 0) {
      timeBetweenScansMillis = 500;
    }

    return _super.call(this, new PDF417Reader(), timeBetweenScansMillis) || this;
  }

  return BrowserPDF417Reader;
})(BrowserCodeReader);

var __extends$6 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * @deprecated Moving to @zxing/browser
 *
 * QR Code reader to use from browser.
 */

/** @class */
(function (_super) {
  __extends$6(BrowserQRCodeReader, _super);
  /**
   * Creates an instance of BrowserQRCodeReader.
   * @param {number} [timeBetweenScansMillis=500] the time delay between subsequent decode tries
   */


  function BrowserQRCodeReader(timeBetweenScansMillis) {
    if (timeBetweenScansMillis === void 0) {
      timeBetweenScansMillis = 500;
    }

    return _super.call(this, new QRCodeReader(), timeBetweenScansMillis) || this;
  }

  return BrowserQRCodeReader;
})(BrowserCodeReader);

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*namespace com.google.zxing {*/

/**
 * These are a set of hints that you may pass to Writers to specify their behavior.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 */
var EncodeHintType;

(function (EncodeHintType) {
  /**
   * Specifies what degree of error correction to use, for example in QR Codes.
   * Type depends on the encoder. For example for QR codes it's type
   * {@link com.google.zxing.qrcode.decoder.ErrorCorrectionLevel ErrorCorrectionLevel}.
   * For Aztec it is of type {@link Integer}, representing the minimal percentage of error correction words.
   * For PDF417 it is of type {@link Integer}, valid values being 0 to 8.
   * In all cases, it can also be a {@link String} representation of the desired value as well.
   * Note: an Aztec symbol should have a minimum of 25% EC words.
   */
  EncodeHintType[EncodeHintType["ERROR_CORRECTION"] = 0] = "ERROR_CORRECTION";
  /**
   * Specifies what character encoding to use where applicable (type {@link String})
   */

  EncodeHintType[EncodeHintType["CHARACTER_SET"] = 1] = "CHARACTER_SET";
  /**
   * Specifies the matrix shape for Data Matrix (type {@link com.google.zxing.datamatrix.encoder.SymbolShapeHint})
   */

  EncodeHintType[EncodeHintType["DATA_MATRIX_SHAPE"] = 2] = "DATA_MATRIX_SHAPE";
  /**
   * Specifies a minimum barcode size (type {@link Dimension}). Only applicable to Data Matrix now.
   *
   * @deprecated use width/height params in
   * {@link com.google.zxing.datamatrix.DataMatrixWriter#encode(String, BarcodeFormat, int, int)}
   */

  /*@Deprecated*/

  EncodeHintType[EncodeHintType["MIN_SIZE"] = 3] = "MIN_SIZE";
  /**
   * Specifies a maximum barcode size (type {@link Dimension}). Only applicable to Data Matrix now.
   *
   * @deprecated without replacement
   */

  /*@Deprecated*/

  EncodeHintType[EncodeHintType["MAX_SIZE"] = 4] = "MAX_SIZE";
  /**
   * Specifies margin, in pixels, to use when generating the barcode. The meaning can vary
   * by format; for example it controls margin before and after the barcode horizontally for
   * most 1D formats. (Type {@link Integer}, or {@link String} representation of the integer value).
   */

  EncodeHintType[EncodeHintType["MARGIN"] = 5] = "MARGIN";
  /**
   * Specifies whether to use compact mode for PDF417 (type {@link Boolean}, or "true" or "false"
   * {@link String} value).
   */

  EncodeHintType[EncodeHintType["PDF417_COMPACT"] = 6] = "PDF417_COMPACT";
  /**
   * Specifies what compaction mode to use for PDF417 (type
   * {@link com.google.zxing.pdf417.encoder.Compaction Compaction} or {@link String} value of one of its
   * enum values).
   */

  EncodeHintType[EncodeHintType["PDF417_COMPACTION"] = 7] = "PDF417_COMPACTION";
  /**
   * Specifies the minimum and maximum number of rows and columns for PDF417 (type
   * {@link com.google.zxing.pdf417.encoder.Dimensions Dimensions}).
   */

  EncodeHintType[EncodeHintType["PDF417_DIMENSIONS"] = 8] = "PDF417_DIMENSIONS";
  /**
   * Specifies the required number of layers for an Aztec code.
   * A negative number (-1, -2, -3, -4) specifies a compact Aztec code.
   * 0 indicates to use the minimum number of layers (the default).
   * A positive number (1, 2, .. 32) specifies a normal (non-compact) Aztec code.
   * (Type {@link Integer}, or {@link String} representation of the integer value).
   */

  EncodeHintType[EncodeHintType["AZTEC_LAYERS"] = 9] = "AZTEC_LAYERS";
  /**
   * Specifies the exact version of QR code to be encoded.
   * (Type {@link Integer}, or {@link String} representation of the integer value).
   */

  EncodeHintType[EncodeHintType["QR_VERSION"] = 10] = "QR_VERSION";
})(EncodeHintType || (EncodeHintType = {}));

var EncodeHintType$1 = EncodeHintType;

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * <p>Implements Reed-Solomon encoding, as the name implies.</p>
 *
 * @author Sean Owen
 * @author William Rucklidge
 */

var ReedSolomonEncoder =
/** @class */
function () {
  /**
   * A reed solomon error-correcting encoding constructor is created by
   * passing as Galois Field with of size equal to the number of code
   * words (symbols) in the alphabet (the number of values in each
   * element of arrays that are encoded/decoded).
   * @param field A galois field with a number of elements equal to the size
   * of the alphabet of symbols to encode.
   */
  function ReedSolomonEncoder(field) {
    this.field = field;
    this.cachedGenerators = [];
    this.cachedGenerators.push(new GenericGFPoly(field, Int32Array.from([1])));
  }

  ReedSolomonEncoder.prototype.buildGenerator = function (degree
  /*int*/
  ) {
    var cachedGenerators = this.cachedGenerators;

    if (degree >= cachedGenerators.length) {
      var lastGenerator = cachedGenerators[cachedGenerators.length - 1];
      var field = this.field;

      for (var d = cachedGenerators.length; d <= degree; d++) {
        var nextGenerator = lastGenerator.multiply(new GenericGFPoly(field, Int32Array.from([1, field.exp(d - 1 + field.getGeneratorBase())])));
        cachedGenerators.push(nextGenerator);
        lastGenerator = nextGenerator;
      }
    }

    return cachedGenerators[degree];
  };
  /**
   * <p>Encode a sequence of code words (symbols) using Reed-Solomon to allow decoders
   * to detect and correct errors that may have been introduced when the resulting
   * data is stored or transmitted.</p>
   *
   * @param toEncode array used for both and output. Caller initializes the array with
   * the code words (symbols) to be encoded followed by empty elements allocated to make
   * space for error-correction code words in the encoded output. The array contains
   * the encdoded output when encode returns. Code words are encoded as numbers from
   * 0 to n-1, where n is the number of possible code words (symbols), as determined
   * by the size of the Galois Field passed in the constructor of this object.
   * @param ecBytes the number of elements reserved in the array (first parameter)
   * to store error-correction code words. Thus, the number of code words (symbols)
   * to encode in the first parameter is thus toEncode.length - ecBytes.
   * Note, the use of "bytes" in the name of this parameter is misleading, as there may
   * be more or fewer than 256 symbols being encoded, as determined by the number of
   * elements in the Galois Field passed as a constructor to this object.
   * @throws IllegalArgumentException thrown in response to validation errros.
   */


  ReedSolomonEncoder.prototype.encode = function (toEncode, ecBytes
  /*int*/
  ) {
    if (ecBytes === 0) {
      throw new IllegalArgumentException('No error correction bytes');
    }

    var dataBytes = toEncode.length - ecBytes;

    if (dataBytes <= 0) {
      throw new IllegalArgumentException('No data bytes provided');
    }

    var generator = this.buildGenerator(ecBytes);
    var infoCoefficients = new Int32Array(dataBytes);
    System.arraycopy(toEncode, 0, infoCoefficients, 0, dataBytes);
    var info = new GenericGFPoly(this.field, infoCoefficients);
    info = info.multiplyByMonomial(ecBytes, 1);
    var remainder = info.divide(generator)[1];
    var coefficients = remainder.getCoefficients();
    var numZeroCoefficients = ecBytes - coefficients.length;

    for (var i = 0; i < numZeroCoefficients; i++) {
      toEncode[dataBytes + i] = 0;
    }

    System.arraycopy(coefficients, 0, toEncode, dataBytes + numZeroCoefficients, coefficients.length);
  };

  return ReedSolomonEncoder;
}();

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @author Satoru Takabayashi
 * @author Daniel Switkin
 * @author Sean Owen
 */

var MaskUtil =
/** @class */
function () {
  function MaskUtil() {// do nothing
  }
  /**
   * Apply mask penalty rule 1 and return the penalty. Find repetitive cells with the same color and
   * give penalty to them. Example: 00000 or 11111.
   */


  MaskUtil.applyMaskPenaltyRule1 = function (matrix) {
    return MaskUtil.applyMaskPenaltyRule1Internal(matrix, true) + MaskUtil.applyMaskPenaltyRule1Internal(matrix, false);
  };
  /**
   * Apply mask penalty rule 2 and return the penalty. Find 2x2 blocks with the same color and give
   * penalty to them. This is actually equivalent to the spec's rule, which is to find MxN blocks and give a
   * penalty proportional to (M-1)x(N-1), because this is the number of 2x2 blocks inside such a block.
   */


  MaskUtil.applyMaskPenaltyRule2 = function (matrix) {
    var penalty = 0;
    var array = matrix.getArray();
    var width = matrix.getWidth();
    var height = matrix.getHeight();

    for (var y = 0; y < height - 1; y++) {
      var arrayY = array[y];

      for (var x = 0; x < width - 1; x++) {
        var value = arrayY[x];

        if (value === arrayY[x + 1] && value === array[y + 1][x] && value === array[y + 1][x + 1]) {
          penalty++;
        }
      }
    }

    return MaskUtil.N2 * penalty;
  };
  /**
   * Apply mask penalty rule 3 and return the penalty. Find consecutive runs of 1:1:3:1:1:4
   * starting with black, or 4:1:1:3:1:1 starting with white, and give penalty to them.  If we
   * find patterns like 000010111010000, we give penalty once.
   */


  MaskUtil.applyMaskPenaltyRule3 = function (matrix) {
    var numPenalties = 0;
    var array = matrix.getArray();
    var width = matrix.getWidth();
    var height = matrix.getHeight();

    for (var y = 0; y < height; y++) {
      for (var x = 0; x < width; x++) {
        var arrayY = array[y]; // We can at least optimize this access

        if (x + 6 < width && arrayY[x] === 1 && arrayY[x + 1] === 0 && arrayY[x + 2] === 1 && arrayY[x + 3] === 1 && arrayY[x + 4] === 1 && arrayY[x + 5] === 0 && arrayY[x + 6] === 1 && (MaskUtil.isWhiteHorizontal(arrayY, x - 4, x) || MaskUtil.isWhiteHorizontal(arrayY, x + 7, x + 11))) {
          numPenalties++;
        }

        if (y + 6 < height && array[y][x] === 1 && array[y + 1][x] === 0 && array[y + 2][x] === 1 && array[y + 3][x] === 1 && array[y + 4][x] === 1 && array[y + 5][x] === 0 && array[y + 6][x] === 1 && (MaskUtil.isWhiteVertical(array, x, y - 4, y) || MaskUtil.isWhiteVertical(array, x, y + 7, y + 11))) {
          numPenalties++;
        }
      }
    }

    return numPenalties * MaskUtil.N3;
  };

  MaskUtil.isWhiteHorizontal = function (rowArray, from
  /*int*/
  , to
  /*int*/
  ) {
    from = Math.max(from, 0);
    to = Math.min(to, rowArray.length);

    for (var i = from; i < to; i++) {
      if (rowArray[i] === 1) {
        return false;
      }
    }

    return true;
  };

  MaskUtil.isWhiteVertical = function (array, col
  /*int*/
  , from
  /*int*/
  , to
  /*int*/
  ) {
    from = Math.max(from, 0);
    to = Math.min(to, array.length);

    for (var i = from; i < to; i++) {
      if (array[i][col] === 1) {
        return false;
      }
    }

    return true;
  };
  /**
   * Apply mask penalty rule 4 and return the penalty. Calculate the ratio of dark cells and give
   * penalty if the ratio is far from 50%. It gives 10 penalty for 5% distance.
   */


  MaskUtil.applyMaskPenaltyRule4 = function (matrix) {
    var numDarkCells = 0;
    var array = matrix.getArray();
    var width = matrix.getWidth();
    var height = matrix.getHeight();

    for (var y = 0; y < height; y++) {
      var arrayY = array[y];

      for (var x = 0; x < width; x++) {
        if (arrayY[x] === 1) {
          numDarkCells++;
        }
      }
    }

    var numTotalCells = matrix.getHeight() * matrix.getWidth();
    var fivePercentVariances = Math.floor(Math.abs(numDarkCells * 2 - numTotalCells) * 10 / numTotalCells);
    return fivePercentVariances * MaskUtil.N4;
  };
  /**
   * Return the mask bit for "getMaskPattern" at "x" and "y". See 8.8 of JISX0510:2004 for mask
   * pattern conditions.
   */


  MaskUtil.getDataMaskBit = function (maskPattern
  /*int*/
  , x
  /*int*/
  , y
  /*int*/
  ) {
    var intermediate;
    /*int*/

    var temp;
    /*int*/

    switch (maskPattern) {
      case 0:
        intermediate = y + x & 0x1;
        break;

      case 1:
        intermediate = y & 0x1;
        break;

      case 2:
        intermediate = x % 3;
        break;

      case 3:
        intermediate = (y + x) % 3;
        break;

      case 4:
        intermediate = Math.floor(y / 2) + Math.floor(x / 3) & 0x1;
        break;

      case 5:
        temp = y * x;
        intermediate = (temp & 0x1) + temp % 3;
        break;

      case 6:
        temp = y * x;
        intermediate = (temp & 0x1) + temp % 3 & 0x1;
        break;

      case 7:
        temp = y * x;
        intermediate = temp % 3 + (y + x & 0x1) & 0x1;
        break;

      default:
        throw new IllegalArgumentException('Invalid mask pattern: ' + maskPattern);
    }

    return intermediate === 0;
  };
  /**
   * Helper function for applyMaskPenaltyRule1. We need this for doing this calculation in both
   * vertical and horizontal orders respectively.
   */


  MaskUtil.applyMaskPenaltyRule1Internal = function (matrix, isHorizontal) {
    var penalty = 0;
    var iLimit = isHorizontal ? matrix.getHeight() : matrix.getWidth();
    var jLimit = isHorizontal ? matrix.getWidth() : matrix.getHeight();
    var array = matrix.getArray();

    for (var i = 0; i < iLimit; i++) {
      var numSameBitCells = 0;
      var prevBit = -1;

      for (var j = 0; j < jLimit; j++) {
        var bit = isHorizontal ? array[i][j] : array[j][i];

        if (bit === prevBit) {
          numSameBitCells++;
        } else {
          if (numSameBitCells >= 5) {
            penalty += MaskUtil.N1 + (numSameBitCells - 5);
          }

          numSameBitCells = 1; // Include the cell itself.

          prevBit = bit;
        }
      }

      if (numSameBitCells >= 5) {
        penalty += MaskUtil.N1 + (numSameBitCells - 5);
      }
    }

    return penalty;
  }; // Penalty weights from section 6.8.2.1


  MaskUtil.N1 = 3;
  MaskUtil.N2 = 3;
  MaskUtil.N3 = 40;
  MaskUtil.N4 = 10;
  return MaskUtil;
}();

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$2 = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/**
 * JAVAPORT: The original code was a 2D array of ints, but since it only ever gets assigned
 * -1, 0, and 1, I'm going to use less memory and go with bytes.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 */

var ByteMatrix =
/** @class */
function () {
  function ByteMatrix(width
  /*int*/
  , height
  /*int*/
  ) {
    this.width = width;
    this.height = height;
    var bytes = new Array(height); // [height][width]

    for (var i = 0; i !== height; i++) {
      bytes[i] = new Uint8Array(width);
    }

    this.bytes = bytes;
  }

  ByteMatrix.prototype.getHeight = function () {
    return this.height;
  };

  ByteMatrix.prototype.getWidth = function () {
    return this.width;
  };

  ByteMatrix.prototype.get = function (x
  /*int*/
  , y
  /*int*/
  ) {
    return this.bytes[y][x];
  };
  /**
   * @return an internal representation as bytes, in row-major order. array[y][x] represents point (x,y)
   */


  ByteMatrix.prototype.getArray = function () {
    return this.bytes;
  }; // TYPESCRIPTPORT: preffer to let two methods instead of override to avoid type comparison inside


  ByteMatrix.prototype.setNumber = function (x
  /*int*/
  , y
  /*int*/
  , value
  /*byte|int*/
  ) {
    this.bytes[y][x] = value;
  }; // public set(x: number /*int*/, y: number /*int*/, value: number /*int*/): void {
  //   bytes[y][x] = (byte) value
  // }


  ByteMatrix.prototype.setBoolean = function (x
  /*int*/
  , y
  /*int*/
  , value) {
    this.bytes[y][x] =
    /*(byte) */
    value ? 1 : 0;
  };

  ByteMatrix.prototype.clear = function (value
  /*byte*/
  ) {
    var e_1, _a;

    try {
      for (var _b = __values$2(this.bytes), _c = _b.next(); !_c.done; _c = _b.next()) {
        var aByte = _c.value;
        Arrays.fill(aByte, value);
      }
    } catch (e_1_1) {
      e_1 = {
        error: e_1_1
      };
    } finally {
      try {
        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
      } finally {
        if (e_1) throw e_1.error;
      }
    }
  };

  ByteMatrix.prototype.equals = function (o) {
    if (!(o instanceof ByteMatrix)) {
      return false;
    }

    var other = o;

    if (this.width !== other.width) {
      return false;
    }

    if (this.height !== other.height) {
      return false;
    }

    for (var y = 0, height = this.height; y < height; ++y) {
      var bytesY = this.bytes[y];
      var otherBytesY = other.bytes[y];

      for (var x = 0, width = this.width; x < width; ++x) {
        if (bytesY[x] !== otherBytesY[x]) {
          return false;
        }
      }
    }

    return true;
  };
  /*@Override*/


  ByteMatrix.prototype.toString = function () {
    var result = new StringBuilder(); // (2 * width * height + 2)

    for (var y = 0, height = this.height; y < height; ++y) {
      var bytesY = this.bytes[y];

      for (var x = 0, width = this.width; x < width; ++x) {
        switch (bytesY[x]) {
          case 0:
            result.append(' 0');
            break;

          case 1:
            result.append(' 1');
            break;

          default:
            result.append('  ');
            break;
        }
      }

      result.append('\n');
    }

    return result.toString();
  };

  return ByteMatrix;
}();

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @author satorux@google.com (Satoru Takabayashi) - creator
 * @author dswitkin@google.com (Daniel Switkin) - ported from C++
 */

var QRCode =
/** @class */
function () {
  function QRCode() {
    this.maskPattern = -1;
  }

  QRCode.prototype.getMode = function () {
    return this.mode;
  };

  QRCode.prototype.getECLevel = function () {
    return this.ecLevel;
  };

  QRCode.prototype.getVersion = function () {
    return this.version;
  };

  QRCode.prototype.getMaskPattern = function () {
    return this.maskPattern;
  };

  QRCode.prototype.getMatrix = function () {
    return this.matrix;
  };
  /*@Override*/


  QRCode.prototype.toString = function () {
    var result = new StringBuilder(); // (200)

    result.append('<<\n');
    result.append(' mode: ');
    result.append(this.mode ? this.mode.toString() : 'null');
    result.append('\n ecLevel: ');
    result.append(this.ecLevel ? this.ecLevel.toString() : 'null');
    result.append('\n version: ');
    result.append(this.version ? this.version.toString() : 'null');
    result.append('\n maskPattern: ');
    result.append(this.maskPattern.toString());

    if (this.matrix) {
      result.append('\n matrix:\n');
      result.append(this.matrix.toString());
    } else {
      result.append('\n matrix: null\n');
    }

    result.append('>>\n');
    return result.toString();
  };

  QRCode.prototype.setMode = function (value) {
    this.mode = value;
  };

  QRCode.prototype.setECLevel = function (value) {
    this.ecLevel = value;
  };

  QRCode.prototype.setVersion = function (version) {
    this.version = version;
  };

  QRCode.prototype.setMaskPattern = function (value
  /*int*/
  ) {
    this.maskPattern = value;
  };

  QRCode.prototype.setMatrix = function (value) {
    this.matrix = value;
  }; // Check if "mask_pattern" is valid.


  QRCode.isValidMaskPattern = function (maskPattern
  /*int*/
  ) {
    return maskPattern >= 0 && maskPattern < QRCode.NUM_MASK_PATTERNS;
  };

  QRCode.NUM_MASK_PATTERNS = 8;
  return QRCode;
}();

var __extends$5 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Custom Error class of type Exception.
 */

var WriterException =
/** @class */
function (_super) {
  __extends$5(WriterException, _super);

  function WriterException() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  WriterException.kind = 'WriterException';
  return WriterException;
}(Exception);

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @author satorux@google.com (Satoru Takabayashi) - creator
 * @author dswitkin@google.com (Daniel Switkin) - ported from C++
 */

var MatrixUtil =
/** @class */
function () {
  function MatrixUtil() {// do nothing
  } // Set all cells to -1 (TYPESCRIPTPORT: 255).  -1 (TYPESCRIPTPORT: 255) means that the cell is empty (not set yet).
  //
  // JAVAPORT: We shouldn't need to do this at all. The code should be rewritten to begin encoding
  // with the ByteMatrix initialized all to zero.


  MatrixUtil.clearMatrix = function (matrix) {
    // TYPESCRIPTPORT: we use UintArray se changed here from -1 to 255
    matrix.clear(
    /*(byte) */

    /*-1*/
    255);
  }; // Build 2D matrix of QR Code from "dataBits" with "ecLevel", "version" and "getMaskPattern". On
  // success, store the result in "matrix" and return true.


  MatrixUtil.buildMatrix = function (dataBits, ecLevel, version, maskPattern
  /*int*/
  , matrix) {
    MatrixUtil.clearMatrix(matrix);
    MatrixUtil.embedBasicPatterns(version, matrix); // Type information appear with any version.

    MatrixUtil.embedTypeInfo(ecLevel, maskPattern, matrix); // Version info appear if version >= 7.

    MatrixUtil.maybeEmbedVersionInfo(version, matrix); // Data should be embedded at end.

    MatrixUtil.embedDataBits(dataBits, maskPattern, matrix);
  }; // Embed basic patterns. On success, modify the matrix and return true.
  // The basic patterns are:
  // - Position detection patterns
  // - Timing patterns
  // - Dark dot at the left bottom corner
  // - Position adjustment patterns, if need be


  MatrixUtil.embedBasicPatterns = function (version, matrix) {
    // Let's get started with embedding big squares at corners.
    MatrixUtil.embedPositionDetectionPatternsAndSeparators(matrix); // Then, embed the dark dot at the left bottom corner.

    MatrixUtil.embedDarkDotAtLeftBottomCorner(matrix); // Position adjustment patterns appear if version >= 2.

    MatrixUtil.maybeEmbedPositionAdjustmentPatterns(version, matrix); // Timing patterns should be embedded after position adj. patterns.

    MatrixUtil.embedTimingPatterns(matrix);
  }; // Embed type information. On success, modify the matrix.


  MatrixUtil.embedTypeInfo = function (ecLevel, maskPattern
  /*int*/
  , matrix) {
    var typeInfoBits = new BitArray();
    MatrixUtil.makeTypeInfoBits(ecLevel, maskPattern, typeInfoBits);

    for (var i = 0, size = typeInfoBits.getSize(); i < size; ++i) {
      // Place bits in LSB to MSB order.  LSB (least significant bit) is the last value in
      // "typeInfoBits".
      var bit = typeInfoBits.get(typeInfoBits.getSize() - 1 - i); // Type info bits at the left top corner. See 8.9 of JISX0510:2004 (p.46).

      var coordinates = MatrixUtil.TYPE_INFO_COORDINATES[i];
      var x1 = coordinates[0];
      var y1 = coordinates[1];
      matrix.setBoolean(x1, y1, bit);

      if (i < 8) {
        // Right top corner.
        var x2 = matrix.getWidth() - i - 1;
        var y2 = 8;
        matrix.setBoolean(x2, y2, bit);
      } else {
        // Left bottom corner.
        var x2 = 8;
        var y2 = matrix.getHeight() - 7 + (i - 8);
        matrix.setBoolean(x2, y2, bit);
      }
    }
  }; // Embed version information if need be. On success, modify the matrix and return true.
  // See 8.10 of JISX0510:2004 (p.47) for how to embed version information.


  MatrixUtil.maybeEmbedVersionInfo = function (version, matrix) {
    if (version.getVersionNumber() < 7) {
      // Version info is necessary if version >= 7.
      return; // Don't need version info.
    }

    var versionInfoBits = new BitArray();
    MatrixUtil.makeVersionInfoBits(version, versionInfoBits);
    var bitIndex = 6 * 3 - 1; // It will decrease from 17 to 0.

    for (var i = 0; i < 6; ++i) {
      for (var j = 0; j < 3; ++j) {
        // Place bits in LSB (least significant bit) to MSB order.
        var bit = versionInfoBits.get(bitIndex);
        bitIndex--; // Left bottom corner.

        matrix.setBoolean(i, matrix.getHeight() - 11 + j, bit); // Right bottom corner.

        matrix.setBoolean(matrix.getHeight() - 11 + j, i, bit);
      }
    }
  }; // Embed "dataBits" using "getMaskPattern". On success, modify the matrix and return true.
  // For debugging purposes, it skips masking process if "getMaskPattern" is -1(TYPESCRIPTPORT: 255).
  // See 8.7 of JISX0510:2004 (p.38) for how to embed data bits.


  MatrixUtil.embedDataBits = function (dataBits, maskPattern
  /*int*/
  , matrix) {
    var bitIndex = 0;
    var direction = -1; // Start from the right bottom cell.

    var x = matrix.getWidth() - 1;
    var y = matrix.getHeight() - 1;

    while (x > 0) {
      // Skip the vertical timing pattern.
      if (x === 6) {
        x -= 1;
      }

      while (y >= 0 && y < matrix.getHeight()) {
        for (var i = 0; i < 2; ++i) {
          var xx = x - i; // Skip the cell if it's not empty.

          if (!MatrixUtil.isEmpty(matrix.get(xx, y))) {
            continue;
          }

          var bit = void 0;

          if (bitIndex < dataBits.getSize()) {
            bit = dataBits.get(bitIndex);
            ++bitIndex;
          } else {
            // Padding bit. If there is no bit left, we'll fill the left cells with 0, as described
            // in 8.4.9 of JISX0510:2004 (p. 24).
            bit = false;
          } // Skip masking if mask_pattern is -1 (TYPESCRIPTPORT: 255).


          if (maskPattern !== 255 && MaskUtil.getDataMaskBit(maskPattern, xx, y)) {
            bit = !bit;
          }

          matrix.setBoolean(xx, y, bit);
        }

        y += direction;
      }

      direction = -direction; // Reverse the direction.

      y += direction;
      x -= 2; // Move to the left.
    } // All bits should be consumed.


    if (bitIndex !== dataBits.getSize()) {
      throw new WriterException('Not all bits consumed: ' + bitIndex + '/' + dataBits.getSize());
    }
  }; // Return the position of the most significant bit set (one: to) in the "value". The most
  // significant bit is position 32. If there is no bit set, return 0. Examples:
  // - findMSBSet(0) => 0
  // - findMSBSet(1) => 1
  // - findMSBSet(255) => 8


  MatrixUtil.findMSBSet = function (value
  /*int*/
  ) {
    return 32 - Integer.numberOfLeadingZeros(value);
  }; // Calculate BCH (Bose-Chaudhuri-Hocquenghem) code for "value" using polynomial "poly". The BCH
  // code is used for encoding type information and version information.
  // Example: Calculation of version information of 7.
  // f(x) is created from 7.
  //   - 7 = 000111 in 6 bits
  //   - f(x) = x^2 + x^1 + x^0
  // g(x) is given by the standard (p. 67)
  //   - g(x) = x^12 + x^11 + x^10 + x^9 + x^8 + x^5 + x^2 + 1
  // Multiply f(x) by x^(18 - 6)
  //   - f'(x) = f(x) * x^(18 - 6)
  //   - f'(x) = x^14 + x^13 + x^12
  // Calculate the remainder of f'(x) / g(x)
  //         x^2
  //         __________________________________________________
  //   g(x) )x^14 + x^13 + x^12
  //         x^14 + x^13 + x^12 + x^11 + x^10 + x^7 + x^4 + x^2
  //         --------------------------------------------------
  //                              x^11 + x^10 + x^7 + x^4 + x^2
  //
  // The remainder is x^11 + x^10 + x^7 + x^4 + x^2
  // Encode it in binary: 110010010100
  // The return value is 0xc94 (1100 1001 0100)
  //
  // Since all coefficients in the polynomials are 1 or 0, we can do the calculation by bit
  // operations. We don't care if coefficients are positive or negative.


  MatrixUtil.calculateBCHCode = function (value
  /*int*/
  , poly
  /*int*/
  ) {
    if (poly === 0) {
      throw new IllegalArgumentException('0 polynomial');
    } // If poly is "1 1111 0010 0101" (version info poly), msbSetInPoly is 13. We'll subtract 1
    // from 13 to make it 12.


    var msbSetInPoly = MatrixUtil.findMSBSet(poly);
    value <<= msbSetInPoly - 1; // Do the division business using exclusive-or operations.

    while (MatrixUtil.findMSBSet(value) >= msbSetInPoly) {
      value ^= poly << MatrixUtil.findMSBSet(value) - msbSetInPoly;
    } // Now the "value" is the remainder (i.e. the BCH code)


    return value;
  }; // Make bit vector of type information. On success, store the result in "bits" and return true.
  // Encode error correction level and mask pattern. See 8.9 of
  // JISX0510:2004 (p.45) for details.


  MatrixUtil.makeTypeInfoBits = function (ecLevel, maskPattern
  /*int*/
  , bits) {
    if (!QRCode.isValidMaskPattern(maskPattern)) {
      throw new WriterException('Invalid mask pattern');
    }

    var typeInfo = ecLevel.getBits() << 3 | maskPattern;
    bits.appendBits(typeInfo, 5);
    var bchCode = MatrixUtil.calculateBCHCode(typeInfo, MatrixUtil.TYPE_INFO_POLY);
    bits.appendBits(bchCode, 10);
    var maskBits = new BitArray();
    maskBits.appendBits(MatrixUtil.TYPE_INFO_MASK_PATTERN, 15);
    bits.xor(maskBits);

    if (bits.getSize() !== 15) {
      // Just in case.
      throw new WriterException('should not happen but we got: ' + bits.getSize());
    }
  }; // Make bit vector of version information. On success, store the result in "bits" and return true.
  // See 8.10 of JISX0510:2004 (p.45) for details.


  MatrixUtil.makeVersionInfoBits = function (version, bits) {
    bits.appendBits(version.getVersionNumber(), 6);
    var bchCode = MatrixUtil.calculateBCHCode(version.getVersionNumber(), MatrixUtil.VERSION_INFO_POLY);
    bits.appendBits(bchCode, 12);

    if (bits.getSize() !== 18) {
      // Just in case.
      throw new WriterException('should not happen but we got: ' + bits.getSize());
    }
  }; // Check if "value" is empty.


  MatrixUtil.isEmpty = function (value
  /*int*/
  ) {
    return value === 255; // -1
  };

  MatrixUtil.embedTimingPatterns = function (matrix) {
    // -8 is for skipping position detection patterns (7: size), and two horizontal/vertical
    // separation patterns (1: size). Thus, 8 = 7 + 1.
    for (var i = 8; i < matrix.getWidth() - 8; ++i) {
      var bit = (i + 1) % 2; // Horizontal line.

      if (MatrixUtil.isEmpty(matrix.get(i, 6))) {
        matrix.setNumber(i, 6, bit);
      } // Vertical line.


      if (MatrixUtil.isEmpty(matrix.get(6, i))) {
        matrix.setNumber(6, i, bit);
      }
    }
  }; // Embed the lonely dark dot at left bottom corner. JISX0510:2004 (p.46)


  MatrixUtil.embedDarkDotAtLeftBottomCorner = function (matrix) {
    if (matrix.get(8, matrix.getHeight() - 8) === 0) {
      throw new WriterException();
    }

    matrix.setNumber(8, matrix.getHeight() - 8, 1);
  };

  MatrixUtil.embedHorizontalSeparationPattern = function (xStart
  /*int*/
  , yStart
  /*int*/
  , matrix) {
    for (var x = 0; x < 8; ++x) {
      if (!MatrixUtil.isEmpty(matrix.get(xStart + x, yStart))) {
        throw new WriterException();
      }

      matrix.setNumber(xStart + x, yStart, 0);
    }
  };

  MatrixUtil.embedVerticalSeparationPattern = function (xStart
  /*int*/
  , yStart
  /*int*/
  , matrix) {
    for (var y = 0; y < 7; ++y) {
      if (!MatrixUtil.isEmpty(matrix.get(xStart, yStart + y))) {
        throw new WriterException();
      }

      matrix.setNumber(xStart, yStart + y, 0);
    }
  };

  MatrixUtil.embedPositionAdjustmentPattern = function (xStart
  /*int*/
  , yStart
  /*int*/
  , matrix) {
    for (var y = 0; y < 5; ++y) {
      var patternY = MatrixUtil.POSITION_ADJUSTMENT_PATTERN[y];

      for (var x = 0; x < 5; ++x) {
        matrix.setNumber(xStart + x, yStart + y, patternY[x]);
      }
    }
  };

  MatrixUtil.embedPositionDetectionPattern = function (xStart
  /*int*/
  , yStart
  /*int*/
  , matrix) {
    for (var y = 0; y < 7; ++y) {
      var patternY = MatrixUtil.POSITION_DETECTION_PATTERN[y];

      for (var x = 0; x < 7; ++x) {
        matrix.setNumber(xStart + x, yStart + y, patternY[x]);
      }
    }
  }; // Embed position detection patterns and surrounding vertical/horizontal separators.


  MatrixUtil.embedPositionDetectionPatternsAndSeparators = function (matrix) {
    // Embed three big squares at corners.
    var pdpWidth = MatrixUtil.POSITION_DETECTION_PATTERN[0].length; // Left top corner.

    MatrixUtil.embedPositionDetectionPattern(0, 0, matrix); // Right top corner.

    MatrixUtil.embedPositionDetectionPattern(matrix.getWidth() - pdpWidth, 0, matrix); // Left bottom corner.

    MatrixUtil.embedPositionDetectionPattern(0, matrix.getWidth() - pdpWidth, matrix); // Embed horizontal separation patterns around the squares.

    var hspWidth = 8; // Left top corner.

    MatrixUtil.embedHorizontalSeparationPattern(0, hspWidth - 1, matrix); // Right top corner.

    MatrixUtil.embedHorizontalSeparationPattern(matrix.getWidth() - hspWidth, hspWidth - 1, matrix); // Left bottom corner.

    MatrixUtil.embedHorizontalSeparationPattern(0, matrix.getWidth() - hspWidth, matrix); // Embed vertical separation patterns around the squares.

    var vspSize = 7; // Left top corner.

    MatrixUtil.embedVerticalSeparationPattern(vspSize, 0, matrix); // Right top corner.

    MatrixUtil.embedVerticalSeparationPattern(matrix.getHeight() - vspSize - 1, 0, matrix); // Left bottom corner.

    MatrixUtil.embedVerticalSeparationPattern(vspSize, matrix.getHeight() - vspSize, matrix);
  }; // Embed position adjustment patterns if need be.


  MatrixUtil.maybeEmbedPositionAdjustmentPatterns = function (version, matrix) {
    if (version.getVersionNumber() < 2) {
      // The patterns appear if version >= 2
      return;
    }

    var index = version.getVersionNumber() - 1;
    var coordinates = MatrixUtil.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[index];

    for (var i = 0, length_1 = coordinates.length; i !== length_1; i++) {
      var y = coordinates[i];

      if (y >= 0) {
        for (var j = 0; j !== length_1; j++) {
          var x = coordinates[j];

          if (x >= 0 && MatrixUtil.isEmpty(matrix.get(x, y))) {
            // If the cell is unset, we embed the position adjustment pattern here.
            // -2 is necessary since the x/y coordinates point to the center of the pattern, not the
            // left top corner.
            MatrixUtil.embedPositionAdjustmentPattern(x - 2, y - 2, matrix);
          }
        }
      }
    }
  };

  MatrixUtil.POSITION_DETECTION_PATTERN = Array.from([Int32Array.from([1, 1, 1, 1, 1, 1, 1]), Int32Array.from([1, 0, 0, 0, 0, 0, 1]), Int32Array.from([1, 0, 1, 1, 1, 0, 1]), Int32Array.from([1, 0, 1, 1, 1, 0, 1]), Int32Array.from([1, 0, 1, 1, 1, 0, 1]), Int32Array.from([1, 0, 0, 0, 0, 0, 1]), Int32Array.from([1, 1, 1, 1, 1, 1, 1])]);
  MatrixUtil.POSITION_ADJUSTMENT_PATTERN = Array.from([Int32Array.from([1, 1, 1, 1, 1]), Int32Array.from([1, 0, 0, 0, 1]), Int32Array.from([1, 0, 1, 0, 1]), Int32Array.from([1, 0, 0, 0, 1]), Int32Array.from([1, 1, 1, 1, 1])]); // From Appendix E. Table 1, JIS0510X:2004 (71: p). The table was double-checked by komatsu.

  MatrixUtil.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE = Array.from([Int32Array.from([-1, -1, -1, -1, -1, -1, -1]), Int32Array.from([6, 18, -1, -1, -1, -1, -1]), Int32Array.from([6, 22, -1, -1, -1, -1, -1]), Int32Array.from([6, 26, -1, -1, -1, -1, -1]), Int32Array.from([6, 30, -1, -1, -1, -1, -1]), Int32Array.from([6, 34, -1, -1, -1, -1, -1]), Int32Array.from([6, 22, 38, -1, -1, -1, -1]), Int32Array.from([6, 24, 42, -1, -1, -1, -1]), Int32Array.from([6, 26, 46, -1, -1, -1, -1]), Int32Array.from([6, 28, 50, -1, -1, -1, -1]), Int32Array.from([6, 30, 54, -1, -1, -1, -1]), Int32Array.from([6, 32, 58, -1, -1, -1, -1]), Int32Array.from([6, 34, 62, -1, -1, -1, -1]), Int32Array.from([6, 26, 46, 66, -1, -1, -1]), Int32Array.from([6, 26, 48, 70, -1, -1, -1]), Int32Array.from([6, 26, 50, 74, -1, -1, -1]), Int32Array.from([6, 30, 54, 78, -1, -1, -1]), Int32Array.from([6, 30, 56, 82, -1, -1, -1]), Int32Array.from([6, 30, 58, 86, -1, -1, -1]), Int32Array.from([6, 34, 62, 90, -1, -1, -1]), Int32Array.from([6, 28, 50, 72, 94, -1, -1]), Int32Array.from([6, 26, 50, 74, 98, -1, -1]), Int32Array.from([6, 30, 54, 78, 102, -1, -1]), Int32Array.from([6, 28, 54, 80, 106, -1, -1]), Int32Array.from([6, 32, 58, 84, 110, -1, -1]), Int32Array.from([6, 30, 58, 86, 114, -1, -1]), Int32Array.from([6, 34, 62, 90, 118, -1, -1]), Int32Array.from([6, 26, 50, 74, 98, 122, -1]), Int32Array.from([6, 30, 54, 78, 102, 126, -1]), Int32Array.from([6, 26, 52, 78, 104, 130, -1]), Int32Array.from([6, 30, 56, 82, 108, 134, -1]), Int32Array.from([6, 34, 60, 86, 112, 138, -1]), Int32Array.from([6, 30, 58, 86, 114, 142, -1]), Int32Array.from([6, 34, 62, 90, 118, 146, -1]), Int32Array.from([6, 30, 54, 78, 102, 126, 150]), Int32Array.from([6, 24, 50, 76, 102, 128, 154]), Int32Array.from([6, 28, 54, 80, 106, 132, 158]), Int32Array.from([6, 32, 58, 84, 110, 136, 162]), Int32Array.from([6, 26, 54, 82, 110, 138, 166]), Int32Array.from([6, 30, 58, 86, 114, 142, 170])]); // Type info cells at the left top corner.

  MatrixUtil.TYPE_INFO_COORDINATES = Array.from([Int32Array.from([8, 0]), Int32Array.from([8, 1]), Int32Array.from([8, 2]), Int32Array.from([8, 3]), Int32Array.from([8, 4]), Int32Array.from([8, 5]), Int32Array.from([8, 7]), Int32Array.from([8, 8]), Int32Array.from([7, 8]), Int32Array.from([5, 8]), Int32Array.from([4, 8]), Int32Array.from([3, 8]), Int32Array.from([2, 8]), Int32Array.from([1, 8]), Int32Array.from([0, 8])]); // From Appendix D in JISX0510:2004 (p. 67)

  MatrixUtil.VERSION_INFO_POLY = 0x1f25; // 1 1111 0010 0101
  // From Appendix C in JISX0510:2004 (p.65).

  MatrixUtil.TYPE_INFO_POLY = 0x537;
  MatrixUtil.TYPE_INFO_MASK_PATTERN = 0x5412;
  return MatrixUtil;
}();

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/*namespace com.google.zxing.qrcode.encoder {*/
var BlockPair =
/** @class */
function () {
  function BlockPair(dataBytes, errorCorrectionBytes) {
    this.dataBytes = dataBytes;
    this.errorCorrectionBytes = errorCorrectionBytes;
  }

  BlockPair.prototype.getDataBytes = function () {
    return this.dataBytes;
  };

  BlockPair.prototype.getErrorCorrectionBytes = function () {
    return this.errorCorrectionBytes;
  };

  return BlockPair;
}();

/*
 * Copyright 2008 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __values$1 = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
/*import java.io.UnsupportedEncodingException;*/

/*import java.util.ArrayList;*/

/*import java.util.Collection;*/

/*import java.util.Map;*/

/**
 * @author satorux@google.com (Satoru Takabayashi) - creator
 * @author dswitkin@google.com (Daniel Switkin) - ported from C++
 */

/** @class */
(function () {
  // TYPESCRIPTPORT: changed to UTF8, the default for js
  function Encoder() {} // The mask penalty calculation is complicated.  See Table 21 of JISX0510:2004 (p.45) for details.
  // Basically it applies four rules and summate all penalties.


  Encoder.calculateMaskPenalty = function (matrix) {
    return MaskUtil.applyMaskPenaltyRule1(matrix) + MaskUtil.applyMaskPenaltyRule2(matrix) + MaskUtil.applyMaskPenaltyRule3(matrix) + MaskUtil.applyMaskPenaltyRule4(matrix);
  };
  /**
   * @param content text to encode
   * @param ecLevel error correction level to use
   * @return {@link QRCode} representing the encoded QR code
   * @throws WriterException if encoding can't succeed, because of for example invalid content
   *   or configuration
   */
  // public static encode(content: string, ecLevel: ErrorCorrectionLevel): QRCode /*throws WriterException*/ {
  //   return encode(content, ecLevel, null)
  // }


  Encoder.encode = function (content, ecLevel, hints) {
    if (hints === void 0) {
      hints = null;
    } // Determine what character encoding has been specified by the caller, if any


    var encoding = Encoder.DEFAULT_BYTE_MODE_ENCODING;
    var hasEncodingHint = hints !== null && undefined !== hints.get(EncodeHintType$1.CHARACTER_SET);

    if (hasEncodingHint) {
      encoding = hints.get(EncodeHintType$1.CHARACTER_SET).toString();
    } // Pick an encoding mode appropriate for the content. Note that this will not attempt to use
    // multiple modes / segments even if that were more efficient. Twould be nice.


    var mode = this.chooseMode(content, encoding); // This will store the header information, like mode and
    // length, as well as "header" segments like an ECI segment.

    var headerBits = new BitArray(); // Append ECI segment if applicable

    if (mode === Mode$1.BYTE && (hasEncodingHint || Encoder.DEFAULT_BYTE_MODE_ENCODING !== encoding)) {
      var eci = CharacterSetECI.getCharacterSetECIByName(encoding);

      if (eci !== undefined) {
        this.appendECI(eci, headerBits);
      }
    } // (With ECI in place,) Write the mode marker


    this.appendModeInfo(mode, headerBits); // Collect data within the main segment, separately, to count its size if needed. Don't add it to
    // main payload yet.

    var dataBits = new BitArray();
    this.appendBytes(content, mode, dataBits, encoding);
    var version;

    if (hints !== null && undefined !== hints.get(EncodeHintType$1.QR_VERSION)) {
      var versionNumber = Number.parseInt(hints.get(EncodeHintType$1.QR_VERSION).toString(), 10);
      version = Version.getVersionForNumber(versionNumber);
      var bitsNeeded = this.calculateBitsNeeded(mode, headerBits, dataBits, version);

      if (!this.willFit(bitsNeeded, version, ecLevel)) {
        throw new WriterException('Data too big for requested version');
      }
    } else {
      version = this.recommendVersion(ecLevel, mode, headerBits, dataBits);
    }

    var headerAndDataBits = new BitArray();
    headerAndDataBits.appendBitArray(headerBits); // Find "length" of main segment and write it

    var numLetters = mode === Mode$1.BYTE ? dataBits.getSizeInBytes() : content.length;
    this.appendLengthInfo(numLetters, version, mode, headerAndDataBits); // Put data together into the overall payload

    headerAndDataBits.appendBitArray(dataBits);
    var ecBlocks = version.getECBlocksForLevel(ecLevel);
    var numDataBytes = version.getTotalCodewords() - ecBlocks.getTotalECCodewords(); // Terminate the bits properly.

    this.terminateBits(numDataBytes, headerAndDataBits); // Interleave data bits with error correction code.

    var finalBits = this.interleaveWithECBytes(headerAndDataBits, version.getTotalCodewords(), numDataBytes, ecBlocks.getNumBlocks());
    var qrCode = new QRCode();
    qrCode.setECLevel(ecLevel);
    qrCode.setMode(mode);
    qrCode.setVersion(version); //  Choose the mask pattern and set to "qrCode".

    var dimension = version.getDimensionForVersion();
    var matrix = new ByteMatrix(dimension, dimension);
    var maskPattern = this.chooseMaskPattern(finalBits, ecLevel, version, matrix);
    qrCode.setMaskPattern(maskPattern); // Build the matrix and set it to "qrCode".

    MatrixUtil.buildMatrix(finalBits, ecLevel, version, maskPattern, matrix);
    qrCode.setMatrix(matrix);
    return qrCode;
  };
  /**
   * Decides the smallest version of QR code that will contain all of the provided data.
   *
   * @throws WriterException if the data cannot fit in any version
   */


  Encoder.recommendVersion = function (ecLevel, mode, headerBits, dataBits) {
    // Hard part: need to know version to know how many bits length takes. But need to know how many
    // bits it takes to know version. First we take a guess at version by assuming version will be
    // the minimum, 1:
    var provisionalBitsNeeded = this.calculateBitsNeeded(mode, headerBits, dataBits, Version.getVersionForNumber(1));
    var provisionalVersion = this.chooseVersion(provisionalBitsNeeded, ecLevel); // Use that guess to calculate the right version. I am still not sure this works in 100% of cases.

    var bitsNeeded = this.calculateBitsNeeded(mode, headerBits, dataBits, provisionalVersion);
    return this.chooseVersion(bitsNeeded, ecLevel);
  };

  Encoder.calculateBitsNeeded = function (mode, headerBits, dataBits, version) {
    return headerBits.getSize() + mode.getCharacterCountBits(version) + dataBits.getSize();
  };
  /**
   * @return the code point of the table used in alphanumeric mode or
   *  -1 if there is no corresponding code in the table.
   */


  Encoder.getAlphanumericCode = function (code
  /*int*/
  ) {
    if (code < Encoder.ALPHANUMERIC_TABLE.length) {
      return Encoder.ALPHANUMERIC_TABLE[code];
    }

    return -1;
  }; // public static chooseMode(content: string): Mode {
  //   return chooseMode(content, null);
  // }

  /**
   * Choose the best mode by examining the content. Note that 'encoding' is used as a hint;
   * if it is Shift_JIS, and the input is only double-byte Kanji, then we return {@link Mode#KANJI}.
   */


  Encoder.chooseMode = function (content, encoding) {
    if (encoding === void 0) {
      encoding = null;
    }

    if (CharacterSetECI.SJIS.getName() === encoding && this.isOnlyDoubleByteKanji(content)) {
      // Choose Kanji mode if all input are double-byte characters
      return Mode$1.KANJI;
    }

    var hasNumeric = false;
    var hasAlphanumeric = false;

    for (var i = 0, length_1 = content.length; i < length_1; ++i) {
      var c = content.charAt(i);

      if (Encoder.isDigit(c)) {
        hasNumeric = true;
      } else if (this.getAlphanumericCode(c.charCodeAt(0)) !== -1) {
        hasAlphanumeric = true;
      } else {
        return Mode$1.BYTE;
      }
    }

    if (hasAlphanumeric) {
      return Mode$1.ALPHANUMERIC;
    }

    if (hasNumeric) {
      return Mode$1.NUMERIC;
    }

    return Mode$1.BYTE;
  };

  Encoder.isOnlyDoubleByteKanji = function (content) {
    var bytes;

    try {
      bytes = StringEncoding.encode(content, CharacterSetECI.SJIS); // content.getBytes("Shift_JIS"))
    } catch (ignored
    /*: UnsupportedEncodingException*/
    ) {
      return false;
    }

    var length = bytes.length;

    if (length % 2 !== 0) {
      return false;
    }

    for (var i = 0; i < length; i += 2) {
      var byte1 = bytes[i] & 0xFF;

      if ((byte1 < 0x81 || byte1 > 0x9F) && (byte1 < 0xE0 || byte1 > 0xEB)) {
        return false;
      }
    }

    return true;
  };

  Encoder.chooseMaskPattern = function (bits, ecLevel, version, matrix) {
    var minPenalty = Number.MAX_SAFE_INTEGER; // Lower penalty is better.

    var bestMaskPattern = -1; // We try all mask patterns to choose the best one.

    for (var maskPattern = 0; maskPattern < QRCode.NUM_MASK_PATTERNS; maskPattern++) {
      MatrixUtil.buildMatrix(bits, ecLevel, version, maskPattern, matrix);
      var penalty = this.calculateMaskPenalty(matrix);

      if (penalty < minPenalty) {
        minPenalty = penalty;
        bestMaskPattern = maskPattern;
      }
    }

    return bestMaskPattern;
  };

  Encoder.chooseVersion = function (numInputBits
  /*int*/
  , ecLevel) {
    for (var versionNum = 1; versionNum <= 40; versionNum++) {
      var version = Version.getVersionForNumber(versionNum);

      if (Encoder.willFit(numInputBits, version, ecLevel)) {
        return version;
      }
    }

    throw new WriterException('Data too big');
  };
  /**
   * @return true if the number of input bits will fit in a code with the specified version and
   * error correction level.
   */


  Encoder.willFit = function (numInputBits
  /*int*/
  , version, ecLevel) {
    // In the following comments, we use numbers of Version 7-H.
    // numBytes = 196
    var numBytes = version.getTotalCodewords(); // getNumECBytes = 130

    var ecBlocks = version.getECBlocksForLevel(ecLevel);
    var numEcBytes = ecBlocks.getTotalECCodewords(); // getNumDataBytes = 196 - 130 = 66

    var numDataBytes = numBytes - numEcBytes;
    var totalInputBytes = (numInputBits + 7) / 8;
    return numDataBytes >= totalInputBytes;
  };
  /**
   * Terminate bits as described in 8.4.8 and 8.4.9 of JISX0510:2004 (p.24).
   */


  Encoder.terminateBits = function (numDataBytes
  /*int*/
  , bits) {
    var capacity = numDataBytes * 8;

    if (bits.getSize() > capacity) {
      throw new WriterException('data bits cannot fit in the QR Code' + bits.getSize() + ' > ' + capacity);
    }

    for (var i = 0; i < 4 && bits.getSize() < capacity; ++i) {
      bits.appendBit(false);
    } // Append termination bits. See 8.4.8 of JISX0510:2004 (p.24) for details.
    // If the last byte isn't 8-bit aligned, we'll add padding bits.


    var numBitsInLastByte = bits.getSize() & 0x07;

    if (numBitsInLastByte > 0) {
      for (var i = numBitsInLastByte; i < 8; i++) {
        bits.appendBit(false);
      }
    } // If we have more space, we'll fill the space with padding patterns defined in 8.4.9 (p.24).


    var numPaddingBytes = numDataBytes - bits.getSizeInBytes();

    for (var i = 0; i < numPaddingBytes; ++i) {
      bits.appendBits((i & 0x01) === 0 ? 0xEC : 0x11, 8);
    }

    if (bits.getSize() !== capacity) {
      throw new WriterException('Bits size does not equal capacity');
    }
  };
  /**
   * Get number of data bytes and number of error correction bytes for block id "blockID". Store
   * the result in "numDataBytesInBlock", and "numECBytesInBlock". See table 12 in 8.5.1 of
   * JISX0510:2004 (p.30)
   */


  Encoder.getNumDataBytesAndNumECBytesForBlockID = function (numTotalBytes
  /*int*/
  , numDataBytes
  /*int*/
  , numRSBlocks
  /*int*/
  , blockID
  /*int*/
  , numDataBytesInBlock, numECBytesInBlock) {
    if (blockID >= numRSBlocks) {
      throw new WriterException('Block ID too large');
    } // numRsBlocksInGroup2 = 196 % 5 = 1


    var numRsBlocksInGroup2 = numTotalBytes % numRSBlocks; // numRsBlocksInGroup1 = 5 - 1 = 4

    var numRsBlocksInGroup1 = numRSBlocks - numRsBlocksInGroup2; // numTotalBytesInGroup1 = 196 / 5 = 39

    var numTotalBytesInGroup1 = Math.floor(numTotalBytes / numRSBlocks); // numTotalBytesInGroup2 = 39 + 1 = 40

    var numTotalBytesInGroup2 = numTotalBytesInGroup1 + 1; // numDataBytesInGroup1 = 66 / 5 = 13

    var numDataBytesInGroup1 = Math.floor(numDataBytes / numRSBlocks); // numDataBytesInGroup2 = 13 + 1 = 14

    var numDataBytesInGroup2 = numDataBytesInGroup1 + 1; // numEcBytesInGroup1 = 39 - 13 = 26

    var numEcBytesInGroup1 = numTotalBytesInGroup1 - numDataBytesInGroup1; // numEcBytesInGroup2 = 40 - 14 = 26

    var numEcBytesInGroup2 = numTotalBytesInGroup2 - numDataBytesInGroup2; // Sanity checks.
    // 26 = 26

    if (numEcBytesInGroup1 !== numEcBytesInGroup2) {
      throw new WriterException('EC bytes mismatch');
    } // 5 = 4 + 1.


    if (numRSBlocks !== numRsBlocksInGroup1 + numRsBlocksInGroup2) {
      throw new WriterException('RS blocks mismatch');
    } // 196 = (13 + 26) * 4 + (14 + 26) * 1


    if (numTotalBytes !== (numDataBytesInGroup1 + numEcBytesInGroup1) * numRsBlocksInGroup1 + (numDataBytesInGroup2 + numEcBytesInGroup2) * numRsBlocksInGroup2) {
      throw new WriterException('Total bytes mismatch');
    }

    if (blockID < numRsBlocksInGroup1) {
      numDataBytesInBlock[0] = numDataBytesInGroup1;
      numECBytesInBlock[0] = numEcBytesInGroup1;
    } else {
      numDataBytesInBlock[0] = numDataBytesInGroup2;
      numECBytesInBlock[0] = numEcBytesInGroup2;
    }
  };
  /**
   * Interleave "bits" with corresponding error correction bytes. On success, store the result in
   * "result". The interleave rule is complicated. See 8.6 of JISX0510:2004 (p.37) for details.
   */


  Encoder.interleaveWithECBytes = function (bits, numTotalBytes
  /*int*/
  , numDataBytes
  /*int*/
  , numRSBlocks
  /*int*/
  ) {
    var e_1, _a, e_2, _b; // "bits" must have "getNumDataBytes" bytes of data.


    if (bits.getSizeInBytes() !== numDataBytes) {
      throw new WriterException('Number of bits and data bytes does not match');
    } // Step 1.  Divide data bytes into blocks and generate error correction bytes for them. We'll
    // store the divided data bytes blocks and error correction bytes blocks into "blocks".


    var dataBytesOffset = 0;
    var maxNumDataBytes = 0;
    var maxNumEcBytes = 0; // Since, we know the number of reedsolmon blocks, we can initialize the vector with the number.

    var blocks = new Array(); // new Array<BlockPair>(numRSBlocks)

    for (var i = 0; i < numRSBlocks; ++i) {
      var numDataBytesInBlock = new Int32Array(1);
      var numEcBytesInBlock = new Int32Array(1);
      Encoder.getNumDataBytesAndNumECBytesForBlockID(numTotalBytes, numDataBytes, numRSBlocks, i, numDataBytesInBlock, numEcBytesInBlock);
      var size = numDataBytesInBlock[0];
      var dataBytes = new Uint8Array(size);
      bits.toBytes(8 * dataBytesOffset, dataBytes, 0, size);
      var ecBytes = Encoder.generateECBytes(dataBytes, numEcBytesInBlock[0]);
      blocks.push(new BlockPair(dataBytes, ecBytes));
      maxNumDataBytes = Math.max(maxNumDataBytes, size);
      maxNumEcBytes = Math.max(maxNumEcBytes, ecBytes.length);
      dataBytesOffset += numDataBytesInBlock[0];
    }

    if (numDataBytes !== dataBytesOffset) {
      throw new WriterException('Data bytes does not match offset');
    }

    var result = new BitArray(); // First, place data blocks.

    for (var i = 0; i < maxNumDataBytes; ++i) {
      try {
        for (var blocks_1 = (e_1 = void 0, __values$1(blocks)), blocks_1_1 = blocks_1.next(); !blocks_1_1.done; blocks_1_1 = blocks_1.next()) {
          var block = blocks_1_1.value;
          var dataBytes = block.getDataBytes();

          if (i < dataBytes.length) {
            result.appendBits(dataBytes[i], 8);
          }
        }
      } catch (e_1_1) {
        e_1 = {
          error: e_1_1
        };
      } finally {
        try {
          if (blocks_1_1 && !blocks_1_1.done && (_a = blocks_1.return)) _a.call(blocks_1);
        } finally {
          if (e_1) throw e_1.error;
        }
      }
    } // Then, place error correction blocks.


    for (var i = 0; i < maxNumEcBytes; ++i) {
      try {
        for (var blocks_2 = (e_2 = void 0, __values$1(blocks)), blocks_2_1 = blocks_2.next(); !blocks_2_1.done; blocks_2_1 = blocks_2.next()) {
          var block = blocks_2_1.value;
          var ecBytes = block.getErrorCorrectionBytes();

          if (i < ecBytes.length) {
            result.appendBits(ecBytes[i], 8);
          }
        }
      } catch (e_2_1) {
        e_2 = {
          error: e_2_1
        };
      } finally {
        try {
          if (blocks_2_1 && !blocks_2_1.done && (_b = blocks_2.return)) _b.call(blocks_2);
        } finally {
          if (e_2) throw e_2.error;
        }
      }
    }

    if (numTotalBytes !== result.getSizeInBytes()) {
      // Should be same.
      throw new WriterException('Interleaving error: ' + numTotalBytes + ' and ' + result.getSizeInBytes() + ' differ.');
    }

    return result;
  };

  Encoder.generateECBytes = function (dataBytes, numEcBytesInBlock
  /*int*/
  ) {
    var numDataBytes = dataBytes.length;
    var toEncode = new Int32Array(numDataBytes + numEcBytesInBlock); // int[numDataBytes + numEcBytesInBlock]

    for (var i = 0; i < numDataBytes; i++) {
      toEncode[i] = dataBytes[i] & 0xFF;
    }

    new ReedSolomonEncoder(GenericGF.QR_CODE_FIELD_256).encode(toEncode, numEcBytesInBlock);
    var ecBytes = new Uint8Array(numEcBytesInBlock);

    for (var i = 0; i < numEcBytesInBlock; i++) {
      ecBytes[i] =
      /*(byte) */
      toEncode[numDataBytes + i];
    }

    return ecBytes;
  };
  /**
   * Append mode info. On success, store the result in "bits".
   */


  Encoder.appendModeInfo = function (mode, bits) {
    bits.appendBits(mode.getBits(), 4);
  };
  /**
   * Append length info. On success, store the result in "bits".
   */


  Encoder.appendLengthInfo = function (numLetters
  /*int*/
  , version, mode, bits) {
    var numBits = mode.getCharacterCountBits(version);

    if (numLetters >= 1 << numBits) {
      throw new WriterException(numLetters + ' is bigger than ' + ((1 << numBits) - 1));
    }

    bits.appendBits(numLetters, numBits);
  };
  /**
   * Append "bytes" in "mode" mode (encoding) into "bits". On success, store the result in "bits".
   */


  Encoder.appendBytes = function (content, mode, bits, encoding) {
    switch (mode) {
      case Mode$1.NUMERIC:
        Encoder.appendNumericBytes(content, bits);
        break;

      case Mode$1.ALPHANUMERIC:
        Encoder.appendAlphanumericBytes(content, bits);
        break;

      case Mode$1.BYTE:
        Encoder.append8BitBytes(content, bits, encoding);
        break;

      case Mode$1.KANJI:
        Encoder.appendKanjiBytes(content, bits);
        break;

      default:
        throw new WriterException('Invalid mode: ' + mode);
    }
  };

  Encoder.getDigit = function (singleCharacter) {
    return singleCharacter.charCodeAt(0) - 48;
  };

  Encoder.isDigit = function (singleCharacter) {
    var cn = Encoder.getDigit(singleCharacter);
    return cn >= 0 && cn <= 9;
  };

  Encoder.appendNumericBytes = function (content, bits) {
    var length = content.length;
    var i = 0;

    while (i < length) {
      var num1 = Encoder.getDigit(content.charAt(i));

      if (i + 2 < length) {
        // Encode three numeric letters in ten bits.
        var num2 = Encoder.getDigit(content.charAt(i + 1));
        var num3 = Encoder.getDigit(content.charAt(i + 2));
        bits.appendBits(num1 * 100 + num2 * 10 + num3, 10);
        i += 3;
      } else if (i + 1 < length) {
        // Encode two numeric letters in seven bits.
        var num2 = Encoder.getDigit(content.charAt(i + 1));
        bits.appendBits(num1 * 10 + num2, 7);
        i += 2;
      } else {
        // Encode one numeric letter in four bits.
        bits.appendBits(num1, 4);
        i++;
      }
    }
  };

  Encoder.appendAlphanumericBytes = function (content, bits) {
    var length = content.length;
    var i = 0;

    while (i < length) {
      var code1 = Encoder.getAlphanumericCode(content.charCodeAt(i));

      if (code1 === -1) {
        throw new WriterException();
      }

      if (i + 1 < length) {
        var code2 = Encoder.getAlphanumericCode(content.charCodeAt(i + 1));

        if (code2 === -1) {
          throw new WriterException();
        } // Encode two alphanumeric letters in 11 bits.


        bits.appendBits(code1 * 45 + code2, 11);
        i += 2;
      } else {
        // Encode one alphanumeric letter in six bits.
        bits.appendBits(code1, 6);
        i++;
      }
    }
  };

  Encoder.append8BitBytes = function (content, bits, encoding) {
    var bytes;

    try {
      bytes = StringEncoding.encode(content, encoding);
    } catch (uee
    /*: UnsupportedEncodingException*/
    ) {
      throw new WriterException(uee);
    }

    for (var i = 0, length_2 = bytes.length; i !== length_2; i++) {
      var b = bytes[i];
      bits.appendBits(b, 8);
    }
  };
  /**
   * @throws WriterException
   */


  Encoder.appendKanjiBytes = function (content, bits) {
    var bytes;

    try {
      bytes = StringEncoding.encode(content, CharacterSetECI.SJIS);
    } catch (uee
    /*: UnsupportedEncodingException*/
    ) {
      throw new WriterException(uee);
    }

    var length = bytes.length;

    for (var i = 0; i < length; i += 2) {
      var byte1 = bytes[i] & 0xFF;
      var byte2 = bytes[i + 1] & 0xFF;
      var code = byte1 << 8 & 0xFFFFFFFF | byte2;
      var subtracted = -1;

      if (code >= 0x8140 && code <= 0x9ffc) {
        subtracted = code - 0x8140;
      } else if (code >= 0xe040 && code <= 0xebbf) {
        subtracted = code - 0xc140;
      }

      if (subtracted === -1) {
        throw new WriterException('Invalid byte sequence');
      }

      var encoded = (subtracted >> 8) * 0xc0 + (subtracted & 0xff);
      bits.appendBits(encoded, 13);
    }
  };

  Encoder.appendECI = function (eci, bits) {
    bits.appendBits(Mode$1.ECI.getBits(), 4); // This is correct for values up to 127, which is all we need now.

    bits.appendBits(eci.getValue(), 8);
  }; // The original table is defined in the table 5 of JISX0510:2004 (p.19).


  Encoder.ALPHANUMERIC_TABLE = Int32Array.from([-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 36, -1, -1, -1, 37, 38, -1, -1, -1, -1, 39, 40, -1, 41, 42, 43, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 44, -1, -1, -1, -1, -1, -1, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, -1, -1, -1, -1, -1]);
  Encoder.DEFAULT_BYTE_MODE_ENCODING = CharacterSetECI.UTF8.getName(); // "ISO-8859-1"

  return Encoder;
})();

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$4 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * This object extends LuminanceSource around an array of YUV data returned from the camera driver,
 * with the option to crop to a rectangle within the full data. This can be used to exclude
 * superfluous pixels around the perimeter and speed up decoding.
 *
 * It works for any pixel format where the Y channel is planar and appears first, including
 * YCbCr_420_SP and YCbCr_422_SP.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 */

/** @class */
(function (_super) {
  __extends$4(PlanarYUVLuminanceSource, _super);

  function PlanarYUVLuminanceSource(yuvData, dataWidth
  /*int*/
  , dataHeight
  /*int*/
  , left
  /*int*/
  , top
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  , reverseHorizontal) {
    var _this = _super.call(this, width, height) || this;

    _this.yuvData = yuvData;
    _this.dataWidth = dataWidth;
    _this.dataHeight = dataHeight;
    _this.left = left;
    _this.top = top;

    if (left + width > dataWidth || top + height > dataHeight) {
      throw new IllegalArgumentException('Crop rectangle does not fit within image data.');
    }

    if (reverseHorizontal) {
      _this.reverseHorizontal(width, height);
    }

    return _this;
  }
  /*@Override*/


  PlanarYUVLuminanceSource.prototype.getRow = function (y
  /*int*/
  , row) {
    if (y < 0 || y >= this.getHeight()) {
      throw new IllegalArgumentException('Requested row is outside the image: ' + y);
    }

    var width = this.getWidth();

    if (row === null || row === undefined || row.length < width) {
      row = new Uint8ClampedArray(width);
    }

    var offset = (y + this.top) * this.dataWidth + this.left;
    System.arraycopy(this.yuvData, offset, row, 0, width);
    return row;
  };
  /*@Override*/


  PlanarYUVLuminanceSource.prototype.getMatrix = function () {
    var width = this.getWidth();
    var height = this.getHeight(); // If the caller asks for the entire underlying image, save the copy and give them the
    // original data. The docs specifically warn that result.length must be ignored.

    if (width === this.dataWidth && height === this.dataHeight) {
      return this.yuvData;
    }

    var area = width * height;
    var matrix = new Uint8ClampedArray(area);
    var inputOffset = this.top * this.dataWidth + this.left; // If the width matches the full width of the underlying data, perform a single copy.

    if (width === this.dataWidth) {
      System.arraycopy(this.yuvData, inputOffset, matrix, 0, area);
      return matrix;
    } // Otherwise copy one cropped row at a time.


    for (var y = 0; y < height; y++) {
      var outputOffset = y * width;
      System.arraycopy(this.yuvData, inputOffset, matrix, outputOffset, width);
      inputOffset += this.dataWidth;
    }

    return matrix;
  };
  /*@Override*/


  PlanarYUVLuminanceSource.prototype.isCropSupported = function () {
    return true;
  };
  /*@Override*/


  PlanarYUVLuminanceSource.prototype.crop = function (left
  /*int*/
  , top
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  ) {
    return new PlanarYUVLuminanceSource(this.yuvData, this.dataWidth, this.dataHeight, this.left + left, this.top + top, width, height, false);
  };

  PlanarYUVLuminanceSource.prototype.renderThumbnail = function () {
    var width = this.getWidth() / PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;
    var height = this.getHeight() / PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;
    var pixels = new Int32Array(width * height);
    var yuv = this.yuvData;
    var inputOffset = this.top * this.dataWidth + this.left;

    for (var y = 0; y < height; y++) {
      var outputOffset = y * width;

      for (var x = 0; x < width; x++) {
        var grey = yuv[inputOffset + x * PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR] & 0xff;
        pixels[outputOffset + x] = 0xFF000000 | grey * 0x00010101;
      }

      inputOffset += this.dataWidth * PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;
    }

    return pixels;
  };
  /**
   * @return width of image from {@link #renderThumbnail()}
   */


  PlanarYUVLuminanceSource.prototype.getThumbnailWidth = function () {
    return this.getWidth() / PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;
  };
  /**
   * @return height of image from {@link #renderThumbnail()}
   */


  PlanarYUVLuminanceSource.prototype.getThumbnailHeight = function () {
    return this.getHeight() / PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR;
  };

  PlanarYUVLuminanceSource.prototype.reverseHorizontal = function (width
  /*int*/
  , height
  /*int*/
  ) {
    var yuvData = this.yuvData;

    for (var y = 0, rowStart = this.top * this.dataWidth + this.left; y < height; y++, rowStart += this.dataWidth) {
      var middle = rowStart + width / 2;

      for (var x1 = rowStart, x2 = rowStart + width - 1; x1 < middle; x1++, x2--) {
        var temp = yuvData[x1];
        yuvData[x1] = yuvData[x2];
        yuvData[x2] = temp;
      }
    }
  };

  PlanarYUVLuminanceSource.prototype.invert = function () {
    return new InvertedLuminanceSource(this);
  };

  PlanarYUVLuminanceSource.THUMBNAIL_SCALE_FACTOR = 2;
  return PlanarYUVLuminanceSource;
})(LuminanceSource);

/*
 * Copyright 2009 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends$3 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * This class is used to help decode images from files which arrive as RGB data from
 * an ARGB pixel array. It does not support rotation.
 *
 * @author dswitkin@google.com (Daniel Switkin)
 * @author Betaminos
 */

/** @class */
(function (_super) {
  __extends$3(RGBLuminanceSource, _super);

  function RGBLuminanceSource(luminances, width
  /*int*/
  , height
  /*int*/
  , dataWidth
  /*int*/
  , dataHeight
  /*int*/
  , left
  /*int*/
  , top
  /*int*/
  ) {
    var _this = _super.call(this, width, height) || this;

    _this.dataWidth = dataWidth;
    _this.dataHeight = dataHeight;
    _this.left = left;
    _this.top = top;

    if (luminances.BYTES_PER_ELEMENT === 4) {
      // Int32Array
      var size = width * height;
      var luminancesUint8Array = new Uint8ClampedArray(size);

      for (var offset = 0; offset < size; offset++) {
        var pixel = luminances[offset];
        var r = pixel >> 16 & 0xff; // red

        var g2 = pixel >> 7 & 0x1fe; // 2 * green

        var b = pixel & 0xff; // blue
        // Calculate green-favouring average cheaply

        luminancesUint8Array[offset] =
        /*(byte) */
        (r + g2 + b) / 4 & 0xFF;
      }

      _this.luminances = luminancesUint8Array;
    } else {
      _this.luminances = luminances;
    }

    if (undefined === dataWidth) {
      _this.dataWidth = width;
    }

    if (undefined === dataHeight) {
      _this.dataHeight = height;
    }

    if (undefined === left) {
      _this.left = 0;
    }

    if (undefined === top) {
      _this.top = 0;
    }

    if (_this.left + width > _this.dataWidth || _this.top + height > _this.dataHeight) {
      throw new IllegalArgumentException('Crop rectangle does not fit within image data.');
    }

    return _this;
  }
  /*@Override*/


  RGBLuminanceSource.prototype.getRow = function (y
  /*int*/
  , row) {
    if (y < 0 || y >= this.getHeight()) {
      throw new IllegalArgumentException('Requested row is outside the image: ' + y);
    }

    var width = this.getWidth();

    if (row === null || row === undefined || row.length < width) {
      row = new Uint8ClampedArray(width);
    }

    var offset = (y + this.top) * this.dataWidth + this.left;
    System.arraycopy(this.luminances, offset, row, 0, width);
    return row;
  };
  /*@Override*/


  RGBLuminanceSource.prototype.getMatrix = function () {
    var width = this.getWidth();
    var height = this.getHeight(); // If the caller asks for the entire underlying image, save the copy and give them the
    // original data. The docs specifically warn that result.length must be ignored.

    if (width === this.dataWidth && height === this.dataHeight) {
      return this.luminances;
    }

    var area = width * height;
    var matrix = new Uint8ClampedArray(area);
    var inputOffset = this.top * this.dataWidth + this.left; // If the width matches the full width of the underlying data, perform a single copy.

    if (width === this.dataWidth) {
      System.arraycopy(this.luminances, inputOffset, matrix, 0, area);
      return matrix;
    } // Otherwise copy one cropped row at a time.


    for (var y = 0; y < height; y++) {
      var outputOffset = y * width;
      System.arraycopy(this.luminances, inputOffset, matrix, outputOffset, width);
      inputOffset += this.dataWidth;
    }

    return matrix;
  };
  /*@Override*/


  RGBLuminanceSource.prototype.isCropSupported = function () {
    return true;
  };
  /*@Override*/


  RGBLuminanceSource.prototype.crop = function (left
  /*int*/
  , top
  /*int*/
  , width
  /*int*/
  , height
  /*int*/
  ) {
    return new RGBLuminanceSource(this.luminances, width, height, this.dataWidth, this.dataHeight, this.left + left, this.top + top);
  };

  RGBLuminanceSource.prototype.invert = function () {
    return new InvertedLuminanceSource(this);
  };

  return RGBLuminanceSource;
})(LuminanceSource);

var __extends$2 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
/**
 * Just to make a shortcut between Java code and TS code.
 */

/** @class */
(function (_super) {
  __extends$2(Charset, _super);

  function Charset() {
    return _super !== null && _super.apply(this, arguments) || this;
  }

  Charset.forName = function (name) {
    return this.getCharacterSetECIByName(name);
  };

  return Charset;
})(CharacterSetECI);

/*
* Copyright 2013 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var Token =
/** @class */
function () {
  function Token(previous) {
    this.previous = previous;
  }

  Token.prototype.getPrevious = function () {
    return this.previous;
  };

  return Token;
}();

/*
* Copyright 2013 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var __extends$1 = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

var SimpleToken =
/** @class */
function (_super) {
  __extends$1(SimpleToken, _super);

  function SimpleToken(previous, value, bitCount) {
    var _this = _super.call(this, previous) || this;

    _this.value = value;
    _this.bitCount = bitCount;
    return _this;
  }
  /**
   * @Override
   */


  SimpleToken.prototype.appendTo = function (bitArray, text) {
    bitArray.appendBits(this.value, this.bitCount);
  };

  SimpleToken.prototype.add = function (value, bitCount) {
    return new SimpleToken(this, value, bitCount);
  };

  SimpleToken.prototype.addBinaryShift = function (start, byteCount) {
    // no-op can't binary shift a simple token
    console.warn('addBinaryShift on SimpleToken, this simply returns a copy of this token');
    return new SimpleToken(this, start, byteCount);
  };
  /**
   * @Override
   */


  SimpleToken.prototype.toString = function () {
    var value = this.value & (1 << this.bitCount) - 1;
    value |= 1 << this.bitCount;
    return '<' + Integer.toBinaryString(value | 1 << this.bitCount).substring(1) + '>';
  };

  return SimpleToken;
}(Token);

/*
* Copyright 2013 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var __extends = undefined && undefined.__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    };

    return extendStatics(d, b);
  };

  return function (d, b) {
    extendStatics(d, b);

    function __() {
      this.constructor = d;
    }

    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();

/** @class */
(function (_super) {
  __extends(BinaryShiftToken, _super);

  function BinaryShiftToken(previous, binaryShiftStart, binaryShiftByteCount) {
    var _this = _super.call(this, previous, 0, 0) || this;

    _this.binaryShiftStart = binaryShiftStart;
    _this.binaryShiftByteCount = binaryShiftByteCount;
    return _this;
  }
  /**
   * @Override
   */


  BinaryShiftToken.prototype.appendTo = function (bitArray, text) {
    for (var i = 0; i < this.binaryShiftByteCount; i++) {
      if (i === 0 || i === 31 && this.binaryShiftByteCount <= 62) {
        // We need a header before the first character, and before
        // character 31 when the total byte code is <= 62
        bitArray.appendBits(31, 5); // BINARY_SHIFT

        if (this.binaryShiftByteCount > 62) {
          bitArray.appendBits(this.binaryShiftByteCount - 31, 16);
        } else if (i === 0) {
          // 1 <= binaryShiftByteCode <= 62
          bitArray.appendBits(Math.min(this.binaryShiftByteCount, 31), 5);
        } else {
          // 32 <= binaryShiftCount <= 62 and i == 31
          bitArray.appendBits(this.binaryShiftByteCount - 31, 5);
        }
      }

      bitArray.appendBits(text[this.binaryShiftStart + i], 8);
    }
  };

  BinaryShiftToken.prototype.addBinaryShift = function (start, byteCount) {
    // int bitCount = (byteCount * 8) + (byteCount <= 31 ? 10 : byteCount <= 62 ? 20 : 21);
    return new BinaryShiftToken(this, start, byteCount);
  };
  /**
   * @Override
   */


  BinaryShiftToken.prototype.toString = function () {
    return '<' + this.binaryShiftStart + '::' + (this.binaryShiftStart + this.binaryShiftByteCount - 1) + '>';
  };

  return BinaryShiftToken;
})(SimpleToken);

var
/*final*/
MODE_UPPER = 0; // 5 bits

var
/*final*/
MODE_LOWER = 1; // 5 bits

var
/*final*/
MODE_DIGIT = 2; // 4 bits

var
/*final*/
MODE_MIXED = 3; // 5 bits

var
/*final*/
MODE_PUNCT = 4; // 5 bits

new SimpleToken(null, 0, 0);

var __values = undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};
function static_SHIFT_TABLE(SHIFT_TABLE) {
  var e_1, _a;

  try {
    for (var SHIFT_TABLE_1 = __values(SHIFT_TABLE), SHIFT_TABLE_1_1 = SHIFT_TABLE_1.next(); !SHIFT_TABLE_1_1.done; SHIFT_TABLE_1_1 = SHIFT_TABLE_1.next()) {
      var table = SHIFT_TABLE_1_1.value
      /*Int32Array*/
      ;
      Arrays.fill(table, -1);
    }
  } catch (e_1_1) {
    e_1 = {
      error: e_1_1
    };
  } finally {
    try {
      if (SHIFT_TABLE_1_1 && !SHIFT_TABLE_1_1.done && (_a = SHIFT_TABLE_1.return)) _a.call(SHIFT_TABLE_1);
    } finally {
      if (e_1) throw e_1.error;
    }
  }

  SHIFT_TABLE[MODE_UPPER][MODE_PUNCT] = 0;
  SHIFT_TABLE[MODE_LOWER][MODE_PUNCT] = 0;
  SHIFT_TABLE[MODE_LOWER][MODE_UPPER] = 28;
  SHIFT_TABLE[MODE_MIXED][MODE_PUNCT] = 0;
  SHIFT_TABLE[MODE_DIGIT][MODE_PUNCT] = 0;
  SHIFT_TABLE[MODE_DIGIT][MODE_UPPER] = 15;
  return SHIFT_TABLE;
}
/*final*/
static_SHIFT_TABLE(Arrays.createInt32Array(6, 6)); // mode shift codes, per table

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // package com.google.zxing.aztec.encoder;

function static_CHAR_MAP(CHAR_MAP) {
  var spaceCharCode = StringUtils.getCharCode(' ');
  var pointCharCode = StringUtils.getCharCode('.');
  var commaCharCode = StringUtils.getCharCode(',');
  CHAR_MAP[MODE_UPPER][spaceCharCode] = 1;
  var zUpperCharCode = StringUtils.getCharCode('Z');
  var aUpperCharCode = StringUtils.getCharCode('A');

  for (var c = aUpperCharCode; c <= zUpperCharCode; c++) {
    CHAR_MAP[MODE_UPPER][c] = c - aUpperCharCode + 2;
  }

  CHAR_MAP[MODE_LOWER][spaceCharCode] = 1;
  var zLowerCharCode = StringUtils.getCharCode('z');
  var aLowerCharCode = StringUtils.getCharCode('a');

  for (var c = aLowerCharCode; c <= zLowerCharCode; c++) {
    CHAR_MAP[MODE_LOWER][c] = c - aLowerCharCode + 2;
  }

  CHAR_MAP[MODE_DIGIT][spaceCharCode] = 1;
  var nineCharCode = StringUtils.getCharCode('9');
  var zeroCharCode = StringUtils.getCharCode('0');

  for (var c = zeroCharCode; c <= nineCharCode; c++) {
    CHAR_MAP[MODE_DIGIT][c] = c - zeroCharCode + 2;
  }

  CHAR_MAP[MODE_DIGIT][commaCharCode] = 12;
  CHAR_MAP[MODE_DIGIT][pointCharCode] = 13;
  var mixedTable = ['\x00', ' ', '\x01', '\x02', '\x03', '\x04', '\x05', '\x06', '\x07', '\b', '\t', '\n', '\x0b', '\f', '\r', '\x1b', '\x1c', '\x1d', '\x1e', '\x1f', '@', '\\', '^', '_', '`', '|', '~', '\x7f'];

  for (var i = 0; i < mixedTable.length; i++) {
    CHAR_MAP[MODE_MIXED][StringUtils.getCharCode(mixedTable[i])] = i;
  }

  var punctTable = ['\x00', '\r', '\x00', '\x00', '\x00', '\x00', '!', '\'', '#', '$', '%', '&', '\'', '(', ')', '*', '+', ',', '-', '.', '/', ':', ';', '<', '=', '>', '?', '[', ']', '{', '}'];

  for (var i = 0; i < punctTable.length; i++) {
    if (StringUtils.getCharCode(punctTable[i]) > 0) {
      CHAR_MAP[MODE_PUNCT][StringUtils.getCharCode(punctTable[i])] = i;
    }
  }

  return CHAR_MAP;
}
static_CHAR_MAP(Arrays.createInt32Array(5, 256));

/*
 * Copyright 2013 ZXing authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}; // import java.util.Collection;

undefined && undefined.__values || function (o) {
  var s = typeof Symbol === "function" && Symbol.iterator,
      m = s && o[s],
      i = 0;
  if (m) return m.call(o);
  if (o && typeof o.length === "number") return {
    next: function () {
      if (o && i >= o.length) o = void 0;
      return {
        value: o && o[i++],
        done: !o
      };
    }
  };
  throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
};

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/** Detect free variable `global` from Node.js. */

var freeGlobal$1 = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;
/** Detect free variable `self`. */

var freeSelf$1 = typeof self == 'object' && self && self.Object === Object && self;
/** Used as a reference to the global object. */

freeGlobal$1 || freeSelf$1 || Function('return this')();

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/** Detect free variable `global` from Node.js. */

var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;
/** Detect free variable `self`. */

var freeSelf = typeof self == 'object' && self && self.Object === Object && self;
/** Used as a reference to the global object. */

freeGlobal || freeSelf || Function('return this')();

function isDocumentVisible() {
  if (typeof document !== 'undefined' && typeof document.visibilityState !== 'undefined') {
    return document.visibilityState !== 'hidden';
  }

  return true;
}
function isOnline() {
  if (typeof navigator.onLine !== 'undefined') {
    return navigator.onLine;
  }

  return true;
}

var __read$6 = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read$6(arguments[i]));
  }

  return ar;
};

var __read$5 = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read$5(arguments[i]));
  }

  return ar;
};

// from swr
var listeners$1 = [];

var eventsBinded$1 = false;

if (typeof window !== 'undefined' && window.addEventListener && !eventsBinded$1) {
  var revalidate$1 = function revalidate() {
    if (!isDocumentVisible() || !isOnline()) return;

    for (var i = 0; i < listeners$1.length; i++) {
      var listener = listeners$1[i];
      listener();
    }
  };

  window.addEventListener('visibilitychange', revalidate$1, false);
  window.addEventListener('focus', revalidate$1, false); // only bind the events once

  eventsBinded$1 = true;
}

// from swr
var listeners = [];

var eventsBinded = false;

if (typeof window !== 'undefined' && window.addEventListener && !eventsBinded) {
  var revalidate = function revalidate() {
    if (!isDocumentVisible()) return;

    for (var i = 0; i < listeners.length; i++) {
      var listener = listeners[i];
      listener();
    }
  };

  window.addEventListener('visibilitychange', revalidate, false); // only bind the events once

  eventsBinded = true;
}

var __assign$4 = undefined && undefined.__assign || function () {
  __assign$4 = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];

      for (var p in s) {
        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
    }

    return t;
  };

  return __assign$4.apply(this, arguments);
};

var __read$4 = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read$4(arguments[i]));
  }

  return ar;
};

var __assign$3 = undefined && undefined.__assign || function () {
  __assign$3 = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];

      for (var p in s) {
        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
    }

    return t;
  };

  return __assign$3.apply(this, arguments);
};

undefined && undefined.__rest || function (s, e) {
  var t = {};

  for (var p in s) {
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  }

  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};

var __read$3 = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read$3(arguments[i]));
  }

  return ar;
};

var __assign$2 = undefined && undefined.__assign || function () {
  __assign$2 = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];

      for (var p in s) {
        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
    }

    return t;
  };

  return __assign$2.apply(this, arguments);
};

undefined && undefined.__rest || function (s, e) {
  var t = {};

  for (var p in s) {
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  }

  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};

var __read$2 = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read$2(arguments[i]));
  }

  return ar;
};

var ConfigContext = /*#__PURE__*/React.createContext({});
ConfigContext.displayName = 'UseRequestConfigContext';

var __assign$1 = undefined && undefined.__assign || function () {
  __assign$1 = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];

      for (var p in s) {
        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
    }

    return t;
  };

  return __assign$1.apply(this, arguments);
};

undefined && undefined.__rest || function (s, e) {
  var t = {};

  for (var p in s) {
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  }

  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};

var __read$1 = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read$1(arguments[i]));
  }

  return ar;
};

ConfigContext.Provider; // UseAPIProvider 已经废弃，此处为了兼容 umijs 插件 plugin-request

function useInterval(fn, delay, options) {
  var immediate = options === null || options === void 0 ? void 0 : options.immediate;
  var fnRef = useRef();
  fnRef.current = fn;
  useEffect(function () {
    var _a;

    if (delay === undefined || delay === null) return;

    if (immediate) {
      (_a = fnRef.current) === null || _a === void 0 ? void 0 : _a.call(fnRef);
    }

    var timer = setInterval(function () {
      var _a;

      (_a = fnRef.current) === null || _a === void 0 ? void 0 : _a.call(fnRef);
    }, delay);
    return function () {
      clearInterval(timer);
    };
  }, [delay]);
}

var __assign = undefined && undefined.__assign || function () {
  __assign = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];

      for (var p in s) {
        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
      }
    }

    return t;
  };

  return __assign.apply(this, arguments);
};
function useWhyDidYouUpdate(componentName, props) {
  var prevProps = useRef({});
  useEffect(function () {
    if (prevProps.current) {
      var allKeys = Object.keys(__assign(__assign({}, prevProps.current), props));
      var changedProps_1 = {};
      allKeys.forEach(function (key) {
        if (prevProps.current[key] !== props[key]) {
          changedProps_1[key] = {
            from: prevProps.current[key],
            to: props[key]
          };
        }
      });

      if (Object.keys(changedProps_1).length) {
        console.log('[why-did-you-update]', componentName, changedProps_1);
      }
    }

    prevProps.current = props;
  });
}

var __read = undefined && undefined.__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
      r,
      ar = [],
      e;

  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {
      ar.push(r.value);
    }
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }

  return ar;
};

undefined && undefined.__spread || function () {
  for (var ar = [], i = 0; i < arguments.length; i++) {
    ar = ar.concat(__read(arguments[i]));
  }

  return ar;
};

const hints = new Map();
// RSS_Expanded is not production ready yet.
const exclusions = [BarcodeFormat$1.RSS_EXPANDED];
// `BarcodeFormat` is a TypeScript enum. Calling `Object.values` on it returns an array of string and ints, we only want the latter.
const formats = Object.values(BarcodeFormat$1)
    .filter((format) => typeof format !== "string")
    .filter((format) => !exclusions.includes(format));
hints.set(DecodeHintType$1.POSSIBLE_FORMATS, formats);
const useCodeScanner = (streamObject, videoElement) => {
    const [codeResult, setCodeResult] = useState(null);
    const [lastCodeResult, setLastCodeResult] = useState(null);
    const [error, setError] = useState(null);
    const [interval, setInterval] = useState(500);
    useInterval(() => {
        if (streamObject && videoElement) {
            setInterval(null);
            const browserReader = new BrowserMultiFormatReader(hints, 2000);
            browserReader.decodeOnceFromStream(streamObject, undefined).then(result => {
                if (lastCodeResult !== result.getText()) {
                    setLastCodeResult(result.getText());
                    setCodeResult(result.getText());
                }
                setInterval(500);
            }).catch((e) => {
                console.log(e);
                setError("ERROR_CODE_SCANNER");
            });
        }
    }, interval, { immediate: false });
    return { codeResult, error };
};

function browserSupportsCameraAccess() {
    return "mediaDevices" in navigator && "getUserMedia" in navigator.mediaDevices;
}
const mediaStreamConstraints = {
    audio: false,
    video: {
        facingMode: "environment",
        width: { min: 1280, ideal: 1920, max: 2560 },
        height: { min: 720, ideal: 1080, max: 1440 }
    }
};
const useMediaStream = () => {
    const [streamObject, setStreamObject] = useState(null);
    const [error, setError] = useState(null);
    const supportsCameraAccess = browserSupportsCameraAccess();
    const cleanupStreamObject = useCallback(() => {
        streamObject === null || streamObject === void 0 ? void 0 : streamObject.getVideoTracks().forEach(track => track.stop());
    }, [streamObject]);
    useEffect(() => {
        let stream;
        let isCanceled = false;
        async function getStream() {
            try {
                stream = await navigator.mediaDevices.getUserMedia(mediaStreamConstraints);
                if (!isCanceled) {
                    setStreamObject(stream);
                }
            }
            catch (e) {
                if (e instanceof Error && !isCanceled) {
                    switch (e.name) {
                        case "NotFoundError":
                            setError("ERROR_NOT_FOUND");
                            break;
                        case "NotAllowedError":
                            setError("ERROR_NOT_ALLOWED");
                            break;
                        default:
                            setError("ERROR_MEDIA_STREAM");
                            break;
                    }
                }
            }
        }
        if (supportsCameraAccess && !streamObject) {
            getStream();
        }
        return () => {
            isCanceled = true;
            cleanupStreamObject();
        };
    }, [supportsCameraAccess, streamObject, cleanupStreamObject]);
    return { streamObject, cleanupStreamObject, error };
};

___$insertStyle(".mx-barcode-scanner {\n  position: relative;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #000000;\n  z-index: 110;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-background {\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-left {\n  flex: 1;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle {\n  flex: 0;\n  flex-basis: 60%;\n  display: flex;\n  flex-direction: column;\n}\n@media screen and (min-width: 768px) {\n  .mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle {\n    flex-basis: 50%;\n  }\n}\n@media screen and (min-width: 992px) {\n  .mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle {\n    flex-basis: 40%;\n  }\n}\n@media screen and (min-width: 1200px) {\n  .mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle {\n    flex-basis: 30%;\n  }\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle .canvas-middle-top {\n  flex: 1;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle .canvas-middle-middle {\n  flex: 0;\n  padding-top: 100%;\n  position: relative;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle .canvas-middle-middle .corner {\n  position: absolute;\n  width: 32px;\n  height: 32px;\n  box-sizing: border-box;\n  border-left: 5px solid #ffffff;\n  border-top: 5px solid #ffffff;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle .canvas-middle-middle .corner.corner-top-left {\n  top: -13px;\n  left: -13px;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle .canvas-middle-middle .corner.corner-top-right {\n  top: -13px;\n  right: -13px;\n  transform: rotate(90deg);\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle .canvas-middle-middle .corner.corner-bottom-right {\n  bottom: -13px;\n  right: -13px;\n  transform: rotate(180deg);\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle .canvas-middle-middle .corner.corner-bottom-left {\n  bottom: -13px;\n  left: -13px;\n  transform: rotate(270deg);\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-middle .canvas-middle-bottom {\n  flex: 1;\n}\n.mx-barcode-scanner .mx-barcode-scanner-content .video-canvas .canvas-right {\n  flex: 1;\n}\n\n.mx-dataview-content,\n.mx-scrollcontainer-wrapper:not(.mx-scrollcontainer-nested) {\n  -webkit-overflow-scrolling: auto !important;\n}");

function getErrorMessage(errorEnum) {
    switch (errorEnum) {
        case "ERROR_NOT_FOUND":
            return "Error in barcode scanner: no camera media devices were found.";
        case "ERROR_MEDIA_STREAM":
            return "Error in barcode scanner: an unexpected error occurred while retrieving the camera media stream.";
        case "ERROR_CODE_SCANNER":
            return "Error in barcode scanner: an unexpected error occurred while detecting a barcode in the camera media stream.";
        case "ERROR_NOT_ALLOWED":
        default:
            return null;
    }
}
function BarcodeScannerOverlay({ children, class: className, showMask, ...dimensions }) {
    return (createElement("div", { className: classNames("mx-barcode-scanner", className), style: getDimensions(dimensions) },
        createElement("div", { className: classNames("mx-barcode-scanner-content") },
            children,
            showMask ? (createElement("div", { className: classNames("video-canvas") },
                createElement("div", { className: classNames("canvas-left", "canvas-background") }),
                createElement("div", { className: classNames("canvas-middle") },
                    createElement("div", { className: classNames("canvas-middle-top", "canvas-background") }),
                    createElement("div", { className: classNames("canvas-middle-middle") },
                        createElement("div", { className: classNames("corner", "corner-top-left") }),
                        createElement("div", { className: classNames("corner", "corner-top-right") }),
                        createElement("div", { className: classNames("corner", "corner-bottom-right") }),
                        createElement("div", { className: classNames("corner", "corner-bottom-left") })),
                    createElement("div", { className: classNames("canvas-middle-bottom", "canvas-background") })),
                createElement("div", { className: classNames("canvas-right", "canvas-background") }))) : null)));
}
function BarcodeScanner$1({ onDetect, showMask, class: className, ...dimensions }) {
    const videoElement = useRef(null);
    const { streamObject, error: errorMediaStream } = useMediaStream();
    const { codeResult, error: errorCodeScanner } = useCodeScanner(streamObject, videoElement.current);
    const supportsCameraAccess = browserSupportsCameraAccess();
    // If both the video element ref and the camera stream object are ready, display it through the `srcObject` prop.
    useEffect(() => {
        if (videoElement.current && streamObject) {
            videoElement.current.srcObject = streamObject;
        }
    }, [streamObject]);
    // If we have an onDetect handler and a barcode has been scanned and it was the first detected code, trigger the onDetect handler.
    useEffect(() => {
        if (codeResult) {
            onDetect(codeResult);
        }
    }, [codeResult]);
    if (!supportsCameraAccess) {
        // Mendix ensures that Mendix apps are only run in the supported browsers and all of them
        // support the `navigator.mediaDevices.getUserMedia` API. So no additional error handling
        // needs to be done, but just in case we soft catch it.
        return (createElement(Alert, { bootstrapStyle: "danger" }, "The barcode scanner widget is only compatible with certain browsers and requires a secure HTTPS connection in certain browsers. If you encounter this error message as an user, please contact your system administrator. If you are a Mendix developer, please refer to the appropriate docs on how to resolve this issue."));
    }
    if ((errorMediaStream && errorMediaStream !== "ERROR_NOT_ALLOWED") || errorCodeScanner) {
        const errorMessage = getErrorMessage(errorMediaStream || errorCodeScanner);
        if (errorMessage) {
            return createElement(Alert, { bootstrapStyle: "danger" }, errorMessage);
        }
    }
    useWhyDidYouUpdate('lwg', { codeResult, onDetect });
    return (createElement(BarcodeScannerOverlay, { class: className, showMask: showMask, ...dimensions },
        createElement("video", { className: classNames("video"), ref: videoElement, onCanPlay: event => {
                if (event.currentTarget.paused) {
                    event.currentTarget.play();
                }
            } })));
}

const BarcodeScanner = props => {
    const onDetect = useCallback((data) => {
        var _a;
        if (((_a = props.datasource) === null || _a === void 0 ? void 0 : _a.status) !== "available" /* Available */) {
            return;
        }
        if (data !== props.datasource.value) {
            props.datasource.setValue(data);
        }
        executeAction(props.onDetect);
    }, [props.onDetect, props.datasource]);
    return (createElement(BarcodeScanner$1, { onDetect: onDetect, showMask: props.showMask, class: props.class, heightUnit: props.heightUnit, height: props.height, widthUnit: props.widthUnit, width: props.width }));
};

export { BarcodeScanner };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFyY29kZVNjYW5uZXIubWpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi90b29scy9waXctdXRpbHMtaW50ZXJuYWwvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi90b29scy9waXctdXRpbHMtaW50ZXJuYWwvZGlzdC9jb21wb25lbnRzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdG9vbHMvcGl3LXV0aWxzLWludGVybmFsL2Rpc3QvZnVuY3Rpb25zLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vdG9vbHMvcGl3LXV0aWxzLWludGVybmFsL2Rpc3QvYnVpbGRlcnMvRWRpdGFibGVWYWx1ZUJ1aWxkZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi90b29scy9waXctdXRpbHMtaW50ZXJuYWwvZGlzdC91dGlscy9TdHlsaW5nUHJvcGVydHlVdGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RzLWN1c3RvbS1lcnJvci9kaXN0L2N1c3RvbS1lcnJvci5tanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvRXhjZXB0aW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL0FyZ3VtZW50RXhjZXB0aW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9CaW5hcnlCaXRtYXAuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvQ2hlY2tzdW1FeGNlcHRpb24uanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvQmluYXJpemVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3V0aWwvU3lzdGVtLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3V0aWwvQXJyYXlzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3V0aWwvSW50ZWdlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vQml0QXJyYXkuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvRGVjb2RlSGludFR5cGUuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvRm9ybWF0RXhjZXB0aW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2NvbW1vbi9DaGFyYWN0ZXJTZXRFQ0kuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24uanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvdXRpbC9TdHJpbmdFbmNvZGluZy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vU3RyaW5nVXRpbHMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvdXRpbC9TdHJpbmdCdWlsZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2NvbW1vbi9CaXRNYXRyaXguanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvTm90Rm91bmRFeGNlcHRpb24uanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvY29tbW9uL0dsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vSHlicmlkQmluYXJpemVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL0x1bWluYW5jZVNvdXJjZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9JbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vYnJvd3Nlci9IVE1MQ2FudmFzRWxlbWVudEx1bWluYW5jZVNvdXJjZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vYnJvd3Nlci9WaWRlb0lucHV0RGV2aWNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9icm93c2VyL0Jyb3dzZXJDb2RlUmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL1Jlc3VsdC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9CYXJjb2RlRm9ybWF0LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL1Jlc3VsdE1ldGFkYXRhVHlwZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vRGVjb2RlclJlc3VsdC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vcmVlZHNvbG9tb24vQWJzdHJhY3RHZW5lcmljR0YuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvY29tbW9uL3JlZWRzb2xvbW9uL0dlbmVyaWNHRlBvbHkuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvQXJpdGhtZXRpY0V4Y2VwdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vcmVlZHNvbG9tb24vR2VuZXJpY0dGLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL1JlZWRTb2xvbW9uRXhjZXB0aW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vcmVlZHNvbG9tb24vUmVlZFNvbG9tb25EZWNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2F6dGVjL2RlY29kZXIvRGVjb2Rlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vZGV0ZWN0b3IvTWF0aFV0aWxzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3V0aWwvRmxvYXQuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvUmVzdWx0UG9pbnQuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvY29tbW9uL0RldGVjdG9yUmVzdWx0LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2F6dGVjL0F6dGVjRGV0ZWN0b3JSZXN1bHQuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvY29tbW9uL2RldGVjdG9yL1doaXRlUmVjdGFuZ2xlRGV0ZWN0b3IuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvY29tbW9uL0dyaWRTYW1wbGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2NvbW1vbi9QZXJzcGVjdGl2ZVRyYW5zZm9ybS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vRGVmYXVsdEdyaWRTYW1wbGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2NvbW1vbi9HcmlkU2FtcGxlckluc3RhbmNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2F6dGVjL2RldGVjdG9yL0RldGVjdG9yLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2F6dGVjL0F6dGVjUmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9icm93c2VyL0Jyb3dzZXJBenRlY0NvZGVSZWFkZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9PbmVEUmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvQ29kZTEyOFJlYWRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL0NvZGUzOVJlYWRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL0lURlJlYWRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL0Fic3RyYWN0VVBDRUFOUmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvVVBDRUFORXh0ZW5zaW9uNVN1cHBvcnQuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9VUENFQU5FeHRlbnNpb24yU3VwcG9ydC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL1VQQ0VBTkV4dGVuc2lvblN1cHBvcnQuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9VUENFQU5SZWFkZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9FQU4xM1JlYWRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL0VBTjhSZWFkZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9VUENBUmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvVVBDRVJlYWRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL011bHRpRm9ybWF0VVBDRUFOUmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvcnNzL0Fic3RyYWN0UlNTUmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvcnNzL0RhdGFDaGFyYWN0ZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvRmluZGVyUGF0dGVybi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9SU1NVdGlscy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9CaXRBcnJheUJ1aWxkZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvZXhwYW5kZWQvZGVjb2RlcnMvQmxvY2tQYXJzZWRSZXN1bHQuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvZXhwYW5kZWQvZGVjb2RlcnMvRGVjb2RlZE9iamVjdC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9kZWNvZGVycy9EZWNvZGVkQ2hhci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9kZWNvZGVycy9EZWNvZGVkSW5mb3JtYXRpb24uanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvZXhwYW5kZWQvZGVjb2RlcnMvRGVjb2RlZE51bWVyaWMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvZXhwYW5kZWQvZGVjb2RlcnMvRmllbGRQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvZXhwYW5kZWQvZGVjb2RlcnMvR2VuZXJhbEFwcElkRGVjb2Rlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9kZWNvZGVycy9BYnN0cmFjdEV4cGFuZGVkRGVjb2Rlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9kZWNvZGVycy9BSTAxZGVjb2Rlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9kZWNvZGVycy9BSTAxQW5kT3RoZXJBSXMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvZXhwYW5kZWQvZGVjb2RlcnMvQW55QUlEZWNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvcnNzL2V4cGFuZGVkL2RlY29kZXJzL0FJMDF3ZWlnaHREZWNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvcnNzL2V4cGFuZGVkL2RlY29kZXJzL0FJMDEzeDB4RGVjb2Rlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9kZWNvZGVycy9BSTAxMzEwM2RlY29kZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvZXhwYW5kZWQvZGVjb2RlcnMvQUkwMTMyMHhEZWNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvcnNzL2V4cGFuZGVkL2RlY29kZXJzL0FJMDEzOTJ4RGVjb2Rlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9kZWNvZGVycy9BSTAxMzkzeERlY29kZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvZXhwYW5kZWQvZGVjb2RlcnMvQUkwMTN4MHgxeERlY29kZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvb25lZC9yc3MvZXhwYW5kZWQvZGVjb2RlcnMvQWJzdHJhY3RFeHBhbmRlZERlY29kZXJDb21wbGVtZW50LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvcnNzL2V4cGFuZGVkL0V4cGFuZGVkUGFpci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9FeHBhbmRlZFJvdy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9leHBhbmRlZC9SU1NFeHBhbmRlZFJlYWRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9vbmVkL3Jzcy9QYWlyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvcnNzL1JTUzE0UmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL29uZWQvTXVsdGlGb3JtYXRPbmVEUmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9icm93c2VyL0Jyb3dzZXJCYXJjb2RlUmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2RhdGFtYXRyaXgvZGVjb2Rlci9WZXJzaW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2RhdGFtYXRyaXgvZGVjb2Rlci9CaXRNYXRyaXhQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvZGF0YW1hdHJpeC9kZWNvZGVyL0RhdGFCbG9jay5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9jb21tb24vQml0U291cmNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2RhdGFtYXRyaXgvZGVjb2Rlci9EZWNvZGVkQml0U3RyZWFtUGFyc2VyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2RhdGFtYXRyaXgvZGVjb2Rlci9EZWNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2RhdGFtYXRyaXgvZGV0ZWN0b3IvRGV0ZWN0b3IuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvZGF0YW1hdHJpeC9EYXRhTWF0cml4UmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9icm93c2VyL0Jyb3dzZXJEYXRhbWF0cml4Q29kZVJlYWRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGVjb2Rlci9FcnJvckNvcnJlY3Rpb25MZXZlbC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGVjb2Rlci9Gb3JtYXRJbmZvcm1hdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGVjb2Rlci9FQ0Jsb2Nrcy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGVjb2Rlci9FQ0IuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcXJjb2RlL2RlY29kZXIvVmVyc2lvbi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGVjb2Rlci9EYXRhTWFzay5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGVjb2Rlci9CaXRNYXRyaXhQYXJzZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcXJjb2RlL2RlY29kZXIvRGF0YUJsb2NrLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3FyY29kZS9kZWNvZGVyL01vZGUuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcXJjb2RlL2RlY29kZXIvRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGVjb2Rlci9RUkNvZGVEZWNvZGVyTWV0YURhdGEuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcXJjb2RlL2RlY29kZXIvRGVjb2Rlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGV0ZWN0b3IvQWxpZ25tZW50UGF0dGVybi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGV0ZWN0b3IvQWxpZ25tZW50UGF0dGVybkZpbmRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGV0ZWN0b3IvRmluZGVyUGF0dGVybi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZGV0ZWN0b3IvRmluZGVyUGF0dGVybkluZm8uanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcXJjb2RlL2RldGVjdG9yL0ZpbmRlclBhdHRlcm5GaW5kZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcXJjb2RlL2RldGVjdG9yL0RldGVjdG9yLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3FyY29kZS9RUkNvZGVSZWFkZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcGRmNDE3L1BERjQxN0NvbW1vbi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9wZGY0MTcvZGV0ZWN0b3IvUERGNDE3RGV0ZWN0b3JSZXN1bHQuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcGRmNDE3L2RldGVjdG9yL0RldGVjdG9yLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3BkZjQxNy9kZWNvZGVyL2VjL01vZHVsdXNQb2x5LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3BkZjQxNy9kZWNvZGVyL2VjL01vZHVsdXNCYXNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3BkZjQxNy9kZWNvZGVyL2VjL01vZHVsdXNHRi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9wZGY0MTcvZGVjb2Rlci9lYy9FcnJvckNvcnJlY3Rpb24uanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcGRmNDE3L2RlY29kZXIvQm91bmRpbmdCb3guanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcGRmNDE3L2RlY29kZXIvQmFyY29kZU1ldGFkYXRhLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3V0aWwvRm9ybWF0dGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3BkZjQxNy9kZWNvZGVyL0RldGVjdGlvblJlc3VsdENvbHVtbi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9wZGY0MTcvZGVjb2Rlci9CYXJjb2RlVmFsdWUuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcGRmNDE3L2RlY29kZXIvRGV0ZWN0aW9uUmVzdWx0Um93SW5kaWNhdG9yQ29sdW1uLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3BkZjQxNy9kZWNvZGVyL0RldGVjdGlvblJlc3VsdC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9wZGY0MTcvZGVjb2Rlci9Db2Rld29yZC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9wZGY0MTcvZGVjb2Rlci9QREY0MTdDb2Rld29yZERlY29kZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcGRmNDE3L1BERjQxN1Jlc3VsdE1ldGFkYXRhLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3V0aWwvTG9uZy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9OdWxsUG9pbnRlckV4Y2VwdGlvbi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS91dGlsL091dHB1dFN0cmVhbS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9PdXRPZk1lbW9yeUVycm9yLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3V0aWwvQnl0ZUFycmF5T3V0cHV0U3RyZWFtLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3BkZjQxNy9kZWNvZGVyL0RlY29kZWRCaXRTdHJlYW1QYXJzZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcGRmNDE3L2RlY29kZXIvUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3BkZjQxNy9QREY0MTdSZWFkZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvUmVhZGVyRXhjZXB0aW9uLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL011bHRpRm9ybWF0UmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9icm93c2VyL0Jyb3dzZXJNdWx0aUZvcm1hdFJlYWRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vYnJvd3Nlci9Ccm93c2VyUERGNDE3UmVhZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9icm93c2VyL0Jyb3dzZXJRUkNvZGVSZWFkZXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvRW5jb2RlSGludFR5cGUuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvY29tbW9uL3JlZWRzb2xvbW9uL1JlZWRTb2xvbW9uRW5jb2Rlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZW5jb2Rlci9NYXNrVXRpbC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZW5jb2Rlci9CeXRlTWF0cml4LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3FyY29kZS9lbmNvZGVyL1FSQ29kZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9Xcml0ZXJFeGNlcHRpb24uanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcXJjb2RlL2VuY29kZXIvTWF0cml4VXRpbC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9xcmNvZGUvZW5jb2Rlci9CbG9ja1BhaXIuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvcXJjb2RlL2VuY29kZXIvRW5jb2Rlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9QbGFuYXJZVVZMdW1pbmFuY2VTb3VyY2UuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvUkdCTHVtaW5hbmNlU291cmNlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL3V0aWwvQ2hhcnNldC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9henRlYy9lbmNvZGVyL1Rva2VuLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2F6dGVjL2VuY29kZXIvU2ltcGxlVG9rZW4uanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvYXp0ZWMvZW5jb2Rlci9CaW5hcnlTaGlmdFRva2VuLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B6eGluZy9saWJyYXJ5L2VzbS9jb3JlL2F6dGVjL2VuY29kZXIvRW5jb2RlckNvbnN0YW50cy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9henRlYy9lbmNvZGVyL1NoaWZ0VGFibGUuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvYXp0ZWMvZW5jb2Rlci9TdGF0ZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AenhpbmcvbGlicmFyeS9lc20vY29yZS9henRlYy9lbmNvZGVyL0NoYXJNYXAuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHp4aW5nL2xpYnJhcnkvZXNtL2NvcmUvYXp0ZWMvZW5jb2Rlci9IaWdoTGV2ZWxFbmNvZGVyLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xvZGFzaC5kZWJvdW5jZS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gudGhyb3R0bGUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFob29rc2pzL3VzZS1yZXF1ZXN0L2VzL3V0aWxzL3V0aWxzLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhaG9va3Nqcy91c2UtcmVxdWVzdC9lcy91dGlscy9saW1pdC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWhvb2tzanMvdXNlLXJlcXVlc3QvZXMvdXRpbHMvdXNlUGVyc2lzdEZuLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhaG9va3Nqcy91c2UtcmVxdWVzdC9lcy91dGlscy93aW5kb3dGb2N1cy5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWhvb2tzanMvdXNlLXJlcXVlc3QvZXMvdXRpbHMvd2luZG93VmlzaWJsZS5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWhvb2tzanMvdXNlLXJlcXVlc3QvZXMvdXNlQXN5bmMuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFob29rc2pzL3VzZS1yZXF1ZXN0L2VzL3VzZUxvYWRNb3JlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BhaG9va3Nqcy91c2UtcmVxdWVzdC9lcy91c2VQYWdpbmF0ZWQuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFob29rc2pzL3VzZS1yZXF1ZXN0L2VzL2NvbmZpZ0NvbnRleHQuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFob29rc2pzL3VzZS1yZXF1ZXN0L2VzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fob29rcy9lcy91c2VJbnRlcnZhbC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9haG9va3MvZXMvdXNlV2h5RGlkWW91VXBkYXRlL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fob29rcy9lcy9pbmRleC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9ob29rcy91c2VDb2RlU2Nhbm5lci50c3giLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvaG9va3MvdXNlTWVkaWFTdHJlYW0udHN4IiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQmFyY29kZVNjYW5uZXIudHN4IiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vc3JjL0JhcmNvZGVTY2FubmVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE4IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcygpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0aWYgKGFyZy5sZW5ndGgpIHtcblx0XHRcdFx0XHR2YXIgaW5uZXIgPSBjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZyk7XG5cdFx0XHRcdFx0aWYgKGlubmVyKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goaW5uZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRpZiAoYXJnLnRvU3RyaW5nID09PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZy50b1N0cmluZygpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdGNsYXNzTmFtZXMuZGVmYXVsdCA9IGNsYXNzTmFtZXM7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCB7IENoaWxkcmVuLCBjcmVhdGVFbGVtZW50IH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XHJcbmV4cG9ydCBjb25zdCBBbGVydCA9ICh7IGNsYXNzTmFtZSwgYm9vdHN0cmFwU3R5bGUsIGNoaWxkcmVuIH0pID0+IENoaWxkcmVuLmNvdW50KGNoaWxkcmVuKSA+IDAgPyAoY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcyhgYWxlcnQgYWxlcnQtJHtib290c3RyYXBTdHlsZX1gLCBjbGFzc05hbWUpIH0sIGNoaWxkcmVuKSkgOiBudWxsO1xyXG5BbGVydC5kaXNwbGF5TmFtZSA9IFwiQWxlcnRcIjtcclxuZXhwb3J0IGNvbnN0IEljb24gPSAoeyBpY29uLCBjbGFzc05hbWUgPSBcIlwiLCBmYWxsYmFjayB9KSA9PiB7XHJcbiAgICBpZiAoKGljb24gPT09IG51bGwgfHwgaWNvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWNvbi50eXBlKSA9PT0gXCJnbHlwaFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwiZ2x5cGhpY29uXCIsIGNsYXNzTmFtZSwgaWNvbi5pY29uQ2xhc3MpLCBcImFyaWEtaGlkZGVuXCI6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoKGljb24gPT09IG51bGwgfHwgaWNvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogaWNvbi50eXBlKSA9PT0gXCJpbWFnZVwiKSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3JjOiBpY29uLmljb25VcmwsIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSwgYWx0OiBcIlwiIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbGxiYWNrIHx8IG51bGw7XHJcbn07XHJcbkljb24uZGlzcGxheU5hbWUgPSBcIkljb25cIjtcclxuIiwiZXhwb3J0IGNvbnN0IGV4ZWN1dGVBY3Rpb24gPSAoYWN0aW9uKSA9PiB7XHJcbiAgICBpZiAoYWN0aW9uICYmIGFjdGlvbi5jYW5FeGVjdXRlICYmICFhY3Rpb24uaXNFeGVjdXRpbmcpIHtcclxuICAgICAgICBhY3Rpb24uZXhlY3V0ZSgpO1xyXG4gICAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgaXNBdmFpbGFibGUgPSAocHJvcGVydHkpID0+IHtcclxuICAgIHJldHVybiBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5zdGF0dXMgPT09IFwiYXZhaWxhYmxlXCIgLyogQXZhaWxhYmxlICovICYmIHByb3BlcnR5LnZhbHVlO1xyXG59O1xyXG5leHBvcnQgY29uc3QgcGFyc2VTdHlsZSA9IChzdHlsZSA9IFwiXCIpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIHN0eWxlLnNwbGl0KFwiO1wiKS5yZWR1Y2UoKHN0eWxlT2JqZWN0LCBsaW5lKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhaXIgPSBsaW5lLnNwbGl0KFwiOlwiKTtcclxuICAgICAgICAgICAgaWYgKHBhaXIubGVuZ3RoID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gcGFpclswXS50cmltKCkucmVwbGFjZSgvKC0uKS9nLCBtYXRjaCA9PiBtYXRjaFsxXS50b1VwcGVyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0W25hbWVdID0gcGFpclsxXS50cmltKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0eWxlT2JqZWN0O1xyXG4gICAgICAgIH0sIHt9KTtcclxuICAgIH1cclxuICAgIGNhdGNoIChfKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG59O1xyXG5leHBvcnQgY29uc3QgZGVib3VuY2UgPSAoZnVuYywgd2FpdEZvcikgPT4ge1xyXG4gICAgbGV0IHRpbWVvdXQgPSBudWxsO1xyXG4gICAgY29uc3QgZGVib3VuY2VkID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICBpZiAodGltZW91dCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBmdW5jKC4uLmFyZ3MpLCB3YWl0Rm9yKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZGVib3VuY2VkO1xyXG59O1xyXG4iLCJleHBvcnQgdmFyIEZvcm1hdHRlclR5cGU7XHJcbihmdW5jdGlvbiAoRm9ybWF0dGVyVHlwZSkge1xyXG4gICAgRm9ybWF0dGVyVHlwZVtcIk51bWJlclwiXSA9IFwibnVtYmVyXCI7XHJcbiAgICBGb3JtYXR0ZXJUeXBlW1wiRGF0ZVRpbWVcIl0gPSBcImRhdGV0aW1lXCI7XHJcbn0pKEZvcm1hdHRlclR5cGUgfHwgKEZvcm1hdHRlclR5cGUgPSB7fSkpO1xyXG5leHBvcnQgY2xhc3MgRWRpdGFibGVWYWx1ZUJ1aWxkZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5lZGl0YWJsZVZhbHVlID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBkaXNwbGF5VmFsdWU6IFwiXCIsXHJcbiAgICAgICAgICAgIHN0YXR1czogXCJhdmFpbGFibGVcIiAvKiBBdmFpbGFibGUgKi8sXHJcbiAgICAgICAgICAgIHZhbGlkYXRpb246IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxyXG4gICAgICAgICAgICBmb3JtYXR0ZXI6IHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdDogamVzdC5mbihuYW1lID0+IGBGb3JtYXR0ZWQgJHtuYW1lfWApLFxyXG4gICAgICAgICAgICAgICAgcGFyc2U6IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgICAgIHdpdGhDb25maWc6IGplc3QuZm4oKCkgPT4gbmV3IEVkaXRhYmxlVmFsdWVCdWlsZGVyKCkuYnVpbGQoKS5mb3JtYXR0ZXIpLFxyXG4gICAgICAgICAgICAgICAgZ2V0Rm9ybWF0UGxhY2Vob2xkZXI6IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IEZvcm1hdHRlclR5cGUuRGF0ZVRpbWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWc6IHt9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldFZhbGlkYXRvcjogamVzdC5mbigpLFxyXG4gICAgICAgICAgICBzZXRWYWx1ZTogamVzdC5mbigodmFsdWUpID0+IHRoaXMud2l0aFZhbHVlKHZhbHVlKSksXHJcbiAgICAgICAgICAgIHNldFRleHRWYWx1ZTogamVzdC5mbigpLFxyXG4gICAgICAgICAgICBzZXRGb3JtYXR0ZXI6IGplc3QuZm4oKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICB3aXRoVmFsdWUodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmVkaXRhYmxlVmFsdWUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLmVkaXRhYmxlVmFsdWUuZGlzcGxheVZhbHVlID0gdGhpcy5lZGl0YWJsZVZhbHVlLmZvcm1hdHRlci5mb3JtYXQodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgd2l0aEZvcm1hdHRlcihmb3JtYXR0ZXIpIHtcclxuICAgICAgICB0aGlzLmVkaXRhYmxlVmFsdWUuZm9ybWF0dGVyID0gZm9ybWF0dGVyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgaXNSZWFkT25seSgpIHtcclxuICAgICAgICB0aGlzLmVkaXRhYmxlVmFsdWUucmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgaXNMb2FkaW5nKCkge1xyXG4gICAgICAgIHRoaXMuZWRpdGFibGVWYWx1ZS5zdGF0dXMgPSBcImxvYWRpbmdcIiAvKiBMb2FkaW5nICovO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmlzUmVhZE9ubHkoKTtcclxuICAgIH1cclxuICAgIGlzVW5hdmFpbGFibGUoKSB7XHJcbiAgICAgICAgdGhpcy5lZGl0YWJsZVZhbHVlLnN0YXR1cyA9IFwidW5hdmFpbGFibGVcIiAvKiBVbmF2YWlsYWJsZSAqLztcclxuICAgICAgICByZXR1cm4gdGhpcy5pc1JlYWRPbmx5KCk7XHJcbiAgICB9XHJcbiAgICB3aXRoVmFsaWRhdGlvbih2YWxpZGF0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5lZGl0YWJsZVZhbHVlLnZhbGlkYXRpb24gPSB2YWxpZGF0aW9uO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgd2l0aFVuaXZlcnNlKC4uLnZhbHVlcykge1xyXG4gICAgICAgIHRoaXMuZWRpdGFibGVWYWx1ZS51bml2ZXJzZSA9IHZhbHVlcztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIGJ1aWxkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRhYmxlVmFsdWU7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldERpbWVuc2lvbnMocHJvcHMpIHtcclxuICAgIGNvbnN0IHN0eWxlID0ge1xyXG4gICAgICAgIHdpZHRoOiBwcm9wcy53aWR0aFVuaXQgPT09IFwicGVyY2VudGFnZVwiID8gYCR7cHJvcHMud2lkdGh9JWAgOiBgJHtwcm9wcy53aWR0aH1weGBcclxuICAgIH07XHJcbiAgICBpZiAocHJvcHMuaGVpZ2h0VW5pdCA9PT0gXCJwZXJjZW50YWdlT2ZXaWR0aFwiKSB7XHJcbiAgICAgICAgY29uc3QgcmF0aW8gPSAocHJvcHMuaGVpZ2h0IC8gMTAwKSAqIHByb3BzLndpZHRoO1xyXG4gICAgICAgIGlmIChwcm9wcy53aWR0aFVuaXQgPT09IFwicGVyY2VudGFnZVwiKSB7XHJcbiAgICAgICAgICAgIHN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xyXG4gICAgICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gYCR7cmF0aW99JWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBgJHtyYXRpb31weGA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvcHMuaGVpZ2h0VW5pdCA9PT0gXCJwaXhlbHNcIikge1xyXG4gICAgICAgIHN0eWxlLmhlaWdodCA9IGAke3Byb3BzLmhlaWdodH1weGA7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9wcy5oZWlnaHRVbml0ID09PSBcInBlcmNlbnRhZ2VPZlBhcmVudFwiKSB7XHJcbiAgICAgICAgc3R5bGUuaGVpZ2h0ID0gYCR7cHJvcHMuaGVpZ2h0fSVgO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0eWxlO1xyXG59XHJcbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTggSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRpZiAoYXJnLmxlbmd0aCkge1xuXHRcdFx0XHRcdHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTtcblx0XHRcdFx0XHRpZiAoaW5uZXIpIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChpbm5lcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGlmIChhcmcudG9TdHJpbmcgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcblx0XHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnLnRvU3RyaW5nKCkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiZnVuY3Rpb24gZml4UHJvdG8odGFyZ2V0LCBwcm90b3R5cGUpIHtcbiAgdmFyIHNldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mO1xuICBzZXRQcm90b3R5cGVPZiA/IHNldFByb3RvdHlwZU9mKHRhcmdldCwgcHJvdG90eXBlKSA6IHRhcmdldC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG59XG5mdW5jdGlvbiBmaXhTdGFjayh0YXJnZXQsIGZuKSB7XG4gIGlmIChmbiA9PT0gdm9pZCAwKSB7XG4gICAgZm4gPSB0YXJnZXQuY29uc3RydWN0b3I7XG4gIH1cblxuICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTtcbiAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7XG59XG5cbnZhciBfX2V4dGVuZHMgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZXh0ZW5kcyB8fCBmdW5jdGlvbiAoKSB7XG4gIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHtcbiAgICAgIF9fcHJvdG9fXzogW11cbiAgICB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICB9IHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICBmb3IgKHZhciBwIGluIGIpIHsgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHsgZFtwXSA9IGJbcF07IH0gfVxuICAgIH07XG5cbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuXG4gICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICB9XG5cbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gIH07XG59KCk7XG5cbnZhciBDdXN0b21FcnJvciA9IGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKEN1c3RvbUVycm9yLCBfc3VwZXIpO1xuXG4gIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHtcbiAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7XG5cbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCAnbmFtZScsIHtcbiAgICAgIHZhbHVlOiBfbmV3VGFyZ2V0Lm5hbWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGZpeFByb3RvKF90aGlzLCBfbmV3VGFyZ2V0LnByb3RvdHlwZSk7XG4gICAgZml4U3RhY2soX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHJldHVybiBDdXN0b21FcnJvcjtcbn0oRXJyb3IpO1xuXG52YXIgX19zcHJlYWRBcnJheXMgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fc3ByZWFkQXJyYXlzIHx8IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgeyBzICs9IGFyZ3VtZW50cyQxW2ldLmxlbmd0aDsgfVxuXG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKykgeyBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKykgeyByW2tdID0gYVtqXTsgfSB9XG5cbiAgcmV0dXJuIHI7XG59O1xuZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7XG4gICAgcGFyZW50ID0gRXJyb3I7XG4gIH1cblxuICBmdW5jdGlvbiBDdXN0b21FcnJvcigpIHtcbiAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgIH1cblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDdXN0b21FcnJvcikpIHsgcmV0dXJuIG5ldyAoQ3VzdG9tRXJyb3IuYmluZC5hcHBseShDdXN0b21FcnJvciwgX19zcHJlYWRBcnJheXMoW3ZvaWQgMF0sIGFyZ3MpKSkoKTsgfVxuICAgIHBhcmVudC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ25hbWUnLCB7XG4gICAgICB2YWx1ZTogZm4ubmFtZSB8fCBwYXJlbnQubmFtZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgZml4U3RhY2sodGhpcywgQ3VzdG9tRXJyb3IpO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEN1c3RvbUVycm9yLCB7XG4gICAgcHJvdG90eXBlOiB7XG4gICAgICB2YWx1ZTogT2JqZWN0LmNyZWF0ZShwYXJlbnQucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IEN1c3RvbUVycm9yLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCB7IEN1c3RvbUVycm9yLCBjdXN0b21FcnJvckZhY3RvcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWN1c3RvbS1lcnJvci5tanMubWFwXG4iLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEN1c3RvbUVycm9yIH0gZnJvbSAndHMtY3VzdG9tLWVycm9yJztcbi8qKlxuICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLlxuICovXG52YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQWxsb3dzIEV4Y2VwdGlvbiB0byBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseVxuICAgICAqIHdpdGggc29tZSBtZXNzYWdlIGFuZCBwcm90b3R5cGUgZGVmaW5pdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFeGNlcHRpb24obWVzc2FnZSkge1xuICAgICAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKSB7IG1lc3NhZ2UgPSB1bmRlZmluZWQ7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRXhjZXB0aW9uLnByb3RvdHlwZS5nZXRLaW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXggPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gZXgua2luZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEl0J3MgdHlwZWQgYXMgc3RyaW5nIHNvIGl0IGNhbiBiZSBleHRlbmRlZCBhbmQgb3ZlcnJpZGVuLlxuICAgICAqL1xuICAgIEV4Y2VwdGlvbi5raW5kID0gJ0V4Y2VwdGlvbic7XG4gICAgcmV0dXJuIEV4Y2VwdGlvbjtcbn0oQ3VzdG9tRXJyb3IpKTtcbmV4cG9ydCBkZWZhdWx0IEV4Y2VwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4Y2VwdGlvbi5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi9FeGNlcHRpb24nO1xuLyoqXG4gKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uXG4gKi9cbnZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXJndW1lbnRFeGNlcHRpb24oKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQXJndW1lbnRFeGNlcHRpb24ua2luZCA9ICdBcmd1bWVudEV4Y2VwdGlvbic7XG4gICAgcmV0dXJuIEFyZ3VtZW50RXhjZXB0aW9uO1xufShFeGNlcHRpb24pKTtcbmV4cG9ydCBkZWZhdWx0IEFyZ3VtZW50RXhjZXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJndW1lbnRFeGNlcHRpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vRXhjZXB0aW9uJztcbi8qKlxuICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLlxuICovXG52YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG4gICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjtcbn0oRXhjZXB0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24uanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4vSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJztcbnZhciBCaW5hcnlCaXRtYXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmluYXJ5Qml0bWFwKGJpbmFyaXplcikge1xuICAgICAgICB0aGlzLmJpbmFyaXplciA9IGJpbmFyaXplcjtcbiAgICAgICAgaWYgKGJpbmFyaXplciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignQmluYXJpemVyIG11c3QgYmUgbm9uLW51bGwuJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiBUaGUgd2lkdGggb2YgdGhlIGJpdG1hcC5cbiAgICAgKi9cbiAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0V2lkdGgoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gVGhlIGhlaWdodCBvZiB0aGUgYml0bWFwLlxuICAgICAqL1xuICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0SGVpZ2h0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBvbmUgcm93IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuIE1heSBhY3R1YWxseSBkbyB0aGUgY29udmVyc2lvbiwgb3IgcmV0dXJuXG4gICAgICogY2FjaGVkIGRhdGEuIENhbGxlcnMgc2hvdWxkIGFzc3VtZSB0aGlzIG1ldGhvZCBpcyBleHBlbnNpdmUgYW5kIGNhbGwgaXQgYXMgc2VsZG9tIGFzIHBvc3NpYmxlLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBkZWNvZGluZyAxRCBiYXJjb2RlcyBhbmQgbWF5IGNob29zZSB0byBhcHBseSBzaGFycGVuaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byBmZXRjaCwgd2hpY2ggbXVzdCBiZSBpbiBbMCwgYml0bWFwIGhlaWdodClcbiAgICAgKiBAcGFyYW0gcm93IEFuIG9wdGlvbmFsIHByZWFsbG9jYXRlZCBhcnJheS4gSWYgbnVsbCBvciB0b28gc21hbGwsIGl0IHdpbGwgYmUgaWdub3JlZC5cbiAgICAgKiAgICAgICAgICAgIElmIHVzZWQsIHRoZSBCaW5hcml6ZXIgd2lsbCBjYWxsIEJpdEFycmF5LmNsZWFyKCkuIEFsd2F5cyB1c2UgdGhlIHJldHVybmVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIFRoZSBhcnJheSBvZiBiaXRzIGZvciB0aGlzIHJvdyAodHJ1ZSBtZWFucyBibGFjaykuXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiByb3cgY2FuJ3QgYmUgYmluYXJpemVkXG4gICAgICovXG4gICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRCbGFja1JvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tSb3coeSwgcm93KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgMkQgYXJyYXkgb2YgbHVtaW5hbmNlIGRhdGEgdG8gMSBiaXQuIEFzIGFib3ZlLCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlXG4gICAgICogYW5kIGRvIG5vdCBjYWxsIGl0IHJlcGVhdGVkbHkuIFRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBkZWNvZGluZyAyRCBiYXJjb2RlcyBhbmQgbWF5IG9yXG4gICAgICogbWF5IG5vdCBhcHBseSBzaGFycGVuaW5nLiBUaGVyZWZvcmUsIGEgcm93IGZyb20gdGhpcyBtYXRyaXggbWF5IG5vdCBiZSBpZGVudGljYWwgdG8gb25lXG4gICAgICogZmV0Y2hlZCB1c2luZyBnZXRCbGFja1JvdygpLCBzbyBkb24ndCBtaXggYW5kIG1hdGNoIGJldHdlZW4gdGhlbS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gVGhlIDJEIGFycmF5IG9mIGJpdHMgZm9yIHRoZSBpbWFnZSAodHJ1ZSBtZWFucyBibGFjaykuXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBpbWFnZSBjYW4ndCBiZSBiaW5hcml6ZWQgdG8gbWFrZSBhIG1hdHJpeFxuICAgICAqL1xuICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRoZSBtYXRyaXggaXMgY3JlYXRlZCBvbiBkZW1hbmQgdGhlIGZpcnN0IHRpbWUgaXQgaXMgcmVxdWVzdGVkLCB0aGVuIGNhY2hlZC4gVGhlcmUgYXJlIHR3b1xuICAgICAgICAvLyByZWFzb25zIGZvciB0aGlzOlxuICAgICAgICAvLyAxLiBUaGlzIHdvcmsgd2lsbCBuZXZlciBiZSBkb25lIGlmIHRoZSBjYWxsZXIgb25seSBpbnN0YWxscyAxRCBSZWFkZXIgb2JqZWN0cywgb3IgaWYgYVxuICAgICAgICAvLyAgICAxRCBSZWFkZXIgZmluZHMgYSBiYXJjb2RlIGJlZm9yZSB0aGUgMkQgUmVhZGVycyBydW4uXG4gICAgICAgIC8vIDIuIFRoaXMgd29yayB3aWxsIG9ubHkgYmUgZG9uZSBvbmNlIGV2ZW4gaWYgdGhlIGNhbGxlciBpbnN0YWxscyBtdWx0aXBsZSAyRCBSZWFkZXJzLlxuICAgICAgICBpZiAodGhpcy5tYXRyaXggPT09IG51bGwgfHwgdGhpcy5tYXRyaXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5tYXRyaXggPSB0aGlzLmJpbmFyaXplci5nZXRCbGFja01hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBjYW4gYmUgY3JvcHBlZC5cbiAgICAgKi9cbiAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEx1bWluYW5jZVNvdXJjZSgpLmlzQ3JvcFN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCBjcm9wcGVkIGltYWdlIGRhdGEuIEltcGxlbWVudGF0aW9ucyBtYXkga2VlcCBhIHJlZmVyZW5jZSB0byB0aGVcbiAgICAgKiBvcmlnaW5hbCBkYXRhIHJhdGhlciB0aGFuIGEgY29weS4gT25seSBjYWxsYWJsZSBpZiBpc0Nyb3BTdXBwb3J0ZWQoKSBpcyB0cnVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGxlZnQgVGhlIGxlZnQgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRXaWR0aCgpKVxuICAgICAqIEBwYXJhbSB0b3AgVGhlIHRvcCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldEhlaWdodCgpKVxuICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLlxuICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuXG4gICAgICogQHJldHVybiBBIGNyb3BwZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmNyb3AgPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHtcbiAgICAgICAgdmFyIG5ld1NvdXJjZSA9IHRoaXMuYmluYXJpemVyLmdldEx1bWluYW5jZVNvdXJjZSgpLmNyb3AobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5hcnlCaXRtYXAodGhpcy5iaW5hcml6ZXIuY3JlYXRlQmluYXJpemVyKG5ld1NvdXJjZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBXaGV0aGVyIHRoaXMgYml0bWFwIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLlxuICAgICAqL1xuICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc1JvdGF0ZVN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgOTAgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLlxuICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLlxuICAgICAqXG4gICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlKCk7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDQ1IGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS5cbiAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlNDUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlNDUoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5hcnlCaXRtYXAodGhpcy5iaW5hcml6ZXIuY3JlYXRlQmluYXJpemVyKG5ld1NvdXJjZSkpO1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRCbGFja01hdHJpeCgpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUgLyo6IE5vdEZvdW5kRXhjZXB0aW9uKi8pIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEJpbmFyeUJpdG1hcDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBCaW5hcnlCaXRtYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaW5hcnlCaXRtYXAuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vRXhjZXB0aW9uJztcbi8qKlxuICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLlxuICovXG52YXIgQ2hlY2tzdW1FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENoZWNrc3VtRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENoZWNrc3VtRXhjZXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIENoZWNrc3VtRXhjZXB0aW9uLmdldENoZWNrc3VtSW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hlY2tzdW1FeGNlcHRpb24oKTtcbiAgICB9O1xuICAgIENoZWNrc3VtRXhjZXB0aW9uLmtpbmQgPSAnQ2hlY2tzdW1FeGNlcHRpb24nO1xuICAgIHJldHVybiBDaGVja3N1bUV4Y2VwdGlvbjtcbn0oRXhjZXB0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBDaGVja3N1bUV4Y2VwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoZWNrc3VtRXhjZXB0aW9uLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGlzIGNsYXNzIGhpZXJhcmNoeSBwcm92aWRlcyBhIHNldCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgbHVtaW5hbmNlIGRhdGEgdG8gMSBiaXQgZGF0YS5cbiAqIEl0IGFsbG93cyB0aGUgYWxnb3JpdGhtIHRvIHZhcnkgcG9seW1vcnBoaWNhbGx5LCBmb3IgZXhhbXBsZSBhbGxvd2luZyBhIHZlcnkgZXhwZW5zaXZlXG4gKiB0aHJlc2hvbGRpbmcgdGVjaG5pcXVlIGZvciBzZXJ2ZXJzIGFuZCBhIGZhc3Qgb25lIGZvciBtb2JpbGUuIEl0IGFsc28gcGVybWl0cyB0aGUgaW1wbGVtZW50YXRpb25cbiAqIHRvIHZhcnksIGUuZy4gYSBKTkkgdmVyc2lvbiBmb3IgQW5kcm9pZCBhbmQgYSBKYXZhIGZhbGxiYWNrIHZlcnNpb24gZm9yIG90aGVyIHBsYXRmb3Jtcy5cbiAqXG4gKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKVxuICovXG52YXIgQmluYXJpemVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpbmFyaXplcihzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIEJpbmFyaXplci5wcm90b3R5cGUuZ2V0THVtaW5hbmNlU291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XG4gICAgfTtcbiAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2UuZ2V0V2lkdGgoKTtcbiAgICB9O1xuICAgIEJpbmFyaXplci5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2UuZ2V0SGVpZ2h0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gQmluYXJpemVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEJpbmFyaXplcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpbmFyaXplci5qcy5tYXAiLCJ2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHtcbiAgICB9XG4gICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpXG4gICAgLyoqXG4gICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuXG4gICAgICovXG4gICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7XG4gICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0P1xuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuXG4gICAgICovXG4gICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgICB9O1xuICAgIHJldHVybiBTeXN0ZW07XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3lzdGVtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3lzdGVtLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL0V4Y2VwdGlvbic7XG4vKipcbiAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi5cbiAqL1xudmFyIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLmtpbmQgPSAnSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbic7XG4gICAgcmV0dXJuIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247XG59KEV4Y2VwdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiBmcm9tICcuL0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nO1xuLyoqXG4gKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uXG4gKi9cbnZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oaW5kZXgsIG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSB1bmRlZmluZWQ7IH1cbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09IHZvaWQgMCkgeyBtZXNzYWdlID0gdW5kZWZpbmVkOyB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIF90aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0FycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbic7XG4gICAgcmV0dXJuIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjtcbn0oSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLmpzLm1hcCIsInZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbmltcG9ydCBTeXN0ZW0gZnJvbSAnLi9TeXN0ZW0nO1xuaW1wb3J0IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBmcm9tICcuLi9JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24nO1xuaW1wb3J0IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiBmcm9tICcuLi9BcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nO1xudmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBcnJheXMoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXlcbiAgICAgKiBvZiBpbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZFxuICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5XG4gICAgICovXG4gICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICAgICAgYVtpXSA9IHZhbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWRcbiAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkXG4gICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4XG4gICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZVxuICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkXG4gICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmVcbiAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZVxuICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlXG4gICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWVcbiAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheVxuICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fVxuICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvclxuICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH1cbiAgICAgKi9cbiAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkge1xuICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKylcbiAgICAgICAgICAgIGFbaV0gPSB2YWw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpblxuICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC5cbiAgICAgKi9cbiAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oZnJvbUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9JbmRleCA+IGFycmF5TGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKHRvSW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcnJheXMuYXNMaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH07XG4gICAgQXJyYXlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkge1xuICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTtcbiAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IGNvbHMgfSkuZmlsbCh2YWx1ZSk7IH0pO1xuICAgIH07XG4gICAgQXJyYXlzLmNyZWF0ZUludDMyQXJyYXkgPSBmdW5jdGlvbiAocm93cywgY29scywgdmFsdWUpIHtcbiAgICAgICAgdmFyIGFyciA9IEFycmF5LmZyb20oeyBsZW5ndGg6IHJvd3MgfSk7XG4gICAgICAgIHJldHVybiBhcnIubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiBJbnQzMkFycmF5LmZyb20oeyBsZW5ndGg6IGNvbHMgfSkuZmlsbCh2YWx1ZSk7IH0pO1xuICAgIH07XG4gICAgQXJyYXlzLmVxdWFscyA9IGZ1bmN0aW9uIChmaXJzdCwgc2Vjb25kKSB7XG4gICAgICAgIGlmICghZmlyc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlY29uZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZmlyc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWNvbmQubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpcnN0Lmxlbmd0aCAhPT0gc2Vjb25kLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGZpcnN0Lmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmaXJzdFtpXSAhPT0gc2Vjb25kW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgQXJyYXlzLmhhc2hDb2RlID0gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIGlmIChhID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gMTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGFfMSA9IF9fdmFsdWVzKGEpLCBhXzFfMSA9IGFfMS5uZXh0KCk7ICFhXzFfMS5kb25lOyBhXzFfMSA9IGFfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IDMxICogcmVzdWx0ICsgZWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGFfMV8xICYmICFhXzFfMS5kb25lICYmIChfYSA9IGFfMS5yZXR1cm4pKSBfYS5jYWxsKGFfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEFycmF5cy5maWxsVWludDhBcnJheSA9IGZ1bmN0aW9uIChhLCB2YWx1ZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSAhPT0gYS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYVtpXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcnJheXMuY29weU9mID0gZnVuY3Rpb24gKG9yaWdpbmFsLCBuZXdMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7XG4gICAgfTtcbiAgICBBcnJheXMuY29weU9mVWludDhBcnJheSA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7XG4gICAgICAgIGlmIChvcmlnaW5hbC5sZW5ndGggPD0gbmV3TGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbmV3QXJyYXkgPSBuZXcgVWludDhBcnJheShuZXdMZW5ndGgpO1xuICAgICAgICAgICAgbmV3QXJyYXkuc2V0KG9yaWdpbmFsKTtcbiAgICAgICAgICAgIHJldHVybiBuZXdBcnJheTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3JpZ2luYWwuc2xpY2UoMCwgbmV3TGVuZ3RoKTtcbiAgICB9O1xuICAgIEFycmF5cy5jb3B5T2ZSYW5nZSA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgZnJvbSwgdG8pIHtcbiAgICAgICAgdmFyIG5ld0xlbmd0aCA9IHRvIC0gZnJvbTtcbiAgICAgICAgdmFyIGNvcHkgPSBuZXcgSW50MzJBcnJheShuZXdMZW5ndGgpO1xuICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KG9yaWdpbmFsLCBmcm9tLCBjb3B5LCAwLCBuZXdMZW5ndGgpO1xuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9O1xuICAgIC8qXG4gICAgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiBvZiB0aGUgZWxlbWVudCBpbiBhIHNvcnRlZCBhcnJheSBvciAoLW4tMSkgd2hlcmUgbiBpcyB0aGUgaW5zZXJ0aW9uIHBvaW50XG4gICAgKiBmb3IgdGhlIG5ldyBlbGVtZW50LlxuICAgICogUGFyYW1ldGVyczpcbiAgICAqICAgICBhciAtIEEgc29ydGVkIGFycmF5XG4gICAgKiAgICAgZWwgLSBBbiBlbGVtZW50IHRvIHNlYXJjaCBmb3JcbiAgICAqICAgICBjb21wYXJhdG9yIC0gQSBjb21wYXJhdG9yIGZ1bmN0aW9uLiBUaGUgZnVuY3Rpb24gdGFrZXMgdHdvIGFyZ3VtZW50czogKGEsIGIpIGFuZCByZXR1cm5zOlxuICAgICogICAgICAgIGEgbmVnYXRpdmUgbnVtYmVyICBpZiBhIGlzIGxlc3MgdGhhbiBiO1xuICAgICogICAgICAgIDAgaWYgYSBpcyBlcXVhbCB0byBiO1xuICAgICogICAgICAgIGEgcG9zaXRpdmUgbnVtYmVyIG9mIGEgaXMgZ3JlYXRlciB0aGFuIGIuXG4gICAgKiBUaGUgYXJyYXkgbWF5IGNvbnRhaW4gZHVwbGljYXRlIGVsZW1lbnRzLiBJZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBlcXVhbCBlbGVtZW50cyBpbiB0aGUgYXJyYXksXG4gICAgKiB0aGUgcmV0dXJuZWQgdmFsdWUgY2FuIGJlIHRoZSBpbmRleCBvZiBhbnkgb25lIG9mIHRoZSBlcXVhbCBlbGVtZW50cy5cbiAgICAqXG4gICAgKiBodHRwOi8vanNmaWRkbGUubmV0L2FyeXpob3YvcGtmc3Q1NTAvXG4gICAgKi9cbiAgICBBcnJheXMuYmluYXJ5U2VhcmNoID0gZnVuY3Rpb24gKGFyLCBlbCwgY29tcGFyYXRvcikge1xuICAgICAgICBpZiAodW5kZWZpbmVkID09PSBjb21wYXJhdG9yKSB7XG4gICAgICAgICAgICBjb21wYXJhdG9yID0gQXJyYXlzLm51bWJlckNvbXBhcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG0gPSAwO1xuICAgICAgICB2YXIgbiA9IGFyLmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlIChtIDw9IG4pIHtcbiAgICAgICAgICAgIHZhciBrID0gKG4gKyBtKSA+PiAxO1xuICAgICAgICAgICAgdmFyIGNtcCA9IGNvbXBhcmF0b3IoZWwsIGFyW2tdKTtcbiAgICAgICAgICAgIGlmIChjbXAgPiAwKSB7XG4gICAgICAgICAgICAgICAgbSA9IGsgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY21wIDwgMCkge1xuICAgICAgICAgICAgICAgIG4gPSBrIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtbSAtIDE7XG4gICAgfTtcbiAgICBBcnJheXMubnVtYmVyQ29tcGFyYXRvciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhIC0gYjtcbiAgICB9O1xuICAgIHJldHVybiBBcnJheXM7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQXJyYXlzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJyYXlzLmpzLm1hcCIsIi8qKlxuICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLlxuICovXG52YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbnRlZ2VyKCkge1xuICAgIH1cbiAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHZhciB5O1xuICAgICAgICBpZiAoaSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiAzMjtcbiAgICAgICAgdmFyIG4gPSAzMTtcbiAgICAgICAgeSA9IGkgPDwgMTY7XG4gICAgICAgIGlmICh5ICE9PSAwKSB7XG4gICAgICAgICAgICBuIC09IDE2O1xuICAgICAgICAgICAgaSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgeSA9IGkgPDwgODtcbiAgICAgICAgaWYgKHkgIT09IDApIHtcbiAgICAgICAgICAgIG4gLT0gODtcbiAgICAgICAgICAgIGkgPSB5O1xuICAgICAgICB9XG4gICAgICAgIHkgPSBpIDw8IDQ7XG4gICAgICAgIGlmICh5ICE9PSAwKSB7XG4gICAgICAgICAgICBuIC09IDQ7XG4gICAgICAgICAgICBpID0geTtcbiAgICAgICAgfVxuICAgICAgICB5ID0gaSA8PCAyO1xuICAgICAgICBpZiAoeSAhPT0gMCkge1xuICAgICAgICAgICAgbiAtPSAyO1xuICAgICAgICAgICAgaSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTtcbiAgICB9O1xuICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAvLyBIRCwgRmlndXJlIDUtNlxuICAgICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDMyO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gMTtcbiAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7XG4gICAgICAgICAgICBuICs9IDE2O1xuICAgICAgICAgICAgaSA8PD0gMTY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7XG4gICAgICAgICAgICBuICs9IDg7XG4gICAgICAgICAgICBpIDw8PSA4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkge1xuICAgICAgICAgICAgbiArPSA0O1xuICAgICAgICAgICAgaSA8PD0gNDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHtcbiAgICAgICAgICAgIG4gKz0gMjtcbiAgICAgICAgICAgIGkgPDw9IDI7XG4gICAgICAgIH1cbiAgICAgICAgbiAtPSBpID4+PiAzMTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfTtcbiAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpO1xuICAgIH07XG4gICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpO1xuICAgIH07XG4gICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuXG4gICAgLy8gUmV0dXJuczpcbiAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS5cbiAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTJcbiAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7XG4gICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpO1xuICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjtcbiAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7XG4gICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTtcbiAgICAgICAgcmV0dXJuIGkgJiAweDNmO1xuICAgIH07XG4gICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLlxuICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci5cbiAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuXG4gICAgICovXG4gICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7XG4gICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9XG4gICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTtcbiAgICB9O1xuICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODtcbiAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgIHJldHVybiBJbnRlZ2VyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEludGVnZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlZ2VyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovXG4vKmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOyovXG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG5pbXBvcnQgQXJyYXlzIGZyb20gJy4uL3V0aWwvQXJyYXlzJztcbmltcG9ydCBJbnRlZ2VyIGZyb20gJy4uL3V0aWwvSW50ZWdlcic7XG5pbXBvcnQgU3lzdGVtIGZyb20gJy4uL3V0aWwvU3lzdGVtJztcbi8qKlxuICogPHA+QSBzaW1wbGUsIGZhc3QgYXJyYXkgb2YgYml0cywgcmVwcmVzZW50ZWQgY29tcGFjdGx5IGJ5IGFuIGFycmF5IG9mIGludHMgaW50ZXJuYWxseS48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIEJpdEFycmF5IC8qaW1wbGVtZW50cyBDbG9uZWFibGUqLyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gICB0aGlzLnNpemUgPSAwXG4gICAgLy8gICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSgxKVxuICAgIC8vIH1cbiAgICAvLyBwdWJsaWMgY29uc3RydWN0b3Ioc2l6ZT86IG51bWJlciAvKmludCovKSB7XG4gICAgLy8gICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7XG4gICAgLy8gICAgIHRoaXMuc2l6ZSA9IDBcbiAgICAvLyAgIH0gZWxzZSB7XG4gICAgLy8gICAgIHRoaXMuc2l6ZSA9IHNpemVcbiAgICAvLyAgIH1cbiAgICAvLyAgIHRoaXMuYml0cyA9IHRoaXMubWFrZUFycmF5KHNpemUpXG4gICAgLy8gfVxuICAgIC8vIEZvciB0ZXN0aW5nIG9ubHlcbiAgICBmdW5jdGlvbiBCaXRBcnJheShzaXplIC8qaW50Ki8sIGJpdHMpIHtcbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGJpdHMgfHwgbnVsbCA9PT0gYml0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuYml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgQml0QXJyYXkucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemU7XG4gICAgfTtcbiAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZUluQnl0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCh0aGlzLnNpemUgKyA3KSAvIDgpO1xuICAgIH07XG4gICAgQml0QXJyYXkucHJvdG90eXBlLmVuc3VyZUNhcGFjaXR5ID0gZnVuY3Rpb24gKHNpemUgLyppbnQqLykge1xuICAgICAgICBpZiAoc2l6ZSA+IHRoaXMuYml0cy5sZW5ndGggKiAzMikge1xuICAgICAgICAgICAgdmFyIG5ld0JpdHMgPSBCaXRBcnJheS5tYWtlQXJyYXkoc2l6ZSk7XG4gICAgICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KHRoaXMuYml0cywgMCwgbmV3Qml0cywgMCwgdGhpcy5iaXRzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXdCaXRzO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaSBiaXQgdG8gZ2V0XG4gICAgICogQHJldHVybiB0cnVlIGlmZiBiaXQgaSBpcyBzZXRcbiAgICAgKi9cbiAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGkgLyppbnQqLykge1xuICAgICAgICByZXR1cm4gKHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildICYgKDEgPDwgKGkgJiAweDFGKSkpICE9PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBiaXQgaS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpIGJpdCB0byBzZXRcbiAgICAgKi9cbiAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGkgLyppbnQqLykge1xuICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSB8PSAxIDw8IChpICYgMHgxRik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGbGlwcyBiaXQgaS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpIGJpdCB0byBzZXRcbiAgICAgKi9cbiAgICBCaXRBcnJheS5wcm90b3R5cGUuZmxpcCA9IGZ1bmN0aW9uIChpIC8qaW50Ki8pIHtcbiAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gXj0gMSA8PCAoaSAmIDB4MUYpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGZyb20gZmlyc3QgYml0IHRvIGNoZWNrXG4gICAgICogQHJldHVybiBpbmRleCBvZiBmaXJzdCBiaXQgdGhhdCBpcyBzZXQsIHN0YXJ0aW5nIGZyb20gdGhlIGdpdmVuIGluZGV4LCBvciBzaXplIGlmIG5vbmUgYXJlIHNldFxuICAgICAqICBhdCBvciBiZXlvbmQgdGhpcyBnaXZlbiBpbmRleFxuICAgICAqIEBzZWUgI2dldE5leHRVbnNldChpbnQpXG4gICAgICovXG4gICAgQml0QXJyYXkucHJvdG90eXBlLmdldE5leHRTZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0cztcbiAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7XG4gICAgICAgIHZhciBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07XG4gICAgICAgIC8vIG1hc2sgb2ZmIGxlc3NlciBiaXRzIGZpcnN0XG4gICAgICAgIGN1cnJlbnRCaXRzICY9IH4oKDEgPDwgKGZyb20gJiAweDFGKSkgLSAxKTtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGJpdHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoY3VycmVudEJpdHMgPT09IDApIHtcbiAgICAgICAgICAgIGlmICgrK2JpdHNPZmZzZXQgPT09IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudEJpdHMgPSBiaXRzW2JpdHNPZmZzZXRdO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSAoYml0c09mZnNldCAqIDMyKSArIEludGVnZXIubnVtYmVyT2ZUcmFpbGluZ1plcm9zKGN1cnJlbnRCaXRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA+IHNpemUgPyBzaXplIDogcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGZyb20gaW5kZXggdG8gc3RhcnQgbG9va2luZyBmb3IgdW5zZXQgYml0XG4gICAgICogQHJldHVybiBpbmRleCBvZiBuZXh0IHVuc2V0IGJpdCwgb3Ige0Bjb2RlIHNpemV9IGlmIG5vbmUgYXJlIHVuc2V0IHVudGlsIHRoZSBlbmRcbiAgICAgKiBAc2VlICNnZXROZXh0U2V0KGludClcbiAgICAgKi9cbiAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFVuc2V0ID0gZnVuY3Rpb24gKGZyb20gLyppbnQqLykge1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgICAgaWYgKGZyb20gPj0gc2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7XG4gICAgICAgIHZhciBiaXRzT2Zmc2V0ID0gTWF0aC5mbG9vcihmcm9tIC8gMzIpO1xuICAgICAgICB2YXIgY3VycmVudEJpdHMgPSB+Yml0c1tiaXRzT2Zmc2V0XTtcbiAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3RcbiAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpO1xuICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSAoYml0c09mZnNldCAqIDMyKSArIEludGVnZXIubnVtYmVyT2ZUcmFpbGluZ1plcm9zKGN1cnJlbnRCaXRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA+IHNpemUgPyBzaXplIDogcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBhIGJsb2NrIG9mIDMyIGJpdHMsIHN0YXJ0aW5nIGF0IGJpdCBpLlxuICAgICAqXG4gICAgICogQHBhcmFtIGkgZmlyc3QgYml0IHRvIHNldFxuICAgICAqIEBwYXJhbSBuZXdCaXRzIHRoZSBuZXcgdmFsdWUgb2YgdGhlIG5leHQgMzIgYml0cy4gTm90ZSBhZ2FpbiB0aGF0IHRoZSBsZWFzdC1zaWduaWZpY2FudCBiaXRcbiAgICAgKiBjb3JyZXNwb25kcyB0byBiaXQgaSwgdGhlIG5leHQtbGVhc3Qtc2lnbmlmaWNhbnQgdG8gaSsxLCBhbmQgc28gb24uXG4gICAgICovXG4gICAgQml0QXJyYXkucHJvdG90eXBlLnNldEJ1bGsgPSBmdW5jdGlvbiAoaSAvKmludCovLCBuZXdCaXRzIC8qaW50Ki8pIHtcbiAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gPSBuZXdCaXRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBhIHJhbmdlIG9mIGJpdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS5cbiAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlXG4gICAgICovXG4gICAgQml0QXJyYXkucHJvdG90eXBlLnNldFJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0IC8qaW50Ki8sIGVuZCAvKmludCovKSB7XG4gICAgICAgIGlmIChlbmQgPCBzdGFydCB8fCBzdGFydCA8IDAgfHwgZW5kID4gdGhpcy5zaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA9PT0gc3RhcnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZVxuICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpO1xuICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpO1xuICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0cztcbiAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjtcbiAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7XG4gICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlXG4gICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpO1xuICAgICAgICAgICAgYml0c1tpXSB8PSBtYXNrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIGJpdHMgKHNldHMgdG8gZmFsc2UpLlxuICAgICAqL1xuICAgIEJpdEFycmF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1heCA9IHRoaXMuYml0cy5sZW5ndGg7XG4gICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heDsgaSsrKSB7XG4gICAgICAgICAgICBiaXRzW2ldID0gMDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRWZmaWNpZW50IG1ldGhvZCB0byBjaGVjayBpZiBhIHJhbmdlIG9mIGJpdHMgaXMgc2V0LCBvciBub3Qgc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0YXJ0IHN0YXJ0IG9mIHJhbmdlLCBpbmNsdXNpdmUuXG4gICAgICogQHBhcmFtIGVuZCBlbmQgb2YgcmFuZ2UsIGV4Y2x1c2l2ZVxuICAgICAqIEBwYXJhbSB2YWx1ZSBpZiB0cnVlLCBjaGVja3MgdGhhdCBiaXRzIGluIHJhbmdlIGFyZSBzZXQsIG90aGVyd2lzZSBjaGVja3MgdGhhdCB0aGV5IGFyZSBub3Qgc2V0XG4gICAgICogQHJldHVybiB0cnVlIGlmZiBhbGwgYml0cyBhcmUgc2V0IG9yIG5vdCBzZXQgaW4gcmFuZ2UsIGFjY29yZGluZyB0byB2YWx1ZSBhcmd1bWVudFxuICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIGVuZCBpcyBsZXNzIHRoYW4gc3RhcnQgb3IgdGhlIHJhbmdlIGlzIG5vdCBjb250YWluZWQgaW4gdGhlIGFycmF5XG4gICAgICovXG4gICAgQml0QXJyYXkucHJvdG90eXBlLmlzUmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8sIHZhbHVlKSB7XG4gICAgICAgIGlmIChlbmQgPCBzdGFydCB8fCBzdGFydCA8IDAgfHwgZW5kID4gdGhpcy5zaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA9PT0gc3RhcnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBlbXB0eSByYW5nZSBtYXRjaGVzXG4gICAgICAgIH1cbiAgICAgICAgZW5kLS07IC8vIHdpbGwgYmUgZWFzaWVyIHRvIHRyZWF0IHRoaXMgYXMgdGhlIGxhc3QgYWN0dWFsbHkgc2V0IGJpdCAtLSBpbmNsdXNpdmVcbiAgICAgICAgdmFyIGZpcnN0SW50ID0gTWF0aC5mbG9vcihzdGFydCAvIDMyKTtcbiAgICAgICAgdmFyIGxhc3RJbnQgPSBNYXRoLmZsb29yKGVuZCAvIDMyKTtcbiAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7XG4gICAgICAgIGZvciAodmFyIGkgPSBmaXJzdEludDsgaSA8PSBsYXN0SW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaXJzdEJpdCA9IGkgPiBmaXJzdEludCA/IDAgOiBzdGFydCAmIDB4MUY7XG4gICAgICAgICAgICB2YXIgbGFzdEJpdCA9IGkgPCBsYXN0SW50ID8gMzEgOiBlbmQgJiAweDFGO1xuICAgICAgICAgICAgLy8gT25lcyBmcm9tIGZpcnN0Qml0IHRvIGxhc3RCaXQsIGluY2x1c2l2ZVxuICAgICAgICAgICAgdmFyIG1hc2sgPSAoMiA8PCBsYXN0Qml0KSAtICgxIDw8IGZpcnN0Qml0KSAmIDB4RkZGRkZGRkY7XG4gICAgICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogJiAweEZGRkZGRkZGIGFkZGVkIHRvIGRpc2NhcmQgYW55dGhpbmcgYWZ0ZXIgMzIgYml0cywgYXMgRVMgaGFzIDUzIGJpdHNcbiAgICAgICAgICAgIC8vIFJldHVybiBmYWxzZSBpZiB3ZSdyZSBsb29raW5nIGZvciAxcyBhbmQgdGhlIG1hc2tlZCBiaXRzW2ldIGlzbid0IGFsbCAxcyAoaXM6IHRoYXQsXG4gICAgICAgICAgICAvLyBlcXVhbHMgdGhlIG1hc2ssIG9yIHdlJ3JlIGxvb2tpbmcgZm9yIDBzIGFuZCB0aGUgbWFza2VkIHBvcnRpb24gaXMgbm90IGFsbCAwc1xuICAgICAgICAgICAgaWYgKChiaXRzW2ldICYgbWFzaykgIT09ICh2YWx1ZSA/IG1hc2sgOiAwKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXQgPSBmdW5jdGlvbiAoYml0KSB7XG4gICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgMSk7XG4gICAgICAgIGlmIChiaXQpIHtcbiAgICAgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKHRoaXMuc2l6ZSAvIDMyKV0gfD0gMSA8PCAodGhpcy5zaXplICYgMHgxRik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaXplKys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoZSBsZWFzdC1zaWduaWZpY2FudCBiaXRzLCBmcm9tIHZhbHVlLCBpbiBvcmRlciBmcm9tIG1vc3Qtc2lnbmlmaWNhbnQgdG9cbiAgICAgKiBsZWFzdC1zaWduaWZpY2FudC4gRm9yIGV4YW1wbGUsIGFwcGVuZGluZyA2IGJpdHMgZnJvbSAweDAwMDAwMUUgd2lsbCBhcHBlbmQgdGhlIGJpdHNcbiAgICAgKiAwLCAxLCAxLCAxLCAxLCAwIGluIHRoYXQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUge0Bjb2RlIGludH0gY29udGFpbmluZyBiaXRzIHRvIGFwcGVuZFxuICAgICAqIEBwYXJhbSBudW1CaXRzIGJpdHMgZnJvbSB2YWx1ZSB0byBhcHBlbmRcbiAgICAgKi9cbiAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0cyA9IGZ1bmN0aW9uICh2YWx1ZSAvKmludCovLCBudW1CaXRzIC8qaW50Ki8pIHtcbiAgICAgICAgaWYgKG51bUJpdHMgPCAwIHx8IG51bUJpdHMgPiAzMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignTnVtIGJpdHMgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDMyJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyBudW1CaXRzKTtcbiAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7XG4gICAgICAgIGZvciAodmFyIG51bUJpdHNMZWZ0ID0gbnVtQml0czsgbnVtQml0c0xlZnQgPiAwOyBudW1CaXRzTGVmdC0tKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZEJpdCgoKHZhbHVlID4+IChudW1CaXRzTGVmdCAtIDEpKSAmIDB4MDEpID09PSAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdEFycmF5ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHZhciBvdGhlclNpemUgPSBvdGhlci5zaXplO1xuICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG90aGVyU2l6ZSk7XG4gICAgICAgIC8vIGNvbnN0IGFwcGVuZEJpdCA9IHRoaXMuYXBwZW5kQml0O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG90aGVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZEJpdChvdGhlci5nZXQoaSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCaXRBcnJheS5wcm90b3R5cGUueG9yID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzLnNpemUgIT09IG90aGVyLnNpemUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oJ1NpemVzIGRvblxcJ3QgbWF0Y2gnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYml0cy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7XG4gICAgICAgICAgICAvLyBUaGUgbGFzdCBpbnQgY291bGQgYmUgaW5jb21wbGV0ZSAoaS5lLiBub3QgaGF2ZSAzMiBiaXRzIGluXG4gICAgICAgICAgICAvLyBpdCkgYnV0IHRoZXJlIGlzIG5vIHByb2JsZW0gc2luY2UgMCBYT1IgMCA9PSAwLlxuICAgICAgICAgICAgYml0c1tpXSBePSBvdGhlci5iaXRzW2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBiaXRPZmZzZXQgZmlyc3QgYml0IHRvIHN0YXJ0IHdyaXRpbmdcbiAgICAgKiBAcGFyYW0gYXJyYXkgYXJyYXkgdG8gd3JpdGUgaW50by4gQnl0ZXMgYXJlIHdyaXR0ZW4gbW9zdC1zaWduaWZpY2FudCBieXRlIGZpcnN0LiBUaGlzIGlzIHRoZSBvcHBvc2l0ZVxuICAgICAqICBvZiB0aGUgaW50ZXJuYWwgcmVwcmVzZW50YXRpb24sIHdoaWNoIGlzIGV4cG9zZWQgYnkge0BsaW5rICNnZXRCaXRBcnJheSgpfVxuICAgICAqIEBwYXJhbSBvZmZzZXQgcG9zaXRpb24gaW4gYXJyYXkgdG8gc3RhcnQgd3JpdGluZ1xuICAgICAqIEBwYXJhbSBudW1CeXRlcyBob3cgbWFueSBieXRlcyB0byB3cml0ZVxuICAgICAqL1xuICAgIEJpdEFycmF5LnByb3RvdHlwZS50b0J5dGVzID0gZnVuY3Rpb24gKGJpdE9mZnNldCAvKmludCovLCBhcnJheSwgb2Zmc2V0IC8qaW50Ki8sIG51bUJ5dGVzIC8qaW50Ki8pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1CeXRlczsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGhlQnl0ZSA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldChiaXRPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoZUJ5dGUgfD0gMSA8PCAoNyAtIGopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiaXRPZmZzZXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIGldID0gLyooYnl0ZSkqLyB0aGVCeXRlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHVuZGVybHlpbmcgYXJyYXkgb2YgaW50cy4gVGhlIGZpcnN0IGVsZW1lbnQgaG9sZHMgdGhlIGZpcnN0IDMyIGJpdHMsIGFuZCB0aGUgbGVhc3RcbiAgICAgKiAgICAgICAgIHNpZ25pZmljYW50IGJpdCBpcyBiaXQgMC5cbiAgICAgKi9cbiAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0Qml0QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpdHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyBhbGwgYml0cyBpbiB0aGUgYXJyYXkuXG4gICAgICovXG4gICAgQml0QXJyYXkucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdCaXRzID0gbmV3IEludDMyQXJyYXkodGhpcy5iaXRzLmxlbmd0aCk7XG4gICAgICAgIC8vIHJldmVyc2UgYWxsIGludCdzIGZpcnN0XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLmZsb29yKCh0aGlzLnNpemUgLSAxKSAvIDMyKTtcbiAgICAgICAgdmFyIG9sZEJpdHNMZW4gPSBsZW4gKyAxO1xuICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRCaXRzTGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gYml0c1tpXTtcbiAgICAgICAgICAgIHggPSAoKHggPj4gMSkgJiAweDU1NTU1NTU1KSB8ICgoeCAmIDB4NTU1NTU1NTUpIDw8IDEpO1xuICAgICAgICAgICAgeCA9ICgoeCA+PiAyKSAmIDB4MzMzMzMzMzMpIHwgKCh4ICYgMHgzMzMzMzMzMykgPDwgMik7XG4gICAgICAgICAgICB4ID0gKCh4ID4+IDQpICYgMHgwZjBmMGYwZikgfCAoKHggJiAweDBmMGYwZjBmKSA8PCA0KTtcbiAgICAgICAgICAgIHggPSAoKHggPj4gOCkgJiAweDAwZmYwMGZmKSB8ICgoeCAmIDB4MDBmZjAwZmYpIDw8IDgpO1xuICAgICAgICAgICAgeCA9ICgoeCA+PiAxNikgJiAweDAwMDBmZmZmKSB8ICgoeCAmIDB4MDAwMGZmZmYpIDw8IDE2KTtcbiAgICAgICAgICAgIG5ld0JpdHNbbGVuIC0gaV0gPSAvKihpbnQpKi8geDtcbiAgICAgICAgfVxuICAgICAgICAvLyBub3cgY29ycmVjdCB0aGUgaW50J3MgaWYgdGhlIGJpdCBzaXplIGlzbid0IGEgbXVsdGlwbGUgb2YgMzJcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb2xkQml0c0xlbiAqIDMyKSB7XG4gICAgICAgICAgICB2YXIgbGVmdE9mZnNldCA9IG9sZEJpdHNMZW4gKiAzMiAtIHRoaXMuc2l6ZTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50SW50ID0gbmV3Qml0c1swXSA+Pj4gbGVmdE9mZnNldDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRJbnQgPSBuZXdCaXRzW2ldO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgfD0gbmV4dEludCA8PCAoMzIgLSBsZWZ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICBuZXdCaXRzW2kgLSAxXSA9IGN1cnJlbnRJbnQ7XG4gICAgICAgICAgICAgICAgY3VycmVudEludCA9IG5leHRJbnQgPj4+IGxlZnRPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdCaXRzW29sZEJpdHNMZW4gLSAxXSA9IGN1cnJlbnRJbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iaXRzID0gbmV3Qml0cztcbiAgICB9O1xuICAgIEJpdEFycmF5Lm1ha2VBcnJheSA9IGZ1bmN0aW9uIChzaXplIC8qaW50Ki8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KE1hdGguZmxvb3IoKHNpemUgKyAzMSkgLyAzMikpO1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIEJpdEFycmF5LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykge1xuICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQml0QXJyYXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG90aGVyID0gbztcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSA9PT0gb3RoZXIuc2l6ZSAmJiBBcnJheXMuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgQml0QXJyYXkucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gMzEgKiB0aGlzLnNpemUgKyBBcnJheXMuaGFzaENvZGUodGhpcy5iaXRzKTtcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBCaXRBcnJheS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHNpemUgPSB0aGlzLnNpemU7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoaSAmIDB4MDcpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLmdldChpKSA/ICdYJyA6ICcuJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIEJpdEFycmF5LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCaXRBcnJheSh0aGlzLnNpemUsIHRoaXMuYml0cy5zbGljZSgpKTtcbiAgICB9O1xuICAgIHJldHVybiBCaXRBcnJheTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBCaXRBcnJheTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdEFycmF5LmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki9cbi8qKlxuICogRW5jYXBzdWxhdGVzIGEgdHlwZSBvZiBoaW50IHRoYXQgYSBjYWxsZXIgbWF5IHBhc3MgdG8gYSBiYXJjb2RlIHJlYWRlciB0byBoZWxwIGl0XG4gKiBtb3JlIHF1aWNrbHkgb3IgYWNjdXJhdGVseSBkZWNvZGUgaXQuIEl0IGlzIHVwIHRvIGltcGxlbWVudGF0aW9ucyB0byBkZWNpZGUgd2hhdCxcbiAqIGlmIGFueXRoaW5nLCB0byBkbyB3aXRoIHRoZSBpbmZvcm1hdGlvbiB0aGF0IGlzIHN1cHBsaWVkLlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKVxuICogQHNlZSBSZWFkZXIjZGVjb2RlKEJpbmFyeUJpdG1hcCxqYXZhLnV0aWwuTWFwKVxuICovXG52YXIgRGVjb2RlSGludFR5cGU7XG4oZnVuY3Rpb24gKERlY29kZUhpbnRUeXBlKSB7XG4gICAgLyoqXG4gICAgICogVW5zcGVjaWZpZWQsIGFwcGxpY2F0aW9uLXNwZWNpZmljIGhpbnQuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uXG4gICAgICovXG4gICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbXCJPVEhFUlwiXSA9IDBdID0gXCJPVEhFUlwiOyAvKihPYmplY3QuY2xhc3MpKi9cbiAgICAvKipcbiAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bztcbiAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uXG4gICAgICovXG4gICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbXCJQVVJFX0JBUkNPREVcIl0gPSAxXSA9IFwiUFVSRV9CQVJDT0RFXCI7IC8qKFZvaWQuY2xhc3MpKi9cbiAgICAvKipcbiAgICAgKiBJbWFnZSBpcyBrbm93biB0byBiZSBvZiBvbmUgb2YgYSBmZXcgcG9zc2libGUgZm9ybWF0cy5cbiAgICAgKiBNYXBzIHRvIGEge0BsaW5rIExpc3R9IG9mIHtAbGluayBCYXJjb2RlRm9ybWF0fXMuXG4gICAgICovXG4gICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbXCJQT1NTSUJMRV9GT1JNQVRTXCJdID0gMl0gPSBcIlBPU1NJQkxFX0ZPUk1BVFNcIjsgLyooTGlzdC5jbGFzcykqL1xuICAgIC8qKlxuICAgICAqIFNwZW5kIG1vcmUgdGltZSB0byB0cnkgdG8gZmluZCBhIGJhcmNvZGU7IG9wdGltaXplIGZvciBhY2N1cmFjeSwgbm90IHNwZWVkLlxuICAgICAqIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsgdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LlxuICAgICAqL1xuICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlW1wiVFJZX0hBUkRFUlwiXSA9IDNdID0gXCJUUllfSEFSREVSXCI7IC8qKFZvaWQuY2xhc3MpKi9cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKVxuICAgICAqL1xuICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlW1wiQ0hBUkFDVEVSX1NFVFwiXSA9IDRdID0gXCJDSEFSQUNURVJfU0VUXCI7IC8qKFN0cmluZy5jbGFzcykqL1xuICAgIC8qKlxuICAgICAqIEFsbG93ZWQgbGVuZ3RocyBvZiBlbmNvZGVkIGRhdGEgLS0gcmVqZWN0IGFueXRoaW5nIGVsc2UuIE1hcHMgdG8gYW4ge0Bjb2RlIEludDMyQXJyYXl9LlxuICAgICAqL1xuICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlW1wiQUxMT1dFRF9MRU5HVEhTXCJdID0gNV0gPSBcIkFMTE9XRURfTEVOR1RIU1wiOyAvKihJbnQzMkFycmF5LmNsYXNzKSovXG4gICAgLyoqXG4gICAgICogQXNzdW1lIENvZGUgMzkgY29kZXMgZW1wbG95IGEgY2hlY2sgZGlnaXQuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bztcbiAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uXG4gICAgICovXG4gICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbXCJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVFwiXSA9IDZdID0gXCJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVFwiOyAvKihWb2lkLmNsYXNzKSovXG4gICAgLyoqXG4gICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvO1xuICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS5cbiAgICAgKi9cbiAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVtcIkFTU1VNRV9HUzFcIl0gPSA3XSA9IFwiQVNTVU1FX0dTMVwiOyAvKihWb2lkLmNsYXNzKSovXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgcmV0dXJuIHRoZSBzdGFydCBhbmQgZW5kIGRpZ2l0cyBpbiBhIENvZGFiYXIgYmFyY29kZSBpbnN0ZWFkIG9mIHN0cmlwcGluZyB0aGVtLiBUaGV5XG4gICAgICogYXJlIGFscGhhLCB3aGVyZWFzIHRoZSByZXN0IGFyZSBudW1lcmljLiBCeSBkZWZhdWx0LCB0aGV5IGFyZSBzdHJpcHBlZCwgYnV0IHRoaXMgY2F1c2VzIHRoZW1cbiAgICAgKiB0byBub3QgYmUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsgdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LlxuICAgICAqL1xuICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlW1wiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EXCJdID0gOF0gPSBcIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORFwiOyAvKihWb2lkLmNsYXNzKSovXG4gICAgLyoqXG4gICAgICogVGhlIGNhbGxlciBuZWVkcyB0byBiZSBub3RpZmllZCB2aWEgY2FsbGJhY2sgd2hlbiBhIHBvc3NpYmxlIHtAbGluayBSZXN1bHRQb2ludH1cbiAgICAgKiBpcyBmb3VuZC4gTWFwcyB0byBhIHtAbGluayBSZXN1bHRQb2ludENhbGxiYWNrfS5cbiAgICAgKi9cbiAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVtcIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLXCJdID0gOV0gPSBcIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLXCI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi9cbiAgICAvKipcbiAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuXG4gICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uXG4gICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCxcbiAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWRcbiAgICAgKiBhdCBhbGwuXG4gICAgICovXG4gICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbXCJBTExPV0VEX0VBTl9FWFRFTlNJT05TXCJdID0gMTBdID0gXCJBTExPV0VEX0VBTl9FWFRFTlNJT05TXCI7IC8qKEludDMyQXJyYXkuY2xhc3MpKi9cbiAgICAvLyBFbmQgb2YgZW51bWVyYXRpb24gdmFsdWVzLlxuICAgIC8qKlxuICAgICAqIERhdGEgdHlwZSB0aGUgaGludCBpcyBleHBlY3RpbmcuXG4gICAgICogQW1vbmcgdGhlIHBvc3NpYmxlIHZhbHVlcyB0aGUge0BsaW5rIFZvaWR9IHN0YW5kcyBvdXQgYXMgYmVpbmcgdXNlZCBmb3JcbiAgICAgKiBoaW50cyB0aGF0IGRvIG5vdCBleHBlY3QgYSB2YWx1ZSB0byBiZSBzdXBwbGllZCAoZmxhZyBoaW50cykuIFN1Y2ggaGludHNcbiAgICAgKiB3aWxsIHBvc3NpYmx5IGhhdmUgdGhlaXIgdmFsdWUgaWdub3JlZCwgb3IgcmVwbGFjZWQgYnkgYVxuICAgICAqIHtAbGluayBCb29sZWFuI1RSVUV9LiBIaW50IHN1cHBsaWVycyBzaG91bGQgcHJvYmFibHkgdXNlXG4gICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0gYXMgZGlyZWN0ZWQgYnkgdGhlIGFjdHVhbCBoaW50IGRvY3VtZW50YXRpb24uXG4gICAgICovXG4gICAgLy8gcHJpdmF0ZSB2YWx1ZVR5cGU6IENsYXNzPD8+XG4gICAgLy8gRGVjb2RlSGludFR5cGUodmFsdWVUeXBlOiBDbGFzczw/Pikge1xuICAgIC8vICAgdGhpcy52YWx1ZVR5cGUgPSB2YWx1ZVR5cGVcbiAgICAvLyB9XG4gICAgLy8gcHVibGljIGdldFZhbHVlVHlwZSgpOiBDbGFzczw/PiB7XG4gICAgLy8gICByZXR1cm4gdmFsdWVUeXBlXG4gICAgLy8gfVxufSkoRGVjb2RlSGludFR5cGUgfHwgKERlY29kZUhpbnRUeXBlID0ge30pKTtcbmV4cG9ydCBkZWZhdWx0IERlY29kZUhpbnRUeXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVjb2RlSGludFR5cGUuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vRXhjZXB0aW9uJztcbi8qKlxuICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLlxuICovXG52YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGb3JtYXRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRm9ybWF0RXhjZXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEZvcm1hdEV4Y2VwdGlvbi5nZXRGb3JtYXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICB9O1xuICAgIEZvcm1hdEV4Y2VwdGlvbi5raW5kID0gJ0Zvcm1hdEV4Y2VwdGlvbic7XG4gICAgcmV0dXJuIEZvcm1hdEV4Y2VwdGlvbjtcbn0oRXhjZXB0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBGb3JtYXRFeGNlcHRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Gb3JtYXRFeGNlcHRpb24uanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki9cbmltcG9ydCBGb3JtYXRFeGNlcHRpb24gZnJvbSAnLi4vRm9ybWF0RXhjZXB0aW9uJztcbi8qaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwOyovXG4vKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovXG5leHBvcnQgdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7XG4oZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHtcbiAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbXCJDcDQzN1wiXSA9IDBdID0gXCJDcDQzN1wiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIklTTzg4NTlfMVwiXSA9IDFdID0gXCJJU084ODU5XzFcIjtcbiAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbXCJJU084ODU5XzJcIl0gPSAyXSA9IFwiSVNPODg1OV8yXCI7XG4gICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW1wiSVNPODg1OV8zXCJdID0gM10gPSBcIklTTzg4NTlfM1wiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIklTTzg4NTlfNFwiXSA9IDRdID0gXCJJU084ODU5XzRcIjtcbiAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbXCJJU084ODU5XzVcIl0gPSA1XSA9IFwiSVNPODg1OV81XCI7XG4gICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW1wiSVNPODg1OV82XCJdID0gNl0gPSBcIklTTzg4NTlfNlwiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIklTTzg4NTlfN1wiXSA9IDddID0gXCJJU084ODU5XzdcIjtcbiAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbXCJJU084ODU5XzhcIl0gPSA4XSA9IFwiSVNPODg1OV84XCI7XG4gICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW1wiSVNPODg1OV85XCJdID0gOV0gPSBcIklTTzg4NTlfOVwiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIklTTzg4NTlfMTBcIl0gPSAxMF0gPSBcIklTTzg4NTlfMTBcIjtcbiAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbXCJJU084ODU5XzExXCJdID0gMTFdID0gXCJJU084ODU5XzExXCI7XG4gICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW1wiSVNPODg1OV8xM1wiXSA9IDEyXSA9IFwiSVNPODg1OV8xM1wiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIklTTzg4NTlfMTRcIl0gPSAxM10gPSBcIklTTzg4NTlfMTRcIjtcbiAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbXCJJU084ODU5XzE1XCJdID0gMTRdID0gXCJJU084ODU5XzE1XCI7XG4gICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW1wiSVNPODg1OV8xNlwiXSA9IDE1XSA9IFwiSVNPODg1OV8xNlwiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIlNKSVNcIl0gPSAxNl0gPSBcIlNKSVNcIjtcbiAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbXCJDcDEyNTBcIl0gPSAxN10gPSBcIkNwMTI1MFwiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIkNwMTI1MVwiXSA9IDE4XSA9IFwiQ3AxMjUxXCI7XG4gICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW1wiQ3AxMjUyXCJdID0gMTldID0gXCJDcDEyNTJcIjtcbiAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbXCJDcDEyNTZcIl0gPSAyMF0gPSBcIkNwMTI1NlwiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIlVuaWNvZGVCaWdVbm1hcmtlZFwiXSA9IDIxXSA9IFwiVW5pY29kZUJpZ1VubWFya2VkXCI7XG4gICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW1wiVVRGOFwiXSA9IDIyXSA9IFwiVVRGOFwiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIkFTQ0lJXCJdID0gMjNdID0gXCJBU0NJSVwiO1xuICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tcIkJpZzVcIl0gPSAyNF0gPSBcIkJpZzVcIjtcbiAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbXCJHQjE4MDMwXCJdID0gMjVdID0gXCJHQjE4MDMwXCI7XG4gICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW1wiRVVDX0tSXCJdID0gMjZdID0gXCJFVUNfS1JcIjtcbn0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSB7fSkpO1xuLyoqXG4gKiBFbmNhcHN1bGF0ZXMgYSBDaGFyYWN0ZXIgU2V0IEVDSSwgYWNjb3JkaW5nIHRvIFwiRXh0ZW5kZWQgQ2hhbm5lbCBJbnRlcnByZXRhdGlvbnNcIiA1LjMuMS4xXG4gKiBvZiBJU08gMTgwMDQuXG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzO1xuICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7XG4gICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7XG4gICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykge1xuICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7XG4gICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pXG4gICAgLy8gfVxuICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHtcbiAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfVxuICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXNcbiAgICAvLyB9XG4gICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykge1xuICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXNcbiAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzXG4gICAgLy8gfVxuICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7XG4gICAgfTtcbiAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfTtcbiAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0XG4gICAgICogICB1bnN1cHBvcnRlZFxuICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkXG4gICAgICovXG4gICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykge1xuICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbignaW5jb3JlY3QgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLlZBTFVFU19UT19FQ0kuZ2V0KHZhbHVlKTtcbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCdpbmNvcmVjdCB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbmFtZSBjaGFyYWN0ZXIgc2V0IEVDSSBlbmNvZGluZyBuYW1lXG4gICAgICogQHJldHVybiBDaGFyYWN0ZXJTZXRFQ0kgcmVwcmVzZW50aW5nIEVDSSBmb3IgY2hhcmFjdGVyIGVuY29kaW5nLCBvciBudWxsIGlmIGl0IGlzIGxlZ2FsXG4gICAgICogICBidXQgdW5zdXBwb3J0ZWRcbiAgICAgKi9cbiAgICBDaGFyYWN0ZXJTZXRFQ0kuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5nZXQobmFtZSk7XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbignaW5jb3JlY3QgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0O1xuICAgIH07XG4gICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykge1xuICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdGhlciA9IG87XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpO1xuICAgIH07XG4gICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpO1xuICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpO1xuICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTtcbiAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW9cbiAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmFcbiAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpXG4gICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHRcbiAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTtcbiAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpO1xuICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTtcbiAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpO1xuICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTtcbiAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpO1xuICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTtcbiAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpO1xuICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTtcbiAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpO1xuICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTtcbiAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpO1xuICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTtcbiAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpO1xuICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7XG4gICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpO1xuICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQ2hhcmFjdGVyU2V0RUNJO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2hhcmFjdGVyU2V0RUNJLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL0V4Y2VwdGlvbic7XG4vKipcbiAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi5cbiAqL1xudmFyIFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJztcbiAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247XG59KEV4Y2VwdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5qcy5tYXAiLCJpbXBvcnQgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24gZnJvbSAnLi4vVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24nO1xuaW1wb3J0IENoYXJhY3RlclNldEVDSSBmcm9tICcuLi9jb21tb24vQ2hhcmFjdGVyU2V0RUNJJztcbi8qKlxuICogUmVzcG9uc2libGUgZm9yIGVuL2RlY29kaW5nIHN0cmluZ3MuXG4gKi9cbnZhciBTdHJpbmdFbmNvZGluZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJpbmdFbmNvZGluZygpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlcyBzb21lIFVpbnQ4QXJyYXkgdG8gYSBzdHJpbmcgZm9ybWF0LlxuICAgICAqL1xuICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZSA9IGZ1bmN0aW9uIChieXRlcywgZW5jb2RpbmcpIHtcbiAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTtcbiAgICAgICAgaWYgKHRoaXMuY3VzdG9tRGVjb2Rlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRGVjb2RlcihieXRlcywgZW5jb2RpbmdOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbmNyZWFzZXMgYnJvd3NlciBzdXBwb3J0LlxuICAgICAgICBpZiAodHlwZW9mIFRleHREZWNvZGVyID09PSAndW5kZWZpbmVkJyB8fCB0aGlzLnNob3VsZERlY29kZU9uRmFsbGJhY2soZW5jb2RpbmdOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlRmFsbGJhY2soYnl0ZXMsIGVuY29kaW5nTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihlbmNvZGluZ05hbWUpLmRlY29kZShieXRlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGRlY29kaW5nIG1ldGhvZCBzaG91bGQgdXNlIHRoZSBmYWxsYmFjayBmb3IgZGVjb2RpbmdcbiAgICAgKiBvbmNlIE5vZGUgVGV4dERlY29kZXIgZG9lc24ndCBzdXBwb3J0IGFsbCBlbmNvZGluZyBmb3JtYXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVuY29kaW5nTmFtZVxuICAgICAqL1xuICAgIFN0cmluZ0VuY29kaW5nLnNob3VsZERlY29kZU9uRmFsbGJhY2sgPSBmdW5jdGlvbiAoZW5jb2RpbmdOYW1lKSB7XG4gICAgICAgIHJldHVybiAhU3RyaW5nRW5jb2RpbmcuaXNCcm93c2VyKCkgJiYgZW5jb2RpbmdOYW1lID09PSAnSVNPLTg4NTktMSc7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbmNvZGVzIHNvbWUgc3RyaW5nIGludG8gYSBVaW50OEFycmF5LlxuICAgICAqL1xuICAgIFN0cmluZ0VuY29kaW5nLmVuY29kZSA9IGZ1bmN0aW9uIChzLCBlbmNvZGluZykge1xuICAgICAgICB2YXIgZW5jb2RpbmdOYW1lID0gdGhpcy5lbmNvZGluZ05hbWUoZW5jb2RpbmcpO1xuICAgICAgICBpZiAodGhpcy5jdXN0b21FbmNvZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21FbmNvZGVyKHMsIGVuY29kaW5nTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC5cbiAgICAgICAgaWYgKHR5cGVvZiBUZXh0RW5jb2RlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZUZhbGxiYWNrKHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRleHRFbmNvZGVyIG9ubHkgZW5jb2RlcyB0byBVVEY4IGJ5IGRlZmF1bHQgYXMgc3BlY2lmaWVkIGJ5IGVuY29kaW5nLnNwZWMud2hhdHdnLm9yZ1xuICAgICAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHMpO1xuICAgIH07XG4gICAgU3RyaW5nRW5jb2RpbmcuaXNCcm93c2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHt9LnRvU3RyaW5nLmNhbGwod2luZG93KSA9PT0gJ1tvYmplY3QgV2luZG93XScpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3RyaW5nIHZhbHVlIGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LlxuICAgICAqL1xuICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nTmFtZSA9IGZ1bmN0aW9uIChlbmNvZGluZykge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBlbmNvZGluZ1xuICAgICAgICAgICAgOiBlbmNvZGluZy5nZXROYW1lKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNoYXJhY3RlciBzZXQgZnJvbSBzb21lIGVuY29kaW5nIGNoYXJhY3RlciBzZXQuXG4gICAgICovXG4gICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RpbmdDaGFyYWN0ZXJTZXQgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHtcbiAgICAgICAgaWYgKGVuY29kaW5nIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2Rpbmc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUoZW5jb2RpbmcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGRlY29kaW5nIGZ1bmNpb24uXG4gICAgICovXG4gICAgU3RyaW5nRW5jb2RpbmcuZGVjb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7XG4gICAgICAgIHZhciBjaGFyYWN0ZXJTZXQgPSB0aGlzLmVuY29kaW5nQ2hhcmFjdGVyU2V0KGVuY29kaW5nKTtcbiAgICAgICAgaWYgKFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQoY2hhcmFjdGVyU2V0KSkge1xuICAgICAgICAgICAgdmFyIHMgPSAnJztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJ5dGVzLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IGJ5dGVzW2ldLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBpZiAoaC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGggPSAnMCcgKyBoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzICs9ICclJyArIGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDE2QXJyYXkoYnl0ZXMuYnVmZmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uKFwiRW5jb2RpbmcgXCIgKyB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZykgKyBcIiBub3Qgc3VwcG9ydGVkIGJ5IGZhbGxiYWNrLlwiKTtcbiAgICB9O1xuICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7XG4gICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSS5VVEY4KSB8fFxuICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xKSB8fFxuICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0kuQVNDSUkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzXG4gICAgICovXG4gICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykge1xuICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7XG4gICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpO1xuICAgICAgICB2YXIgdWludEFycmF5ID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0cmluZ0VuY29kaW5nO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RyaW5nRW5jb2RpbmcuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxMCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovXG4vKmltcG9ydCBqYXZhLm5pby5jaGFyc2V0LkNoYXJzZXQ7Ki9cbi8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki9cbmltcG9ydCBEZWNvZGVIaW50VHlwZSBmcm9tICcuLi9EZWNvZGVIaW50VHlwZSc7XG5pbXBvcnQgQ2hhcmFjdGVyU2V0RUNJIGZyb20gJy4vQ2hhcmFjdGVyU2V0RUNJJztcbmltcG9ydCBTdHJpbmdFbmNvZGluZyBmcm9tICcuLi91dGlsL1N0cmluZ0VuY29kaW5nJztcbi8qKlxuICogQ29tbW9uIHN0cmluZy1yZWxhdGVkIGZ1bmN0aW9ucy5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICogQGF1dGhvciBBbGV4IER1cHJlXG4gKi9cbnZhciBTdHJpbmdVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJpbmdVdGlscygpIHtcbiAgICB9XG4gICAgLy8gU0hJRlRfSklTLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORykgfHxcbiAgICAvLyBFVUNfSlAuZXF1YWxzSWdub3JlQ2FzZShQTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HKTtcbiAgICBTdHJpbmdVdGlscy5jYXN0QXNOb25VdGY4Q2hhciA9IGZ1bmN0aW9uIChjb2RlLCBlbmNvZGluZykge1xuICAgICAgICBpZiAoZW5jb2RpbmcgPT09IHZvaWQgMCkgeyBlbmNvZGluZyA9IG51bGw7IH1cbiAgICAgICAgLy8gSVNPIDg4NTktMSBpcyB0aGUgSmF2YSBkZWZhdWx0IGFzIFVURi04IGlzIEphdmFTY3JpcHRzXG4gICAgICAgIC8vIHlvdSBjYW4gc2VlIHRoaXMgbWV0aG9kIGFzIGEgSmF2YSB2ZXJzaW9uIG9mIFN0cmluZy5mcm9tQ2hhckNvZGVcbiAgICAgICAgdmFyIGUgPSBlbmNvZGluZyA/IGVuY29kaW5nLmdldE5hbWUoKSA6IHRoaXMuSVNPODg1OTE7XG4gICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZylcbiAgICAgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nLmRlY29kZShuZXcgVWludDhBcnJheShbY29kZV0pLCBlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBieXRlcyBieXRlcyBlbmNvZGluZyBhIHN0cmluZywgd2hvc2UgZW5jb2Rpbmcgc2hvdWxkIGJlIGd1ZXNzZWRcbiAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RlIGhpbnRzIGlmIGFwcGxpY2FibGVcbiAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZ3Vlc3NlZCBlbmNvZGluZzsgYXQgdGhlIG1vbWVudCB3aWxsIG9ubHkgZ3Vlc3Mgb25lIG9mOlxuICAgICAqICB7QGxpbmsgI1NISUZUX0pJU30sIHtAbGluayAjVVRGOH0sIHtAbGluayAjSVNPODg1OTF9LCBvciB0aGUgcGxhdGZvcm1cbiAgICAgKiAgZGVmYXVsdCBlbmNvZGluZyBpZiBub25lIG9mIHRoZXNlIGNhbiBwb3NzaWJseSBiZSBjb3JyZWN0XG4gICAgICovXG4gICAgU3RyaW5nVXRpbHMuZ3Vlc3NFbmNvZGluZyA9IGZ1bmN0aW9uIChieXRlcywgaGludHMpIHtcbiAgICAgICAgaWYgKGhpbnRzICE9PSBudWxsICYmIGhpbnRzICE9PSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGUuQ0hBUkFDVEVSX1NFVCkpIHtcbiAgICAgICAgICAgIHJldHVybiBoaW50cy5nZXQoRGVjb2RlSGludFR5cGUuQ0hBUkFDVEVSX1NFVCkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3Igbm93LCBtZXJlbHkgdHJpZXMgdG8gZGlzdGluZ3Vpc2ggSVNPLTg4NTktMSwgVVRGLTggYW5kIFNoaWZ0X0pJUyxcbiAgICAgICAgLy8gd2hpY2ggc2hvdWxkIGJlIGJ5IGZhciB0aGUgbW9zdCBjb21tb24gZW5jb2RpbmdzLlxuICAgICAgICB2YXIgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoO1xuICAgICAgICB2YXIgY2FuQmVJU084ODU5MSA9IHRydWU7XG4gICAgICAgIHZhciBjYW5CZVNoaWZ0SklTID0gdHJ1ZTtcbiAgICAgICAgdmFyIGNhbkJlVVRGOCA9IHRydWU7XG4gICAgICAgIHZhciB1dGY4Qnl0ZXNMZWZ0ID0gMDtcbiAgICAgICAgLy8gaW50IHV0ZjhMb3dDaGFycyA9IDBcbiAgICAgICAgdmFyIHV0ZjJCeXRlc0NoYXJzID0gMDtcbiAgICAgICAgdmFyIHV0ZjNCeXRlc0NoYXJzID0gMDtcbiAgICAgICAgdmFyIHV0ZjRCeXRlc0NoYXJzID0gMDtcbiAgICAgICAgdmFyIHNqaXNCeXRlc0xlZnQgPSAwO1xuICAgICAgICAvLyBpbnQgc2ppc0xvd0NoYXJzID0gMFxuICAgICAgICB2YXIgc2ppc0thdGFrYW5hQ2hhcnMgPSAwO1xuICAgICAgICAvLyBpbnQgc2ppc0RvdWJsZUJ5dGVzQ2hhcnMgPSAwXG4gICAgICAgIHZhciBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoID0gMDtcbiAgICAgICAgdmFyIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwO1xuICAgICAgICB2YXIgc2ppc01heEthdGFrYW5hV29yZExlbmd0aCA9IDA7XG4gICAgICAgIHZhciBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDtcbiAgICAgICAgLy8gaW50IGlzb0xvd0NoYXJzID0gMFxuICAgICAgICAvLyBpbnQgaXNvSGlnaENoYXJzID0gMFxuICAgICAgICB2YXIgaXNvSGlnaE90aGVyID0gMDtcbiAgICAgICAgdmFyIHV0Zjhib20gPSBieXRlcy5sZW5ndGggPiAzICYmXG4gICAgICAgICAgICBieXRlc1swXSA9PT0gLyooYnl0ZSkgKi8gMHhFRiAmJlxuICAgICAgICAgICAgYnl0ZXNbMV0gPT09IC8qKGJ5dGUpICovIDB4QkIgJiZcbiAgICAgICAgICAgIGJ5dGVzWzJdID09PSAvKihieXRlKSAqLyAweEJGO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aCAmJiAoY2FuQmVJU084ODU5MSB8fCBjYW5CZVNoaWZ0SklTIHx8IGNhbkJlVVRGOCk7IGkrKykge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gYnl0ZXNbaV0gJiAweEZGO1xuICAgICAgICAgICAgLy8gVVRGLTggc3R1ZmZcbiAgICAgICAgICAgIGlmIChjYW5CZVVURjgpIHtcbiAgICAgICAgICAgICAgICBpZiAodXRmOEJ5dGVzTGVmdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4ODApID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgodmFsdWUgJiAweDgwKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHZhbHVlICYgMHg0MCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXRmOEJ5dGVzTGVmdCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MjApID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmMkJ5dGVzQ2hhcnMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHZhbHVlICYgMHgxMCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmM0J5dGVzQ2hhcnMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MDgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY0Qnl0ZXNDaGFycysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHV0ZjhMb3dDaGFycysrXG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSVNPLTg4NTktMSBzdHVmZlxuICAgICAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAweDdGICYmIHZhbHVlIDwgMHhBMCkge1xuICAgICAgICAgICAgICAgICAgICBjYW5CZUlTTzg4NTkxID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg5Rikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAweEMwIHx8IHZhbHVlID09PSAweEQ3IHx8IHZhbHVlID09PSAweEY3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc29IaWdoT3RoZXIrKztcbiAgICAgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXNvSGlnaENoYXJzKytcbiAgICAgICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gaXNvTG93Q2hhcnMrK1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNoaWZ0X0pJUyBzdHVmZlxuICAgICAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2ppc0J5dGVzTGVmdCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHg0MCB8fCB2YWx1ZSA9PT0gMHg3RiB8fCB2YWx1ZSA+IDB4RkMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNCeXRlc0xlZnQtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gMHg4MCB8fCB2YWx1ZSA9PT0gMHhBMCB8fCB2YWx1ZSA+IDB4RUYpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4QTAgJiYgdmFsdWUgPCAweEUwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNqaXNLYXRha2FuYUNoYXJzKys7XG4gICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoKys7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoID4gc2ppc01heEthdGFrYW5hV29yZExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2ppc01heEthdGFrYW5hV29yZExlbmd0aCA9IHNqaXNDdXJLYXRha2FuYVdvcmRMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweDdGKSB7XG4gICAgICAgICAgICAgICAgICAgIHNqaXNCeXRlc0xlZnQrKztcbiAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0RvdWJsZUJ5dGVzQ2hhcnMrK1xuICAgICAgICAgICAgICAgICAgICBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aCA+IHNqaXNNYXhEb3VibGVCeXRlc1dvcmRMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhEb3VibGVCeXRlc1dvcmRMZW5ndGggPSBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBzamlzTG93Q2hhcnMrK1xuICAgICAgICAgICAgICAgICAgICBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5CZVVURjggJiYgdXRmOEJ5dGVzTGVmdCA+IDApIHtcbiAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIHNqaXNCeXRlc0xlZnQgPiAwKSB7XG4gICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWFzeSAtLSBpZiB0aGVyZSBpcyBCT00gb3IgYXQgbGVhc3QgMSB2YWxpZCBub3Qtc2luZ2xlIGJ5dGUgY2hhcmFjdGVyIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUgVVRGLTgpLCBkb25lXG4gICAgICAgIGlmIChjYW5CZVVURjggJiYgKHV0Zjhib20gfHwgdXRmMkJ5dGVzQ2hhcnMgKyB1dGYzQnl0ZXNDaGFycyArIHV0ZjRCeXRlc0NoYXJzID4gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5VVEY4O1xuICAgICAgICB9XG4gICAgICAgIC8vIEVhc3kgLS0gaWYgYXNzdW1pbmcgU2hpZnRfSklTIG9yIGF0IGxlYXN0IDMgdmFsaWQgY29uc2VjdXRpdmUgbm90LWFzY2lpIGNoYXJhY3RlcnMgKGFuZCBubyBldmlkZW5jZSBpdCBjYW4ndCBiZSksIGRvbmVcbiAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMgJiYgKFN0cmluZ1V0aWxzLkFTU1VNRV9TSElGVF9KSVMgfHwgc2ppc01heEthdGFrYW5hV29yZExlbmd0aCA+PSAzIHx8IHNqaXNNYXhEb3VibGVCeXRlc1dvcmRMZW5ndGggPj0gMykpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGlzdGluZ3Vpc2hpbmcgU2hpZnRfSklTIGFuZCBJU08tODg1OS0xIGNhbiBiZSBhIGxpdHRsZSB0b3VnaCBmb3Igc2hvcnQgd29yZHMuIFRoZSBjcnVkZSBoZXVyaXN0aWMgaXM6XG4gICAgICAgIC8vIC0gSWYgd2Ugc2F3XG4gICAgICAgIC8vICAgLSBvbmx5IHR3byBjb25zZWN1dGl2ZSBrYXRha2FuYSBjaGFycyBpbiB0aGUgd2hvbGUgdGV4dCwgb3JcbiAgICAgICAgLy8gICAtIGF0IGxlYXN0IDEwJSBvZiBieXRlcyB0aGF0IGNvdWxkIGJlIFwidXBwZXJcIiBub3QtYWxwaGFudW1lcmljIExhdGluMSxcbiAgICAgICAgLy8gLSB0aGVuIHdlIGNvbmNsdWRlIFNoaWZ0X0pJUywgZWxzZSBJU08tODg1OS0xXG4gICAgICAgIGlmIChjYW5CZUlTTzg4NTkxICYmIGNhbkJlU2hpZnRKSVMpIHtcbiAgICAgICAgICAgIHJldHVybiAoc2ppc01heEthdGFrYW5hV29yZExlbmd0aCA9PT0gMiAmJiBzamlzS2F0YWthbmFDaGFycyA9PT0gMikgfHwgaXNvSGlnaE90aGVyICogMTAgPj0gbGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBTdHJpbmdVdGlscy5TSElGVF9KSVMgOiBTdHJpbmdVdGlscy5JU084ODU5MTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIHRyeSBpbiBvcmRlciBJU08tODg1OS0xLCBTaGlmdCBKSVMsIFVURi04IGFuZCBmYWxsIGJhY2sgdG8gZGVmYXVsdCBwbGF0Zm9ybSBlbmNvZGluZ1xuICAgICAgICBpZiAoY2FuQmVJU084ODU5MSkge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLklTTzg4NTkxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5CZVVURjgpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5VVEY4O1xuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2UgdGFrZSBhIHdpbGQgZ3Vlc3Mgd2l0aCBwbGF0Zm9ybSBlbmNvZGluZ1xuICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuUExBVEZPUk1fREVGQVVMVF9FTkNPRElORztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTM0Mzk3MTEvNDM2NzY4M1xuICAgICAqXG4gICAgICogQHBhcmFtIGFwcGVuZCBUaGUgbmV3IHN0cmluZyB0byBhcHBlbmQuXG4gICAgICogQHBhcmFtIGFyZ3MgQXJndW1ldHMgdmFsdWVzIHRvIGJlIGZvcm1hdGVkLlxuICAgICAqL1xuICAgIFN0cmluZ1V0aWxzLmZvcm1hdCA9IGZ1bmN0aW9uIChhcHBlbmQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGkgPSAtMTtcbiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2soZXhwLCBwMCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgICAgIGlmIChleHAgPT09ICclJScpXG4gICAgICAgICAgICAgICAgcmV0dXJuICclJztcbiAgICAgICAgICAgIGlmIChhcmdzWysraV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZXhwID0gcDIgPyBwYXJzZUludChwMi5zdWJzdHIoMSkpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdmFyIGJhc2UgPSBwMyA/IHBhcnNlSW50KHAzLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgdmFsO1xuICAgICAgICAgICAgc3dpdGNoIChwNCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjJzpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gYXJnc1tpXVswXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZic6XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlRmxvYXQoYXJnc1tpXSkudG9GaXhlZChleHApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwJzpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b1ByZWNpc2lvbihleHApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdlJzpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0V4cG9uZW50aWFsKGV4cCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3gnOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUludChhcmdzW2ldKS50b1N0cmluZyhiYXNlID8gYmFzZSA6IDE2KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlRmxvYXQocGFyc2VJbnQoYXJnc1tpXSwgYmFzZSA/IGJhc2UgOiAxMCkudG9QcmVjaXNpb24oZXhwKSkudG9GaXhlZCgwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyA/IEpTT04uc3RyaW5naWZ5KHZhbCkgOiAoK3ZhbCkudG9TdHJpbmcoYmFzZSk7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IHBhcnNlSW50KHAxKTsgLyogcGFkZGluZyBzaXplICovXG4gICAgICAgICAgICB2YXIgY2ggPSBwMSAmJiAocDFbMF0gKyAnJykgPT09ICcwJyA/ICcwJyA6ICcgJzsgLyogaXNudWxsPyAqL1xuICAgICAgICAgICAgd2hpbGUgKHZhbC5sZW5ndGggPCBzaXplKVxuICAgICAgICAgICAgICAgIHZhbCA9IHAwICE9PSB1bmRlZmluZWQgPyB2YWwgKyBjaCA6IGNoICsgdmFsOyAvKiBpc21pbnVzPyAqL1xuICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVnZXggPSAvJSgtKT8oMD9bMC05XSspPyhbLl1bMC05XSspPyhbI11bMC05XSspPyhbc2NmcGV4ZCVdKS9nO1xuICAgICAgICByZXR1cm4gYXBwZW5kLnJlcGxhY2UocmVnZXgsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgU3RyaW5nVXRpbHMuZ2V0Qnl0ZXMgPSBmdW5jdGlvbiAoc3RyLCBlbmNvZGluZykge1xuICAgICAgICByZXR1cm4gU3RyaW5nRW5jb2RpbmcuZW5jb2RlKHN0ciwgZW5jb2RpbmcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hhcmNvZGUgYXQgdGhlIHNwZWNpZmllZCBpbmRleCBvciBhdCBpbmRleCB6ZXJvLlxuICAgICAqL1xuICAgIFN0cmluZ1V0aWxzLmdldENoYXJDb2RlID0gZnVuY3Rpb24gKHN0ciwgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAwOyB9XG4gICAgICAgIHJldHVybiBzdHIuY2hhckNvZGVBdChpbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNoYXIgZm9yIGdpdmVuIGNoYXJjb2RlXG4gICAgICovXG4gICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckF0ID0gZnVuY3Rpb24gKGNoYXJDb2RlKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKTtcbiAgICB9O1xuICAgIFN0cmluZ1V0aWxzLlNISUZUX0pJUyA9IENoYXJhY3RlclNldEVDSS5TSklTLmdldE5hbWUoKTsgLy8gXCJTSklTXCJcbiAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJztcbiAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSS5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyBcIklTTzg4NTlfMVwiXG4gICAgU3RyaW5nVXRpbHMuRVVDX0pQID0gJ0VVQ19KUCc7XG4gICAgU3RyaW5nVXRpbHMuVVRGOCA9IENoYXJhY3RlclNldEVDSS5VVEY4LmdldE5hbWUoKTsgLy8gXCJVVEY4XCJcbiAgICBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HID0gU3RyaW5nVXRpbHMuVVRGODsgLy8gXCJVVEY4XCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKClcbiAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7XG4gICAgcmV0dXJuIFN0cmluZ1V0aWxzO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFN0cmluZ1V0aWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RyaW5nVXRpbHMuanMubWFwIiwiaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uL2NvbW1vbi9TdHJpbmdVdGlscyc7XG52YXIgU3RyaW5nQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdHJpbmdCdWlsZGVyKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7IHZhbHVlID0gJyc7IH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5lbmFibGVEZWNvZGluZyA9IGZ1bmN0aW9uIChlbmNvZGluZykge1xuICAgICAgICB0aGlzLmVuY29kaW5nID0gZW5jb2Rpbmc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSArPSBzLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmNvZGluZykge1xuICAgICAgICAgICAgLy8gdXNlIHBhc3NlZCBmb3JtYXQgKGZyb21DaGFyQ29kZSB3aWxsIHJldHVybiBVVEY4IGVuY29kaW5nKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSArPSBTdHJpbmdVdGlscy5jYXN0QXNOb25VdGY4Q2hhcihzLCB0aGlzLmVuY29kaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNvcnJlY3RseSBjb252ZXJ0cyBmcm9tIFVURi04LCBidXQgbm90IG90aGVyIGVuY29kaW5nc1xuICAgICAgICAgICAgdGhpcy52YWx1ZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuYXBwZW5kQ2hhcnMgPSBmdW5jdGlvbiAoc3RyLCBvZmZzZXQsIGxlbikge1xuICAgICAgICBmb3IgKHZhciBpID0gb2Zmc2V0OyBvZmZzZXQgPCBvZmZzZXQgKyBsZW47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQoc3RyW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUubGVuZ3RoO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuY2hhckF0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUuY2hhckF0KG4pO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZGVsZXRlQ2hhckF0ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuc3Vic3RyKDAsIG4pICsgdGhpcy52YWx1ZS5zdWJzdHJpbmcobiArIDEpO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuc2V0Q2hhckF0ID0gZnVuY3Rpb24gKG4sIGMpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuc3Vic3RyKDAsIG4pICsgYyArIHRoaXMudmFsdWUuc3Vic3RyKG4gKyAxKTtcbiAgICB9O1xuICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnN1YnN0cmluZyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBub3RlIGhlbHBlciBtZXRob2QgZm9yIFJTUyBFeHBhbmRlZFxuICAgICAqL1xuICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldExlbmd0aFRvWmVybyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9ICcnO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH07XG4gICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKG4sIGMpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuc3Vic3RyKDAsIG4pICsgYyArIHRoaXMudmFsdWUuc3Vic3RyKG4gKyBjLmxlbmd0aCk7XG4gICAgfTtcbiAgICByZXR1cm4gU3RyaW5nQnVpbGRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTdHJpbmdCdWlsZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RyaW5nQnVpbGRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqL1xuLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqL1xuaW1wb3J0IEJpdEFycmF5IGZyb20gJy4vQml0QXJyYXknO1xuaW1wb3J0IFN5c3RlbSBmcm9tICcuLi91dGlsL1N5c3RlbSc7XG5pbXBvcnQgQXJyYXlzIGZyb20gJy4uL3V0aWwvQXJyYXlzJztcbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uL3V0aWwvU3RyaW5nQnVpbGRlcic7XG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG4vKipcbiAqIDxwPlJlcHJlc2VudHMgYSAyRCBtYXRyaXggb2YgYml0cy4gSW4gZnVuY3Rpb24gYXJndW1lbnRzIGJlbG93LCBhbmQgdGhyb3VnaG91dCB0aGUgY29tbW9uXG4gKiBtb2R1bGUsIHggaXMgdGhlIGNvbHVtbiBwb3NpdGlvbiwgYW5kIHkgaXMgdGhlIHJvdyBwb3NpdGlvbi4gVGhlIG9yZGVyaW5nIGlzIGFsd2F5cyB4LCB5LlxuICogVGhlIG9yaWdpbiBpcyBhdCB0aGUgdG9wLWxlZnQuPC9wPlxuICpcbiAqIDxwPkludGVybmFsbHkgdGhlIGJpdHMgYXJlIHJlcHJlc2VudGVkIGluIGEgMS1EIGFycmF5IG9mIDMyLWJpdCBpbnRzLiBIb3dldmVyLCBlYWNoIHJvdyBiZWdpbnNcbiAqIHdpdGggYSBuZXcgaW50LiBUaGlzIGlzIGRvbmUgaW50ZW50aW9uYWxseSBzbyB0aGF0IHdlIGNhbiBjb3B5IG91dCBhIHJvdyBpbnRvIGEgQml0QXJyYXkgdmVyeVxuICogZWZmaWNpZW50bHkuPC9wPlxuICpcbiAqIDxwPlRoZSBvcmRlcmluZyBvZiBiaXRzIGlzIHJvdy1tYWpvci4gV2l0aGluIGVhY2ggaW50LCB0aGUgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBhcmUgdXNlZCBmaXJzdCxcbiAqIG1lYW5pbmcgdGhleSByZXByZXNlbnQgbG93ZXIgeCB2YWx1ZXMuIFRoaXMgaXMgY29tcGF0aWJsZSB3aXRoIEJpdEFycmF5J3MgaW1wbGVtZW50YXRpb24uPC9wPlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKVxuICovXG52YXIgQml0TWF0cml4IC8qaW1wbGVtZW50cyBDbG9uZWFibGUqLyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVtcHR5IHNxdWFyZSB7QGxpbmsgQml0TWF0cml4fS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkaW1lbnNpb24gaGVpZ2h0IGFuZCB3aWR0aFxuICAgICAqL1xuICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihkaW1lbnNpb246IG51bWJlciAvKmludCovKSB7XG4gICAgLy8gICB0aGlzKGRpbWVuc2lvbiwgZGltZW5zaW9uKVxuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVtcHR5IHtAbGluayBCaXRNYXRyaXh9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHdpZHRoIGJpdCBtYXRyaXggd2lkdGhcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IGJpdCBtYXRyaXggaGVpZ2h0XG4gICAgICovXG4gICAgLy8gcHVibGljIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIgLyppbnQqLywgaGVpZ2h0OiBudW1iZXIgLyppbnQqLykge1xuICAgIC8vICAgaWYgKHdpZHRoIDwgMSB8fCBoZWlnaHQgPCAxKSB7XG4gICAgLy8gICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMFwiKVxuICAgIC8vICAgfVxuICAgIC8vICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgLy8gICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgIC8vICAgdGhpcy5yb3dTaXplID0gKHdpZHRoICsgMzEpIC8gMzJcbiAgICAvLyAgIGJpdHMgPSBuZXcgaW50W3Jvd1NpemUgKiBoZWlnaHRdO1xuICAgIC8vIH1cbiAgICBmdW5jdGlvbiBCaXRNYXRyaXgod2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8sIHJvd1NpemUgLyppbnQqLywgYml0cykge1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnJvd1NpemUgPSByb3dTaXplO1xuICAgICAgICB0aGlzLmJpdHMgPSBiaXRzO1xuICAgICAgICBpZiAodW5kZWZpbmVkID09PSBoZWlnaHQgfHwgbnVsbCA9PT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgaWYgKHdpZHRoIDwgMSB8fCBoZWlnaHQgPCAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCdCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IHJvd1NpemUgfHwgbnVsbCA9PT0gcm93U2l6ZSkge1xuICAgICAgICAgICAgcm93U2l6ZSA9IE1hdGguZmxvb3IoKHdpZHRoICsgMzEpIC8gMzIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IGJpdHMgfHwgbnVsbCA9PT0gYml0cykge1xuICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkodGhpcy5yb3dTaXplICogdGhpcy5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVycHJldHMgYSAyRCBhcnJheSBvZiBib29sZWFucyBhcyBhIHtAbGluayBCaXRNYXRyaXh9LCB3aGVyZSBcInRydWVcIiBtZWFucyBhbiBcIm9uXCIgYml0LlxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uIHBhcnNlXG4gICAgICogQHBhcmFtIGltYWdlIGJpdHMgb2YgdGhlIGltYWdlLCBhcyBhIHJvdy1tYWpvciAyRCBhcnJheS4gRWxlbWVudHMgYXJlIGFycmF5cyByZXByZXNlbnRpbmcgcm93c1xuICAgICAqIEByZXR1cm4ge0BsaW5rIEJpdE1hdHJpeH0gcmVwcmVzZW50YXRpb24gb2YgaW1hZ2VcbiAgICAgKi9cbiAgICBCaXRNYXRyaXgucGFyc2VGcm9tQm9vbGVhbkFycmF5ID0gZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5sZW5ndGg7XG4gICAgICAgIHZhciB3aWR0aCA9IGltYWdlWzBdLmxlbmd0aDtcbiAgICAgICAgdmFyIGJpdHMgPSBuZXcgQml0TWF0cml4KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VJID0gaW1hZ2VbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHdpZHRoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VJW2pdKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdHMuc2V0KGosIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYml0cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uIHBhcnNlXG4gICAgICogQHBhcmFtIHN0cmluZ1JlcHJlc2VudGF0aW9uXG4gICAgICogQHBhcmFtIHNldFN0cmluZ1xuICAgICAqIEBwYXJhbSB1bnNldFN0cmluZ1xuICAgICAqL1xuICAgIEJpdE1hdHJpeC5wYXJzZUZyb21TdHJpbmcgPSBmdW5jdGlvbiAoc3RyaW5nUmVwcmVzZW50YXRpb24sIHNldFN0cmluZywgdW5zZXRTdHJpbmcpIHtcbiAgICAgICAgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCdzdHJpbmdSZXByZXNlbnRhdGlvbiBjYW5ub3QgYmUgbnVsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiaXRzID0gbmV3IEFycmF5KHN0cmluZ1JlcHJlc2VudGF0aW9uLmxlbmd0aCk7XG4gICAgICAgIHZhciBiaXRzUG9zID0gMDtcbiAgICAgICAgdmFyIHJvd1N0YXJ0UG9zID0gMDtcbiAgICAgICAgdmFyIHJvd0xlbmd0aCA9IC0xO1xuICAgICAgICB2YXIgblJvd3MgPSAwO1xuICAgICAgICB2YXIgcG9zID0gMDtcbiAgICAgICAgd2hpbGUgKHBvcyA8IHN0cmluZ1JlcHJlc2VudGF0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXFxuJyB8fFxuICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXFxyJykge1xuICAgICAgICAgICAgICAgIGlmIChiaXRzUG9zID4gcm93U3RhcnRQb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd0xlbmd0aCA9IGJpdHNQb3MgLSByb3dTdGFydFBvcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigncm93IGxlbmd0aHMgZG8gbm90IG1hdGNoJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcm93U3RhcnRQb3MgPSBiaXRzUG9zO1xuICAgICAgICAgICAgICAgICAgICBuUm93cysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHNldFN0cmluZy5sZW5ndGgpID09PSBzZXRTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBwb3MgKz0gc2V0U3RyaW5nLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBiaXRzUG9zKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zLCBwb3MgKyB1bnNldFN0cmluZy5sZW5ndGgpID09PSB1bnNldFN0cmluZykge1xuICAgICAgICAgICAgICAgIHBvcyArPSB1bnNldFN0cmluZy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgYml0c1tiaXRzUG9zXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJpdHNQb3MrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oJ2lsbGVnYWwgY2hhcmFjdGVyIGVuY291bnRlcmVkOiAnICsgc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vIEVPTCBhdCBlbmQ/XG4gICAgICAgIGlmIChiaXRzUG9zID4gcm93U3RhcnRQb3MpIHtcbiAgICAgICAgICAgIGlmIChyb3dMZW5ndGggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYml0c1BvcyAtIHJvd1N0YXJ0UG9zICE9PSByb3dMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5Sb3dzKys7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXgocm93TGVuZ3RoLCBuUm93cyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYml0c1BvczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYml0c1tpXSkge1xuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoTWF0aC5mbG9vcihpICUgcm93TGVuZ3RoKSwgTWF0aC5mbG9vcihpIC8gcm93TGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDxwPkdldHMgdGhlIHJlcXVlc3RlZCBiaXQsIHdoZXJlIHRydWUgbWVhbnMgYmxhY2suPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbilcbiAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdylcbiAgICAgKiBAcmV0dXJuIHZhbHVlIG9mIGdpdmVuIGJpdCBpbiBtYXRyaXhcbiAgICAgKi9cbiAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh4IC8qaW50Ki8sIHkgLyppbnQqLykge1xuICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHRoaXMucm93U2l6ZSArIE1hdGguZmxvb3IoeCAvIDMyKTtcbiAgICAgICAgcmV0dXJuICgodGhpcy5iaXRzW29mZnNldF0gPj4+ICh4ICYgMHgxZikpICYgMSkgIT09IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5TZXRzIHRoZSBnaXZlbiBiaXQgdG8gdHJ1ZS48L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKVxuICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KVxuICAgICAqL1xuICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpO1xuICAgICAgICB0aGlzLmJpdHNbb2Zmc2V0XSB8PSAoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkY7XG4gICAgfTtcbiAgICBCaXRNYXRyaXgucHJvdG90eXBlLnVuc2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpO1xuICAgICAgICB0aGlzLmJpdHNbb2Zmc2V0XSAmPSB+KCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5GbGlwcyB0aGUgZ2l2ZW4gYml0LjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pXG4gICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpXG4gICAgICovXG4gICAgQml0TWF0cml4LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpO1xuICAgICAgICB0aGlzLmJpdHNbb2Zmc2V0XSBePSAoKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4Y2x1c2l2ZS1vciAoWE9SKTogRmxpcCB0aGUgYml0IGluIHRoaXMge0Bjb2RlIEJpdE1hdHJpeH0gaWYgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgKiBtYXNrIGJpdCBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWFzayBYT1IgbWFza1xuICAgICAqL1xuICAgIEJpdE1hdHJpeC5wcm90b3R5cGUueG9yID0gZnVuY3Rpb24gKG1hc2spIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggIT09IG1hc2suZ2V0V2lkdGgoKSB8fCB0aGlzLmhlaWdodCAhPT0gbWFzay5nZXRIZWlnaHQoKVxuICAgICAgICAgICAgfHwgdGhpcy5yb3dTaXplICE9PSBtYXNrLmdldFJvd1NpemUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignaW5wdXQgbWF0cml4IGRpbWVuc2lvbnMgZG8gbm90IG1hdGNoJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvd0FycmF5ID0gbmV3IEJpdEFycmF5KE1hdGguZmxvb3IodGhpcy53aWR0aCAvIDMyKSArIDEpO1xuICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTtcbiAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7XG4gICAgICAgIGZvciAodmFyIHkgPSAwLCBoZWlnaHQgPSB0aGlzLmhlaWdodDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7XG4gICAgICAgICAgICB2YXIgcm93ID0gbWFzay5nZXRSb3coeSwgcm93QXJyYXkpLmdldEJpdEFycmF5KCk7XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykge1xuICAgICAgICAgICAgICAgIGJpdHNbb2Zmc2V0ICsgeF0gXj0gcm93W3hdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIGJpdHMgKHNldHMgdG8gZmFsc2UpLlxuICAgICAqL1xuICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzO1xuICAgICAgICB2YXIgbWF4ID0gYml0cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgICAgIGJpdHNbaV0gPSAwO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5TZXRzIGEgc3F1YXJlIHJlZ2lvbiBvZiB0aGUgYml0IG1hdHJpeCB0byB0cnVlLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBob3Jpem9udGFsIHBvc2l0aW9uIHRvIGJlZ2luIGF0IChpbmNsdXNpdmUpXG4gICAgICogQHBhcmFtIHRvcCBUaGUgdmVydGljYWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSlcbiAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWdpb25cbiAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlZ2lvblxuICAgICAqL1xuICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuc2V0UmVnaW9uID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7XG4gICAgICAgIGlmICh0b3AgPCAwIHx8IGxlZnQgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCdMZWZ0IGFuZCB0b3AgbXVzdCBiZSBub25uZWdhdGl2ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWlnaHQgPCAxIHx8IHdpZHRoIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignSGVpZ2h0IGFuZCB3aWR0aCBtdXN0IGJlIGF0IGxlYXN0IDEnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmlnaHQgPSBsZWZ0ICsgd2lkdGg7XG4gICAgICAgIHZhciBib3R0b20gPSB0b3AgKyBoZWlnaHQ7XG4gICAgICAgIGlmIChib3R0b20gPiB0aGlzLmhlaWdodCB8fCByaWdodCA+IHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oJ1RoZSByZWdpb24gbXVzdCBmaXQgaW5zaWRlIHRoZSBtYXRyaXgnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTtcbiAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7XG4gICAgICAgIGZvciAodmFyIHkgPSB0b3A7IHkgPCBib3R0b207IHkrKykge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplO1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IGxlZnQ7IHggPCByaWdodDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyBNYXRoLmZsb29yKHggLyAzMildIHw9ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIGZhc3QgbWV0aG9kIHRvIHJldHJpZXZlIG9uZSByb3cgb2YgZGF0YSBmcm9tIHRoZSBtYXRyaXggYXMgYSBCaXRBcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gcmV0cmlldmVcbiAgICAgKiBAcGFyYW0gcm93IEFuIG9wdGlvbmFsIGNhbGxlci1hbGxvY2F0ZWQgQml0QXJyYXksIHdpbGwgYmUgYWxsb2NhdGVkIGlmIG51bGwgb3IgdG9vIHNtYWxsXG4gICAgICogQHJldHVybiBUaGUgcmVzdWx0aW5nIEJpdEFycmF5IC0gdGhpcyByZWZlcmVuY2Ugc2hvdWxkIGFsd2F5cyBiZSB1c2VkIGV2ZW4gd2hlbiBwYXNzaW5nXG4gICAgICogICAgICAgICB5b3VyIG93biByb3dcbiAgICAgKi9cbiAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykge1xuICAgICAgICBpZiAocm93ID09PSBudWxsIHx8IHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdy5nZXRTaXplKCkgPCB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICByb3cgPSBuZXcgQml0QXJyYXkodGhpcy53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByb3cuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTtcbiAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7XG4gICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByb3dTaXplOyB4KyspIHtcbiAgICAgICAgICAgIHJvdy5zZXRCdWxrKHggKiAzMiwgYml0c1tvZmZzZXQgKyB4XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB5IHJvdyB0byBzZXRcbiAgICAgKiBAcGFyYW0gcm93IHtAbGluayBCaXRBcnJheX0gdG8gY29weSBmcm9tXG4gICAgICovXG4gICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHtcbiAgICAgICAgU3lzdGVtLmFycmF5Y29weShyb3cuZ2V0Qml0QXJyYXkoKSwgMCwgdGhpcy5iaXRzLCB5ICogdGhpcy5yb3dTaXplLCB0aGlzLnJvd1NpemUpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgdGhpcyB7QGNvZGUgQml0TWF0cml4fSB0byByZXByZXNlbnQgdGhlIHNhbWUgYnV0IHJvdGF0ZWQgMTgwIGRlZ3JlZXNcbiAgICAgKi9cbiAgICBCaXRNYXRyaXgucHJvdG90eXBlLnJvdGF0ZTE4MCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIHRvcFJvdyA9IG5ldyBCaXRBcnJheSh3aWR0aCk7XG4gICAgICAgIHZhciBib3R0b21Sb3cgPSBuZXcgQml0QXJyYXkod2lkdGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBNYXRoLmZsb29yKChoZWlnaHQgKyAxKSAvIDIpOyBpIDwgbGVuZ3RoXzE7IGkrKykge1xuICAgICAgICAgICAgdG9wUm93ID0gdGhpcy5nZXRSb3coaSwgdG9wUm93KTtcbiAgICAgICAgICAgIGJvdHRvbVJvdyA9IHRoaXMuZ2V0Um93KGhlaWdodCAtIDEgLSBpLCBib3R0b21Sb3cpO1xuICAgICAgICAgICAgdG9wUm93LnJldmVyc2UoKTtcbiAgICAgICAgICAgIGJvdHRvbVJvdy5yZXZlcnNlKCk7XG4gICAgICAgICAgICB0aGlzLnNldFJvdyhpLCBib3R0b21Sb3cpO1xuICAgICAgICAgICAgdGhpcy5zZXRSb3coaGVpZ2h0IC0gMSAtIGksIHRvcFJvdyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGluIGRldGVjdGluZyB0aGUgZW5jbG9zaW5nIHJlY3RhbmdsZSBvZiBhICdwdXJlJyBiYXJjb2RlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7QGNvZGUgbGVmdCx0b3Asd2lkdGgsaGVpZ2h0fSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGFsbCAxIGJpdHMsIG9yIG51bGwgaWYgaXQgaXMgYWxsIHdoaXRlXG4gICAgICovXG4gICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRFbmNsb3NpbmdSZWN0YW5nbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7XG4gICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzO1xuICAgICAgICB2YXIgbGVmdCA9IHdpZHRoO1xuICAgICAgICB2YXIgdG9wID0gaGVpZ2h0O1xuICAgICAgICB2YXIgcmlnaHQgPSAtMTtcbiAgICAgICAgdmFyIGJvdHRvbSA9IC0xO1xuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciB4MzIgPSAwOyB4MzIgPCByb3dTaXplOyB4MzIrKykge1xuICAgICAgICAgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1t5ICogcm93U2l6ZSArIHgzMl07XG4gICAgICAgICAgICAgICAgaWYgKHRoZUJpdHMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHkgPCB0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9IHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHkgPiBib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSA9IHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHgzMiAqIDMyIDwgbGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJpdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKCh0aGVCaXRzIDw8ICgzMSAtIGJpdCkpICYgMHhGRkZGRkZGRikgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoeDMyICogMzIgKyBiaXQpIDwgbGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSB4MzIgKiAzMiArIGJpdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgKyAzMSA+IHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMzE7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXQtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoeDMyICogMzIgKyBiaXQpID4gcmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodCA9IHgzMiAqIDMyICsgYml0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyaWdodCA8IGxlZnQgfHwgYm90dG9tIDwgdG9wKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFtsZWZ0LCB0b3AsIHJpZ2h0IC0gbGVmdCArIDEsIGJvdHRvbSAtIHRvcCArIDFdKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGluIGRldGVjdGluZyBhIGNvcm5lciBvZiBhICdwdXJlJyBiYXJjb2RlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7QGNvZGUgeCx5fSBjb29yZGluYXRlIG9mIHRvcC1sZWZ0LW1vc3QgMSBiaXQsIG9yIG51bGwgaWYgaXQgaXMgYWxsIHdoaXRlXG4gICAgICovXG4gICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRUb3BMZWZ0T25CaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplO1xuICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0cztcbiAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSAwO1xuICAgICAgICB3aGlsZSAoYml0c09mZnNldCA8IGJpdHMubGVuZ3RoICYmIGJpdHNbYml0c09mZnNldF0gPT09IDApIHtcbiAgICAgICAgICAgIGJpdHNPZmZzZXQrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYml0c09mZnNldCA9PT0gYml0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciB5ID0gYml0c09mZnNldCAvIHJvd1NpemU7XG4gICAgICAgIHZhciB4ID0gKGJpdHNPZmZzZXQgJSByb3dTaXplKSAqIDMyO1xuICAgICAgICB2YXIgdGhlQml0cyA9IGJpdHNbYml0c09mZnNldF07XG4gICAgICAgIHZhciBiaXQgPSAwO1xuICAgICAgICB3aGlsZSAoKCh0aGVCaXRzIDw8ICgzMSAtIGJpdCkpICYgMHhGRkZGRkZGRikgPT09IDApIHtcbiAgICAgICAgICAgIGJpdCsrO1xuICAgICAgICB9XG4gICAgICAgIHggKz0gYml0O1xuICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7XG4gICAgfTtcbiAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEJvdHRvbVJpZ2h0T25CaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplO1xuICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0cztcbiAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBiaXRzLmxlbmd0aCAtIDE7XG4gICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0ID49IDAgJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkge1xuICAgICAgICAgICAgYml0c09mZnNldC0tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiaXRzT2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKGJpdHNPZmZzZXQgLyByb3dTaXplKTtcbiAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKGJpdHNPZmZzZXQgJSByb3dTaXplKSAqIDMyO1xuICAgICAgICB2YXIgdGhlQml0cyA9IGJpdHNbYml0c09mZnNldF07XG4gICAgICAgIHZhciBiaXQgPSAzMTtcbiAgICAgICAgd2hpbGUgKCh0aGVCaXRzID4+PiBiaXQpID09PSAwKSB7XG4gICAgICAgICAgICBiaXQtLTtcbiAgICAgICAgfVxuICAgICAgICB4ICs9IGJpdDtcbiAgICAgICAgcmV0dXJuIEludDMyQXJyYXkuZnJvbShbeCwgeV0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBUaGUgd2lkdGggb2YgdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBtYXRyaXhcbiAgICAgKi9cbiAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBUaGUgcm93IHNpemUgb2YgdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm93U2l6ZTtcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBCaXRNYXRyaXgucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBCaXRNYXRyaXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG90aGVyID0gbztcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggPT09IG90aGVyLndpZHRoICYmIHRoaXMuaGVpZ2h0ID09PSBvdGhlci5oZWlnaHQgJiYgdGhpcy5yb3dTaXplID09PSBvdGhlci5yb3dTaXplICYmXG4gICAgICAgICAgICBBcnJheXMuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoO1xuICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDtcbiAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0O1xuICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplO1xuICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzLmhhc2hDb2RlKHRoaXMuYml0cyk7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBzdHJpbmcgcmVwcmVzZW50YXRpb24gdXNpbmcgXCJYXCIgZm9yIHNldCBhbmQgXCIgXCIgZm9yIHVuc2V0IGJpdHNcbiAgICAgKi9cbiAgICAvKkBPdmVycmlkZSovXG4gICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgLy8gICByZXR1cm4gdG9TdHJpbmcoXCI6IFwiWCwgXCIgIFwiKVxuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgc2V0IGJpdFxuICAgICAqIEBwYXJhbSB1bnNldFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiB1bnNldCBiaXRcbiAgICAgKiBAcmV0dXJuIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBlbnRpcmUgbWF0cml4IHV0aWxpemluZyBnaXZlbiBzdHJpbmdzXG4gICAgICovXG4gICAgLy8gcHVibGljIHRvU3RyaW5nKHNldFN0cmluZzogc3RyaW5nID0gXCJYIFwiLCB1bnNldFN0cmluZzogc3RyaW5nID0gXCIgIFwiKTogc3RyaW5nIHtcbiAgICAvLyAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgXCJcXG5cIilcbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNldFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHNldCBiaXRcbiAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gdW5zZXQgYml0XG4gICAgICogQHBhcmFtIGxpbmVTZXBhcmF0b3IgbmV3bGluZSBjaGFyYWN0ZXIgaW4gc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICogQHJldHVybiBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgZW50aXJlIG1hdHJpeCB1dGlsaXppbmcgZ2l2ZW4gc3RyaW5ncyBhbmQgbGluZSBzZXBhcmF0b3JcbiAgICAgKiBAZGVwcmVjYXRlZCBjYWxsIHtAbGluayAjdG9TdHJpbmcoU3RyaW5nLFN0cmluZyl9IG9ubHksIHdoaWNoIHVzZXMgXFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5c1xuICAgICAqL1xuICAgIC8vIEBEZXByZWNhdGVkXG4gICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7XG4gICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9XG4gICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfVxuICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXFxuJzsgfVxuICAgICAgICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsIGxpbmVTZXBhcmF0b3IpO1xuICAgIH07XG4gICAgQml0TWF0cml4LnByb3RvdHlwZS5idWlsZFRvU3RyaW5nID0gZnVuY3Rpb24gKHNldFN0cmluZywgdW5zZXRTdHJpbmcsIGxpbmVTZXBhcmF0b3IpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7XG4gICAgICAgIC8vIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7XG4gICAgICAgIGZvciAodmFyIHkgPSAwLCBoZWlnaHQgPSB0aGlzLmhlaWdodDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMCwgd2lkdGggPSB0aGlzLndpZHRoOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQodGhpcy5nZXQoeCwgeSkgPyBzZXRTdHJpbmcgOiB1bnNldFN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kKGxpbmVTZXBhcmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBCaXRNYXRyaXgucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEJpdE1hdHJpeCh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yb3dTaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7XG4gICAgfTtcbiAgICByZXR1cm4gQml0TWF0cml4O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEJpdE1hdHJpeDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdE1hdHJpeC5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi9FeGNlcHRpb24nO1xuLyoqXG4gKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uXG4gKi9cbnZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTm90Rm91bmRFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTm90Rm91bmRFeGNlcHRpb24oKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgTm90Rm91bmRFeGNlcHRpb24uZ2V0Tm90Rm91bmRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgIH07XG4gICAgTm90Rm91bmRFeGNlcHRpb24ua2luZCA9ICdOb3RGb3VuZEV4Y2VwdGlvbic7XG4gICAgcmV0dXJuIE5vdEZvdW5kRXhjZXB0aW9uO1xufShFeGNlcHRpb24pKTtcbmV4cG9ydCBkZWZhdWx0IE5vdEZvdW5kRXhjZXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Tm90Rm91bmRFeGNlcHRpb24uanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqL1xuaW1wb3J0IEJpbmFyaXplciBmcm9tICcuLi9CaW5hcml6ZXInO1xuaW1wb3J0IEJpdEFycmF5IGZyb20gJy4vQml0QXJyYXknO1xuaW1wb3J0IEJpdE1hdHJpeCBmcm9tICcuL0JpdE1hdHJpeCc7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuLyoqXG4gKiBUaGlzIEJpbmFyaXplciBpbXBsZW1lbnRhdGlvbiB1c2VzIHRoZSBvbGQgWlhpbmcgZ2xvYmFsIGhpc3RvZ3JhbSBhcHByb2FjaC4gSXQgaXMgc3VpdGFibGVcbiAqIGZvciBsb3ctZW5kIG1vYmlsZSBkZXZpY2VzIHdoaWNoIGRvbid0IGhhdmUgZW5vdWdoIENQVSBvciBtZW1vcnkgdG8gdXNlIGEgbG9jYWwgdGhyZXNob2xkaW5nXG4gKiBhbGdvcml0aG0uIEhvd2V2ZXIsIGJlY2F1c2UgaXQgcGlja3MgYSBnbG9iYWwgYmxhY2sgcG9pbnQsIGl0IGNhbm5vdCBoYW5kbGUgZGlmZmljdWx0IHNoYWRvd3NcbiAqIGFuZCBncmFkaWVudHMuXG4gKlxuICogRmFzdGVyIG1vYmlsZSBkZXZpY2VzIGFuZCBhbGwgZGVza3RvcCBhcHBsaWNhdGlvbnMgc2hvdWxkIHByb2JhYmx5IHVzZSBIeWJyaWRCaW5hcml6ZXIgaW5zdGVhZC5cbiAqXG4gKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKVxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZO1xuICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLlxuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpO1xuICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTtcbiAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHtcbiAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheSh3aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByb3cuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpO1xuICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldFJvdyh5LCB0aGlzLmx1bWluYW5jZXMpO1xuICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzO1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgIGxvY2FsQnVja2V0c1sobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPj4gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9TSElGVF0rKztcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmxhY2tQb2ludCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5lc3RpbWF0ZUJsYWNrUG9pbnQobG9jYWxCdWNrZXRzKTtcbiAgICAgICAgaWYgKHdpZHRoIDwgMykge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciB2ZXJ5IHNtYWxsIGltYWdlc1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKChsb2NhbEx1bWluYW5jZXNbeF0gJiAweGZmKSA8IGJsYWNrUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnNldCh4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IGxvY2FsTHVtaW5hbmNlc1swXSAmIDB4ZmY7XG4gICAgICAgICAgICB2YXIgY2VudGVyID0gbG9jYWxMdW1pbmFuY2VzWzFdICYgMHhmZjtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAxOyB4IDwgd2lkdGggLSAxOyB4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcmlnaHQgPSBsb2NhbEx1bWluYW5jZXNbeCArIDFdICYgMHhmZjtcbiAgICAgICAgICAgICAgICAvLyBBIHNpbXBsZSAtMSA0IC0xIGJveCBmaWx0ZXIgd2l0aCBhIHdlaWdodCBvZiAyLlxuICAgICAgICAgICAgICAgIGlmICgoKGNlbnRlciAqIDQpIC0gbGVmdCAtIHJpZ2h0KSAvIDIgPCBibGFja1BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxlZnQgPSBjZW50ZXI7XG4gICAgICAgICAgICAgICAgY2VudGVyID0gcmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICB9O1xuICAgIC8vIERvZXMgbm90IHNoYXJwZW4gdGhlIGRhdGEsIGFzIHRoaXMgY2FsbCBpcyBpbnRlbmRlZCB0byBvbmx5IGJlIHVzZWQgYnkgMkQgUmVhZGVycy5cbiAgICAvKkBPdmVycmlkZSovXG4gICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5nZXRCbGFja01hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0THVtaW5hbmNlU291cmNlKCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZS5nZXRXaWR0aCgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlLmdldEhlaWdodCgpO1xuICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgLy8gUXVpY2tseSBjYWxjdWxhdGVzIHRoZSBoaXN0b2dyYW0gYnkgc2FtcGxpbmcgZm91ciByb3dzIGZyb20gdGhlIGltYWdlLiBUaGlzIHByb3ZlZCB0byBiZVxuICAgICAgICAvLyBtb3JlIHJvYnVzdCBvbiB0aGUgYmxhY2tib3ggdGVzdHMgdGhhbiBzYW1wbGluZyBhIGRpYWdvbmFsIGFzIHdlIHVzZWQgdG8gZG8uXG4gICAgICAgIHRoaXMuaW5pdEFycmF5cyh3aWR0aCk7XG4gICAgICAgIHZhciBsb2NhbEJ1Y2tldHMgPSB0aGlzLmJ1Y2tldHM7XG4gICAgICAgIGZvciAodmFyIHkgPSAxOyB5IDwgNTsgeSsrKSB7XG4gICAgICAgICAgICB2YXIgcm93ID0gTWF0aC5mbG9vcigoaGVpZ2h0ICogeSkgLyA1KTtcbiAgICAgICAgICAgIHZhciBsb2NhbEx1bWluYW5jZXNfMSA9IHNvdXJjZS5nZXRSb3cocm93LCB0aGlzLmx1bWluYW5jZXMpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0ID0gTWF0aC5mbG9vcigod2lkdGggKiA0KSAvIDUpO1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IE1hdGguZmxvb3Iod2lkdGggLyA1KTsgeCA8IHJpZ2h0OyB4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsb2NhbEx1bWluYW5jZXNfMVt4XSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgbG9jYWxCdWNrZXRzW3BpeGVsID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7XG4gICAgICAgIC8vIFdlIGRlbGF5IHJlYWRpbmcgdGhlIGVudGlyZSBpbWFnZSBsdW1pbmFuY2UgdW50aWwgdGhlIGJsYWNrIHBvaW50IGVzdGltYXRpb24gc3VjY2VlZHMuXG4gICAgICAgIC8vIEFsdGhvdWdoIHdlIGVuZCB1cCByZWFkaW5nIGZvdXIgcm93cyB0d2ljZSwgaXQgaXMgY29uc2lzdGVudCB3aXRoIG91ciBtb3R0byBvZlxuICAgICAgICAvLyBcImZhaWwgcXVpY2tseVwiIHdoaWNoIGlzIG5lY2Vzc2FyeSBmb3IgY29udGludW91cyBzY2FubmluZy5cbiAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB3aWR0aDtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGxvY2FsTHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgaWYgKHBpeGVsIDwgYmxhY2tQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gbmV3IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpO1xuICAgIH07XG4gICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5pbml0QXJyYXlzID0gZnVuY3Rpb24gKGx1bWluYW5jZVNpemUgLyppbnQqLykge1xuICAgICAgICBpZiAodGhpcy5sdW1pbmFuY2VzLmxlbmd0aCA8IGx1bWluYW5jZVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMubHVtaW5hbmNlcyA9IG5ldyBVaW50OENsYW1wZWRBcnJheShsdW1pbmFuY2VTaXplKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVja2V0cyA9IHRoaXMuYnVja2V0cztcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFM7IHgrKykge1xuICAgICAgICAgICAgYnVja2V0c1t4XSA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5lc3RpbWF0ZUJsYWNrUG9pbnQgPSBmdW5jdGlvbiAoYnVja2V0cykge1xuICAgICAgICAvLyBGaW5kIHRoZSB0YWxsZXN0IHBlYWsgaW4gdGhlIGhpc3RvZ3JhbS5cbiAgICAgICAgdmFyIG51bUJ1Y2tldHMgPSBidWNrZXRzLmxlbmd0aDtcbiAgICAgICAgdmFyIG1heEJ1Y2tldENvdW50ID0gMDtcbiAgICAgICAgdmFyIGZpcnN0UGVhayA9IDA7XG4gICAgICAgIHZhciBmaXJzdFBlYWtTaXplID0gMDtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBudW1CdWNrZXRzOyB4KyspIHtcbiAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gZmlyc3RQZWFrU2l6ZSkge1xuICAgICAgICAgICAgICAgIGZpcnN0UGVhayA9IHg7XG4gICAgICAgICAgICAgICAgZmlyc3RQZWFrU2l6ZSA9IGJ1Y2tldHNbeF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVja2V0c1t4XSA+IG1heEJ1Y2tldENvdW50KSB7XG4gICAgICAgICAgICAgICAgbWF4QnVja2V0Q291bnQgPSBidWNrZXRzW3hdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmQgdGhlIHNlY29uZC10YWxsZXN0IHBlYWsgd2hpY2ggaXMgc29tZXdoYXQgZmFyIGZyb20gdGhlIHRhbGxlc3QgcGVhay5cbiAgICAgICAgdmFyIHNlY29uZFBlYWsgPSAwO1xuICAgICAgICB2YXIgc2Vjb25kUGVha1Njb3JlID0gMDtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBudW1CdWNrZXRzOyB4KyspIHtcbiAgICAgICAgICAgIHZhciBkaXN0YW5jZVRvQmlnZ2VzdCA9IHggLSBmaXJzdFBlYWs7XG4gICAgICAgICAgICAvLyBFbmNvdXJhZ2UgbW9yZSBkaXN0YW50IHNlY29uZCBwZWFrcyBieSBtdWx0aXBseWluZyBieSBzcXVhcmUgb2YgZGlzdGFuY2UuXG4gICAgICAgICAgICB2YXIgc2NvcmUgPSBidWNrZXRzW3hdICogZGlzdGFuY2VUb0JpZ2dlc3QgKiBkaXN0YW5jZVRvQmlnZ2VzdDtcbiAgICAgICAgICAgIGlmIChzY29yZSA+IHNlY29uZFBlYWtTY29yZSkge1xuICAgICAgICAgICAgICAgIHNlY29uZFBlYWsgPSB4O1xuICAgICAgICAgICAgICAgIHNlY29uZFBlYWtTY29yZSA9IHNjb3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBmaXJzdFBlYWsgY29ycmVzcG9uZHMgdG8gdGhlIGJsYWNrIHBlYWsuXG4gICAgICAgIGlmIChmaXJzdFBlYWsgPiBzZWNvbmRQZWFrKSB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IGZpcnN0UGVhaztcbiAgICAgICAgICAgIGZpcnN0UGVhayA9IHNlY29uZFBlYWs7XG4gICAgICAgICAgICBzZWNvbmRQZWFrID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyB0b28gbGl0dGxlIGNvbnRyYXN0IGluIHRoZSBpbWFnZSB0byBwaWNrIGEgbWVhbmluZ2Z1bCBibGFjayBwb2ludCwgdGhyb3cgcmF0aGVyXG4gICAgICAgIC8vIHRoYW4gd2FzdGUgdGltZSB0cnlpbmcgdG8gZGVjb2RlIHRoZSBpbWFnZSwgYW5kIHJpc2sgZmFsc2UgcG9zaXRpdmVzLlxuICAgICAgICBpZiAoc2Vjb25kUGVhayAtIGZpcnN0UGVhayA8PSBudW1CdWNrZXRzIC8gMTYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmQgYSB2YWxsZXkgYmV0d2VlbiB0aGVtIHRoYXQgaXMgbG93IGFuZCBjbG9zZXIgdG8gdGhlIHdoaXRlIHBlYWsuXG4gICAgICAgIHZhciBiZXN0VmFsbGV5ID0gc2Vjb25kUGVhayAtIDE7XG4gICAgICAgIHZhciBiZXN0VmFsbGV5U2NvcmUgPSAtMTtcbiAgICAgICAgZm9yICh2YXIgeCA9IHNlY29uZFBlYWsgLSAxOyB4ID4gZmlyc3RQZWFrOyB4LS0pIHtcbiAgICAgICAgICAgIHZhciBmcm9tRmlyc3QgPSB4IC0gZmlyc3RQZWFrO1xuICAgICAgICAgICAgdmFyIHNjb3JlID0gZnJvbUZpcnN0ICogZnJvbUZpcnN0ICogKHNlY29uZFBlYWsgLSB4KSAqIChtYXhCdWNrZXRDb3VudCAtIGJ1Y2tldHNbeF0pO1xuICAgICAgICAgICAgaWYgKHNjb3JlID4gYmVzdFZhbGxleVNjb3JlKSB7XG4gICAgICAgICAgICAgICAgYmVzdFZhbGxleSA9IHg7XG4gICAgICAgICAgICAgICAgYmVzdFZhbGxleVNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJlc3RWYWxsZXkgPDwgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9TSElGVDtcbiAgICB9O1xuICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUyA9IDU7XG4gICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9TSElGVCA9IDggLSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JJVFM7XG4gICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTID0gMSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JJVFM7XG4gICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZID0gVWludDhDbGFtcGVkQXJyYXkuZnJvbShbMF0pO1xuICAgIHJldHVybiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXI7XG59KEJpbmFyaXplcikpO1xuZXhwb3J0IGRlZmF1bHQgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyIGZyb20gJy4vR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJztcbmltcG9ydCBCaXRNYXRyaXggZnJvbSAnLi9CaXRNYXRyaXgnO1xuLyoqXG4gKiBUaGlzIGNsYXNzIGltcGxlbWVudHMgYSBsb2NhbCB0aHJlc2hvbGRpbmcgYWxnb3JpdGhtLCB3aGljaCB3aGlsZSBzbG93ZXIgdGhhbiB0aGVcbiAqIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgaXMgZmFpcmx5IGVmZmljaWVudCBmb3Igd2hhdCBpdCBkb2VzLiBJdCBpcyBkZXNpZ25lZCBmb3JcbiAqIGhpZ2ggZnJlcXVlbmN5IGltYWdlcyBvZiBiYXJjb2RlcyB3aXRoIGJsYWNrIGRhdGEgb24gd2hpdGUgYmFja2dyb3VuZHMuIEZvciB0aGlzIGFwcGxpY2F0aW9uLFxuICogaXQgZG9lcyBhIG11Y2ggYmV0dGVyIGpvYiB0aGFuIGEgZ2xvYmFsIGJsYWNrcG9pbnQgd2l0aCBzZXZlcmUgc2hhZG93cyBhbmQgZ3JhZGllbnRzLlxuICogSG93ZXZlciBpdCB0ZW5kcyB0byBwcm9kdWNlIGFydGlmYWN0cyBvbiBsb3dlciBmcmVxdWVuY3kgaW1hZ2VzIGFuZCBpcyB0aGVyZWZvcmUgbm90XG4gKiBhIGdvb2QgZ2VuZXJhbCBwdXJwb3NlIGJpbmFyaXplciBmb3IgdXNlcyBvdXRzaWRlIFpYaW5nLlxuICpcbiAqIFRoaXMgY2xhc3MgZXh0ZW5kcyBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIsIHVzaW5nIHRoZSBvbGRlciBoaXN0b2dyYW0gYXBwcm9hY2ggZm9yIDFEIHJlYWRlcnMsXG4gKiBhbmQgdGhlIG5ld2VyIGxvY2FsIGFwcHJvYWNoIGZvciAyRCByZWFkZXJzLiAxRCBkZWNvZGluZyB1c2luZyBhIHBlci1yb3cgaGlzdG9ncmFtIGlzIGFscmVhZHlcbiAqIGluaGVyZW50bHkgbG9jYWwsIGFuZCBvbmx5IGZhaWxzIGZvciBob3Jpem9udGFsIGdyYWRpZW50cy4gV2UgY2FuIHJldmlzaXQgdGhhdCBwcm9ibGVtIGxhdGVyLFxuICogYnV0IGZvciBub3cgaXQgd2FzIG5vdCBhIHdpbiB0byB1c2UgbG9jYWwgYmxvY2tzIGZvciAxRC5cbiAqXG4gKiBUaGlzIEJpbmFyaXplciBpcyB0aGUgZGVmYXVsdCBmb3IgdGhlIHVuaXQgdGVzdHMgYW5kIHRoZSByZWNvbW1lbmRlZCBjbGFzcyBmb3IgbGlicmFyeSB1c2Vycy5cbiAqXG4gKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKVxuICovXG52YXIgSHlicmlkQmluYXJpemVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhIeWJyaWRCaW5hcml6ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSHlicmlkQmluYXJpemVyKHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzb3VyY2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1hdHJpeCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZmluYWwgQml0TWF0cml4IG9uY2UgZm9yIGFsbCByZXF1ZXN0cy4gVGhpcyBjb3VsZCBiZSBjYWxsZWQgb25jZSBmcm9tIHRoZVxuICAgICAqIGNvbnN0cnVjdG9yIGluc3RlYWQsIGJ1dCB0aGVyZSBhcmUgc29tZSBhZHZhbnRhZ2VzIHRvIGRvaW5nIGl0IGxhemlseSwgc3VjaCBhcyBtYWtpbmdcbiAgICAgKiBwcm9maWxpbmcgZWFzaWVyLCBhbmQgbm90IGRvaW5nIGhlYXZ5IGxpZnRpbmcgd2hlbiBjYWxsZXJzIGRvbid0IGV4cGVjdCBpdC5cbiAgICAgKi9cbiAgICAvKkBPdmVycmlkZSovXG4gICAgSHlicmlkQmluYXJpemVyLnByb3RvdHlwZS5nZXRCbGFja01hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubWF0cml4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0THVtaW5hbmNlU291cmNlKCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZS5nZXRXaWR0aCgpO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlLmdldEhlaWdodCgpO1xuICAgICAgICBpZiAod2lkdGggPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OICYmIGhlaWdodCA+PSBIeWJyaWRCaW5hcml6ZXIuTUlOSU1VTV9ESU1FTlNJT04pIHtcbiAgICAgICAgICAgIHZhciBsdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpO1xuICAgICAgICAgICAgdmFyIHN1YldpZHRoID0gd2lkdGggPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7XG4gICAgICAgICAgICBpZiAoKHdpZHRoICYgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfTUFTSykgIT09IDApIHtcbiAgICAgICAgICAgICAgICBzdWJXaWR0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN1YkhlaWdodCA9IGhlaWdodCA+PiBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRV9QT1dFUjtcbiAgICAgICAgICAgIGlmICgoaGVpZ2h0ICYgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfTUFTSykgIT09IDApIHtcbiAgICAgICAgICAgICAgICBzdWJIZWlnaHQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBibGFja1BvaW50cyA9IEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVCbGFja1BvaW50cyhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHZhciBuZXdNYXRyaXggPSBuZXcgQml0TWF0cml4KHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLmNhbGN1bGF0ZVRocmVzaG9sZEZvckJsb2NrKGx1bWluYW5jZXMsIHN1YldpZHRoLCBzdWJIZWlnaHQsIHdpZHRoLCBoZWlnaHQsIGJsYWNrUG9pbnRzLCBuZXdNYXRyaXgpO1xuICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBuZXdNYXRyaXg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaXMgdG9vIHNtYWxsLCBmYWxsIGJhY2sgdG8gdGhlIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guXG4gICAgICAgICAgICB0aGlzLm1hdHJpeCA9IF9zdXBlci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXguY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgSHlicmlkQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgSHlicmlkQmluYXJpemVyKHNvdXJjZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb3IgZWFjaCBibG9jayBpbiB0aGUgaW1hZ2UsIGNhbGN1bGF0ZSB0aGUgYXZlcmFnZSBibGFjayBwb2ludCB1c2luZyBhIDV4NSBncmlkXG4gICAgICogb2YgdGhlIGJsb2NrcyBhcm91bmQgaXQuIEFsc28gaGFuZGxlcyB0aGUgY29ybmVyIGNhc2VzIChmcmFjdGlvbmFsIGJsb2NrcyBhcmUgY29tcHV0ZWQgYmFzZWRcbiAgICAgKiBvbiB0aGUgbGFzdCBwaXhlbHMgaW4gdGhlIHJvdy9jb2x1bW4gd2hpY2ggYXJlIGFsc28gdXNlZCBpbiB0aGUgcHJldmlvdXMgYmxvY2spLlxuICAgICAqL1xuICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayA9IGZ1bmN0aW9uIChsdW1pbmFuY2VzLCBzdWJXaWR0aCAvKmludCovLCBzdWJIZWlnaHQgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8sIGJsYWNrUG9pbnRzLCBtYXRyaXgpIHtcbiAgICAgICAgdmFyIG1heFlPZmZzZXQgPSBoZWlnaHQgLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTtcbiAgICAgICAgdmFyIG1heFhPZmZzZXQgPSB3aWR0aCAtIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFO1xuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHN1YkhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICB2YXIgeW9mZnNldCA9IHkgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7XG4gICAgICAgICAgICBpZiAoeW9mZnNldCA+IG1heFlPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB5b2Zmc2V0ID0gbWF4WU9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0b3BfMSA9IEh5YnJpZEJpbmFyaXplci5jYXAoeSwgMiwgc3ViSGVpZ2h0IC0gMyk7XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7XG4gICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IEh5YnJpZEJpbmFyaXplci5jYXAoeCwgMiwgc3ViV2lkdGggLSAzKTtcbiAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gLTI7IHogPD0gMjsgeisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBibGFja1JvdyA9IGJsYWNrUG9pbnRzW3RvcF8xICsgel07XG4gICAgICAgICAgICAgICAgICAgIHN1bSArPSBibGFja1Jvd1tsZWZ0IC0gMl0gKyBibGFja1Jvd1tsZWZ0IC0gMV0gKyBibGFja1Jvd1tsZWZ0XSArIGJsYWNrUm93W2xlZnQgKyAxXSArIGJsYWNrUm93W2xlZnQgKyAyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gLyAyNTtcbiAgICAgICAgICAgICAgICBIeWJyaWRCaW5hcml6ZXIudGhyZXNob2xkQmxvY2sobHVtaW5hbmNlcywgeG9mZnNldCwgeW9mZnNldCwgYXZlcmFnZSwgd2lkdGgsIG1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEh5YnJpZEJpbmFyaXplci5jYXAgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLywgbWluIC8qaW50Ki8sIG1heCAvKmludCovKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA8IG1pbiA/IG1pbiA6IHZhbHVlID4gbWF4ID8gbWF4IDogdmFsdWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgc2luZ2xlIHRocmVzaG9sZCB0byBhIGJsb2NrIG9mIHBpeGVscy5cbiAgICAgKi9cbiAgICBIeWJyaWRCaW5hcml6ZXIudGhyZXNob2xkQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgeG9mZnNldCAvKmludCovLCB5b2Zmc2V0IC8qaW50Ki8sIHRocmVzaG9sZCAvKmludCovLCBzdHJpZGUgLyppbnQqLywgbWF0cml4KSB7XG4gICAgICAgIGZvciAodmFyIHkgPSAwLCBvZmZzZXQgPSB5b2Zmc2V0ICogc3RyaWRlICsgeG9mZnNldDsgeSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5KyssIG9mZnNldCArPSBzdHJpZGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHgrKykge1xuICAgICAgICAgICAgICAgIC8vIENvbXBhcmlzb24gbmVlZHMgdG8gYmUgPD0gc28gdGhhdCBibGFjayA9PSAwIHBpeGVscyBhcmUgYmxhY2sgZXZlbiBpZiB0aGUgdGhyZXNob2xkIGlzIDAuXG4gICAgICAgICAgICAgICAgaWYgKChsdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhGRikgPD0gdGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeG9mZnNldCArIHgsIHlvZmZzZXQgKyB5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgYSBzaW5nbGUgYmxhY2sgcG9pbnQgZm9yIGVhY2ggYmxvY2sgb2YgcGl4ZWxzIGFuZCBzYXZlcyBpdCBhd2F5LlxuICAgICAqIFNlZSB0aGUgZm9sbG93aW5nIHRocmVhZCBmb3IgYSBkaXNjdXNzaW9uIG9mIHRoaXMgYWxnb3JpdGhtOlxuICAgICAqICBodHRwOi8vZ3JvdXBzLmdvb2dsZS5jb20vZ3JvdXAvenhpbmcvYnJvd3NlX3RocmVhZC90aHJlYWQvZDA2ZWZhMmMzNWE3ZGRjMFxuICAgICAqL1xuICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVCbGFja1BvaW50cyA9IGZ1bmN0aW9uIChsdW1pbmFuY2VzLCBzdWJXaWR0aCAvKmludCovLCBzdWJIZWlnaHQgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHtcbiAgICAgICAgdmFyIG1heFlPZmZzZXQgPSBoZWlnaHQgLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTtcbiAgICAgICAgdmFyIG1heFhPZmZzZXQgPSB3aWR0aCAtIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6d2hpdGVzcGFjZVxuICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBuZXcgQXJyYXkoc3ViSGVpZ2h0KTsgLy8gc3ViV2lkdGhcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgYmxhY2tQb2ludHNbeV0gPSBuZXcgSW50MzJBcnJheShzdWJXaWR0aCk7XG4gICAgICAgICAgICB2YXIgeW9mZnNldCA9IHkgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7XG4gICAgICAgICAgICBpZiAoeW9mZnNldCA+IG1heFlPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB5b2Zmc2V0ID0gbWF4WU9mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgc3ViV2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIHZhciB4b2Zmc2V0ID0geCA8PCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRV9QT1dFUjtcbiAgICAgICAgICAgICAgICBpZiAoeG9mZnNldCA+IG1heFhPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgeG9mZnNldCA9IG1heFhPZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIHZhciBtaW4gPSAweEZGO1xuICAgICAgICAgICAgICAgIHZhciBtYXggPSAwO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHl5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHdpZHRoICsgeG9mZnNldDsgeXkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeXkrKywgb2Zmc2V0ICs9IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHh4ID0gMDsgeHggPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbHVtaW5hbmNlc1tvZmZzZXQgKyB4eF0gJiAweEZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IHBpeGVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RpbGwgbG9va2luZyBmb3IgZ29vZCBjb250cmFzdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsIDwgbWluKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluID0gcGl4ZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPiBtYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBwaXhlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBzaG9ydC1jaXJjdWl0IG1pbi9tYXggdGVzdHMgb25jZSBkeW5hbWljIHJhbmdlIGlzIG1ldFxuICAgICAgICAgICAgICAgICAgICBpZiAobWF4IC0gbWluID4gSHlicmlkQmluYXJpemVyLk1JTl9EWU5BTUlDX1JBTkdFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdGhlIHJlc3Qgb2YgdGhlIHJvd3MgcXVpY2tseVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh5eSsrLCBvZmZzZXQgKz0gd2lkdGg7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHh4ID0gMDsgeHggPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gbHVtaW5hbmNlc1tvZmZzZXQgKyB4eF0gJiAweEZGO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBlc3RpbWF0ZSBpcyB0aGUgYXZlcmFnZSBvZiB0aGUgdmFsdWVzIGluIHRoZSBibG9jay5cbiAgICAgICAgICAgICAgICB2YXIgYXZlcmFnZSA9IHN1bSA+PiAoSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVIgKiAyKTtcbiAgICAgICAgICAgICAgICBpZiAobWF4IC0gbWluIDw9IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB2YXJpYXRpb24gd2l0aGluIHRoZSBibG9jayBpcyBsb3csIGFzc3VtZSB0aGlzIGlzIGEgYmxvY2sgd2l0aCBvbmx5IGxpZ2h0IG9yIG9ubHlcbiAgICAgICAgICAgICAgICAgICAgLy8gZGFyayBwaXhlbHMuIEluIHRoYXQgY2FzZSB3ZSBkbyBub3Qgd2FudCB0byB1c2UgdGhlIGF2ZXJhZ2UsIGFzIGl0IHdvdWxkIGRpdmlkZSB0aGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvdyBjb250cmFzdCBhcmVhIGludG8gYmxhY2sgYW5kIHdoaXRlIHBpeGVscywgZXNzZW50aWFsbHkgY3JlYXRpbmcgZGF0YSBvdXQgb2Ygbm9pc2UuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IGFzc3VtcHRpb24gaXMgdGhhdCB0aGUgYmxvY2sgaXMgbGlnaHQvYmFja2dyb3VuZC4gU2luY2Ugbm8gZXN0aW1hdGUgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBsZXZlbCBvZiBkYXJrIHBpeGVscyBleGlzdHMgbG9jYWxseSwgdXNlIGhhbGYgdGhlIG1pbiBmb3IgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgICAgICBhdmVyYWdlID0gbWluIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHkgPiAwICYmIHggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3JyZWN0IHRoZSBcIndoaXRlIGJhY2tncm91bmRcIiBhc3N1bXB0aW9uIGZvciBibG9ja3MgdGhhdCBoYXZlIG5laWdoYm9ycyBieSBjb21wYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBwaXhlbHMgaW4gdGhpcyBibG9jayB0byB0aGUgcHJldmlvdXNseSBjYWxjdWxhdGVkIGJsYWNrIHBvaW50cy4gVGhpcyBpcyBiYXNlZCBvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGZhY3QgdGhhdCBkYXJrIGJhcmNvZGUgc3ltYm9sb2d5IGlzIGFsd2F5cyBzdXJyb3VuZGVkIGJ5IHNvbWUgYW1vdW50IG9mIGxpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBiYWNrZ3JvdW5kIGZvciB3aGljaCByZWFzb25hYmxlIGJsYWNrIHBvaW50IGVzdGltYXRlcyB3ZXJlIG1hZGUuIFRoZSBicCBlc3RpbWF0ZWQgYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBib3VuZGFyaWVzIGlzIHVzZWQgZm9yIHRoZSBpbnRlcmlvci5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSAobWluIDwgYnApIGlzIGFyYml0cmFyeSBidXQgd29ya3MgYmV0dGVyIHRoYW4gb3RoZXIgaGV1cmlzdGljcyB0aGF0IHdlcmUgdHJpZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXZlcmFnZU5laWdoYm9yQmxhY2tQb2ludCA9IChibGFja1BvaW50c1t5IC0gMV1beF0gKyAoMiAqIGJsYWNrUG9pbnRzW3ldW3ggLSAxXSkgKyBibGFja1BvaW50c1t5IC0gMV1beCAtIDFdKSAvIDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWluIDwgYXZlcmFnZU5laWdoYm9yQmxhY2tQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2UgPSBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldW3hdID0gYXZlcmFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmxhY2tQb2ludHM7XG4gICAgfTtcbiAgICAvLyBUaGlzIGNsYXNzIHVzZXMgNXg1IGJsb2NrcyB0byBjb21wdXRlIGxvY2FsIGx1bWluYW5jZSwgd2hlcmUgZWFjaCBibG9jayBpcyA4eDggcGl4ZWxzLlxuICAgIC8vIFNvIHRoaXMgaXMgdGhlIHNtYWxsZXN0IGRpbWVuc2lvbiBpbiBlYWNoIGF4aXMgd2UgY2FuIGFjY2VwdC5cbiAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRV9QT1dFUiA9IDM7XG4gICAgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkUgPSAxIDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOyAvLyAuLi4wMTAwLi4uMDBcbiAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRV9NQVNLID0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkUgLSAxOyAvLyAuLi4wMDExLi4uMTFcbiAgICBIeWJyaWRCaW5hcml6ZXIuTUlOSU1VTV9ESU1FTlNJT04gPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAqIDU7XG4gICAgSHlicmlkQmluYXJpemVyLk1JTl9EWU5BTUlDX1JBTkdFID0gMjQ7XG4gICAgcmV0dXJuIEh5YnJpZEJpbmFyaXplcjtcbn0oR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKSk7XG5leHBvcnQgZGVmYXVsdCBIeWJyaWRCaW5hcml6ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IeWJyaWRCaW5hcml6ZXIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgU3RyaW5nQnVpbGRlciBmcm9tICcuL3V0aWwvU3RyaW5nQnVpbGRlcic7XG5pbXBvcnQgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24gZnJvbSAnLi9VbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbic7XG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqL1xuLyoqXG4gKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3NcbiAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlXG4gKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmVcbiAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGVcbiAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi5cbiAqXG4gKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKVxuICovXG52YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykge1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLlxuICAgICAqL1xuICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuXG4gICAgICovXG4gICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLlxuICAgICAqL1xuICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZVxuICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpXG4gICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpXG4gICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuXG4gICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC5cbiAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24oJ1RoaXMgbHVtaW5hbmNlIHNvdXJjZSBkb2VzIG5vdCBzdXBwb3J0IGNyb3BwaW5nLicpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBXaGV0aGVyIHRoaXMgc3ViY2xhc3Mgc3VwcG9ydHMgY291bnRlci1jbG9ja3dpc2Ugcm90YXRpb24uXG4gICAgICovXG4gICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pc1JvdGF0ZVN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgOTAgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLlxuICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLlxuICAgICAqXG4gICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbignVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgOTAgZGVncmVlcy4nKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDQ1IGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS5cbiAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlNDUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbignVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTtcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHtcbiAgICAgICAgICAgICAgICAgICAgYyA9ICcjJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICBjID0gJysnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSAnLic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjID0gJyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXFxuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpO1xuICAgIH07XG4gICAgcmV0dXJuIEx1bWluYW5jZVNvdXJjZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBMdW1pbmFuY2VTb3VyY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MdW1pbmFuY2VTb3VyY2UuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBMdW1pbmFuY2VTb3VyY2UgZnJvbSAnLi9MdW1pbmFuY2VTb3VyY2UnO1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki9cbi8qKlxuICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzXG4gKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEludmVydGVkTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEludmVydGVkTHVtaW5hbmNlU291cmNlKGRlbGVnYXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlbGVnYXRlLmdldFdpZHRoKCksIGRlbGVnYXRlLmdldEhlaWdodCgpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7XG4gICAgICAgIHZhciBzb3VyY2VSb3cgPSB0aGlzLmRlbGVnYXRlLmdldFJvdyh5LCByb3cpO1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgc291cmNlUm93W2ldID0gLyooYnl0ZSkqLyAoMjU1IC0gKHNvdXJjZVJvd1tpXSAmIDB4RkYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlUm93O1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRNYXRyaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYXRyaXggPSB0aGlzLmRlbGVnYXRlLmdldE1hdHJpeCgpO1xuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRXaWR0aCgpICogdGhpcy5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIGludmVydGVkTWF0cml4ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGludmVydGVkTWF0cml4W2ldID0gLyooYnl0ZSkqLyAoMjU1IC0gKG1hdHJpeFtpXSAmIDB4RkYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW52ZXJ0ZWRNYXRyaXg7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUuaXNDcm9wU3VwcG9ydGVkKCk7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmNyb3AgPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSh0aGlzLmRlbGVnYXRlLmNyb3AobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc1JvdGF0ZVN1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBvcmlnaW5hbCBkZWxlZ2F0ZSB7QGxpbmsgTHVtaW5hbmNlU291cmNlfSBzaW5jZSBpbnZlcnQgdW5kb2VzIGl0c2VsZlxuICAgICAqL1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZTtcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSh0aGlzLmRlbGVnYXRlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2UoKSk7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSh0aGlzLmRlbGVnYXRlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSgpKTtcbiAgICB9O1xuICAgIHJldHVybiBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZTtcbn0oTHVtaW5hbmNlU291cmNlKSk7XG5leHBvcnQgZGVmYXVsdCBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUludmVydGVkTHVtaW5hbmNlU291cmNlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEludmVydGVkTHVtaW5hbmNlU291cmNlIGZyb20gJy4uL2NvcmUvSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UnO1xuaW1wb3J0IEx1bWluYW5jZVNvdXJjZSBmcm9tICcuLi9jb3JlL0x1bWluYW5jZVNvdXJjZSc7XG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uL2NvcmUvSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJztcbi8qKlxuICogQGRlcHJlY2F0ZWQgTW92aW5nIHRvIEB6eGluZy9icm93c2VyXG4gKi9cbnZhciBIVE1MQ2FudmFzRWxlbWVudEx1bWluYW5jZVNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UoY2FudmFzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICBfdGhpcy50ZW1wQ2FudmFzRWxlbWVudCA9IG51bGw7XG4gICAgICAgIF90aGlzLmJ1ZmZlciA9IEhUTUxDYW52YXNFbGVtZW50THVtaW5hbmNlU291cmNlLm1ha2VCdWZmZXJGcm9tQ2FudmFzSW1hZ2VEYXRhKGNhbnZhcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UubWFrZUJ1ZmZlckZyb21DYW52YXNJbWFnZURhdGEgPSBmdW5jdGlvbiAoY2FudmFzKSB7XG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIEhUTUxDYW52YXNFbGVtZW50THVtaW5hbmNlU291cmNlLnRvR3JheXNjYWxlQnVmZmVyKGltYWdlRGF0YS5kYXRhLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIH07XG4gICAgSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UudG9HcmF5c2NhbGVCdWZmZXIgPSBmdW5jdGlvbiAoaW1hZ2VCdWZmZXIsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIGdyYXlzY2FsZUJ1ZmZlciA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCAqIGhlaWdodCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMCwgbGVuZ3RoXzEgPSBpbWFnZUJ1ZmZlci5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSArPSA0LCBqKyspIHtcbiAgICAgICAgICAgIHZhciBncmF5ID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIGFscGhhID0gaW1hZ2VCdWZmZXJbaSArIDNdO1xuICAgICAgICAgICAgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50XG4gICAgICAgICAgICAvLyBibGFjayAoMCBhbHBoYSwgYW5kIHRoZW4gMCBSR0IpLiBUaGV5IGFyZSBvZnRlbiB1c2VkLCBvZiBjb3Vyc2UgYXMgdGhlIFwid2hpdGVcIiBhcmVhIGluIGFcbiAgICAgICAgICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOlxuICAgICAgICAgICAgaWYgKGFscGhhID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZ3JheSA9IDB4RkY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07XG4gICAgICAgICAgICAgICAgdmFyIHBpeGVsRyA9IGltYWdlQnVmZmVyW2kgKyAxXTtcbiAgICAgICAgICAgICAgICB2YXIgcGl4ZWxCID0gaW1hZ2VCdWZmZXJbaSArIDJdO1xuICAgICAgICAgICAgICAgIC8vIC4yOTlSICsgMC41ODdHICsgMC4xMTRCIChZVVYvWUlRIGZvciBQQUwgYW5kIE5UU0MpLFxuICAgICAgICAgICAgICAgIC8vICgzMDYqUikgPj4gMTAgaXMgYXBwcm94aW1hdGVseSBlcXVhbCB0byBSKjAuMjk5LCBhbmQgc28gb24uXG4gICAgICAgICAgICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLlxuICAgICAgICAgICAgICAgIGdyYXkgPSAoMzA2ICogcGl4ZWxSICtcbiAgICAgICAgICAgICAgICAgICAgNjAxICogcGl4ZWxHICtcbiAgICAgICAgICAgICAgICAgICAgMTE3ICogcGl4ZWxCICtcbiAgICAgICAgICAgICAgICAgICAgMHgyMDApID4+IDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3JheXNjYWxlQnVmZmVyW2pdID0gZ3JheTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ3JheXNjYWxlQnVmZmVyO1xuICAgIH07XG4gICAgSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykge1xuICAgICAgICBpZiAoeSA8IDAgfHwgeSA+PSB0aGlzLmdldEhlaWdodCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCdSZXF1ZXN0ZWQgcm93IGlzIG91dHNpZGUgdGhlIGltYWdlOiAnICsgeSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpO1xuICAgICAgICB2YXIgc3RhcnQgPSB5ICogd2lkdGg7XG4gICAgICAgIGlmIChyb3cgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJvdyA9IHRoaXMuYnVmZmVyLnNsaWNlKHN0YXJ0LCBzdGFydCArIHdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyb3cubGVuZ3RoIDwgd2lkdGgpIHtcbiAgICAgICAgICAgICAgICByb3cgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhlIHVuZGVybHlpbmcgcmFzdGVyIG9mIGltYWdlIGNvbnNpc3RzIG9mIGJ5dGVzIHdpdGggdGhlIGx1bWluYW5jZSB2YWx1ZXNcbiAgICAgICAgICAgIC8vIFRPRE86IGNhbiBhdm9pZCBzZXQvc2xpY2U/XG4gICAgICAgICAgICByb3cuc2V0KHRoaXMuYnVmZmVyLnNsaWNlKHN0YXJ0LCBzdGFydCArIHdpZHRoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvdztcbiAgICB9O1xuICAgIEhUTUxDYW52YXNFbGVtZW50THVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRNYXRyaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcjtcbiAgICB9O1xuICAgIEhUTUxDYW52YXNFbGVtZW50THVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmNyb3AgPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jcm9wLmNhbGwodGhpcywgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGFsd2F5cyB0cnVlLCBzaW5jZSB0aGUgaW1hZ2UgaXMgYSBncmF5LXNjYWxlIGltYWdlLlxuICAgICAqXG4gICAgICogQHJldHVybiB0cnVlXG4gICAgICovXG4gICAgSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEhUTUxDYW52YXNFbGVtZW50THVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJvdGF0ZSgtOTApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEhUTUxDYW52YXNFbGVtZW50THVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlNDUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucm90YXRlKC00NSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldFRlbXBDYW52YXNFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobnVsbCA9PT0gdGhpcy50ZW1wQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIHRlbXBDYW52YXNFbGVtZW50ID0gdGhpcy5jYW52YXMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIHRlbXBDYW52YXNFbGVtZW50LndpZHRoID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgICAgICB0ZW1wQ2FudmFzRWxlbWVudC5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnRlbXBDYW52YXNFbGVtZW50ID0gdGVtcENhbnZhc0VsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcENhbnZhc0VsZW1lbnQ7XG4gICAgfTtcbiAgICBIVE1MQ2FudmFzRWxlbWVudEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XG4gICAgICAgIHZhciB0ZW1wQ2FudmFzRWxlbWVudCA9IHRoaXMuZ2V0VGVtcENhbnZhc0VsZW1lbnQoKTtcbiAgICAgICAgdmFyIHRlbXBDb250ZXh0ID0gdGVtcENhbnZhc0VsZW1lbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgdmFyIGFuZ2xlUmFkaWFucyA9IGFuZ2xlICogSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UuREVHUkVFX1RPX1JBRElBTlM7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBhbmQgc2V0IG5ldyBkaW1lbnNpb25zIGZvciB0ZW1wIGNhbnZhc1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICAgICAgdmFyIG5ld1dpZHRoID0gTWF0aC5jZWlsKE1hdGguYWJzKE1hdGguY29zKGFuZ2xlUmFkaWFucykpICogd2lkdGggKyBNYXRoLmFicyhNYXRoLnNpbihhbmdsZVJhZGlhbnMpKSAqIGhlaWdodCk7XG4gICAgICAgIHZhciBuZXdIZWlnaHQgPSBNYXRoLmNlaWwoTWF0aC5hYnMoTWF0aC5zaW4oYW5nbGVSYWRpYW5zKSkgKiB3aWR0aCArIE1hdGguYWJzKE1hdGguY29zKGFuZ2xlUmFkaWFucykpICogaGVpZ2h0KTtcbiAgICAgICAgdGVtcENhbnZhc0VsZW1lbnQud2lkdGggPSBuZXdXaWR0aDtcbiAgICAgICAgdGVtcENhbnZhc0VsZW1lbnQuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICAgICAgICAvLyBEcmF3IGF0IGNlbnRlciBvZiB0ZW1wIGNhbnZhcyB0byBwcmV2ZW50IGNsaXBwaW5nIG9mIGltYWdlIGRhdGFcbiAgICAgICAgdGVtcENvbnRleHQudHJhbnNsYXRlKG5ld1dpZHRoIC8gMiwgbmV3SGVpZ2h0IC8gMik7XG4gICAgICAgIHRlbXBDb250ZXh0LnJvdGF0ZShhbmdsZVJhZGlhbnMpO1xuICAgICAgICB0ZW1wQ29udGV4dC5kcmF3SW1hZ2UodGhpcy5jYW52YXMsIHdpZHRoIC8gLTIsIGhlaWdodCAvIC0yKTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBIVE1MQ2FudmFzRWxlbWVudEx1bWluYW5jZVNvdXJjZS5tYWtlQnVmZmVyRnJvbUNhbnZhc0ltYWdlRGF0YSh0ZW1wQ2FudmFzRWxlbWVudCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSh0aGlzKTtcbiAgICB9O1xuICAgIEhUTUxDYW52YXNFbGVtZW50THVtaW5hbmNlU291cmNlLkRFR1JFRV9UT19SQURJQU5TID0gTWF0aC5QSSAvIDE4MDtcbiAgICByZXR1cm4gSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2U7XG59KEx1bWluYW5jZVNvdXJjZSkpO1xuZXhwb3J0IHsgSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUhUTUxDYW52YXNFbGVtZW50THVtaW5hbmNlU291cmNlLmpzLm1hcCIsIi8qKlxuICogQGRlcHJlY2F0ZWQgTW92aW5nIHRvIEB6eGluZy9icm93c2VyXG4gKlxuICogVmlkZW8gaW5wdXQgZGV2aWNlIG1ldGFkYXRhIGNvbnRhaW5pbmcgdGhlIGlkIGFuZCBsYWJlbCBvZiB0aGUgZGV2aWNlIGlmIGF2YWlsYWJsZS5cbiAqL1xudmFyIFZpZGVvSW5wdXREZXZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBWaWRlb0lucHV0RGV2aWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkIHRoZSB2aWRlbyBpbnB1dCBkZXZpY2UgaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWwgdGhlIGxhYmVsIG9mIHRoZSBkZXZpY2UgaWYgYXZhaWxhYmxlXG4gICAgICovXG4gICAgZnVuY3Rpb24gVmlkZW9JbnB1dERldmljZShkZXZpY2VJZCwgbGFiZWwsIGdyb3VwSWQpIHtcbiAgICAgICAgdGhpcy5kZXZpY2VJZCA9IGRldmljZUlkO1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgICAgIC8qKiBAaW5oZXJpdGRvYyAqL1xuICAgICAgICB0aGlzLmtpbmQgPSAndmlkZW9pbnB1dCc7XG4gICAgICAgIHRoaXMuZ3JvdXBJZCA9IGdyb3VwSWQgfHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKiogQGluaGVyaXRkb2MgKi9cbiAgICBWaWRlb0lucHV0RGV2aWNlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiB0aGlzLmtpbmQsXG4gICAgICAgICAgICBncm91cElkOiB0aGlzLmdyb3VwSWQsXG4gICAgICAgICAgICBkZXZpY2VJZDogdGhpcy5kZXZpY2VJZCxcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLmxhYmVsLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIFZpZGVvSW5wdXREZXZpY2U7XG59KCkpO1xuZXhwb3J0IHsgVmlkZW9JbnB1dERldmljZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmlkZW9JbnB1dERldmljZS5qcy5tYXAiLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICB9XG59O1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuaW1wb3J0IEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uL2NvcmUvQXJndW1lbnRFeGNlcHRpb24nO1xuaW1wb3J0IEJpbmFyeUJpdG1hcCBmcm9tICcuLi9jb3JlL0JpbmFyeUJpdG1hcCc7XG5pbXBvcnQgQ2hlY2tzdW1FeGNlcHRpb24gZnJvbSAnLi4vY29yZS9DaGVja3N1bUV4Y2VwdGlvbic7XG5pbXBvcnQgSHlicmlkQmluYXJpemVyIGZyb20gJy4uL2NvcmUvY29tbW9uL0h5YnJpZEJpbmFyaXplcic7XG5pbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uL2NvcmUvRm9ybWF0RXhjZXB0aW9uJztcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi9jb3JlL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCB7IEhUTUxDYW52YXNFbGVtZW50THVtaW5hbmNlU291cmNlIH0gZnJvbSAnLi9IVE1MQ2FudmFzRWxlbWVudEx1bWluYW5jZVNvdXJjZSc7XG5pbXBvcnQgeyBWaWRlb0lucHV0RGV2aWNlIH0gZnJvbSAnLi9WaWRlb0lucHV0RGV2aWNlJztcbi8qKlxuICogQGRlcHJlY2F0ZWQgTW92aW5nIHRvIEB6eGluZy9icm93c2VyXG4gKlxuICogQmFzZSBjbGFzcyBmb3IgYnJvd3NlciBjb2RlIHJlYWRlci5cbiAqL1xudmFyIEJyb3dzZXJDb2RlUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQnJvd3NlckNvZGVSZWFkZXIuXG4gICAgICogQHBhcmFtIHtSZWFkZXJ9IHJlYWRlciBUaGUgcmVhZGVyIGluc3RhbmNlIHRvIGRlY29kZSB0aGUgYmFyY29kZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZUJldHdlZW5TY2Fuc01pbGxpcz01MDBdIHRoZSB0aW1lIGRlbGF5IGJldHdlZW4gc3Vic2VxdWVudCBzdWNjZXNzZnVsIGRlY29kZSB0cmllc1xuICAgICAqXG4gICAgICogQG1lbWJlck9mIEJyb3dzZXJDb2RlUmVhZGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnJvd3NlckNvZGVSZWFkZXIocmVhZGVyLCB0aW1lQmV0d2VlblNjYW5zTWlsbGlzLCBfaGludHMpIHtcbiAgICAgICAgaWYgKHRpbWVCZXR3ZWVuU2NhbnNNaWxsaXMgPT09IHZvaWQgMCkgeyB0aW1lQmV0d2VlblNjYW5zTWlsbGlzID0gNTAwOyB9XG4gICAgICAgIHRoaXMucmVhZGVyID0gcmVhZGVyO1xuICAgICAgICB0aGlzLnRpbWVCZXR3ZWVuU2NhbnNNaWxsaXMgPSB0aW1lQmV0d2VlblNjYW5zTWlsbGlzO1xuICAgICAgICB0aGlzLl9oaW50cyA9IF9oaW50cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBicmVhayB0aGUgbG9vcC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0b3BDb250aW51b3VzRGVjb2RlID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgYnJlYWsgdGhlIGxvb3AuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdG9wQXN5bmNEZWNvZGUgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGF5IHRpbWUgYmV0d2VlbiBkZWNvZGUgYXR0ZW1wdHMgbWFkZSBieSB0aGUgc2Nhbm5lci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbWVCZXR3ZWVuRGVjb2RpbmdBdHRlbXB0cyA9IDA7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUsIFwiaGFzTmF2aWdhdG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIG5hdmlnYXRvciBpcyBwcmVzZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLCBcImlzTWVkaWFEZXZpY2VzU3Vwb3J0ZWRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgbWVkaWFEZXZpY2VzIHVuZGVyIG5hdmlnYXRvciBpcyBzdXBwb3J0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhc05hdmlnYXRvciAmJiAhIW5hdmlnYXRvci5tZWRpYURldmljZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLCBcImNhbkVudW1lcmF0ZURldmljZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW51bWVyYXRlRGV2aWNlcyB1bmRlciBuYXZpZ2F0b3IgaXMgc3VwcG9ydGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gISEodGhpcy5pc01lZGlhRGV2aWNlc1N1cG9ydGVkICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLCBcInRpbWVCZXR3ZWVuRGVjb2RpbmdBdHRlbXB0c1wiLCB7XG4gICAgICAgIC8qKiBUaW1lIGJldHdlZW4gdHdvIGRlY29kaW5nIHRyaWVzIGluIG1pbGxpIHNlY29uZHMuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpbWVCZXR3ZWVuRGVjb2RpbmdBdHRlbXB0cztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZSB0aGUgdGltZSBzcGFuIHRoZSBkZWNvZGVyIHdhaXRzIGJldHdlZW4gdHdvIGRlY29kaW5nIHRyaWVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gbWlsbGlzIFRpbWUgYmV0d2VlbiB0d28gZGVjb2RpbmcgdHJpZXMgaW4gbWlsbGkgc2Vjb25kcy5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG1pbGxpcykge1xuICAgICAgICAgICAgdGhpcy5fdGltZUJldHdlZW5EZWNvZGluZ0F0dGVtcHRzID0gbWlsbGlzIDwgMCA/IDAgOiBtaWxsaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLCBcImhpbnRzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGhpbnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGludHM7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBoaW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGhpbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9oaW50cyA9IGhpbnRzIHx8IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBMaXN0cyBhbGwgdGhlIGF2YWlsYWJsZSB2aWRlbyBpbnB1dCBkZXZpY2VzLlxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5saXN0VmlkZW9JbnB1dERldmljZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkZXZpY2VzLCB2aWRlb0RldmljZXMsIGRldmljZXNfMSwgZGV2aWNlc18xXzEsIGRldmljZSwga2luZCwgZGV2aWNlSWQsIGxhYmVsLCBncm91cElkLCB2aWRlb0RldmljZTtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc05hdmlnYXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FuXFwndCBlbnVtZXJhdGUgZGV2aWNlcywgbmF2aWdhdG9yIGlzIG5vdCBwcmVzZW50LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNhbkVudW1lcmF0ZURldmljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhblxcJ3QgZW51bWVyYXRlIGRldmljZXMsIG1ldGhvZCBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VzID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9EZXZpY2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoZGV2aWNlc18xID0gX192YWx1ZXMoZGV2aWNlcyksIGRldmljZXNfMV8xID0gZGV2aWNlc18xLm5leHQoKTsgIWRldmljZXNfMV8xLmRvbmU7IGRldmljZXNfMV8xID0gZGV2aWNlc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2UgPSBkZXZpY2VzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2luZCA9IGRldmljZS5raW5kID09PSAndmlkZW8nID8gJ3ZpZGVvaW5wdXQnIDogZGV2aWNlLmtpbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChraW5kICE9PSAndmlkZW9pbnB1dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZUlkID0gZGV2aWNlLmRldmljZUlkIHx8IGRldmljZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBkZXZpY2UubGFiZWwgfHwgXCJWaWRlbyBkZXZpY2UgXCIgKyAodmlkZW9EZXZpY2VzLmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cElkID0gZGV2aWNlLmdyb3VwSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvRGV2aWNlID0geyBkZXZpY2VJZDogZGV2aWNlSWQsIGxhYmVsOiBsYWJlbCwga2luZDoga2luZCwgZ3JvdXBJZDogZ3JvdXBJZCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlb0RldmljZXMucHVzaCh2aWRlb0RldmljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZpY2VzXzFfMSAmJiAhZGV2aWNlc18xXzEuZG9uZSAmJiAoX2EgPSBkZXZpY2VzXzEucmV0dXJuKSkgX2EuY2FsbChkZXZpY2VzXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdmlkZW9EZXZpY2VzXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPYnRhaW4gdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGRldmljZXMgd2l0aCB0eXBlICd2aWRlb2lucHV0Jy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFZpZGVvSW5wdXREZXZpY2VbXT59IGFuIGFycmF5IG9mIGF2YWlsYWJsZSB2aWRlbyBpbnB1dCBkZXZpY2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQnJvd3NlckNvZGVSZWFkZXJcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSBgbGlzdFZpZGVvSW5wdXREZXZpY2VzYCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5nZXRWaWRlb0lucHV0RGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRldmljZXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMubGlzdFZpZGVvSW5wdXREZXZpY2VzKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXZpY2VzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGRldmljZXMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBuZXcgVmlkZW9JbnB1dERldmljZShkLmRldmljZUlkLCBkLmxhYmVsKTsgfSldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExldCdzIHlvdSBmaW5kIGEgZGV2aWNlIHVzaW5nIGl0J3MgSWQuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmZpbmREZXZpY2VCeUlkID0gZnVuY3Rpb24gKGRldmljZUlkKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkZXZpY2VzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmxpc3RWaWRlb0lucHV0RGV2aWNlcygpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlcyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGV2aWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBkZXZpY2VzLmZpbmQoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguZGV2aWNlSWQgPT09IGRldmljZUlkOyB9KV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb2RlcyB0aGUgYmFyY29kZSBmcm9tIHRoZSBkZXZpY2Ugc3BlY2lmaWVkIGJ5IGRldmljZUlkIHdoaWxlIHNob3dpbmcgdGhlIHZpZGVvIGluIHRoZSBzcGVjaWZpZWQgdmlkZW8gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkZXZpY2VJZCB0aGUgaWQgb2Ygb25lIG9mIHRoZSBkZXZpY2VzIG9idGFpbmVkIGFmdGVyIGNhbGxpbmcgZ2V0VmlkZW9JbnB1dERldmljZXMuIENhbiBiZSB1bmRlZmluZWQsIGluIHRoaXMgY2FzZSBpdCB3aWxsIGRlY29kZSBmcm9tIG9uZSBvZiB0aGUgYXZhaWxhYmxlIGRldmljZXMsIHByZWZmZXJpbmcgdGhlIG1haW4gY2FtZXJhIChlbnZpcm9ubWVudCBmYWNpbmcpIGlmIGF2YWlsYWJsZS5cbiAgICAgKiBAcGFyYW0gdmlkZW8gdGhlIHZpZGVvIGVsZW1lbnQgaW4gcGFnZSB3aGVyZSB0byBzaG93IHRoZSB2aWRlbyB3aGlsZSBkZWNvZGluZy4gQ2FuIGJlIGVpdGhlciBhbiBlbGVtZW50IGlkIG9yIGRpcmVjdGx5IGFuIEhUTUxWaWRlb0VsZW1lbnQuIENhbiBiZSB1bmRlZmluZWQsIGluIHdoaWNoIGNhc2Ugbm8gdmlkZW8gd2lsbCBiZSBzaG93bi5cbiAgICAgKiBAcmV0dXJucyBUaGUgZGVjb2RpbmcgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIEJyb3dzZXJDb2RlUmVhZGVyXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYGRlY29kZU9uY2VGcm9tVmlkZW9EZXZpY2VgIGluc3RlYWQuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZUZyb21JbnB1dFZpZGVvRGV2aWNlID0gZnVuY3Rpb24gKGRldmljZUlkLCB2aWRlb1NvdXJjZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZGVjb2RlT25jZUZyb21WaWRlb0RldmljZShkZXZpY2VJZCwgdmlkZW9Tb3VyY2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbiBvbmUgYXR0ZW1wdCwgdHJpZXMgdG8gZGVjb2RlIHRoZSBiYXJjb2RlIGZyb20gdGhlIGRldmljZSBzcGVjaWZpZWQgYnkgZGV2aWNlSWQgd2hpbGUgc2hvd2luZyB0aGUgdmlkZW8gaW4gdGhlIHNwZWNpZmllZCB2aWRlbyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRldmljZUlkIHRoZSBpZCBvZiBvbmUgb2YgdGhlIGRldmljZXMgb2J0YWluZWQgYWZ0ZXIgY2FsbGluZyBnZXRWaWRlb0lucHV0RGV2aWNlcy4gQ2FuIGJlIHVuZGVmaW5lZCwgaW4gdGhpcyBjYXNlIGl0IHdpbGwgZGVjb2RlIGZyb20gb25lIG9mIHRoZSBhdmFpbGFibGUgZGV2aWNlcywgcHJlZmZlcmluZyB0aGUgbWFpbiBjYW1lcmEgKGVudmlyb25tZW50IGZhY2luZykgaWYgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB2aWRlbyB0aGUgdmlkZW8gZWxlbWVudCBpbiBwYWdlIHdoZXJlIHRvIHNob3cgdGhlIHZpZGVvIHdoaWxlIGRlY29kaW5nLiBDYW4gYmUgZWl0aGVyIGFuIGVsZW1lbnQgaWQgb3IgZGlyZWN0bHkgYW4gSFRNTFZpZGVvRWxlbWVudC4gQ2FuIGJlIHVuZGVmaW5lZCwgaW4gd2hpY2ggY2FzZSBubyB2aWRlbyB3aWxsIGJlIHNob3duLlxuICAgICAqIEByZXR1cm5zIFRoZSBkZWNvZGluZyByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQnJvd3NlckNvZGVSZWFkZXJcbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlT25jZUZyb21WaWRlb0RldmljZSA9IGZ1bmN0aW9uIChkZXZpY2VJZCwgdmlkZW9Tb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZpZGVvQ29uc3RyYWludHMsIGNvbnN0cmFpbnRzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZXZpY2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMgPSB7IGZhY2luZ01vZGU6ICdlbnZpcm9ubWVudCcgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMgPSB7IGRldmljZUlkOiB7IGV4YWN0OiBkZXZpY2VJZCB9IH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50cyA9IHsgdmlkZW86IHZpZGVvQ29uc3RyYWludHMgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZGVjb2RlT25jZUZyb21Db25zdHJhaW50cyhjb25zdHJhaW50cywgdmlkZW9Tb3VyY2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbiBvbmUgYXR0ZW1wdCwgdHJpZXMgdG8gZGVjb2RlIHRoZSBiYXJjb2RlIGZyb20gYSBzdHJlYW0gb2J0YWluZWQgZnJvbSB0aGUgZ2l2ZW4gY29uc3RyYWludHMgd2hpbGUgc2hvd2luZyB0aGUgdmlkZW8gaW4gdGhlIHNwZWNpZmllZCB2aWRlbyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbnN0cmFpbnRzIHRoZSBtZWRpYSBzdHJlYW0gY29uc3RyYWludHMgdG8gZ2V0IHMgdmFsaWQgbWVkaWEgc3RyZWFtIHRvIGRlY29kZSBmcm9tXG4gICAgICogQHBhcmFtIHZpZGVvIHRoZSB2aWRlbyBlbGVtZW50IGluIHBhZ2Ugd2hlcmUgdG8gc2hvdyB0aGUgdmlkZW8gd2hpbGUgZGVjb2RpbmcuIENhbiBiZSBlaXRoZXIgYW4gZWxlbWVudCBpZCBvciBkaXJlY3RseSBhbiBIVE1MVmlkZW9FbGVtZW50LiBDYW4gYmUgdW5kZWZpbmVkLCBpbiB3aGljaCBjYXNlIG5vIHZpZGVvIHdpbGwgYmUgc2hvd24uXG4gICAgICogQHJldHVybnMgVGhlIGRlY29kaW5nIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBCcm93c2VyQ29kZVJlYWRlclxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVPbmNlRnJvbUNvbnN0cmFpbnRzID0gZnVuY3Rpb24gKGNvbnN0cmFpbnRzLCB2aWRlb1NvdXJjZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RyZWFtO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmRlY29kZU9uY2VGcm9tU3RyZWFtKHN0cmVhbSwgdmlkZW9Tb3VyY2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbiBvbmUgYXR0ZW1wdCwgdHJpZXMgdG8gZGVjb2RlIHRoZSBiYXJjb2RlIGZyb20gYSBzdHJlYW0gb2J0YWluZWQgZnJvbSB0aGUgZ2l2ZW4gY29uc3RyYWludHMgd2hpbGUgc2hvd2luZyB0aGUgdmlkZW8gaW4gdGhlIHNwZWNpZmllZCB2aWRlbyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtNZWRpYVN0cmVhbX0gW2NvbnN0cmFpbnRzXSB0aGUgbWVkaWEgc3RyZWFtIGNvbnN0cmFpbnRzIHRvIGdldCBzIHZhbGlkIG1lZGlhIHN0cmVhbSB0byBkZWNvZGUgZnJvbVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxWaWRlb0VsZW1lbnR9IFt2aWRlb10gdGhlIHZpZGVvIGVsZW1lbnQgaW4gcGFnZSB3aGVyZSB0byBzaG93IHRoZSB2aWRlbyB3aGlsZSBkZWNvZGluZy4gQ2FuIGJlIGVpdGhlciBhbiBlbGVtZW50IGlkIG9yIGRpcmVjdGx5IGFuIEhUTUxWaWRlb0VsZW1lbnQuIENhbiBiZSB1bmRlZmluZWQsIGluIHdoaWNoIGNhc2Ugbm8gdmlkZW8gd2lsbCBiZSBzaG93bi5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxSZXN1bHQ+fSBUaGUgZGVjb2RpbmcgcmVzdWx0LlxuICAgICAqXG4gICAgICogQG1lbWJlck9mIEJyb3dzZXJDb2RlUmVhZGVyXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZU9uY2VGcm9tU3RyZWFtID0gZnVuY3Rpb24gKHN0cmVhbSwgdmlkZW9Tb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZpZGVvLCByZXN1bHQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmF0dGFjaFN0cmVhbVRvVmlkZW8oc3RyZWFtLCB2aWRlb1NvdXJjZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlbyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZGVjb2RlT25jZSh2aWRlbyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzdWx0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb250aW51b3VzbHkgZGVjb2RlcyB0aGUgYmFyY29kZSBmcm9tIHRoZSBkZXZpY2Ugc3BlY2lmaWVkIGJ5IGRldmljZSB3aGlsZSBzaG93aW5nIHRoZSB2aWRlbyBpbiB0aGUgc3BlY2lmaWVkIHZpZGVvIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBbZGV2aWNlSWRdIHRoZSBpZCBvZiBvbmUgb2YgdGhlIGRldmljZXMgb2J0YWluZWQgYWZ0ZXIgY2FsbGluZyBnZXRWaWRlb0lucHV0RGV2aWNlcy4gQ2FuIGJlIHVuZGVmaW5lZCwgaW4gdGhpcyBjYXNlIGl0IHdpbGwgZGVjb2RlIGZyb20gb25lIG9mIHRoZSBhdmFpbGFibGUgZGV2aWNlcywgcHJlZmZlcmluZyB0aGUgbWFpbiBjYW1lcmEgKGVudmlyb25tZW50IGZhY2luZykgaWYgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxWaWRlb0VsZW1lbnR8bnVsbH0gW3ZpZGVvXSB0aGUgdmlkZW8gZWxlbWVudCBpbiBwYWdlIHdoZXJlIHRvIHNob3cgdGhlIHZpZGVvIHdoaWxlIGRlY29kaW5nLiBDYW4gYmUgZWl0aGVyIGFuIGVsZW1lbnQgaWQgb3IgZGlyZWN0bHkgYW4gSFRNTFZpZGVvRWxlbWVudC4gQ2FuIGJlIHVuZGVmaW5lZCwgaW4gd2hpY2ggY2FzZSBubyB2aWRlbyB3aWxsIGJlIHNob3duLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqXG4gICAgICogQG1lbWJlck9mIEJyb3dzZXJDb2RlUmVhZGVyXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYGRlY29kZUZyb21WaWRlb0RldmljZWAgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlRnJvbUlucHV0VmlkZW9EZXZpY2VDb250aW51b3VzbHkgPSBmdW5jdGlvbiAoZGV2aWNlSWQsIHZpZGVvU291cmNlLCBjYWxsYmFja0ZuKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5kZWNvZGVGcm9tVmlkZW9EZXZpY2UoZGV2aWNlSWQsIHZpZGVvU291cmNlLCBjYWxsYmFja0ZuKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udGludW91c2x5IHRyaWVzIHRvIGRlY29kZSB0aGUgYmFyY29kZSBmcm9tIHRoZSBkZXZpY2Ugc3BlY2lmaWVkIGJ5IGRldmljZSB3aGlsZSBzaG93aW5nIHRoZSB2aWRlbyBpbiB0aGUgc3BlY2lmaWVkIHZpZGVvIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudWxsfSBbZGV2aWNlSWRdIHRoZSBpZCBvZiBvbmUgb2YgdGhlIGRldmljZXMgb2J0YWluZWQgYWZ0ZXIgY2FsbGluZyBnZXRWaWRlb0lucHV0RGV2aWNlcy4gQ2FuIGJlIHVuZGVmaW5lZCwgaW4gdGhpcyBjYXNlIGl0IHdpbGwgZGVjb2RlIGZyb20gb25lIG9mIHRoZSBhdmFpbGFibGUgZGV2aWNlcywgcHJlZmZlcmluZyB0aGUgbWFpbiBjYW1lcmEgKGVudmlyb25tZW50IGZhY2luZykgaWYgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxWaWRlb0VsZW1lbnR8bnVsbH0gW3ZpZGVvXSB0aGUgdmlkZW8gZWxlbWVudCBpbiBwYWdlIHdoZXJlIHRvIHNob3cgdGhlIHZpZGVvIHdoaWxlIGRlY29kaW5nLiBDYW4gYmUgZWl0aGVyIGFuIGVsZW1lbnQgaWQgb3IgZGlyZWN0bHkgYW4gSFRNTFZpZGVvRWxlbWVudC4gQ2FuIGJlIHVuZGVmaW5lZCwgaW4gd2hpY2ggY2FzZSBubyB2aWRlbyB3aWxsIGJlIHNob3duLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqXG4gICAgICogQG1lbWJlck9mIEJyb3dzZXJDb2RlUmVhZGVyXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZUZyb21WaWRlb0RldmljZSA9IGZ1bmN0aW9uIChkZXZpY2VJZCwgdmlkZW9Tb3VyY2UsIGNhbGxiYWNrRm4pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHZpZGVvQ29uc3RyYWludHMsIGNvbnN0cmFpbnRzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZXZpY2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMgPSB7IGZhY2luZ01vZGU6ICdlbnZpcm9ubWVudCcgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvQ29uc3RyYWludHMgPSB7IGRldmljZUlkOiB7IGV4YWN0OiBkZXZpY2VJZCB9IH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50cyA9IHsgdmlkZW86IHZpZGVvQ29uc3RyYWludHMgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZGVjb2RlRnJvbUNvbnN0cmFpbnRzKGNvbnN0cmFpbnRzLCB2aWRlb1NvdXJjZSwgY2FsbGJhY2tGbildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnRpbnVvdXNseSB0cmllcyB0byBkZWNvZGUgdGhlIGJhcmNvZGUgZnJvbSBhIHN0cmVhbSBvYnRhaW5lZCBmcm9tIHRoZSBnaXZlbiBjb25zdHJhaW50cyB3aGlsZSBzaG93aW5nIHRoZSB2aWRlbyBpbiB0aGUgc3BlY2lmaWVkIHZpZGVvIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBbY29uc3RyYWludHNdIHRoZSBtZWRpYSBzdHJlYW0gY29uc3RyYWludHMgdG8gZ2V0IHMgdmFsaWQgbWVkaWEgc3RyZWFtIHRvIGRlY29kZSBmcm9tXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTFZpZGVvRWxlbWVudH0gW3ZpZGVvXSB0aGUgdmlkZW8gZWxlbWVudCBpbiBwYWdlIHdoZXJlIHRvIHNob3cgdGhlIHZpZGVvIHdoaWxlIGRlY29kaW5nLiBDYW4gYmUgZWl0aGVyIGFuIGVsZW1lbnQgaWQgb3IgZGlyZWN0bHkgYW4gSFRNTFZpZGVvRWxlbWVudC4gQ2FuIGJlIHVuZGVmaW5lZCwgaW4gd2hpY2ggY2FzZSBubyB2aWRlbyB3aWxsIGJlIHNob3duLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3VsdD59IFRoZSBkZWNvZGluZyByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQnJvd3NlckNvZGVSZWFkZXJcbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlRnJvbUNvbnN0cmFpbnRzID0gZnVuY3Rpb24gKGNvbnN0cmFpbnRzLCB2aWRlb1NvdXJjZSwgY2FsbGJhY2tGbikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RyZWFtO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmRlY29kZUZyb21TdHJlYW0oc3RyZWFtLCB2aWRlb1NvdXJjZSwgY2FsbGJhY2tGbildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluIG9uZSBhdHRlbXB0LCB0cmllcyB0byBkZWNvZGUgdGhlIGJhcmNvZGUgZnJvbSBhIHN0cmVhbSBvYnRhaW5lZCBmcm9tIHRoZSBnaXZlbiBjb25zdHJhaW50cyB3aGlsZSBzaG93aW5nIHRoZSB2aWRlbyBpbiB0aGUgc3BlY2lmaWVkIHZpZGVvIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lZGlhU3RyZWFtfSBbY29uc3RyYWludHNdIHRoZSBtZWRpYSBzdHJlYW0gY29uc3RyYWludHMgdG8gZ2V0IHMgdmFsaWQgbWVkaWEgc3RyZWFtIHRvIGRlY29kZSBmcm9tXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTFZpZGVvRWxlbWVudH0gW3ZpZGVvXSB0aGUgdmlkZW8gZWxlbWVudCBpbiBwYWdlIHdoZXJlIHRvIHNob3cgdGhlIHZpZGVvIHdoaWxlIGRlY29kaW5nLiBDYW4gYmUgZWl0aGVyIGFuIGVsZW1lbnQgaWQgb3IgZGlyZWN0bHkgYW4gSFRNTFZpZGVvRWxlbWVudC4gQ2FuIGJlIHVuZGVmaW5lZCwgaW4gd2hpY2ggY2FzZSBubyB2aWRlbyB3aWxsIGJlIHNob3duLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3VsdD59IFRoZSBkZWNvZGluZyByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQnJvd3NlckNvZGVSZWFkZXJcbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlRnJvbVN0cmVhbSA9IGZ1bmN0aW9uIChzdHJlYW0sIHZpZGVvU291cmNlLCBjYWxsYmFja0ZuKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB2aWRlbztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYXR0YWNoU3RyZWFtVG9WaWRlbyhzdHJlYW0sIHZpZGVvU291cmNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5kZWNvZGVDb250aW51b3VzbHkodmlkZW8sIGNhbGxiYWNrRm4pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCcmVha3MgdGhlIGRlY29kaW5nIGxvb3AuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLnN0b3BBc3luY0RlY29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fc3RvcEFzeW5jRGVjb2RlID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJyZWFrcyB0aGUgZGVjb2RpbmcgbG9vcC5cbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuc3RvcENvbnRpbnVvdXNEZWNvZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3N0b3BDb250aW51b3VzRGVjb2RlID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG5ldyBzdHJlYW0gYW5kIHJlcXVlc3QgYSBuZXcgZGVjb2Rpbmctd2l0aC1kZWxheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdHJlYW0gVGhlIHN0cmVhbSB0byBiZSBzaG93biBpbiB0aGUgdmlkZW8gZWxlbWVudC5cbiAgICAgKiBAcGFyYW0gZGVjb2RlRm4gQSBjYWxsYmFjayBmb3IgdGhlIGRlY29kZSBtZXRob2QuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmF0dGFjaFN0cmVhbVRvVmlkZW8gPSBmdW5jdGlvbiAoc3RyZWFtLCB2aWRlb1NvdXJjZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdmlkZW9FbGVtZW50O1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50ID0gdGhpcy5wcmVwYXJlVmlkZW9FbGVtZW50KHZpZGVvU291cmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmlkZW9Tb3VyY2UodmlkZW9FbGVtZW50LCBzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlb0VsZW1lbnQgPSB2aWRlb0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucGxheVZpZGVvT25Mb2FkQXN5bmModmlkZW9FbGVtZW50KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB2aWRlb0VsZW1lbnRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHZpZGVvRWxlbWVudFxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5wbGF5VmlkZW9PbkxvYWRBc3luYyA9IGZ1bmN0aW9uICh2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgcmV0dXJuIF90aGlzLnBsYXlWaWRlb09uTG9hZCh2aWRlb0VsZW1lbnQsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoKTsgfSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmluZHMgbGlzdGVuZXJzIGFuZCBjYWxsYmFja3MgdG8gdGhlIHZpZGVvRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICogQHBhcmFtIGNhbGxiYWNrRm5cbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUucGxheVZpZGVvT25Mb2FkID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrRm4pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy52aWRlb0VuZGVkTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5zdG9wU3RyZWFtcygpOyB9O1xuICAgICAgICB0aGlzLnZpZGVvQ2FuUGxheUxpc3RlbmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudHJ5UGxheVZpZGVvKGVsZW1lbnQpOyB9O1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy52aWRlb0VuZGVkTGlzdGVuZXIpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLnZpZGVvQ2FuUGxheUxpc3RlbmVyKTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgY2FsbGJhY2tGbik7XG4gICAgICAgIC8vIGlmIGNhbnBsYXkgd2FzIGFscmVhZHkgZmlyZWQsIHdlIHdvbid0IGtub3cgd2hlbiB0byBwbGF5LCBzbyBqdXN0IGdpdmUgaXQgYSB0cnlcbiAgICAgICAgdGhpcy50cnlQbGF5VmlkZW8oZWxlbWVudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIHZpZGVvIGVsZW1lbnQgaXMgY3VycmVudGx5IHBsYXlpbmcuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmlzVmlkZW9QbGF5aW5nID0gZnVuY3Rpb24gKHZpZGVvKSB7XG4gICAgICAgIHJldHVybiB2aWRlby5jdXJyZW50VGltZSA+IDAgJiYgIXZpZGVvLnBhdXNlZCAmJiAhdmlkZW8uZW5kZWQgJiYgdmlkZW8ucmVhZHlTdGF0ZSA+IDI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBKdXN0IHRyaWVzIHRvIHBsYXkgdGhlIHZpZGVvIGFuZCBsb2dzIGFueSBlcnJvcnMuXG4gICAgICogVGhlIHBsYXkgY2FsbCBpcyBvbmx5IG1hZGUgaXMgdGhlIHZpZGVvIGlzIG5vdCBhbHJlYWR5IHBsYXlpbmcuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLnRyeVBsYXlWaWRlbyA9IGZ1bmN0aW9uICh2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNWaWRlb1BsYXlpbmcodmlkZW9FbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVHJ5aW5nIHRvIHBsYXkgdmlkZW8gdGhhdCBpcyBhbHJlYWR5IHBsYXlpbmcuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdmlkZW9FbGVtZW50LnBsYXkoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignSXQgd2FzIG5vdCBwb3NzaWJsZSB0byBwbGF5IHRoZSB2aWRlby4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWFyY2hlcyBhbmQgdmFsaWRhdGVzIGEgbWVkaWEgZWxlbWVudC5cbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZ2V0TWVkaWFFbGVtZW50ID0gZnVuY3Rpb24gKG1lZGlhRWxlbWVudElkLCB0eXBlKSB7XG4gICAgICAgIHZhciBtZWRpYUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZWRpYUVsZW1lbnRJZCk7XG4gICAgICAgIGlmICghbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRFeGNlcHRpb24oXCJlbGVtZW50IHdpdGggaWQgJ1wiICsgbWVkaWFFbGVtZW50SWQgKyBcIicgbm90IGZvdW5kXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZWRpYUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gdHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRFeGNlcHRpb24oXCJlbGVtZW50IHdpdGggaWQgJ1wiICsgbWVkaWFFbGVtZW50SWQgKyBcIicgbXVzdCBiZSBhbiBcIiArIHR5cGUgKyBcIiBlbGVtZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZWRpYUVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNvZGVzIHRoZSBiYXJjb2RlIGZyb20gYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8SFRNTEltYWdlRWxlbWVudCl9IFtzb3VyY2VdIFRoZSBpbWFnZSBlbGVtZW50IHRoYXQgY2FuIGJlIGVpdGhlciBhbiBlbGVtZW50IGlkIG9yIHRoZSBlbGVtZW50IGl0c2VsZi4gQ2FuIGJlIHVuZGVmaW5lZCBpbiB3aGljaCBjYXNlIHRoZSBkZWNvZGluZyB3aWxsIGJlIGRvbmUgZnJvbSB0aGUgaW1hZ2VVcmwgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXJsXVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3VsdD59IFRoZSBkZWNvZGluZyByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQnJvd3NlckNvZGVSZWFkZXJcbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlRnJvbUltYWdlID0gZnVuY3Rpb24gKHNvdXJjZSwgdXJsKSB7XG4gICAgICAgIGlmICghc291cmNlICYmICF1cmwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudEV4Y2VwdGlvbignZWl0aGVyIGltYWdlRWxlbWVudCB3aXRoIGEgc3JjIHNldCBvciBhbiB1cmwgbXVzdCBiZSBwcm92aWRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cmwgJiYgIXNvdXJjZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlRnJvbUltYWdlVXJsKHVybCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlRnJvbUltYWdlRWxlbWVudChzb3VyY2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb2RlcyB0aGUgYmFyY29kZSBmcm9tIGEgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8SFRNTEltYWdlRWxlbWVudCl9IFtzb3VyY2VdIFRoZSBpbWFnZSBlbGVtZW50IHRoYXQgY2FuIGJlIGVpdGhlciBhbiBlbGVtZW50IGlkIG9yIHRoZSBlbGVtZW50IGl0c2VsZi4gQ2FuIGJlIHVuZGVmaW5lZCBpbiB3aGljaCBjYXNlIHRoZSBkZWNvZGluZyB3aWxsIGJlIGRvbmUgZnJvbSB0aGUgaW1hZ2VVcmwgcGFyYW1ldGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXJsXVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3VsdD59IFRoZSBkZWNvZGluZyByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQnJvd3NlckNvZGVSZWFkZXJcbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlRnJvbVZpZGVvID0gZnVuY3Rpb24gKHNvdXJjZSwgdXJsKSB7XG4gICAgICAgIGlmICghc291cmNlICYmICF1cmwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudEV4Y2VwdGlvbignRWl0aGVyIGFuIGVsZW1lbnQgd2l0aCBhIHNyYyBzZXQgb3IgYW4gVVJMIG11c3QgYmUgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsICYmICFzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZyb21WaWRlb1VybCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZyb21WaWRlb0VsZW1lbnQoc291cmNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29kZXMgY29udGludW91c2x5IHRoZSBiYXJjb2RlIGZyb20gYSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50KX0gW3NvdXJjZV0gVGhlIGltYWdlIGVsZW1lbnQgdGhhdCBjYW4gYmUgZWl0aGVyIGFuIGVsZW1lbnQgaWQgb3IgdGhlIGVsZW1lbnQgaXRzZWxmLiBDYW4gYmUgdW5kZWZpbmVkIGluIHdoaWNoIGNhc2UgdGhlIGRlY29kaW5nIHdpbGwgYmUgZG9uZSBmcm9tIHRoZSBpbWFnZVVybCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1cmxdXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmVzdWx0Pn0gVGhlIGRlY29kaW5nIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBCcm93c2VyQ29kZVJlYWRlclxuICAgICAqXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVGcm9tVmlkZW9Db250aW51b3VzbHkgPSBmdW5jdGlvbiAoc291cmNlLCB1cmwsIGNhbGxiYWNrRm4pIHtcbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gc291cmNlICYmIHVuZGVmaW5lZCA9PT0gdXJsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRFeGNlcHRpb24oJ0VpdGhlciBhbiBlbGVtZW50IHdpdGggYSBzcmMgc2V0IG9yIGFuIFVSTCBtdXN0IGJlIHByb3ZpZGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVybCAmJiAhc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGVGcm9tVmlkZW9VcmxDb250aW51b3VzbHkodXJsLCBjYWxsYmFja0ZuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGVGcm9tVmlkZW9FbGVtZW50Q29udGludW91c2x5KHNvdXJjZSwgY2FsbGJhY2tGbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNvZGVzIHNvbWV0aGluZyBmcm9tIGFuIGltYWdlIEhUTUwgZWxlbWVudC5cbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlRnJvbUltYWdlRWxlbWVudCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudEV4Y2VwdGlvbignQW4gaW1hZ2UgZWxlbWVudCBtdXN0IGJlIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnByZXBhcmVJbWFnZUVsZW1lbnQoc291cmNlKTtcbiAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB2YXIgdGFzaztcbiAgICAgICAgaWYgKHRoaXMuaXNJbWFnZUxvYWRlZChlbGVtZW50KSkge1xuICAgICAgICAgICAgdGFzayA9IHRoaXMuZGVjb2RlT25jZShlbGVtZW50LCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXNrID0gdGhpcy5fZGVjb2RlT25Mb2FkSW1hZ2UoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhc2s7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNvZGVzIHNvbWV0aGluZyBmcm9tIGFuIGltYWdlIEhUTUwgZWxlbWVudC5cbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlRnJvbVZpZGVvRWxlbWVudCA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLl9kZWNvZGVGcm9tVmlkZW9FbGVtZW50U2V0dXAoc291cmNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlY29kZU9uTG9hZFZpZGVvKGVsZW1lbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb2RlcyBzb21ldGhpbmcgZnJvbSBhbiBpbWFnZSBIVE1MIGVsZW1lbnQuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZUZyb21WaWRlb0VsZW1lbnRDb250aW51b3VzbHkgPSBmdW5jdGlvbiAoc291cmNlLCBjYWxsYmFja0ZuKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5fZGVjb2RlRnJvbVZpZGVvRWxlbWVudFNldHVwKHNvdXJjZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWNvZGVPbkxvYWRWaWRlb0NvbnRpbnVvdXNseShlbGVtZW50LCBjYWxsYmFja0ZuKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHZpZGVvIHNvdXJjZSBzbyBpdCBjYW4gYmUgZGVjb2RlZCB3aGVuIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzb3VyY2UgVGhlIHZpZGVvIHNvdXJjZSBlbGVtZW50LlxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5fZGVjb2RlRnJvbVZpZGVvRWxlbWVudFNldHVwID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uKCdBIHZpZGVvIGVsZW1lbnQgbXVzdCBiZSBwcm92aWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5wcmVwYXJlVmlkZW9FbGVtZW50KHNvdXJjZSk7XG4gICAgICAgIC8vIGRlZmluZXMgdGhlIHZpZGVvIGVsZW1lbnQgYmVmb3JlIHN0YXJ0cyBkZWNvZGluZ1xuICAgICAgICB0aGlzLnZpZGVvRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb2RlcyBhbiBpbWFnZSBmcm9tIGEgVVJMLlxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVGcm9tSW1hZ2VVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGlmICghdXJsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJndW1lbnRFeGNlcHRpb24oJ0FuIFVSTCBtdXN0IGJlIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnByZXBhcmVJbWFnZUVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB2YXIgZGVjb2RlVGFzayA9IHRoaXMuX2RlY29kZU9uTG9hZEltYWdlKGVsZW1lbnQpO1xuICAgICAgICBlbGVtZW50LnNyYyA9IHVybDtcbiAgICAgICAgcmV0dXJuIGRlY29kZVRhc2s7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZWNvZGVzIGFuIGltYWdlIGZyb20gYSBVUkwuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZUZyb21WaWRlb1VybCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudEV4Y2VwdGlvbignQW4gVVJMIG11c3QgYmUgcHJvdmlkZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAvLyBjcmVhdGVzIGEgbmV3IGVsZW1lbnRcbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnByZXBhcmVWaWRlb0VsZW1lbnQoKTtcbiAgICAgICAgdmFyIGRlY29kZVRhc2sgPSB0aGlzLmRlY29kZUZyb21WaWRlb0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIGVsZW1lbnQuc3JjID0gdXJsO1xuICAgICAgICByZXR1cm4gZGVjb2RlVGFzaztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY29kZXMgYW4gaW1hZ2UgZnJvbSBhIFVSTC5cbiAgICAgKlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlRnJvbVZpZGVvVXJsQ29udGludW91c2x5ID0gZnVuY3Rpb24gKHVybCwgY2FsbGJhY2tGbikge1xuICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uKCdBbiBVUkwgbXVzdCBiZSBwcm92aWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIC8vIGNyZWF0ZXMgYSBuZXcgZWxlbWVudFxuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMucHJlcGFyZVZpZGVvRWxlbWVudCgpO1xuICAgICAgICB2YXIgZGVjb2RlVGFzayA9IHRoaXMuZGVjb2RlRnJvbVZpZGVvRWxlbWVudENvbnRpbnVvdXNseShlbGVtZW50LCBjYWxsYmFja0ZuKTtcbiAgICAgICAgZWxlbWVudC5zcmMgPSB1cmw7XG4gICAgICAgIHJldHVybiBkZWNvZGVUYXNrO1xuICAgIH07XG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLl9kZWNvZGVPbkxvYWRJbWFnZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBfdGhpcy5pbWFnZUxvYWRlZExpc3RlbmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZGVjb2RlT25jZShlbGVtZW50LCBmYWxzZSwgdHJ1ZSkudGhlbihyZXNvbHZlLCByZWplY3QpOyB9O1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgX3RoaXMuaW1hZ2VMb2FkZWRMaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLl9kZWNvZGVPbkxvYWRWaWRlbyA9IGZ1bmN0aW9uICh2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiBcbiAgICAgICAgICAgICAgICAgICAgLy8gcGxheXMgdGhlIHZpZGVvXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucGxheVZpZGVvT25Mb2FkQXN5bmModmlkZW9FbGVtZW50KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBsYXlzIHRoZSB2aWRlb1xuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5kZWNvZGVPbmNlKHZpZGVvRWxlbWVudCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IFxuICAgICAgICAgICAgICAgICAgICAvLyBzdGFydHMgZGVjb2RpbmcgYWZ0ZXIgcGxheWVkIHRoZSB2aWRlb1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuX2RlY29kZU9uTG9hZFZpZGVvQ29udGludW91c2x5ID0gZnVuY3Rpb24gKHZpZGVvRWxlbWVudCwgY2FsbGJhY2tGbikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IFxuICAgICAgICAgICAgICAgICAgICAvLyBwbGF5cyB0aGUgdmlkZW9cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5wbGF5VmlkZW9PbkxvYWRBc3luYyh2aWRlb0VsZW1lbnQpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGxheXMgdGhlIHZpZGVvXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydHMgZGVjb2RpbmcgYWZ0ZXIgcGxheWVkIHRoZSB2aWRlb1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNvZGVDb250aW51b3VzbHkodmlkZW9FbGVtZW50LCBjYWxsYmFja0ZuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuaXNJbWFnZUxvYWRlZCA9IGZ1bmN0aW9uIChpbWcpIHtcbiAgICAgICAgLy8gRHVyaW5nIHRoZSBvbmxvYWQgZXZlbnQsIElFIGNvcnJlY3RseSBpZGVudGlmaWVzIGFueSBpbWFnZXMgdGhhdFxuICAgICAgICAvLyB3ZXJlbuKAmXQgZG93bmxvYWRlZCBhcyBub3QgY29tcGxldGUuIE90aGVycyBzaG91bGQgdG9vLiBHZWNrby1iYXNlZFxuICAgICAgICAvLyBicm93c2VycyBhY3QgbGlrZSBOUzQgaW4gdGhhdCB0aGV5IHJlcG9ydCB0aGlzIGluY29ycmVjdGx5LlxuICAgICAgICBpZiAoIWltZy5jb21wbGV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhvd2V2ZXIsIHRoZXkgZG8gaGF2ZSB0d28gdmVyeSB1c2VmdWwgcHJvcGVydGllczogbmF0dXJhbFdpZHRoIGFuZFxuICAgICAgICAvLyBuYXR1cmFsSGVpZ2h0LiBUaGVzZSBnaXZlIHRoZSB0cnVlIHNpemUgb2YgdGhlIGltYWdlLiBJZiBpdCBmYWlsZWRcbiAgICAgICAgLy8gdG8gbG9hZCwgZWl0aGVyIG9mIHRoZXNlIHNob3VsZCBiZSB6ZXJvLlxuICAgICAgICBpZiAoaW1nLm5hdHVyYWxXaWR0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vIG90aGVyIHdheSBvZiBjaGVja2luZzogYXNzdW1lIGl04oCZcyBvay5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUucHJlcGFyZUltYWdlRWxlbWVudCA9IGZ1bmN0aW9uIChpbWFnZVNvdXJjZSkge1xuICAgICAgICB2YXIgaW1hZ2VFbGVtZW50O1xuICAgICAgICBpZiAodHlwZW9mIGltYWdlU291cmNlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQud2lkdGggPSAyMDA7XG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuaGVpZ2h0ID0gMjAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgaW1hZ2VTb3VyY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQgPSB0aGlzLmdldE1lZGlhRWxlbWVudChpbWFnZVNvdXJjZSwgJ2ltZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbWFnZVNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGltYWdlRWxlbWVudCA9IGltYWdlU291cmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbWFnZUVsZW1lbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIGEgSFRNTFZpZGVvRWxlbWVudCBmb3Igc2Nhbm5pbmcgb3IgY3JlYXRlcyBhIG5ldyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmlkZW9Tb3VyY2UgVGhlIEhUTUxWaWRlb0VsZW1lbnQgdG8gYmUgc2V0LlxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5wcmVwYXJlVmlkZW9FbGVtZW50ID0gZnVuY3Rpb24gKHZpZGVvU291cmNlKSB7XG4gICAgICAgIHZhciB2aWRlb0VsZW1lbnQ7XG4gICAgICAgIGlmICghdmlkZW9Tb3VyY2UgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC53aWR0aCA9IDIwMDtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5oZWlnaHQgPSAyMDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2aWRlb1NvdXJjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudCA9IHRoaXMuZ2V0TWVkaWFFbGVtZW50KHZpZGVvU291cmNlLCAndmlkZW8nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlkZW9Tb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KSB7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQgPSB2aWRlb1NvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOZWVkZWQgZm9yIGlPUyAxMVxuICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdhdXRvcGxheScsICd0cnVlJyk7XG4gICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ211dGVkJywgJ3RydWUnKTtcbiAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAndHJ1ZScpO1xuICAgICAgICByZXR1cm4gdmlkZW9FbGVtZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpZXMgdG8gZGVjb2RlIGZyb20gdGhlIHZpZGVvIGlucHV0IHVudGlsIGl0IGZpbmRzIHNvbWUgdmFsdWUuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZU9uY2UgPSBmdW5jdGlvbiAoZWxlbWVudCwgcmV0cnlJZk5vdEZvdW5kLCByZXRyeUlmQ2hlY2tzdW1PckZvcm1hdEVycm9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChyZXRyeUlmTm90Rm91bmQgPT09IHZvaWQgMCkgeyByZXRyeUlmTm90Rm91bmQgPSB0cnVlOyB9XG4gICAgICAgIGlmIChyZXRyeUlmQ2hlY2tzdW1PckZvcm1hdEVycm9yID09PSB2b2lkIDApIHsgcmV0cnlJZkNoZWNrc3VtT3JGb3JtYXRFcnJvciA9IHRydWU7IH1cbiAgICAgICAgdGhpcy5fc3RvcEFzeW5jRGVjb2RlID0gZmFsc2U7XG4gICAgICAgIHZhciBsb29wID0gZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLl9zdG9wQXN5bmNEZWNvZGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IE5vdEZvdW5kRXhjZXB0aW9uKCdWaWRlbyBzdHJlYW0gaGFzIGVuZGVkIGJlZm9yZSBhbnkgY29kZSBjb3VsZCBiZSBkZXRlY3RlZC4nKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3N0b3BBc3luY0RlY29kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfdGhpcy5kZWNvZGUoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWZOb3RGb3VuZCA9IHJldHJ5SWZOb3RGb3VuZCAmJiBlIGluc3RhbmNlb2YgTm90Rm91bmRFeGNlcHRpb247XG4gICAgICAgICAgICAgICAgdmFyIGlzQ2hlY2tzdW1PckZvcm1hdEVycm9yID0gZSBpbnN0YW5jZW9mIENoZWNrc3VtRXhjZXB0aW9uIHx8IGUgaW5zdGFuY2VvZiBGb3JtYXRFeGNlcHRpb247XG4gICAgICAgICAgICAgICAgdmFyIGlmQ2hlY2tzdW1PckZvcm1hdCA9IGlzQ2hlY2tzdW1PckZvcm1hdEVycm9yICYmIHJldHJ5SWZDaGVja3N1bU9yRm9ybWF0RXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKGlmTm90Rm91bmQgfHwgaWZDaGVja3N1bU9yRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRyeWluZyBhZ2FpblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChsb29wLCBfdGhpcy5fdGltZUJldHdlZW5EZWNvZGluZ0F0dGVtcHRzLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHJldHVybiBsb29wKHJlc29sdmUsIHJlamVjdCk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udGludW91c2x5IGRlY29kZXMgZnJvbSB2aWRlbyBpbnB1dC5cbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlQ29udGludW91c2x5ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNhbGxiYWNrRm4pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fc3RvcENvbnRpbnVvdXNEZWNvZGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3N0b3BDb250aW51b3VzRGVjb2RlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3N0b3BDb250aW51b3VzRGVjb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF90aGlzLmRlY29kZShlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja0ZuKHJlc3VsdCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wLCBfdGhpcy50aW1lQmV0d2VlblNjYW5zTWlsbGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tGbihudWxsLCBlKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNDaGVja3N1bU9yRm9ybWF0RXJyb3IgPSBlIGluc3RhbmNlb2YgQ2hlY2tzdW1FeGNlcHRpb24gfHwgZSBpbnN0YW5jZW9mIEZvcm1hdEV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgaXNOb3RGb3VuZCA9IGUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoaXNDaGVja3N1bU9yRm9ybWF0RXJyb3IgfHwgaXNOb3RGb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0cnlpbmcgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChsb29wLCBfdGhpcy5fdGltZUJldHdlZW5EZWNvZGluZ0F0dGVtcHRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGxvb3AoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIEJpbmFyeUJpdG1hcCBmb3IgeWEhIChhbmQgZGVjb2RlcyBpdClcbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgLy8gZ2V0IGJpbmFyeSBiaXRtYXAgZm9yIGRlY29kZSBmdW5jdGlvblxuICAgICAgICB2YXIgYmluYXJ5Qml0bWFwID0gdGhpcy5jcmVhdGVCaW5hcnlCaXRtYXAoZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdG1hcChiaW5hcnlCaXRtYXApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJpbmFyeUJpdG1hcCBiYXNlZCBpbiBzb21lIGltYWdlIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZWRpYUVsZW1lbnQgSFRNTCBlbGVtZW50IGNvbnRhaW5pbmcgZHJhd2FibGUgaW1hZ2Ugc291cmNlLlxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcnlCaXRtYXAgPSBmdW5jdGlvbiAobWVkaWFFbGVtZW50KSB7XG4gICAgICAgIHZhciBjdHggPSB0aGlzLmdldENhcHR1cmVDYW52YXNDb250ZXh0KG1lZGlhRWxlbWVudCk7XG4gICAgICAgIHRoaXMuZHJhd0ltYWdlT25DYW52YXMoY3R4LCBtZWRpYUVsZW1lbnQpO1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5nZXRDYXB0dXJlQ2FudmFzKG1lZGlhRWxlbWVudCk7XG4gICAgICAgIHZhciBsdW1pbmFuY2VTb3VyY2UgPSBuZXcgSFRNTENhbnZhc0VsZW1lbnRMdW1pbmFuY2VTb3VyY2UoY2FudmFzKTtcbiAgICAgICAgdmFyIGh5YnJpZEJpbmFyaXplciA9IG5ldyBIeWJyaWRCaW5hcml6ZXIobHVtaW5hbmNlU291cmNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCaW5hcnlCaXRtYXAoaHlicmlkQmluYXJpemVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmdldENhcHR1cmVDYW52YXNDb250ZXh0ID0gZnVuY3Rpb24gKG1lZGlhRWxlbWVudCkge1xuICAgICAgICBpZiAoIXRoaXMuY2FwdHVyZUNhbnZhc0NvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciBlbGVtID0gdGhpcy5nZXRDYXB0dXJlQ2FudmFzKG1lZGlhRWxlbWVudCk7XG4gICAgICAgICAgICB2YXIgY3R4ID0gZWxlbS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgdGhpcy5jYXB0dXJlQ2FudmFzQ29udGV4dCA9IGN0eDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYXB0dXJlQ2FudmFzQ29udGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmdldENhcHR1cmVDYW52YXMgPSBmdW5jdGlvbiAobWVkaWFFbGVtZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5jYXB0dXJlQ2FudmFzKSB7XG4gICAgICAgICAgICB2YXIgZWxlbSA9IHRoaXMuY3JlYXRlQ2FwdHVyZUNhbnZhcyhtZWRpYUVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5jYXB0dXJlQ2FudmFzID0gZWxlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jYXB0dXJlQ2FudmFzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3Zld3JpdGluZyB0aGlzIGFsbG93cyB5b3UgdG8gbWFuaXB1bGF0ZSB0aGUgc25hcHNob3QgaW1hZ2UgaW4gYW55d2F5IHlvdSB3YW50IGJlZm9yZSBkZWNvZGUuXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLmRyYXdJbWFnZU9uQ2FudmFzID0gZnVuY3Rpb24gKGNhbnZhc0VsZW1lbnRDb250ZXh0LCBzcmNFbGVtZW50KSB7XG4gICAgICAgIGNhbnZhc0VsZW1lbnRDb250ZXh0LmRyYXdJbWFnZShzcmNFbGVtZW50LCAwLCAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGwgdGhlIGVuY2Fwc3VsYXRlZCByZWFkZXJzIGRlY29kZVxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRtYXAgPSBmdW5jdGlvbiAoYmluYXJ5Qml0bWFwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwLCB0aGlzLl9oaW50cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiDwn5aMIFByZXBhcmVzIHRoZSBjYW52YXMgZm9yIGNhcHR1cmUgYW5kIHNjYW4gZnJhbWVzLlxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5jcmVhdGVDYXB0dXJlQ2FudmFzID0gZnVuY3Rpb24gKG1lZGlhRWxlbWVudCkge1xuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5fZGVzdHJveUNhcHR1cmVDYW52YXMoKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHZhciB3aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodDtcbiAgICAgICAgaWYgKHR5cGVvZiBtZWRpYUVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAobWVkaWFFbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gbWVkaWFFbGVtZW50LnZpZGVvV2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gbWVkaWFFbGVtZW50LnZpZGVvSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWVkaWFFbGVtZW50IGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gbWVkaWFFbGVtZW50Lm5hdHVyYWxXaWR0aCB8fCBtZWRpYUVsZW1lbnQud2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gbWVkaWFFbGVtZW50Lm5hdHVyYWxIZWlnaHQgfHwgbWVkaWFFbGVtZW50LmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYW52YXNFbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGggKyAncHgnO1xuICAgICAgICBjYW52YXNFbGVtZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgICAgIGNhbnZhc0VsZW1lbnQud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzRWxlbWVudC5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHJldHVybiBjYW52YXNFbGVtZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIGNvbnRpbnVvdXMgc2NhbiBhbmQgY2xlYW5zIHRoZSBzdHJlYW0uXG4gICAgICovXG4gICAgQnJvd3NlckNvZGVSZWFkZXIucHJvdG90eXBlLnN0b3BTdHJlYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdHJlYW0pIHtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5zdG9wKCk7IH0pO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3N0b3BBc3luY0RlY29kZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcEFzeW5jRGVjb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3N0b3BDb250aW51b3VzRGVjb2RlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5zdG9wQ29udGludW91c0RlY29kZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGNvZGUgcmVhZGVyIHRvIHRoZSBpbml0aWFsIHN0YXRlLiBDYW5jZWxzIGFueSBvbmdvaW5nIGJhcmNvZGUgc2Nhbm5pbmcgZnJvbSB2aWRlbyBvciBjYW1lcmEuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgQnJvd3NlckNvZGVSZWFkZXJcbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHN0b3BzIHRoZSBjYW1lcmEsIHByZXZpZXcgYW5kIHNjYW4g8J+UtFxuICAgICAgICB0aGlzLnN0b3BTdHJlYW1zKCk7XG4gICAgICAgIC8vIGNsZWFuIGFuZCBmb3JnZXQgYWJvdXQgSFRNTCBlbGVtZW50c1xuICAgICAgICB0aGlzLl9kZXN0cm95VmlkZW9FbGVtZW50KCk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lJbWFnZUVsZW1lbnQoKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveUNhcHR1cmVDYW52YXMoKTtcbiAgICB9O1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5fZGVzdHJveVZpZGVvRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpZGVvRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpcnN0IGdpdmVzIGZyZWVkb24gdG8gdGhlIGVsZW1lbnQg8J+VilxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudmlkZW9FbmRlZExpc3RlbmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy52aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLnZpZGVvRW5kZWRMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnZpZGVvUGxheWluZ0V2ZW50TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgdGhpcy52aWRlb1BsYXlpbmdFdmVudExpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudmlkZW9DYW5QbGF5TGlzdGVuZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIHRoaXMudmlkZW9DYW5QbGF5TGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZW4gZm9yZ2V0cyBhYm91dCB0aGF0IGVsZW1lbnQg8J+YolxuICAgICAgICB0aGlzLmNsZWFuVmlkZW9Tb3VyY2UodGhpcy52aWRlb0VsZW1lbnQpO1xuICAgICAgICB0aGlzLnZpZGVvRWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5fZGVzdHJveUltYWdlRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmltYWdlRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpcnN0IGdpdmVzIGZyZWVkb24gdG8gdGhlIGVsZW1lbnQg8J+VilxuICAgICAgICBpZiAodW5kZWZpbmVkICE9PSB0aGlzLmltYWdlTG9hZGVkTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLmltYWdlTG9hZGVkTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZW4gZm9yZ2V0IGFib3V0IHRoYXQgZWxlbWVudCDwn5iiXG4gICAgICAgIHRoaXMuaW1hZ2VFbGVtZW50LnNyYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzcmMnKTtcbiAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGVhbnMgY2FudmFzIHJlZmVyZW5jZXMg8J+WjFxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5fZGVzdHJveUNhcHR1cmVDYW52YXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRoZW4gZm9yZ2V0IGFib3V0IHRoYXQgZWxlbWVudCDwn5iiXG4gICAgICAgIHRoaXMuY2FwdHVyZUNhbnZhc0NvbnRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2FwdHVyZUNhbnZhcyA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlZmluZXMgd2hhdCB0aGUgdmlkZW9FbGVtZW50IHNyYyB3aWxsIGJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZpZGVvRWxlbWVudFxuICAgICAqIEBwYXJhbSBzdHJlYW1cbiAgICAgKi9cbiAgICBCcm93c2VyQ29kZVJlYWRlci5wcm90b3R5cGUuYWRkVmlkZW9Tb3VyY2UgPSBmdW5jdGlvbiAodmlkZW9FbGVtZW50LCBzdHJlYW0pIHtcbiAgICAgICAgLy8gT2xkZXIgYnJvd3NlcnMgbWF5IG5vdCBoYXZlIGBzcmNPYmplY3RgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBAbm90ZSBUaHJvd3MgRXhjZXB0aW9uIGlmIGludGVycnVwdGVkIGJ5IGEgbmV3IGxvYWRlZCByZXF1ZXN0XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIEBub3RlIEF2b2lkIHVzaW5nIHRoaXMgaW4gbmV3IGJyb3dzZXJzLCBhcyBpdCBpcyBnb2luZyBhd2F5LlxuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBhIEhUTUwgdmlkZW8gc3JjIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHZpZGVvRWxlbWVudFxuICAgICAqL1xuICAgIEJyb3dzZXJDb2RlUmVhZGVyLnByb3RvdHlwZS5jbGVhblZpZGVvU291cmNlID0gZnVuY3Rpb24gKHZpZGVvRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNyYyA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlkZW9FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgfTtcbiAgICByZXR1cm4gQnJvd3NlckNvZGVSZWFkZXI7XG59KCkpO1xuZXhwb3J0IHsgQnJvd3NlckNvZGVSZWFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJDb2RlUmVhZGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFN5c3RlbSBmcm9tICcuL3V0aWwvU3lzdGVtJztcbi8qKlxuICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsXG4gICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLFxuICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksXG4gICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkge1xuICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKVxuICAgIC8vIH1cbiAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLFxuICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcyxcbiAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LFxuICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsXG4gICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkge1xuICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLFxuICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKVxuICAgIC8vIH1cbiAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHtcbiAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9XG4gICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTsgfVxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7XG4gICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7XG4gICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzO1xuICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlcztcbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7XG4gICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0O1xuICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZVxuICAgICAqL1xuICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH1cbiAgICAgKi9cbiAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aFxuICAgICAqIEBzaW5jZSAzLjMuMFxuICAgICAqL1xuICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50c1xuICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpc1xuICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLlxuICAgICAqL1xuICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkXG4gICAgICovXG4gICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZVxuICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLFxuICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi5cbiAgICAgKi9cbiAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTtcbiAgICB9O1xuICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpO1xuICAgIH07XG4gICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkge1xuICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHtcbiAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzO1xuICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgU3lzdGVtLmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wO1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQ7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzdWx0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlc3VsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc3VsdC5qcy5tYXAiLCIvKlxuICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEg1xuICovXG4vKlxuICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovXG4vKipcbiAqIEVudW1lcmF0ZXMgYmFyY29kZSBmb3JtYXRzIGtub3duIHRvIHRoaXMgcGFja2FnZS4gUGxlYXNlIGtlZXAgYWxwaGFiZXRpemVkLlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBCYXJjb2RlRm9ybWF0O1xuKGZ1bmN0aW9uIChCYXJjb2RlRm9ybWF0KSB7XG4gICAgLyoqIEF6dGVjIDJEIGJhcmNvZGUgZm9ybWF0LiAqL1xuICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFtcIkFaVEVDXCJdID0gMF0gPSBcIkFaVEVDXCI7XG4gICAgLyoqIENPREFCQVIgMUQgZm9ybWF0LiAqL1xuICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFtcIkNPREFCQVJcIl0gPSAxXSA9IFwiQ09EQUJBUlwiO1xuICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi9cbiAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbXCJDT0RFXzM5XCJdID0gMl0gPSBcIkNPREVfMzlcIjtcbiAgICAvKiogQ29kZSA5MyAxRCBmb3JtYXQuICovXG4gICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0W1wiQ09ERV85M1wiXSA9IDNdID0gXCJDT0RFXzkzXCI7XG4gICAgLyoqIENvZGUgMTI4IDFEIGZvcm1hdC4gKi9cbiAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbXCJDT0RFXzEyOFwiXSA9IDRdID0gXCJDT0RFXzEyOFwiO1xuICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi9cbiAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbXCJEQVRBX01BVFJJWFwiXSA9IDVdID0gXCJEQVRBX01BVFJJWFwiO1xuICAgIC8qKiBFQU4tOCAxRCBmb3JtYXQuICovXG4gICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0W1wiRUFOXzhcIl0gPSA2XSA9IFwiRUFOXzhcIjtcbiAgICAvKiogRUFOLTEzIDFEIGZvcm1hdC4gKi9cbiAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbXCJFQU5fMTNcIl0gPSA3XSA9IFwiRUFOXzEzXCI7XG4gICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi9cbiAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbXCJJVEZcIl0gPSA4XSA9IFwiSVRGXCI7XG4gICAgLyoqIE1heGlDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqL1xuICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFtcIk1BWElDT0RFXCJdID0gOV0gPSBcIk1BWElDT0RFXCI7XG4gICAgLyoqIFBERjQxNyBmb3JtYXQuICovXG4gICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0W1wiUERGXzQxN1wiXSA9IDEwXSA9IFwiUERGXzQxN1wiO1xuICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqL1xuICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFtcIlFSX0NPREVcIl0gPSAxMV0gPSBcIlFSX0NPREVcIjtcbiAgICAvKiogUlNTIDE0ICovXG4gICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0W1wiUlNTXzE0XCJdID0gMTJdID0gXCJSU1NfMTRcIjtcbiAgICAvKiogUlNTIEVYUEFOREVEICovXG4gICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0W1wiUlNTX0VYUEFOREVEXCJdID0gMTNdID0gXCJSU1NfRVhQQU5ERURcIjtcbiAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqL1xuICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFtcIlVQQ19BXCJdID0gMTRdID0gXCJVUENfQVwiO1xuICAgIC8qKiBVUEMtRSAxRCBmb3JtYXQuICovXG4gICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0W1wiVVBDX0VcIl0gPSAxNV0gPSBcIlVQQ19FXCI7XG4gICAgLyoqIFVQQy9FQU4gZXh0ZW5zaW9uIGZvcm1hdC4gTm90IGEgc3RhbmQtYWxvbmUgZm9ybWF0LiAqL1xuICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFtcIlVQQ19FQU5fRVhURU5TSU9OXCJdID0gMTZdID0gXCJVUENfRUFOX0VYVEVOU0lPTlwiO1xufSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7XG5leHBvcnQgZGVmYXVsdCBCYXJjb2RlRm9ybWF0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFyY29kZUZvcm1hdC5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovXG4vKipcbiAqIFJlcHJlc2VudHMgc29tZSB0eXBlIG9mIG1ldGFkYXRhIGFib3V0IHRoZSByZXN1bHQgb2YgdGhlIGRlY29kaW5nIHRoYXQgdGhlIGRlY29kZXJcbiAqIHdpc2hlcyB0byBjb21tdW5pY2F0ZSBiYWNrIHRvIHRoZSBjYWxsZXIuXG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIFJlc3VsdE1ldGFkYXRhVHlwZTtcbihmdW5jdGlvbiAoUmVzdWx0TWV0YWRhdGFUeXBlKSB7XG4gICAgLyoqXG4gICAgICogVW5zcGVjaWZpZWQsIGFwcGxpY2F0aW9uLXNwZWNpZmljIG1ldGFkYXRhLiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LlxuICAgICAqL1xuICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbXCJPVEhFUlwiXSA9IDBdID0gXCJPVEhFUlwiO1xuICAgIC8qKlxuICAgICAqIERlbm90ZXMgdGhlIGxpa2VseSBhcHByb3hpbWF0ZSBvcmllbnRhdGlvbiBvZiB0aGUgYmFyY29kZSBpbiB0aGUgaW1hZ2UuIFRoaXMgdmFsdWVcbiAgICAgKiBpcyBnaXZlbiBhcyBkZWdyZWVzIHJvdGF0ZWQgY2xvY2t3aXNlIGZyb20gdGhlIG5vcm1hbCwgdXByaWdodCBvcmllbnRhdGlvbi5cbiAgICAgKiBGb3IgZXhhbXBsZSBhIDFEIGJhcmNvZGUgd2hpY2ggd2FzIGZvdW5kIGJ5IHJlYWRpbmcgdG9wLXRvLWJvdHRvbSB3b3VsZCBiZVxuICAgICAqIHNhaWQgdG8gaGF2ZSBvcmllbnRhdGlvbiBcIjkwXCIuIFRoaXMga2V5IG1hcHMgdG8gYW4ge0BsaW5rIEludGVnZXJ9IHdob3NlXG4gICAgICogdmFsdWUgaXMgaW4gdGhlIHJhbmdlIFswLDM2MCkuXG4gICAgICovXG4gICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVtcIk9SSUVOVEFUSU9OXCJdID0gMV0gPSBcIk9SSUVOVEFUSU9OXCI7XG4gICAgLyoqXG4gICAgICogPHA+MkQgYmFyY29kZSBmb3JtYXRzIHR5cGljYWxseSBlbmNvZGUgdGV4dCwgYnV0IGFsbG93IGZvciBhIHNvcnQgb2YgJ2J5dGUgbW9kZSdcbiAgICAgKiB3aGljaCBpcyBzb21ldGltZXMgdXNlZCB0byBlbmNvZGUgYmluYXJ5IGRhdGEuIFdoaWxlIHtAbGluayBSZXN1bHR9IG1ha2VzIGF2YWlsYWJsZVxuICAgICAqIHRoZSBjb21wbGV0ZSByYXcgYnl0ZXMgaW4gdGhlIGJhcmNvZGUgZm9yIHRoZXNlIGZvcm1hdHMsIGl0IGRvZXMgbm90IG9mZmVyIHRoZSBieXRlc1xuICAgICAqIGZyb20gdGhlIGJ5dGUgc2VnbWVudHMgYWxvbmUuPC9wPlxuICAgICAqXG4gICAgICogPHA+VGhpcyBtYXBzIHRvIGEge0BsaW5rIGphdmEudXRpbC5MaXN0fSBvZiBieXRlIGFycmF5cyBjb3JyZXNwb25kaW5nIHRvIHRoZVxuICAgICAqIHJhdyBieXRlcyBpbiB0aGUgYnl0ZSBzZWdtZW50cyBpbiB0aGUgYmFyY29kZSwgaW4gb3JkZXIuPC9wPlxuICAgICAqL1xuICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbXCJCWVRFX1NFR01FTlRTXCJdID0gMl0gPSBcIkJZVEVfU0VHTUVOVFNcIjtcbiAgICAvKipcbiAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlXG4gICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLlxuICAgICAqL1xuICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbXCJFUlJPUl9DT1JSRUNUSU9OX0xFVkVMXCJdID0gM10gPSBcIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUxcIjtcbiAgICAvKipcbiAgICAgKiBGb3Igc29tZSBwZXJpb2RpY2FscywgaW5kaWNhdGVzIHRoZSBpc3N1ZSBudW1iZXIgYXMgYW4ge0BsaW5rIEludGVnZXJ9LlxuICAgICAqL1xuICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbXCJJU1NVRV9OVU1CRVJcIl0gPSA0XSA9IFwiSVNTVUVfTlVNQkVSXCI7XG4gICAgLyoqXG4gICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIGluZGljYXRlcyB0aGUgc3VnZ2VzdGVkIHJldGFpbCBwcmljZSBpbiB0aGUgYmFyY29kZSBhcyBhXG4gICAgICogZm9ybWF0dGVkIHtAbGluayBTdHJpbmd9LlxuICAgICAqL1xuICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbXCJTVUdHRVNURURfUFJJQ0VcIl0gPSA1XSA9IFwiU1VHR0VTVEVEX1BSSUNFXCI7XG4gICAgLyoqXG4gICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlXG4gICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlIFwiVVMvQ0FcIi5cbiAgICAgKi9cbiAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlW1wiUE9TU0lCTEVfQ09VTlRSWVwiXSA9IDZdID0gXCJQT1NTSUJMRV9DT1VOVFJZXCI7XG4gICAgLyoqXG4gICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dFxuICAgICAqL1xuICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbXCJVUENfRUFOX0VYVEVOU0lPTlwiXSA9IDddID0gXCJVUENfRUFOX0VYVEVOU0lPTlwiO1xuICAgIC8qKlxuICAgICAqIFBERjQxNy1zcGVjaWZpYyBtZXRhZGF0YVxuICAgICAqL1xuICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbXCJQREY0MTdfRVhUUkFfTUVUQURBVEFcIl0gPSA4XSA9IFwiUERGNDE3X0VYVFJBX01FVEFEQVRBXCI7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGNvZGUgZm9ybWF0IHN1cHBvcnRzIHN0cnVjdHVyZWQgYXBwZW5kIGFuZCB0aGUgY3VycmVudCBzY2FubmVkIGNvZGUgaXMgcGFydCBvZiBvbmUgdGhlbiB0aGVcbiAgICAgKiBzZXF1ZW5jZSBudW1iZXIgaXMgZ2l2ZW4gd2l0aCBpdC5cbiAgICAgKi9cbiAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlW1wiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0VcIl0gPSA5XSA9IFwiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0VcIjtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZVxuICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LlxuICAgICAqL1xuICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbXCJTVFJVQ1RVUkVEX0FQUEVORF9QQVJJVFlcIl0gPSAxMF0gPSBcIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWVwiO1xufSkoUmVzdWx0TWV0YWRhdGFUeXBlIHx8IChSZXN1bHRNZXRhZGF0YVR5cGUgPSB7fSkpO1xuZXhwb3J0IGRlZmF1bHQgUmVzdWx0TWV0YWRhdGFUeXBlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzdWx0TWV0YWRhdGFUeXBlLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovXG4vKmltcG9ydCBqYXZhLnV0aWwuTGlzdDsqL1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHJlc3VsdCBvZiBkZWNvZGluZyBhIG1hdHJpeCBvZiBiaXRzLiBUaGlzIHR5cGljYWxseVxuICogYXBwbGllcyB0byAyRCBiYXJjb2RlIGZvcm1hdHMuIEZvciBub3cgaXQgY29udGFpbnMgdGhlIHJhdyBieXRlcyBvYnRhaW5lZCxcbiAqIGFzIHdlbGwgYXMgYSBTdHJpbmcgaW50ZXJwcmV0YXRpb24gb2YgdGhvc2UgYnl0ZXMsIGlmIGFwcGxpY2FibGUuPC9wPlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBEZWNvZGVyUmVzdWx0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihyYXdCeXRlczogVWludDhBcnJheSxcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgTGlzdDxVaW50OEFycmF5PiBieXRlU2VnbWVudHMsXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIGVjTGV2ZWwpIHtcbiAgICAvLyAgIHRoaXMocmF3Qnl0ZXMsIHRleHQsIGJ5dGVTZWdtZW50cywgZWNMZXZlbCwgLTEsIC0xKVxuICAgIC8vIH1cbiAgICBmdW5jdGlvbiBEZWNvZGVyUmVzdWx0KHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciwgc3RydWN0dXJlZEFwcGVuZFBhcml0eSkge1xuICAgICAgICBpZiAoc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gLTE7IH1cbiAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPT09IHZvaWQgMCkgeyBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gLTE7IH1cbiAgICAgICAgdGhpcy5yYXdCeXRlcyA9IHJhd0J5dGVzO1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmJ5dGVTZWdtZW50cyA9IGJ5dGVTZWdtZW50cztcbiAgICAgICAgdGhpcy5lY0xldmVsID0gZWNMZXZlbDtcbiAgICAgICAgdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIgPSBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7XG4gICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IHN0cnVjdHVyZWRBcHBlbmRQYXJpdHk7XG4gICAgICAgIHRoaXMubnVtQml0cyA9IChyYXdCeXRlcyA9PT0gdW5kZWZpbmVkIHx8IHJhd0J5dGVzID09PSBudWxsKSA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHJhdyBieXRlcyByZXByZXNlbnRpbmcgdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlXG4gICAgICovXG4gICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0UmF3Qnl0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJhd0J5dGVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBob3cgbWFueSBiaXRzIG9mIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0gYXJlIHZhbGlkOyB0eXBpY2FsbHkgOCB0aW1lcyBpdHMgbGVuZ3RoXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICovXG4gICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBudW1CaXRzIG92ZXJyaWRlcyB0aGUgbnVtYmVyIG9mIGJpdHMgdGhhdCBhcmUgdmFsaWQgaW4ge0BsaW5rICNnZXRSYXdCeXRlcygpfVxuICAgICAqIEBzaW5jZSAzLjMuMFxuICAgICAqL1xuICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLnNldE51bUJpdHMgPSBmdW5jdGlvbiAobnVtQml0cyAvKmludCovKSB7XG4gICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHRleHQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIGxpc3Qgb2YgYnl0ZSBzZWdtZW50cyBpbiB0aGUgcmVzdWx0LCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGVcbiAgICAgKi9cbiAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRCeXRlU2VnbWVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ5dGVTZWdtZW50cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gbmFtZSBvZiBlcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZVxuICAgICAqL1xuICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldEVDTGV2ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVjTGV2ZWw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIG51bWJlciBvZiBlcnJvcnMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGVcbiAgICAgKi9cbiAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yc0NvcnJlY3RlZDtcbiAgICB9O1xuICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLnNldEVycm9yc0NvcnJlY3RlZCA9IGZ1bmN0aW9uIChlcnJvcnNDb3JyZWN0ZWQgLypJbnRlZ2VyKi8pIHtcbiAgICAgICAgdGhpcy5lcnJvcnNDb3JyZWN0ZWQgPSBlcnJvcnNDb3JyZWN0ZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIG51bWJlciBvZiBlcmFzdXJlcyBjb3JyZWN0ZWQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZVxuICAgICAqL1xuICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldEVyYXN1cmVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcmFzdXJlcztcbiAgICB9O1xuICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLnNldEVyYXN1cmVzID0gZnVuY3Rpb24gKGVyYXN1cmVzIC8qSW50ZWdlciovKSB7XG4gICAgICAgIHRoaXMuZXJhc3VyZXMgPSBlcmFzdXJlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gYXJiaXRyYXJ5IGFkZGl0aW9uYWwgbWV0YWRhdGFcbiAgICAgKi9cbiAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRPdGhlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3RoZXI7XG4gICAgfTtcbiAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRPdGhlciA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB0aGlzLm90aGVyID0gb3RoZXI7XG4gICAgfTtcbiAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5oYXNTdHJ1Y3R1cmVkQXBwZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID49IDAgJiYgdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIgPj0gMDtcbiAgICB9O1xuICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHk7XG4gICAgfTtcbiAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlcjtcbiAgICB9O1xuICAgIHJldHVybiBEZWNvZGVyUmVzdWx0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IERlY29kZXJSZXN1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWNvZGVyUmVzdWx0LmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBmcm9tICcuLi8uLi9JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24nO1xuLyoqXG4gKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyXG4gKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPlxuICpcbiAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9XG4gKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS5cbiAqIDwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICogQGF1dGhvciBEYXZpZCBPbGl2aWVyXG4gKi9cbnZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpXG4gICAgICovXG4gICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSlcbiAgICAgKi9cbiAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykge1xuICAgICAgICBpZiAoYSA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYlxuICAgICAqL1xuICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHtcbiAgICAgICAgcmV0dXJuIGEgXiBiO1xuICAgIH07XG4gICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEFic3RyYWN0R2VuZXJpY0dGO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWJzdHJhY3RHZW5lcmljR0YuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki9cbmltcG9ydCBBYnN0cmFjdEdlbmVyaWNHRiBmcm9tICcuL0Fic3RyYWN0R2VuZXJpY0dGJztcbmltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vLi4vdXRpbC9TeXN0ZW0nO1xuaW1wb3J0IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBmcm9tICcuLi8uLi9JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24nO1xuLyoqXG4gKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuXG4gKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD5cbiAqXG4gKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdFxuICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZVxuICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zXG4gICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkXG4gICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50XG4gICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSxcbiAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGFcbiAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsIFwiMFwiKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdlbmVyaWNHRlBvbHkoZmllbGQsIGNvZWZmaWNpZW50cykge1xuICAgICAgICBpZiAoY29lZmZpY2llbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdmFyIGNvZWZmaWNpZW50c0xlbmd0aCA9IGNvZWZmaWNpZW50cy5sZW5ndGg7XG4gICAgICAgIGlmIChjb2VmZmljaWVudHNMZW5ndGggPiAxICYmIGNvZWZmaWNpZW50c1swXSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gTGVhZGluZyB0ZXJtIG11c3QgYmUgbm9uLXplcm8gZm9yIGFueXRoaW5nIGV4Y2VwdCB0aGUgY29uc3RhbnQgcG9seW5vbWlhbCBcIjBcIlxuICAgICAgICAgICAgdmFyIGZpcnN0Tm9uWmVybyA9IDE7XG4gICAgICAgICAgICB3aGlsZSAoZmlyc3ROb25aZXJvIDwgY29lZmZpY2llbnRzTGVuZ3RoICYmIGNvZWZmaWNpZW50c1tmaXJzdE5vblplcm9dID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZmlyc3ROb25aZXJvKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlyc3ROb25aZXJvID09PSBjb2VmZmljaWVudHNMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IEludDMyQXJyYXkuZnJvbShbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShjb2VmZmljaWVudHNMZW5ndGggLSBmaXJzdE5vblplcm8pO1xuICAgICAgICAgICAgICAgIFN5c3RlbS5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWxcbiAgICAgKi9cbiAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsIFwiMFwiXG4gICAgICovXG4gICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHNbMF0gPT09IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIGNvZWZmaWNpZW50IG9mIHheZGVncmVlIHRlcm0gaW4gdGhpcyBwb2x5bm9taWFsXG4gICAgICovXG4gICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnQgPSBmdW5jdGlvbiAoZGVncmVlIC8qaW50Ki8pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzW3RoaXMuY29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBkZWdyZWVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBldmFsdWF0aW9uIG9mIHRoaXMgcG9seW5vbWlhbCBhdCBhIGdpdmVuIHBvaW50XG4gICAgICovXG4gICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZXZhbHVhdGVBdCA9IGZ1bmN0aW9uIChhIC8qaW50Ki8pIHtcbiAgICAgICAgaWYgKGEgPT09IDApIHtcbiAgICAgICAgICAgIC8vIEp1c3QgcmV0dXJuIHRoZSB4XjAgY29lZmZpY2llbnRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvZWZmaWNpZW50KDApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50cztcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgaWYgKGEgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIEp1c3QgdGhlIHN1bSBvZiB0aGUgY29lZmZpY2llbnRzXG4gICAgICAgICAgICByZXN1bHQgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gY29lZmZpY2llbnRzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IGNvZWZmaWNpZW50c1tpXTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRi5hZGRPclN1YnRyYWN0KHJlc3VsdCwgY29lZmZpY2llbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBjb2VmZmljaWVudHNbMF07XG4gICAgICAgIHZhciBzaXplID0gY29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QoZmllbGQubXVsdGlwbHkoYSwgcmVzdWx0KSwgY29lZmZpY2llbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuYWRkT3JTdWJ0cmFjdCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICBpZiAoIXRoaXMuZmllbGQuZXF1YWxzKG90aGVyLmZpZWxkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignR2VuZXJpY0dGUG9seXMgZG8gbm90IGhhdmUgc2FtZSBHZW5lcmljR0YgZmllbGQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc1plcm8oKSkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlci5pc1plcm8oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNtYWxsZXJDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50cztcbiAgICAgICAgdmFyIGxhcmdlckNvZWZmaWNpZW50cyA9IG90aGVyLmNvZWZmaWNpZW50cztcbiAgICAgICAgaWYgKHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoID4gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBzbWFsbGVyQ29lZmZpY2llbnRzO1xuICAgICAgICAgICAgc21hbGxlckNvZWZmaWNpZW50cyA9IGxhcmdlckNvZWZmaWNpZW50cztcbiAgICAgICAgICAgIGxhcmdlckNvZWZmaWNpZW50cyA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1bURpZmYgPSBuZXcgSW50MzJBcnJheShsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoKTtcbiAgICAgICAgdmFyIGxlbmd0aERpZmYgPSBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoIC0gc21hbGxlckNvZWZmaWNpZW50cy5sZW5ndGg7XG4gICAgICAgIC8vIENvcHkgaGlnaC1vcmRlciB0ZXJtcyBvbmx5IGZvdW5kIGluIGhpZ2hlci1kZWdyZWUgcG9seW5vbWlhbCdzIGNvZWZmaWNpZW50c1xuICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KGxhcmdlckNvZWZmaWNpZW50cywgMCwgc3VtRGlmZiwgMCwgbGVuZ3RoRGlmZik7XG4gICAgICAgIGZvciAodmFyIGkgPSBsZW5ndGhEaWZmOyBpIDwgbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdW1EaWZmW2ldID0gQWJzdHJhY3RHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdChzbWFsbGVyQ29lZmZpY2llbnRzW2kgLSBsZW5ndGhEaWZmXSwgbGFyZ2VyQ29lZmZpY2llbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEdlbmVyaWNHRlBvbHkodGhpcy5maWVsZCwgc3VtRGlmZik7XG4gICAgfTtcbiAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICBpZiAoIXRoaXMuZmllbGQuZXF1YWxzKG90aGVyLmZpZWxkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignR2VuZXJpY0dGUG9seXMgZG8gbm90IGhhdmUgc2FtZSBHZW5lcmljR0YgZmllbGQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc1plcm8oKSB8fCBvdGhlci5pc1plcm8oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7XG4gICAgICAgIHZhciBhTGVuZ3RoID0gYUNvZWZmaWNpZW50cy5sZW5ndGg7XG4gICAgICAgIHZhciBiQ29lZmZpY2llbnRzID0gb3RoZXIuY29lZmZpY2llbnRzO1xuICAgICAgICB2YXIgYkxlbmd0aCA9IGJDb2VmZmljaWVudHMubGVuZ3RoO1xuICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KGFMZW5ndGggKyBiTGVuZ3RoIC0gMSk7XG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYUNvZWZmID0gYUNvZWZmaWNpZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYkxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgcHJvZHVjdFtpICsgal0gPSBBYnN0cmFjdEdlbmVyaWNHRi5hZGRPclN1YnRyYWN0KHByb2R1Y3RbaSArIGpdLCBmaWVsZC5tdWx0aXBseShhQ29lZmYsIGJDb2VmZmljaWVudHNbal0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEdlbmVyaWNHRlBvbHkoZmllbGQsIHByb2R1Y3QpO1xuICAgIH07XG4gICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUubXVsdGlwbHlTY2FsYXIgPSBmdW5jdGlvbiAoc2NhbGFyIC8qaW50Ki8pIHtcbiAgICAgICAgaWYgKHNjYWxhciA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2FsYXIgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaXplID0gdGhpcy5jb2VmZmljaWVudHMubGVuZ3RoO1xuICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkO1xuICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUpO1xuICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBwcm9kdWN0W2ldID0gZmllbGQubXVsdGlwbHkoY29lZmZpY2llbnRzW2ldLCBzY2FsYXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7XG4gICAgfTtcbiAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseUJ5TW9ub21pYWwgPSBmdW5jdGlvbiAoZGVncmVlIC8qaW50Ki8sIGNvZWZmaWNpZW50IC8qaW50Ki8pIHtcbiAgICAgICAgaWYgKGRlZ3JlZSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29lZmZpY2llbnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpZWxkLmdldFplcm8oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7XG4gICAgICAgIHZhciBzaXplID0gY29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIHByb2R1Y3QgPSBuZXcgSW50MzJBcnJheShzaXplICsgZGVncmVlKTtcbiAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIGNvZWZmaWNpZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEdlbmVyaWNHRlBvbHkoZmllbGQsIHByb2R1Y3QpO1xuICAgIH07XG4gICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZGl2aWRlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlci5pc1plcm8oKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignRGl2aWRlIGJ5IDAnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkO1xuICAgICAgICB2YXIgcXVvdGllbnQgPSBmaWVsZC5nZXRaZXJvKCk7XG4gICAgICAgIHZhciByZW1haW5kZXIgPSB0aGlzO1xuICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IG90aGVyLmdldENvZWZmaWNpZW50KG90aGVyLmdldERlZ3JlZSgpKTtcbiAgICAgICAgdmFyIGludmVyc2VEZW5vbWluYXRvckxlYWRpbmdUZXJtID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTtcbiAgICAgICAgd2hpbGUgKHJlbWFpbmRlci5nZXREZWdyZWUoKSA+PSBvdGhlci5nZXREZWdyZWUoKSAmJiAhcmVtYWluZGVyLmlzWmVybygpKSB7XG4gICAgICAgICAgICB2YXIgZGVncmVlRGlmZmVyZW5jZSA9IHJlbWFpbmRlci5nZXREZWdyZWUoKSAtIG90aGVyLmdldERlZ3JlZSgpO1xuICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkocmVtYWluZGVyLmdldENvZWZmaWNpZW50KHJlbWFpbmRlci5nZXREZWdyZWUoKSksIGludmVyc2VEZW5vbWluYXRvckxlYWRpbmdUZXJtKTtcbiAgICAgICAgICAgIHZhciB0ZXJtID0gb3RoZXIubXVsdGlwbHlCeU1vbm9taWFsKGRlZ3JlZURpZmZlcmVuY2UsIHNjYWxlKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRpb25RdW90aWVudCA9IGZpZWxkLmJ1aWxkTW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpO1xuICAgICAgICAgICAgcXVvdGllbnQgPSBxdW90aWVudC5hZGRPclN1YnRyYWN0KGl0ZXJhdGlvblF1b3RpZW50KTtcbiAgICAgICAgICAgIHJlbWFpbmRlciA9IHJlbWFpbmRlci5hZGRPclN1YnRyYWN0KHRlcm0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbcXVvdGllbnQsIHJlbWFpbmRlcl07XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgZm9yICh2YXIgZGVncmVlID0gdGhpcy5nZXREZWdyZWUoKTsgZGVncmVlID49IDA7IGRlZ3JlZS0tKSB7XG4gICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSB0aGlzLmdldENvZWZmaWNpZW50KGRlZ3JlZSk7XG4gICAgICAgICAgICBpZiAoY29lZmZpY2llbnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoY29lZmZpY2llbnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnIC0gJztcbiAgICAgICAgICAgICAgICAgICAgY29lZmZpY2llbnQgPSAtY29lZmZpY2llbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICsgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVncmVlID09PSAwIHx8IGNvZWZmaWNpZW50ICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbHBoYVBvd2VyID0gdGhpcy5maWVsZC5sb2coY29lZmZpY2llbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxwaGFQb3dlciA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcxJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhbHBoYVBvd2VyID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2EnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICdhXic7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gYWxwaGFQb3dlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVncmVlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ3heJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBkZWdyZWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIHJldHVybiBHZW5lcmljR0ZQb2x5O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEdlbmVyaWNHRlBvbHk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW5lcmljR0ZQb2x5LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL0V4Y2VwdGlvbic7XG4vKipcbiAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi5cbiAqL1xudmFyIEFyaXRobWV0aWNFeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7XG4gICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247XG59KEV4Y2VwdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgQXJpdGhtZXRpY0V4Y2VwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFyaXRobWV0aWNFeGNlcHRpb24uanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqL1xuaW1wb3J0IEdlbmVyaWNHRlBvbHkgZnJvbSAnLi9HZW5lcmljR0ZQb2x5JztcbmltcG9ydCBBYnN0cmFjdEdlbmVyaWNHRiBmcm9tICcuL0Fic3RyYWN0R2VuZXJpY0dGJztcbmltcG9ydCBJbnRlZ2VyIGZyb20gJy4uLy4uL3V0aWwvSW50ZWdlcic7XG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uLy4uL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG5pbXBvcnQgQXJpdGhtZXRpY0V4Y2VwdGlvbiBmcm9tICcuLi8uLi9Bcml0aG1ldGljRXhjZXB0aW9uJztcbi8qKlxuICogPHA+VGhpcyBjbGFzcyBjb250YWlucyB1dGlsaXR5IG1ldGhvZHMgZm9yIHBlcmZvcm1pbmcgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbnMgb3ZlclxuICogdGhlIEdhbG9pcyBGaWVsZHMuIE9wZXJhdGlvbnMgdXNlIGEgZ2l2ZW4gcHJpbWl0aXZlIHBvbHlub21pYWwgaW4gY2FsY3VsYXRpb25zLjwvcD5cbiAqXG4gKiA8cD5UaHJvdWdob3V0IHRoaXMgcGFja2FnZSwgZWxlbWVudHMgb2YgdGhlIEdGIGFyZSByZXByZXNlbnRlZCBhcyBhbiB7QGNvZGUgaW50fVxuICogZm9yIGNvbnZlbmllbmNlIGFuZCBzcGVlZCAoYnV0IGF0IHRoZSBjb3N0IG9mIG1lbW9yeSkuXG4gKiA8L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqIEBhdXRob3IgRGF2aWQgT2xpdmllclxuICovXG52YXIgR2VuZXJpY0dGID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhHZW5lcmljR0YsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnlcbiAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50XG4gICAgICogIGNvZWZmaWNpZW50XG4gICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkXG4gICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZFxuICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS5cbiAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7XG4gICAgICAgIF90aGlzLnNpemUgPSBzaXplO1xuICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTtcbiAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7XG4gICAgICAgIHZhciB4ID0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDtcbiAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyXG4gICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7XG4gICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7XG4gICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlO1xuICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7XG4gICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWRcbiAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7XG4gICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy56ZXJvO1xuICAgIH07XG4gICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlXG4gICAgICovXG4gICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7XG4gICAgICAgIGlmIChkZWdyZWUgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTtcbiAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7XG4gICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLCBjb2VmZmljaWVudHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGFcbiAgICAgKi9cbiAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7XG4gICAgICAgIGlmIChhID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW3RoaXMuc2l6ZSAtIHRoaXMubG9nVGFibGVbYV0gLSAxXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gcHJvZHVjdCBvZiBhIGFuZCBiIGluIEdGKHNpemUpXG4gICAgICovXG4gICAgR2VuZXJpY0dGLnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykge1xuICAgICAgICBpZiAoYSA9PT0gMCB8fCBiID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVsodGhpcy5sb2dUYWJsZVthXSArIHRoaXMubG9nVGFibGVbYl0pICUgKHRoaXMuc2l6ZSAtIDEpXTtcbiAgICB9O1xuICAgIEdlbmVyaWNHRi5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTtcbiAgICB9O1xuICAgIEdlbmVyaWNHRi5wcm90b3R5cGUuZ2V0R2VuZXJhdG9yQmFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdG9yQmFzZTtcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBHZW5lcmljR0YucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKCdHRigweCcgKyBJbnRlZ2VyLnRvSGV4U3RyaW5nKHRoaXMucHJpbWl0aXZlKSArICcsJyArIHRoaXMuc2l6ZSArICcpJyk7XG4gICAgfTtcbiAgICBHZW5lcmljR0YucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIHJldHVybiBvID09PSB0aGlzO1xuICAgIH07XG4gICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfMTIgPSBuZXcgR2VuZXJpY0dGKDB4MTA2OSwgNDA5NiwgMSk7IC8vIHheMTIgKyB4XjYgKyB4XjUgKyB4XjMgKyAxXG4gICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfMTAgPSBuZXcgR2VuZXJpY0dGKDB4NDA5LCAxMDI0LCAxKTsgLy8geF4xMCArIHheMyArIDFcbiAgICBHZW5lcmljR0YuQVpURUNfREFUQV82ID0gbmV3IEdlbmVyaWNHRigweDQzLCA2NCwgMSk7IC8vIHheNiArIHggKyAxXG4gICAgR2VuZXJpY0dGLkFaVEVDX1BBUkFNID0gbmV3IEdlbmVyaWNHRigweDEzLCAxNiwgMSk7IC8vIHheNCArIHggKyAxXG4gICAgR2VuZXJpY0dGLlFSX0NPREVfRklFTERfMjU2ID0gbmV3IEdlbmVyaWNHRigweDAxMWQsIDI1NiwgMCk7IC8vIHheOCArIHheNCArIHheMyArIHheMiArIDFcbiAgICBHZW5lcmljR0YuREFUQV9NQVRSSVhfRklFTERfMjU2ID0gbmV3IEdlbmVyaWNHRigweDAxMmQsIDI1NiwgMSk7IC8vIHheOCArIHheNSArIHheMyArIHheMiArIDFcbiAgICBHZW5lcmljR0YuQVpURUNfREFUQV84ID0gR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NjtcbiAgICBHZW5lcmljR0YuTUFYSUNPREVfRklFTERfNjQgPSBHZW5lcmljR0YuQVpURUNfREFUQV82O1xuICAgIHJldHVybiBHZW5lcmljR0Y7XG59KEFic3RyYWN0R2VuZXJpY0dGKSk7XG5leHBvcnQgZGVmYXVsdCBHZW5lcmljR0Y7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HZW5lcmljR0YuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vRXhjZXB0aW9uJztcbi8qKlxuICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLlxuICovXG52YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlZWRTb2xvbW9uRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZWRTb2xvbW9uRXhjZXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIFJlZWRTb2xvbW9uRXhjZXB0aW9uLmtpbmQgPSAnUmVlZFNvbG9tb25FeGNlcHRpb24nO1xuICAgIHJldHVybiBSZWVkU29sb21vbkV4Y2VwdGlvbjtcbn0oRXhjZXB0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBSZWVkU29sb21vbkV4Y2VwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZWRTb2xvbW9uRXhjZXB0aW9uLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL0V4Y2VwdGlvbic7XG4vKipcbiAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi5cbiAqL1xudmFyIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSWxsZWdhbFN0YXRlRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBJbGxlZ2FsU3RhdGVFeGNlcHRpb24ua2luZCA9ICdJbGxlZ2FsU3RhdGVFeGNlcHRpb24nO1xuICAgIHJldHVybiBJbGxlZ2FsU3RhdGVFeGNlcHRpb247XG59KEV4Y2VwdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgSWxsZWdhbFN0YXRlRXhjZXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SWxsZWdhbFN0YXRlRXhjZXB0aW9uLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovXG5pbXBvcnQgR2VuZXJpY0dGIGZyb20gJy4vR2VuZXJpY0dGJztcbmltcG9ydCBHZW5lcmljR0ZQb2x5IGZyb20gJy4vR2VuZXJpY0dGUG9seSc7XG5pbXBvcnQgUmVlZFNvbG9tb25FeGNlcHRpb24gZnJvbSAnLi4vLi4vUmVlZFNvbG9tb25FeGNlcHRpb24nO1xuaW1wb3J0IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiBmcm9tICcuLi8uLi9JbGxlZ2FsU3RhdGVFeGNlcHRpb24nO1xuLyoqXG4gKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+XG4gKlxuICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWxcbiAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPlxuICpcbiAqIDx1bD5cbiAqIDxsaT5CcnVjZSBNYWdncy5cbiAqIDxhIGhyZWY9XCJodHRwOi8vd3d3LmNzLmNtdS5lZHUvYWZzL2NzLmNtdS5lZHUvcHJvamVjdC9wc2NpY28tZ3V5Yi9yZWFsd29ybGQvd3d3L3JzX2RlY29kZS5wc1wiPlxuICogXCJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXNcIjwvYT4gKHNlZSBkaXNjdXNzaW9uIG9mIEZvcm5leSdzIEZvcm11bGEpPC9saT5cbiAqIDxsaT5KLkkuIEhhbGwuIDxhIGhyZWY9XCJ3d3cubXRoLm1zdS5lZHUvfmpoYWxsL2NsYXNzZXMvY29kZW5vdGVzL0dSUy5wZGZcIj5cbiAqIFwiQ2hhcHRlciA1LiBHZW5lcmFsaXplZCBSZWVkLVNvbG9tb24gQ29kZXNcIjwvYT5cbiAqIChzZWUgZGlzY3Vzc2lvbiBvZiBFdWNsaWRlYW4gYWxnb3JpdGhtKTwvbGk+XG4gKiA8L3VsPlxuICpcbiAqIDxwPk11Y2ggY3JlZGl0IGlzIGR1ZSB0byBXaWxsaWFtIFJ1Y2tsaWRnZSBzaW5jZSBwb3J0aW9ucyBvZiB0aGlzIGNvZGUgYXJlIGFuIGluZGlyZWN0XG4gKiBwb3J0IG9mIGhpcyBDKysgUmVlZC1Tb2xvbW9uIGltcGxlbWVudGF0aW9uLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICogQGF1dGhvciBXaWxsaWFtIFJ1Y2tsaWRnZVxuICogQGF1dGhvciBzYW5mb3Jkc3F1aXJlc1xuICovXG52YXIgUmVlZFNvbG9tb25EZWNvZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlZWRTb2xvbW9uRGVjb2RlcihmaWVsZCkge1xuICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIDxwPkRlY29kZXMgZ2l2ZW4gc2V0IG9mIHJlY2VpdmVkIGNvZGV3b3Jkcywgd2hpY2ggaW5jbHVkZSBib3RoIGRhdGEgYW5kIGVycm9yLWNvcnJlY3Rpb25cbiAgICAgKiBjb2Rld29yZHMuIFJlYWxseSwgdGhpcyBtZWFucyBpdCB1c2VzIFJlZWQtU29sb21vbiB0byBkZXRlY3QgYW5kIGNvcnJlY3QgZXJyb3JzLCBpbi1wbGFjZSxcbiAgICAgKiBpbiB0aGUgaW5wdXQuPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlY2VpdmVkIGRhdGEgYW5kIGVycm9yLWNvcnJlY3Rpb24gY29kZXdvcmRzXG4gICAgICogQHBhcmFtIHR3b1MgbnVtYmVyIG9mIGVycm9yLWNvcnJlY3Rpb24gY29kZXdvcmRzIGF2YWlsYWJsZVxuICAgICAqIEB0aHJvd3MgUmVlZFNvbG9tb25FeGNlcHRpb24gaWYgZGVjb2RpbmcgZmFpbHMgZm9yIGFueSByZWFzb25cbiAgICAgKi9cbiAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChyZWNlaXZlZCwgdHdvUyAvKmludCovKSB7XG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7XG4gICAgICAgIHZhciBwb2x5ID0gbmV3IEdlbmVyaWNHRlBvbHkoZmllbGQsIHJlY2VpdmVkKTtcbiAgICAgICAgdmFyIHN5bmRyb21lQ29lZmZpY2llbnRzID0gbmV3IEludDMyQXJyYXkodHdvUyk7XG4gICAgICAgIHZhciBub0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0d29TOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBldmFsUmVzdWx0ID0gcG9seS5ldmFsdWF0ZUF0KGZpZWxkLmV4cChpICsgZmllbGQuZ2V0R2VuZXJhdG9yQmFzZSgpKSk7XG4gICAgICAgICAgICBzeW5kcm9tZUNvZWZmaWNpZW50c1tzeW5kcm9tZUNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gaV0gPSBldmFsUmVzdWx0O1xuICAgICAgICAgICAgaWYgKGV2YWxSZXN1bHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICBub0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3luZHJvbWUgPSBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpO1xuICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTtcbiAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTtcbiAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTtcbiAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpO1xuICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pO1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbignQmFkIGVycm9yIGxvY2F0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNlaXZlZFtwb3NpdGlvbl0gPSBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdChyZWNlaXZlZFtwb3NpdGlvbl0sIGVycm9yTWFnbml0dWRlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUucnVuRXVjbGlkZWFuQWxnb3JpdGhtID0gZnVuY3Rpb24gKGEsIGIsIFIgLyppbnQqLykge1xuICAgICAgICAvLyBBc3N1bWUgYSdzIGRlZ3JlZSBpcyA+PSBiJ3NcbiAgICAgICAgaWYgKGEuZ2V0RGVncmVlKCkgPCBiLmdldERlZ3JlZSgpKSB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IGE7XG4gICAgICAgICAgICBhID0gYjtcbiAgICAgICAgICAgIGIgPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7XG4gICAgICAgIHZhciByTGFzdCA9IGE7XG4gICAgICAgIHZhciByID0gYjtcbiAgICAgICAgdmFyIHRMYXN0ID0gZmllbGQuZ2V0WmVybygpO1xuICAgICAgICB2YXIgdCA9IGZpZWxkLmdldE9uZSgpO1xuICAgICAgICAvLyBSdW4gRXVjbGlkZWFuIGFsZ29yaXRobSB1bnRpbCByJ3MgZGVncmVlIGlzIGxlc3MgdGhhbiBSLzJcbiAgICAgICAgd2hpbGUgKHIuZ2V0RGVncmVlKCkgPj0gKFIgLyAyIHwgMCkpIHtcbiAgICAgICAgICAgIHZhciByTGFzdExhc3QgPSByTGFzdDtcbiAgICAgICAgICAgIHZhciB0TGFzdExhc3QgPSB0TGFzdDtcbiAgICAgICAgICAgIHJMYXN0ID0gcjtcbiAgICAgICAgICAgIHRMYXN0ID0gdDtcbiAgICAgICAgICAgIC8vIERpdmlkZSByTGFzdExhc3QgYnkgckxhc3QsIHdpdGggcXVvdGllbnQgaW4gcSBhbmQgcmVtYWluZGVyIGluIHJcbiAgICAgICAgICAgIGlmIChyTGFzdC5pc1plcm8oKSkge1xuICAgICAgICAgICAgICAgIC8vIE9vcHMsIEV1Y2xpZGVhbiBhbGdvcml0aG0gYWxyZWFkeSB0ZXJtaW5hdGVkP1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbigncl97aS0xfSB3YXMgemVybycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgciA9IHJMYXN0TGFzdDtcbiAgICAgICAgICAgIHZhciBxID0gZmllbGQuZ2V0WmVybygpO1xuICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSByTGFzdC5nZXRDb2VmZmljaWVudChyTGFzdC5nZXREZWdyZWUoKSk7XG4gICAgICAgICAgICB2YXIgZGx0SW52ZXJzZSA9IGZpZWxkLmludmVyc2UoZGVub21pbmF0b3JMZWFkaW5nVGVybSk7XG4gICAgICAgICAgICB3aGlsZSAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSAmJiAhci5pc1plcm8oKSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmID0gci5nZXREZWdyZWUoKSAtIHJMYXN0LmdldERlZ3JlZSgpO1xuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IGZpZWxkLm11bHRpcGx5KHIuZ2V0Q29lZmZpY2llbnQoci5nZXREZWdyZWUoKSksIGRsdEludmVyc2UpO1xuICAgICAgICAgICAgICAgIHEgPSBxLmFkZE9yU3VidHJhY3QoZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmLCBzY2FsZSkpO1xuICAgICAgICAgICAgICAgIHIgPSByLmFkZE9yU3VidHJhY3Qockxhc3QubXVsdGlwbHlCeU1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ID0gcS5tdWx0aXBseSh0TGFzdCkuYWRkT3JTdWJ0cmFjdCh0TGFzdExhc3QpO1xuICAgICAgICAgICAgaWYgKHIuZ2V0RGVncmVlKCkgPj0gckxhc3QuZ2V0RGVncmVlKCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTtcbiAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbignc2lnbWFUaWxkZSgwKSB3YXMgemVybycpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnZlcnNlID0gZmllbGQuaW52ZXJzZShzaWdtYVRpbGRlQXRaZXJvKTtcbiAgICAgICAgdmFyIHNpZ21hID0gdC5tdWx0aXBseVNjYWxhcihpbnZlcnNlKTtcbiAgICAgICAgdmFyIG9tZWdhID0gci5tdWx0aXBseVNjYWxhcihpbnZlcnNlKTtcbiAgICAgICAgcmV0dXJuIFtzaWdtYSwgb21lZ2FdO1xuICAgIH07XG4gICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5maW5kRXJyb3JMb2NhdGlvbnMgPSBmdW5jdGlvbiAoZXJyb3JMb2NhdG9yKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBkaXJlY3QgYXBwbGljYXRpb24gb2YgQ2hpZW4ncyBzZWFyY2hcbiAgICAgICAgdmFyIG51bUVycm9ycyA9IGVycm9yTG9jYXRvci5nZXREZWdyZWUoKTtcbiAgICAgICAgaWYgKG51bUVycm9ycyA9PT0gMSkgeyAvLyBzaG9ydGN1dFxuICAgICAgICAgICAgcmV0dXJuIEludDMyQXJyYXkuZnJvbShbZXJyb3JMb2NhdG9yLmdldENvZWZmaWNpZW50KDEpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBJbnQzMkFycmF5KG51bUVycm9ycyk7XG4gICAgICAgIHZhciBlID0gMDtcbiAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBmaWVsZC5nZXRTaXplKCkgJiYgZSA8IG51bUVycm9yczsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3JMb2NhdG9yLmV2YWx1YXRlQXQoaSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbZV0gPSBmaWVsZC5pbnZlcnNlKGkpO1xuICAgICAgICAgICAgICAgIGUrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZSAhPT0gbnVtRXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb24oJ0Vycm9yIGxvY2F0b3IgZGVncmVlIGRvZXMgbm90IG1hdGNoIG51bWJlciBvZiByb290cycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLmZpbmRFcnJvck1hZ25pdHVkZXMgPSBmdW5jdGlvbiAoZXJyb3JFdmFsdWF0b3IsIGVycm9yTG9jYXRpb25zKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgZGlyZWN0bHkgYXBwbHlpbmcgRm9ybmV5J3MgRm9ybXVsYVxuICAgICAgICB2YXIgcyA9IGVycm9yTG9jYXRpb25zLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBJbnQzMkFycmF5KHMpO1xuICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHhpSW52ZXJzZSA9IGZpZWxkLmludmVyc2UoZXJyb3JMb2NhdGlvbnNbaV0pO1xuICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gMTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgczsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IGopIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVub21pbmF0b3IgPSBmaWVsZC5tdWx0aXBseShkZW5vbWluYXRvcixcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgR2VuZXJpY0dGLmFkZE9yU3VidHJhY3QoMSwgZmllbGQubXVsdGlwbHkoZXJyb3JMb2NhdGlvbnNbal0sIHhpSW52ZXJzZSkpKVxuICAgICAgICAgICAgICAgICAgICAvLyBBYm92ZSBzaG91bGQgd29yayBidXQgZmFpbHMgb24gc29tZSBBcHBsZSBhbmQgTGludXggSkRLcyBkdWUgdG8gYSBIb3RzcG90IGJ1Zy5cbiAgICAgICAgICAgICAgICAgICAgLy8gQmVsb3cgaXMgYSBmdW5ueS1sb29raW5nIHdvcmthcm91bmQgZnJvbSBTdGV2ZW4gUGFya2VzXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXJtID0gZmllbGQubXVsdGlwbHkoZXJyb3JMb2NhdGlvbnNbal0sIHhpSW52ZXJzZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXJtUGx1czEgPSAodGVybSAmIDB4MSkgPT09IDAgPyB0ZXJtIHwgMSA6IHRlcm0gJiB+MTtcbiAgICAgICAgICAgICAgICAgICAgZGVub21pbmF0b3IgPSBmaWVsZC5tdWx0aXBseShkZW5vbWluYXRvciwgdGVybVBsdXMxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbaV0gPSBmaWVsZC5tdWx0aXBseShlcnJvckV2YWx1YXRvci5ldmFsdWF0ZUF0KHhpSW52ZXJzZSksIGZpZWxkLmludmVyc2UoZGVub21pbmF0b3IpKTtcbiAgICAgICAgICAgIGlmIChmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbaV0gPSBmaWVsZC5tdWx0aXBseShyZXN1bHRbaV0sIHhpSW52ZXJzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIHJldHVybiBSZWVkU29sb21vbkRlY29kZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUmVlZFNvbG9tb25EZWNvZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVlZFNvbG9tb25EZWNvZGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IERlY29kZXJSZXN1bHQgZnJvbSAnLi4vLi4vY29tbW9uL0RlY29kZXJSZXN1bHQnO1xuaW1wb3J0IEdlbmVyaWNHRiBmcm9tICcuLi8uLi9jb21tb24vcmVlZHNvbG9tb24vR2VuZXJpY0dGJztcbmltcG9ydCBSZWVkU29sb21vbkRlY29kZXIgZnJvbSAnLi4vLi4vY29tbW9uL3JlZWRzb2xvbW9uL1JlZWRTb2xvbW9uRGVjb2Rlcic7XG5pbXBvcnQgSWxsZWdhbFN0YXRlRXhjZXB0aW9uIGZyb20gJy4uLy4uL0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbic7XG5pbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uLy4uL0Zvcm1hdEV4Y2VwdGlvbic7XG5pbXBvcnQgU3RyaW5nVXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL1N0cmluZ1V0aWxzJztcbmltcG9ydCBJbnRlZ2VyIGZyb20gJy4uLy4uL3V0aWwvSW50ZWdlcic7XG4vLyBpbXBvcnQgamF2YS51dGlsLkFycmF5cztcbnZhciBUYWJsZTtcbihmdW5jdGlvbiAoVGFibGUpIHtcbiAgICBUYWJsZVtUYWJsZVtcIlVQUEVSXCJdID0gMF0gPSBcIlVQUEVSXCI7XG4gICAgVGFibGVbVGFibGVbXCJMT1dFUlwiXSA9IDFdID0gXCJMT1dFUlwiO1xuICAgIFRhYmxlW1RhYmxlW1wiTUlYRURcIl0gPSAyXSA9IFwiTUlYRURcIjtcbiAgICBUYWJsZVtUYWJsZVtcIkRJR0lUXCJdID0gM10gPSBcIkRJR0lUXCI7XG4gICAgVGFibGVbVGFibGVbXCJQVU5DVFwiXSA9IDRdID0gXCJQVU5DVFwiO1xuICAgIFRhYmxlW1RhYmxlW1wiQklOQVJZXCJdID0gNV0gPSBcIkJJTkFSWVwiO1xufSkoVGFibGUgfHwgKFRhYmxlID0ge30pKTtcbi8qKlxuICogPHA+VGhlIG1haW4gY2xhc3Mgd2hpY2ggaW1wbGVtZW50cyBBenRlYyBDb2RlIGRlY29kaW5nIC0tIGFzIG9wcG9zZWQgdG8gbG9jYXRpbmcgYW5kIGV4dHJhY3RpbmdcbiAqIHRoZSBBenRlYyBDb2RlIGZyb20gYW4gaW1hZ2UuPC9wPlxuICpcbiAqIEBhdXRob3IgRGF2aWQgT2xpdmllclxuICovXG52YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWNvZGVyKCkge1xuICAgIH1cbiAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoZGV0ZWN0b3JSZXN1bHQpIHtcbiAgICAgICAgdGhpcy5kZGF0YSA9IGRldGVjdG9yUmVzdWx0O1xuICAgICAgICB2YXIgbWF0cml4ID0gZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpO1xuICAgICAgICB2YXIgcmF3Yml0cyA9IHRoaXMuZXh0cmFjdEJpdHMobWF0cml4KTtcbiAgICAgICAgdmFyIGNvcnJlY3RlZEJpdHMgPSB0aGlzLmNvcnJlY3RCaXRzKHJhd2JpdHMpO1xuICAgICAgICB2YXIgcmF3Qnl0ZXMgPSBEZWNvZGVyLmNvbnZlcnRCb29sQXJyYXlUb0J5dGVBcnJheShjb3JyZWN0ZWRCaXRzKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IERlY29kZXIuZ2V0RW5jb2RlZERhdGEoY29ycmVjdGVkQml0cyk7XG4gICAgICAgIHZhciBkZWNvZGVyUmVzdWx0ID0gbmV3IERlY29kZXJSZXN1bHQocmF3Qnl0ZXMsIHJlc3VsdCwgbnVsbCwgbnVsbCk7XG4gICAgICAgIGRlY29kZXJSZXN1bHQuc2V0TnVtQml0cyhjb3JyZWN0ZWRCaXRzLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBkZWNvZGVyUmVzdWx0O1xuICAgIH07XG4gICAgLy8gVGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgdGVzdGluZyB0aGUgaGlnaC1sZXZlbCBlbmNvZGVyXG4gICAgRGVjb2Rlci5oaWdoTGV2ZWxEZWNvZGUgPSBmdW5jdGlvbiAoY29ycmVjdGVkQml0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbmNvZGVkRGF0YShjb3JyZWN0ZWRCaXRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0cmluZyBlbmNvZGVkIGluIHRoZSBhenRlYyBjb2RlIGJpdHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4gdGhlIGRlY29kZWQgc3RyaW5nXG4gICAgICovXG4gICAgRGVjb2Rlci5nZXRFbmNvZGVkRGF0YSA9IGZ1bmN0aW9uIChjb3JyZWN0ZWRCaXRzKSB7XG4gICAgICAgIHZhciBlbmRJbmRleCA9IGNvcnJlY3RlZEJpdHMubGVuZ3RoO1xuICAgICAgICB2YXIgbGF0Y2hUYWJsZSA9IFRhYmxlLlVQUEVSOyAvLyB0YWJsZSBtb3N0IHJlY2VudGx5IGxhdGNoZWQgdG9cbiAgICAgICAgdmFyIHNoaWZ0VGFibGUgPSBUYWJsZS5VUFBFUjsgLy8gdGFibGUgdG8gdXNlIGZvciB0aGUgbmV4dCByZWFkXG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgZW5kSW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChzaGlmdFRhYmxlID09PSBUYWJsZS5CSU5BUlkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW5kSW5kZXggLSBpbmRleCA8IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBsZW5ndGhfMSA9IERlY29kZXIucmVhZENvZGUoY29ycmVjdGVkQml0cywgaW5kZXgsIDUpO1xuICAgICAgICAgICAgICAgIGluZGV4ICs9IDU7XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aF8xID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRJbmRleCAtIGluZGV4IDwgMTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aF8xID0gRGVjb2Rlci5yZWFkQ29kZShjb3JyZWN0ZWRCaXRzLCBpbmRleCwgMTEpICsgMzE7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IDExO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGFyQ291bnQgPSAwOyBjaGFyQ291bnQgPCBsZW5ndGhfMTsgY2hhckNvdW50KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuZEluZGV4IC0gaW5kZXggPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGVuZEluZGV4OyAvLyBGb3JjZSBvdXRlciBsb29wIHRvIGV4aXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2RlID0gRGVjb2Rlci5yZWFkQ29kZShjb3JyZWN0ZWRCaXRzLCBpbmRleCwgOCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAvKihjaGFyKSovIFN0cmluZ1V0aWxzLmNhc3RBc05vblV0ZjhDaGFyKGNvZGUpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCArPSA4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBHbyBiYWNrIHRvIHdoYXRldmVyIG1vZGUgd2UgaGFkIGJlZW4gaW5cbiAgICAgICAgICAgICAgICBzaGlmdFRhYmxlID0gbGF0Y2hUYWJsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzaXplID0gc2hpZnRUYWJsZSA9PT0gVGFibGUuRElHSVQgPyA0IDogNTtcbiAgICAgICAgICAgICAgICBpZiAoZW5kSW5kZXggLSBpbmRleCA8IHNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjb2RlID0gRGVjb2Rlci5yZWFkQ29kZShjb3JyZWN0ZWRCaXRzLCBpbmRleCwgc2l6ZSk7XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gc2l6ZTtcbiAgICAgICAgICAgICAgICB2YXIgc3RyID0gRGVjb2Rlci5nZXRDaGFyYWN0ZXIoc2hpZnRUYWJsZSwgY29kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0ci5zdGFydHNXaXRoKCdDVFJMXycpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRhYmxlIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gSVNPL0lFQyAyNDc3ODoyMDA4IHByZXNjcmliZXMgZW5kaW5nIGEgc2hpZnQgc2VxdWVuY2UgaW4gdGhlIG1vZGUgZnJvbSB3aGljaCBpdCB3YXMgaW52b2tlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhhdCdzIGluY2x1ZGluZyB3aGVuIHRoYXQgbW9kZSBpcyBhIHNoaWZ0LlxuICAgICAgICAgICAgICAgICAgICAvLyBPdXIgdGVzdCBjYXNlIGRsdXNicy5wbmcgZm9yIGlzc3VlICM2NDIgZXhlcmNpc2VzIHRoYXQuXG4gICAgICAgICAgICAgICAgICAgIGxhdGNoVGFibGUgPSBzaGlmdFRhYmxlOyAvLyBMYXRjaCB0aGUgY3VycmVudCBtb2RlLCBzbyBhcyB0byByZXR1cm4gdG8gVXBwZXIgYWZ0ZXIgVS9TIEIvU1xuICAgICAgICAgICAgICAgICAgICBzaGlmdFRhYmxlID0gRGVjb2Rlci5nZXRUYWJsZShzdHIuY2hhckF0KDUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ci5jaGFyQXQoNikgPT09ICdMJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF0Y2hUYWJsZSA9IHNoaWZ0VGFibGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBzdHI7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdvIGJhY2sgdG8gd2hhdGV2ZXIgbW9kZSB3ZSBoYWQgYmVlbiBpblxuICAgICAgICAgICAgICAgICAgICBzaGlmdFRhYmxlID0gbGF0Y2hUYWJsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGdldHMgdGhlIHRhYmxlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGNoYXIgcGFzc2VkXG4gICAgICovXG4gICAgRGVjb2Rlci5nZXRUYWJsZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRhYmxlLkxPV0VSO1xuICAgICAgICAgICAgY2FzZSAnUCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRhYmxlLlBVTkNUO1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRhYmxlLk1JWEVEO1xuICAgICAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRhYmxlLkRJR0lUO1xuICAgICAgICAgICAgY2FzZSAnQic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRhYmxlLkJJTkFSWTtcbiAgICAgICAgICAgIGNhc2UgJ1UnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gVGFibGUuVVBQRVI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGNoYXJhY3RlciAob3Igc3RyaW5nKSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwYXNzZWQgY29kZSBpbiB0aGUgZ2l2ZW4gdGFibGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YWJsZSB0aGUgdGFibGUgdXNlZFxuICAgICAqIEBwYXJhbSBjb2RlIHRoZSBjb2RlIG9mIHRoZSBjaGFyYWN0ZXJcbiAgICAgKi9cbiAgICBEZWNvZGVyLmdldENoYXJhY3RlciA9IGZ1bmN0aW9uICh0YWJsZSwgY29kZSkge1xuICAgICAgICBzd2l0Y2ggKHRhYmxlKSB7XG4gICAgICAgICAgICBjYXNlIFRhYmxlLlVQUEVSOlxuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvZGVyLlVQUEVSX1RBQkxFW2NvZGVdO1xuICAgICAgICAgICAgY2FzZSBUYWJsZS5MT1dFUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGVjb2Rlci5MT1dFUl9UQUJMRVtjb2RlXTtcbiAgICAgICAgICAgIGNhc2UgVGFibGUuTUlYRUQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29kZXIuTUlYRURfVEFCTEVbY29kZV07XG4gICAgICAgICAgICBjYXNlIFRhYmxlLlBVTkNUOlxuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvZGVyLlBVTkNUX1RBQkxFW2NvZGVdO1xuICAgICAgICAgICAgY2FzZSBUYWJsZS5ESUdJVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gRGVjb2Rlci5ESUdJVF9UQUJMRVtjb2RlXTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gU2hvdWxkIG5vdCByZWFjaCBoZXJlLlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0JhZCB0YWJsZScpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5QZXJmb3JtcyBSUyBlcnJvciBjb3JyZWN0aW9uIG9uIGFuIGFycmF5IG9mIGJpdHMuPC9wPlxuICAgICAqXG4gICAgICogQHJldHVybiB0aGUgY29ycmVjdGVkIGFycmF5XG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIGlucHV0IGNvbnRhaW5zIHRvbyBtYW55IGVycm9yc1xuICAgICAqL1xuICAgIERlY29kZXIucHJvdG90eXBlLmNvcnJlY3RCaXRzID0gZnVuY3Rpb24gKHJhd2JpdHMpIHtcbiAgICAgICAgdmFyIGdmO1xuICAgICAgICB2YXIgY29kZXdvcmRTaXplO1xuICAgICAgICBpZiAodGhpcy5kZGF0YS5nZXROYkxheWVycygpIDw9IDIpIHtcbiAgICAgICAgICAgIGNvZGV3b3JkU2l6ZSA9IDY7XG4gICAgICAgICAgICBnZiA9IEdlbmVyaWNHRi5BWlRFQ19EQVRBXzY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZGF0YS5nZXROYkxheWVycygpIDw9IDgpIHtcbiAgICAgICAgICAgIGNvZGV3b3JkU2l6ZSA9IDg7XG4gICAgICAgICAgICBnZiA9IEdlbmVyaWNHRi5BWlRFQ19EQVRBXzg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZGF0YS5nZXROYkxheWVycygpIDw9IDIyKSB7XG4gICAgICAgICAgICBjb2Rld29yZFNpemUgPSAxMDtcbiAgICAgICAgICAgIGdmID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfMTA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2Rld29yZFNpemUgPSAxMjtcbiAgICAgICAgICAgIGdmID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfMTI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSB0aGlzLmRkYXRhLmdldE5iRGF0YWJsb2NrcygpO1xuICAgICAgICB2YXIgbnVtQ29kZXdvcmRzID0gcmF3Yml0cy5sZW5ndGggLyBjb2Rld29yZFNpemU7XG4gICAgICAgIGlmIChudW1Db2Rld29yZHMgPCBudW1EYXRhQ29kZXdvcmRzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9mZnNldCA9IHJhd2JpdHMubGVuZ3RoICUgY29kZXdvcmRTaXplO1xuICAgICAgICB2YXIgZGF0YVdvcmRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Db2Rld29yZHM7IGkrKywgb2Zmc2V0ICs9IGNvZGV3b3JkU2l6ZSkge1xuICAgICAgICAgICAgZGF0YVdvcmRzW2ldID0gRGVjb2Rlci5yZWFkQ29kZShyYXdiaXRzLCBvZmZzZXQsIGNvZGV3b3JkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciByc0RlY29kZXIgPSBuZXcgUmVlZFNvbG9tb25EZWNvZGVyKGdmKTtcbiAgICAgICAgICAgIHJzRGVjb2Rlci5kZWNvZGUoZGF0YVdvcmRzLCBudW1Db2Rld29yZHMgLSBudW1EYXRhQ29kZXdvcmRzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oZXgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdyBwZXJmb3JtIHRoZSB1bnN0dWZmaW5nIG9wZXJhdGlvbi5cbiAgICAgICAgLy8gRmlyc3QsIGNvdW50IGhvdyBtYW55IGJpdHMgYXJlIGdvaW5nIHRvIGJlIHRocm93biBvdXQgYXMgc3R1ZmZpbmdcbiAgICAgICAgdmFyIG1hc2sgPSAoMSA8PCBjb2Rld29yZFNpemUpIC0gMTtcbiAgICAgICAgdmFyIHN0dWZmZWRCaXRzID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhV29yZCA9IGRhdGFXb3Jkc1tpXTtcbiAgICAgICAgICAgIGlmIChkYXRhV29yZCA9PT0gMCB8fCBkYXRhV29yZCA9PT0gbWFzaykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFXb3JkID09PSAxIHx8IGRhdGFXb3JkID09PSBtYXNrIC0gMSkge1xuICAgICAgICAgICAgICAgIHN0dWZmZWRCaXRzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm93LCBhY3R1YWxseSB1bnBhY2sgdGhlIGJpdHMgYW5kIHJlbW92ZSB0aGUgc3R1ZmZpbmdcbiAgICAgICAgdmFyIGNvcnJlY3RlZEJpdHMgPSBuZXcgQXJyYXkobnVtRGF0YUNvZGV3b3JkcyAqIGNvZGV3b3JkU2l6ZSAtIHN0dWZmZWRCaXRzKTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhV29yZCA9IGRhdGFXb3Jkc1tpXTtcbiAgICAgICAgICAgIGlmIChkYXRhV29yZCA9PT0gMSB8fCBkYXRhV29yZCA9PT0gbWFzayAtIDEpIHtcbiAgICAgICAgICAgICAgICAvLyBuZXh0IGNvZGV3b3JkU2l6ZS0xIGJpdHMgYXJlIGFsbCB6ZXJvcyBvciBhbGwgb25lc1xuICAgICAgICAgICAgICAgIGNvcnJlY3RlZEJpdHMuZmlsbChkYXRhV29yZCA+IDEsIGluZGV4LCBpbmRleCArIGNvZGV3b3JkU2l6ZSAtIDEpO1xuICAgICAgICAgICAgICAgIC8vIEFycmF5cy5maWxsKGNvcnJlY3RlZEJpdHMsIGluZGV4LCBpbmRleCArIGNvZGV3b3JkU2l6ZSAtIDEsIGRhdGFXb3JkID4gMSk7XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gY29kZXdvcmRTaXplIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGJpdCA9IGNvZGV3b3JkU2l6ZSAtIDE7IGJpdCA+PSAwOyAtLWJpdCkge1xuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0ZWRCaXRzW2luZGV4KytdID0gKGRhdGFXb3JkICYgKDEgPDwgYml0KSkgIT09IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3JyZWN0ZWRCaXRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJyYXkgb2YgYml0cyBmcm9tIGFuIEF6dGVjIENvZGUgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRoZSBhcnJheSBvZiBiaXRzXG4gICAgICovXG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZXh0cmFjdEJpdHMgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHZhciBjb21wYWN0ID0gdGhpcy5kZGF0YS5pc0NvbXBhY3QoKTtcbiAgICAgICAgdmFyIGxheWVycyA9IHRoaXMuZGRhdGEuZ2V0TmJMYXllcnMoKTtcbiAgICAgICAgdmFyIGJhc2VNYXRyaXhTaXplID0gKGNvbXBhY3QgPyAxMSA6IDE0KSArIGxheWVycyAqIDQ7IC8vIG5vdCBpbmNsdWRpbmcgYWxpZ25tZW50IGxpbmVzXG4gICAgICAgIHZhciBhbGlnbm1lbnRNYXAgPSBuZXcgSW50MzJBcnJheShiYXNlTWF0cml4U2l6ZSk7XG4gICAgICAgIHZhciByYXdiaXRzID0gbmV3IEFycmF5KHRoaXMudG90YWxCaXRzSW5MYXllcihsYXllcnMsIGNvbXBhY3QpKTtcbiAgICAgICAgaWYgKGNvbXBhY3QpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxpZ25tZW50TWFwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25tZW50TWFwW2ldID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtYXRyaXhTaXplID0gYmFzZU1hdHJpeFNpemUgKyAxICsgMiAqIEludGVnZXIudHJ1bmNEaXZpc2lvbigoSW50ZWdlci50cnVuY0RpdmlzaW9uKGJhc2VNYXRyaXhTaXplLCAyKSAtIDEpLCAxNSk7XG4gICAgICAgICAgICB2YXIgb3JpZ0NlbnRlciA9IGJhc2VNYXRyaXhTaXplIC8gMjtcbiAgICAgICAgICAgIHZhciBjZW50ZXIgPSBJbnRlZ2VyLnRydW5jRGl2aXNpb24obWF0cml4U2l6ZSwgMik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yaWdDZW50ZXI7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBuZXdPZmZzZXQgPSBpICsgSW50ZWdlci50cnVuY0RpdmlzaW9uKGksIDE1KTtcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnRNYXBbb3JpZ0NlbnRlciAtIGkgLSAxXSA9IGNlbnRlciAtIG5ld09mZnNldCAtIDE7XG4gICAgICAgICAgICAgICAgYWxpZ25tZW50TWFwW29yaWdDZW50ZXIgKyBpXSA9IGNlbnRlciArIG5ld09mZnNldCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHJvd09mZnNldCA9IDA7IGkgPCBsYXllcnM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJvd1NpemUgPSAobGF5ZXJzIC0gaSkgKiA0ICsgKGNvbXBhY3QgPyA5IDogMTIpO1xuICAgICAgICAgICAgLy8gVGhlIHRvcC1sZWZ0IG1vc3QgcG9pbnQgb2YgdGhpcyBsYXllciBpcyA8bG93LCBsb3c+IChub3QgaW5jbHVkaW5nIGFsaWdubWVudCBsaW5lcylcbiAgICAgICAgICAgIHZhciBsb3cgPSBpICogMjtcbiAgICAgICAgICAgIC8vIFRoZSBib3R0b20tcmlnaHQgbW9zdCBwb2ludCBvZiB0aGlzIGxheWVyIGlzIDxoaWdoLCBoaWdoPiAobm90IGluY2x1ZGluZyBhbGlnbm1lbnQgbGluZXMpXG4gICAgICAgICAgICB2YXIgaGlnaCA9IGJhc2VNYXRyaXhTaXplIC0gMSAtIGxvdztcbiAgICAgICAgICAgIC8vIFdlIHB1bGwgYml0cyBmcm9tIHRoZSB0d28gMiB4IHJvd1NpemUgY29sdW1ucyBhbmQgdHdvIHJvd1NpemUgeCAyIHJvd3NcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm93U2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbHVtbk9mZnNldCA9IGogKiAyO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgMjsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxlZnQgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgIHJhd2JpdHNbcm93T2Zmc2V0ICsgY29sdW1uT2Zmc2V0ICsga10gPVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0cml4LmdldChhbGlnbm1lbnRNYXBbbG93ICsga10sIGFsaWdubWVudE1hcFtsb3cgKyBqXSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJvdHRvbSByb3dcbiAgICAgICAgICAgICAgICAgICAgcmF3Yml0c1tyb3dPZmZzZXQgKyAyICogcm93U2l6ZSArIGNvbHVtbk9mZnNldCArIGtdID1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5nZXQoYWxpZ25tZW50TWFwW2xvdyArIGpdLCBhbGlnbm1lbnRNYXBbaGlnaCAtIGtdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmlnaHQgY29sdW1uXG4gICAgICAgICAgICAgICAgICAgIHJhd2JpdHNbcm93T2Zmc2V0ICsgNCAqIHJvd1NpemUgKyBjb2x1bW5PZmZzZXQgKyBrXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXguZ2V0KGFsaWdubWVudE1hcFtoaWdoIC0ga10sIGFsaWdubWVudE1hcFtoaWdoIC0gal0pO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3Agcm93XG4gICAgICAgICAgICAgICAgICAgIHJhd2JpdHNbcm93T2Zmc2V0ICsgNiAqIHJvd1NpemUgKyBjb2x1bW5PZmZzZXQgKyBrXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRyaXguZ2V0KGFsaWdubWVudE1hcFtoaWdoIC0gal0sIGFsaWdubWVudE1hcFtsb3cgKyBrXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93T2Zmc2V0ICs9IHJvd1NpemUgKiA4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByYXdiaXRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVhZHMgYSBjb2RlIG9mIGdpdmVuIGxlbmd0aCBhbmQgYXQgZ2l2ZW4gaW5kZXggaW4gYW4gYXJyYXkgb2YgYml0c1xuICAgICAqL1xuICAgIERlY29kZXIucmVhZENvZGUgPSBmdW5jdGlvbiAocmF3Yml0cywgc3RhcnRJbmRleCwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXMgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IHN0YXJ0SW5kZXggKyBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzIDw8PSAxO1xuICAgICAgICAgICAgaWYgKHJhd2JpdHNbaV0pIHtcbiAgICAgICAgICAgICAgICByZXMgfD0gMHgwMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVhZHMgYSBjb2RlIG9mIGxlbmd0aCA4IGluIGFuIGFycmF5IG9mIGJpdHMsIHBhZGRpbmcgd2l0aCB6ZXJvc1xuICAgICAqL1xuICAgIERlY29kZXIucmVhZEJ5dGUgPSBmdW5jdGlvbiAocmF3Yml0cywgc3RhcnRJbmRleCkge1xuICAgICAgICB2YXIgbiA9IHJhd2JpdHMubGVuZ3RoIC0gc3RhcnRJbmRleDtcbiAgICAgICAgaWYgKG4gPj0gOCkge1xuICAgICAgICAgICAgcmV0dXJuIERlY29kZXIucmVhZENvZGUocmF3Yml0cywgc3RhcnRJbmRleCwgOCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29kZXIucmVhZENvZGUocmF3Yml0cywgc3RhcnRJbmRleCwgbikgPDwgKDggLSBuKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhY2tzIGEgYml0IGFycmF5IGludG8gYnl0ZXMsIG1vc3Qgc2lnbmlmaWNhbnQgYml0IGZpcnN0XG4gICAgICovXG4gICAgRGVjb2Rlci5jb252ZXJ0Qm9vbEFycmF5VG9CeXRlQXJyYXkgPSBmdW5jdGlvbiAoYm9vbEFycikge1xuICAgICAgICB2YXIgYnl0ZUFyciA9IG5ldyBVaW50OEFycmF5KChib29sQXJyLmxlbmd0aCArIDcpIC8gOCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZUFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYnl0ZUFycltpXSA9IERlY29kZXIucmVhZEJ5dGUoYm9vbEFyciwgOCAqIGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBieXRlQXJyO1xuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUudG90YWxCaXRzSW5MYXllciA9IGZ1bmN0aW9uIChsYXllcnMsIGNvbXBhY3QpIHtcbiAgICAgICAgcmV0dXJuICgoY29tcGFjdCA/IDg4IDogMTEyKSArIDE2ICogbGF5ZXJzKSAqIGxheWVycztcbiAgICB9O1xuICAgIERlY29kZXIuVVBQRVJfVEFCTEUgPSBbXG4gICAgICAgICdDVFJMX1BTJywgJyAnLCAnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsXG4gICAgICAgICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJywgJ0NUUkxfTEwnLCAnQ1RSTF9NTCcsICdDVFJMX0RMJywgJ0NUUkxfQlMnXG4gICAgXTtcbiAgICBEZWNvZGVyLkxPV0VSX1RBQkxFID0gW1xuICAgICAgICAnQ1RSTF9QUycsICcgJywgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJywgJ2cnLCAnaCcsICdpJywgJ2onLCAnaycsICdsJywgJ20nLCAnbicsICdvJywgJ3AnLFxuICAgICAgICAncScsICdyJywgJ3MnLCAndCcsICd1JywgJ3YnLCAndycsICd4JywgJ3knLCAneicsICdDVFJMX1VTJywgJ0NUUkxfTUwnLCAnQ1RSTF9ETCcsICdDVFJMX0JTJ1xuICAgIF07XG4gICAgRGVjb2Rlci5NSVhFRF9UQUJMRSA9IFtcbiAgICAgICAgLy8gTW9kdWxlIHBhcnNlIGZhaWxlZDogT2N0YWwgbGl0ZXJhbCBpbiBzdHJpY3QgbW9kZSAoNTA6MjkpXG4gICAgICAgIC8vIHNvIG51bWJlciBzdHJpbmcgd2VyZSBzY2FwZWRcbiAgICAgICAgJ0NUUkxfUFMnLCAnICcsICdcXFxcMScsICdcXFxcMicsICdcXFxcMycsICdcXFxcNCcsICdcXFxcNScsICdcXFxcNicsICdcXFxcNycsICdcXGInLCAnXFx0JywgJ1xcbicsXG4gICAgICAgICdcXFxcMTMnLCAnXFxmJywgJ1xccicsICdcXFxcMzMnLCAnXFxcXDM0JywgJ1xcXFwzNScsICdcXFxcMzYnLCAnXFxcXDM3JywgJ0AnLCAnXFxcXCcsICdeJywgJ18nLFxuICAgICAgICAnYCcsICd8JywgJ34nLCAnXFxcXDE3NycsICdDVFJMX0xMJywgJ0NUUkxfVUwnLCAnQ1RSTF9QTCcsICdDVFJMX0JTJ1xuICAgIF07XG4gICAgRGVjb2Rlci5QVU5DVF9UQUJMRSA9IFtcbiAgICAgICAgJycsICdcXHInLCAnXFxyXFxuJywgJy4gJywgJywgJywgJzogJywgJyEnLCAnXCInLCAnIycsICckJywgJyUnLCAnJicsICdcXCcnLCAnKCcsICcpJyxcbiAgICAgICAgJyonLCAnKycsICcsJywgJy0nLCAnLicsICcvJywgJzonLCAnOycsICc8JywgJz0nLCAnPicsICc/JywgJ1snLCAnXScsICd7JywgJ30nLCAnQ1RSTF9VTCdcbiAgICBdO1xuICAgIERlY29kZXIuRElHSVRfVEFCTEUgPSBbXG4gICAgICAgICdDVFJMX1BTJywgJyAnLCAnMCcsICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcsJywgJy4nLCAnQ1RSTF9VTCcsICdDVFJMX1VTJ1xuICAgIF07XG4gICAgcmV0dXJuIERlY29kZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGVjb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZXIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDEyIFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki9cbi8qKlxuICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKi9cbnZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHNcbiAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dFxuICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZVxuICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmRcbiAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH1cbiAgICAgKi9cbiAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHtcbiAgICAgICAgaWYgKE5hTiA9PT0gZClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUilcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjtcbiAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwO1xuICAgIH07XG4gICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlXG4gICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQlxuICAgICAqL1xuICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7XG4gICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7XG4gICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7XG4gICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZVxuICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEJcbiAgICAgKi9cbiAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHtcbiAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWFxuICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZXG4gICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpO1xuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bVxuICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheVxuICAgICAqL1xuICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldO1xuICAgICAgICAgICAgY291bnQgKz0gYTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfTtcbiAgICByZXR1cm4gTWF0aFV0aWxzO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IE1hdGhVdGlscztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdGhVdGlscy5qcy5tYXAiLCIvKipcbiAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuXG4gKi9cbnZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGbG9hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycyxcbiAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuXG4gICAgICovXG4gICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gZjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuXG4gICAgICovXG4gICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgcmV0dXJuIEZsb2F0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEZsb2F0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmxvYXQuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqL1xuaW1wb3J0IE1hdGhVdGlscyBmcm9tICcuL2NvbW1vbi9kZXRlY3Rvci9NYXRoVXRpbHMnO1xuaW1wb3J0IEZsb2F0IGZyb20gJy4vdXRpbC9GbG9hdCc7XG4vKipcbiAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXNcbiAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cbiAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueDtcbiAgICB9O1xuICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHtcbiAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIDMxICogRmxvYXQuZmxvYXRUb0ludEJpdHModGhpcy54KSArIEZsb2F0LmZsb2F0VG9JbnRCaXRzKHRoaXMueSk7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgUmVzdWx0UG9pbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJygnICsgdGhpcy54ICsgJywnICsgdGhpcy55ICsgJyknO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogT3JkZXJzIGFuIGFycmF5IG9mIHRocmVlIFJlc3VsdFBvaW50cyBpbiBhbiBvcmRlciBbQSxCLENdIHN1Y2ggdGhhdCBBQiBpcyBsZXNzIHRoYW4gQUNcbiAgICAgKiBhbmQgQkMgaXMgbGVzcyB0aGFuIEFDLCBhbmQgdGhlIGFuZ2xlIGJldHdlZW4gQkMgYW5kIEJBIGlzIGxlc3MgdGhhbiAxODAgZGVncmVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXR0ZXJucyBhcnJheSBvZiB0aHJlZSB7QGNvZGUgUmVzdWx0UG9pbnR9IHRvIG9yZGVyXG4gICAgICovXG4gICAgUmVzdWx0UG9pbnQub3JkZXJCZXN0UGF0dGVybnMgPSBmdW5jdGlvbiAocGF0dGVybnMpIHtcbiAgICAgICAgLy8gRmluZCBkaXN0YW5jZXMgYmV0d2VlbiBwYXR0ZXJuIGNlbnRlcnNcbiAgICAgICAgdmFyIHplcm9PbmVEaXN0YW5jZSA9IHRoaXMuZGlzdGFuY2UocGF0dGVybnNbMF0sIHBhdHRlcm5zWzFdKTtcbiAgICAgICAgdmFyIG9uZVR3b0Rpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1sxXSwgcGF0dGVybnNbMl0pO1xuICAgICAgICB2YXIgemVyb1R3b0Rpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMl0pO1xuICAgICAgICB2YXIgcG9pbnRBO1xuICAgICAgICB2YXIgcG9pbnRCO1xuICAgICAgICB2YXIgcG9pbnRDO1xuICAgICAgICAvLyBBc3N1bWUgb25lIGNsb3Nlc3QgdG8gb3RoZXIgdHdvIGlzIEI7IEEgYW5kIEMgd2lsbCBqdXN0IGJlIGd1ZXNzZXMgYXQgZmlyc3RcbiAgICAgICAgaWYgKG9uZVR3b0Rpc3RhbmNlID49IHplcm9PbmVEaXN0YW5jZSAmJiBvbmVUd29EaXN0YW5jZSA+PSB6ZXJvVHdvRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIHBvaW50QiA9IHBhdHRlcm5zWzBdO1xuICAgICAgICAgICAgcG9pbnRBID0gcGF0dGVybnNbMV07XG4gICAgICAgICAgICBwb2ludEMgPSBwYXR0ZXJuc1syXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh6ZXJvVHdvRGlzdGFuY2UgPj0gb25lVHdvRGlzdGFuY2UgJiYgemVyb1R3b0Rpc3RhbmNlID49IHplcm9PbmVEaXN0YW5jZSkge1xuICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMV07XG4gICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1swXTtcbiAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMl07XG4gICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1swXTtcbiAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzFdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzZSBjcm9zcyBwcm9kdWN0IHRvIGZpZ3VyZSBvdXQgd2hldGhlciBBIGFuZCBDIGFyZSBjb3JyZWN0IG9yIGZsaXBwZWQuXG4gICAgICAgIC8vIFRoaXMgYXNrcyB3aGV0aGVyIEJDIHggQkEgaGFzIGEgcG9zaXRpdmUgeiBjb21wb25lbnQsIHdoaWNoIGlzIHRoZSBhcnJhbmdlbWVudFxuICAgICAgICAvLyB3ZSB3YW50IGZvciBBLCBCLCBDLiBJZiBpdCdzIG5lZ2F0aXZlLCB0aGVuIHdlJ3ZlIGdvdCBpdCBmbGlwcGVkIGFyb3VuZCBhbmRcbiAgICAgICAgLy8gc2hvdWxkIHN3YXAgQSBhbmQgQy5cbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NQcm9kdWN0Wihwb2ludEEsIHBvaW50QiwgcG9pbnRDKSA8IDAuMCkge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBwb2ludEE7XG4gICAgICAgICAgICBwb2ludEEgPSBwb2ludEM7XG4gICAgICAgICAgICBwb2ludEMgPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICAgIHBhdHRlcm5zWzBdID0gcG9pbnRBO1xuICAgICAgICBwYXR0ZXJuc1sxXSA9IHBvaW50QjtcbiAgICAgICAgcGF0dGVybnNbMl0gPSBwb2ludEM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcGF0dGVybjEgZmlyc3QgcGF0dGVyblxuICAgICAqIEBwYXJhbSBwYXR0ZXJuMiBzZWNvbmQgcGF0dGVyblxuICAgICAqIEByZXR1cm4gZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gICAgICovXG4gICAgUmVzdWx0UG9pbnQuZGlzdGFuY2UgPSBmdW5jdGlvbiAocGF0dGVybjEsIHBhdHRlcm4yKSB7XG4gICAgICAgIHJldHVybiBNYXRoVXRpbHMuZGlzdGFuY2UocGF0dGVybjEueCwgcGF0dGVybjEueSwgcGF0dGVybjIueCwgcGF0dGVybjIueSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB6IGNvbXBvbmVudCBvZiB0aGUgY3Jvc3MgcHJvZHVjdCBiZXR3ZWVuIHZlY3RvcnMgQkMgYW5kIEJBLlxuICAgICAqL1xuICAgIFJlc3VsdFBvaW50LmNyb3NzUHJvZHVjdFogPSBmdW5jdGlvbiAocG9pbnRBLCBwb2ludEIsIHBvaW50Qykge1xuICAgICAgICB2YXIgYlggPSBwb2ludEIueDtcbiAgICAgICAgdmFyIGJZID0gcG9pbnRCLnk7XG4gICAgICAgIHJldHVybiAoKHBvaW50Qy54IC0gYlgpICogKHBvaW50QS55IC0gYlkpKSAtICgocG9pbnRDLnkgLSBiWSkgKiAocG9pbnRBLnggLSBiWCkpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc3VsdFBvaW50O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlc3VsdFBvaW50O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzdWx0UG9pbnQuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIDxwPkVuY2Fwc3VsYXRlcyB0aGUgcmVzdWx0IG9mIGRldGVjdGluZyBhIGJhcmNvZGUgaW4gYW4gaW1hZ2UuIFRoaXMgaW5jbHVkZXMgdGhlIHJhd1xuICogbWF0cml4IG9mIGJsYWNrL3doaXRlIHBpeGVscyBjb3JyZXNwb25kaW5nIHRvIHRoZSBiYXJjb2RlLCBhbmQgcG9zc2libHkgcG9pbnRzIG9mIGludGVyZXN0XG4gKiBpbiB0aGUgaW1hZ2UsIGxpa2UgdGhlIGxvY2F0aW9uIG9mIGZpbmRlciBwYXR0ZXJucyBvciBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlIGluIHRoZSBpbWFnZS48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIERldGVjdG9yUmVzdWx0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERldGVjdG9yUmVzdWx0KGJpdHMsIHBvaW50cykge1xuICAgICAgICB0aGlzLmJpdHMgPSBiaXRzO1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcbiAgICB9XG4gICAgRGV0ZWN0b3JSZXN1bHQucHJvdG90eXBlLmdldEJpdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpdHM7XG4gICAgfTtcbiAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0UG9pbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludHM7XG4gICAgfTtcbiAgICByZXR1cm4gRGV0ZWN0b3JSZXN1bHQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGV0ZWN0b3JSZXN1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZXRlY3RvclJlc3VsdC5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMTAgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IERldGVjdG9yUmVzdWx0IGZyb20gJy4uL2NvbW1vbi9EZXRlY3RvclJlc3VsdCc7XG4vKipcbiAqIDxwPkV4dGVuZHMge0BsaW5rIERldGVjdG9yUmVzdWx0fSB3aXRoIG1vcmUgaW5mb3JtYXRpb24gc3BlY2lmaWMgdG8gdGhlIEF6dGVjIGZvcm1hdCxcbiAqIGxpa2UgdGhlIG51bWJlciBvZiBsYXllcnMgYW5kIHdoZXRoZXIgaXQncyBjb21wYWN0LjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgQXp0ZWNEZXRlY3RvclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXp0ZWNEZXRlY3RvclJlc3VsdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBenRlY0RldGVjdG9yUmVzdWx0KGJpdHMsIHBvaW50cywgY29tcGFjdCwgbmJEYXRhYmxvY2tzLCBuYkxheWVycykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBiaXRzLCBwb2ludHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbXBhY3QgPSBjb21wYWN0O1xuICAgICAgICBfdGhpcy5uYkRhdGFibG9ja3MgPSBuYkRhdGFibG9ja3M7XG4gICAgICAgIF90aGlzLm5iTGF5ZXJzID0gbmJMYXllcnM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXp0ZWNEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0TmJMYXllcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5iTGF5ZXJzO1xuICAgIH07XG4gICAgQXp0ZWNEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0TmJEYXRhYmxvY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYkRhdGFibG9ja3M7XG4gICAgfTtcbiAgICBBenRlY0RldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5pc0NvbXBhY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBhY3Q7XG4gICAgfTtcbiAgICByZXR1cm4gQXp0ZWNEZXRlY3RvclJlc3VsdDtcbn0oRGV0ZWN0b3JSZXN1bHQpKTtcbmV4cG9ydCBkZWZhdWx0IEF6dGVjRGV0ZWN0b3JSZXN1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BenRlY0RldGVjdG9yUmVzdWx0LmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24uZGV0ZWN0b3IgeyovXG5pbXBvcnQgUmVzdWx0UG9pbnQgZnJvbSAnLi4vLi4vUmVzdWx0UG9pbnQnO1xuaW1wb3J0IE1hdGhVdGlscyBmcm9tICcuL01hdGhVdGlscyc7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuLyoqXG4gKiA8cD5cbiAqIERldGVjdHMgYSBjYW5kaWRhdGUgYmFyY29kZS1saWtlIHJlY3Rhbmd1bGFyIHJlZ2lvbiB3aXRoaW4gYW4gaW1hZ2UuIEl0XG4gKiBzdGFydHMgYXJvdW5kIHRoZSBjZW50ZXIgb2YgdGhlIGltYWdlLCBpbmNyZWFzZXMgdGhlIHNpemUgb2YgdGhlIGNhbmRpZGF0ZVxuICogcmVnaW9uIHVudGlsIGl0IGZpbmRzIGEgd2hpdGUgcmVjdGFuZ3VsYXIgcmVnaW9uLiBCeSBrZWVwaW5nIHRyYWNrIG9mIHRoZVxuICogbGFzdCBibGFjayBwb2ludHMgaXQgZW5jb3VudGVyZWQsIGl0IGRldGVybWluZXMgdGhlIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUuXG4gKiA8L3A+XG4gKlxuICogQGF1dGhvciBEYXZpZCBPbGl2aWVyXG4gKi9cbnZhciBXaGl0ZVJlY3RhbmdsZURldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIGltYWdlOiBCaXRNYXRyaXgpIC8qdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uKi8ge1xuICAgIC8vICAgdGhpcyhpbWFnZSwgSU5JVF9TSVpFLCBpbWFnZS5nZXRXaWR0aCgpIC8gMiwgaW1hZ2UuZ2V0SGVpZ2h0KCkgLyAyKVxuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gaW1hZ2UgYmFyY29kZSBpbWFnZSB0byBmaW5kIGEgcmVjdGFuZ2xlIGluXG4gICAgICogQHBhcmFtIGluaXRTaXplIGluaXRpYWwgc2l6ZSBvZiBzZWFyY2ggYXJlYSBhcm91bmQgY2VudGVyXG4gICAgICogQHBhcmFtIHggeCBwb3NpdGlvbiBvZiBzZWFyY2ggY2VudGVyXG4gICAgICogQHBhcmFtIHkgeSBwb3NpdGlvbiBvZiBzZWFyY2ggY2VudGVyXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBpbWFnZSBpcyB0b28gc21hbGwgdG8gYWNjb21tb2RhdGUge0Bjb2RlIGluaXRTaXplfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdoaXRlUmVjdGFuZ2xlRGV0ZWN0b3IoaW1hZ2UsIGluaXRTaXplIC8qaW50Ki8sIHggLyppbnQqLywgeSAvKmludCovKSB7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTtcbiAgICAgICAgdGhpcy53aWR0aCA9IGltYWdlLmdldFdpZHRoKCk7XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IGluaXRTaXplIHx8IG51bGwgPT09IGluaXRTaXplKSB7XG4gICAgICAgICAgICBpbml0U2l6ZSA9IFdoaXRlUmVjdGFuZ2xlRGV0ZWN0b3IuSU5JVF9TSVpFO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IHggfHwgbnVsbCA9PT0geCkge1xuICAgICAgICAgICAgeCA9IGltYWdlLmdldFdpZHRoKCkgLyAyIHwgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodW5kZWZpbmVkID09PSB5IHx8IG51bGwgPT09IHkpIHtcbiAgICAgICAgICAgIHkgPSBpbWFnZS5nZXRIZWlnaHQoKSAvIDIgfCAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYWxmc2l6ZSA9IGluaXRTaXplIC8gMiB8IDA7XG4gICAgICAgIHRoaXMubGVmdEluaXQgPSB4IC0gaGFsZnNpemU7XG4gICAgICAgIHRoaXMucmlnaHRJbml0ID0geCArIGhhbGZzaXplO1xuICAgICAgICB0aGlzLnVwSW5pdCA9IHkgLSBoYWxmc2l6ZTtcbiAgICAgICAgdGhpcy5kb3duSW5pdCA9IHkgKyBoYWxmc2l6ZTtcbiAgICAgICAgaWYgKHRoaXMudXBJbml0IDwgMCB8fCB0aGlzLmxlZnRJbml0IDwgMCB8fCB0aGlzLmRvd25Jbml0ID49IHRoaXMuaGVpZ2h0IHx8IHRoaXMucmlnaHRJbml0ID49IHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIDxwPlxuICAgICAqIERldGVjdHMgYSBjYW5kaWRhdGUgYmFyY29kZS1saWtlIHJlY3Rhbmd1bGFyIHJlZ2lvbiB3aXRoaW4gYW4gaW1hZ2UuIEl0XG4gICAgICogc3RhcnRzIGFyb3VuZCB0aGUgY2VudGVyIG9mIHRoZSBpbWFnZSwgaW5jcmVhc2VzIHRoZSBzaXplIG9mIHRoZSBjYW5kaWRhdGVcbiAgICAgKiByZWdpb24gdW50aWwgaXQgZmluZHMgYSB3aGl0ZSByZWN0YW5ndWxhciByZWdpb24uXG4gICAgICogPC9wPlxuICAgICAqXG4gICAgICogQHJldHVybiB7QGxpbmsgUmVzdWx0UG9pbnR9W10gZGVzY3JpYmluZyB0aGUgY29ybmVycyBvZiB0aGUgcmVjdGFuZ3VsYXJcbiAgICAgKiAgICAgICAgIHJlZ2lvbi4gVGhlIGZpcnN0IGFuZCBsYXN0IHBvaW50cyBhcmUgb3Bwb3NlZCBvbiB0aGUgZGlhZ29uYWwsIGFzXG4gICAgICogICAgICAgICBhcmUgdGhlIHNlY29uZCBhbmQgdGhpcmQuIFRoZSBmaXJzdCBwb2ludCB3aWxsIGJlIHRoZSB0b3Btb3N0XG4gICAgICogICAgICAgICBwb2ludCBhbmQgdGhlIGxhc3QsIHRoZSBib3R0b21tb3N0LiBUaGUgc2Vjb25kIHBvaW50IHdpbGwgYmVcbiAgICAgKiAgICAgICAgIGxlZnRtb3N0IGFuZCB0aGUgdGhpcmQsIHRoZSByaWdodG1vc3RcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIG5vIERhdGEgTWF0cml4IENvZGUgY2FuIGJlIGZvdW5kXG4gICAgICovXG4gICAgV2hpdGVSZWN0YW5nbGVEZXRlY3Rvci5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGVmdCA9IHRoaXMubGVmdEluaXQ7XG4gICAgICAgIHZhciByaWdodCA9IHRoaXMucmlnaHRJbml0O1xuICAgICAgICB2YXIgdXAgPSB0aGlzLnVwSW5pdDtcbiAgICAgICAgdmFyIGRvd24gPSB0aGlzLmRvd25Jbml0O1xuICAgICAgICB2YXIgc2l6ZUV4Y2VlZGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBhQmxhY2tQb2ludEZvdW5kT25Cb3JkZXIgPSB0cnVlO1xuICAgICAgICB2YXIgYXRMZWFzdE9uZUJsYWNrUG9pbnRGb3VuZE9uQm9yZGVyID0gZmFsc2U7XG4gICAgICAgIHZhciBhdExlYXN0T25lQmxhY2tQb2ludEZvdW5kT25SaWdodCA9IGZhbHNlO1xuICAgICAgICB2YXIgYXRMZWFzdE9uZUJsYWNrUG9pbnRGb3VuZE9uQm90dG9tID0gZmFsc2U7XG4gICAgICAgIHZhciBhdExlYXN0T25lQmxhY2tQb2ludEZvdW5kT25MZWZ0ID0gZmFsc2U7XG4gICAgICAgIHZhciBhdExlYXN0T25lQmxhY2tQb2ludEZvdW5kT25Ub3AgPSBmYWxzZTtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICB3aGlsZSAoYUJsYWNrUG9pbnRGb3VuZE9uQm9yZGVyKSB7XG4gICAgICAgICAgICBhQmxhY2tQb2ludEZvdW5kT25Cb3JkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIC4uLi4uXG4gICAgICAgICAgICAvLyAuICAgfFxuICAgICAgICAgICAgLy8gLi4uLi5cbiAgICAgICAgICAgIHZhciByaWdodEJvcmRlck5vdFdoaXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHdoaWxlICgocmlnaHRCb3JkZXJOb3RXaGl0ZSB8fCAhYXRMZWFzdE9uZUJsYWNrUG9pbnRGb3VuZE9uUmlnaHQpICYmIHJpZ2h0IDwgd2lkdGgpIHtcbiAgICAgICAgICAgICAgICByaWdodEJvcmRlck5vdFdoaXRlID0gdGhpcy5jb250YWluc0JsYWNrUG9pbnQodXAsIGRvd24sIHJpZ2h0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0Qm9yZGVyTm90V2hpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQrKztcbiAgICAgICAgICAgICAgICAgICAgYUJsYWNrUG9pbnRGb3VuZE9uQm9yZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXRMZWFzdE9uZUJsYWNrUG9pbnRGb3VuZE9uUmlnaHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghYXRMZWFzdE9uZUJsYWNrUG9pbnRGb3VuZE9uUmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmlnaHQgPj0gd2lkdGgpIHtcbiAgICAgICAgICAgICAgICBzaXplRXhjZWVkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gLi4uLi5cbiAgICAgICAgICAgIC8vIC4gICAuXG4gICAgICAgICAgICAvLyAuX19fLlxuICAgICAgICAgICAgdmFyIGJvdHRvbUJvcmRlck5vdFdoaXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHdoaWxlICgoYm90dG9tQm9yZGVyTm90V2hpdGUgfHwgIWF0TGVhc3RPbmVCbGFja1BvaW50Rm91bmRPbkJvdHRvbSkgJiYgZG93biA8IGhlaWdodCkge1xuICAgICAgICAgICAgICAgIGJvdHRvbUJvcmRlck5vdFdoaXRlID0gdGhpcy5jb250YWluc0JsYWNrUG9pbnQobGVmdCwgcmlnaHQsIGRvd24sIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChib3R0b21Cb3JkZXJOb3RXaGl0ZSkge1xuICAgICAgICAgICAgICAgICAgICBkb3duKys7XG4gICAgICAgICAgICAgICAgICAgIGFCbGFja1BvaW50Rm91bmRPbkJvcmRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGF0TGVhc3RPbmVCbGFja1BvaW50Rm91bmRPbkJvdHRvbSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFhdExlYXN0T25lQmxhY2tQb2ludEZvdW5kT25Cb3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgZG93bisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkb3duID49IGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHNpemVFeGNlZWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuLi4uLlxuICAgICAgICAgICAgLy8gfCAgIC5cbiAgICAgICAgICAgIC8vIC4uLi4uXG4gICAgICAgICAgICB2YXIgbGVmdEJvcmRlck5vdFdoaXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHdoaWxlICgobGVmdEJvcmRlck5vdFdoaXRlIHx8ICFhdExlYXN0T25lQmxhY2tQb2ludEZvdW5kT25MZWZ0KSAmJiBsZWZ0ID49IDApIHtcbiAgICAgICAgICAgICAgICBsZWZ0Qm9yZGVyTm90V2hpdGUgPSB0aGlzLmNvbnRhaW5zQmxhY2tQb2ludCh1cCwgZG93biwgbGVmdCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0Qm9yZGVyTm90V2hpdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdC0tO1xuICAgICAgICAgICAgICAgICAgICBhQmxhY2tQb2ludEZvdW5kT25Cb3JkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhdExlYXN0T25lQmxhY2tQb2ludEZvdW5kT25MZWZ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWF0TGVhc3RPbmVCbGFja1BvaW50Rm91bmRPbkxlZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZWZ0IDwgMCkge1xuICAgICAgICAgICAgICAgIHNpemVFeGNlZWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAuX19fLlxuICAgICAgICAgICAgLy8gLiAgIC5cbiAgICAgICAgICAgIC8vIC4uLi4uXG4gICAgICAgICAgICB2YXIgdG9wQm9yZGVyTm90V2hpdGUgPSB0cnVlO1xuICAgICAgICAgICAgd2hpbGUgKCh0b3BCb3JkZXJOb3RXaGl0ZSB8fCAhYXRMZWFzdE9uZUJsYWNrUG9pbnRGb3VuZE9uVG9wKSAmJiB1cCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdG9wQm9yZGVyTm90V2hpdGUgPSB0aGlzLmNvbnRhaW5zQmxhY2tQb2ludChsZWZ0LCByaWdodCwgdXAsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICh0b3BCb3JkZXJOb3RXaGl0ZSkge1xuICAgICAgICAgICAgICAgICAgICB1cC0tO1xuICAgICAgICAgICAgICAgICAgICBhQmxhY2tQb2ludEZvdW5kT25Cb3JkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhdExlYXN0T25lQmxhY2tQb2ludEZvdW5kT25Ub3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghYXRMZWFzdE9uZUJsYWNrUG9pbnRGb3VuZE9uVG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVwIDwgMCkge1xuICAgICAgICAgICAgICAgIHNpemVFeGNlZWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYUJsYWNrUG9pbnRGb3VuZE9uQm9yZGVyKSB7XG4gICAgICAgICAgICAgICAgYXRMZWFzdE9uZUJsYWNrUG9pbnRGb3VuZE9uQm9yZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNpemVFeGNlZWRlZCAmJiBhdExlYXN0T25lQmxhY2tQb2ludEZvdW5kT25Cb3JkZXIpIHtcbiAgICAgICAgICAgIHZhciBtYXhTaXplID0gcmlnaHQgLSBsZWZ0O1xuICAgICAgICAgICAgdmFyIHogPSBudWxsO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IHogPT09IG51bGwgJiYgaSA8IG1heFNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHogPSB0aGlzLmdldEJsYWNrUG9pbnRPblNlZ21lbnQobGVmdCwgZG93biAtIGksIGxlZnQgKyBpLCBkb3duKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh6ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGdvIGRvd24gcmlnaHRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyB0ID09PSBudWxsICYmIGkgPCBtYXhTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ID0gdGhpcy5nZXRCbGFja1BvaW50T25TZWdtZW50KGxlZnQsIHVwICsgaSwgbGVmdCArIGksIHVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB4ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGdvIGRvd24gbGVmdFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IHggPT09IG51bGwgJiYgaSA8IG1heFNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHggPSB0aGlzLmdldEJsYWNrUG9pbnRPblNlZ21lbnQocmlnaHQsIHVwICsgaSwgcmlnaHQgLSBpLCB1cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgeSA9IG51bGw7XG4gICAgICAgICAgICAvLyBnbyB1cCBsZWZ0XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgeSA9PT0gbnVsbCAmJiBpIDwgbWF4U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgeSA9IHRoaXMuZ2V0QmxhY2tQb2ludE9uU2VnbWVudChyaWdodCwgZG93biAtIGksIHJpZ2h0IC0gaSwgZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jZW50ZXJFZGdlcyh5LCB6LCB4LCB0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBXaGl0ZVJlY3RhbmdsZURldGVjdG9yLnByb3RvdHlwZS5nZXRCbGFja1BvaW50T25TZWdtZW50ID0gZnVuY3Rpb24gKGFYIC8qZmxvYXQqLywgYVkgLypmbG9hdCovLCBiWCAvKmZsb2F0Ki8sIGJZIC8qZmxvYXQqLykge1xuICAgICAgICB2YXIgZGlzdCA9IE1hdGhVdGlscy5yb3VuZChNYXRoVXRpbHMuZGlzdGFuY2UoYVgsIGFZLCBiWCwgYlkpKTtcbiAgICAgICAgdmFyIHhTdGVwID0gKGJYIC0gYVgpIC8gZGlzdDtcbiAgICAgICAgdmFyIHlTdGVwID0gKGJZIC0gYVkpIC8gZGlzdDtcbiAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXN0OyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4ID0gTWF0aFV0aWxzLnJvdW5kKGFYICsgaSAqIHhTdGVwKTtcbiAgICAgICAgICAgIHZhciB5ID0gTWF0aFV0aWxzLnJvdW5kKGFZICsgaSAqIHlTdGVwKTtcbiAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoeCwgeSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlc3VsdFBvaW50KHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogcmVjZW50ZXJzIHRoZSBwb2ludHMgb2YgYSBjb25zdGFudCBkaXN0YW5jZSB0b3dhcmRzIHRoZSBjZW50ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB5IGJvdHRvbSBtb3N0IHBvaW50XG4gICAgICogQHBhcmFtIHogbGVmdCBtb3N0IHBvaW50XG4gICAgICogQHBhcmFtIHggcmlnaHQgbW9zdCBwb2ludFxuICAgICAqIEBwYXJhbSB0IHRvcCBtb3N0IHBvaW50XG4gICAgICogQHJldHVybiB7QGxpbmsgUmVzdWx0UG9pbnR9W10gZGVzY3JpYmluZyB0aGUgY29ybmVycyBvZiB0aGUgcmVjdGFuZ3VsYXJcbiAgICAgKiAgICAgICAgIHJlZ2lvbi4gVGhlIGZpcnN0IGFuZCBsYXN0IHBvaW50cyBhcmUgb3Bwb3NlZCBvbiB0aGUgZGlhZ29uYWwsIGFzXG4gICAgICogICAgICAgICBhcmUgdGhlIHNlY29uZCBhbmQgdGhpcmQuIFRoZSBmaXJzdCBwb2ludCB3aWxsIGJlIHRoZSB0b3Btb3N0XG4gICAgICogICAgICAgICBwb2ludCBhbmQgdGhlIGxhc3QsIHRoZSBib3R0b21tb3N0LiBUaGUgc2Vjb25kIHBvaW50IHdpbGwgYmVcbiAgICAgKiAgICAgICAgIGxlZnRtb3N0IGFuZCB0aGUgdGhpcmQsIHRoZSByaWdodG1vc3RcbiAgICAgKi9cbiAgICBXaGl0ZVJlY3RhbmdsZURldGVjdG9yLnByb3RvdHlwZS5jZW50ZXJFZGdlcyA9IGZ1bmN0aW9uICh5LCB6LCB4LCB0KSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgIHQgICAgICAgICAgICB0XG4gICAgICAgIC8vICB6ICAgICAgICAgICAgICAgICAgICAgIHhcbiAgICAgICAgLy8gICAgICAgIHggICAgT1IgICAgelxuICAgICAgICAvLyAgIHkgICAgICAgICAgICAgICAgICAgIHlcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIHlpID0geS5nZXRYKCk7XG4gICAgICAgIHZhciB5aiA9IHkuZ2V0WSgpO1xuICAgICAgICB2YXIgemkgPSB6LmdldFgoKTtcbiAgICAgICAgdmFyIHpqID0gei5nZXRZKCk7XG4gICAgICAgIHZhciB4aSA9IHguZ2V0WCgpO1xuICAgICAgICB2YXIgeGogPSB4LmdldFkoKTtcbiAgICAgICAgdmFyIHRpID0gdC5nZXRYKCk7XG4gICAgICAgIHZhciB0aiA9IHQuZ2V0WSgpO1xuICAgICAgICB2YXIgQ09SUiA9IFdoaXRlUmVjdGFuZ2xlRGV0ZWN0b3IuQ09SUjtcbiAgICAgICAgaWYgKHlpIDwgdGhpcy53aWR0aCAvIDIuMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuZXcgUmVzdWx0UG9pbnQodGkgLSBDT1JSLCB0aiArIENPUlIpLFxuICAgICAgICAgICAgICAgIG5ldyBSZXN1bHRQb2ludCh6aSArIENPUlIsIHpqICsgQ09SUiksXG4gICAgICAgICAgICAgICAgbmV3IFJlc3VsdFBvaW50KHhpIC0gQ09SUiwgeGogLSBDT1JSKSxcbiAgICAgICAgICAgICAgICBuZXcgUmVzdWx0UG9pbnQoeWkgKyBDT1JSLCB5aiAtIENPUlIpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICBuZXcgUmVzdWx0UG9pbnQodGkgKyBDT1JSLCB0aiArIENPUlIpLFxuICAgICAgICAgICAgICAgIG5ldyBSZXN1bHRQb2ludCh6aSArIENPUlIsIHpqIC0gQ09SUiksXG4gICAgICAgICAgICAgICAgbmV3IFJlc3VsdFBvaW50KHhpIC0gQ09SUiwgeGogKyBDT1JSKSxcbiAgICAgICAgICAgICAgICBuZXcgUmVzdWx0UG9pbnQoeWkgLSBDT1JSLCB5aiAtIENPUlIpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzZWdtZW50IGNvbnRhaW5zIGEgYmxhY2sgcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhICAgICAgICAgIG1pbiB2YWx1ZSBvZiB0aGUgc2Nhbm5lZCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGIgICAgICAgICAgbWF4IHZhbHVlIG9mIHRoZSBzY2FubmVkIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gZml4ZWQgICAgICB2YWx1ZSBvZiBmaXhlZCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGhvcml6b250YWwgc2V0IHRvIHRydWUgaWYgc2NhbiBtdXN0IGJlIGhvcml6b250YWwsIGZhbHNlIGlmIHZlcnRpY2FsXG4gICAgICogQHJldHVybiB0cnVlIGlmIGEgYmxhY2sgcG9pbnQgaGFzIGJlZW4gZm91bmQsIGVsc2UgZmFsc2UuXG4gICAgICovXG4gICAgV2hpdGVSZWN0YW5nbGVEZXRlY3Rvci5wcm90b3R5cGUuY29udGFpbnNCbGFja1BvaW50ID0gZnVuY3Rpb24gKGEgLyppbnQqLywgYiAvKmludCovLCBmaXhlZCAvKmludCovLCBob3Jpem9udGFsKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7XG4gICAgICAgIGlmIChob3Jpem9udGFsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gYTsgeCA8PSBiOyB4KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KHgsIGZpeGVkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gYTsgeSA8PSBiOyB5KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGZpeGVkLCB5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgV2hpdGVSZWN0YW5nbGVEZXRlY3Rvci5JTklUX1NJWkUgPSAxMDtcbiAgICBXaGl0ZVJlY3RhbmdsZURldGVjdG9yLkNPUlIgPSAxO1xuICAgIHJldHVybiBXaGl0ZVJlY3RhbmdsZURldGVjdG9yO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFdoaXRlUmVjdGFuZ2xlRGV0ZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XaGl0ZVJlY3RhbmdsZURldGVjdG9yLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbi8qKlxuICogSW1wbGVtZW50YXRpb25zIG9mIHRoaXMgY2xhc3MgY2FuLCBnaXZlbiBsb2NhdGlvbnMgb2YgZmluZGVyIHBhdHRlcm5zIGZvciBhIFFSIGNvZGUgaW4gYW5cbiAqIGltYWdlLCBzYW1wbGUgdGhlIHJpZ2h0IHBvaW50cyBpbiB0aGUgaW1hZ2UgdG8gcmVjb25zdHJ1Y3QgdGhlIFFSIGNvZGUsIGFjY291bnRpbmcgZm9yXG4gKiBwZXJzcGVjdGl2ZSBkaXN0b3J0aW9uLiBJdCBpcyBhYnN0cmFjdGVkIHNpbmNlIGl0IGlzIHJlbGF0aXZlbHkgZXhwZW5zaXZlIGFuZCBzaG91bGQgYmUgYWxsb3dlZFxuICogdG8gdGFrZSBhZHZhbnRhZ2Ugb2YgcGxhdGZvcm0tc3BlY2lmaWMgb3B0aW1pemVkIGltcGxlbWVudGF0aW9ucywgbGlrZSBTdW4ncyBKYXZhIEFkdmFuY2VkXG4gKiBJbWFnaW5nIGxpYnJhcnksIGJ1dCB3aGljaCBtYXkgbm90IGJlIGF2YWlsYWJsZSBpbiBvdGhlciBlbnZpcm9ubWVudHMgc3VjaCBhcyBKMk1FLCBhbmQgdmljZVxuICogdmVyc2EuXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIHVzZWQgY2FuIGJlIGNvbnRyb2xsZWQgYnkgY2FsbGluZyB7QGxpbmsgI3NldEdyaWRTYW1wbGVyKEdyaWRTYW1wbGVyKX1cbiAqIHdpdGggYW4gaW5zdGFuY2Ugb2YgYSBjbGFzcyB3aGljaCBpbXBsZW1lbnRzIHRoaXMgaW50ZXJmYWNlLlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBHcmlkU2FtcGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHcmlkU2FtcGxlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogPHA+Q2hlY2tzIGEgc2V0IG9mIHBvaW50cyB0aGF0IGhhdmUgYmVlbiB0cmFuc2Zvcm1lZCB0byBzYW1wbGUgcG9pbnRzIG9uIGFuIGltYWdlIGFnYWluc3RcbiAgICAgKiB0aGUgaW1hZ2UncyBkaW1lbnNpb25zIHRvIHNlZSBpZiB0aGUgcG9pbnQgYXJlIGV2ZW4gd2l0aGluIHRoZSBpbWFnZS48L3A+XG4gICAgICpcbiAgICAgKiA8cD5UaGlzIG1ldGhvZCB3aWxsIGFjdHVhbGx5IFwibnVkZ2VcIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmVcbiAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlclxuICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+XG4gICAgICpcbiAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kXG4gICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwXG4gICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXNcbiAgICAgKi9cbiAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpO1xuICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6XG4gICAgICAgIHZhciBudWRnZWQgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7XG4gICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTtcbiAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBudWRnZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wO1xuICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkge1xuICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxO1xuICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7XG4gICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7XG4gICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOlxuICAgICAgICBudWRnZWQgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikge1xuICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTtcbiAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pO1xuICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7XG4gICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7XG4gICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh5ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDtcbiAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTtcbiAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gR3JpZFNhbXBsZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgR3JpZFNhbXBsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmlkU2FtcGxlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqL1xuLyoqXG4gKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyXG4gKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkXG4gKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyBcIkRpZ2l0YWwgSW1hZ2UgV2FycGluZ1wiOyBzZWUgcGFnZXMgNTQtNTYuPC9wPlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQZXJzcGVjdGl2ZVRyYW5zZm9ybShhMTEgLypmbG9hdCovLCBhMjEgLypmbG9hdCovLCBhMzEgLypmbG9hdCovLCBhMTIgLypmbG9hdCovLCBhMjIgLypmbG9hdCovLCBhMzIgLypmbG9hdCovLCBhMTMgLypmbG9hdCovLCBhMjMgLypmbG9hdCovLCBhMzMgLypmbG9hdCovKSB7XG4gICAgICAgIHRoaXMuYTExID0gYTExO1xuICAgICAgICB0aGlzLmEyMSA9IGEyMTtcbiAgICAgICAgdGhpcy5hMzEgPSBhMzE7XG4gICAgICAgIHRoaXMuYTEyID0gYTEyO1xuICAgICAgICB0aGlzLmEyMiA9IGEyMjtcbiAgICAgICAgdGhpcy5hMzIgPSBhMzI7XG4gICAgICAgIHRoaXMuYTEzID0gYTEzO1xuICAgICAgICB0aGlzLmEyMyA9IGEyMztcbiAgICAgICAgdGhpcy5hMzMgPSBhMzM7XG4gICAgfVxuICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnF1YWRyaWxhdGVyYWxUb1F1YWRyaWxhdGVyYWwgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8sIHgwcCAvKmZsb2F0Ki8sIHkwcCAvKmZsb2F0Ki8sIHgxcCAvKmZsb2F0Ki8sIHkxcCAvKmZsb2F0Ki8sIHgycCAvKmZsb2F0Ki8sIHkycCAvKmZsb2F0Ki8sIHgzcCAvKmZsb2F0Ki8sIHkzcCAvKmZsb2F0Ki8pIHtcbiAgICAgICAgdmFyIHFUb1MgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUoeDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKTtcbiAgICAgICAgdmFyIHNUb1EgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5zcXVhcmVUb1F1YWRyaWxhdGVyYWwoeDBwLCB5MHAsIHgxcCwgeTFwLCB4MnAsIHkycCwgeDNwLCB5M3ApO1xuICAgICAgICByZXR1cm4gc1RvUS50aW1lcyhxVG9TKTtcbiAgICB9O1xuICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHMgPSBmdW5jdGlvbiAocG9pbnRzKSB7XG4gICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoO1xuICAgICAgICB2YXIgYTExID0gdGhpcy5hMTE7XG4gICAgICAgIHZhciBhMTIgPSB0aGlzLmExMjtcbiAgICAgICAgdmFyIGExMyA9IHRoaXMuYTEzO1xuICAgICAgICB2YXIgYTIxID0gdGhpcy5hMjE7XG4gICAgICAgIHZhciBhMjIgPSB0aGlzLmEyMjtcbiAgICAgICAgdmFyIGEyMyA9IHRoaXMuYTIzO1xuICAgICAgICB2YXIgYTMxID0gdGhpcy5hMzE7XG4gICAgICAgIHZhciBhMzIgPSB0aGlzLmEzMjtcbiAgICAgICAgdmFyIGEzMyA9IHRoaXMuYTMzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heDsgaSArPSAyKSB7XG4gICAgICAgICAgICB2YXIgeCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHZhciB5ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzO1xuICAgICAgICAgICAgcG9pbnRzW2ldID0gKGExMSAqIHggKyBhMjEgKiB5ICsgYTMxKSAvIGRlbm9taW5hdG9yO1xuICAgICAgICAgICAgcG9pbnRzW2kgKyAxXSA9IChhMTIgKiB4ICsgYTIyICogeSArIGEzMikgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucHJvdG90eXBlLnRyYW5zZm9ybVBvaW50c1dpdGhWYWx1ZXMgPSBmdW5jdGlvbiAoeFZhbHVlcywgeVZhbHVlcykge1xuICAgICAgICB2YXIgYTExID0gdGhpcy5hMTE7XG4gICAgICAgIHZhciBhMTIgPSB0aGlzLmExMjtcbiAgICAgICAgdmFyIGExMyA9IHRoaXMuYTEzO1xuICAgICAgICB2YXIgYTIxID0gdGhpcy5hMjE7XG4gICAgICAgIHZhciBhMjIgPSB0aGlzLmEyMjtcbiAgICAgICAgdmFyIGEyMyA9IHRoaXMuYTIzO1xuICAgICAgICB2YXIgYTMxID0gdGhpcy5hMzE7XG4gICAgICAgIHZhciBhMzIgPSB0aGlzLmEzMjtcbiAgICAgICAgdmFyIGEzMyA9IHRoaXMuYTMzO1xuICAgICAgICB2YXIgbiA9IHhWYWx1ZXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgdmFyIHggPSB4VmFsdWVzW2ldO1xuICAgICAgICAgICAgdmFyIHkgPSB5VmFsdWVzW2ldO1xuICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gYTEzICogeCArIGEyMyAqIHkgKyBhMzM7XG4gICAgICAgICAgICB4VmFsdWVzW2ldID0gKGExMSAqIHggKyBhMjEgKiB5ICsgYTMxKSAvIGRlbm9taW5hdG9yO1xuICAgICAgICAgICAgeVZhbHVlc1tpXSA9IChhMTIgKiB4ICsgYTIyICogeSArIGEzMikgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovKSB7XG4gICAgICAgIHZhciBkeDMgPSB4MCAtIHgxICsgeDIgLSB4MztcbiAgICAgICAgdmFyIGR5MyA9IHkwIC0geTEgKyB5MiAtIHkzO1xuICAgICAgICBpZiAoZHgzID09PSAwLjAgJiYgZHkzID09PSAwLjApIHtcbiAgICAgICAgICAgIC8vIEFmZmluZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh4MSAtIHgwLCB4MiAtIHgxLCB4MCwgeTEgLSB5MCwgeTIgLSB5MSwgeTAsIDAuMCwgMC4wLCAxLjApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGR4MSA9IHgxIC0geDI7XG4gICAgICAgICAgICB2YXIgZHgyID0geDMgLSB4MjtcbiAgICAgICAgICAgIHZhciBkeTEgPSB5MSAtIHkyO1xuICAgICAgICAgICAgdmFyIGR5MiA9IHkzIC0geTI7XG4gICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBkeDEgKiBkeTIgLSBkeDIgKiBkeTE7XG4gICAgICAgICAgICB2YXIgYTEzID0gKGR4MyAqIGR5MiAtIGR4MiAqIGR5MykgLyBkZW5vbWluYXRvcjtcbiAgICAgICAgICAgIHZhciBhMjMgPSAoZHgxICogZHkzIC0gZHgzICogZHkxKSAvIGRlbm9taW5hdG9yO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh4MSAtIHgwICsgYTEzICogeDEsIHgzIC0geDAgKyBhMjMgKiB4MywgeDAsIHkxIC0geTAgKyBhMTMgKiB5MSwgeTMgLSB5MCArIGEyMyAqIHkzLCB5MCwgYTEzLCBhMjMsIDEuMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnF1YWRyaWxhdGVyYWxUb1NxdWFyZSA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykge1xuICAgICAgICAvLyBIZXJlLCB0aGUgYWRqb2ludCBzZXJ2ZXMgYXMgdGhlIGludmVyc2U6XG4gICAgICAgIHJldHVybiBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5zcXVhcmVUb1F1YWRyaWxhdGVyYWwoeDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKS5idWlsZEFkam9pbnQoKTtcbiAgICB9O1xuICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS5idWlsZEFkam9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEFkam9pbnQgaXMgdGhlIHRyYW5zcG9zZSBvZiB0aGUgY29mYWN0b3IgbWF0cml4OlxuICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTIyICogdGhpcy5hMzMgLSB0aGlzLmEyMyAqIHRoaXMuYTMyLCB0aGlzLmEyMyAqIHRoaXMuYTMxIC0gdGhpcy5hMjEgKiB0aGlzLmEzMywgdGhpcy5hMjEgKiB0aGlzLmEzMiAtIHRoaXMuYTIyICogdGhpcy5hMzEsIHRoaXMuYTEzICogdGhpcy5hMzIgLSB0aGlzLmExMiAqIHRoaXMuYTMzLCB0aGlzLmExMSAqIHRoaXMuYTMzIC0gdGhpcy5hMTMgKiB0aGlzLmEzMSwgdGhpcy5hMTIgKiB0aGlzLmEzMSAtIHRoaXMuYTExICogdGhpcy5hMzIsIHRoaXMuYTEyICogdGhpcy5hMjMgLSB0aGlzLmExMyAqIHRoaXMuYTIyLCB0aGlzLmExMyAqIHRoaXMuYTIxIC0gdGhpcy5hMTEgKiB0aGlzLmEyMywgdGhpcy5hMTEgKiB0aGlzLmEyMiAtIHRoaXMuYTEyICogdGhpcy5hMjEpO1xuICAgIH07XG4gICAgUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucHJvdG90eXBlLnRpbWVzID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0odGhpcy5hMTEgKiBvdGhlci5hMTEgKyB0aGlzLmEyMSAqIG90aGVyLmExMiArIHRoaXMuYTMxICogb3RoZXIuYTEzLCB0aGlzLmExMSAqIG90aGVyLmEyMSArIHRoaXMuYTIxICogb3RoZXIuYTIyICsgdGhpcy5hMzEgKiBvdGhlci5hMjMsIHRoaXMuYTExICogb3RoZXIuYTMxICsgdGhpcy5hMjEgKiBvdGhlci5hMzIgKyB0aGlzLmEzMSAqIG90aGVyLmEzMywgdGhpcy5hMTIgKiBvdGhlci5hMTEgKyB0aGlzLmEyMiAqIG90aGVyLmExMiArIHRoaXMuYTMyICogb3RoZXIuYTEzLCB0aGlzLmExMiAqIG90aGVyLmEyMSArIHRoaXMuYTIyICogb3RoZXIuYTIyICsgdGhpcy5hMzIgKiBvdGhlci5hMjMsIHRoaXMuYTEyICogb3RoZXIuYTMxICsgdGhpcy5hMjIgKiBvdGhlci5hMzIgKyB0aGlzLmEzMiAqIG90aGVyLmEzMywgdGhpcy5hMTMgKiBvdGhlci5hMTEgKyB0aGlzLmEyMyAqIG90aGVyLmExMiArIHRoaXMuYTMzICogb3RoZXIuYTEzLCB0aGlzLmExMyAqIG90aGVyLmEyMSArIHRoaXMuYTIzICogb3RoZXIuYTIyICsgdGhpcy5hMzMgKiBvdGhlci5hMjMsIHRoaXMuYTEzICogb3RoZXIuYTMxICsgdGhpcy5hMjMgKiBvdGhlci5hMzIgKyB0aGlzLmEzMyAqIG90aGVyLmEzMyk7XG4gICAgfTtcbiAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm07XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUGVyc3BlY3RpdmVUcmFuc2Zvcm07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QZXJzcGVjdGl2ZVRyYW5zZm9ybS5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovXG5pbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi9HcmlkU2FtcGxlcic7XG5pbXBvcnQgQml0TWF0cml4IGZyb20gJy4vQml0TWF0cml4JztcbmltcG9ydCBQZXJzcGVjdGl2ZVRyYW5zZm9ybSBmcm9tICcuL1BlcnNwZWN0aXZlVHJhbnNmb3JtJztcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi9Ob3RGb3VuZEV4Y2VwdGlvbic7XG4vKipcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlZmF1bHRHcmlkU2FtcGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWZhdWx0R3JpZFNhbXBsZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIERlZmF1bHRHcmlkU2FtcGxlci5wcm90b3R5cGUuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgZGltZW5zaW9uWCAvKmludCovLCBkaW1lbnNpb25ZIC8qaW50Ki8sIHAxVG9YIC8qZmxvYXQqLywgcDFUb1kgLypmbG9hdCovLCBwMlRvWCAvKmZsb2F0Ki8sIHAyVG9ZIC8qZmxvYXQqLywgcDNUb1ggLypmbG9hdCovLCBwM1RvWSAvKmZsb2F0Ki8sIHA0VG9YIC8qZmxvYXQqLywgcDRUb1kgLypmbG9hdCovLCBwMUZyb21YIC8qZmxvYXQqLywgcDFGcm9tWSAvKmZsb2F0Ki8sIHAyRnJvbVggLypmbG9hdCovLCBwMkZyb21ZIC8qZmxvYXQqLywgcDNGcm9tWCAvKmZsb2F0Ki8sIHAzRnJvbVkgLypmbG9hdCovLCBwNEZyb21YIC8qZmxvYXQqLywgcDRGcm9tWSAvKmZsb2F0Ki8pIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtLnF1YWRyaWxhdGVyYWxUb1F1YWRyaWxhdGVyYWwocDFUb1gsIHAxVG9ZLCBwMlRvWCwgcDJUb1ksIHAzVG9YLCBwM1RvWSwgcDRUb1gsIHA0VG9ZLCBwMUZyb21YLCBwMUZyb21ZLCBwMkZyb21YLCBwMkZyb21ZLCBwM0Zyb21YLCBwM0Zyb21ZLCBwNEZyb21YLCBwNEZyb21ZKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2FtcGxlR3JpZFdpdGhUcmFuc2Zvcm0oaW1hZ2UsIGRpbWVuc2lvblgsIGRpbWVuc2lvblksIHRyYW5zZm9ybSk7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybSA9IGZ1bmN0aW9uIChpbWFnZSwgZGltZW5zaW9uWCAvKmludCovLCBkaW1lbnNpb25ZIC8qaW50Ki8sIHRyYW5zZm9ybSkge1xuICAgICAgICBpZiAoZGltZW5zaW9uWCA8PSAwIHx8IGRpbWVuc2lvblkgPD0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJpdHMgPSBuZXcgQml0TWF0cml4KGRpbWVuc2lvblgsIGRpbWVuc2lvblkpO1xuICAgICAgICB2YXIgcG9pbnRzID0gbmV3IEZsb2F0MzJBcnJheSgyICogZGltZW5zaW9uWCk7XG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgZGltZW5zaW9uWTsgeSsrKSB7XG4gICAgICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBpVmFsdWUgPSB5ICsgMC41O1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikge1xuICAgICAgICAgICAgICAgIHBvaW50c1t4XSA9ICh4IC8gMikgKyAwLjU7XG4gICAgICAgICAgICAgICAgcG9pbnRzW3ggKyAxXSA9IGlWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYW5zZm9ybS50cmFuc2Zvcm1Qb2ludHMocG9pbnRzKTtcbiAgICAgICAgICAgIC8vIFF1aWNrIGNoZWNrIHRvIHNlZSBpZiBwb2ludHMgdHJhbnNmb3JtZWQgdG8gc29tZXRoaW5nIGluc2lkZSB0aGUgaW1hZ2VcbiAgICAgICAgICAgIC8vIHN1ZmZpY2llbnQgdG8gY2hlY2sgdGhlIGVuZHBvaW50c1xuICAgICAgICAgICAgR3JpZFNhbXBsZXIuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmdcbiAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyBcInR3aXN0ZWRcIiBzdWNoIHRoYXQgaXQgbWFwcyBhIHN0cmFpZ2h0IGxpbmUgb2YgcG9pbnRzIHRvIGEgc2V0IG9mIHBvaW50c1xuICAgICAgICAgICAgICAgIC8vIHdob3NlIGVuZHBvaW50cyBhcmUgaW4gYm91bmRzLCBidXQgb3RoZXJzIGFyZSBub3QuIFRoZXJlIGlzIHByb2JhYmx5IHNvbWUgbWF0aGVtYXRpY2FsXG4gICAgICAgICAgICAgICAgLy8gd2F5IHRvIGRldGVjdCB0aGlzIGFib3V0IHRoZSB0cmFuc2Zvcm1hdGlvbiB0aGF0IEkgZG9uJ3Qga25vdyB5ZXQuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyByZXN1bHRzIGluIGFuIHVnbHkgcnVudGltZSBleGNlcHRpb24gZGVzcGl0ZSBvdXIgY2xldmVyIGNoZWNrcyBhYm92ZSAtLSBjYW4ndCBoYXZlXG4gICAgICAgICAgICAgICAgLy8gdGhhdC4gV2UgY291bGQgY2hlY2sgZWFjaCBwb2ludCdzIGNvb3JkaW5hdGVzIGJ1dCB0aGF0IGZlZWxzIGR1cGxpY2F0aXZlLiBXZSBzZXR0bGUgZm9yXG4gICAgICAgICAgICAgICAgLy8gY2F0Y2hpbmcgYW5kIHdyYXBwaW5nIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYml0cztcbiAgICB9O1xuICAgIHJldHVybiBEZWZhdWx0R3JpZFNhbXBsZXI7XG59KEdyaWRTYW1wbGVyKSk7XG5leHBvcnQgZGVmYXVsdCBEZWZhdWx0R3JpZFNhbXBsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWZhdWx0R3JpZFNhbXBsZXIuanMubWFwIiwiaW1wb3J0IERlZmF1bHRHcmlkU2FtcGxlciBmcm9tICcuL0RlZmF1bHRHcmlkU2FtcGxlcic7XG52YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsXG4gICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkXG4gICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnlcbiAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluXG4gICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuXG4gICAgICovXG4gICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikge1xuICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyXG4gICAgICovXG4gICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7XG4gICAgfTtcbiAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcigpO1xuICAgIHJldHVybiBHcmlkU2FtcGxlckluc3RhbmNlO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEdyaWRTYW1wbGVySW5zdGFuY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HcmlkU2FtcGxlckluc3RhbmNlLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlc3VsdFBvaW50IGZyb20gJy4uLy4uL1Jlc3VsdFBvaW50JztcbmltcG9ydCBBenRlY0RldGVjdG9yUmVzdWx0IGZyb20gJy4uL0F6dGVjRGV0ZWN0b3JSZXN1bHQnO1xuaW1wb3J0IE1hdGhVdGlscyBmcm9tICcuLi8uLi9jb21tb24vZGV0ZWN0b3IvTWF0aFV0aWxzJztcbmltcG9ydCBXaGl0ZVJlY3RhbmdsZURldGVjdG9yIGZyb20gJy4uLy4uL2NvbW1vbi9kZXRlY3Rvci9XaGl0ZVJlY3RhbmdsZURldGVjdG9yJztcbmltcG9ydCBHZW5lcmljR0YgZnJvbSAnLi4vLi4vY29tbW9uL3JlZWRzb2xvbW9uL0dlbmVyaWNHRic7XG5pbXBvcnQgUmVlZFNvbG9tb25EZWNvZGVyIGZyb20gJy4uLy4uL2NvbW1vbi9yZWVkc29sb21vbi9SZWVkU29sb21vbkRlY29kZXInO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uLy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBHcmlkU2FtcGxlckluc3RhbmNlIGZyb20gJy4uLy4uL2NvbW1vbi9HcmlkU2FtcGxlckluc3RhbmNlJztcbmltcG9ydCBJbnRlZ2VyIGZyb20gJy4uLy4uL3V0aWwvSW50ZWdlcic7XG52YXIgUG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUG9pbnQoeCwgeSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cbiAgICBQb2ludC5wcm90b3R5cGUudG9SZXN1bHRQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXN1bHRQb2ludCh0aGlzLmdldFgoKSwgdGhpcy5nZXRZKCkpO1xuICAgIH07XG4gICAgUG9pbnQucHJvdG90eXBlLmdldFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLng7XG4gICAgfTtcbiAgICBQb2ludC5wcm90b3R5cGUuZ2V0WSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueTtcbiAgICB9O1xuICAgIHJldHVybiBQb2ludDtcbn0oKSk7XG5leHBvcnQgeyBQb2ludCB9O1xuLyoqXG4gKiBFbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGFuIEF6dGVjIENvZGUgaW4gYW4gaW1hZ2UsIGV2ZW4gaWYgdGhlIEF6dGVjIENvZGVcbiAqIGlzIHJvdGF0ZWQgb3Igc2tld2VkLCBvciBwYXJ0aWFsbHkgb2JzY3VyZWQuXG4gKlxuICogQGF1dGhvciBEYXZpZCBPbGl2aWVyXG4gKiBAYXV0aG9yIEZyYW5rIFllbGxpblxuICovXG52YXIgRGV0ZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGV0ZWN0b3IoaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5FWFBFQ1RFRF9DT1JORVJfQklUUyA9IG5ldyBJbnQzMkFycmF5KFtcbiAgICAgICAgICAgIDB4ZWUwLFxuICAgICAgICAgICAgMHgxZGMsXG4gICAgICAgICAgICAweDgzYixcbiAgICAgICAgICAgIDB4NzA3LFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIH1cbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuZGV0ZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZXRlY3RNaXJyb3IoZmFsc2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBhbiBBenRlYyBDb2RlIGluIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGlzTWlycm9yIGlmIHRydWUsIGltYWdlIGlzIGEgbWlycm9yLWltYWdlIG9mIG9yaWdpbmFsXG4gICAgICogQHJldHVybiB7QGxpbmsgQXp0ZWNEZXRlY3RvclJlc3VsdH0gZW5jYXBzdWxhdGluZyByZXN1bHRzIG9mIGRldGVjdGluZyBhbiBBenRlYyBDb2RlXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBubyBBenRlYyBDb2RlIGNhbiBiZSBmb3VuZFxuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3RNaXJyb3IgPSBmdW5jdGlvbiAoaXNNaXJyb3IpIHtcbiAgICAgICAgLy8gMS4gR2V0IHRoZSBjZW50ZXIgb2YgdGhlIGF6dGVjIG1hdHJpeFxuICAgICAgICB2YXIgcENlbnRlciA9IHRoaXMuZ2V0TWF0cml4Q2VudGVyKCk7XG4gICAgICAgIC8vIDIuIEdldCB0aGUgY2VudGVyIHBvaW50cyBvZiB0aGUgZm91ciBkaWFnb25hbCBwb2ludHMganVzdCBvdXRzaWRlIHRoZSBidWxsJ3MgZXllXG4gICAgICAgIC8vICBbdG9wUmlnaHQsIGJvdHRvbVJpZ2h0LCBib3R0b21MZWZ0LCB0b3BMZWZ0XVxuICAgICAgICB2YXIgYnVsbHNFeWVDb3JuZXJzID0gdGhpcy5nZXRCdWxsc0V5ZUNvcm5lcnMocENlbnRlcik7XG4gICAgICAgIGlmIChpc01pcnJvcikge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBidWxsc0V5ZUNvcm5lcnNbMF07XG4gICAgICAgICAgICBidWxsc0V5ZUNvcm5lcnNbMF0gPSBidWxsc0V5ZUNvcm5lcnNbMl07XG4gICAgICAgICAgICBidWxsc0V5ZUNvcm5lcnNbMl0gPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuIEdldCB0aGUgc2l6ZSBvZiB0aGUgbWF0cml4IGFuZCBvdGhlciBwYXJhbWV0ZXJzIGZyb20gdGhlIGJ1bGwncyBleWVcbiAgICAgICAgdGhpcy5leHRyYWN0UGFyYW1ldGVycyhidWxsc0V5ZUNvcm5lcnMpO1xuICAgICAgICAvLyA0LiBTYW1wbGUgdGhlIGdyaWRcbiAgICAgICAgdmFyIGJpdHMgPSB0aGlzLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgYnVsbHNFeWVDb3JuZXJzW3RoaXMuc2hpZnQgJSA0XSwgYnVsbHNFeWVDb3JuZXJzWyh0aGlzLnNoaWZ0ICsgMSkgJSA0XSwgYnVsbHNFeWVDb3JuZXJzWyh0aGlzLnNoaWZ0ICsgMikgJSA0XSwgYnVsbHNFeWVDb3JuZXJzWyh0aGlzLnNoaWZ0ICsgMykgJSA0XSk7XG4gICAgICAgIC8vIDUuIEdldCB0aGUgY29ybmVycyBvZiB0aGUgbWF0cml4LlxuICAgICAgICB2YXIgY29ybmVycyA9IHRoaXMuZ2V0TWF0cml4Q29ybmVyUG9pbnRzKGJ1bGxzRXllQ29ybmVycyk7XG4gICAgICAgIHJldHVybiBuZXcgQXp0ZWNEZXRlY3RvclJlc3VsdChiaXRzLCBjb3JuZXJzLCB0aGlzLmNvbXBhY3QsIHRoaXMubmJEYXRhQmxvY2tzLCB0aGlzLm5iTGF5ZXJzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBudW1iZXIgb2YgZGF0YSBsYXllcnMgYW5kIGRhdGEgYmxvY2tzIGZyb20gdGhlIGxheWVyIGFyb3VuZCB0aGUgYnVsbCdzIGV5ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBidWxsc0V5ZUNvcm5lcnMgdGhlIGFycmF5IG9mIGJ1bGwncyBleWUgY29ybmVyc1xuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaW4gY2FzZSBvZiB0b28gbWFueSBlcnJvcnMgb3IgaW52YWxpZCBwYXJhbWV0ZXJzXG4gICAgICovXG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmV4dHJhY3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKGJ1bGxzRXllQ29ybmVycykge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZFBvaW50KGJ1bGxzRXllQ29ybmVyc1swXSkgfHwgIXRoaXMuaXNWYWxpZFBvaW50KGJ1bGxzRXllQ29ybmVyc1sxXSkgfHxcbiAgICAgICAgICAgICF0aGlzLmlzVmFsaWRQb2ludChidWxsc0V5ZUNvcm5lcnNbMl0pIHx8ICF0aGlzLmlzVmFsaWRQb2ludChidWxsc0V5ZUNvcm5lcnNbM10pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gMiAqIHRoaXMubmJDZW50ZXJMYXllcnM7XG4gICAgICAgIC8vIEdldCB0aGUgYml0cyBhcm91bmQgdGhlIGJ1bGwncyBleWVcbiAgICAgICAgdmFyIHNpZGVzID0gbmV3IEludDMyQXJyYXkoW1xuICAgICAgICAgICAgdGhpcy5zYW1wbGVMaW5lKGJ1bGxzRXllQ29ybmVyc1swXSwgYnVsbHNFeWVDb3JuZXJzWzFdLCBsZW5ndGgpLFxuICAgICAgICAgICAgdGhpcy5zYW1wbGVMaW5lKGJ1bGxzRXllQ29ybmVyc1sxXSwgYnVsbHNFeWVDb3JuZXJzWzJdLCBsZW5ndGgpLFxuICAgICAgICAgICAgdGhpcy5zYW1wbGVMaW5lKGJ1bGxzRXllQ29ybmVyc1syXSwgYnVsbHNFeWVDb3JuZXJzWzNdLCBsZW5ndGgpLFxuICAgICAgICAgICAgdGhpcy5zYW1wbGVMaW5lKGJ1bGxzRXllQ29ybmVyc1szXSwgYnVsbHNFeWVDb3JuZXJzWzBdLCBsZW5ndGgpIC8vIFRvcFxuICAgICAgICBdKTtcbiAgICAgICAgLy8gYnVsbHNFeWVDb3JuZXJzW3NoaWZ0XSBpcyB0aGUgY29ybmVyIG9mIHRoZSBidWxscydleWUgdGhhdCBoYXMgdGhyZWVcbiAgICAgICAgLy8gb3JpZW50YXRpb24gbWFya3MuXG4gICAgICAgIC8vIHNpZGVzW3NoaWZ0XSBpcyB0aGUgcm93L2NvbHVtbiB0aGF0IGdvZXMgZnJvbSB0aGUgY29ybmVyIHdpdGggdGhyZWVcbiAgICAgICAgLy8gb3JpZW50YXRpb24gbWFya3MgdG8gdGhlIGNvcm5lciB3aXRoIHR3by5cbiAgICAgICAgdGhpcy5zaGlmdCA9IHRoaXMuZ2V0Um90YXRpb24oc2lkZXMsIGxlbmd0aCk7XG4gICAgICAgIC8vIEZsYXR0ZW4gdGhlIHBhcmFtZXRlciBiaXRzIGludG8gYSBzaW5nbGUgMjgtIG9yIDQwLWJpdCBsb25nXG4gICAgICAgIHZhciBwYXJhbWV0ZXJEYXRhID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzaWRlID0gc2lkZXNbKHRoaXMuc2hpZnQgKyBpKSAlIDRdO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFjdCkge1xuICAgICAgICAgICAgICAgIC8vIEVhY2ggc2lkZSBvZiB0aGUgZm9ybSAuLlhYWFhYWFguIHdoZXJlIFhzIGFyZSBwYXJhbWV0ZXIgZGF0YVxuICAgICAgICAgICAgICAgIHBhcmFtZXRlckRhdGEgPDw9IDc7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyRGF0YSArPSAoc2lkZSA+PiAxKSAmIDB4N0Y7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFYWNoIHNpZGUgb2YgdGhlIGZvcm0gLi5YWFhYWC5YWFhYWC4gd2hlcmUgWHMgYXJlIHBhcmFtZXRlciBkYXRhXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyRGF0YSA8PD0gMTA7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyRGF0YSArPSAoKHNpZGUgPj4gMikgJiAoMHgxZiA8PCA1KSkgKyAoKHNpZGUgPj4gMSkgJiAweDFGKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDb3JyZWN0cyBwYXJhbWV0ZXIgZGF0YSB1c2luZyBSUy4gIFJldHVybnMganVzdCB0aGUgZGF0YSBwb3J0aW9uXG4gICAgICAgIC8vIHdpdGhvdXQgdGhlIGVycm9yIGNvcnJlY3Rpb24uXG4gICAgICAgIHZhciBjb3JyZWN0ZWREYXRhID0gdGhpcy5nZXRDb3JyZWN0ZWRQYXJhbWV0ZXJEYXRhKHBhcmFtZXRlckRhdGEsIHRoaXMuY29tcGFjdCk7XG4gICAgICAgIGlmICh0aGlzLmNvbXBhY3QpIHtcbiAgICAgICAgICAgIC8vIDggYml0czogIDIgYml0cyBsYXllcnMgYW5kIDYgYml0cyBkYXRhIGJsb2Nrc1xuICAgICAgICAgICAgdGhpcy5uYkxheWVycyA9IChjb3JyZWN0ZWREYXRhID4+IDYpICsgMTtcbiAgICAgICAgICAgIHRoaXMubmJEYXRhQmxvY2tzID0gKGNvcnJlY3RlZERhdGEgJiAweDNGKSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyAxNiBiaXRzOiAgNSBiaXRzIGxheWVycyBhbmQgMTEgYml0cyBkYXRhIGJsb2Nrc1xuICAgICAgICAgICAgdGhpcy5uYkxheWVycyA9IChjb3JyZWN0ZWREYXRhID4+IDExKSArIDE7XG4gICAgICAgICAgICB0aGlzLm5iRGF0YUJsb2NrcyA9IChjb3JyZWN0ZWREYXRhICYgMHg3RkYpICsgMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldFJvdGF0aW9uID0gZnVuY3Rpb24gKHNpZGVzLCBsZW5ndGgpIHtcbiAgICAgICAgLy8gSW4gYSBub3JtYWwgcGF0dGVybiwgd2UgZXhwZWN0IHRvIFNlZVxuICAgICAgICAvLyAgICoqICAgIC4qICAgICAgICAgICAgIEQgICAgICAgQVxuICAgICAgICAvLyAgICogICAgICAqXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgLiAgICAgICpcbiAgICAgICAgLy8gICAuLiAgICAuLiAgICAgICAgICAgICBDICAgICAgIEJcbiAgICAgICAgLy9cbiAgICAgICAgLy8gR3JhYiB0aGUgMyBiaXRzIGZyb20gZWFjaCBvZiB0aGUgc2lkZXMgdGhlIGZvcm0gdGhlIGxvY2F0b3IgcGF0dGVybiBhbmQgY29uY2F0ZW5hdGVcbiAgICAgICAgLy8gaW50byBhIDEyLWJpdCBpbnRlZ2VyLiAgU3RhcnQgd2l0aCB0aGUgYml0IGF0IEFcbiAgICAgICAgdmFyIGNvcm5lckJpdHMgPSAwO1xuICAgICAgICBzaWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlLCBpZHgsIGFycikge1xuICAgICAgICAgICAgLy8gWFguLi4uLi5YIHdoZXJlIFgncyBhcmUgb3JpZW50YXRpb24gbWFya3NcbiAgICAgICAgICAgIHZhciB0ID0gKChzaWRlID4+IChsZW5ndGggLSAyKSkgPDwgMSkgKyAoc2lkZSAmIDEpO1xuICAgICAgICAgICAgY29ybmVyQml0cyA9IChjb3JuZXJCaXRzIDw8IDMpICsgdDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGZvciAodmFyIHNpZGUgaW4gc2lkZXMpIHtcbiAgICAgICAgLy8gICAgIC8vIFhYLi4uLi4uWCB3aGVyZSBYJ3MgYXJlIG9yaWVudGF0aW9uIG1hcmtzXG4gICAgICAgIC8vICAgICB2YXIgdCA9ICgoc2lkZSA+PiAobGVuZ3RoIC0gMikpIDw8IDEpICsgKHNpZGUgJiAxKTtcbiAgICAgICAgLy8gICAgIGNvcm5lckJpdHMgPSAoY29ybmVyQml0cyA8PCAzKSArIHQ7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gTW92IHRoZSBib3R0b20gYml0IHRvIHRoZSB0b3AsIHNvIHRoYXQgdGhlIHRocmVlIGJpdHMgb2YgdGhlIGxvY2F0b3IgcGF0dGVybiBhdCBBIGFyZVxuICAgICAgICAvLyB0b2dldGhlci4gIGNvcm5lckJpdHMgaXMgbm93OlxuICAgICAgICAvLyAgMyBvcmllbnRhdGlvbiBiaXRzIGF0IEEgfHwgMyBvcmllbnRhdGlvbiBiaXRzIGF0IEIgfHwgLi4uIHx8IDMgb3JpZW50YXRpb24gYml0cyBhdCBEXG4gICAgICAgIGNvcm5lckJpdHMgPSAoKGNvcm5lckJpdHMgJiAxKSA8PCAxMSkgKyAoY29ybmVyQml0cyA+PiAxKTtcbiAgICAgICAgLy8gVGhlIHJlc3VsdCBzaGlmdCBpbmRpY2F0ZXMgd2hpY2ggZWxlbWVudCBvZiBCdWxsc0V5ZUNvcm5lcnNbXSBnb2VzIGludG8gdGhlIHRvcC1sZWZ0XG4gICAgICAgIC8vIGNvcm5lci4gU2luY2UgdGhlIGZvdXIgcm90YXRpb24gdmFsdWVzIGhhdmUgYSBIYW1taW5nIGRpc3RhbmNlIG9mIDgsIHdlXG4gICAgICAgIC8vIGNhbiBlYXNpbHkgdG9sZXJhdGUgdHdvIGVycm9ycy5cbiAgICAgICAgZm9yICh2YXIgc2hpZnQgPSAwOyBzaGlmdCA8IDQ7IHNoaWZ0KyspIHtcbiAgICAgICAgICAgIGlmIChJbnRlZ2VyLmJpdENvdW50KGNvcm5lckJpdHMgXiB0aGlzLkVYUEVDVEVEX0NPUk5FUl9CSVRTW3NoaWZ0XSkgPD0gMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaGlmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvcnJlY3RzIHRoZSBwYXJhbWV0ZXIgYml0cyB1c2luZyBSZWVkLVNvbG9tb24gYWxnb3JpdGhtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhcmFtZXRlckRhdGEgcGFyYW1ldGVyIGJpdHNcbiAgICAgKiBAcGFyYW0gY29tcGFjdCB0cnVlIGlmIHRoaXMgaXMgYSBjb21wYWN0IEF6dGVjIGNvZGVcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIHRoZSBhcnJheSBjb250YWlucyB0b28gbWFueSBlcnJvcnNcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuZ2V0Q29ycmVjdGVkUGFyYW1ldGVyRGF0YSA9IGZ1bmN0aW9uIChwYXJhbWV0ZXJEYXRhLCBjb21wYWN0KSB7XG4gICAgICAgIHZhciBudW1Db2Rld29yZHM7XG4gICAgICAgIHZhciBudW1EYXRhQ29kZXdvcmRzO1xuICAgICAgICBpZiAoY29tcGFjdCkge1xuICAgICAgICAgICAgbnVtQ29kZXdvcmRzID0gNztcbiAgICAgICAgICAgIG51bURhdGFDb2Rld29yZHMgPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbnVtQ29kZXdvcmRzID0gMTA7XG4gICAgICAgICAgICBudW1EYXRhQ29kZXdvcmRzID0gNDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtRUNDb2Rld29yZHMgPSBudW1Db2Rld29yZHMgLSBudW1EYXRhQ29kZXdvcmRzO1xuICAgICAgICB2YXIgcGFyYW1ldGVyV29yZHMgPSBuZXcgSW50MzJBcnJheShudW1Db2Rld29yZHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gbnVtQ29kZXdvcmRzIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlcldvcmRzW2ldID0gcGFyYW1ldGVyRGF0YSAmIDB4RjtcbiAgICAgICAgICAgIHBhcmFtZXRlckRhdGEgPj49IDQ7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciByc0RlY29kZXIgPSBuZXcgUmVlZFNvbG9tb25EZWNvZGVyKEdlbmVyaWNHRi5BWlRFQ19QQVJBTSk7XG4gICAgICAgICAgICByc0RlY29kZXIuZGVjb2RlKHBhcmFtZXRlcldvcmRzLCBudW1FQ0NvZGV3b3Jkcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRvc3MgdGhlIGVycm9yIGNvcnJlY3Rpb24uICBKdXN0IHJldHVybiB0aGUgZGF0YSBhcyBhbiBpbnRlZ2VyXG4gICAgICAgIHZhciByZXN1bHQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gKHJlc3VsdCA8PCA0KSArIHBhcmFtZXRlcldvcmRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgY29ybmVycyBvZiBhIGJ1bGwtZXllIGNlbnRlcmVkIG9uIHRoZSBwYXNzZWQgcG9pbnQuXG4gICAgICogVGhpcyByZXR1cm5zIHRoZSBjZW50ZXJzIG9mIHRoZSBkaWFnb25hbCBwb2ludHMganVzdCBvdXRzaWRlIHRoZSBidWxsJ3MgZXllXG4gICAgICogUmV0dXJucyBbdG9wUmlnaHQsIGJvdHRvbVJpZ2h0LCBib3R0b21MZWZ0LCB0b3BMZWZ0XVxuICAgICAqXG4gICAgICogQHBhcmFtIHBDZW50ZXIgQ2VudGVyIHBvaW50XG4gICAgICogQHJldHVybiBUaGUgY29ybmVycyBvZiB0aGUgYnVsbC1leWVcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIElmIG5vIHZhbGlkIGJ1bGwtZXllIGNhbiBiZSBmb3VuZFxuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRCdWxsc0V5ZUNvcm5lcnMgPSBmdW5jdGlvbiAocENlbnRlcikge1xuICAgICAgICB2YXIgcGluYSA9IHBDZW50ZXI7XG4gICAgICAgIHZhciBwaW5iID0gcENlbnRlcjtcbiAgICAgICAgdmFyIHBpbmMgPSBwQ2VudGVyO1xuICAgICAgICB2YXIgcGluZCA9IHBDZW50ZXI7XG4gICAgICAgIHZhciBjb2xvciA9IHRydWU7XG4gICAgICAgIGZvciAodGhpcy5uYkNlbnRlckxheWVycyA9IDE7IHRoaXMubmJDZW50ZXJMYXllcnMgPCA5OyB0aGlzLm5iQ2VudGVyTGF5ZXJzKyspIHtcbiAgICAgICAgICAgIHZhciBwb3V0YSA9IHRoaXMuZ2V0Rmlyc3REaWZmZXJlbnQocGluYSwgY29sb3IsIDEsIC0xKTtcbiAgICAgICAgICAgIHZhciBwb3V0YiA9IHRoaXMuZ2V0Rmlyc3REaWZmZXJlbnQocGluYiwgY29sb3IsIDEsIDEpO1xuICAgICAgICAgICAgdmFyIHBvdXRjID0gdGhpcy5nZXRGaXJzdERpZmZlcmVudChwaW5jLCBjb2xvciwgLTEsIDEpO1xuICAgICAgICAgICAgdmFyIHBvdXRkID0gdGhpcy5nZXRGaXJzdERpZmZlcmVudChwaW5kLCBjb2xvciwgLTEsIC0xKTtcbiAgICAgICAgICAgIC8vIGQgICAgICBhXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gYyAgICAgIGJcbiAgICAgICAgICAgIGlmICh0aGlzLm5iQ2VudGVyTGF5ZXJzID4gMikge1xuICAgICAgICAgICAgICAgIHZhciBxID0gKHRoaXMuZGlzdGFuY2VQb2ludChwb3V0ZCwgcG91dGEpICogdGhpcy5uYkNlbnRlckxheWVycykgLyAodGhpcy5kaXN0YW5jZVBvaW50KHBpbmQsIHBpbmEpICogKHRoaXMubmJDZW50ZXJMYXllcnMgKyAyKSk7XG4gICAgICAgICAgICAgICAgaWYgKHEgPCAwLjc1IHx8IHEgPiAxLjI1IHx8ICF0aGlzLmlzV2hpdGVPckJsYWNrUmVjdGFuZ2xlKHBvdXRhLCBwb3V0YiwgcG91dGMsIHBvdXRkKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwaW5hID0gcG91dGE7XG4gICAgICAgICAgICBwaW5iID0gcG91dGI7XG4gICAgICAgICAgICBwaW5jID0gcG91dGM7XG4gICAgICAgICAgICBwaW5kID0gcG91dGQ7XG4gICAgICAgICAgICBjb2xvciA9ICFjb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5uYkNlbnRlckxheWVycyAhPT0gNSAmJiB0aGlzLm5iQ2VudGVyTGF5ZXJzICE9PSA3KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXBhY3QgPSB0aGlzLm5iQ2VudGVyTGF5ZXJzID09PSA1O1xuICAgICAgICAvLyBFeHBhbmQgdGhlIHNxdWFyZSBieSAuNSBwaXhlbCBpbiBlYWNoIGRpcmVjdGlvbiBzbyB0aGF0IHdlJ3JlIG9uIHRoZSBib3JkZXJcbiAgICAgICAgLy8gYmV0d2VlbiB0aGUgd2hpdGUgc3F1YXJlIGFuZCB0aGUgYmxhY2sgc3F1YXJlXG4gICAgICAgIHZhciBwaW5heCA9IG5ldyBSZXN1bHRQb2ludChwaW5hLmdldFgoKSArIDAuNSwgcGluYS5nZXRZKCkgLSAwLjUpO1xuICAgICAgICB2YXIgcGluYnggPSBuZXcgUmVzdWx0UG9pbnQocGluYi5nZXRYKCkgKyAwLjUsIHBpbmIuZ2V0WSgpICsgMC41KTtcbiAgICAgICAgdmFyIHBpbmN4ID0gbmV3IFJlc3VsdFBvaW50KHBpbmMuZ2V0WCgpIC0gMC41LCBwaW5jLmdldFkoKSArIDAuNSk7XG4gICAgICAgIHZhciBwaW5keCA9IG5ldyBSZXN1bHRQb2ludChwaW5kLmdldFgoKSAtIDAuNSwgcGluZC5nZXRZKCkgLSAwLjUpO1xuICAgICAgICAvLyBFeHBhbmQgdGhlIHNxdWFyZSBzbyB0aGF0IGl0cyBjb3JuZXJzIGFyZSB0aGUgY2VudGVycyBvZiB0aGUgcG9pbnRzXG4gICAgICAgIC8vIGp1c3Qgb3V0c2lkZSB0aGUgYnVsbCdzIGV5ZS5cbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwYW5kU3F1YXJlKFtwaW5heCwgcGluYngsIHBpbmN4LCBwaW5keF0sIDIgKiB0aGlzLm5iQ2VudGVyTGF5ZXJzIC0gMywgMiAqIHRoaXMubmJDZW50ZXJMYXllcnMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmluZHMgYSBjYW5kaWRhdGUgY2VudGVyIHBvaW50IG9mIGFuIEF6dGVjIGNvZGUgZnJvbSBhbiBpbWFnZVxuICAgICAqXG4gICAgICogQHJldHVybiB0aGUgY2VudGVyIHBvaW50XG4gICAgICovXG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldE1hdHJpeENlbnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvaW50QTtcbiAgICAgICAgdmFyIHBvaW50QjtcbiAgICAgICAgdmFyIHBvaW50QztcbiAgICAgICAgdmFyIHBvaW50RDtcbiAgICAgICAgLy8gR2V0IGEgd2hpdGUgcmVjdGFuZ2xlIHRoYXQgY2FuIGJlIHRoZSBib3JkZXIgb2YgdGhlIG1hdHJpeCBpbiBjZW50ZXIgYnVsbCdzIGV5ZSBvclxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGNvcm5lclBvaW50cyA9IG5ldyBXaGl0ZVJlY3RhbmdsZURldGVjdG9yKHRoaXMuaW1hZ2UpLmRldGVjdCgpO1xuICAgICAgICAgICAgcG9pbnRBID0gY29ybmVyUG9pbnRzWzBdO1xuICAgICAgICAgICAgcG9pbnRCID0gY29ybmVyUG9pbnRzWzFdO1xuICAgICAgICAgICAgcG9pbnRDID0gY29ybmVyUG9pbnRzWzJdO1xuICAgICAgICAgICAgcG9pbnREID0gY29ybmVyUG9pbnRzWzNdO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGV4Y2VwdGlvbiBjYW4gYmUgaW4gY2FzZSB0aGUgaW5pdGlhbCByZWN0YW5nbGUgaXMgd2hpdGVcbiAgICAgICAgICAgIC8vIEluIHRoYXQgY2FzZSwgc3VyZWx5IGluIHRoZSBidWxsJ3MgZXllLCB3ZSB0cnkgdG8gZXhwYW5kIHRoZSByZWN0YW5nbGUuXG4gICAgICAgICAgICB2YXIgY3hfMSA9IHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAvIDI7XG4gICAgICAgICAgICB2YXIgY3lfMSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLyAyO1xuICAgICAgICAgICAgcG9pbnRBID0gdGhpcy5nZXRGaXJzdERpZmZlcmVudChuZXcgUG9pbnQoY3hfMSArIDcsIGN5XzEgLSA3KSwgZmFsc2UsIDEsIC0xKS50b1Jlc3VsdFBvaW50KCk7XG4gICAgICAgICAgICBwb2ludEIgPSB0aGlzLmdldEZpcnN0RGlmZmVyZW50KG5ldyBQb2ludChjeF8xICsgNywgY3lfMSArIDcpLCBmYWxzZSwgMSwgMSkudG9SZXN1bHRQb2ludCgpO1xuICAgICAgICAgICAgcG9pbnRDID0gdGhpcy5nZXRGaXJzdERpZmZlcmVudChuZXcgUG9pbnQoY3hfMSAtIDcsIGN5XzEgKyA3KSwgZmFsc2UsIC0xLCAxKS50b1Jlc3VsdFBvaW50KCk7XG4gICAgICAgICAgICBwb2ludEQgPSB0aGlzLmdldEZpcnN0RGlmZmVyZW50KG5ldyBQb2ludChjeF8xIC0gNywgY3lfMSAtIDcpLCBmYWxzZSwgLTEsIC0xKS50b1Jlc3VsdFBvaW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgY2VudGVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgdmFyIGN4ID0gTWF0aFV0aWxzLnJvdW5kKChwb2ludEEuZ2V0WCgpICsgcG9pbnRELmdldFgoKSArIHBvaW50Qi5nZXRYKCkgKyBwb2ludEMuZ2V0WCgpKSAvIDQuMCk7XG4gICAgICAgIHZhciBjeSA9IE1hdGhVdGlscy5yb3VuZCgocG9pbnRBLmdldFkoKSArIHBvaW50RC5nZXRZKCkgKyBwb2ludEIuZ2V0WSgpICsgcG9pbnRDLmdldFkoKSkgLyA0LjApO1xuICAgICAgICAvLyBSZWRldGVybWluZSB0aGUgd2hpdGUgcmVjdGFuZ2xlIHN0YXJ0aW5nIGZyb20gcHJldmlvdXNseSBjb21wdXRlZCBjZW50ZXIuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBlbnN1cmUgdGhhdCB3ZSBlbmQgdXAgd2l0aCBhIHdoaXRlIHJlY3RhbmdsZSBpbiBjZW50ZXIgYnVsbCdzIGV5ZVxuICAgICAgICAvLyBpbiBvcmRlciB0byBjb21wdXRlIGEgbW9yZSBhY2N1cmF0ZSBjZW50ZXIuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgY29ybmVyUG9pbnRzID0gbmV3IFdoaXRlUmVjdGFuZ2xlRGV0ZWN0b3IodGhpcy5pbWFnZSwgMTUsIGN4LCBjeSkuZGV0ZWN0KCk7XG4gICAgICAgICAgICBwb2ludEEgPSBjb3JuZXJQb2ludHNbMF07XG4gICAgICAgICAgICBwb2ludEIgPSBjb3JuZXJQb2ludHNbMV07XG4gICAgICAgICAgICBwb2ludEMgPSBjb3JuZXJQb2ludHNbMl07XG4gICAgICAgICAgICBwb2ludEQgPSBjb3JuZXJQb2ludHNbM107XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZXhjZXB0aW9uIGNhbiBiZSBpbiBjYXNlIHRoZSBpbml0aWFsIHJlY3RhbmdsZSBpcyB3aGl0ZVxuICAgICAgICAgICAgLy8gSW4gdGhhdCBjYXNlIHdlIHRyeSB0byBleHBhbmQgdGhlIHJlY3RhbmdsZS5cbiAgICAgICAgICAgIHBvaW50QSA9IHRoaXMuZ2V0Rmlyc3REaWZmZXJlbnQobmV3IFBvaW50KGN4ICsgNywgY3kgLSA3KSwgZmFsc2UsIDEsIC0xKS50b1Jlc3VsdFBvaW50KCk7XG4gICAgICAgICAgICBwb2ludEIgPSB0aGlzLmdldEZpcnN0RGlmZmVyZW50KG5ldyBQb2ludChjeCArIDcsIGN5ICsgNyksIGZhbHNlLCAxLCAxKS50b1Jlc3VsdFBvaW50KCk7XG4gICAgICAgICAgICBwb2ludEMgPSB0aGlzLmdldEZpcnN0RGlmZmVyZW50KG5ldyBQb2ludChjeCAtIDcsIGN5ICsgNyksIGZhbHNlLCAtMSwgMSkudG9SZXN1bHRQb2ludCgpO1xuICAgICAgICAgICAgcG9pbnREID0gdGhpcy5nZXRGaXJzdERpZmZlcmVudChuZXcgUG9pbnQoY3ggLSA3LCBjeSAtIDcpLCBmYWxzZSwgLTEsIC0xKS50b1Jlc3VsdFBvaW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjb21wdXRlIHRoZSBjZW50ZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICBjeCA9IE1hdGhVdGlscy5yb3VuZCgocG9pbnRBLmdldFgoKSArIHBvaW50RC5nZXRYKCkgKyBwb2ludEIuZ2V0WCgpICsgcG9pbnRDLmdldFgoKSkgLyA0LjApO1xuICAgICAgICBjeSA9IE1hdGhVdGlscy5yb3VuZCgocG9pbnRBLmdldFkoKSArIHBvaW50RC5nZXRZKCkgKyBwb2ludEIuZ2V0WSgpICsgcG9pbnRDLmdldFkoKSkgLyA0LjApO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KGN4LCBjeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBBenRlYyBjb2RlIGNvcm5lcnMgZnJvbSB0aGUgYnVsbCdzIGV5ZSBjb3JuZXJzIGFuZCB0aGUgcGFyYW1ldGVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBidWxsc0V5ZUNvcm5lcnMgdGhlIGFycmF5IG9mIGJ1bGwncyBleWUgY29ybmVyc1xuICAgICAqIEByZXR1cm4gdGhlIGFycmF5IG9mIGF6dGVjIGNvZGUgY29ybmVyc1xuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRNYXRyaXhDb3JuZXJQb2ludHMgPSBmdW5jdGlvbiAoYnVsbHNFeWVDb3JuZXJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cGFuZFNxdWFyZShidWxsc0V5ZUNvcm5lcnMsIDIgKiB0aGlzLm5iQ2VudGVyTGF5ZXJzLCB0aGlzLmdldERpbWVuc2lvbigpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBCaXRNYXRyaXggYnkgc2FtcGxpbmcgdGhlIHByb3ZpZGVkIGltYWdlLlxuICAgICAqIHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21SaWdodCwgYW5kIGJvdHRvbUxlZnQgYXJlIHRoZSBjZW50ZXJzIG9mIHRoZSBzcXVhcmVzIG9uIHRoZVxuICAgICAqIGRpYWdvbmFsIGp1c3Qgb3V0c2lkZSB0aGUgYnVsbCdzIGV5ZS5cbiAgICAgKi9cbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdG9wTGVmdCwgdG9wUmlnaHQsIGJvdHRvbVJpZ2h0LCBib3R0b21MZWZ0KSB7XG4gICAgICAgIHZhciBzYW1wbGVyID0gR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSgpO1xuICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgdmFyIGxvdyA9IGRpbWVuc2lvbiAvIDIgLSB0aGlzLm5iQ2VudGVyTGF5ZXJzO1xuICAgICAgICB2YXIgaGlnaCA9IGRpbWVuc2lvbiAvIDIgKyB0aGlzLm5iQ2VudGVyTGF5ZXJzO1xuICAgICAgICByZXR1cm4gc2FtcGxlci5zYW1wbGVHcmlkKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgbG93LCBsb3csIC8vIHRvcGxlZnRcbiAgICAgICAgaGlnaCwgbG93LCAvLyB0b3ByaWdodFxuICAgICAgICBoaWdoLCBoaWdoLCAvLyBib3R0b21yaWdodFxuICAgICAgICBsb3csIGhpZ2gsIC8vIGJvdHRvbWxlZnRcbiAgICAgICAgdG9wTGVmdC5nZXRYKCksIHRvcExlZnQuZ2V0WSgpLCB0b3BSaWdodC5nZXRYKCksIHRvcFJpZ2h0LmdldFkoKSwgYm90dG9tUmlnaHQuZ2V0WCgpLCBib3R0b21SaWdodC5nZXRZKCksIGJvdHRvbUxlZnQuZ2V0WCgpLCBib3R0b21MZWZ0LmdldFkoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTYW1wbGVzIGEgbGluZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwMSAgIHN0YXJ0IHBvaW50IChpbmNsdXNpdmUpXG4gICAgICogQHBhcmFtIHAyICAgZW5kIHBvaW50IChleGNsdXNpdmUpXG4gICAgICogQHBhcmFtIHNpemUgbnVtYmVyIG9mIGJpdHNcbiAgICAgKiBAcmV0dXJuIHRoZSBhcnJheSBvZiBiaXRzIGFzIGFuIGludCAoZmlyc3QgYml0IGlzIGhpZ2gtb3JkZXIgYml0IG9mIHJlc3VsdClcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuc2FtcGxlTGluZSA9IGZ1bmN0aW9uIChwMSwgcDIsIHNpemUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgICAgIHZhciBkID0gdGhpcy5kaXN0YW5jZVJlc3VsdFBvaW50KHAxLCBwMik7XG4gICAgICAgIHZhciBtb2R1bGVTaXplID0gZCAvIHNpemU7XG4gICAgICAgIHZhciBweCA9IHAxLmdldFgoKTtcbiAgICAgICAgdmFyIHB5ID0gcDEuZ2V0WSgpO1xuICAgICAgICB2YXIgZHggPSBtb2R1bGVTaXplICogKHAyLmdldFgoKSAtIHAxLmdldFgoKSkgLyBkO1xuICAgICAgICB2YXIgZHkgPSBtb2R1bGVTaXplICogKHAyLmdldFkoKSAtIHAxLmdldFkoKSkgLyBkO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2UuZ2V0KE1hdGhVdGlscy5yb3VuZChweCArIGkgKiBkeCksIE1hdGhVdGlscy5yb3VuZChweSArIGkgKiBkeSkpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0IHw9IDEgPDwgKHNpemUgLSBpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgYm9yZGVyIG9mIHRoZSByZWN0YW5nbGUgcGFzc2VkIGluIHBhcmFtZXRlciBpcyBjb21wb3VuZCBvZiB3aGl0ZSBwb2ludHMgb25seVxuICAgICAqICAgICAgICAgb3IgYmxhY2sgcG9pbnRzIG9ubHlcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuaXNXaGl0ZU9yQmxhY2tSZWN0YW5nbGUgPSBmdW5jdGlvbiAocDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgdmFyIGNvcnIgPSAzO1xuICAgICAgICBwMSA9IG5ldyBQb2ludChwMS5nZXRYKCkgLSBjb3JyLCBwMS5nZXRZKCkgKyBjb3JyKTtcbiAgICAgICAgcDIgPSBuZXcgUG9pbnQocDIuZ2V0WCgpIC0gY29yciwgcDIuZ2V0WSgpIC0gY29ycik7XG4gICAgICAgIHAzID0gbmV3IFBvaW50KHAzLmdldFgoKSArIGNvcnIsIHAzLmdldFkoKSAtIGNvcnIpO1xuICAgICAgICBwNCA9IG5ldyBQb2ludChwNC5nZXRYKCkgKyBjb3JyLCBwNC5nZXRZKCkgKyBjb3JyKTtcbiAgICAgICAgdmFyIGNJbml0ID0gdGhpcy5nZXRDb2xvcihwNCwgcDEpO1xuICAgICAgICBpZiAoY0luaXQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYyA9IHRoaXMuZ2V0Q29sb3IocDEsIHAyKTtcbiAgICAgICAgaWYgKGMgIT09IGNJbml0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYyA9IHRoaXMuZ2V0Q29sb3IocDIsIHAzKTtcbiAgICAgICAgaWYgKGMgIT09IGNJbml0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYyA9IHRoaXMuZ2V0Q29sb3IocDMsIHA0KTtcbiAgICAgICAgcmV0dXJuIGMgPT09IGNJbml0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY29sb3Igb2YgYSBzZWdtZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIDEgaWYgc2VnbWVudCBtb3JlIHRoYW4gOTAlIGJsYWNrLCAtMSBpZiBzZWdtZW50IGlzIG1vcmUgdGhhbiA5MCUgd2hpdGUsIDAgZWxzZVxuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRDb2xvciA9IGZ1bmN0aW9uIChwMSwgcDIpIHtcbiAgICAgICAgdmFyIGQgPSB0aGlzLmRpc3RhbmNlUG9pbnQocDEsIHAyKTtcbiAgICAgICAgdmFyIGR4ID0gKHAyLmdldFgoKSAtIHAxLmdldFgoKSkgLyBkO1xuICAgICAgICB2YXIgZHkgPSAocDIuZ2V0WSgpIC0gcDEuZ2V0WSgpKSAvIGQ7XG4gICAgICAgIHZhciBlcnJvciA9IDA7XG4gICAgICAgIHZhciBweCA9IHAxLmdldFgoKTtcbiAgICAgICAgdmFyIHB5ID0gcDEuZ2V0WSgpO1xuICAgICAgICB2YXIgY29sb3JNb2RlbCA9IHRoaXMuaW1hZ2UuZ2V0KHAxLmdldFgoKSwgcDEuZ2V0WSgpKTtcbiAgICAgICAgdmFyIGlNYXggPSBNYXRoLmNlaWwoZCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaU1heDsgaSsrKSB7XG4gICAgICAgICAgICBweCArPSBkeDtcbiAgICAgICAgICAgIHB5ICs9IGR5O1xuICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2UuZ2V0KE1hdGhVdGlscy5yb3VuZChweCksIE1hdGhVdGlscy5yb3VuZChweSkpICE9PSBjb2xvck1vZGVsKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyUmF0aW8gPSBlcnJvciAvIGQ7XG4gICAgICAgIGlmIChlcnJSYXRpbyA+IDAuMSAmJiBlcnJSYXRpbyA8IDAuOSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChlcnJSYXRpbyA8PSAwLjEpID09PSBjb2xvck1vZGVsID8gMSA6IC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgcG9pbnQgd2l0aCBhIGRpZmZlcmVudCBjb2xvciBpbiB0aGUgZ2l2ZW4gZGlyZWN0aW9uXG4gICAgICovXG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEZpcnN0RGlmZmVyZW50ID0gZnVuY3Rpb24gKGluaXQsIGNvbG9yLCBkeCwgZHkpIHtcbiAgICAgICAgdmFyIHggPSBpbml0LmdldFgoKSArIGR4O1xuICAgICAgICB2YXIgeSA9IGluaXQuZ2V0WSgpICsgZHk7XG4gICAgICAgIHdoaWxlICh0aGlzLmlzVmFsaWQoeCwgeSkgJiYgdGhpcy5pbWFnZS5nZXQoeCwgeSkgPT09IGNvbG9yKSB7XG4gICAgICAgICAgICB4ICs9IGR4O1xuICAgICAgICAgICAgeSArPSBkeTtcbiAgICAgICAgfVxuICAgICAgICB4IC09IGR4O1xuICAgICAgICB5IC09IGR5O1xuICAgICAgICB3aGlsZSAodGhpcy5pc1ZhbGlkKHgsIHkpICYmIHRoaXMuaW1hZ2UuZ2V0KHgsIHkpID09PSBjb2xvcikge1xuICAgICAgICAgICAgeCArPSBkeDtcbiAgICAgICAgfVxuICAgICAgICB4IC09IGR4O1xuICAgICAgICB3aGlsZSAodGhpcy5pc1ZhbGlkKHgsIHkpICYmIHRoaXMuaW1hZ2UuZ2V0KHgsIHkpID09PSBjb2xvcikge1xuICAgICAgICAgICAgeSArPSBkeTtcbiAgICAgICAgfVxuICAgICAgICB5IC09IGR5O1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgsIHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRXhwYW5kIHRoZSBzcXVhcmUgcmVwcmVzZW50ZWQgYnkgdGhlIGNvcm5lciBwb2ludHMgYnkgcHVzaGluZyBvdXQgZXF1YWxseSBpbiBhbGwgZGlyZWN0aW9uc1xuICAgICAqXG4gICAgICogQHBhcmFtIGNvcm5lclBvaW50cyB0aGUgY29ybmVycyBvZiB0aGUgc3F1YXJlLCB3aGljaCBoYXMgdGhlIGJ1bGwncyBleWUgYXQgaXRzIGNlbnRlclxuICAgICAqIEBwYXJhbSBvbGRTaWRlIHRoZSBvcmlnaW5hbCBsZW5ndGggb2YgdGhlIHNpZGUgb2YgdGhlIHNxdWFyZSBpbiB0aGUgdGFyZ2V0IGJpdCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbmV3U2lkZSB0aGUgbmV3IGxlbmd0aCBvZiB0aGUgc2l6ZSBvZiB0aGUgc3F1YXJlIGluIHRoZSB0YXJnZXQgYml0IG1hdHJpeFxuICAgICAqIEByZXR1cm4gdGhlIGNvcm5lcnMgb2YgdGhlIGV4cGFuZGVkIHNxdWFyZVxuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5leHBhbmRTcXVhcmUgPSBmdW5jdGlvbiAoY29ybmVyUG9pbnRzLCBvbGRTaWRlLCBuZXdTaWRlKSB7XG4gICAgICAgIHZhciByYXRpbyA9IG5ld1NpZGUgLyAoMi4wICogb2xkU2lkZSk7XG4gICAgICAgIHZhciBkeCA9IGNvcm5lclBvaW50c1swXS5nZXRYKCkgLSBjb3JuZXJQb2ludHNbMl0uZ2V0WCgpO1xuICAgICAgICB2YXIgZHkgPSBjb3JuZXJQb2ludHNbMF0uZ2V0WSgpIC0gY29ybmVyUG9pbnRzWzJdLmdldFkoKTtcbiAgICAgICAgdmFyIGNlbnRlcnggPSAoY29ybmVyUG9pbnRzWzBdLmdldFgoKSArIGNvcm5lclBvaW50c1syXS5nZXRYKCkpIC8gMi4wO1xuICAgICAgICB2YXIgY2VudGVyeSA9IChjb3JuZXJQb2ludHNbMF0uZ2V0WSgpICsgY29ybmVyUG9pbnRzWzJdLmdldFkoKSkgLyAyLjA7XG4gICAgICAgIHZhciByZXN1bHQwID0gbmV3IFJlc3VsdFBvaW50KGNlbnRlcnggKyByYXRpbyAqIGR4LCBjZW50ZXJ5ICsgcmF0aW8gKiBkeSk7XG4gICAgICAgIHZhciByZXN1bHQyID0gbmV3IFJlc3VsdFBvaW50KGNlbnRlcnggLSByYXRpbyAqIGR4LCBjZW50ZXJ5IC0gcmF0aW8gKiBkeSk7XG4gICAgICAgIGR4ID0gY29ybmVyUG9pbnRzWzFdLmdldFgoKSAtIGNvcm5lclBvaW50c1szXS5nZXRYKCk7XG4gICAgICAgIGR5ID0gY29ybmVyUG9pbnRzWzFdLmdldFkoKSAtIGNvcm5lclBvaW50c1szXS5nZXRZKCk7XG4gICAgICAgIGNlbnRlcnggPSAoY29ybmVyUG9pbnRzWzFdLmdldFgoKSArIGNvcm5lclBvaW50c1szXS5nZXRYKCkpIC8gMi4wO1xuICAgICAgICBjZW50ZXJ5ID0gKGNvcm5lclBvaW50c1sxXS5nZXRZKCkgKyBjb3JuZXJQb2ludHNbM10uZ2V0WSgpKSAvIDIuMDtcbiAgICAgICAgdmFyIHJlc3VsdDEgPSBuZXcgUmVzdWx0UG9pbnQoY2VudGVyeCArIHJhdGlvICogZHgsIGNlbnRlcnkgKyByYXRpbyAqIGR5KTtcbiAgICAgICAgdmFyIHJlc3VsdDMgPSBuZXcgUmVzdWx0UG9pbnQoY2VudGVyeCAtIHJhdGlvICogZHgsIGNlbnRlcnkgLSByYXRpbyAqIGR5KTtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbcmVzdWx0MCwgcmVzdWx0MSwgcmVzdWx0MiwgcmVzdWx0M107XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICByZXR1cm4geCA+PSAwICYmIHggPCB0aGlzLmltYWdlLmdldFdpZHRoKCkgJiYgeSA+IDAgJiYgeSA8IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCk7XG4gICAgfTtcbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuaXNWYWxpZFBvaW50ID0gZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgIHZhciB4ID0gTWF0aFV0aWxzLnJvdW5kKHBvaW50LmdldFgoKSk7XG4gICAgICAgIHZhciB5ID0gTWF0aFV0aWxzLnJvdW5kKHBvaW50LmdldFkoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoeCwgeSk7XG4gICAgfTtcbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuZGlzdGFuY2VQb2ludCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBNYXRoVXRpbHMuZGlzdGFuY2UoYS5nZXRYKCksIGEuZ2V0WSgpLCBiLmdldFgoKSwgYi5nZXRZKCkpO1xuICAgIH07XG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmRpc3RhbmNlUmVzdWx0UG9pbnQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gTWF0aFV0aWxzLmRpc3RhbmNlKGEuZ2V0WCgpLCBhLmdldFkoKSwgYi5nZXRYKCksIGIuZ2V0WSgpKTtcbiAgICB9O1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXREaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBhY3QpIHtcbiAgICAgICAgICAgIHJldHVybiA0ICogdGhpcy5uYkxheWVycyArIDExO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5iTGF5ZXJzIDw9IDQpIHtcbiAgICAgICAgICAgIHJldHVybiA0ICogdGhpcy5uYkxheWVycyArIDE1O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiA0ICogdGhpcy5uYkxheWVycyArIDIgKiAoSW50ZWdlci50cnVuY0RpdmlzaW9uKCh0aGlzLm5iTGF5ZXJzIC0gNCksIDgpICsgMSkgKyAxNTtcbiAgICB9O1xuICAgIHJldHVybiBEZXRlY3Rvcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBEZXRlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURldGVjdG9yLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlc3VsdCBmcm9tICcuLi9SZXN1bHQnO1xuaW1wb3J0IEJhcmNvZGVGb3JtYXQgZnJvbSAnLi4vQmFyY29kZUZvcm1hdCc7XG5pbXBvcnQgRGVjb2RlSGludFR5cGUgZnJvbSAnLi4vRGVjb2RlSGludFR5cGUnO1xuaW1wb3J0IFJlc3VsdE1ldGFkYXRhVHlwZSBmcm9tICcuLi9SZXN1bHRNZXRhZGF0YVR5cGUnO1xuaW1wb3J0IFN5c3RlbSBmcm9tICcuLi91dGlsL1N5c3RlbSc7XG5pbXBvcnQgRGVjb2RlciBmcm9tICcuL2RlY29kZXIvRGVjb2Rlcic7XG5pbXBvcnQgRGV0ZWN0b3IgZnJvbSAnLi9kZXRlY3Rvci9EZXRlY3Rvcic7XG4vLyBpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4vLyBpbXBvcnQgamF2YS51dGlsLk1hcDtcbi8qKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgQXp0ZWMgY29kZXMgaW4gYW4gaW1hZ2UuXG4gKlxuICogQGF1dGhvciBEYXZpZCBPbGl2aWVyXG4gKi9cbnZhciBBenRlY1JlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBenRlY1JlYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9jYXRlcyBhbmQgZGVjb2RlcyBhIERhdGEgTWF0cml4IGNvZGUgaW4gYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEgU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBEYXRhIE1hdHJpeCBjb2RlXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIERhdGEgTWF0cml4IGNvZGUgY2Fubm90IGJlIGZvdW5kXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBEYXRhIE1hdHJpeCBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkXG4gICAgICovXG4gICAgQXp0ZWNSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHtcbiAgICAgICAgaWYgKGhpbnRzID09PSB2b2lkIDApIHsgaGludHMgPSBudWxsOyB9XG4gICAgICAgIHZhciBleGNlcHRpb24gPSBudWxsO1xuICAgICAgICB2YXIgZGV0ZWN0b3IgPSBuZXcgRGV0ZWN0b3IoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7XG4gICAgICAgIHZhciBwb2ludHMgPSBudWxsO1xuICAgICAgICB2YXIgZGVjb2RlclJlc3VsdCA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgZGV0ZWN0b3JSZXN1bHQgPSBkZXRlY3Rvci5kZXRlY3RNaXJyb3IoZmFsc2UpO1xuICAgICAgICAgICAgcG9pbnRzID0gZGV0ZWN0b3JSZXN1bHQuZ2V0UG9pbnRzKCk7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydEZvdW5kUmVzdWx0UG9pbnRzKGhpbnRzLCBwb2ludHMpO1xuICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IG5ldyBEZWNvZGVyKCkuZGVjb2RlKGRldGVjdG9yUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXhjZXB0aW9uID0gZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVjb2RlclJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkZXRlY3RvclJlc3VsdCA9IGRldGVjdG9yLmRldGVjdE1pcnJvcih0cnVlKTtcbiAgICAgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydEZvdW5kUmVzdWx0UG9pbnRzKGhpbnRzLCBwb2ludHMpO1xuICAgICAgICAgICAgICAgIGRlY29kZXJSZXN1bHQgPSBuZXcgRGVjb2RlcigpLmRlY29kZShkZXRlY3RvclJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChleGNlcHRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBSZXN1bHQoZGVjb2RlclJlc3VsdC5nZXRUZXh0KCksIGRlY29kZXJSZXN1bHQuZ2V0UmF3Qnl0ZXMoKSwgZGVjb2RlclJlc3VsdC5nZXROdW1CaXRzKCksIHBvaW50cywgQmFyY29kZUZvcm1hdC5BWlRFQywgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCkpO1xuICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gZGVjb2RlclJlc3VsdC5nZXRCeXRlU2VnbWVudHMoKTtcbiAgICAgICAgaWYgKGJ5dGVTZWdtZW50cyAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQucHV0TWV0YWRhdGEoUmVzdWx0TWV0YWRhdGFUeXBlLkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTtcbiAgICAgICAgaWYgKGVjTGV2ZWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZS5FUlJPUl9DT1JSRUNUSU9OX0xFVkVMLCBlY0xldmVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgQXp0ZWNSZWFkZXIucHJvdG90eXBlLnJlcG9ydEZvdW5kUmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKGhpbnRzLCBwb2ludHMpIHtcbiAgICAgICAgaWYgKGhpbnRzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBycGNiXzEgPSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGUuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spO1xuICAgICAgICAgICAgaWYgKHJwY2JfMSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50LCBpZHgsIGFycikge1xuICAgICAgICAgICAgICAgICAgICBycGNiXzEuZm91bmRQb3NzaWJsZVJlc3VsdFBvaW50KHBvaW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgQXp0ZWNSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfTtcbiAgICByZXR1cm4gQXp0ZWNSZWFkZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQXp0ZWNSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BenRlY1JlYWRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEJyb3dzZXJDb2RlUmVhZGVyIH0gZnJvbSAnLi9Ccm93c2VyQ29kZVJlYWRlcic7XG5pbXBvcnQgQXp0ZWNSZWFkZXIgZnJvbSAnLi4vY29yZS9henRlYy9BenRlY1JlYWRlcic7XG4vKipcbiAqIEF6dGVjIENvZGUgcmVhZGVyIHRvIHVzZSBmcm9tIGJyb3dzZXIuXG4gKlxuICogQGNsYXNzIEJyb3dzZXJBenRlY0NvZGVSZWFkZXJcbiAqIEBleHRlbmRzIHtCcm93c2VyQ29kZVJlYWRlcn1cbiAqL1xudmFyIEJyb3dzZXJBenRlY0NvZGVSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJyb3dzZXJBenRlY0NvZGVSZWFkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBCcm93c2VyQXp0ZWNDb2RlUmVhZGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZUJldHdlZW5TY2Fuc01pbGxpcz01MDBdIHRoZSB0aW1lIGRlbGF5IGJldHdlZW4gc3Vic2VxdWVudCBkZWNvZGUgdHJpZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBCcm93c2VyQXp0ZWNDb2RlUmVhZGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnJvd3NlckF6dGVjQ29kZVJlYWRlcih0aW1lQmV0d2VlblNjYW5zTWlsbGlzKSB7XG4gICAgICAgIGlmICh0aW1lQmV0d2VlblNjYW5zTWlsbGlzID09PSB2b2lkIDApIHsgdGltZUJldHdlZW5TY2Fuc01pbGxpcyA9IDUwMDsgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbmV3IEF6dGVjUmVhZGVyKCksIHRpbWVCZXR3ZWVuU2NhbnNNaWxsaXMpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBCcm93c2VyQXp0ZWNDb2RlUmVhZGVyO1xufShCcm93c2VyQ29kZVJlYWRlcikpO1xuZXhwb3J0IHsgQnJvd3NlckF6dGVjQ29kZVJlYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckF6dGVjQ29kZVJlYWRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBCaXRBcnJheSBmcm9tICcuLi9jb21tb24vQml0QXJyYXknO1xuaW1wb3J0IERlY29kZUhpbnRUeXBlIGZyb20gJy4uL0RlY29kZUhpbnRUeXBlJztcbmltcG9ydCBSZXN1bHRNZXRhZGF0YVR5cGUgZnJvbSAnLi4vUmVzdWx0TWV0YWRhdGFUeXBlJztcbmltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi9SZXN1bHRQb2ludCc7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuLyoqXG4gKiBFbmNhcHN1bGF0ZXMgZnVuY3Rpb25hbGl0eSBhbmQgaW1wbGVtZW50YXRpb24gdGhhdCBpcyBjb21tb24gdG8gYWxsIGZhbWlsaWVzXG4gKiBvZiBvbmUtZGltZW5zaW9uYWwgYmFyY29kZXMuXG4gKlxuICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbilcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBPbmVEUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9uZURSZWFkZXIoKSB7XG4gICAgfVxuICAgIC8qXG4gICAgQE92ZXJyaWRlXG4gICAgcHVibGljIFJlc3VsdCBkZWNvZGUoQmluYXJ5Qml0bWFwIGltYWdlKSB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiB7XG4gICAgICByZXR1cm4gZGVjb2RlKGltYWdlLCBudWxsKTtcbiAgICB9XG4gICAgKi9cbiAgICAvLyBOb3RlIHRoYXQgd2UgZG9uJ3QgdHJ5IHJvdGF0aW9uIHdpdGhvdXQgdGhlIHRyeSBoYXJkZXIgZmxhZywgZXZlbiBpZiByb3RhdGlvbiB3YXMgc3VwcG9ydGVkLlxuICAgIC8vIEBPdmVycmlkZVxuICAgIE9uZURSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvRGVjb2RlKGltYWdlLCBoaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKG5mZSkge1xuICAgICAgICAgICAgdmFyIHRyeUhhcmRlciA9IGhpbnRzICYmIChoaW50cy5nZXQoRGVjb2RlSGludFR5cGUuVFJZX0hBUkRFUikgPT09IHRydWUpO1xuICAgICAgICAgICAgaWYgKHRyeUhhcmRlciAmJiBpbWFnZS5pc1JvdGF0ZVN1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdGF0ZWRJbWFnZSA9IGltYWdlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5kb0RlY29kZShyb3RhdGVkSW1hZ2UsIGhpbnRzKTtcbiAgICAgICAgICAgICAgICAvLyBSZWNvcmQgdGhhdCB3ZSBmb3VuZCBpdCByb3RhdGVkIDkwIGRlZ3JlZXMgQ0NXIC8gMjcwIGRlZ3JlZXMgQ1dcbiAgICAgICAgICAgICAgICB2YXIgbWV0YWRhdGEgPSByZXN1bHQuZ2V0UmVzdWx0TWV0YWRhdGEoKTtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZW50YXRpb25fMSA9IDI3MDtcbiAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwgJiYgKG1ldGFkYXRhLmdldChSZXN1bHRNZXRhZGF0YVR5cGUuT1JJRU5UQVRJT04pID09PSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBCdXQgaWYgd2UgZm91bmQgaXQgcmV2ZXJzZWQgaW4gZG9EZWNvZGUoKSwgYWRkIGluIHRoYXQgcmVzdWx0IGhlcmU6XG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uXzEgPSAob3JpZW50YXRpb25fMSArIG1ldGFkYXRhLmdldChSZXN1bHRNZXRhZGF0YVR5cGUuT1JJRU5UQVRJT04pICUgMzYwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZS5PUklFTlRBVElPTiwgb3JpZW50YXRpb25fMSk7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHJlc3VsdCBwb2ludHNcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gcmVzdWx0LmdldFJlc3VsdFBvaW50cygpO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludHMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHJvdGF0ZWRJbWFnZS5nZXRIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50c1tpXSA9IG5ldyBSZXN1bHRQb2ludChoZWlnaHQgLSBwb2ludHNbaV0uZ2V0WSgpIC0gMSwgcG9pbnRzW2ldLmdldFgoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBPbmVEUmVhZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV2UncmUgZ29pbmcgdG8gZXhhbWluZSByb3dzIGZyb20gdGhlIG1pZGRsZSBvdXR3YXJkLCBzZWFyY2hpbmcgYWx0ZXJuYXRlbHkgYWJvdmUgYW5kIGJlbG93IHRoZVxuICAgICAqIG1pZGRsZSwgYW5kIGZhcnRoZXIgb3V0IGVhY2ggdGltZS4gcm93U3RlcCBpcyB0aGUgbnVtYmVyIG9mIHJvd3MgYmV0d2VlbiBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBhdHRlbXB0IGFib3ZlIGFuZCBiZWxvdyB0aGUgbWlkZGxlLiBTbyB3ZSdkIHNjYW4gcm93IG1pZGRsZSwgdGhlbiBtaWRkbGUgLSByb3dTdGVwLCB0aGVuXG4gICAgICogbWlkZGxlICsgcm93U3RlcCwgdGhlbiBtaWRkbGUgLSAoMiAqIHJvd1N0ZXApLCBldGMuXG4gICAgICogcm93U3RlcCBpcyBiaWdnZXIgYXMgdGhlIGltYWdlIGlzIHRhbGxlciwgYnV0IGlzIGFsd2F5cyBhdCBsZWFzdCAxLiBXZSd2ZSBzb21ld2hhdCBhcmJpdHJhcmlseVxuICAgICAqIGRlY2lkZWQgdGhhdCBtb3ZpbmcgdXAgYW5kIGRvd24gYnkgYWJvdXQgMS8xNiBvZiB0aGUgaW1hZ2UgaXMgcHJldHR5IGdvb2Q7IHdlIHRyeSBtb3JlIG9mIHRoZVxuICAgICAqIGltYWdlIGlmIFwidHJ5aW5nIGhhcmRlclwiLlxuICAgICAqXG4gICAgICogQHBhcmFtIGltYWdlIFRoZSBpbWFnZSB0byBkZWNvZGVcbiAgICAgKiBAcGFyYW0gaGludHMgQW55IGhpbnRzIHRoYXQgd2VyZSByZXF1ZXN0ZWRcbiAgICAgKiBAcmV0dXJuIFRoZSBjb250ZW50cyBvZiB0aGUgZGVjb2RlZCBiYXJjb2RlXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBBbnkgc3BvbnRhbmVvdXMgZXJyb3JzIHdoaWNoIG9jY3VyXG4gICAgICovXG4gICAgT25lRFJlYWRlci5wcm90b3R5cGUuZG9EZWNvZGUgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGltYWdlLmdldFdpZHRoKCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIHJvdyA9IG5ldyBCaXRBcnJheSh3aWR0aCk7XG4gICAgICAgIHZhciB0cnlIYXJkZXIgPSBoaW50cyAmJiAoaGludHMuZ2V0KERlY29kZUhpbnRUeXBlLlRSWV9IQVJERVIpID09PSB0cnVlKTtcbiAgICAgICAgdmFyIHJvd1N0ZXAgPSBNYXRoLm1heCgxLCBoZWlnaHQgPj4gKHRyeUhhcmRlciA/IDggOiA1KSk7XG4gICAgICAgIHZhciBtYXhMaW5lcztcbiAgICAgICAgaWYgKHRyeUhhcmRlcikge1xuICAgICAgICAgICAgbWF4TGluZXMgPSBoZWlnaHQ7IC8vIExvb2sgYXQgdGhlIHdob2xlIGltYWdlLCBub3QganVzdCB0aGUgY2VudGVyXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXhMaW5lcyA9IDE1OyAvLyAxNSByb3dzIHNwYWNlZCAxLzMyIGFwYXJ0IGlzIHJvdWdobHkgdGhlIG1pZGRsZSBoYWxmIG9mIHRoZSBpbWFnZVxuICAgICAgICB9XG4gICAgICAgIHZhciBtaWRkbGUgPSBNYXRoLnRydW5jKGhlaWdodCAvIDIpO1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heExpbmVzOyB4KyspIHtcbiAgICAgICAgICAgIC8vIFNjYW5uaW5nIGZyb20gdGhlIG1pZGRsZSBvdXQuIERldGVybWluZSB3aGljaCByb3cgd2UncmUgbG9va2luZyBhdCBuZXh0OlxuICAgICAgICAgICAgdmFyIHJvd1N0ZXBzQWJvdmVPckJlbG93ID0gTWF0aC50cnVuYygoeCArIDEpIC8gMik7XG4gICAgICAgICAgICB2YXIgaXNBYm92ZSA9ICh4ICYgMHgwMSkgPT09IDA7IC8vIGkuZS4gaXMgeCBldmVuP1xuICAgICAgICAgICAgdmFyIHJvd051bWJlciA9IG1pZGRsZSArIHJvd1N0ZXAgKiAoaXNBYm92ZSA/IHJvd1N0ZXBzQWJvdmVPckJlbG93IDogLXJvd1N0ZXBzQWJvdmVPckJlbG93KTtcbiAgICAgICAgICAgIGlmIChyb3dOdW1iZXIgPCAwIHx8IHJvd051bWJlciA+PSBoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAvLyBPb3BzLCBpZiB3ZSBydW4gb2ZmIHRoZSB0b3Agb3IgYm90dG9tLCBzdG9wXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFc3RpbWF0ZSBibGFjayBwb2ludCBmb3IgdGhpcyByb3cgYW5kIGxvYWQgaXQ6XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJvdyA9IGltYWdlLmdldEJsYWNrUm93KHJvd051bWJlciwgcm93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChhdHRlbXB0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dGVtcHQgPT09IDEpIHsgLy8gdHJ5aW5nIGFnYWluP1xuICAgICAgICAgICAgICAgICAgICByb3cucmV2ZXJzZSgpOyAvLyByZXZlcnNlIHRoZSByb3cgYW5kIGNvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgd2Ugd2lsbCBvbmx5IGV2ZXIgZHJhdyByZXN1bHQgcG9pbnRzICpvbmNlKiBpbiB0aGUgbGlmZSBvZiB0aGlzIG1ldGhvZFxuICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSB3ZSB3YW50IHRvIGF2b2lkIGRyYXdpbmcgdGhlIHdyb25nIHBvaW50cyBhZnRlciBmbGlwcGluZyB0aGUgcm93LCBhbmQsXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHdhbnQgdG8gY2x1dHRlciB3aXRoIG5vaXNlIGZyb20gZXZlcnkgc2luZ2xlIHJvdyBzY2FuIC0tIGp1c3QgdGhlIHNjYW5zXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgc3RhcnQgb24gdGhlIGNlbnRlciBsaW5lLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaGludHMgJiYgKGhpbnRzLmdldChEZWNvZGVIaW50VHlwZS5ORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSykgPT09IHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3SGludHNfMSA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpbnRzLmZvckVhY2goZnVuY3Rpb24gKGhpbnQsIGtleSkgeyByZXR1cm4gbmV3SGludHNfMS5zZXQoa2V5LCBoaW50KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdIaW50c18xLmRlbGV0ZShEZWNvZGVIaW50VHlwZS5ORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaW50cyA9IG5ld0hpbnRzXzE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYSBiYXJjb2RlXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzXzEuZGVjb2RlUm93KHJvd051bWJlciwgcm93LCBoaW50cyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIG91ciBiYXJjb2RlXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdXQgaXQgd2FzIHVwc2lkZSBkb3duLCBzbyBub3RlIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGUuT1JJRU5UQVRJT04sIDE4MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbmQgcmVtZW1iZXIgdG8gZmxpcCB0aGUgcmVzdWx0IHBvaW50cyBob3Jpem9udGFsbHkuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gcmVzdWx0LmdldFJlc3VsdFBvaW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50c1swXSA9IG5ldyBSZXN1bHRQb2ludCh3aWR0aCAtIHBvaW50c1swXS5nZXRYKCkgLSAxLCBwb2ludHNbMF0uZ2V0WSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludHNbMV0gPSBuZXcgUmVzdWx0UG9pbnQod2lkdGggLSBwb2ludHNbMV0uZ2V0WCgpIC0gMSwgcG9pbnRzWzFdLmdldFkoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHJlc3VsdCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAocmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udGludWUgLS0ganVzdCBjb3VsZG4ndCBkZWNvZGUgdGhpcyByb3dcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XG4gICAgICAgICAgICAvLyBXaGlsZSB3ZSBoYXZlIHRoZSBpbWFnZSBkYXRhIGluIGEgQml0QXJyYXksIGl0J3MgZmFpcmx5IGNoZWFwIHRvIHJldmVyc2UgaXQgaW4gcGxhY2UgdG9cbiAgICAgICAgICAgIC8vIGhhbmRsZSBkZWNvZGluZyB1cHNpZGUgZG93biBiYXJjb2Rlcy5cbiAgICAgICAgICAgIGZvciAodmFyIGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgMjsgYXR0ZW1wdCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8xKGF0dGVtcHQpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RhdGVfMSA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlXzEudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWNvcmRzIHRoZSBzaXplIG9mIHN1Y2Nlc3NpdmUgcnVucyBvZiB3aGl0ZSBhbmQgYmxhY2sgcGl4ZWxzIGluIGEgcm93LCBzdGFydGluZyBhdCBhIGdpdmVuIHBvaW50LlxuICAgICAqIFRoZSB2YWx1ZXMgYXJlIHJlY29yZGVkIGluIHRoZSBnaXZlbiBhcnJheSwgYW5kIHRoZSBudW1iZXIgb2YgcnVucyByZWNvcmRlZCBpcyBlcXVhbCB0byB0aGUgc2l6ZVxuICAgICAqIG9mIHRoZSBhcnJheS4gSWYgdGhlIHJvdyBzdGFydHMgb24gYSB3aGl0ZSBwaXhlbCBhdCB0aGUgZ2l2ZW4gc3RhcnQgcG9pbnQsIHRoZW4gdGhlIGZpcnN0IGNvdW50XG4gICAgICogcmVjb3JkZWQgaXMgdGhlIHJ1biBvZiB3aGl0ZSBwaXhlbHMgc3RhcnRpbmcgZnJvbSB0aGF0IHBvaW50OyBsaWtld2lzZSBpdCBpcyB0aGUgY291bnQgb2YgYSBydW5cbiAgICAgKiBvZiBibGFjayBwaXhlbHMgaWYgdGhlIHJvdyBiZWdpbiBvbiBhIGJsYWNrIHBpeGVscyBhdCB0aGF0IHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHJvdyByb3cgdG8gY291bnQgZnJvbVxuICAgICAqIEBwYXJhbSBzdGFydCBvZmZzZXQgaW50byByb3cgdG8gc3RhcnQgYXRcbiAgICAgKiBAcGFyYW0gY291bnRlcnMgYXJyYXkgaW50byB3aGljaCB0byByZWNvcmQgY291bnRzXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBjb3VudGVycyBjYW5ub3QgYmUgZmlsbGVkIGVudGlyZWx5IGZyb20gcm93IGJlZm9yZSBydW5uaW5nIG91dFxuICAgICAqICBvZiBwaXhlbHNcbiAgICAgKi9cbiAgICBPbmVEUmVhZGVyLnJlY29yZFBhdHRlcm4gPSBmdW5jdGlvbiAocm93LCBzdGFydCwgY291bnRlcnMpIHtcbiAgICAgICAgdmFyIG51bUNvdW50ZXJzID0gY291bnRlcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbnVtQ291bnRlcnM7IGluZGV4KyspXG4gICAgICAgICAgICBjb3VudGVyc1tpbmRleF0gPSAwO1xuICAgICAgICB2YXIgZW5kID0gcm93LmdldFNpemUoKTtcbiAgICAgICAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzV2hpdGUgPSAhcm93LmdldChzdGFydCk7XG4gICAgICAgIHZhciBjb3VudGVyUG9zaXRpb24gPSAwO1xuICAgICAgICB2YXIgaSA9IHN0YXJ0O1xuICAgICAgICB3aGlsZSAoaSA8IGVuZCkge1xuICAgICAgICAgICAgaWYgKHJvdy5nZXQoaSkgIT09IGlzV2hpdGUpIHtcbiAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb25dKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoKytjb3VudGVyUG9zaXRpb24gPT09IG51bUNvdW50ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnNbY291bnRlclBvc2l0aW9uXSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlzV2hpdGUgPSAhaXNXaGl0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgcmVhZCBmdWxseSB0aGUgbGFzdCBzZWN0aW9uIG9mIHBpeGVscyBhbmQgZmlsbGVkIHVwIG91ciBjb3VudGVycyAtLSBvciBmaWxsZWRcbiAgICAgICAgLy8gdGhlIGxhc3QgY291bnRlciBidXQgcmFuIG9mZiB0aGUgc2lkZSBvZiB0aGUgaW1hZ2UsIE9LLiBPdGhlcndpc2UsIGEgcHJvYmxlbS5cbiAgICAgICAgaWYgKCEoY291bnRlclBvc2l0aW9uID09PSBudW1Db3VudGVycyB8fCAoY291bnRlclBvc2l0aW9uID09PSBudW1Db3VudGVycyAtIDEgJiYgaSA9PT0gZW5kKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPbmVEUmVhZGVyLnJlY29yZFBhdHRlcm5JblJldmVyc2UgPSBmdW5jdGlvbiAocm93LCBzdGFydCwgY291bnRlcnMpIHtcbiAgICAgICAgLy8gVGhpcyBjb3VsZCBiZSBtb3JlIGVmZmljaWVudCBJIGd1ZXNzXG4gICAgICAgIHZhciBudW1UcmFuc2l0aW9uc0xlZnQgPSBjb3VudGVycy5sZW5ndGg7XG4gICAgICAgIHZhciBsYXN0ID0gcm93LmdldChzdGFydCk7XG4gICAgICAgIHdoaWxlIChzdGFydCA+IDAgJiYgbnVtVHJhbnNpdGlvbnNMZWZ0ID49IDApIHtcbiAgICAgICAgICAgIGlmIChyb3cuZ2V0KC0tc3RhcnQpICE9PSBsYXN0KSB7XG4gICAgICAgICAgICAgICAgbnVtVHJhbnNpdGlvbnNMZWZ0LS07XG4gICAgICAgICAgICAgICAgbGFzdCA9ICFsYXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChudW1UcmFuc2l0aW9uc0xlZnQgPj0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgT25lRFJlYWRlci5yZWNvcmRQYXR0ZXJuKHJvdywgc3RhcnQgKyAxLCBjb3VudGVycyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGhvdyBjbG9zZWx5IGEgc2V0IG9mIG9ic2VydmVkIGNvdW50cyBvZiBydW5zIG9mIGJsYWNrL3doaXRlIHZhbHVlcyBtYXRjaGVzIGEgZ2l2ZW5cbiAgICAgKiB0YXJnZXQgcGF0dGVybi4gVGhpcyBpcyByZXBvcnRlZCBhcyB0aGUgcmF0aW8gb2YgdGhlIHRvdGFsIHZhcmlhbmNlIGZyb20gdGhlIGV4cGVjdGVkIHBhdHRlcm5cbiAgICAgKiBwcm9wb3J0aW9ucyBhY3Jvc3MgYWxsIHBhdHRlcm4gZWxlbWVudHMsIHRvIHRoZSBsZW5ndGggb2YgdGhlIHBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnRlcnMgb2JzZXJ2ZWQgY291bnRlcnNcbiAgICAgKiBAcGFyYW0gcGF0dGVybiBleHBlY3RlZCBwYXR0ZXJuXG4gICAgICogQHBhcmFtIG1heEluZGl2aWR1YWxWYXJpYW5jZSBUaGUgbW9zdCBhbnkgY291bnRlciBjYW4gZGlmZmVyIGJlZm9yZSB3ZSBnaXZlIHVwXG4gICAgICogQHJldHVybiByYXRpbyBvZiB0b3RhbCB2YXJpYW5jZSBiZXR3ZWVuIGNvdW50ZXJzIGFuZCBwYXR0ZXJuIGNvbXBhcmVkIHRvIHRvdGFsIHBhdHRlcm4gc2l6ZVxuICAgICAqL1xuICAgIE9uZURSZWFkZXIucGF0dGVybk1hdGNoVmFyaWFuY2UgPSBmdW5jdGlvbiAoY291bnRlcnMsIHBhdHRlcm4sIG1heEluZGl2aWR1YWxWYXJpYW5jZSkge1xuICAgICAgICB2YXIgbnVtQ291bnRlcnMgPSBjb3VudGVycy5sZW5ndGg7XG4gICAgICAgIHZhciB0b3RhbCA9IDA7XG4gICAgICAgIHZhciBwYXR0ZXJuTGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1Db3VudGVyczsgaSsrKSB7XG4gICAgICAgICAgICB0b3RhbCArPSBjb3VudGVyc1tpXTtcbiAgICAgICAgICAgIHBhdHRlcm5MZW5ndGggKz0gcGF0dGVybltpXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG90YWwgPCBwYXR0ZXJuTGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBldmVuIGhhdmUgb25lIHBpeGVsIHBlciB1bml0IG9mIGJhciB3aWR0aCwgYXNzdW1lIHRoaXMgaXMgdG9vIHNtYWxsXG4gICAgICAgICAgICAvLyB0byByZWxpYWJseSBtYXRjaCwgc28gZmFpbDpcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVuaXRCYXJXaWR0aCA9IHRvdGFsIC8gcGF0dGVybkxlbmd0aDtcbiAgICAgICAgbWF4SW5kaXZpZHVhbFZhcmlhbmNlICo9IHVuaXRCYXJXaWR0aDtcbiAgICAgICAgdmFyIHRvdGFsVmFyaWFuY2UgPSAwLjA7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbnVtQ291bnRlcnM7IHgrKykge1xuICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBjb3VudGVyc1t4XTtcbiAgICAgICAgICAgIHZhciBzY2FsZWRQYXR0ZXJuID0gcGF0dGVyblt4XSAqIHVuaXRCYXJXaWR0aDtcbiAgICAgICAgICAgIHZhciB2YXJpYW5jZSA9IGNvdW50ZXIgPiBzY2FsZWRQYXR0ZXJuID8gY291bnRlciAtIHNjYWxlZFBhdHRlcm4gOiBzY2FsZWRQYXR0ZXJuIC0gY291bnRlcjtcbiAgICAgICAgICAgIGlmICh2YXJpYW5jZSA+IG1heEluZGl2aWR1YWxWYXJpYW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3RhbFZhcmlhbmNlICs9IHZhcmlhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3RhbFZhcmlhbmNlIC8gdG90YWw7XG4gICAgfTtcbiAgICByZXR1cm4gT25lRFJlYWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBPbmVEUmVhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T25lRFJlYWRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5vbmVkIHsqL1xuaW1wb3J0IEJhcmNvZGVGb3JtYXQgZnJvbSAnLi4vQmFyY29kZUZvcm1hdCc7XG5pbXBvcnQgQ2hlY2tzdW1FeGNlcHRpb24gZnJvbSAnLi4vQ2hlY2tzdW1FeGNlcHRpb24nO1xuaW1wb3J0IERlY29kZUhpbnRUeXBlIGZyb20gJy4uL0RlY29kZUhpbnRUeXBlJztcbmltcG9ydCBGb3JtYXRFeGNlcHRpb24gZnJvbSAnLi4vRm9ybWF0RXhjZXB0aW9uJztcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi9Ob3RGb3VuZEV4Y2VwdGlvbic7XG4vLyBpbXBvcnQgUmVhZGVyIGZyb20gJy4uL1JlYWRlcic7XG5pbXBvcnQgUmVzdWx0IGZyb20gJy4uL1Jlc3VsdCc7XG4vLyBpbXBvcnQgUmVzdWx0TWV0YWRhdGFUeXBlIGZyb20gJy4uL1Jlc3VsdE1ldGFkYXRhVHlwZSc7XG5pbXBvcnQgUmVzdWx0UG9pbnQgZnJvbSAnLi4vUmVzdWx0UG9pbnQnO1xuaW1wb3J0IE9uZURSZWFkZXIgZnJvbSAnLi9PbmVEUmVhZGVyJztcbi8qKlxuICogPHA+RGVjb2RlcyBDb2RlIDEyOCBiYXJjb2Rlcy48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIENvZGUxMjhSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENvZGUxMjhSZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29kZTEyOFJlYWRlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBDb2RlMTI4UmVhZGVyLmZpbmRTdGFydFBhdHRlcm4gPSBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHJvdy5nZXRTaXplKCk7XG4gICAgICAgIHZhciByb3dPZmZzZXQgPSByb3cuZ2V0TmV4dFNldCgwKTtcbiAgICAgICAgdmFyIGNvdW50ZXJQb3NpdGlvbiA9IDA7XG4gICAgICAgIHZhciBjb3VudGVycyA9IEludDMyQXJyYXkuZnJvbShbMCwgMCwgMCwgMCwgMCwgMF0pO1xuICAgICAgICB2YXIgcGF0dGVyblN0YXJ0ID0gcm93T2Zmc2V0O1xuICAgICAgICB2YXIgaXNXaGl0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgcGF0dGVybkxlbmd0aCA9IDY7XG4gICAgICAgIGZvciAodmFyIGkgPSByb3dPZmZzZXQ7IGkgPCB3aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocm93LmdldChpKSAhPT0gaXNXaGl0ZSkge1xuICAgICAgICAgICAgICAgIGNvdW50ZXJzW2NvdW50ZXJQb3NpdGlvbl0rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudGVyUG9zaXRpb24gPT09IChwYXR0ZXJuTGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJlc3RWYXJpYW5jZSA9IENvZGUxMjhSZWFkZXIuTUFYX0FWR19WQVJJQU5DRTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJlc3RNYXRjaCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzdGFydENvZGUgPSBDb2RlMTI4UmVhZGVyLkNPREVfU1RBUlRfQTsgc3RhcnRDb2RlIDw9IENvZGUxMjhSZWFkZXIuQ09ERV9TVEFSVF9DOyBzdGFydENvZGUrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhbmNlID0gT25lRFJlYWRlci5wYXR0ZXJuTWF0Y2hWYXJpYW5jZShjb3VudGVycywgQ29kZTEyOFJlYWRlci5DT0RFX1BBVFRFUk5TW3N0YXJ0Q29kZV0sIENvZGUxMjhSZWFkZXIuTUFYX0lORElWSURVQUxfVkFSSUFOQ0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhbmNlIDwgYmVzdFZhcmlhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdFZhcmlhbmNlID0gdmFyaWFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdE1hdGNoID0gc3RhcnRDb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIHdoaXRlc3BhY2UgYmVmb3JlIHN0YXJ0IHBhdHRlcm4sID49IDUwJSBvZiB3aWR0aCBvZiBzdGFydCBwYXR0ZXJuXG4gICAgICAgICAgICAgICAgICAgIGlmIChiZXN0TWF0Y2ggPj0gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LmlzUmFuZ2UoTWF0aC5tYXgoMCwgcGF0dGVyblN0YXJ0IC0gKGkgLSBwYXR0ZXJuU3RhcnQpIC8gMiksIHBhdHRlcm5TdGFydCwgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFtwYXR0ZXJuU3RhcnQsIGksIGJlc3RNYXRjaF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm5TdGFydCArPSBjb3VudGVyc1swXSArIGNvdW50ZXJzWzFdO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVycyA9IGNvdW50ZXJzLnNsaWNlKDIsIGNvdW50ZXJzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb24gLSAxXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJzW2NvdW50ZXJQb3NpdGlvbl0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyUG9zaXRpb24tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJQb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb25dID0gMTtcbiAgICAgICAgICAgICAgICBpc1doaXRlID0gIWlzV2hpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICBDb2RlMTI4UmVhZGVyLmRlY29kZUNvZGUgPSBmdW5jdGlvbiAocm93LCBjb3VudGVycywgcm93T2Zmc2V0KSB7XG4gICAgICAgIE9uZURSZWFkZXIucmVjb3JkUGF0dGVybihyb3csIHJvd09mZnNldCwgY291bnRlcnMpO1xuICAgICAgICB2YXIgYmVzdFZhcmlhbmNlID0gQ29kZTEyOFJlYWRlci5NQVhfQVZHX1ZBUklBTkNFOyAvLyB3b3JzdCB2YXJpYW5jZSB3ZSdsbCBhY2NlcHRcbiAgICAgICAgdmFyIGJlc3RNYXRjaCA9IC0xO1xuICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IENvZGUxMjhSZWFkZXIuQ09ERV9QQVRURVJOUy5sZW5ndGg7IGQrKykge1xuICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBDb2RlMTI4UmVhZGVyLkNPREVfUEFUVEVSTlNbZF07XG4gICAgICAgICAgICB2YXIgdmFyaWFuY2UgPSB0aGlzLnBhdHRlcm5NYXRjaFZhcmlhbmNlKGNvdW50ZXJzLCBwYXR0ZXJuLCBDb2RlMTI4UmVhZGVyLk1BWF9JTkRJVklEVUFMX1ZBUklBTkNFKTtcbiAgICAgICAgICAgIGlmICh2YXJpYW5jZSA8IGJlc3RWYXJpYW5jZSkge1xuICAgICAgICAgICAgICAgIGJlc3RWYXJpYW5jZSA9IHZhcmlhbmNlO1xuICAgICAgICAgICAgICAgIGJlc3RNYXRjaCA9IGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyBXZSdyZSBvdmVybG9va2luZyB0aGUgZmFjdCB0aGF0IHRoZSBTVE9QIHBhdHRlcm4gaGFzIDcgdmFsdWVzLCBub3QgNi5cbiAgICAgICAgaWYgKGJlc3RNYXRjaCA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gYmVzdE1hdGNoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvZGUxMjhSZWFkZXIucHJvdG90eXBlLmRlY29kZVJvdyA9IGZ1bmN0aW9uIChyb3dOdW1iZXIsIHJvdywgaGludHMpIHtcbiAgICAgICAgdmFyIGNvbnZlcnRGTkMxID0gaGludHMgJiYgKGhpbnRzLmdldChEZWNvZGVIaW50VHlwZS5BU1NVTUVfR1MxKSA9PT0gdHJ1ZSk7XG4gICAgICAgIHZhciBzdGFydFBhdHRlcm5JbmZvID0gQ29kZTEyOFJlYWRlci5maW5kU3RhcnRQYXR0ZXJuKHJvdyk7XG4gICAgICAgIHZhciBzdGFydENvZGUgPSBzdGFydFBhdHRlcm5JbmZvWzJdO1xuICAgICAgICB2YXIgY3VycmVudFJhd0NvZGVzSW5kZXggPSAwO1xuICAgICAgICB2YXIgcmF3Q29kZXMgPSBuZXcgVWludDhBcnJheSgyMCk7XG4gICAgICAgIHJhd0NvZGVzW2N1cnJlbnRSYXdDb2Rlc0luZGV4KytdID0gc3RhcnRDb2RlO1xuICAgICAgICB2YXIgY29kZVNldDtcbiAgICAgICAgc3dpdGNoIChzdGFydENvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ29kZTEyOFJlYWRlci5DT0RFX1NUQVJUX0E6XG4gICAgICAgICAgICAgICAgY29kZVNldCA9IENvZGUxMjhSZWFkZXIuQ09ERV9DT0RFX0E7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvZGUxMjhSZWFkZXIuQ09ERV9TVEFSVF9COlxuICAgICAgICAgICAgICAgIGNvZGVTZXQgPSBDb2RlMTI4UmVhZGVyLkNPREVfQ09ERV9CO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfU1RBUlRfQzpcbiAgICAgICAgICAgICAgICBjb2RlU2V0ID0gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgICAgIHZhciBpc05leHRTaGlmdGVkID0gZmFsc2U7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgdmFyIGxhc3RTdGFydCA9IHN0YXJ0UGF0dGVybkluZm9bMF07XG4gICAgICAgIHZhciBuZXh0U3RhcnQgPSBzdGFydFBhdHRlcm5JbmZvWzFdO1xuICAgICAgICB2YXIgY291bnRlcnMgPSBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDAsIDAsIDAsIDBdKTtcbiAgICAgICAgdmFyIGxhc3RDb2RlID0gMDtcbiAgICAgICAgdmFyIGNvZGUgPSAwO1xuICAgICAgICB2YXIgY2hlY2tzdW1Ub3RhbCA9IHN0YXJ0Q29kZTtcbiAgICAgICAgdmFyIG11bHRpcGxpZXIgPSAwO1xuICAgICAgICB2YXIgbGFzdENoYXJhY3Rlcldhc1ByaW50YWJsZSA9IHRydWU7XG4gICAgICAgIHZhciB1cHBlck1vZGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIHNoaWZ0VXBwZXJNb2RlID0gZmFsc2U7XG4gICAgICAgIHdoaWxlICghZG9uZSkge1xuICAgICAgICAgICAgdmFyIHVuc2hpZnQgPSBpc05leHRTaGlmdGVkO1xuICAgICAgICAgICAgaXNOZXh0U2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gU2F2ZSBvZmYgbGFzdCBjb2RlXG4gICAgICAgICAgICBsYXN0Q29kZSA9IGNvZGU7XG4gICAgICAgICAgICAvLyBEZWNvZGUgYW5vdGhlciBjb2RlIGZyb20gaW1hZ2VcbiAgICAgICAgICAgIGNvZGUgPSBDb2RlMTI4UmVhZGVyLmRlY29kZUNvZGUocm93LCBjb3VudGVycywgbmV4dFN0YXJ0KTtcbiAgICAgICAgICAgIHJhd0NvZGVzW2N1cnJlbnRSYXdDb2Rlc0luZGV4KytdID0gY29kZTtcbiAgICAgICAgICAgIC8vIFJlbWVtYmVyIHdoZXRoZXIgdGhlIGxhc3QgY29kZSB3YXMgcHJpbnRhYmxlIG9yIG5vdCAoZXhjbHVkaW5nIENPREVfU1RPUClcbiAgICAgICAgICAgIGlmIChjb2RlICE9PSBDb2RlMTI4UmVhZGVyLkNPREVfU1RPUCkge1xuICAgICAgICAgICAgICAgIGxhc3RDaGFyYWN0ZXJXYXNQcmludGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIHRvIGNoZWNrc3VtIGNvbXB1dGF0aW9uIChpZiBub3QgQ09ERV9TVE9QIG9mIGNvdXJzZSlcbiAgICAgICAgICAgIGlmIChjb2RlICE9PSBDb2RlMTI4UmVhZGVyLkNPREVfU1RPUCkge1xuICAgICAgICAgICAgICAgIG11bHRpcGxpZXIrKztcbiAgICAgICAgICAgICAgICBjaGVja3N1bVRvdGFsICs9IG11bHRpcGxpZXIgKiBjb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWR2YW5jZSB0byB3aGVyZSB0aGUgbmV4dCBjb2RlIHdpbGwgdG8gc3RhcnRcbiAgICAgICAgICAgIGxhc3RTdGFydCA9IG5leHRTdGFydDtcbiAgICAgICAgICAgIG5leHRTdGFydCArPSBjb3VudGVycy5yZWR1Y2UoZnVuY3Rpb24gKHByZXZpb3VzLCBjdXJyZW50KSB7IHJldHVybiBwcmV2aW91cyArIGN1cnJlbnQ7IH0sIDApO1xuICAgICAgICAgICAgLy8gVGFrZSBjYXJlIG9mIGlsbGVnYWwgc3RhcnQgY29kZXNcbiAgICAgICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ29kZTEyOFJlYWRlci5DT0RFX1NUQVJUX0E6XG4gICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfU1RBUlRfQjpcbiAgICAgICAgICAgICAgICBjYXNlIENvZGUxMjhSZWFkZXIuQ09ERV9TVEFSVF9DOlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKGNvZGVTZXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIENvZGUxMjhSZWFkZXIuQ09ERV9DT0RFX0E6XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlIDwgNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGlmdFVwcGVyTW9kZSA9PT0gdXBwZXJNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKCcgJy5jaGFyQ29kZUF0KDApICsgY29kZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKCcgJy5jaGFyQ29kZUF0KDApICsgY29kZSArIDEyOCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnRVcHBlck1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb2RlIDwgOTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGlmdFVwcGVyTW9kZSA9PT0gdXBwZXJNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGNvZGUgLSA2NCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGNvZGUgKyA2NCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnRVcHBlck1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGxldCBDT0RFX1NUT1AsIHdoaWNoIGFsd2F5cyBhcHBlYXJzLCBhZmZlY3Qgd2hldGhlciB3aGV0aGVyIHdlIHRoaW5rIHRoZSBsYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb2RlIHdhcyBwcmludGFibGUgb3Igbm90LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09IENvZGUxMjhSZWFkZXIuQ09ERV9TVE9QKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENoYXJhY3Rlcldhc1ByaW50YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfRk5DXzE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb252ZXJ0Rk5DMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHUzEgc3BlY2lmaWNhdGlvbiA1LjQuMy43LiBhbmQgNS40LjYuNC4gSWYgdGhlIGZpcnN0IGNoYXIgYWZ0ZXIgdGhlIHN0YXJ0IGNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBGTkMxIHRoZW4gdGhpcyBpcyBHUzEtMTI4LiBXZSBhZGQgdGhlIHN5bWJvbG9neSBpZGVudGlmaWVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXUMxJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdTMSBzcGVjaWZpY2F0aW9uIDUuNC43LjUuIEV2ZXJ5IHN1YnNlcXVlbnQgRk5DMSBpcyByZXR1cm5lZCBhcyBBU0NJSSAyOSAoR1MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMjkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29kZTEyOFJlYWRlci5DT0RFX0ZOQ18yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29kZTEyOFJlYWRlci5DT0RFX0ZOQ18zOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENvZGUxMjhSZWFkZXIuQ09ERV9GTkNfNF9BOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVwcGVyTW9kZSAmJiBzaGlmdFVwcGVyTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0VXBwZXJNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodXBwZXJNb2RlICYmIHNoaWZ0VXBwZXJNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlck1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0VXBwZXJNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGlmdFVwcGVyTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfU0hJRlQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV4dFNoaWZ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlU2V0ID0gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfQ09ERV9COlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlU2V0ID0gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfQ09ERV9DOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlU2V0ID0gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfU1RPUDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPCA5Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoaWZ0VXBwZXJNb2RlID09PSB1cHBlck1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoJyAnLmNoYXJDb2RlQXQoMCkgKyBjb2RlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoJyAnLmNoYXJDb2RlQXQoMCkgKyBjb2RlICsgMTI4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlmdFVwcGVyTW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09IENvZGUxMjhSZWFkZXIuQ09ERV9TVE9QKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENoYXJhY3Rlcldhc1ByaW50YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfRk5DXzE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb252ZXJ0Rk5DMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHUzEgc3BlY2lmaWNhdGlvbiA1LjQuMy43LiBhbmQgNS40LjYuNC4gSWYgdGhlIGZpcnN0IGNoYXIgYWZ0ZXIgdGhlIHN0YXJ0IGNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBGTkMxIHRoZW4gdGhpcyBpcyBHUzEtMTI4LiBXZSBhZGQgdGhlIHN5bWJvbG9neSBpZGVudGlmaWVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnXUMxJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdTMSBzcGVjaWZpY2F0aW9uIDUuNC43LjUuIEV2ZXJ5IHN1YnNlcXVlbnQgRk5DMSBpcyByZXR1cm5lZCBhcyBBU0NJSSAyOSAoR1MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoMjkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29kZTEyOFJlYWRlci5DT0RFX0ZOQ18yOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ29kZTEyOFJlYWRlci5DT0RFX0ZOQ18zOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENvZGUxMjhSZWFkZXIuQ09ERV9GTkNfNF9COlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVwcGVyTW9kZSAmJiBzaGlmdFVwcGVyTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0VXBwZXJNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodXBwZXJNb2RlICYmIHNoaWZ0VXBwZXJNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlck1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0VXBwZXJNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGlmdFVwcGVyTW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfU0hJRlQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV4dFNoaWZ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlU2V0ID0gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfQ09ERV9BOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlU2V0ID0gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfQ09ERV9DOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlU2V0ID0gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfU1RPUDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPCAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlIDwgMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGNvZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPT0gQ29kZTEyOFJlYWRlci5DT0RFX1NUT1ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2hhcmFjdGVyV2FzUHJpbnRhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENvZGUxMjhSZWFkZXIuQ09ERV9GTkNfMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnZlcnRGTkMxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdTMSBzcGVjaWZpY2F0aW9uIDUuNC4zLjcuIGFuZCA1LjQuNi40LiBJZiB0aGUgZmlyc3QgY2hhciBhZnRlciB0aGUgc3RhcnQgY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIEZOQzEgdGhlbiB0aGlzIGlzIEdTMS0xMjguIFdlIGFkZCB0aGUgc3ltYm9sb2d5IGlkZW50aWZpZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICddQzEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR1MxIHNwZWNpZmljYXRpb24gNS40LjcuNS4gRXZlcnkgc3Vic2VxdWVudCBGTkMxIGlzIHJldHVybmVkIGFzIEFTQ0lJIDI5IChHUylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgyOSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfQ09ERV9BOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlU2V0ID0gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfQ09ERV9COlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlU2V0ID0gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDb2RlMTI4UmVhZGVyLkNPREVfU1RPUDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVW5zaGlmdCBiYWNrIHRvIGFub3RoZXIgY29kZSBzZXQgaWYgd2Ugd2VyZSBzaGlmdGVkXG4gICAgICAgICAgICBpZiAodW5zaGlmdCkge1xuICAgICAgICAgICAgICAgIGNvZGVTZXQgPSBjb2RlU2V0ID09PSBDb2RlMTI4UmVhZGVyLkNPREVfQ09ERV9BID8gQ29kZTEyOFJlYWRlci5DT0RFX0NPREVfQiA6IENvZGUxMjhSZWFkZXIuQ09ERV9DT0RFX0E7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RQYXR0ZXJuU2l6ZSA9IG5leHRTdGFydCAtIGxhc3RTdGFydDtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGFtcGxlIHdoaXRlc3BhY2UgZm9sbG93aW5nIHBhdHRlcm4sIGJ1dCwgdG8gZG8gdGhpcyB3ZSBmaXJzdCBuZWVkIHRvIHJlbWVtYmVyIHRoYXRcbiAgICAgICAgLy8gd2UgZnVkZ2VkIGRlY29kaW5nIENPREVfU1RPUCBzaW5jZSBpdCBhY3R1YWxseSBoYXMgNyBiYXJzLCBub3QgNi4gVGhlcmUgaXMgYSBibGFjayBiYXIgbGVmdFxuICAgICAgICAvLyB0byByZWFkIG9mZi4gV291bGQgYmUgc2xpZ2h0bHkgYmV0dGVyIHRvIHByb3Blcmx5IHJlYWQuIEhlcmUgd2UganVzdCBza2lwIGl0OlxuICAgICAgICBuZXh0U3RhcnQgPSByb3cuZ2V0TmV4dFVuc2V0KG5leHRTdGFydCk7XG4gICAgICAgIGlmICghcm93LmlzUmFuZ2UobmV4dFN0YXJ0LCBNYXRoLm1pbihyb3cuZ2V0U2l6ZSgpLCBuZXh0U3RhcnQgKyAobmV4dFN0YXJ0IC0gbGFzdFN0YXJ0KSAvIDIpLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFB1bGwgb3V0IGZyb20gc3VtIHRoZSB2YWx1ZSBvZiB0aGUgcGVudWx0aW1hdGUgY2hlY2sgY29kZVxuICAgICAgICBjaGVja3N1bVRvdGFsIC09IG11bHRpcGxpZXIgKiBsYXN0Q29kZTtcbiAgICAgICAgLy8gbGFzdENvZGUgaXMgdGhlIGNoZWNrc3VtIHRoZW46XG4gICAgICAgIGlmIChjaGVja3N1bVRvdGFsICUgMTAzICE9PSBsYXN0Q29kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTmVlZCB0byBwdWxsIG91dCB0aGUgY2hlY2sgZGlnaXRzIGZyb20gc3RyaW5nXG4gICAgICAgIHZhciByZXN1bHRMZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICBpZiAocmVzdWx0TGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBmYWxzZSBwb3NpdGl2ZVxuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSBib3RoZXIgaWYgdGhlIHJlc3VsdCBoYWQgYXQgbGVhc3Qgb25lIGNoYXJhY3RlciwgYW5kIGlmIHRoZSBjaGVja3N1bSBkaWdpdCBoYXBwZW5lZCB0b1xuICAgICAgICAvLyBiZSBhIHByaW50YWJsZSBjaGFyYWN0ZXIuIElmIGl0IHdhcyBqdXN0IGludGVycHJldGVkIGFzIGEgY29udHJvbCBjb2RlLCBub3RoaW5nIHRvIHJlbW92ZS5cbiAgICAgICAgaWYgKHJlc3VsdExlbmd0aCA+IDAgJiYgbGFzdENoYXJhY3Rlcldhc1ByaW50YWJsZSkge1xuICAgICAgICAgICAgaWYgKGNvZGVTZXQgPT09IENvZGUxMjhSZWFkZXIuQ09ERV9DT0RFX0MpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyaW5nKDAsIHJlc3VsdExlbmd0aCAtIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cmluZygwLCByZXN1bHRMZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVmdCA9IChzdGFydFBhdHRlcm5JbmZvWzFdICsgc3RhcnRQYXR0ZXJuSW5mb1swXSkgLyAyLjA7XG4gICAgICAgIHZhciByaWdodCA9IGxhc3RTdGFydCArIGxhc3RQYXR0ZXJuU2l6ZSAvIDIuMDtcbiAgICAgICAgdmFyIHJhd0NvZGVzU2l6ZSA9IHJhd0NvZGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhd0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkocmF3Q29kZXNTaXplKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdDb2Rlc1NpemU7IGkrKykge1xuICAgICAgICAgICAgcmF3Qnl0ZXNbaV0gPSByYXdDb2Rlc1tpXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9pbnRzID0gW25ldyBSZXN1bHRQb2ludChsZWZ0LCByb3dOdW1iZXIpLCBuZXcgUmVzdWx0UG9pbnQocmlnaHQsIHJvd051bWJlcildO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3VsdChyZXN1bHQsIHJhd0J5dGVzLCAwLCBwb2ludHMsIEJhcmNvZGVGb3JtYXQuQ09ERV8xMjgsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICB9O1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9QQVRURVJOUyA9IFtcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAxLCAyLCAyLCAyLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMiwgMiwgMSwgMiwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDIsIDIsIDIsIDIsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAyLCAxLCAyLCAyLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMiwgMSwgMywgMiwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDMsIDEsIDIsIDIsIDJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAyLCAyLCAyLCAxLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMiwgMiwgMywgMSwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDMsIDIsIDIsIDEsIDJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAyLCAxLCAyLCAxLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMiwgMSwgMywgMSwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDMsIDEsIDIsIDEsIDJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAyLCAyLCAzLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMiwgMiwgMSwgMywgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDIsIDIsIDIsIDMsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAzLCAyLCAyLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMiwgMywgMSwgMiwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDIsIDMsIDIsIDIsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAyLCAzLCAyLCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMiwgMSwgMSwgMywgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDIsIDEsIDIsIDMsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAxLCAzLCAyLCAxLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMiwgMywgMSwgMSwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDEsIDIsIDEsIDMsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCAxLCAxLCAyLCAyLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMywgMiwgMSwgMSwgMiwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDIsIDEsIDIsIDIsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCAxLCAyLCAyLCAxLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMywgMiwgMiwgMSwgMSwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDIsIDIsIDIsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAxLCAyLCAxLCAyLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMSwgMiwgMywgMiwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDMsIDIsIDEsIDIsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAxLCAzLCAyLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMywgMSwgMSwgMiwgM10pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDMsIDEsIDMsIDIsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAyLCAzLCAxLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMywgMiwgMSwgMSwgM10pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDMsIDIsIDMsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAxLCAxLCAzLCAxLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMywgMSwgMSwgMSwgM10pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDMsIDEsIDMsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAyLCAxLCAzLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgMiwgMywgMywgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDMsIDIsIDEsIDMsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAzLCAxLCAyLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgMywgMywgMiwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDMsIDMsIDEsIDIsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCAxLCAzLCAxLCAyLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMSwgMSwgMywgMywgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDMsIDEsIDEsIDMsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAxLCAzLCAxLCAxLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMSwgMywgMywgMSwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDEsIDMsIDEsIDMsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCAxLCAxLCAxLCAyLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMywgMSwgMSwgMywgMiwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDMsIDEsIDEsIDIsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCAxLCAyLCAxLCAxLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMywgMSwgMiwgMywgMSwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDMsIDIsIDEsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCAxLCA0LCAxLCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMiwgMSwgNCwgMSwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzQsIDMsIDEsIDEsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAxLCAyLCAyLCA0XSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgMSwgNCwgMiwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDIsIDEsIDEsIDIsIDRdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAyLCAxLCA0LCAyLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgNCwgMSwgMSwgMiwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDQsIDEsIDIsIDIsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAyLCAyLCAxLCA0XSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgMiwgNCwgMSwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDIsIDIsIDEsIDEsIDRdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAyLCAyLCA0LCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgNCwgMiwgMSwgMSwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDQsIDIsIDIsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCA0LCAxLCAyLCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMiwgMSwgMSwgMSwgNF0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzQsIDEsIDMsIDEsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCA0LCAxLCAxLCAxLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMywgNCwgMSwgMSwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDEsIDEsIDIsIDQsIDJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAyLCAxLCAxLCA0LCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMiwgMSwgMiwgNCwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDEsIDQsIDIsIDEsIDJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAyLCA0LCAxLCAxLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMiwgNCwgMiwgMSwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzQsIDEsIDEsIDIsIDEsIDJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs0LCAyLCAxLCAxLCAxLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNCwgMiwgMSwgMiwgMSwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDEsIDIsIDEsIDQsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAxLCA0LCAxLCAyLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNCwgMSwgMiwgMSwgMiwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDEsIDEsIDEsIDQsIDNdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAxLCAzLCA0LCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMywgMSwgMSwgNCwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDEsIDQsIDEsIDEsIDNdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCA0LCAzLCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNCwgMSwgMSwgMSwgMSwgM10pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzQsIDEsIDEsIDMsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAzLCAxLCA0LCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgNCwgMSwgMywgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDEsIDEsIDEsIDQsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs0LCAxLCAxLCAxLCAzLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMSwgMSwgNCwgMSwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDEsIDEsIDIsIDEsIDRdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAxLCAxLCAyLCAzLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMywgMywgMSwgMSwgMSwgMl0pLFxuICAgIF07XG4gICAgQ29kZTEyOFJlYWRlci5NQVhfQVZHX1ZBUklBTkNFID0gMC4yNTtcbiAgICBDb2RlMTI4UmVhZGVyLk1BWF9JTkRJVklEVUFMX1ZBUklBTkNFID0gMC43O1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9TSElGVCA9IDk4O1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9DT0RFX0MgPSA5OTtcbiAgICBDb2RlMTI4UmVhZGVyLkNPREVfQ09ERV9CID0gMTAwO1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9DT0RFX0EgPSAxMDE7XG4gICAgQ29kZTEyOFJlYWRlci5DT0RFX0ZOQ18xID0gMTAyO1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9GTkNfMiA9IDk3O1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9GTkNfMyA9IDk2O1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9GTkNfNF9BID0gMTAxO1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9GTkNfNF9CID0gMTAwO1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9TVEFSVF9BID0gMTAzO1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9TVEFSVF9CID0gMTA0O1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9TVEFSVF9DID0gMTA1O1xuICAgIENvZGUxMjhSZWFkZXIuQ09ERV9TVE9QID0gMTA2O1xuICAgIHJldHVybiBDb2RlMTI4UmVhZGVyO1xufShPbmVEUmVhZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBDb2RlMTI4UmVhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29kZTEyOFJlYWRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5vbmVkIHsqL1xuaW1wb3J0IEJhcmNvZGVGb3JtYXQgZnJvbSAnLi4vQmFyY29kZUZvcm1hdCc7XG5pbXBvcnQgQ2hlY2tzdW1FeGNlcHRpb24gZnJvbSAnLi4vQ2hlY2tzdW1FeGNlcHRpb24nO1xuaW1wb3J0IEZvcm1hdEV4Y2VwdGlvbiBmcm9tICcuLi9Gb3JtYXRFeGNlcHRpb24nO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBPbmVEUmVhZGVyIGZyb20gJy4vT25lRFJlYWRlcic7XG5pbXBvcnQgUmVzdWx0IGZyb20gJy4uL1Jlc3VsdCc7XG5pbXBvcnQgUmVzdWx0UG9pbnQgZnJvbSAnLi4vUmVzdWx0UG9pbnQnO1xuLyoqXG4gKiA8cD5EZWNvZGVzIENvZGUgMzkgYmFyY29kZXMuIFN1cHBvcnRzIFwiRnVsbCBBU0NJSSBDb2RlIDM5XCIgaWYgVVNFX0NPREVfMzlfRVhURU5ERURfTU9ERSBpcyBzZXQuPC9wPlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKiBAc2VlIENvZGU5M1JlYWRlclxuICovXG52YXIgQ29kZTM5UmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDb2RlMzlSZWFkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlYWRlciB0aGF0IGFzc3VtZXMgYWxsIGVuY29kZWQgZGF0YSBpcyBkYXRhLCBhbmQgZG9lcyBub3QgdHJlYXQgdGhlIGZpbmFsXG4gICAgICogY2hhcmFjdGVyIGFzIGEgY2hlY2sgZGlnaXQuIEl0IHdpbGwgbm90IGRlY29kZWQgXCJleHRlbmRlZCBDb2RlIDM5XCIgc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIC8vIHB1YmxpYyBDb2RlMzlSZWFkZXIoKSB7XG4gICAgLy8gICB0aGlzKGZhbHNlKTtcbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlYWRlciB0aGF0IGNhbiBiZSBjb25maWd1cmVkIHRvIGNoZWNrIHRoZSBsYXN0IGNoYXJhY3RlciBhcyBhIGNoZWNrIGRpZ2l0LlxuICAgICAqIEl0IHdpbGwgbm90IGRlY29kZWQgXCJleHRlbmRlZCBDb2RlIDM5XCIgc2VxdWVuY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVzaW5nQ2hlY2tEaWdpdCBpZiB0cnVlLCB0cmVhdCB0aGUgbGFzdCBkYXRhIGNoYXJhY3RlciBhcyBhIGNoZWNrIGRpZ2l0LCBub3RcbiAgICAgKiBkYXRhLCBhbmQgdmVyaWZ5IHRoYXQgdGhlIGNoZWNrc3VtIHBhc3Nlcy5cbiAgICAgKi9cbiAgICAvLyBwdWJsaWMgQ29kZTM5UmVhZGVyKGJvb2xlYW4gdXNpbmdDaGVja0RpZ2l0KSB7XG4gICAgLy8gICB0aGlzKHVzaW5nQ2hlY2tEaWdpdCwgZmFsc2UpO1xuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmVhZGVyIHRoYXQgY2FuIGJlIGNvbmZpZ3VyZWQgdG8gY2hlY2sgdGhlIGxhc3QgY2hhcmFjdGVyIGFzIGEgY2hlY2sgZGlnaXQsXG4gICAgICogb3Igb3B0aW9uYWxseSBhdHRlbXB0IHRvIGRlY29kZSBcImV4dGVuZGVkIENvZGUgMzlcIiBzZXF1ZW5jZXMgdGhhdCBhcmUgdXNlZCB0byBlbmNvZGVcbiAgICAgKiB0aGUgZnVsbCBBU0NJSSBjaGFyYWN0ZXIgc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHVzaW5nQ2hlY2tEaWdpdCBpZiB0cnVlLCB0cmVhdCB0aGUgbGFzdCBkYXRhIGNoYXJhY3RlciBhcyBhIGNoZWNrIGRpZ2l0LCBub3RcbiAgICAgKiBkYXRhLCBhbmQgdmVyaWZ5IHRoYXQgdGhlIGNoZWNrc3VtIHBhc3Nlcy5cbiAgICAgKiBAcGFyYW0gZXh0ZW5kZWRNb2RlIGlmIHRydWUsIHdpbGwgYXR0ZW1wdCB0byBkZWNvZGUgZXh0ZW5kZWQgQ29kZSAzOSBzZXF1ZW5jZXMgaW4gdGhlXG4gICAgICogdGV4dC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDb2RlMzlSZWFkZXIodXNpbmdDaGVja0RpZ2l0LCBleHRlbmRlZE1vZGUpIHtcbiAgICAgICAgaWYgKHVzaW5nQ2hlY2tEaWdpdCA9PT0gdm9pZCAwKSB7IHVzaW5nQ2hlY2tEaWdpdCA9IGZhbHNlOyB9XG4gICAgICAgIGlmIChleHRlbmRlZE1vZGUgPT09IHZvaWQgMCkgeyBleHRlbmRlZE1vZGUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51c2luZ0NoZWNrRGlnaXQgPSB1c2luZ0NoZWNrRGlnaXQ7XG4gICAgICAgIF90aGlzLmV4dGVuZGVkTW9kZSA9IGV4dGVuZGVkTW9kZTtcbiAgICAgICAgX3RoaXMuZGVjb2RlUm93UmVzdWx0ID0gJyc7XG4gICAgICAgIF90aGlzLmNvdW50ZXJzID0gbmV3IEludDMyQXJyYXkoOSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ29kZTM5UmVhZGVyLnByb3RvdHlwZS5kZWNvZGVSb3cgPSBmdW5jdGlvbiAocm93TnVtYmVyLCByb3csIGhpbnRzKSB7XG4gICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICB2YXIgdGhlQ291bnRlcnMgPSB0aGlzLmNvdW50ZXJzO1xuICAgICAgICB0aGVDb3VudGVycy5maWxsKDApO1xuICAgICAgICB0aGlzLmRlY29kZVJvd1Jlc3VsdCA9ICcnO1xuICAgICAgICB2YXIgc3RhcnQgPSBDb2RlMzlSZWFkZXIuZmluZEFzdGVyaXNrUGF0dGVybihyb3csIHRoZUNvdW50ZXJzKTtcbiAgICAgICAgLy8gUmVhZCBvZmYgd2hpdGUgc3BhY2VcbiAgICAgICAgdmFyIG5leHRTdGFydCA9IHJvdy5nZXROZXh0U2V0KHN0YXJ0WzFdKTtcbiAgICAgICAgdmFyIGVuZCA9IHJvdy5nZXRTaXplKCk7XG4gICAgICAgIHZhciBkZWNvZGVkQ2hhcjtcbiAgICAgICAgdmFyIGxhc3RTdGFydDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgQ29kZTM5UmVhZGVyLnJlY29yZFBhdHRlcm4ocm93LCBuZXh0U3RhcnQsIHRoZUNvdW50ZXJzKTtcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gQ29kZTM5UmVhZGVyLnRvTmFycm93V2lkZVBhdHRlcm4odGhlQ291bnRlcnMpO1xuICAgICAgICAgICAgaWYgKHBhdHRlcm4gPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWNvZGVkQ2hhciA9IENvZGUzOVJlYWRlci5wYXR0ZXJuVG9DaGFyKHBhdHRlcm4pO1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVSb3dSZXN1bHQgKz0gZGVjb2RlZENoYXI7XG4gICAgICAgICAgICBsYXN0U3RhcnQgPSBuZXh0U3RhcnQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHRoZUNvdW50ZXJzXzEgPSAoZV8xID0gdm9pZCAwLCBfX3ZhbHVlcyh0aGVDb3VudGVycykpLCB0aGVDb3VudGVyc18xXzEgPSB0aGVDb3VudGVyc18xLm5leHQoKTsgIXRoZUNvdW50ZXJzXzFfMS5kb25lOyB0aGVDb3VudGVyc18xXzEgPSB0aGVDb3VudGVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IHRoZUNvdW50ZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXJ0ICs9IGNvdW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVDb3VudGVyc18xXzEgJiYgIXRoZUNvdW50ZXJzXzFfMS5kb25lICYmIChfYSA9IHRoZUNvdW50ZXJzXzEucmV0dXJuKSkgX2EuY2FsbCh0aGVDb3VudGVyc18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVhZCBvZmYgd2hpdGUgc3BhY2VcbiAgICAgICAgICAgIG5leHRTdGFydCA9IHJvdy5nZXROZXh0U2V0KG5leHRTdGFydCk7XG4gICAgICAgIH0gd2hpbGUgKGRlY29kZWRDaGFyICE9PSAnKicpO1xuICAgICAgICB0aGlzLmRlY29kZVJvd1Jlc3VsdCA9IHRoaXMuZGVjb2RlUm93UmVzdWx0LnN1YnN0cmluZygwLCB0aGlzLmRlY29kZVJvd1Jlc3VsdC5sZW5ndGggLSAxKTsgLy8gcmVtb3ZlIGFzdGVyaXNrXG4gICAgICAgIC8vIExvb2sgZm9yIHdoaXRlc3BhY2UgYWZ0ZXIgcGF0dGVybjpcbiAgICAgICAgdmFyIGxhc3RQYXR0ZXJuU2l6ZSA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciB0aGVDb3VudGVyc18yID0gX192YWx1ZXModGhlQ291bnRlcnMpLCB0aGVDb3VudGVyc18yXzEgPSB0aGVDb3VudGVyc18yLm5leHQoKTsgIXRoZUNvdW50ZXJzXzJfMS5kb25lOyB0aGVDb3VudGVyc18yXzEgPSB0aGVDb3VudGVyc18yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjb3VudGVyID0gdGhlQ291bnRlcnNfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxhc3RQYXR0ZXJuU2l6ZSArPSBjb3VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAodGhlQ291bnRlcnNfMl8xICYmICF0aGVDb3VudGVyc18yXzEuZG9uZSAmJiAoX2IgPSB0aGVDb3VudGVyc18yLnJldHVybikpIF9iLmNhbGwodGhlQ291bnRlcnNfMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdoaXRlU3BhY2VBZnRlckVuZCA9IG5leHRTdGFydCAtIGxhc3RTdGFydCAtIGxhc3RQYXR0ZXJuU2l6ZTtcbiAgICAgICAgLy8gSWYgNTAlIG9mIGxhc3QgcGF0dGVybiBzaXplLCBmb2xsb3dpbmcgbGFzdCBwYXR0ZXJuLCBpcyBub3Qgd2hpdGVzcGFjZSwgZmFpbFxuICAgICAgICAvLyAoYnV0IGlmIGl0J3Mgd2hpdGVzcGFjZSB0byB0aGUgdmVyeSBlbmQgb2YgdGhlIGltYWdlLCB0aGF0J3MgT0spXG4gICAgICAgIGlmIChuZXh0U3RhcnQgIT09IGVuZCAmJiAod2hpdGVTcGFjZUFmdGVyRW5kICogMikgPCBsYXN0UGF0dGVyblNpemUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnVzaW5nQ2hlY2tEaWdpdCkge1xuICAgICAgICAgICAgdmFyIG1heCA9IHRoaXMuZGVjb2RlUm93UmVzdWx0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB2YXIgdG90YWwgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IENvZGUzOVJlYWRlci5BTFBIQUJFVF9TVFJJTkcuaW5kZXhPZih0aGlzLmRlY29kZVJvd1Jlc3VsdC5jaGFyQXQoaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZGVjb2RlUm93UmVzdWx0LmNoYXJBdChtYXgpICE9PSBDb2RlMzlSZWFkZXIuQUxQSEFCRVRfU1RSSU5HLmNoYXJBdCh0b3RhbCAlIDQzKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDaGVja3N1bUV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kZWNvZGVSb3dSZXN1bHQgPSB0aGlzLmRlY29kZVJvd1Jlc3VsdC5zdWJzdHJpbmcoMCwgbWF4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWNvZGVSb3dSZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBmYWxzZSBwb3NpdGl2ZVxuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdFN0cmluZztcbiAgICAgICAgaWYgKHRoaXMuZXh0ZW5kZWRNb2RlKSB7XG4gICAgICAgICAgICByZXN1bHRTdHJpbmcgPSBDb2RlMzlSZWFkZXIuZGVjb2RlRXh0ZW5kZWQodGhpcy5kZWNvZGVSb3dSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0U3RyaW5nID0gdGhpcy5kZWNvZGVSb3dSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlZnQgPSAoc3RhcnRbMV0gKyBzdGFydFswXSkgLyAyLjA7XG4gICAgICAgIHZhciByaWdodCA9IGxhc3RTdGFydCArIGxhc3RQYXR0ZXJuU2l6ZSAvIDIuMDtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXN1bHQocmVzdWx0U3RyaW5nLCBudWxsLCAwLCBbbmV3IFJlc3VsdFBvaW50KGxlZnQsIHJvd051bWJlciksIG5ldyBSZXN1bHRQb2ludChyaWdodCwgcm93TnVtYmVyKV0sIEJhcmNvZGVGb3JtYXQuQ09ERV8zOSwgbmV3IERhdGUoKS5nZXRUaW1lKCkpO1xuICAgIH07XG4gICAgQ29kZTM5UmVhZGVyLmZpbmRBc3Rlcmlza1BhdHRlcm4gPSBmdW5jdGlvbiAocm93LCBjb3VudGVycykge1xuICAgICAgICB2YXIgd2lkdGggPSByb3cuZ2V0U2l6ZSgpO1xuICAgICAgICB2YXIgcm93T2Zmc2V0ID0gcm93LmdldE5leHRTZXQoMCk7XG4gICAgICAgIHZhciBjb3VudGVyUG9zaXRpb24gPSAwO1xuICAgICAgICB2YXIgcGF0dGVyblN0YXJ0ID0gcm93T2Zmc2V0O1xuICAgICAgICB2YXIgaXNXaGl0ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgcGF0dGVybkxlbmd0aCA9IGNvdW50ZXJzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IHJvd09mZnNldDsgaSA8IHdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyb3cuZ2V0KGkpICE9PSBpc1doaXRlKSB7XG4gICAgICAgICAgICAgICAgY291bnRlcnNbY291bnRlclBvc2l0aW9uXSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ZXJQb3NpdGlvbiA9PT0gcGF0dGVybkxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3Igd2hpdGVzcGFjZSBiZWZvcmUgc3RhcnQgcGF0dGVybiwgPj0gNTAlIG9mIHdpZHRoIG9mIHN0YXJ0IHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudG9OYXJyb3dXaWRlUGF0dGVybihjb3VudGVycykgPT09IENvZGUzOVJlYWRlci5BU1RFUklTS19FTkNPRElORyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcm93LmlzUmFuZ2UoTWF0aC5tYXgoMCwgcGF0dGVyblN0YXJ0IC0gTWF0aC5mbG9vcigoaSAtIHBhdHRlcm5TdGFydCkgLyAyKSksIHBhdHRlcm5TdGFydCwgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3BhdHRlcm5TdGFydCwgaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGF0dGVyblN0YXJ0ICs9IGNvdW50ZXJzWzBdICsgY291bnRlcnNbMV07XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJzLmNvcHlXaXRoaW4oMCwgMiwgMiArIGNvdW50ZXJQb3NpdGlvbiAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb24gLSAxXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJzW2NvdW50ZXJQb3NpdGlvbl0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyUG9zaXRpb24tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJQb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb25dID0gMTtcbiAgICAgICAgICAgICAgICBpc1doaXRlID0gIWlzV2hpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICAvLyBGb3IgZWZmaWNpZW5jeSwgcmV0dXJucyAtMSBvbiBmYWlsdXJlLiBOb3QgdGhyb3dpbmcgaGVyZSBzYXZlZCBhcyBtYW55IGFzIDcwMCBleGNlcHRpb25zXG4gICAgLy8gcGVyIGltYWdlIHdoZW4gdXNpbmcgc29tZSBvZiBvdXIgYmxhY2tib3ggaW1hZ2VzLlxuICAgIENvZGUzOVJlYWRlci50b05hcnJvd1dpZGVQYXR0ZXJuID0gZnVuY3Rpb24gKGNvdW50ZXJzKSB7XG4gICAgICAgIHZhciBlXzMsIF9hO1xuICAgICAgICB2YXIgbnVtQ291bnRlcnMgPSBjb3VudGVycy5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhOYXJyb3dDb3VudGVyID0gMDtcbiAgICAgICAgdmFyIHdpZGVDb3VudGVycztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIG1pbkNvdW50ZXIgPSAweDdmZmZmZmZmO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjb3VudGVyc18xID0gKGVfMyA9IHZvaWQgMCwgX192YWx1ZXMoY291bnRlcnMpKSwgY291bnRlcnNfMV8xID0gY291bnRlcnNfMS5uZXh0KCk7ICFjb3VudGVyc18xXzEuZG9uZTsgY291bnRlcnNfMV8xID0gY291bnRlcnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBjb3VudGVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyIDwgbWluQ291bnRlciAmJiBjb3VudGVyID4gbWF4TmFycm93Q291bnRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluQ291bnRlciA9IGNvdW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXJzXzFfMSAmJiAhY291bnRlcnNfMV8xLmRvbmUgJiYgKF9hID0gY291bnRlcnNfMS5yZXR1cm4pKSBfYS5jYWxsKGNvdW50ZXJzXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXhOYXJyb3dDb3VudGVyID0gbWluQ291bnRlcjtcbiAgICAgICAgICAgIHdpZGVDb3VudGVycyA9IDA7XG4gICAgICAgICAgICB2YXIgdG90YWxXaWRlQ291bnRlcnNXaWR0aCA9IDA7XG4gICAgICAgICAgICB2YXIgcGF0dGVybiA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUNvdW50ZXJzOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IGNvdW50ZXJzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjb3VudGVyID4gbWF4TmFycm93Q291bnRlcikge1xuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuIHw9IDEgPDwgKG51bUNvdW50ZXJzIC0gMSAtIGkpO1xuICAgICAgICAgICAgICAgICAgICB3aWRlQ291bnRlcnMrKztcbiAgICAgICAgICAgICAgICAgICAgdG90YWxXaWRlQ291bnRlcnNXaWR0aCArPSBjb3VudGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3aWRlQ291bnRlcnMgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3VuZCAzIHdpZGUgY291bnRlcnMsIGJ1dCBhcmUgdGhleSBjbG9zZSBlbm91Z2ggaW4gd2lkdGg/XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuIHBlcmZvcm0gYSBjaGVhcCwgY29uc2VydmF0aXZlIGNoZWNrIHRvIHNlZSBpZiBhbnkgaW5kaXZpZHVhbFxuICAgICAgICAgICAgICAgIC8vIGNvdW50ZXIgaXMgbW9yZSB0aGFuIDEuNSB0aW1lcyB0aGUgYXZlcmFnZTpcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUNvdW50ZXJzICYmIHdpZGVDb3VudGVycyA+IDA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IGNvdW50ZXJzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlciA+IG1heE5hcnJvd0NvdW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVDb3VudGVycy0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG90YWxXaWRlQ291bnRlcnNXaWR0aCA9IDMgKiBhdmVyYWdlLCBzbyB0aGlzIGNoZWNrcyBpZiBjb3VudGVyID49IDMvMiAqIGF2ZXJhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoY291bnRlciAqIDIpID49IHRvdGFsV2lkZUNvdW50ZXJzV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHdpZGVDb3VudGVycyA+IDMpO1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICBDb2RlMzlSZWFkZXIucGF0dGVyblRvQ2hhciA9IGZ1bmN0aW9uIChwYXR0ZXJuKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ29kZTM5UmVhZGVyLkNIQVJBQ1RFUl9FTkNPRElOR1MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChDb2RlMzlSZWFkZXIuQ0hBUkFDVEVSX0VOQ09ESU5HU1tpXSA9PT0gcGF0dGVybikge1xuICAgICAgICAgICAgICAgIHJldHVybiBDb2RlMzlSZWFkZXIuQUxQSEFCRVRfU1RSSU5HLmNoYXJBdChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0dGVybiA9PT0gQ29kZTM5UmVhZGVyLkFTVEVSSVNLX0VOQ09ESU5HKSB7XG4gICAgICAgICAgICByZXR1cm4gJyonO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgIH07XG4gICAgQ29kZTM5UmVhZGVyLmRlY29kZUV4dGVuZGVkID0gZnVuY3Rpb24gKGVuY29kZWQpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGVuY29kZWQubGVuZ3RoO1xuICAgICAgICB2YXIgZGVjb2RlZCA9ICcnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYyA9IGVuY29kZWQuY2hhckF0KGkpO1xuICAgICAgICAgICAgaWYgKGMgPT09ICcrJyB8fCBjID09PSAnJCcgfHwgYyA9PT0gJyUnIHx8IGMgPT09ICcvJykge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gZW5jb2RlZC5jaGFyQXQoaSArIDEpO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvZGVkQ2hhciA9ICdcXDAnO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICtBIHRvICtaIG1hcCB0byBhIHRvIHpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID49ICdBJyAmJiBuZXh0IDw9ICdaJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRDaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShuZXh0LmNoYXJDb2RlQXQoMCkgKyAzMik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnJCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkQSB0byAkWiBtYXAgdG8gY29udHJvbCBjb2RlcyBTSCB0byBTQlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPj0gJ0EnICYmIG5leHQgPD0gJ1onKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZENoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG5leHQuY2hhckNvZGVBdCgwKSAtIDY0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICclJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICVBIHRvICVFIG1hcCB0byBjb250cm9sIGNvZGVzIEVTQyB0byBVU1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQgPj0gJ0EnICYmIG5leHQgPD0gJ0UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZENoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG5leHQuY2hhckNvZGVBdCgwKSAtIDM4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPj0gJ0YnICYmIG5leHQgPD0gJ0onKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZENoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG5leHQuY2hhckNvZGVBdCgwKSAtIDExKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPj0gJ0snICYmIG5leHQgPD0gJ08nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZENoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG5leHQuY2hhckNvZGVBdCgwKSArIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPj0gJ1AnICYmIG5leHQgPD0gJ1QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZENoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG5leHQuY2hhckNvZGVBdCgwKSArIDQzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPT09ICdVJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRDaGFyID0gJ1xcMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ID09PSAnVicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkQ2hhciA9ICdAJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5leHQgPT09ICdXJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRDaGFyID0gJ2AnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV4dCA9PT0gJ1gnIHx8IG5leHQgPT09ICdZJyB8fCBuZXh0ID09PSAnWicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkQ2hhciA9ICdcXHg3Zic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAvQSB0byAvTyBtYXAgdG8gISB0byAsIGFuZCAvWiBtYXBzIHRvIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID49ICdBJyAmJiBuZXh0IDw9ICdPJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRDaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShuZXh0LmNoYXJDb2RlQXQoMCkgLSAzMik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXh0ID09PSAnWicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkQ2hhciA9ICc6JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNvZGVkICs9IGRlY29kZWRDaGFyO1xuICAgICAgICAgICAgICAgIC8vIGJ1bXAgdXAgaSBhZ2FpbiBzaW5jZSB3ZSByZWFkIHR3byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVjb2RlZCArPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNvZGVkO1xuICAgIH07XG4gICAgQ29kZTM5UmVhZGVyLkFMUEhBQkVUX1NUUklORyA9ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVotLiAkLyslJztcbiAgICAvKipcbiAgICAgKiBUaGVzZSByZXByZXNlbnQgdGhlIGVuY29kaW5ncyBvZiBjaGFyYWN0ZXJzLCBhcyBwYXR0ZXJucyBvZiB3aWRlIGFuZCBuYXJyb3cgYmFycy5cbiAgICAgKiBUaGUgOSBsZWFzdC1zaWduaWZpY2FudCBiaXRzIG9mIGVhY2ggaW50IGNvcnJlc3BvbmQgdG8gdGhlIHBhdHRlcm4gb2Ygd2lkZSBhbmQgbmFycm93LFxuICAgICAqIHdpdGggMXMgcmVwcmVzZW50aW5nIFwid2lkZVwiIGFuZCAwcyByZXByZXNlbnRpbmcgbmFycm93LlxuICAgICAqL1xuICAgIENvZGUzOVJlYWRlci5DSEFSQUNURVJfRU5DT0RJTkdTID0gW1xuICAgICAgICAweDAzNCwgMHgxMjEsIDB4MDYxLCAweDE2MCwgMHgwMzEsIDB4MTMwLCAweDA3MCwgMHgwMjUsIDB4MTI0LCAweDA2NCxcbiAgICAgICAgMHgxMDksIDB4MDQ5LCAweDE0OCwgMHgwMTksIDB4MTE4LCAweDA1OCwgMHgwMEQsIDB4MTBDLCAweDA0QywgMHgwMUMsXG4gICAgICAgIDB4MTAzLCAweDA0MywgMHgxNDIsIDB4MDEzLCAweDExMiwgMHgwNTIsIDB4MDA3LCAweDEwNiwgMHgwNDYsIDB4MDE2LFxuICAgICAgICAweDE4MSwgMHgwQzEsIDB4MUMwLCAweDA5MSwgMHgxOTAsIDB4MEQwLCAweDA4NSwgMHgxODQsIDB4MEM0LCAweDBBOCxcbiAgICAgICAgMHgwQTIsIDB4MDhBLCAweDAyQSAvLyAvLSVcbiAgICBdO1xuICAgIENvZGUzOVJlYWRlci5BU1RFUklTS19FTkNPRElORyA9IDB4MDk0O1xuICAgIHJldHVybiBDb2RlMzlSZWFkZXI7XG59KE9uZURSZWFkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IENvZGUzOVJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvZGUzOVJlYWRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5vbmVkIHsqL1xuaW1wb3J0IEJhcmNvZGVGb3JtYXQgZnJvbSAnLi4vQmFyY29kZUZvcm1hdCc7XG5pbXBvcnQgRGVjb2RlSGludFR5cGUgZnJvbSAnLi4vRGVjb2RlSGludFR5cGUnO1xuaW1wb3J0IEZvcm1hdEV4Y2VwdGlvbiBmcm9tICcuLi9Gb3JtYXRFeGNlcHRpb24nO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBSZXN1bHQgZnJvbSAnLi4vUmVzdWx0JztcbmltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi9SZXN1bHRQb2ludCc7XG5pbXBvcnQgU3RyaW5nQnVpbGRlciBmcm9tICcuLi91dGlsL1N0cmluZ0J1aWxkZXInO1xuaW1wb3J0IFN5c3RlbSBmcm9tICcuLi91dGlsL1N5c3RlbSc7XG5pbXBvcnQgT25lRFJlYWRlciBmcm9tICcuL09uZURSZWFkZXInO1xuLyoqXG4gKiA8cD5EZWNvZGVzIElURiBiYXJjb2Rlcy48L3A+XG4gKlxuICogQGF1dGhvciBUamllY29cbiAqL1xudmFyIElURlJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSVRGUmVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElURlJlYWRlcigpIHtcbiAgICAgICAgLy8gcHJpdmF0ZSBzdGF0aWMgVyA9IDM7IC8vIFBpeGVsIHdpZHRoIG9mIGEgM3ggd2lkZSBsaW5lXG4gICAgICAgIC8vIHByaXZhdGUgc3RhdGljIHcgPSAyOyAvLyBQaXhlbCB3aWR0aCBvZiBhIDJ4IHdpZGUgbGluZVxuICAgICAgICAvLyBwcml2YXRlIHN0YXRpYyBOID0gMTsgLy8gUGl4ZWQgd2lkdGggb2YgYSBuYXJyb3cgbGluZVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgLy8gU3RvcmVzIHRoZSBhY3R1YWwgbmFycm93IGxpbmUgd2lkdGggb2YgdGhlIGltYWdlIGJlaW5nIGRlY29kZWQuXG4gICAgICAgIF90aGlzLm5hcnJvd0xpbmVXaWR0aCA9IC0xO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8vIFNlZSBJVEZXcml0ZXIuUEFUVEVSTlNcbiAgICAvKlxuICBcbiAgICAvISoqXG4gICAgICogUGF0dGVybnMgb2YgV2lkZSAvIE5hcnJvdyBsaW5lcyB0byBpbmRpY2F0ZSBlYWNoIGRpZ2l0XG4gICAgICohL1xuICAgICovXG4gICAgSVRGUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVSb3cgPSBmdW5jdGlvbiAocm93TnVtYmVyLCByb3csIGhpbnRzKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAvLyBGaW5kIG91dCB3aGVyZSB0aGUgTWlkZGxlIHNlY3Rpb24gKHBheWxvYWQpIHN0YXJ0cyAmIGVuZHNcbiAgICAgICAgdmFyIHN0YXJ0UmFuZ2UgPSB0aGlzLmRlY29kZVN0YXJ0KHJvdyk7XG4gICAgICAgIHZhciBlbmRSYW5nZSA9IHRoaXMuZGVjb2RlRW5kKHJvdyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xuICAgICAgICBJVEZSZWFkZXIuZGVjb2RlTWlkZGxlKHJvdywgc3RhcnRSYW5nZVsxXSwgZW5kUmFuZ2VbMF0sIHJlc3VsdCk7XG4gICAgICAgIHZhciByZXN1bHRTdHJpbmcgPSByZXN1bHQudG9TdHJpbmcoKTtcbiAgICAgICAgdmFyIGFsbG93ZWRMZW5ndGhzID0gbnVsbDtcbiAgICAgICAgaWYgKGhpbnRzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGFsbG93ZWRMZW5ndGhzID0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlLkFMTE9XRURfTEVOR1RIUyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbG93ZWRMZW5ndGhzID09IG51bGwpIHtcbiAgICAgICAgICAgIGFsbG93ZWRMZW5ndGhzID0gSVRGUmVhZGVyLkRFRkFVTFRfQUxMT1dFRF9MRU5HVEhTO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRvIGF2b2lkIGZhbHNlIHBvc2l0aXZlcyB3aXRoIDJEIGJhcmNvZGVzIChhbmQgb3RoZXIgcGF0dGVybnMpLCBtYWtlXG4gICAgICAgIC8vIGFuIGFzc3VtcHRpb24gdGhhdCB0aGUgZGVjb2RlZCBzdHJpbmcgbXVzdCBiZSBhICdzdGFuZGFyZCcgbGVuZ3RoIGlmIGl0J3Mgc2hvcnRcbiAgICAgICAgdmFyIGxlbmd0aCA9IHJlc3VsdFN0cmluZy5sZW5ndGg7XG4gICAgICAgIHZhciBsZW5ndGhPSyA9IGZhbHNlO1xuICAgICAgICB2YXIgbWF4QWxsb3dlZExlbmd0aCA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBhbGxvd2VkTGVuZ3Roc18xID0gX192YWx1ZXMoYWxsb3dlZExlbmd0aHMpLCBhbGxvd2VkTGVuZ3Roc18xXzEgPSBhbGxvd2VkTGVuZ3Roc18xLm5leHQoKTsgIWFsbG93ZWRMZW5ndGhzXzFfMS5kb25lOyBhbGxvd2VkTGVuZ3Roc18xXzEgPSBhbGxvd2VkTGVuZ3Roc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGFsbG93ZWRMZW5ndGhzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGhPSyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiBtYXhBbGxvd2VkTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heEFsbG93ZWRMZW5ndGggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChhbGxvd2VkTGVuZ3Roc18xXzEgJiYgIWFsbG93ZWRMZW5ndGhzXzFfMS5kb25lICYmIChfYSA9IGFsbG93ZWRMZW5ndGhzXzEucmV0dXJuKSkgX2EuY2FsbChhbGxvd2VkTGVuZ3Roc18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxlbmd0aE9LICYmIGxlbmd0aCA+IG1heEFsbG93ZWRMZW5ndGgpIHtcbiAgICAgICAgICAgIGxlbmd0aE9LID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxlbmd0aE9LKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBvaW50cyA9IFtuZXcgUmVzdWx0UG9pbnQoc3RhcnRSYW5nZVsxXSwgcm93TnVtYmVyKSwgbmV3IFJlc3VsdFBvaW50KGVuZFJhbmdlWzBdLCByb3dOdW1iZXIpXTtcbiAgICAgICAgdmFyIHJlc3VsdFJldHVybiA9IG5ldyBSZXN1bHQocmVzdWx0U3RyaW5nLCBudWxsLCAvLyBubyBuYXR1cmFsIGJ5dGUgcmVwcmVzZW50YXRpb24gZm9yIHRoZXNlIGJhcmNvZGVzXG4gICAgICAgIDAsIHBvaW50cywgQmFyY29kZUZvcm1hdC5JVEYsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdFJldHVybjtcbiAgICB9O1xuICAgIC8qXG4gICAgLyEqKlxuICAgICAqIEBwYXJhbSByb3cgICAgICAgICAgcm93IG9mIGJsYWNrL3doaXRlIHZhbHVlcyB0byBzZWFyY2hcbiAgICAgKiBAcGFyYW0gcGF5bG9hZFN0YXJ0IG9mZnNldCBvZiBzdGFydCBwYXR0ZXJuXG4gICAgICogQHBhcmFtIHJlc3VsdFN0cmluZyB7QGxpbmsgU3RyaW5nQnVpbGRlcn0gdG8gYXBwZW5kIGRlY29kZWQgY2hhcnMgdG9cbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIGRlY29kaW5nIGNvdWxkIG5vdCBjb21wbGV0ZSBzdWNjZXNzZnVsbHlcbiAgICAgKiEvKi9cbiAgICBJVEZSZWFkZXIuZGVjb2RlTWlkZGxlID0gZnVuY3Rpb24gKHJvdywgcGF5bG9hZFN0YXJ0LCBwYXlsb2FkRW5kLCByZXN1bHRTdHJpbmcpIHtcbiAgICAgICAgLy8gRGlnaXRzIGFyZSBpbnRlcmxlYXZlZCBpbiBwYWlycyAtIDUgYmxhY2sgbGluZXMgZm9yIG9uZSBkaWdpdCwgYW5kIHRoZVxuICAgICAgICAvLyA1XG4gICAgICAgIC8vIGludGVybGVhdmVkIHdoaXRlIGxpbmVzIGZvciB0aGUgc2Vjb25kIGRpZ2l0LlxuICAgICAgICAvLyBUaGVyZWZvcmUsIG5lZWQgdG8gc2NhbiAxMCBsaW5lcyBhbmQgdGhlblxuICAgICAgICAvLyBzcGxpdCB0aGVzZSBpbnRvIHR3byBhcnJheXNcbiAgICAgICAgdmFyIGNvdW50ZXJEaWdpdFBhaXIgPSBuZXcgSW50MzJBcnJheSgxMCk7IC8vIDEwXG4gICAgICAgIHZhciBjb3VudGVyQmxhY2sgPSBuZXcgSW50MzJBcnJheSg1KTsgLy8gNVxuICAgICAgICB2YXIgY291bnRlcldoaXRlID0gbmV3IEludDMyQXJyYXkoNSk7IC8vIDVcbiAgICAgICAgY291bnRlckRpZ2l0UGFpci5maWxsKDApO1xuICAgICAgICBjb3VudGVyQmxhY2suZmlsbCgwKTtcbiAgICAgICAgY291bnRlcldoaXRlLmZpbGwoMCk7XG4gICAgICAgIHdoaWxlIChwYXlsb2FkU3RhcnQgPCBwYXlsb2FkRW5kKSB7XG4gICAgICAgICAgICAvLyBHZXQgMTAgcnVucyBvZiBibGFjay93aGl0ZS5cbiAgICAgICAgICAgIE9uZURSZWFkZXIucmVjb3JkUGF0dGVybihyb3csIHBheWxvYWRTdGFydCwgY291bnRlckRpZ2l0UGFpcik7XG4gICAgICAgICAgICAvLyBTcGxpdCB0aGVtIGludG8gZWFjaCBhcnJheVxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCA1OyBrKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdHdvSyA9IDIgKiBrO1xuICAgICAgICAgICAgICAgIGNvdW50ZXJCbGFja1trXSA9IGNvdW50ZXJEaWdpdFBhaXJbdHdvS107XG4gICAgICAgICAgICAgICAgY291bnRlcldoaXRlW2tdID0gY291bnRlckRpZ2l0UGFpclt0d29LICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYmVzdE1hdGNoID0gSVRGUmVhZGVyLmRlY29kZURpZ2l0KGNvdW50ZXJCbGFjayk7XG4gICAgICAgICAgICByZXN1bHRTdHJpbmcuYXBwZW5kKGJlc3RNYXRjaC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGJlc3RNYXRjaCA9IHRoaXMuZGVjb2RlRGlnaXQoY291bnRlcldoaXRlKTtcbiAgICAgICAgICAgIHJlc3VsdFN0cmluZy5hcHBlbmQoYmVzdE1hdGNoLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgY291bnRlckRpZ2l0UGFpci5mb3JFYWNoKGZ1bmN0aW9uIChjb3VudGVyRGlnaXQpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkU3RhcnQgKz0gY291bnRlckRpZ2l0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qLyEqKlxuICAgICAqIElkZW50aWZ5IHdoZXJlIHRoZSBzdGFydCBvZiB0aGUgbWlkZGxlIC8gcGF5bG9hZCBzZWN0aW9uIHN0YXJ0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByb3cgcm93IG9mIGJsYWNrL3doaXRlIHZhbHVlcyB0byBzZWFyY2hcbiAgICAgKiBAcmV0dXJuIEFycmF5LCBjb250YWluaW5nIGluZGV4IG9mIHN0YXJ0IG9mICdzdGFydCBibG9jaycgYW5kIGVuZCBvZlxuICAgICAqICAgICAgICAgJ3N0YXJ0IGJsb2NrJ1xuICAgICAqIS8qL1xuICAgIElURlJlYWRlci5wcm90b3R5cGUuZGVjb2RlU3RhcnQgPSBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciBlbmRTdGFydCA9IElURlJlYWRlci5za2lwV2hpdGVTcGFjZShyb3cpO1xuICAgICAgICB2YXIgc3RhcnRQYXR0ZXJuID0gSVRGUmVhZGVyLmZpbmRHdWFyZFBhdHRlcm4ocm93LCBlbmRTdGFydCwgSVRGUmVhZGVyLlNUQVJUX1BBVFRFUk4pO1xuICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIHdpZHRoIG9mIGEgbmFycm93IGxpbmUgaW4gcGl4ZWxzLiBXZSBjYW4gZG8gdGhpcyBieVxuICAgICAgICAvLyBnZXR0aW5nIHRoZSB3aWR0aCBvZiB0aGUgc3RhcnQgcGF0dGVybiBhbmQgZGl2aWRpbmcgYnkgNCBiZWNhdXNlIGl0c1xuICAgICAgICAvLyBtYWRlIHVwIG9mIDQgbmFycm93IGxpbmVzLlxuICAgICAgICB0aGlzLm5hcnJvd0xpbmVXaWR0aCA9IChzdGFydFBhdHRlcm5bMV0gLSBzdGFydFBhdHRlcm5bMF0pIC8gNDtcbiAgICAgICAgdGhpcy52YWxpZGF0ZVF1aWV0Wm9uZShyb3csIHN0YXJ0UGF0dGVyblswXSk7XG4gICAgICAgIHJldHVybiBzdGFydFBhdHRlcm47XG4gICAgfTtcbiAgICAvKi8hKipcbiAgICAgKiBUaGUgc3RhcnQgJiBlbmQgcGF0dGVybnMgbXVzdCBiZSBwcmUvcG9zdCBmaXhlZCBieSBhIHF1aWV0IHpvbmUuIFRoaXNcbiAgICAgKiB6b25lIG11c3QgYmUgYXQgbGVhc3QgMTAgdGltZXMgdGhlIHdpZHRoIG9mIGEgbmFycm93IGxpbmUuICBTY2FuIGJhY2sgdW50aWxcbiAgICAgKiB3ZSBlaXRoZXIgZ2V0IHRvIHRoZSBzdGFydCBvZiB0aGUgYmFyY29kZSBvciBtYXRjaCB0aGUgbmVjZXNzYXJ5IG51bWJlciBvZlxuICAgICAqIHF1aWV0IHpvbmUgcGl4ZWxzLlxuICAgICAqXG4gICAgICogTm90ZTogSXRzIGFzc3VtZWQgdGhlIHJvdyBpcyByZXZlcnNlZCB3aGVuIHVzaW5nIHRoaXMgbWV0aG9kIHRvIGZpbmRcbiAgICAgKiBxdWlldCB6b25lIGFmdGVyIHRoZSBlbmQgcGF0dGVybi5cbiAgICAgKlxuICAgICAqIHJlZjogaHR0cDovL3d3dy5iYXJjb2RlLTEubmV0L2kyNWNvZGUuaHRtbFxuICAgICAqXG4gICAgICogQHBhcmFtIHJvdyBiaXQgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBzY2FubmVkIGJhcmNvZGUuXG4gICAgICogQHBhcmFtIHN0YXJ0UGF0dGVybiBpbmRleCBpbnRvIHJvdyBvZiB0aGUgc3RhcnQgb3IgZW5kIHBhdHRlcm4uXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiB0aGUgcXVpZXQgem9uZSBjYW5ub3QgYmUgZm91bmRcbiAgICAgKiEvKi9cbiAgICBJVEZSZWFkZXIucHJvdG90eXBlLnZhbGlkYXRlUXVpZXRab25lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRQYXR0ZXJuKSB7XG4gICAgICAgIHZhciBxdWlldENvdW50ID0gdGhpcy5uYXJyb3dMaW5lV2lkdGggKiAxMDsgLy8gZXhwZWN0IHRvIGZpbmQgdGhpcyBtYW55IHBpeGVscyBvZiBxdWlldCB6b25lXG4gICAgICAgIC8vIGlmIHRoZXJlIGFyZSBub3Qgc28gbWFueSBwaXhlbCBhdCBhbGwgbGV0J3MgdHJ5IGFzIG1hbnkgYXMgcG9zc2libGVcbiAgICAgICAgcXVpZXRDb3VudCA9IHF1aWV0Q291bnQgPCBzdGFydFBhdHRlcm4gPyBxdWlldENvdW50IDogc3RhcnRQYXR0ZXJuO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRQYXR0ZXJuIC0gMTsgcXVpZXRDb3VudCA+IDAgJiYgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChyb3cuZ2V0KGkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxdWlldENvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHF1aWV0Q291bnQgIT09IDApIHtcbiAgICAgICAgICAgIC8vIFVuYWJsZSB0byBmaW5kIHRoZSBuZWNlc3NhcnkgbnVtYmVyIG9mIHF1aWV0IHpvbmUgcGl4ZWxzLlxuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXG4gICAgLyEqKlxuICAgICAqIFNraXAgYWxsIHdoaXRlc3BhY2UgdW50aWwgd2UgZ2V0IHRvIHRoZSBmaXJzdCBibGFjayBsaW5lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJvdyByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzIHRvIHNlYXJjaFxuICAgICAqIEByZXR1cm4gaW5kZXggb2YgdGhlIGZpcnN0IGJsYWNrIGxpbmUuXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBUaHJvd3MgZXhjZXB0aW9uIGlmIG5vIGJsYWNrIGxpbmVzIGFyZSBmb3VuZCBpbiB0aGUgcm93XG4gICAgICohLyovXG4gICAgSVRGUmVhZGVyLnNraXBXaGl0ZVNwYWNlID0gZnVuY3Rpb24gKHJvdykge1xuICAgICAgICB2YXIgd2lkdGggPSByb3cuZ2V0U2l6ZSgpO1xuICAgICAgICB2YXIgZW5kU3RhcnQgPSByb3cuZ2V0TmV4dFNldCgwKTtcbiAgICAgICAgaWYgKGVuZFN0YXJ0ID09PSB3aWR0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZFN0YXJ0O1xuICAgIH07XG4gICAgLyovISoqXG4gICAgICogSWRlbnRpZnkgd2hlcmUgdGhlIGVuZCBvZiB0aGUgbWlkZGxlIC8gcGF5bG9hZCBzZWN0aW9uIGVuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm93IHJvdyBvZiBibGFjay93aGl0ZSB2YWx1ZXMgdG8gc2VhcmNoXG4gICAgICogQHJldHVybiBBcnJheSwgY29udGFpbmluZyBpbmRleCBvZiBzdGFydCBvZiAnZW5kIGJsb2NrJyBhbmQgZW5kIG9mICdlbmRcbiAgICAgKiAgICAgICAgIGJsb2NrJ1xuICAgICAqIS8qL1xuICAgIElURlJlYWRlci5wcm90b3R5cGUuZGVjb2RlRW5kID0gZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAvLyBGb3IgY29udmVuaWVuY2UsIHJldmVyc2UgdGhlIHJvdyBhbmQgdGhlblxuICAgICAgICAvLyBzZWFyY2ggZnJvbSAndGhlIHN0YXJ0JyBmb3IgdGhlIGVuZCBibG9ja1xuICAgICAgICByb3cucmV2ZXJzZSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGVuZFN0YXJ0ID0gSVRGUmVhZGVyLnNraXBXaGl0ZVNwYWNlKHJvdyk7XG4gICAgICAgICAgICB2YXIgZW5kUGF0dGVybiA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZW5kUGF0dGVybiA9IElURlJlYWRlci5maW5kR3VhcmRQYXR0ZXJuKHJvdywgZW5kU3RhcnQsIElURlJlYWRlci5FTkRfUEFUVEVSTl9SRVZFUlNFRFswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBlbmRQYXR0ZXJuID0gSVRGUmVhZGVyLmZpbmRHdWFyZFBhdHRlcm4ocm93LCBlbmRTdGFydCwgSVRGUmVhZGVyLkVORF9QQVRURVJOX1JFVkVSU0VEWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgc3RhcnQgJiBlbmQgcGF0dGVybnMgbXVzdCBiZSBwcmUvcG9zdCBmaXhlZCBieSBhIHF1aWV0IHpvbmUuIFRoaXNcbiAgICAgICAgICAgIC8vIHpvbmUgbXVzdCBiZSBhdCBsZWFzdCAxMCB0aW1lcyB0aGUgd2lkdGggb2YgYSBuYXJyb3cgbGluZS5cbiAgICAgICAgICAgIC8vIHJlZjogaHR0cDovL3d3dy5iYXJjb2RlLTEubmV0L2kyNWNvZGUuaHRtbFxuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVF1aWV0Wm9uZShyb3csIGVuZFBhdHRlcm5bMF0pO1xuICAgICAgICAgICAgLy8gTm93IHJlY2FsY3VsYXRlIHRoZSBpbmRpY2VzIG9mIHdoZXJlIHRoZSAnZW5kYmxvY2snIHN0YXJ0cyAmIHN0b3BzIHRvXG4gICAgICAgICAgICAvLyBhY2NvbW1vZGF0ZVxuICAgICAgICAgICAgLy8gdGhlIHJldmVyc2VkIG5hdHVyZSBvZiB0aGUgc2VhcmNoXG4gICAgICAgICAgICB2YXIgdGVtcCA9IGVuZFBhdHRlcm5bMF07XG4gICAgICAgICAgICBlbmRQYXR0ZXJuWzBdID0gcm93LmdldFNpemUoKSAtIGVuZFBhdHRlcm5bMV07XG4gICAgICAgICAgICBlbmRQYXR0ZXJuWzFdID0gcm93LmdldFNpemUoKSAtIHRlbXA7XG4gICAgICAgICAgICByZXR1cm4gZW5kUGF0dGVybjtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIC8vIFB1dCB0aGUgcm93IGJhY2sgdGhlIHJpZ2h0IHdheS5cbiAgICAgICAgICAgIHJvdy5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXG4gICAgLyEqKlxuICAgICAqIEBwYXJhbSByb3cgICAgICAgcm93IG9mIGJsYWNrL3doaXRlIHZhbHVlcyB0byBzZWFyY2hcbiAgICAgKiBAcGFyYW0gcm93T2Zmc2V0IHBvc2l0aW9uIHRvIHN0YXJ0IHNlYXJjaFxuICAgICAqIEBwYXJhbSBwYXR0ZXJuICAgcGF0dGVybiBvZiBjb3VudHMgb2YgbnVtYmVyIG9mIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMgdGhhdCBhcmVcbiAgICAgKiAgICAgICAgICAgICAgICAgIGJlaW5nIHNlYXJjaGVkIGZvciBhcyBhIHBhdHRlcm5cbiAgICAgKiBAcmV0dXJuIHN0YXJ0L2VuZCBob3Jpem9udGFsIG9mZnNldCBvZiBndWFyZCBwYXR0ZXJuLCBhcyBhbiBhcnJheSBvZiB0d29cbiAgICAgKiAgICAgICAgIGludHNcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIHBhdHRlcm4gaXMgbm90IGZvdW5kXG4gICAgICohLyovXG4gICAgSVRGUmVhZGVyLmZpbmRHdWFyZFBhdHRlcm4gPSBmdW5jdGlvbiAocm93LCByb3dPZmZzZXQsIHBhdHRlcm4pIHtcbiAgICAgICAgdmFyIHBhdHRlcm5MZW5ndGggPSBwYXR0ZXJuLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvdW50ZXJzID0gbmV3IEludDMyQXJyYXkocGF0dGVybkxlbmd0aCk7XG4gICAgICAgIHZhciB3aWR0aCA9IHJvdy5nZXRTaXplKCk7XG4gICAgICAgIHZhciBpc1doaXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBjb3VudGVyUG9zaXRpb24gPSAwO1xuICAgICAgICB2YXIgcGF0dGVyblN0YXJ0ID0gcm93T2Zmc2V0O1xuICAgICAgICBjb3VudGVycy5maWxsKDApO1xuICAgICAgICBmb3IgKHZhciB4ID0gcm93T2Zmc2V0OyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgaWYgKHJvdy5nZXQoeCkgIT09IGlzV2hpdGUpIHtcbiAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb25dKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY291bnRlclBvc2l0aW9uID09PSBwYXR0ZXJuTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoT25lRFJlYWRlci5wYXR0ZXJuTWF0Y2hWYXJpYW5jZShjb3VudGVycywgcGF0dGVybiwgSVRGUmVhZGVyLk1BWF9JTkRJVklEVUFMX1ZBUklBTkNFKSA8IElURlJlYWRlci5NQVhfQVZHX1ZBUklBTkNFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3BhdHRlcm5TdGFydCwgeF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGF0dGVyblN0YXJ0ICs9IGNvdW50ZXJzWzBdICsgY291bnRlcnNbMV07XG4gICAgICAgICAgICAgICAgICAgIFN5c3RlbS5hcnJheWNvcHkoY291bnRlcnMsIDIsIGNvdW50ZXJzLCAwLCBjb3VudGVyUG9zaXRpb24gLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnNbY291bnRlclBvc2l0aW9uIC0gMV0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb25dID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclBvc2l0aW9uLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyUG9zaXRpb24rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY291bnRlcnNbY291bnRlclBvc2l0aW9uXSA9IDE7XG4gICAgICAgICAgICAgICAgaXNXaGl0ZSA9ICFpc1doaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgIH07XG4gICAgLyovISoqXG4gICAgICogQXR0ZW1wdHMgdG8gZGVjb2RlIGEgc2VxdWVuY2Ugb2YgSVRGIGJsYWNrL3doaXRlIGxpbmVzIGludG8gc2luZ2xlXG4gICAgICogZGlnaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY291bnRlcnMgdGhlIGNvdW50cyBvZiBydW5zIG9mIG9ic2VydmVkIGJsYWNrL3doaXRlL2JsYWNrLy4uLiB2YWx1ZXNcbiAgICAgKiBAcmV0dXJuIFRoZSBkZWNvZGVkIGRpZ2l0XG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBkaWdpdCBjYW5ub3QgYmUgZGVjb2RlZFxuICAgICAqIS8qL1xuICAgIElURlJlYWRlci5kZWNvZGVEaWdpdCA9IGZ1bmN0aW9uIChjb3VudGVycykge1xuICAgICAgICB2YXIgYmVzdFZhcmlhbmNlID0gSVRGUmVhZGVyLk1BWF9BVkdfVkFSSUFOQ0U7IC8vIHdvcnN0IHZhcmlhbmNlIHdlJ2xsIGFjY2VwdFxuICAgICAgICB2YXIgYmVzdE1hdGNoID0gLTE7XG4gICAgICAgIHZhciBtYXggPSBJVEZSZWFkZXIuUEFUVEVSTlMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGF0dGVybiA9IElURlJlYWRlci5QQVRURVJOU1tpXTtcbiAgICAgICAgICAgIHZhciB2YXJpYW5jZSA9IE9uZURSZWFkZXIucGF0dGVybk1hdGNoVmFyaWFuY2UoY291bnRlcnMsIHBhdHRlcm4sIElURlJlYWRlci5NQVhfSU5ESVZJRFVBTF9WQVJJQU5DRSk7XG4gICAgICAgICAgICBpZiAodmFyaWFuY2UgPCBiZXN0VmFyaWFuY2UpIHtcbiAgICAgICAgICAgICAgICBiZXN0VmFyaWFuY2UgPSB2YXJpYW5jZTtcbiAgICAgICAgICAgICAgICBiZXN0TWF0Y2ggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFyaWFuY2UgPT09IGJlc3RWYXJpYW5jZSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGZpbmQgYSBzZWNvbmQgJ2Jlc3QgbWF0Y2gnIHdpdGggdGhlIHNhbWUgdmFyaWFuY2UsIHdlIGNhbiBub3QgcmVsaWFibHkgcmVwb3J0IHRvIGhhdmUgYSBzdWl0YWJsZSBtYXRjaFxuICAgICAgICAgICAgICAgIGJlc3RNYXRjaCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChiZXN0TWF0Y2ggPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGJlc3RNYXRjaCAlIDEwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIElURlJlYWRlci5QQVRURVJOUyA9IFtcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAyLCAyLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMSwgMSwgMSwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDIsIDEsIDEsIDJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAyLCAxLCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgMiwgMSwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDEsIDIsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAyLCAyLCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgMSwgMiwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDEsIDEsIDIsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAyLCAxLCAyLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgMywgMywgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDEsIDEsIDEsIDNdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAzLCAxLCAxLCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMywgMywgMSwgMSwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDEsIDMsIDEsIDNdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCAxLCAzLCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMywgMywgMSwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDEsIDEsIDMsIDNdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCAxLCAxLCAzLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMywgMSwgMywgMV0pIC8vIDlcbiAgICBdO1xuICAgIElURlJlYWRlci5NQVhfQVZHX1ZBUklBTkNFID0gMC4zODtcbiAgICBJVEZSZWFkZXIuTUFYX0lORElWSURVQUxfVkFSSUFOQ0UgPSAwLjU7XG4gICAgLyogLyEqKiBWYWxpZCBJVEYgbGVuZ3Rocy4gQW55dGhpbmcgbG9uZ2VyIHRoYW4gdGhlIGxhcmdlc3QgdmFsdWUgaXMgYWxzbyBhbGxvd2VkLiAqIS8qL1xuICAgIElURlJlYWRlci5ERUZBVUxUX0FMTE9XRURfTEVOR1RIUyA9IFs2LCA4LCAxMCwgMTIsIDE0XTtcbiAgICAvKi8hKipcbiAgICAgKiBTdGFydC9lbmQgZ3VhcmQgcGF0dGVybi5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoZSBlbmQgcGF0dGVybiBpcyByZXZlcnNlZCBiZWNhdXNlIHRoZSByb3cgaXMgcmV2ZXJzZWQgYmVmb3JlXG4gICAgICogc2VhcmNoaW5nIGZvciB0aGUgRU5EX1BBVFRFUk5cbiAgICAgKiEvKi9cbiAgICBJVEZSZWFkZXIuU1RBUlRfUEFUVEVSTiA9IEludDMyQXJyYXkuZnJvbShbMSwgMSwgMSwgMV0pO1xuICAgIElURlJlYWRlci5FTkRfUEFUVEVSTl9SRVZFUlNFRCA9IFtcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgM10pIC8vIDN4XG4gICAgXTtcbiAgICByZXR1cm4gSVRGUmVhZGVyO1xufShPbmVEUmVhZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBJVEZSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JVEZSZWFkZXIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBPbmVEUmVhZGVyIGZyb20gJy4vT25lRFJlYWRlcic7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuaW1wb3J0IEZvcm1hdEV4Y2VwdGlvbiBmcm9tICcuLi9Gb3JtYXRFeGNlcHRpb24nO1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgZnVuY3Rpb25hbGl0eSBhbmQgaW1wbGVtZW50YXRpb24gdGhhdCBpcyBjb21tb24gdG8gVVBDIGFuZCBFQU4gZmFtaWxpZXNcbiAqIG9mIG9uZS1kaW1lbnNpb25hbCBiYXJjb2Rlcy48L3A+XG4gKlxuICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbilcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKiBAYXV0aG9yIGFsYXNkYWlyQGdvb2dsZS5jb20gKEFsYXNkYWlyIE1hY2tpbnRvc2gpXG4gKi9cbnZhciBBYnN0cmFjdFVQQ0VBTlJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RVUENFQU5SZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RVUENFQU5SZWFkZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWNvZGVSb3dTdHJpbmdCdWZmZXIgPSAnJztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvLyBwcml2YXRlIGZpbmFsIFVQQ0VBTkV4dGVuc2lvblN1cHBvcnQgZXh0ZW5zaW9uUmVhZGVyO1xuICAgIC8vIHByaXZhdGUgZmluYWwgRUFOTWFudWZhY3R1cmVyT3JnU3VwcG9ydCBlYW5NYW5TdXBwb3J0O1xuICAgIC8qXG4gICAgcHJvdGVjdGVkIFVQQ0VBTlJlYWRlcigpIHtcbiAgICAgICAgZGVjb2RlUm93U3RyaW5nQnVmZmVyID0gbmV3IFN0cmluZ0J1aWxkZXIoMjApO1xuICAgICAgICBleHRlbnNpb25SZWFkZXIgPSBuZXcgVVBDRUFORXh0ZW5zaW9uU3VwcG9ydCgpO1xuICAgICAgICBlYW5NYW5TdXBwb3J0ID0gbmV3IEVBTk1hbnVmYWN0dXJlck9yZ1N1cHBvcnQoKTtcbiAgICB9XG4gICAgKi9cbiAgICBBYnN0cmFjdFVQQ0VBTlJlYWRlci5maW5kU3RhcnRHdWFyZFBhdHRlcm4gPSBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciBmb3VuZFN0YXJ0ID0gZmFsc2U7XG4gICAgICAgIHZhciBzdGFydFJhbmdlO1xuICAgICAgICB2YXIgbmV4dFN0YXJ0ID0gMDtcbiAgICAgICAgdmFyIGNvdW50ZXJzID0gSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSk7XG4gICAgICAgIHdoaWxlICghZm91bmRTdGFydCkge1xuICAgICAgICAgICAgY291bnRlcnMgPSBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKTtcbiAgICAgICAgICAgIHN0YXJ0UmFuZ2UgPSBBYnN0cmFjdFVQQ0VBTlJlYWRlci5maW5kR3VhcmRQYXR0ZXJuKHJvdywgbmV4dFN0YXJ0LCBmYWxzZSwgdGhpcy5TVEFSVF9FTkRfUEFUVEVSTiwgY291bnRlcnMpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gc3RhcnRSYW5nZVswXTtcbiAgICAgICAgICAgIG5leHRTdGFydCA9IHN0YXJ0UmFuZ2VbMV07XG4gICAgICAgICAgICB2YXIgcXVpZXRTdGFydCA9IHN0YXJ0IC0gKG5leHRTdGFydCAtIHN0YXJ0KTtcbiAgICAgICAgICAgIGlmIChxdWlldFN0YXJ0ID49IDApIHtcbiAgICAgICAgICAgICAgICBmb3VuZFN0YXJ0ID0gcm93LmlzUmFuZ2UocXVpZXRTdGFydCwgc3RhcnQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhcnRSYW5nZTtcbiAgICB9O1xuICAgIEFic3RyYWN0VVBDRUFOUmVhZGVyLmNoZWNrQ2hlY2tzdW0gPSBmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gQWJzdHJhY3RVUENFQU5SZWFkZXIuY2hlY2tTdGFuZGFyZFVQQ0VBTkNoZWNrc3VtKHMpO1xuICAgIH07XG4gICAgQWJzdHJhY3RVUENFQU5SZWFkZXIuY2hlY2tTdGFuZGFyZFVQQ0VBTkNoZWNrc3VtID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgY2hlY2sgPSBwYXJzZUludChzLmNoYXJBdChsZW5ndGggLSAxKSwgMTApO1xuICAgICAgICByZXR1cm4gQWJzdHJhY3RVUENFQU5SZWFkZXIuZ2V0U3RhbmRhcmRVUENFQU5DaGVja3N1bShzLnN1YnN0cmluZygwLCBsZW5ndGggLSAxKSkgPT09IGNoZWNrO1xuICAgIH07XG4gICAgQWJzdHJhY3RVUENFQU5SZWFkZXIuZ2V0U3RhbmRhcmRVUENFQU5DaGVja3N1bSA9IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN1bSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSBsZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMikge1xuICAgICAgICAgICAgdmFyIGRpZ2l0ID0gcy5jaGFyQXQoaSkuY2hhckNvZGVBdCgwKSAtICcwJy5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgaWYgKGRpZ2l0IDwgMCB8fCBkaWdpdCA+IDkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdW0gKz0gZGlnaXQ7XG4gICAgICAgIH1cbiAgICAgICAgc3VtICo9IDM7XG4gICAgICAgIGZvciAodmFyIGkgPSBsZW5ndGggLSAyOyBpID49IDA7IGkgLT0gMikge1xuICAgICAgICAgICAgdmFyIGRpZ2l0ID0gcy5jaGFyQXQoaSkuY2hhckNvZGVBdCgwKSAtICcwJy5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgaWYgKGRpZ2l0IDwgMCB8fCBkaWdpdCA+IDkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdW0gKz0gZGlnaXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgxMDAwIC0gc3VtKSAlIDEwO1xuICAgIH07XG4gICAgQWJzdHJhY3RVUENFQU5SZWFkZXIuZGVjb2RlRW5kID0gZnVuY3Rpb24gKHJvdywgZW5kU3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIEFic3RyYWN0VVBDRUFOUmVhZGVyLmZpbmRHdWFyZFBhdHRlcm4ocm93LCBlbmRTdGFydCwgZmFsc2UsIEFic3RyYWN0VVBDRUFOUmVhZGVyLlNUQVJUX0VORF9QQVRURVJOLCBuZXcgSW50MzJBcnJheShBYnN0cmFjdFVQQ0VBTlJlYWRlci5TVEFSVF9FTkRfUEFUVEVSTi5sZW5ndGgpLmZpbGwoMCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvblxuICAgICAqL1xuICAgIEFic3RyYWN0VVBDRUFOUmVhZGVyLmZpbmRHdWFyZFBhdHRlcm5XaXRob3V0Q291bnRlcnMgPSBmdW5jdGlvbiAocm93LCByb3dPZmZzZXQsIHdoaXRlRmlyc3QsIHBhdHRlcm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEd1YXJkUGF0dGVybihyb3csIHJvd09mZnNldCwgd2hpdGVGaXJzdCwgcGF0dGVybiwgbmV3IEludDMyQXJyYXkocGF0dGVybi5sZW5ndGgpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSByb3cgcm93IG9mIGJsYWNrL3doaXRlIHZhbHVlcyB0byBzZWFyY2hcbiAgICAgKiBAcGFyYW0gcm93T2Zmc2V0IHBvc2l0aW9uIHRvIHN0YXJ0IHNlYXJjaFxuICAgICAqIEBwYXJhbSB3aGl0ZUZpcnN0IGlmIHRydWUsIGluZGljYXRlcyB0aGF0IHRoZSBwYXR0ZXJuIHNwZWNpZmllcyB3aGl0ZS9ibGFjay93aGl0ZS8uLi5cbiAgICAgKiBwaXhlbCBjb3VudHMsIG90aGVyd2lzZSwgaXQgaXMgaW50ZXJwcmV0ZWQgYXMgYmxhY2svd2hpdGUvYmxhY2svLi4uXG4gICAgICogQHBhcmFtIHBhdHRlcm4gcGF0dGVybiBvZiBjb3VudHMgb2YgbnVtYmVyIG9mIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMgdGhhdCBhcmUgYmVpbmdcbiAgICAgKiBzZWFyY2hlZCBmb3IgYXMgYSBwYXR0ZXJuXG4gICAgICogQHBhcmFtIGNvdW50ZXJzIGFycmF5IG9mIGNvdW50ZXJzLCBhcyBsb25nIGFzIHBhdHRlcm4sIHRvIHJlLXVzZVxuICAgICAqIEByZXR1cm4gc3RhcnQvZW5kIGhvcml6b250YWwgb2Zmc2V0IG9mIGd1YXJkIHBhdHRlcm4sIGFzIGFuIGFycmF5IG9mIHR3byBpbnRzXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBwYXR0ZXJuIGlzIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIEFic3RyYWN0VVBDRUFOUmVhZGVyLmZpbmRHdWFyZFBhdHRlcm4gPSBmdW5jdGlvbiAocm93LCByb3dPZmZzZXQsIHdoaXRlRmlyc3QsIHBhdHRlcm4sIGNvdW50ZXJzKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHJvdy5nZXRTaXplKCk7XG4gICAgICAgIHJvd09mZnNldCA9IHdoaXRlRmlyc3QgPyByb3cuZ2V0TmV4dFVuc2V0KHJvd09mZnNldCkgOiByb3cuZ2V0TmV4dFNldChyb3dPZmZzZXQpO1xuICAgICAgICB2YXIgY291bnRlclBvc2l0aW9uID0gMDtcbiAgICAgICAgdmFyIHBhdHRlcm5TdGFydCA9IHJvd09mZnNldDtcbiAgICAgICAgdmFyIHBhdHRlcm5MZW5ndGggPSBwYXR0ZXJuLmxlbmd0aDtcbiAgICAgICAgdmFyIGlzV2hpdGUgPSB3aGl0ZUZpcnN0O1xuICAgICAgICBmb3IgKHZhciB4ID0gcm93T2Zmc2V0OyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgaWYgKHJvdy5nZXQoeCkgIT09IGlzV2hpdGUpIHtcbiAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb25dKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY291bnRlclBvc2l0aW9uID09PSBwYXR0ZXJuTGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoT25lRFJlYWRlci5wYXR0ZXJuTWF0Y2hWYXJpYW5jZShjb3VudGVycywgcGF0dGVybiwgQWJzdHJhY3RVUENFQU5SZWFkZXIuTUFYX0lORElWSURVQUxfVkFSSUFOQ0UpIDwgQWJzdHJhY3RVUENFQU5SZWFkZXIuTUFYX0FWR19WQVJJQU5DRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEludDMyQXJyYXkuZnJvbShbcGF0dGVyblN0YXJ0LCB4XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGF0dGVyblN0YXJ0ICs9IGNvdW50ZXJzWzBdICsgY291bnRlcnNbMV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBzbGljZSA9IGNvdW50ZXJzLnNsaWNlKDIsIGNvdW50ZXJzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50ZXJQb3NpdGlvbiAtIDE7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcnNbaV0gPSBzbGljZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb24gLSAxXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJzW2NvdW50ZXJQb3NpdGlvbl0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyUG9zaXRpb24tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJQb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb25dID0gMTtcbiAgICAgICAgICAgICAgICBpc1doaXRlID0gIWlzV2hpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICBBYnN0cmFjdFVQQ0VBTlJlYWRlci5kZWNvZGVEaWdpdCA9IGZ1bmN0aW9uIChyb3csIGNvdW50ZXJzLCByb3dPZmZzZXQsIHBhdHRlcm5zKSB7XG4gICAgICAgIHRoaXMucmVjb3JkUGF0dGVybihyb3csIHJvd09mZnNldCwgY291bnRlcnMpO1xuICAgICAgICB2YXIgYmVzdFZhcmlhbmNlID0gdGhpcy5NQVhfQVZHX1ZBUklBTkNFO1xuICAgICAgICB2YXIgYmVzdE1hdGNoID0gLTE7XG4gICAgICAgIHZhciBtYXggPSBwYXR0ZXJucy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gcGF0dGVybnNbaV07XG4gICAgICAgICAgICB2YXIgdmFyaWFuY2UgPSBPbmVEUmVhZGVyLnBhdHRlcm5NYXRjaFZhcmlhbmNlKGNvdW50ZXJzLCBwYXR0ZXJuLCBBYnN0cmFjdFVQQ0VBTlJlYWRlci5NQVhfSU5ESVZJRFVBTF9WQVJJQU5DRSk7XG4gICAgICAgICAgICBpZiAodmFyaWFuY2UgPCBiZXN0VmFyaWFuY2UpIHtcbiAgICAgICAgICAgICAgICBiZXN0VmFyaWFuY2UgPSB2YXJpYW5jZTtcbiAgICAgICAgICAgICAgICBiZXN0TWF0Y2ggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChiZXN0TWF0Y2ggPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGJlc3RNYXRjaDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBUaGVzZSB0d28gdmFsdWVzIGFyZSBjcml0aWNhbCBmb3IgZGV0ZXJtaW5pbmcgaG93IHBlcm1pc3NpdmUgdGhlIGRlY29kaW5nIHdpbGwgYmUuXG4gICAgLy8gV2UndmUgYXJyaXZlZCBhdCB0aGVzZSB2YWx1ZXMgdGhyb3VnaCBhIGxvdCBvZiB0cmlhbCBhbmQgZXJyb3IuIFNldHRpbmcgdGhlbSBhbnkgaGlnaGVyXG4gICAgLy8gbGV0cyBmYWxzZSBwb3NpdGl2ZXMgY3JlZXAgaW4gcXVpY2tseS5cbiAgICBBYnN0cmFjdFVQQ0VBTlJlYWRlci5NQVhfQVZHX1ZBUklBTkNFID0gMC40ODtcbiAgICBBYnN0cmFjdFVQQ0VBTlJlYWRlci5NQVhfSU5ESVZJRFVBTF9WQVJJQU5DRSA9IDAuNztcbiAgICAvKipcbiAgICAgKiBTdGFydC9lbmQgZ3VhcmQgcGF0dGVybi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFVQQ0VBTlJlYWRlci5TVEFSVF9FTkRfUEFUVEVSTiA9IEludDMyQXJyYXkuZnJvbShbMSwgMSwgMV0pO1xuICAgIC8qKlxuICAgICAqIFBhdHRlcm4gbWFya2luZyB0aGUgbWlkZGxlIG9mIGEgVVBDL0VBTiBwYXR0ZXJuLCBzZXBhcmF0aW5nIHRoZSB0d28gaGFsdmVzLlxuICAgICAqL1xuICAgIEFic3RyYWN0VVBDRUFOUmVhZGVyLk1JRERMRV9QQVRURVJOID0gSW50MzJBcnJheS5mcm9tKFsxLCAxLCAxLCAxLCAxXSk7XG4gICAgLyoqXG4gICAgICogZW5kIGd1YXJkIHBhdHRlcm4uXG4gICAgICovXG4gICAgQWJzdHJhY3RVUENFQU5SZWFkZXIuRU5EX1BBVFRFUk4gPSBJbnQzMkFycmF5LmZyb20oWzEsIDEsIDEsIDEsIDEsIDFdKTtcbiAgICAvKipcbiAgICAgKiBcIk9kZFwiLCBvciBcIkxcIiBwYXR0ZXJucyB1c2VkIHRvIGVuY29kZSBVUEMvRUFOIGRpZ2l0cy5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFVQQ0VBTlJlYWRlci5MX1BBVFRFUk5TID0gW1xuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDIsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCAyLCAyLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMSwgMiwgMl0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDQsIDEsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAzLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMiwgMywgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDEsIDEsIDRdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAzLCAxLCAyXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMiwgMSwgM10pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDEsIDEsIDJdKSxcbiAgICBdO1xuICAgIHJldHVybiBBYnN0cmFjdFVQQ0VBTlJlYWRlcjtcbn0oT25lRFJlYWRlcikpO1xuZXhwb3J0IGRlZmF1bHQgQWJzdHJhY3RVUENFQU5SZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdFVQQ0VBTlJlYWRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDEwIFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5pbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuLi9CYXJjb2RlRm9ybWF0Jztcbi8vIGltcG9ydCBVUENFQU5SZWFkZXIgZnJvbSAnLi9VUENFQU5SZWFkZXInO1xuaW1wb3J0IEFic3RyYWN0VVBDRUFOUmVhZGVyIGZyb20gJy4vQWJzdHJhY3RVUENFQU5SZWFkZXInO1xuaW1wb3J0IFJlc3VsdCBmcm9tICcuLi9SZXN1bHQnO1xuaW1wb3J0IFJlc3VsdFBvaW50IGZyb20gJy4uL1Jlc3VsdFBvaW50JztcbmltcG9ydCBSZXN1bHRNZXRhZGF0YVR5cGUgZnJvbSAnLi4vUmVzdWx0TWV0YWRhdGFUeXBlJztcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi9Ob3RGb3VuZEV4Y2VwdGlvbic7XG4vKipcbiAqIEBzZWUgVVBDRUFORXh0ZW5zaW9uMlN1cHBvcnRcbiAqL1xudmFyIFVQQ0VBTkV4dGVuc2lvbjVTdXBwb3J0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVQQ0VBTkV4dGVuc2lvbjVTdXBwb3J0KCkge1xuICAgICAgICB0aGlzLkNIRUNLX0RJR0lUX0VOQ09ESU5HUyA9IFsweDE4LCAweDE0LCAweDEyLCAweDExLCAweDBDLCAweDA2LCAweDAzLCAweDBBLCAweDA5LCAweDA1XTtcbiAgICAgICAgdGhpcy5kZWNvZGVNaWRkbGVDb3VudGVycyA9IEludDMyQXJyYXkuZnJvbShbMCwgMCwgMCwgMF0pO1xuICAgICAgICB0aGlzLmRlY29kZVJvd1N0cmluZ0J1ZmZlciA9ICcnO1xuICAgIH1cbiAgICBVUENFQU5FeHRlbnNpb241U3VwcG9ydC5wcm90b3R5cGUuZGVjb2RlUm93ID0gZnVuY3Rpb24gKHJvd051bWJlciwgcm93LCBleHRlbnNpb25TdGFydFJhbmdlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZVJvd1N0cmluZ0J1ZmZlcjtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuZGVjb2RlTWlkZGxlKHJvdywgZXh0ZW5zaW9uU3RhcnRSYW5nZSwgcmVzdWx0KTtcbiAgICAgICAgdmFyIHJlc3VsdFN0cmluZyA9IHJlc3VsdC50b1N0cmluZygpO1xuICAgICAgICB2YXIgZXh0ZW5zaW9uRGF0YSA9IFVQQ0VBTkV4dGVuc2lvbjVTdXBwb3J0LnBhcnNlRXh0ZW5zaW9uU3RyaW5nKHJlc3VsdFN0cmluZyk7XG4gICAgICAgIHZhciByZXN1bHRQb2ludHMgPSBbXG4gICAgICAgICAgICBuZXcgUmVzdWx0UG9pbnQoKGV4dGVuc2lvblN0YXJ0UmFuZ2VbMF0gKyBleHRlbnNpb25TdGFydFJhbmdlWzFdKSAvIDIuMCwgcm93TnVtYmVyKSxcbiAgICAgICAgICAgIG5ldyBSZXN1bHRQb2ludChlbmQsIHJvd051bWJlcilcbiAgICAgICAgXTtcbiAgICAgICAgdmFyIGV4dGVuc2lvblJlc3VsdCA9IG5ldyBSZXN1bHQocmVzdWx0U3RyaW5nLCBudWxsLCAwLCByZXN1bHRQb2ludHMsIEJhcmNvZGVGb3JtYXQuVVBDX0VBTl9FWFRFTlNJT04sIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbkRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uUmVzdWx0LnB1dEFsbE1ldGFkYXRhKGV4dGVuc2lvbkRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHRlbnNpb25SZXN1bHQ7XG4gICAgfTtcbiAgICBVUENFQU5FeHRlbnNpb241U3VwcG9ydC5wcm90b3R5cGUuZGVjb2RlTWlkZGxlID0gZnVuY3Rpb24gKHJvdywgc3RhcnRSYW5nZSwgcmVzdWx0U3RyaW5nKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgY291bnRlcnMgPSB0aGlzLmRlY29kZU1pZGRsZUNvdW50ZXJzO1xuICAgICAgICBjb3VudGVyc1swXSA9IDA7XG4gICAgICAgIGNvdW50ZXJzWzFdID0gMDtcbiAgICAgICAgY291bnRlcnNbMl0gPSAwO1xuICAgICAgICBjb3VudGVyc1szXSA9IDA7XG4gICAgICAgIHZhciBlbmQgPSByb3cuZ2V0U2l6ZSgpO1xuICAgICAgICB2YXIgcm93T2Zmc2V0ID0gc3RhcnRSYW5nZVsxXTtcbiAgICAgICAgdmFyIGxnUGF0dGVybkZvdW5kID0gMDtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCA1ICYmIHJvd09mZnNldCA8IGVuZDsgeCsrKSB7XG4gICAgICAgICAgICB2YXIgYmVzdE1hdGNoID0gQWJzdHJhY3RVUENFQU5SZWFkZXIuZGVjb2RlRGlnaXQocm93LCBjb3VudGVycywgcm93T2Zmc2V0LCBBYnN0cmFjdFVQQ0VBTlJlYWRlci5MX0FORF9HX1BBVFRFUk5TKTtcbiAgICAgICAgICAgIHJlc3VsdFN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgnMCcuY2hhckNvZGVBdCgwKSArIGJlc3RNYXRjaCAlIDEwKSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNvdW50ZXJzXzEgPSAoZV8xID0gdm9pZCAwLCBfX3ZhbHVlcyhjb3VudGVycykpLCBjb3VudGVyc18xXzEgPSBjb3VudGVyc18xLm5leHQoKTsgIWNvdW50ZXJzXzFfMS5kb25lOyBjb3VudGVyc18xXzEgPSBjb3VudGVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IGNvdW50ZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcm93T2Zmc2V0ICs9IGNvdW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyc18xXzEgJiYgIWNvdW50ZXJzXzFfMS5kb25lICYmIChfYSA9IGNvdW50ZXJzXzEucmV0dXJuKSkgX2EuY2FsbChjb3VudGVyc18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJlc3RNYXRjaCA+PSAxMCkge1xuICAgICAgICAgICAgICAgIGxnUGF0dGVybkZvdW5kIHw9IDEgPDwgKDQgLSB4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4ICE9PSA0KSB7XG4gICAgICAgICAgICAgICAgLy8gUmVhZCBvZmYgc2VwYXJhdG9yIGlmIG5vdCBsYXN0XG4gICAgICAgICAgICAgICAgcm93T2Zmc2V0ID0gcm93LmdldE5leHRTZXQocm93T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICByb3dPZmZzZXQgPSByb3cuZ2V0TmV4dFVuc2V0KHJvd09mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdFN0cmluZy5sZW5ndGggIT09IDUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGVja0RpZ2l0ID0gdGhpcy5kZXRlcm1pbmVDaGVja0RpZ2l0KGxnUGF0dGVybkZvdW5kKTtcbiAgICAgICAgaWYgKFVQQ0VBTkV4dGVuc2lvbjVTdXBwb3J0LmV4dGVuc2lvbkNoZWNrc3VtKHJlc3VsdFN0cmluZy50b1N0cmluZygpKSAhPT0gY2hlY2tEaWdpdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvd09mZnNldDtcbiAgICB9O1xuICAgIFVQQ0VBTkV4dGVuc2lvbjVTdXBwb3J0LmV4dGVuc2lvbkNoZWNrc3VtID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aCAtIDI7IGkgPj0gMDsgaSAtPSAyKSB7XG4gICAgICAgICAgICBzdW0gKz0gcy5jaGFyQXQoaSkuY2hhckNvZGVBdCgwKSAtICcwJy5jaGFyQ29kZUF0KDApO1xuICAgICAgICB9XG4gICAgICAgIHN1bSAqPSAzO1xuICAgICAgICBmb3IgKHZhciBpID0gbGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDIpIHtcbiAgICAgICAgICAgIHN1bSArPSBzLmNoYXJBdChpKS5jaGFyQ29kZUF0KDApIC0gJzAnLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VtICo9IDM7XG4gICAgICAgIHJldHVybiBzdW0gJSAxMDtcbiAgICB9O1xuICAgIFVQQ0VBTkV4dGVuc2lvbjVTdXBwb3J0LnByb3RvdHlwZS5kZXRlcm1pbmVDaGVja0RpZ2l0ID0gZnVuY3Rpb24gKGxnUGF0dGVybkZvdW5kKSB7XG4gICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgMTA7IGQrKykge1xuICAgICAgICAgICAgaWYgKGxnUGF0dGVybkZvdW5kID09PSB0aGlzLkNIRUNLX0RJR0lUX0VOQ09ESU5HU1tkXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgIH07XG4gICAgVVBDRUFORXh0ZW5zaW9uNVN1cHBvcnQucGFyc2VFeHRlbnNpb25TdHJpbmcgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIGlmIChyYXcubGVuZ3RoICE9PSA1KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBVUENFQU5FeHRlbnNpb241U3VwcG9ydC5wYXJzZUV4dGVuc2lvbjVTdHJpbmcocmF3KTtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTWFwKFtbUmVzdWx0TWV0YWRhdGFUeXBlLlNVR0dFU1RFRF9QUklDRSwgdmFsdWVdXSk7XG4gICAgfTtcbiAgICBVUENFQU5FeHRlbnNpb241U3VwcG9ydC5wYXJzZUV4dGVuc2lvbjVTdHJpbmcgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIHZhciBjdXJyZW5jeTtcbiAgICAgICAgc3dpdGNoIChyYXcuY2hhckF0KDApKSB7XG4gICAgICAgICAgICBjYXNlICcwJzpcbiAgICAgICAgICAgICAgICBjdXJyZW5jeSA9ICfCoyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICc1JzpcbiAgICAgICAgICAgICAgICBjdXJyZW5jeSA9ICckJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJzknOlxuICAgICAgICAgICAgICAgIC8vIFJlZmVyZW5jZTogaHR0cDovL3d3dy5qb2xseXRlY2guY29tXG4gICAgICAgICAgICAgICAgc3dpdGNoIChyYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnOTAwMDAnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gc3VnZ2VzdGVkIHJldGFpbCBwcmljZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJzk5OTkxJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbXBsZW1lbnRhcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnMC4wMCc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJzk5OTkwJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnVXNlZCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZS4uLiB1bmtub3duIGN1cnJlbmN5P1xuICAgICAgICAgICAgICAgIGN1cnJlbmN5ID0gJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGN1cnJlbmN5ID0gJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJhd0Ftb3VudCA9IHBhcnNlSW50KHJhdy5zdWJzdHJpbmcoMSkpO1xuICAgICAgICB2YXIgdW5pdHNTdHJpbmcgPSAocmF3QW1vdW50IC8gMTAwKS50b1N0cmluZygpO1xuICAgICAgICB2YXIgaHVuZHJlZHRocyA9IHJhd0Ftb3VudCAlIDEwMDtcbiAgICAgICAgdmFyIGh1bmRyZWR0aHNTdHJpbmcgPSBodW5kcmVkdGhzIDwgMTAgPyAnMCcgKyBodW5kcmVkdGhzIDogaHVuZHJlZHRocy50b1N0cmluZygpOyAvLyBmaXhtZVxuICAgICAgICByZXR1cm4gY3VycmVuY3kgKyB1bml0c1N0cmluZyArICcuJyArIGh1bmRyZWR0aHNTdHJpbmc7XG4gICAgfTtcbiAgICByZXR1cm4gVVBDRUFORXh0ZW5zaW9uNVN1cHBvcnQ7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVVBDRUFORXh0ZW5zaW9uNVN1cHBvcnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VUENFQU5FeHRlbnNpb241U3VwcG9ydC5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDEyIFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5pbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuLi9CYXJjb2RlRm9ybWF0JztcbmltcG9ydCBBYnN0cmFjdFVQQ0VBTlJlYWRlciBmcm9tICcuL0Fic3RyYWN0VVBDRUFOUmVhZGVyJztcbmltcG9ydCBSZXN1bHQgZnJvbSAnLi4vUmVzdWx0JztcbmltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi9SZXN1bHRQb2ludCc7XG5pbXBvcnQgUmVzdWx0TWV0YWRhdGFUeXBlIGZyb20gJy4uL1Jlc3VsdE1ldGFkYXRhVHlwZSc7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuLyoqXG4gKiBAc2VlIFVQQ0VBTkV4dGVuc2lvbjVTdXBwb3J0XG4gKi9cbnZhciBVUENFQU5FeHRlbnNpb24yU3VwcG9ydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVUENFQU5FeHRlbnNpb24yU3VwcG9ydCgpIHtcbiAgICAgICAgdGhpcy5kZWNvZGVNaWRkbGVDb3VudGVycyA9IEludDMyQXJyYXkuZnJvbShbMCwgMCwgMCwgMF0pO1xuICAgICAgICB0aGlzLmRlY29kZVJvd1N0cmluZ0J1ZmZlciA9ICcnO1xuICAgIH1cbiAgICBVUENFQU5FeHRlbnNpb24yU3VwcG9ydC5wcm90b3R5cGUuZGVjb2RlUm93ID0gZnVuY3Rpb24gKHJvd051bWJlciwgcm93LCBleHRlbnNpb25TdGFydFJhbmdlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZVJvd1N0cmluZ0J1ZmZlcjtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuZGVjb2RlTWlkZGxlKHJvdywgZXh0ZW5zaW9uU3RhcnRSYW5nZSwgcmVzdWx0KTtcbiAgICAgICAgdmFyIHJlc3VsdFN0cmluZyA9IHJlc3VsdC50b1N0cmluZygpO1xuICAgICAgICB2YXIgZXh0ZW5zaW9uRGF0YSA9IFVQQ0VBTkV4dGVuc2lvbjJTdXBwb3J0LnBhcnNlRXh0ZW5zaW9uU3RyaW5nKHJlc3VsdFN0cmluZyk7XG4gICAgICAgIHZhciByZXN1bHRQb2ludHMgPSBbXG4gICAgICAgICAgICBuZXcgUmVzdWx0UG9pbnQoKGV4dGVuc2lvblN0YXJ0UmFuZ2VbMF0gKyBleHRlbnNpb25TdGFydFJhbmdlWzFdKSAvIDIuMCwgcm93TnVtYmVyKSxcbiAgICAgICAgICAgIG5ldyBSZXN1bHRQb2ludChlbmQsIHJvd051bWJlcilcbiAgICAgICAgXTtcbiAgICAgICAgdmFyIGV4dGVuc2lvblJlc3VsdCA9IG5ldyBSZXN1bHQocmVzdWx0U3RyaW5nLCBudWxsLCAwLCByZXN1bHRQb2ludHMsIEJhcmNvZGVGb3JtYXQuVVBDX0VBTl9FWFRFTlNJT04sIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgaWYgKGV4dGVuc2lvbkRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgZXh0ZW5zaW9uUmVzdWx0LnB1dEFsbE1ldGFkYXRhKGV4dGVuc2lvbkRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleHRlbnNpb25SZXN1bHQ7XG4gICAgfTtcbiAgICBVUENFQU5FeHRlbnNpb24yU3VwcG9ydC5wcm90b3R5cGUuZGVjb2RlTWlkZGxlID0gZnVuY3Rpb24gKHJvdywgc3RhcnRSYW5nZSwgcmVzdWx0U3RyaW5nKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgY291bnRlcnMgPSB0aGlzLmRlY29kZU1pZGRsZUNvdW50ZXJzO1xuICAgICAgICBjb3VudGVyc1swXSA9IDA7XG4gICAgICAgIGNvdW50ZXJzWzFdID0gMDtcbiAgICAgICAgY291bnRlcnNbMl0gPSAwO1xuICAgICAgICBjb3VudGVyc1szXSA9IDA7XG4gICAgICAgIHZhciBlbmQgPSByb3cuZ2V0U2l6ZSgpO1xuICAgICAgICB2YXIgcm93T2Zmc2V0ID0gc3RhcnRSYW5nZVsxXTtcbiAgICAgICAgdmFyIGNoZWNrUGFyaXR5ID0gMDtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCAyICYmIHJvd09mZnNldCA8IGVuZDsgeCsrKSB7XG4gICAgICAgICAgICB2YXIgYmVzdE1hdGNoID0gQWJzdHJhY3RVUENFQU5SZWFkZXIuZGVjb2RlRGlnaXQocm93LCBjb3VudGVycywgcm93T2Zmc2V0LCBBYnN0cmFjdFVQQ0VBTlJlYWRlci5MX0FORF9HX1BBVFRFUk5TKTtcbiAgICAgICAgICAgIHJlc3VsdFN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgnMCcuY2hhckNvZGVBdCgwKSArIGJlc3RNYXRjaCAlIDEwKSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNvdW50ZXJzXzEgPSAoZV8xID0gdm9pZCAwLCBfX3ZhbHVlcyhjb3VudGVycykpLCBjb3VudGVyc18xXzEgPSBjb3VudGVyc18xLm5leHQoKTsgIWNvdW50ZXJzXzFfMS5kb25lOyBjb3VudGVyc18xXzEgPSBjb3VudGVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IGNvdW50ZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcm93T2Zmc2V0ICs9IGNvdW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyc18xXzEgJiYgIWNvdW50ZXJzXzFfMS5kb25lICYmIChfYSA9IGNvdW50ZXJzXzEucmV0dXJuKSkgX2EuY2FsbChjb3VudGVyc18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJlc3RNYXRjaCA+PSAxMCkge1xuICAgICAgICAgICAgICAgIGNoZWNrUGFyaXR5IHw9IDEgPDwgKDEgLSB4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4ICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVhZCBvZmYgc2VwYXJhdG9yIGlmIG5vdCBsYXN0XG4gICAgICAgICAgICAgICAgcm93T2Zmc2V0ID0gcm93LmdldE5leHRTZXQocm93T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICByb3dPZmZzZXQgPSByb3cuZ2V0TmV4dFVuc2V0KHJvd09mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdFN0cmluZy5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZUludChyZXN1bHRTdHJpbmcudG9TdHJpbmcoKSkgJSA0ICE9PSBjaGVja1Bhcml0eSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvd09mZnNldDtcbiAgICB9O1xuICAgIFVQQ0VBTkV4dGVuc2lvbjJTdXBwb3J0LnBhcnNlRXh0ZW5zaW9uU3RyaW5nID0gZnVuY3Rpb24gKHJhdykge1xuICAgICAgICBpZiAocmF3Lmxlbmd0aCAhPT0gMikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBNYXAoW1tSZXN1bHRNZXRhZGF0YVR5cGUuSVNTVUVfTlVNQkVSLCBwYXJzZUludChyYXcpXV0pO1xuICAgIH07XG4gICAgcmV0dXJuIFVQQ0VBTkV4dGVuc2lvbjJTdXBwb3J0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVQQ0VBTkV4dGVuc2lvbjJTdXBwb3J0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VVBDRUFORXh0ZW5zaW9uMlN1cHBvcnQuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxMCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IEFic3RyYWN0VVBDRUFOUmVhZGVyIGZyb20gJy4vQWJzdHJhY3RVUENFQU5SZWFkZXInO1xuaW1wb3J0IFVQQ0VBTkV4dGVuc2lvbjVTdXBwb3J0IGZyb20gJy4vVVBDRUFORXh0ZW5zaW9uNVN1cHBvcnQnO1xuaW1wb3J0IFVQQ0VBTkV4dGVuc2lvbjJTdXBwb3J0IGZyb20gJy4vVVBDRUFORXh0ZW5zaW9uMlN1cHBvcnQnO1xudmFyIFVQQ0VBTkV4dGVuc2lvblN1cHBvcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVVBDRUFORXh0ZW5zaW9uU3VwcG9ydCgpIHtcbiAgICB9XG4gICAgVVBDRUFORXh0ZW5zaW9uU3VwcG9ydC5kZWNvZGVSb3cgPSBmdW5jdGlvbiAocm93TnVtYmVyLCByb3csIHJvd09mZnNldCkge1xuICAgICAgICB2YXIgZXh0ZW5zaW9uU3RhcnRSYW5nZSA9IEFic3RyYWN0VVBDRUFOUmVhZGVyLmZpbmRHdWFyZFBhdHRlcm4ocm93LCByb3dPZmZzZXQsIGZhbHNlLCB0aGlzLkVYVEVOU0lPTl9TVEFSVF9QQVRURVJOLCBuZXcgSW50MzJBcnJheSh0aGlzLkVYVEVOU0lPTl9TVEFSVF9QQVRURVJOLmxlbmd0aCkuZmlsbCgwKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHZhciBmaXZlU3VwcG9ydCA9IG5ldyBVUENFQU5FeHRlbnNpb241U3VwcG9ydCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZpdmVTdXBwb3J0LmRlY29kZVJvdyhyb3dOdW1iZXIsIHJvdywgZXh0ZW5zaW9uU3RhcnRSYW5nZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB2YXIgdHdvU3VwcG9ydCA9IG5ldyBVUENFQU5FeHRlbnNpb24yU3VwcG9ydCgpO1xuICAgICAgICAgICAgcmV0dXJuIHR3b1N1cHBvcnQuZGVjb2RlUm93KHJvd051bWJlciwgcm93LCBleHRlbnNpb25TdGFydFJhbmdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVVBDRUFORXh0ZW5zaW9uU3VwcG9ydC5FWFRFTlNJT05fU1RBUlRfUEFUVEVSTiA9IEludDMyQXJyYXkuZnJvbShbMSwgMSwgMl0pO1xuICAgIHJldHVybiBVUENFQU5FeHRlbnNpb25TdXBwb3J0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFVQQ0VBTkV4dGVuc2lvblN1cHBvcnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VUENFQU5FeHRlbnNpb25TdXBwb3J0LmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuLi9CYXJjb2RlRm9ybWF0JztcbmltcG9ydCBEZWNvZGVIaW50VHlwZSBmcm9tICcuLi9EZWNvZGVIaW50VHlwZSc7XG5pbXBvcnQgUmVzdWx0IGZyb20gJy4uL1Jlc3VsdCc7XG5pbXBvcnQgUmVzdWx0TWV0YWRhdGFUeXBlIGZyb20gJy4uL1Jlc3VsdE1ldGFkYXRhVHlwZSc7XG5pbXBvcnQgUmVzdWx0UG9pbnQgZnJvbSAnLi4vUmVzdWx0UG9pbnQnO1xuaW1wb3J0IFVQQ0VBTkV4dGVuc2lvblN1cHBvcnQgZnJvbSAnLi9VUENFQU5FeHRlbnNpb25TdXBwb3J0JztcbmltcG9ydCBBYnN0cmFjdFVQQ0VBTlJlYWRlciBmcm9tICcuL0Fic3RyYWN0VVBDRUFOUmVhZGVyJztcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi9Ob3RGb3VuZEV4Y2VwdGlvbic7XG5pbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uL0Zvcm1hdEV4Y2VwdGlvbic7XG5pbXBvcnQgQ2hlY2tzdW1FeGNlcHRpb24gZnJvbSAnLi4vQ2hlY2tzdW1FeGNlcHRpb24nO1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgZnVuY3Rpb25hbGl0eSBhbmQgaW1wbGVtZW50YXRpb24gdGhhdCBpcyBjb21tb24gdG8gVVBDIGFuZCBFQU4gZmFtaWxpZXNcbiAqIG9mIG9uZS1kaW1lbnNpb25hbCBiYXJjb2Rlcy48L3A+XG4gKlxuICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbilcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKiBAYXV0aG9yIGFsYXNkYWlyQGdvb2dsZS5jb20gKEFsYXNkYWlyIE1hY2tpbnRvc2gpXG4gKi9cbnZhciBVUENFQU5SZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFVQQ0VBTlJlYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBVUENFQU5SZWFkZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlY29kZVJvd1N0cmluZ0J1ZmZlciA9ICcnO1xuICAgICAgICBVUENFQU5SZWFkZXIuTF9BTkRfR19QQVRURVJOUyA9IFVQQ0VBTlJlYWRlci5MX1BBVFRFUk5TLm1hcChmdW5jdGlvbiAoYXJyKSB7IHJldHVybiBJbnQzMkFycmF5LmZyb20oYXJyKTsgfSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAxMDsgaSA8IDIwOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB3aWR0aHMgPSBVUENFQU5SZWFkZXIuTF9QQVRURVJOU1tpIC0gMTBdO1xuICAgICAgICAgICAgdmFyIHJldmVyc2VkV2lkdGhzID0gbmV3IEludDMyQXJyYXkod2lkdGhzLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHdpZHRocy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHJldmVyc2VkV2lkdGhzW2pdID0gd2lkdGhzW3dpZHRocy5sZW5ndGggLSBqIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBVUENFQU5SZWFkZXIuTF9BTkRfR19QQVRURVJOU1tpXSA9IHJldmVyc2VkV2lkdGhzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVVBDRUFOUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVSb3cgPSBmdW5jdGlvbiAocm93TnVtYmVyLCByb3csIGhpbnRzKSB7XG4gICAgICAgIHZhciBzdGFydEd1YXJkUmFuZ2UgPSBVUENFQU5SZWFkZXIuZmluZFN0YXJ0R3VhcmRQYXR0ZXJuKHJvdyk7XG4gICAgICAgIHZhciByZXN1bHRQb2ludENhbGxiYWNrID0gaGludHMgPT0gbnVsbCA/IG51bGwgOiBoaW50cy5nZXQoRGVjb2RlSGludFR5cGUuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spO1xuICAgICAgICBpZiAocmVzdWx0UG9pbnRDYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0UG9pbnRfMSA9IG5ldyBSZXN1bHRQb2ludCgoc3RhcnRHdWFyZFJhbmdlWzBdICsgc3RhcnRHdWFyZFJhbmdlWzFdKSAvIDIuMCwgcm93TnVtYmVyKTtcbiAgICAgICAgICAgIHJlc3VsdFBvaW50Q2FsbGJhY2suZm91bmRQb3NzaWJsZVJlc3VsdFBvaW50KHJlc3VsdFBvaW50XzEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWRlbGxvID0gdGhpcy5kZWNvZGVNaWRkbGUocm93LCBzdGFydEd1YXJkUmFuZ2UsIHRoaXMuZGVjb2RlUm93U3RyaW5nQnVmZmVyKTtcbiAgICAgICAgdmFyIGVuZFN0YXJ0ID0gYnVkZWxsby5yb3dPZmZzZXQ7XG4gICAgICAgIHZhciByZXN1bHQgPSBidWRlbGxvLnJlc3VsdFN0cmluZztcbiAgICAgICAgaWYgKHJlc3VsdFBvaW50Q2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdFBvaW50XzIgPSBuZXcgUmVzdWx0UG9pbnQoZW5kU3RhcnQsIHJvd051bWJlcik7XG4gICAgICAgICAgICByZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChyZXN1bHRQb2ludF8yKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5kUmFuZ2UgPSBVUENFQU5SZWFkZXIuZGVjb2RlRW5kKHJvdywgZW5kU3RhcnQpO1xuICAgICAgICBpZiAocmVzdWx0UG9pbnRDYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0UG9pbnRfMyA9IG5ldyBSZXN1bHRQb2ludCgoZW5kUmFuZ2VbMF0gKyBlbmRSYW5nZVsxXSkgLyAyLjAsIHJvd051bWJlcik7XG4gICAgICAgICAgICByZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChyZXN1bHRQb2ludF8zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlcmUgaXMgYSBxdWlldCB6b25lIGF0IGxlYXN0IGFzIGJpZyBhcyB0aGUgZW5kIHBhdHRlcm4gYWZ0ZXIgdGhlIGJhcmNvZGUuIFRoZVxuICAgICAgICAvLyBzcGVjIG1pZ2h0IHdhbnQgbW9yZSB3aGl0ZXNwYWNlLCBidXQgaW4gcHJhY3RpY2UgdGhpcyBpcyB0aGUgbWF4aW11bSB3ZSBjYW4gY291bnQgb24uXG4gICAgICAgIHZhciBlbmQgPSBlbmRSYW5nZVsxXTtcbiAgICAgICAgdmFyIHF1aWV0RW5kID0gZW5kICsgKGVuZCAtIGVuZFJhbmdlWzBdKTtcbiAgICAgICAgaWYgKHF1aWV0RW5kID49IHJvdy5nZXRTaXplKCkgfHwgIXJvdy5pc1JhbmdlKGVuZCwgcXVpZXRFbmQsIGZhbHNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdFN0cmluZyA9IHJlc3VsdC50b1N0cmluZygpO1xuICAgICAgICAvLyBVUEMvRUFOIHNob3VsZCBuZXZlciBiZSBsZXNzIHRoYW4gOCBjaGFycyBhbnl3YXlcbiAgICAgICAgaWYgKHJlc3VsdFN0cmluZy5sZW5ndGggPCA4KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFVUENFQU5SZWFkZXIuY2hlY2tDaGVja3N1bShyZXN1bHRTdHJpbmcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVmdCA9IChzdGFydEd1YXJkUmFuZ2VbMV0gKyBzdGFydEd1YXJkUmFuZ2VbMF0pIC8gMi4wO1xuICAgICAgICB2YXIgcmlnaHQgPSAoZW5kUmFuZ2VbMV0gKyBlbmRSYW5nZVswXSkgLyAyLjA7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLmdldEJhcmNvZGVGb3JtYXQoKTtcbiAgICAgICAgdmFyIHJlc3VsdFBvaW50ID0gW25ldyBSZXN1bHRQb2ludChsZWZ0LCByb3dOdW1iZXIpLCBuZXcgUmVzdWx0UG9pbnQocmlnaHQsIHJvd051bWJlcildO1xuICAgICAgICB2YXIgZGVjb2RlUmVzdWx0ID0gbmV3IFJlc3VsdChyZXN1bHRTdHJpbmcsIG51bGwsIDAsIHJlc3VsdFBvaW50LCBmb3JtYXQsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgdmFyIGV4dGVuc2lvbkxlbmd0aCA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgZXh0ZW5zaW9uUmVzdWx0ID0gVVBDRUFORXh0ZW5zaW9uU3VwcG9ydC5kZWNvZGVSb3cocm93TnVtYmVyLCByb3csIGVuZFJhbmdlWzFdKTtcbiAgICAgICAgICAgIGRlY29kZVJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGUuVVBDX0VBTl9FWFRFTlNJT04sIGV4dGVuc2lvblJlc3VsdC5nZXRUZXh0KCkpO1xuICAgICAgICAgICAgZGVjb2RlUmVzdWx0LnB1dEFsbE1ldGFkYXRhKGV4dGVuc2lvblJlc3VsdC5nZXRSZXN1bHRNZXRhZGF0YSgpKTtcbiAgICAgICAgICAgIGRlY29kZVJlc3VsdC5hZGRSZXN1bHRQb2ludHMoZXh0ZW5zaW9uUmVzdWx0LmdldFJlc3VsdFBvaW50cygpKTtcbiAgICAgICAgICAgIGV4dGVuc2lvbkxlbmd0aCA9IGV4dGVuc2lvblJlc3VsdC5nZXRUZXh0KCkubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWxsb3dlZEV4dGVuc2lvbnMgPSBoaW50cyA9PSBudWxsID8gbnVsbCA6IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZS5BTExPV0VEX0VBTl9FWFRFTlNJT05TKTtcbiAgICAgICAgaWYgKGFsbG93ZWRFeHRlbnNpb25zICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgbGVuZ3RoXzEgaW4gYWxsb3dlZEV4dGVuc2lvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW5zaW9uTGVuZ3RoLnRvU3RyaW5nKCkgPT09IGxlbmd0aF8xKSB7IC8vIGNoZWNrIG1lXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IEJhcmNvZGVGb3JtYXQuRUFOXzEzIHx8IGZvcm1hdCA9PT0gQmFyY29kZUZvcm1hdC5VUENfQSkge1xuICAgICAgICAgICAgLy8gbGV0IGNvdW50cnlJRCA9IGVhbk1hblN1cHBvcnQubG9va3VwQ29udHJ5SWRlbnRpZmllcihyZXN1bHRTdHJpbmcpOyB0b2RvXG4gICAgICAgICAgICAvLyBpZiAoY291bnRyeUlEICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vICAgICBkZWNvZGVSZXN1bHQucHV0TWV0YWRhdGEoUmVzdWx0TWV0YWRhdGFUeXBlLlBPU1NJQkxFX0NPVU5UUlksIGNvdW50cnlJRCk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlY29kZVJlc3VsdDtcbiAgICB9O1xuICAgIFVQQ0VBTlJlYWRlci5jaGVja0NoZWNrc3VtID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIFVQQ0VBTlJlYWRlci5jaGVja1N0YW5kYXJkVVBDRUFOQ2hlY2tzdW0ocyk7XG4gICAgfTtcbiAgICBVUENFQU5SZWFkZXIuY2hlY2tTdGFuZGFyZFVQQ0VBTkNoZWNrc3VtID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgY2hlY2sgPSBwYXJzZUludChzLmNoYXJBdChsZW5ndGggLSAxKSwgMTApO1xuICAgICAgICByZXR1cm4gVVBDRUFOUmVhZGVyLmdldFN0YW5kYXJkVVBDRUFOQ2hlY2tzdW0ocy5zdWJzdHJpbmcoMCwgbGVuZ3RoIC0gMSkpID09PSBjaGVjaztcbiAgICB9O1xuICAgIFVQQ0VBTlJlYWRlci5nZXRTdGFuZGFyZFVQQ0VBTkNoZWNrc3VtID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICB2YXIgc3VtID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aCAtIDE7IGkgPj0gMDsgaSAtPSAyKSB7XG4gICAgICAgICAgICB2YXIgZGlnaXQgPSBzLmNoYXJBdChpKS5jaGFyQ29kZUF0KDApIC0gJzAnLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZGlnaXQgPCAwIHx8IGRpZ2l0ID4gOSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1bSArPSBkaWdpdDtcbiAgICAgICAgfVxuICAgICAgICBzdW0gKj0gMztcbiAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aCAtIDI7IGkgPj0gMDsgaSAtPSAyKSB7XG4gICAgICAgICAgICB2YXIgZGlnaXQgPSBzLmNoYXJBdChpKS5jaGFyQ29kZUF0KDApIC0gJzAnLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZGlnaXQgPCAwIHx8IGRpZ2l0ID4gOSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1bSArPSBkaWdpdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDEwMDAgLSBzdW0pICUgMTA7XG4gICAgfTtcbiAgICBVUENFQU5SZWFkZXIuZGVjb2RlRW5kID0gZnVuY3Rpb24gKHJvdywgZW5kU3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIFVQQ0VBTlJlYWRlci5maW5kR3VhcmRQYXR0ZXJuKHJvdywgZW5kU3RhcnQsIGZhbHNlLCBVUENFQU5SZWFkZXIuU1RBUlRfRU5EX1BBVFRFUk4sIG5ldyBJbnQzMkFycmF5KFVQQ0VBTlJlYWRlci5TVEFSVF9FTkRfUEFUVEVSTi5sZW5ndGgpLmZpbGwoMCkpO1xuICAgIH07XG4gICAgcmV0dXJuIFVQQ0VBTlJlYWRlcjtcbn0oQWJzdHJhY3RVUENFQU5SZWFkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IFVQQ0VBTlJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVQQ0VBTlJlYWRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuaW1wb3J0IEJhcmNvZGVGb3JtYXQgZnJvbSAnLi4vQmFyY29kZUZvcm1hdCc7XG5pbXBvcnQgVVBDRUFOUmVhZGVyIGZyb20gJy4vVVBDRUFOUmVhZGVyJztcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi9Ob3RGb3VuZEV4Y2VwdGlvbic7XG4vKipcbiAqIDxwPkltcGxlbWVudHMgZGVjb2Rpbmcgb2YgdGhlIEVBTi0xMyBmb3JtYXQuPC9wPlxuICpcbiAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICogQGF1dGhvciBhbGFzZGFpckBnb29nbGUuY29tIChBbGFzZGFpciBNYWNraW50b3NoKVxuICovXG52YXIgRUFOMTNSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEVBTjEzUmVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVBTjEzUmVhZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWNvZGVNaWRkbGVDb3VudGVycyA9IEludDMyQXJyYXkuZnJvbShbMCwgMCwgMCwgMF0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEVBTjEzUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVNaWRkbGUgPSBmdW5jdGlvbiAocm93LCBzdGFydFJhbmdlLCByZXN1bHRTdHJpbmcpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBjb3VudGVycyA9IHRoaXMuZGVjb2RlTWlkZGxlQ291bnRlcnM7XG4gICAgICAgIGNvdW50ZXJzWzBdID0gMDtcbiAgICAgICAgY291bnRlcnNbMV0gPSAwO1xuICAgICAgICBjb3VudGVyc1syXSA9IDA7XG4gICAgICAgIGNvdW50ZXJzWzNdID0gMDtcbiAgICAgICAgdmFyIGVuZCA9IHJvdy5nZXRTaXplKCk7XG4gICAgICAgIHZhciByb3dPZmZzZXQgPSBzdGFydFJhbmdlWzFdO1xuICAgICAgICB2YXIgbGdQYXR0ZXJuRm91bmQgPSAwO1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IDYgJiYgcm93T2Zmc2V0IDwgZW5kOyB4KyspIHtcbiAgICAgICAgICAgIHZhciBiZXN0TWF0Y2ggPSBVUENFQU5SZWFkZXIuZGVjb2RlRGlnaXQocm93LCBjb3VudGVycywgcm93T2Zmc2V0LCBVUENFQU5SZWFkZXIuTF9BTkRfR19QQVRURVJOUyk7XG4gICAgICAgICAgICByZXN1bHRTdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoJzAnLmNoYXJDb2RlQXQoMCkgKyBiZXN0TWF0Y2ggJSAxMCkpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjb3VudGVyc18xID0gKGVfMSA9IHZvaWQgMCwgX192YWx1ZXMoY291bnRlcnMpKSwgY291bnRlcnNfMV8xID0gY291bnRlcnNfMS5uZXh0KCk7ICFjb3VudGVyc18xXzEuZG9uZTsgY291bnRlcnNfMV8xID0gY291bnRlcnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBjb3VudGVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJvd09mZnNldCArPSBjb3VudGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlcnNfMV8xICYmICFjb3VudGVyc18xXzEuZG9uZSAmJiAoX2EgPSBjb3VudGVyc18xLnJldHVybikpIF9hLmNhbGwoY291bnRlcnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiZXN0TWF0Y2ggPj0gMTApIHtcbiAgICAgICAgICAgICAgICBsZ1BhdHRlcm5Gb3VuZCB8PSAxIDw8ICg1IC0geCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0U3RyaW5nID0gRUFOMTNSZWFkZXIuZGV0ZXJtaW5lRmlyc3REaWdpdChyZXN1bHRTdHJpbmcsIGxnUGF0dGVybkZvdW5kKTtcbiAgICAgICAgdmFyIG1pZGRsZVJhbmdlID0gVVBDRUFOUmVhZGVyLmZpbmRHdWFyZFBhdHRlcm4ocm93LCByb3dPZmZzZXQsIHRydWUsIFVQQ0VBTlJlYWRlci5NSURETEVfUEFUVEVSTiwgbmV3IEludDMyQXJyYXkoVVBDRUFOUmVhZGVyLk1JRERMRV9QQVRURVJOLmxlbmd0aCkuZmlsbCgwKSk7XG4gICAgICAgIHJvd09mZnNldCA9IG1pZGRsZVJhbmdlWzFdO1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IDYgJiYgcm93T2Zmc2V0IDwgZW5kOyB4KyspIHtcbiAgICAgICAgICAgIHZhciBiZXN0TWF0Y2ggPSBVUENFQU5SZWFkZXIuZGVjb2RlRGlnaXQocm93LCBjb3VudGVycywgcm93T2Zmc2V0LCBVUENFQU5SZWFkZXIuTF9QQVRURVJOUyk7XG4gICAgICAgICAgICByZXN1bHRTdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoJzAnLmNoYXJDb2RlQXQoMCkgKyBiZXN0TWF0Y2gpKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY291bnRlcnNfMiA9IChlXzIgPSB2b2lkIDAsIF9fdmFsdWVzKGNvdW50ZXJzKSksIGNvdW50ZXJzXzJfMSA9IGNvdW50ZXJzXzIubmV4dCgpOyAhY291bnRlcnNfMl8xLmRvbmU7IGNvdW50ZXJzXzJfMSA9IGNvdW50ZXJzXzIubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudGVyID0gY291bnRlcnNfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByb3dPZmZzZXQgKz0gY291bnRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXJzXzJfMSAmJiAhY291bnRlcnNfMl8xLmRvbmUgJiYgKF9iID0gY291bnRlcnNfMi5yZXR1cm4pKSBfYi5jYWxsKGNvdW50ZXJzXzIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgcm93T2Zmc2V0OiByb3dPZmZzZXQsIHJlc3VsdFN0cmluZzogcmVzdWx0U3RyaW5nIH07XG4gICAgfTtcbiAgICBFQU4xM1JlYWRlci5wcm90b3R5cGUuZ2V0QmFyY29kZUZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEJhcmNvZGVGb3JtYXQuRUFOXzEzO1xuICAgIH07XG4gICAgRUFOMTNSZWFkZXIuZGV0ZXJtaW5lRmlyc3REaWdpdCA9IGZ1bmN0aW9uIChyZXN1bHRTdHJpbmcsIGxnUGF0dGVybkZvdW5kKSB7XG4gICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgMTA7IGQrKykge1xuICAgICAgICAgICAgaWYgKGxnUGF0dGVybkZvdW5kID09PSB0aGlzLkZJUlNUX0RJR0lUX0VOQ09ESU5HU1tkXSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKCcwJy5jaGFyQ29kZUF0KDApICsgZCkpICsgcmVzdWx0U3RyaW5nO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRTdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICBFQU4xM1JlYWRlci5GSVJTVF9ESUdJVF9FTkNPRElOR1MgPSBbMHgwMCwgMHgwQiwgMHgwRCwgMHhFLCAweDEzLCAweDE5LCAweDFDLCAweDE1LCAweDE2LCAweDFBXTtcbiAgICByZXR1cm4gRUFOMTNSZWFkZXI7XG59KFVQQ0VBTlJlYWRlcikpO1xuZXhwb3J0IGRlZmF1bHQgRUFOMTNSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FQU4xM1JlYWRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuaW1wb3J0IEJhcmNvZGVGb3JtYXQgZnJvbSAnLi4vQmFyY29kZUZvcm1hdCc7XG5pbXBvcnQgVVBDRUFOUmVhZGVyIGZyb20gJy4vVVBDRUFOUmVhZGVyJztcbi8qKlxuICogPHA+SW1wbGVtZW50cyBkZWNvZGluZyBvZiB0aGUgRUFOLTggZm9ybWF0LjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgRUFOOFJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRUFOOFJlYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBFQU44UmVhZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZWNvZGVNaWRkbGVDb3VudGVycyA9IEludDMyQXJyYXkuZnJvbShbMCwgMCwgMCwgMF0pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEVBTjhSZWFkZXIucHJvdG90eXBlLmRlY29kZU1pZGRsZSA9IGZ1bmN0aW9uIChyb3csIHN0YXJ0UmFuZ2UsIHJlc3VsdFN0cmluZykge1xuICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjtcbiAgICAgICAgdmFyIGNvdW50ZXJzID0gdGhpcy5kZWNvZGVNaWRkbGVDb3VudGVycztcbiAgICAgICAgY291bnRlcnNbMF0gPSAwO1xuICAgICAgICBjb3VudGVyc1sxXSA9IDA7XG4gICAgICAgIGNvdW50ZXJzWzJdID0gMDtcbiAgICAgICAgY291bnRlcnNbM10gPSAwO1xuICAgICAgICB2YXIgZW5kID0gcm93LmdldFNpemUoKTtcbiAgICAgICAgdmFyIHJvd09mZnNldCA9IHN0YXJ0UmFuZ2VbMV07XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgNCAmJiByb3dPZmZzZXQgPCBlbmQ7IHgrKykge1xuICAgICAgICAgICAgdmFyIGJlc3RNYXRjaCA9IFVQQ0VBTlJlYWRlci5kZWNvZGVEaWdpdChyb3csIGNvdW50ZXJzLCByb3dPZmZzZXQsIFVQQ0VBTlJlYWRlci5MX1BBVFRFUk5TKTtcbiAgICAgICAgICAgIHJlc3VsdFN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgnMCcuY2hhckNvZGVBdCgwKSArIGJlc3RNYXRjaCkpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjb3VudGVyc18xID0gKGVfMSA9IHZvaWQgMCwgX192YWx1ZXMoY291bnRlcnMpKSwgY291bnRlcnNfMV8xID0gY291bnRlcnNfMS5uZXh0KCk7ICFjb3VudGVyc18xXzEuZG9uZTsgY291bnRlcnNfMV8xID0gY291bnRlcnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBjb3VudGVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJvd09mZnNldCArPSBjb3VudGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlcnNfMV8xICYmICFjb3VudGVyc18xXzEuZG9uZSAmJiAoX2EgPSBjb3VudGVyc18xLnJldHVybikpIF9hLmNhbGwoY291bnRlcnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbWlkZGxlUmFuZ2UgPSBVUENFQU5SZWFkZXIuZmluZEd1YXJkUGF0dGVybihyb3csIHJvd09mZnNldCwgdHJ1ZSwgVVBDRUFOUmVhZGVyLk1JRERMRV9QQVRURVJOLCBuZXcgSW50MzJBcnJheShVUENFQU5SZWFkZXIuTUlERExFX1BBVFRFUk4ubGVuZ3RoKS5maWxsKDApKTtcbiAgICAgICAgcm93T2Zmc2V0ID0gbWlkZGxlUmFuZ2VbMV07XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgNCAmJiByb3dPZmZzZXQgPCBlbmQ7IHgrKykge1xuICAgICAgICAgICAgdmFyIGJlc3RNYXRjaCA9IFVQQ0VBTlJlYWRlci5kZWNvZGVEaWdpdChyb3csIGNvdW50ZXJzLCByb3dPZmZzZXQsIFVQQ0VBTlJlYWRlci5MX1BBVFRFUk5TKTtcbiAgICAgICAgICAgIHJlc3VsdFN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgnMCcuY2hhckNvZGVBdCgwKSArIGJlc3RNYXRjaCkpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjb3VudGVyc18yID0gKGVfMiA9IHZvaWQgMCwgX192YWx1ZXMoY291bnRlcnMpKSwgY291bnRlcnNfMl8xID0gY291bnRlcnNfMi5uZXh0KCk7ICFjb3VudGVyc18yXzEuZG9uZTsgY291bnRlcnNfMl8xID0gY291bnRlcnNfMi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBjb3VudGVyc18yXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJvd09mZnNldCArPSBjb3VudGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlcnNfMl8xICYmICFjb3VudGVyc18yXzEuZG9uZSAmJiAoX2IgPSBjb3VudGVyc18yLnJldHVybikpIF9iLmNhbGwoY291bnRlcnNfMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyByb3dPZmZzZXQ6IHJvd09mZnNldCwgcmVzdWx0U3RyaW5nOiByZXN1bHRTdHJpbmcgfTtcbiAgICB9O1xuICAgIEVBTjhSZWFkZXIucHJvdG90eXBlLmdldEJhcmNvZGVGb3JtYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBCYXJjb2RlRm9ybWF0LkVBTl84O1xuICAgIH07XG4gICAgcmV0dXJuIEVBTjhSZWFkZXI7XG59KFVQQ0VBTlJlYWRlcikpO1xuZXhwb3J0IGRlZmF1bHQgRUFOOFJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVBTjhSZWFkZXIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcub25lZCB7Ki9cbmltcG9ydCBCYXJjb2RlRm9ybWF0IGZyb20gJy4uL0JhcmNvZGVGb3JtYXQnO1xuaW1wb3J0IFJlc3VsdCBmcm9tICcuLi9SZXN1bHQnO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBFQU4xM1JlYWRlciBmcm9tICcuL0VBTjEzUmVhZGVyJztcbmltcG9ydCBVUENFQU5SZWFkZXIgZnJvbSAnLi9VUENFQU5SZWFkZXInO1xuLyoqXG4gKiBFbmNhcHN1bGF0ZXMgZnVuY3Rpb25hbGl0eSBhbmQgaW1wbGVtZW50YXRpb24gdGhhdCBpcyBjb21tb24gdG8gYWxsIGZhbWlsaWVzXG4gKiBvZiBvbmUtZGltZW5zaW9uYWwgYmFyY29kZXMuXG4gKlxuICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbilcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKiBAYXV0aG9yIHNhbTIzMzIgKFNhbSBSdWRsb2ZmKVxuICpcbiAqIEBzb3VyY2UgaHR0cHM6Ly9naXRodWIuY29tL3p4aW5nL3p4aW5nL2Jsb2IvM2M5NjkyMzI3NmRkNTc4NWQ1OGViOTcwYjZiYTNmODBkMzZhOTUwNS9jb3JlL3NyYy9tYWluL2phdmEvY29tL2dvb2dsZS96eGluZy9vbmVkL1VQQ0FSZWFkZXIuamF2YVxuICpcbiAqIEBleHBlcmltZW50YWxcbiAqL1xudmFyIFVQQ0FSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFVQQ0FSZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVVBDQVJlYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmVhbjEzUmVhZGVyID0gbmV3IEVBTjEzUmVhZGVyKCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgVVBDQVJlYWRlci5wcm90b3R5cGUuZ2V0QmFyY29kZUZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEJhcmNvZGVGb3JtYXQuVVBDX0E7XG4gICAgfTtcbiAgICAvLyBOb3RlIHRoYXQgd2UgZG9uJ3QgdHJ5IHJvdGF0aW9uIHdpdGhvdXQgdGhlIHRyeSBoYXJkZXIgZmxhZywgZXZlbiBpZiByb3RhdGlvbiB3YXMgc3VwcG9ydGVkLlxuICAgIC8vIEBPdmVycmlkZVxuICAgIFVQQ0FSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF5YmVSZXR1cm5SZXN1bHQodGhpcy5lYW4xM1JlYWRlci5kZWNvZGUoaW1hZ2UpKTtcbiAgICB9O1xuICAgIC8vIEBPdmVycmlkZVxuICAgIFVQQ0FSZWFkZXIucHJvdG90eXBlLmRlY29kZVJvdyA9IGZ1bmN0aW9uIChyb3dOdW1iZXIsIHJvdywgaGludHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF5YmVSZXR1cm5SZXN1bHQodGhpcy5lYW4xM1JlYWRlci5kZWNvZGVSb3cocm93TnVtYmVyLCByb3csIGhpbnRzKSk7XG4gICAgfTtcbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBVUENBUmVhZGVyLnByb3RvdHlwZS5kZWNvZGVNaWRkbGUgPSBmdW5jdGlvbiAocm93LCBzdGFydFJhbmdlLCByZXN1bHRTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFuMTNSZWFkZXIuZGVjb2RlTWlkZGxlKHJvdywgc3RhcnRSYW5nZSwgcmVzdWx0U3RyaW5nKTtcbiAgICB9O1xuICAgIFVQQ0FSZWFkZXIucHJvdG90eXBlLm1heWJlUmV0dXJuUmVzdWx0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgdGV4dCA9IHJlc3VsdC5nZXRUZXh0KCk7XG4gICAgICAgIGlmICh0ZXh0LmNoYXJBdCgwKSA9PT0gJzAnKSB7XG4gICAgICAgICAgICB2YXIgdXBjYVJlc3VsdCA9IG5ldyBSZXN1bHQodGV4dC5zdWJzdHJpbmcoMSksIG51bGwsIG51bGwsIHJlc3VsdC5nZXRSZXN1bHRQb2ludHMoKSwgQmFyY29kZUZvcm1hdC5VUENfQSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmdldFJlc3VsdE1ldGFkYXRhKCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHVwY2FSZXN1bHQucHV0QWxsTWV0YWRhdGEocmVzdWx0LmdldFJlc3VsdE1ldGFkYXRhKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVwY2FSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVVBDQVJlYWRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWFuMTNSZWFkZXIucmVzZXQoKTtcbiAgICB9O1xuICAgIHJldHVybiBVUENBUmVhZGVyO1xufShVUENFQU5SZWFkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IFVQQ0FSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VUENBUmVhZGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5pbXBvcnQgVVBDRUFOUmVhZGVyIGZyb20gJy4vVVBDRUFOUmVhZGVyJztcbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uL3V0aWwvU3RyaW5nQnVpbGRlcic7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuaW1wb3J0IEJhcmNvZGVGb3JtYXQgZnJvbSAnLi4vQmFyY29kZUZvcm1hdCc7XG4vLyBwYWNrYWdlIGNvbS5nb29nbGUuenhpbmcub25lZDtcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLkJhcmNvZGVGb3JtYXQ7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5Gb3JtYXRFeGNlcHRpb247XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5Ob3RGb3VuZEV4Y2VwdGlvbjtcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5CaXRBcnJheTtcbi8qKlxuICogPHA+SW1wbGVtZW50cyBkZWNvZGluZyBvZiB0aGUgVVBDLUUgZm9ybWF0LjwvcD5cbiAqIDxwPjxhIGhyZWY9XCJodHRwOi8vd3d3LmJhcmNvZGVpc2xhbmQuY29tL3VwY2UucGh0bWxcIj5UaGlzPC9hPiBpcyBhIGdyZWF0IHJlZmVyZW5jZSBmb3JcbiAqIFVQQy1FIGluZm9ybWF0aW9uLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICpcbiAqIEBzb3VyY2UgaHR0cHM6Ly9naXRodWIuY29tL3p4aW5nL3p4aW5nL2Jsb2IvM2M5NjkyMzI3NmRkNTc4NWQ1OGViOTcwYjZiYTNmODBkMzZhOTUwNS9jb3JlL3NyYy9tYWluL2phdmEvY29tL2dvb2dsZS96eGluZy9vbmVkL1VQQ0VSZWFkZXIuamF2YVxuICpcbiAqIEBleHBlcmltZW50YWxcbiAqL1xudmFyIFVQQ0VSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFVQQ0VSZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVVBDRVJlYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGVjb2RlTWlkZGxlQ291bnRlcnMgPSBuZXcgSW50MzJBcnJheSg0KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uXG4gICAgICovXG4gICAgLy8gQE92ZXJyaWRlXG4gICAgVVBDRVJlYWRlci5wcm90b3R5cGUuZGVjb2RlTWlkZGxlID0gZnVuY3Rpb24gKHJvdywgc3RhcnRSYW5nZSwgcmVzdWx0KSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgY291bnRlcnMgPSB0aGlzLmRlY29kZU1pZGRsZUNvdW50ZXJzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geDsgfSk7XG4gICAgICAgIGNvdW50ZXJzWzBdID0gMDtcbiAgICAgICAgY291bnRlcnNbMV0gPSAwO1xuICAgICAgICBjb3VudGVyc1syXSA9IDA7XG4gICAgICAgIGNvdW50ZXJzWzNdID0gMDtcbiAgICAgICAgdmFyIGVuZCA9IHJvdy5nZXRTaXplKCk7XG4gICAgICAgIHZhciByb3dPZmZzZXQgPSBzdGFydFJhbmdlWzFdO1xuICAgICAgICB2YXIgbGdQYXR0ZXJuRm91bmQgPSAwO1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IDYgJiYgcm93T2Zmc2V0IDwgZW5kOyB4KyspIHtcbiAgICAgICAgICAgIHZhciBiZXN0TWF0Y2ggPSBVUENFUmVhZGVyLmRlY29kZURpZ2l0KHJvdywgY291bnRlcnMsIHJvd09mZnNldCwgVVBDRVJlYWRlci5MX0FORF9HX1BBVFRFUk5TKTtcbiAgICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgnMCcuY2hhckNvZGVBdCgwKSArIGJlc3RNYXRjaCAlIDEwKSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNvdW50ZXJzXzEgPSAoZV8xID0gdm9pZCAwLCBfX3ZhbHVlcyhjb3VudGVycykpLCBjb3VudGVyc18xXzEgPSBjb3VudGVyc18xLm5leHQoKTsgIWNvdW50ZXJzXzFfMS5kb25lOyBjb3VudGVyc18xXzEgPSBjb3VudGVyc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IGNvdW50ZXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcm93T2Zmc2V0ICs9IGNvdW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyc18xXzEgJiYgIWNvdW50ZXJzXzFfMS5kb25lICYmIChfYSA9IGNvdW50ZXJzXzEucmV0dXJuKSkgX2EuY2FsbChjb3VudGVyc18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJlc3RNYXRjaCA+PSAxMCkge1xuICAgICAgICAgICAgICAgIGxnUGF0dGVybkZvdW5kIHw9IDEgPDwgKDUgLSB4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBVUENFUmVhZGVyLmRldGVybWluZU51bVN5c0FuZENoZWNrRGlnaXQobmV3IFN0cmluZ0J1aWxkZXIocmVzdWx0KSwgbGdQYXR0ZXJuRm91bmQpO1xuICAgICAgICByZXR1cm4gcm93T2Zmc2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvblxuICAgICAqL1xuICAgIC8vIEBPdmVycmlkZVxuICAgIFVQQ0VSZWFkZXIucHJvdG90eXBlLmRlY29kZUVuZCA9IGZ1bmN0aW9uIChyb3csIGVuZFN0YXJ0KSB7XG4gICAgICAgIHJldHVybiBVUENFUmVhZGVyLmZpbmRHdWFyZFBhdHRlcm5XaXRob3V0Q291bnRlcnMocm93LCBlbmRTdGFydCwgdHJ1ZSwgVVBDRVJlYWRlci5NSURETEVfRU5EX1BBVFRFUk4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb25cbiAgICAgKi9cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBVUENFUmVhZGVyLnByb3RvdHlwZS5jaGVja0NoZWNrc3VtID0gZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIFVQQ0VBTlJlYWRlci5jaGVja0NoZWNrc3VtKFVQQ0VSZWFkZXIuY29udmVydFVQQ0V0b1VQQ0EocykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvblxuICAgICAqL1xuICAgIFVQQ0VSZWFkZXIuZGV0ZXJtaW5lTnVtU3lzQW5kQ2hlY2tEaWdpdCA9IGZ1bmN0aW9uIChyZXN1bHRTdHJpbmcsIGxnUGF0dGVybkZvdW5kKSB7XG4gICAgICAgIGZvciAodmFyIG51bVN5cyA9IDA7IG51bVN5cyA8PSAxOyBudW1TeXMrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCAxMDsgZCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxnUGF0dGVybkZvdW5kID09PSB0aGlzLk5VTVNZU19BTkRfQ0hFQ0tfRElHSVRfUEFUVEVSTlNbbnVtU3lzXVtkXSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRTdHJpbmcuaW5zZXJ0KDAsIC8qKGNoYXIpKi8gKCcwJyArIG51bVN5cykpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRTdHJpbmcuYXBwZW5kKC8qKGNoYXIpKi8gKCcwJyArIGQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlKCk7XG4gICAgfTtcbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBVUENFUmVhZGVyLnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQmFyY29kZUZvcm1hdC5VUENfRTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4cGFuZHMgYSBVUEMtRSB2YWx1ZSBiYWNrIGludG8gaXRzIGZ1bGwsIGVxdWl2YWxlbnQgVVBDLUEgY29kZSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB1cGNlIFVQQy1FIGNvZGUgYXMgc3RyaW5nIG9mIGRpZ2l0c1xuICAgICAqIEByZXR1cm4gZXF1aXZhbGVudCBVUEMtQSBjb2RlIGFzIHN0cmluZyBvZiBkaWdpdHNcbiAgICAgKi9cbiAgICBVUENFUmVhZGVyLmNvbnZlcnRVUENFdG9VUENBID0gZnVuY3Rpb24gKHVwY2UpIHtcbiAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBsaW5lIGlzIGVxdWl2YWxlbnQgdG8gdXBjZS5nZXRDaGFycygxLCA3LCB1cGNlQ2hhcnMsIDApO1xuICAgICAgICB2YXIgdXBjZUNoYXJzID0gdXBjZS5zbGljZSgxLCA3KS5zcGxpdCgnJykubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmNoYXJDb2RlQXQoMCk7IH0pO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXIoIC8qMTIqLyk7XG4gICAgICAgIHJlc3VsdC5hcHBlbmQodXBjZS5jaGFyQXQoMCkpO1xuICAgICAgICB2YXIgbGFzdENoYXIgPSB1cGNlQ2hhcnNbNV07XG4gICAgICAgIHN3aXRjaCAobGFzdENoYXIpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kQ2hhcnModXBjZUNoYXJzLCAwLCAyKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGxhc3RDaGFyKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKCcwMDAwJyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZENoYXJzKHVwY2VDaGFycywgMiwgMyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZENoYXJzKHVwY2VDaGFycywgMCwgMyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnMDAwMDAnKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kQ2hhcnModXBjZUNoYXJzLCAzLCAyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kQ2hhcnModXBjZUNoYXJzLCAwLCA0KTtcbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKCcwMDAwMCcpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQodXBjZUNoYXJzWzRdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZENoYXJzKHVwY2VDaGFycywgMCwgNSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnMDAwMCcpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGFzdENoYXIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgYXBwZW5kIGNoZWNrIGRpZ2l0IGluIGNvbnZlcnNpb24gaWYgc3VwcGxpZWRcbiAgICAgICAgaWYgKHVwY2UubGVuZ3RoID49IDgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQodXBjZS5jaGFyQXQoNykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBwYXR0ZXJuIHRoYXQgbWFya3MgdGhlIG1pZGRsZSwgYW5kIGVuZCwgb2YgYSBVUEMtRSBwYXR0ZXJuLlxuICAgICAqIFRoZXJlIGlzIG5vIFwic2Vjb25kIGhhbGZcIiB0byBhIFVQQy1FIGJhcmNvZGUuXG4gICAgICovXG4gICAgVVBDRVJlYWRlci5NSURETEVfRU5EX1BBVFRFUk4gPSBJbnQzMkFycmF5LmZyb20oWzEsIDEsIDEsIDEsIDEsIDFdKTtcbiAgICAvLyBGb3IgYW4gVVBDLUUgYmFyY29kZSwgdGhlIGZpbmFsIGRpZ2l0IGlzIHJlcHJlc2VudGVkIGJ5IHRoZSBwYXJpdGllcyB1c2VkXG4gICAgLy8gdG8gZW5jb2RlIHRoZSBtaWRkbGUgc2l4IGRpZ2l0cywgYWNjb3JkaW5nIHRvIHRoZSB0YWJsZSBiZWxvdy5cbiAgICAvL1xuICAgIC8vICAgICAgICAgICAgICAgIFBhcml0eSBvZiBuZXh0IDYgZGlnaXRzXG4gICAgLy8gICAgRGlnaXQgICAwICAgICAxICAgICAyICAgICAzICAgICA0ICAgICA1XG4gICAgLy8gICAgICAgMCAgICBFdmVuICAgRXZlbiAgRXZlbiBPZGQgIE9kZCAgIE9kZFxuICAgIC8vICAgICAgIDEgICAgRXZlbiAgIEV2ZW4gIE9kZCAgRXZlbiBPZGQgICBPZGRcbiAgICAvLyAgICAgICAyICAgIEV2ZW4gICBFdmVuICBPZGQgIE9kZCAgRXZlbiAgT2RkXG4gICAgLy8gICAgICAgMyAgICBFdmVuICAgRXZlbiAgT2RkICBPZGQgIE9kZCAgIEV2ZW5cbiAgICAvLyAgICAgICA0ICAgIEV2ZW4gICBPZGQgICBFdmVuIEV2ZW4gT2RkICAgT2RkXG4gICAgLy8gICAgICAgNSAgICBFdmVuICAgT2RkICAgT2RkICBFdmVuIEV2ZW4gIE9kZFxuICAgIC8vICAgICAgIDYgICAgRXZlbiAgIE9kZCAgIE9kZCAgT2RkICBFdmVuICBFdmVuXG4gICAgLy8gICAgICAgNyAgICBFdmVuICAgT2RkICAgRXZlbiBPZGQgIEV2ZW4gIE9kZFxuICAgIC8vICAgICAgIDggICAgRXZlbiAgIE9kZCAgIEV2ZW4gT2RkICBPZGQgICBFdmVuXG4gICAgLy8gICAgICAgOSAgICBFdmVuICAgT2RkICAgT2RkICBFdmVuIE9kZCAgIEV2ZW5cbiAgICAvL1xuICAgIC8vIFRoZSBlbmNvZGluZyBpcyByZXByZXNlbnRlZCBieSB0aGUgZm9sbG93aW5nIGFycmF5LCB3aGljaCBpcyBhIGJpdCBwYXR0ZXJuXG4gICAgLy8gdXNpbmcgT2RkID0gMCBhbmQgRXZlbiA9IDEuIEZvciBleGFtcGxlLCA1IGlzIHJlcHJlc2VudGVkIGJ5OlxuICAgIC8vXG4gICAgLy8gICAgICAgICAgICAgIE9kZCBFdmVuIEV2ZW4gT2RkIE9kZCBFdmVuXG4gICAgLy8gaW4gYmluYXJ5OlxuICAgIC8vICAgICAgICAgICAgICAgIDAgICAgMSAgICAxICAgMCAgIDAgICAgMSAgID09IDB4MTlcbiAgICAvL1xuICAgIC8qKlxuICAgICAqIFNlZSB7QGxpbmsgI0xfQU5EX0dfUEFUVEVSTlN9OyB0aGVzZSB2YWx1ZXMgc2ltaWxhcmx5IHJlcHJlc2VudCBwYXR0ZXJucyBvZlxuICAgICAqIGV2ZW4tb2RkIHBhcml0eSBlbmNvZGluZ3Mgb2YgZGlnaXRzIHRoYXQgaW1wbHkgYm90aCB0aGUgbnVtYmVyIHN5c3RlbSAoMCBvciAxKVxuICAgICAqIHVzZWQsIGFuZCB0aGUgY2hlY2sgZGlnaXQuXG4gICAgICovXG4gICAgVVBDRVJlYWRlci5OVU1TWVNfQU5EX0NIRUNLX0RJR0lUX1BBVFRFUk5TID0gW1xuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzB4MzgsIDB4MzQsIDB4MzIsIDB4MzEsIDB4MkMsIDB4MjYsIDB4MjMsIDB4MkEsIDB4MjksIDB4MjVdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDA3LCAweDBCLCAweDBELCAweDBFLCAweDEzLCAweDE5LCAweDFDLCAweDE1LCAweDE2LCAweDFdKSxcbiAgICBdO1xuICAgIHJldHVybiBVUENFUmVhZGVyO1xufShVUENFQU5SZWFkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IFVQQ0VSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VUENFUmVhZGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5pbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuLi9CYXJjb2RlRm9ybWF0JztcbmltcG9ydCBEZWNvZGVIaW50VHlwZSBmcm9tICcuLi9EZWNvZGVIaW50VHlwZSc7XG5pbXBvcnQgUmVzdWx0IGZyb20gJy4uL1Jlc3VsdCc7XG5pbXBvcnQgT25lRFJlYWRlciBmcm9tICcuL09uZURSZWFkZXInO1xuaW1wb3J0IEVBTjEzUmVhZGVyIGZyb20gJy4vRUFOMTNSZWFkZXInO1xuaW1wb3J0IEVBTjhSZWFkZXIgZnJvbSAnLi9FQU44UmVhZGVyJztcbmltcG9ydCBVUENBUmVhZGVyIGZyb20gJy4vVVBDQVJlYWRlcic7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuaW1wb3J0IFVQQ0VSZWFkZXIgZnJvbSAnLi9VUENFUmVhZGVyJztcbi8qKlxuICogPHA+QSByZWFkZXIgdGhhdCBjYW4gcmVhZCBhbGwgYXZhaWxhYmxlIFVQQy9FQU4gZm9ybWF0cy4gSWYgYSBjYWxsZXIgd2FudHMgdG8gdHJ5IHRvXG4gKiByZWFkIGFsbCBzdWNoIGZvcm1hdHMsIGl0IGlzIG1vc3QgZWZmaWNpZW50IHRvIHVzZSB0aGlzIGltcGxlbWVudGF0aW9uIHJhdGhlciB0aGFuIGludm9rZVxuICogaW5kaXZpZHVhbCByZWFkZXJzLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgTXVsdGlGb3JtYXRVUENFQU5SZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE11bHRpRm9ybWF0VVBDRUFOUmVhZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE11bHRpRm9ybWF0VVBDRUFOUmVhZGVyKGhpbnRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBwb3NzaWJsZUZvcm1hdHMgPSBoaW50cyA9PSBudWxsID8gbnVsbCA6IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZS5QT1NTSUJMRV9GT1JNQVRTKTtcbiAgICAgICAgdmFyIHJlYWRlcnMgPSBbXTtcbiAgICAgICAgaWYgKHBvc3NpYmxlRm9ybWF0cyAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAocG9zc2libGVGb3JtYXRzLmluZGV4T2YoQmFyY29kZUZvcm1hdC5FQU5fMTMpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZWFkZXJzLnB1c2gobmV3IEVBTjEzUmVhZGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocG9zc2libGVGb3JtYXRzLmluZGV4T2YoQmFyY29kZUZvcm1hdC5VUENfQSkgPiAtMSkge1xuICAgICAgICAgICAgICAgIHJlYWRlcnMucHVzaChuZXcgVVBDQVJlYWRlcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3NzaWJsZUZvcm1hdHMuaW5kZXhPZihCYXJjb2RlRm9ybWF0LkVBTl84KSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVycy5wdXNoKG5ldyBFQU44UmVhZGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvc3NpYmxlRm9ybWF0cy5pbmRleE9mKEJhcmNvZGVGb3JtYXQuVVBDX0UpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZWFkZXJzLnB1c2gobmV3IFVQQ0VSZWFkZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlYWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZWFkZXJzLnB1c2gobmV3IEVBTjEzUmVhZGVyKCkpO1xuICAgICAgICAgICAgLy8gVVBDLUEgaXMgY292ZXJlZCBieSBFQU4tMTNcbiAgICAgICAgICAgIHJlYWRlcnMucHVzaChuZXcgRUFOOFJlYWRlcigpKTtcbiAgICAgICAgICAgIHJlYWRlcnMucHVzaChuZXcgVVBDRVJlYWRlcigpKTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5yZWFkZXJzID0gcmVhZGVycztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNdWx0aUZvcm1hdFVQQ0VBTlJlYWRlci5wcm90b3R5cGUuZGVjb2RlUm93ID0gZnVuY3Rpb24gKHJvd051bWJlciwgcm93LCBoaW50cykge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5yZWFkZXJzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCByZXN1bHQ6IFJlc3VsdCA9IHJlYWRlci5kZWNvZGVSb3cocm93TnVtYmVyLCByb3csIHN0YXJ0R3VhcmRQYXR0ZXJuLCBoaW50cyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZWFkZXIuZGVjb2RlUm93KHJvd051bWJlciwgcm93LCBoaW50cyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZTogYSAxMi1kaWdpdCBjb2RlIGVuY29kZWQgaW4gVVBDLUEgaXMgaWRlbnRpY2FsIHRvIGEgXCIwXCJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9sbG93ZWQgYnkgdGhvc2UgMTIgZGlnaXRzIGVuY29kZWQgYXMgRUFOLTEzLiBFYWNoIHdpbGwgcmVjb2duaXplIHN1Y2ggYSBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAvLyBVUEMtQSBhcyBhIDEyLWRpZ2l0IHN0cmluZyBhbmQgRUFOLTEzIGFzIGEgMTMtZGlnaXQgc3RyaW5nIHN0YXJ0aW5nIHdpdGggXCIwXCIuXG4gICAgICAgICAgICAgICAgICAgIC8vIEluZGl2aWR1YWxseSB0aGVzZSBhcmUgY29ycmVjdCBhbmQgdGhlaXIgcmVhZGVycyB3aWxsIGJvdGggcmVhZCBzdWNoIGEgY29kZVxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29ycmVjdGx5IGNhbGwgaXQgRUFOLTEzLCBvciBVUEMtQSwgcmVzcGVjdGl2ZWx5LlxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIGlmIHdlJ3ZlIGJlZW4gbG9va2luZyBmb3IgYm90aCB0eXBlcywgd2UnZCBsaWtlIHRvIGNhbGwgaXRcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBVUEMtQSBjb2RlLiBCdXQgZm9yIGVmZmljaWVuY3kgd2Ugb25seSBydW4gdGhlIEVBTi0xMyBkZWNvZGVyIHRvIGFsc28gcmVhZFxuICAgICAgICAgICAgICAgICAgICAvLyBVUEMtQS4gU28gd2Ugc3BlY2lhbCBjYXNlIGl0IGhlcmUsIGFuZCBjb252ZXJ0IGFuIEVBTi0xMyByZXN1bHQgdG8gYSBVUEMtQVxuICAgICAgICAgICAgICAgICAgICAvLyByZXN1bHQgaWYgYXBwcm9wcmlhdGUuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIEJ1dCwgZG9uJ3QgcmV0dXJuIFVQQy1BIGlmIFVQQy1BIHdhcyBub3QgYSByZXF1ZXN0ZWQgZm9ybWF0IVxuICAgICAgICAgICAgICAgICAgICB2YXIgZWFuMTNNYXlCZVVQQ0EgPSByZXN1bHQuZ2V0QmFyY29kZUZvcm1hdCgpID09PSBCYXJjb2RlRm9ybWF0LkVBTl8xMyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmdldFRleHQoKS5jaGFyQXQoMCkgPT09ICcwJztcbiAgICAgICAgICAgICAgICAgICAgLy8gQFN1cHByZXNzV2FybmluZ3MoXCJ1bmNoZWNrZWRcIilcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc3NpYmxlRm9ybWF0cyA9IGhpbnRzID09IG51bGwgPyBudWxsIDogaGludHMuZ2V0KERlY29kZUhpbnRUeXBlLlBPU1NJQkxFX0ZPUk1BVFMpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FuUmV0dXJuVVBDQSA9IHBvc3NpYmxlRm9ybWF0cyA9PSBudWxsIHx8IHBvc3NpYmxlRm9ybWF0cy5pbmNsdWRlcyhCYXJjb2RlRm9ybWF0LlVQQ19BKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVhbjEzTWF5QmVVUENBICYmIGNhblJldHVyblVQQ0EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYXdCeXRlcyA9IHJlc3VsdC5nZXRSYXdCeXRlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNmZXIgdGhlIG1ldGFkYXRhIGFjcm9zc1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdFVQQ0EgPSBuZXcgUmVzdWx0KHJlc3VsdC5nZXRUZXh0KCkuc3Vic3RyaW5nKDEpLCByYXdCeXRlcywgcmF3Qnl0ZXMubGVuZ3RoLCByZXN1bHQuZ2V0UmVzdWx0UG9pbnRzKCksIEJhcmNvZGVGb3JtYXQuVVBDX0EpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0VVBDQS5wdXRBbGxNZXRhZGF0YShyZXN1bHQuZ2V0UmVzdWx0TWV0YWRhdGEoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0VVBDQTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgIH07XG4gICAgTXVsdGlGb3JtYXRVUENFQU5SZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8yLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5yZWFkZXJzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVzZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTXVsdGlGb3JtYXRVUENFQU5SZWFkZXI7XG59KE9uZURSZWFkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IE11bHRpRm9ybWF0VVBDRUFOUmVhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXVsdGlGb3JtYXRVUENFQU5SZWFkZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5pbXBvcnQgTWF0aFV0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9kZXRlY3Rvci9NYXRoVXRpbHMnO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uLy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBPbmVEUmVhZGVyIGZyb20gJy4uL09uZURSZWFkZXInO1xuLy8gaW1wb3J0IEludGVnZXIgZnJvbSAnLi4vLi4vdXRpbC9JbnRlZ2VyJztcbi8vIGltcG9ydCBGbG9hdCBmcm9tICcuLi8uLi91dGlsL0Zsb2F0JztcbnZhciBBYnN0cmFjdFJTU1JlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWJzdHJhY3RSU1NSZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RSU1NSZWFkZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRlY29kZUZpbmRlckNvdW50ZXJzID0gbmV3IEludDMyQXJyYXkoNCk7XG4gICAgICAgIF90aGlzLmRhdGFDaGFyYWN0ZXJDb3VudGVycyA9IG5ldyBJbnQzMkFycmF5KDgpO1xuICAgICAgICBfdGhpcy5vZGRSb3VuZGluZ0Vycm9ycyA9IG5ldyBBcnJheSg0KTtcbiAgICAgICAgX3RoaXMuZXZlblJvdW5kaW5nRXJyb3JzID0gbmV3IEFycmF5KDQpO1xuICAgICAgICBfdGhpcy5vZGRDb3VudHMgPSBuZXcgQXJyYXkoX3RoaXMuZGF0YUNoYXJhY3RlckNvdW50ZXJzLmxlbmd0aCAvIDIpO1xuICAgICAgICBfdGhpcy5ldmVuQ291bnRzID0gbmV3IEFycmF5KF90aGlzLmRhdGFDaGFyYWN0ZXJDb3VudGVycy5sZW5ndGggLyAyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBYnN0cmFjdFJTU1JlYWRlci5wcm90b3R5cGUuZ2V0RGVjb2RlRmluZGVyQ291bnRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZpbmRlckNvdW50ZXJzO1xuICAgIH07XG4gICAgQWJzdHJhY3RSU1NSZWFkZXIucHJvdG90eXBlLmdldERhdGFDaGFyYWN0ZXJDb3VudGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUNoYXJhY3RlckNvdW50ZXJzO1xuICAgIH07XG4gICAgQWJzdHJhY3RSU1NSZWFkZXIucHJvdG90eXBlLmdldE9kZFJvdW5kaW5nRXJyb3JzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vZGRSb3VuZGluZ0Vycm9ycztcbiAgICB9O1xuICAgIEFic3RyYWN0UlNTUmVhZGVyLnByb3RvdHlwZS5nZXRFdmVuUm91bmRpbmdFcnJvcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW5Sb3VuZGluZ0Vycm9ycztcbiAgICB9O1xuICAgIEFic3RyYWN0UlNTUmVhZGVyLnByb3RvdHlwZS5nZXRPZGRDb3VudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9kZENvdW50cztcbiAgICB9O1xuICAgIEFic3RyYWN0UlNTUmVhZGVyLnByb3RvdHlwZS5nZXRFdmVuQ291bnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVuQ291bnRzO1xuICAgIH07XG4gICAgQWJzdHJhY3RSU1NSZWFkZXIucHJvdG90eXBlLnBhcnNlRmluZGVyVmFsdWUgPSBmdW5jdGlvbiAoY291bnRlcnMsIGZpbmRlclBhdHRlcm5zKSB7XG4gICAgICAgIGZvciAodmFyIHZhbHVlID0gMDsgdmFsdWUgPCBmaW5kZXJQYXR0ZXJucy5sZW5ndGg7IHZhbHVlKyspIHtcbiAgICAgICAgICAgIGlmIChPbmVEUmVhZGVyLnBhdHRlcm5NYXRjaFZhcmlhbmNlKGNvdW50ZXJzLCBmaW5kZXJQYXR0ZXJuc1t2YWx1ZV0sIEFic3RyYWN0UlNTUmVhZGVyLk1BWF9JTkRJVklEVUFMX1ZBUklBTkNFKSA8IEFic3RyYWN0UlNTUmVhZGVyLk1BWF9BVkdfVkFSSUFOQ0UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bVxuICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlc1xuICAgICAqIEBkZXByZWNhdGVkIGNhbGwge0BsaW5rIE1hdGhVdGlscyNzdW0oaW50W10pfVxuICAgICAqL1xuICAgIEFic3RyYWN0UlNTUmVhZGVyLmNvdW50ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHJldHVybiBNYXRoVXRpbHMuc3VtKG5ldyBJbnQzMkFycmF5KGFycmF5KSk7XG4gICAgfTtcbiAgICBBYnN0cmFjdFJTU1JlYWRlci5pbmNyZW1lbnQgPSBmdW5jdGlvbiAoYXJyYXksIGVycm9ycykge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgYmlnZ2VzdEVycm9yID0gZXJyb3JzWzBdO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3JzW2ldID4gYmlnZ2VzdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgYmlnZ2VzdEVycm9yID0gZXJyb3JzW2ldO1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcnJheVtpbmRleF0rKztcbiAgICB9O1xuICAgIEFic3RyYWN0UlNTUmVhZGVyLmRlY3JlbWVudCA9IGZ1bmN0aW9uIChhcnJheSwgZXJyb3JzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBiaWdnZXN0RXJyb3IgPSBlcnJvcnNbMF07XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlcnJvcnNbaV0gPCBiaWdnZXN0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICBiaWdnZXN0RXJyb3IgPSBlcnJvcnNbaV07XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFycmF5W2luZGV4XS0tO1xuICAgIH07XG4gICAgQWJzdHJhY3RSU1NSZWFkZXIuaXNGaW5kZXJQYXR0ZXJuID0gZnVuY3Rpb24gKGNvdW50ZXJzKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgZmlyc3RUd29TdW0gPSBjb3VudGVyc1swXSArIGNvdW50ZXJzWzFdO1xuICAgICAgICB2YXIgc3VtID0gZmlyc3RUd29TdW0gKyBjb3VudGVyc1syXSArIGNvdW50ZXJzWzNdO1xuICAgICAgICB2YXIgcmF0aW8gPSBmaXJzdFR3b1N1bSAvIHN1bTtcbiAgICAgICAgaWYgKHJhdGlvID49IEFic3RyYWN0UlNTUmVhZGVyLk1JTl9GSU5ERVJfUEFUVEVSTl9SQVRJTyAmJiByYXRpbyA8PSBBYnN0cmFjdFJTU1JlYWRlci5NQVhfRklOREVSX1BBVFRFUk5fUkFUSU8pIHtcbiAgICAgICAgICAgIC8vIHBhc3NlcyByYXRpbyB0ZXN0IGluIHNwZWMsIGJ1dCBzZWUgaWYgdGhlIGNvdW50cyBhcmUgdW5yZWFzb25hYmxlXG4gICAgICAgICAgICB2YXIgbWluQ291bnRlciA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICAgICAgdmFyIG1heENvdW50ZXIgPSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY291bnRlcnNfMSA9IF9fdmFsdWVzKGNvdW50ZXJzKSwgY291bnRlcnNfMV8xID0gY291bnRlcnNfMS5uZXh0KCk7ICFjb3VudGVyc18xXzEuZG9uZTsgY291bnRlcnNfMV8xID0gY291bnRlcnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBjb3VudGVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyID4gbWF4Q291bnRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q291bnRlciA9IGNvdW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgPCBtaW5Db3VudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5Db3VudGVyID0gY291bnRlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlcnNfMV8xICYmICFjb3VudGVyc18xXzEuZG9uZSAmJiAoX2EgPSBjb3VudGVyc18xLnJldHVybikpIF9hLmNhbGwoY291bnRlcnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXhDb3VudGVyIDwgMTAgKiBtaW5Db3VudGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEFic3RyYWN0UlNTUmVhZGVyLk1BWF9BVkdfVkFSSUFOQ0UgPSAwLjI7XG4gICAgQWJzdHJhY3RSU1NSZWFkZXIuTUFYX0lORElWSURVQUxfVkFSSUFOQ0UgPSAwLjQ1O1xuICAgIEFic3RyYWN0UlNTUmVhZGVyLk1JTl9GSU5ERVJfUEFUVEVSTl9SQVRJTyA9IDkuNSAvIDEyLjA7XG4gICAgQWJzdHJhY3RSU1NSZWFkZXIuTUFYX0ZJTkRFUl9QQVRURVJOX1JBVElPID0gMTIuNSAvIDE0LjA7XG4gICAgcmV0dXJuIEFic3RyYWN0UlNTUmVhZGVyO1xufShPbmVEUmVhZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBBYnN0cmFjdFJTU1JlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFic3RyYWN0UlNTUmVhZGVyLmpzLm1hcCIsInZhciBEYXRhQ2hhcmFjdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGFDaGFyYWN0ZXIodmFsdWUsIGNoZWNrc3VtUG9ydGlvbikge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuY2hlY2tzdW1Qb3J0aW9uID0gY2hlY2tzdW1Qb3J0aW9uO1xuICAgIH1cbiAgICBEYXRhQ2hhcmFjdGVyLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICBEYXRhQ2hhcmFjdGVyLnByb3RvdHlwZS5nZXRDaGVja3N1bVBvcnRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrc3VtUG9ydGlvbjtcbiAgICB9O1xuICAgIERhdGFDaGFyYWN0ZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSArICcoJyArIHRoaXMuY2hlY2tzdW1Qb3J0aW9uICsgJyknO1xuICAgIH07XG4gICAgRGF0YUNoYXJhY3Rlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIERhdGFDaGFyYWN0ZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoYXQgPSBvO1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSA9PT0gdGhhdC52YWx1ZSAmJiB0aGlzLmNoZWNrc3VtUG9ydGlvbiA9PT0gdGhhdC5jaGVja3N1bVBvcnRpb247XG4gICAgfTtcbiAgICBEYXRhQ2hhcmFjdGVyLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgXiB0aGlzLmNoZWNrc3VtUG9ydGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBEYXRhQ2hhcmFjdGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IERhdGFDaGFyYWN0ZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYXRhQ2hhcmFjdGVyLmpzLm1hcCIsImltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi8uLi9SZXN1bHRQb2ludCc7XG52YXIgRmluZGVyUGF0dGVybiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHZhbHVlLCBzdGFydEVuZCwgc3RhcnQsIGVuZCwgcm93TnVtYmVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zdGFydEVuZCA9IHN0YXJ0RW5kO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuc3RhcnRFbmQgPSBzdGFydEVuZDtcbiAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMucHVzaChuZXcgUmVzdWx0UG9pbnQoc3RhcnQsIHJvd051bWJlcikpO1xuICAgICAgICB0aGlzLnJlc3VsdFBvaW50cy5wdXNoKG5ldyBSZXN1bHRQb2ludChlbmQsIHJvd051bWJlcikpO1xuICAgIH1cbiAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRTdGFydEVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRFbmQ7XG4gICAgfTtcbiAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdFBvaW50cztcbiAgICB9O1xuICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGaW5kZXJQYXR0ZXJuKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGF0ID0gbztcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IHRoYXQudmFsdWU7XG4gICAgfTtcbiAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gRmluZGVyUGF0dGVybjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGaW5kZXJQYXR0ZXJuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmluZGVyUGF0dGVybi5qcy5tYXAiLCJ2YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG4vKipcbiAqIFJTUyB1dGlsIGZ1bmN0aW9ucy5cbiAqL1xudmFyIFJTU1V0aWxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJTU1V0aWxzKCkge1xuICAgIH1cbiAgICBSU1NVdGlscy5nZXRSU1N2YWx1ZSA9IGZ1bmN0aW9uICh3aWR0aHMsIG1heFdpZHRoLCBub05hcnJvdykge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIG4gPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgd2lkdGhzXzEgPSBfX3ZhbHVlcyh3aWR0aHMpLCB3aWR0aHNfMV8xID0gd2lkdGhzXzEubmV4dCgpOyAhd2lkdGhzXzFfMS5kb25lOyB3aWR0aHNfMV8xID0gd2lkdGhzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gd2lkdGhzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBuICs9IHdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAod2lkdGhzXzFfMSAmJiAhd2lkdGhzXzFfMS5kb25lICYmIChfYSA9IHdpZHRoc18xLnJldHVybikpIF9hLmNhbGwod2lkdGhzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB2YWwgPSAwO1xuICAgICAgICB2YXIgbmFycm93TWFzayA9IDA7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IHdpZHRocy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGJhciA9IDA7IGJhciA8IGVsZW1lbnRzIC0gMTsgYmFyKyspIHtcbiAgICAgICAgICAgIHZhciBlbG1XaWR0aCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGZvciAoZWxtV2lkdGggPSAxLCBuYXJyb3dNYXNrIHw9IDEgPDwgYmFyOyBlbG1XaWR0aCA8IHdpZHRoc1tiYXJdOyBlbG1XaWR0aCsrLCBuYXJyb3dNYXNrICY9IH4oMSA8PCBiYXIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YlZhbCA9IFJTU1V0aWxzLmNvbWJpbnMobiAtIGVsbVdpZHRoIC0gMSwgZWxlbWVudHMgLSBiYXIgLSAyKTtcbiAgICAgICAgICAgICAgICBpZiAobm9OYXJyb3cgJiYgKG5hcnJvd01hc2sgPT09IDApICYmIChuIC0gZWxtV2lkdGggLSAoZWxlbWVudHMgLSBiYXIgLSAxKSA+PSBlbGVtZW50cyAtIGJhciAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlZhbCAtPSBSU1NVdGlscy5jb21iaW5zKG4gLSBlbG1XaWR0aCAtIChlbGVtZW50cyAtIGJhciksIGVsZW1lbnRzIC0gYmFyIC0gMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50cyAtIGJhciAtIDEgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsZXNzVmFsID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbXh3RWxlbWVudCA9IG4gLSBlbG1XaWR0aCAtIChlbGVtZW50cyAtIGJhciAtIDIpOyBteHdFbGVtZW50ID4gbWF4V2lkdGg7IG14d0VsZW1lbnQtLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVzc1ZhbCArPSBSU1NVdGlscy5jb21iaW5zKG4gLSBlbG1XaWR0aCAtIG14d0VsZW1lbnQgLSAxLCBlbGVtZW50cyAtIGJhciAtIDMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YlZhbCAtPSBsZXNzVmFsICogKGVsZW1lbnRzIC0gMSAtIGJhcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG4gLSBlbG1XaWR0aCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YlZhbC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWwgKz0gc3ViVmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbiAtPSBlbG1XaWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH07XG4gICAgUlNTVXRpbHMuY29tYmlucyA9IGZ1bmN0aW9uIChuLCByKSB7XG4gICAgICAgIHZhciBtYXhEZW5vbTtcbiAgICAgICAgdmFyIG1pbkRlbm9tO1xuICAgICAgICBpZiAobiAtIHIgPiByKSB7XG4gICAgICAgICAgICBtaW5EZW5vbSA9IHI7XG4gICAgICAgICAgICBtYXhEZW5vbSA9IG4gLSByO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWluRGVub20gPSBuIC0gcjtcbiAgICAgICAgICAgIG1heERlbm9tID0gcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsID0gMTtcbiAgICAgICAgdmFyIGogPSAxO1xuICAgICAgICBmb3IgKHZhciBpID0gbjsgaSA+IG1heERlbm9tOyBpLS0pIHtcbiAgICAgICAgICAgIHZhbCAqPSBpO1xuICAgICAgICAgICAgaWYgKGogPD0gbWluRGVub20pIHtcbiAgICAgICAgICAgICAgICB2YWwgLz0gajtcbiAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKChqIDw9IG1pbkRlbm9tKSkge1xuICAgICAgICAgICAgdmFsIC89IGo7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuICAgIHJldHVybiBSU1NVdGlscztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBSU1NVdGlscztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJTU1V0aWxzLmpzLm1hcCIsImltcG9ydCBCaXRBcnJheSBmcm9tICcuLi8uLi8uLi9jb21tb24vQml0QXJyYXknO1xudmFyIEJpdEFycmF5QnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaXRBcnJheUJ1aWxkZXIoKSB7XG4gICAgfVxuICAgIEJpdEFycmF5QnVpbGRlci5idWlsZEJpdEFycmF5ID0gZnVuY3Rpb24gKHBhaXJzKSB7XG4gICAgICAgIHZhciBjaGFyTnVtYmVyID0gKHBhaXJzLmxlbmd0aCAqIDIpIC0gMTtcbiAgICAgICAgaWYgKHBhaXJzW3BhaXJzLmxlbmd0aCAtIDFdLmdldFJpZ2h0Q2hhcigpID09IG51bGwpIHtcbiAgICAgICAgICAgIGNoYXJOdW1iZXIgLT0gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l6ZSA9IDEyICogY2hhck51bWJlcjtcbiAgICAgICAgdmFyIGJpbmFyeSA9IG5ldyBCaXRBcnJheShzaXplKTtcbiAgICAgICAgdmFyIGFjY1BvcyA9IDA7XG4gICAgICAgIHZhciBmaXJzdFBhaXIgPSBwYWlyc1swXTtcbiAgICAgICAgdmFyIGZpcnN0VmFsdWUgPSBmaXJzdFBhaXIuZ2V0UmlnaHRDaGFyKCkuZ2V0VmFsdWUoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDExOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgaWYgKChmaXJzdFZhbHVlICYgKDEgPDwgaSkpICE9IDApIHtcbiAgICAgICAgICAgICAgICBiaW5hcnkuc2V0KGFjY1Bvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2NQb3MrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHBhaXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFBhaXIgPSBwYWlyc1tpXTtcbiAgICAgICAgICAgIHZhciBsZWZ0VmFsdWUgPSBjdXJyZW50UGFpci5nZXRMZWZ0Q2hhcigpLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMTE7IGogPj0gMDsgLS1qKSB7XG4gICAgICAgICAgICAgICAgaWYgKChsZWZ0VmFsdWUgJiAoMSA8PCBqKSkgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBiaW5hcnkuc2V0KGFjY1Bvcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjY1BvcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWlyLmdldFJpZ2h0Q2hhcigpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmlnaHRWYWx1ZSA9IGN1cnJlbnRQYWlyLmdldFJpZ2h0Q2hhcigpLmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDExOyBqID49IDA7IC0taikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHJpZ2h0VmFsdWUgJiAoMSA8PCBqKSkgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmluYXJ5LnNldChhY2NQb3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFjY1BvcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmluYXJ5O1xuICAgIH07XG4gICAgcmV0dXJuIEJpdEFycmF5QnVpbGRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBCaXRBcnJheUJ1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRBcnJheUJ1aWxkZXIuanMubWFwIiwidmFyIEJsb2NrUGFyc2VkUmVzdWx0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJsb2NrUGFyc2VkUmVzdWx0KGZpbmlzaGVkLCBkZWNvZGVkSW5mb3JtYXRpb24pIHtcbiAgICAgICAgaWYgKGRlY29kZWRJbmZvcm1hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVkSW5mb3JtYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZpbmlzaGVkO1xuICAgICAgICAgICAgdGhpcy5kZWNvZGVkSW5mb3JtYXRpb24gPSBkZWNvZGVkSW5mb3JtYXRpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgQmxvY2tQYXJzZWRSZXN1bHQucHJvdG90eXBlLmdldERlY29kZWRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlZEluZm9ybWF0aW9uO1xuICAgIH07XG4gICAgQmxvY2tQYXJzZWRSZXN1bHQucHJvdG90eXBlLmlzRmluaXNoZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmlzaGVkO1xuICAgIH07XG4gICAgcmV0dXJuIEJsb2NrUGFyc2VkUmVzdWx0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEJsb2NrUGFyc2VkUmVzdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmxvY2tQYXJzZWRSZXN1bHQuanMubWFwIiwidmFyIERlY29kZWRPYmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVjb2RlZE9iamVjdChuZXdQb3NpdGlvbikge1xuICAgICAgICB0aGlzLm5ld1Bvc2l0aW9uID0gbmV3UG9zaXRpb247XG4gICAgfVxuICAgIERlY29kZWRPYmplY3QucHJvdG90eXBlLmdldE5ld1Bvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXdQb3NpdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBEZWNvZGVkT2JqZWN0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IERlY29kZWRPYmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWNvZGVkT2JqZWN0LmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IERlY29kZWRPYmplY3QgZnJvbSAnLi9EZWNvZGVkT2JqZWN0JztcbnZhciBEZWNvZGVkQ2hhciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGVjb2RlZENoYXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVjb2RlZENoYXIobmV3UG9zaXRpb24sIHZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5ld1Bvc2l0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERlY29kZWRDaGFyLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICBEZWNvZGVkQ2hhci5wcm90b3R5cGUuaXNGTkMxID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSA9PT0gRGVjb2RlZENoYXIuRk5DMTtcbiAgICB9O1xuICAgIERlY29kZWRDaGFyLkZOQzEgPSAnJCc7XG4gICAgcmV0dXJuIERlY29kZWRDaGFyO1xufShEZWNvZGVkT2JqZWN0KSk7XG5leHBvcnQgZGVmYXVsdCBEZWNvZGVkQ2hhcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZWRDaGFyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IERlY29kZWRPYmplY3QgZnJvbSAnLi9EZWNvZGVkT2JqZWN0JztcbnZhciBEZWNvZGVkSW5mb3JtYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlY29kZWRJbmZvcm1hdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWNvZGVkSW5mb3JtYXRpb24obmV3UG9zaXRpb24sIG5ld1N0cmluZywgcmVtYWluaW5nVmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbmV3UG9zaXRpb24pIHx8IHRoaXM7XG4gICAgICAgIGlmIChyZW1haW5pbmdWYWx1ZSkge1xuICAgICAgICAgICAgX3RoaXMucmVtYWluaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLnJlbWFpbmluZ1ZhbHVlID0gX3RoaXMucmVtYWluaW5nVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5yZW1haW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLnJlbWFpbmluZ1ZhbHVlID0gMDtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5uZXdTdHJpbmcgPSBuZXdTdHJpbmc7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRGVjb2RlZEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXROZXdTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5ld1N0cmluZztcbiAgICB9O1xuICAgIERlY29kZWRJbmZvcm1hdGlvbi5wcm90b3R5cGUuaXNSZW1haW5pbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZztcbiAgICB9O1xuICAgIERlY29kZWRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0UmVtYWluaW5nVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbWFpbmluZ1ZhbHVlO1xuICAgIH07XG4gICAgcmV0dXJuIERlY29kZWRJbmZvcm1hdGlvbjtcbn0oRGVjb2RlZE9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgRGVjb2RlZEluZm9ybWF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVjb2RlZEluZm9ybWF0aW9uLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEZvcm1hdEV4Y2VwdGlvbiBmcm9tICcuLi8uLi8uLi8uLi9Gb3JtYXRFeGNlcHRpb24nO1xuaW1wb3J0IERlY29kZWRPYmplY3QgZnJvbSAnLi9EZWNvZGVkT2JqZWN0JztcbnZhciBEZWNvZGVkTnVtZXJpYyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGVjb2RlZE51bWVyaWMsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRGVjb2RlZE51bWVyaWMobmV3UG9zaXRpb24sIGZpcnN0RGlnaXQsIHNlY29uZERpZ2l0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG5ld1Bvc2l0aW9uKSB8fCB0aGlzO1xuICAgICAgICBpZiAoZmlyc3REaWdpdCA8IDAgfHwgZmlyc3REaWdpdCA+IDEwIHx8IHNlY29uZERpZ2l0IDwgMCB8fCBzZWNvbmREaWdpdCA+IDEwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuZmlyc3REaWdpdCA9IGZpcnN0RGlnaXQ7XG4gICAgICAgIF90aGlzLnNlY29uZERpZ2l0ID0gc2Vjb25kRGlnaXQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRGVjb2RlZE51bWVyaWMucHJvdG90eXBlLmdldEZpcnN0RGlnaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0RGlnaXQ7XG4gICAgfTtcbiAgICBEZWNvZGVkTnVtZXJpYy5wcm90b3R5cGUuZ2V0U2Vjb25kRGlnaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlY29uZERpZ2l0O1xuICAgIH07XG4gICAgRGVjb2RlZE51bWVyaWMucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maXJzdERpZ2l0ICogMTAgKyB0aGlzLnNlY29uZERpZ2l0O1xuICAgIH07XG4gICAgRGVjb2RlZE51bWVyaWMucHJvdG90eXBlLmlzRmlyc3REaWdpdEZOQzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpcnN0RGlnaXQgPT09IERlY29kZWROdW1lcmljLkZOQzE7XG4gICAgfTtcbiAgICBEZWNvZGVkTnVtZXJpYy5wcm90b3R5cGUuaXNTZWNvbmREaWdpdEZOQzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlY29uZERpZ2l0ID09PSBEZWNvZGVkTnVtZXJpYy5GTkMxO1xuICAgIH07XG4gICAgRGVjb2RlZE51bWVyaWMucHJvdG90eXBlLmlzQW55Rk5DMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3REaWdpdCA9PT0gRGVjb2RlZE51bWVyaWMuRk5DMSB8fCB0aGlzLnNlY29uZERpZ2l0ID09PSBEZWNvZGVkTnVtZXJpYy5GTkMxO1xuICAgIH07XG4gICAgRGVjb2RlZE51bWVyaWMuRk5DMSA9IDEwO1xuICAgIHJldHVybiBEZWNvZGVkTnVtZXJpYztcbn0oRGVjb2RlZE9iamVjdCkpO1xuZXhwb3J0IGRlZmF1bHQgRGVjb2RlZE51bWVyaWM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZWNvZGVkTnVtZXJpYy5qcy5tYXAiLCJ2YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vLi4vLi4vLi4vTm90Rm91bmRFeGNlcHRpb24nO1xudmFyIEZpZWxkUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZpZWxkUGFyc2VyKCkge1xuICAgIH1cbiAgICBGaWVsZFBhcnNlci5wYXJzZUZpZWxkc0luR2VuZXJhbFB1cnBvc2UgPSBmdW5jdGlvbiAocmF3SW5mb3JtYXRpb24pIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2IsIGVfMywgX2MsIGVfNCwgX2Q7XG4gICAgICAgIGlmICghcmF3SW5mb3JtYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb2Nlc3NpbmcgMi1kaWdpdCBBSXNcbiAgICAgICAgaWYgKHJhd0luZm9ybWF0aW9uLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaXJzdFR3b0RpZ2l0cyA9IHJhd0luZm9ybWF0aW9uLnN1YnN0cmluZygwLCAyKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXMoRmllbGRQYXJzZXIuVFdPX0RJR0lUX0RBVEFfTEVOR1RIKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhTGVuZ3RoID0gX2YudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFMZW5ndGhbMF0gPT09IGZpcnN0VHdvRGlnaXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhTGVuZ3RoWzFdID09PSBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWVsZFBhcnNlci5wcm9jZXNzVmFyaWFibGVBSSgyLCBkYXRhTGVuZ3RoWzJdLCByYXdJbmZvcm1hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZpZWxkUGFyc2VyLnByb2Nlc3NGaXhlZEFJKDIsIGRhdGFMZW5ndGhbMV0sIHJhd0luZm9ybWF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2EgPSBfZS5yZXR1cm4pKSBfYS5jYWxsKF9lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmF3SW5mb3JtYXRpb24ubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpcnN0VGhyZWVEaWdpdHMgPSByYXdJbmZvcm1hdGlvbi5zdWJzdHJpbmcoMCwgMyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfZyA9IF9fdmFsdWVzKEZpZWxkUGFyc2VyLlRIUkVFX0RJR0lUX0RBVEFfTEVOR1RIKSwgX2ggPSBfZy5uZXh0KCk7ICFfaC5kb25lOyBfaCA9IF9nLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhTGVuZ3RoID0gX2gudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFMZW5ndGhbMF0gPT09IGZpcnN0VGhyZWVEaWdpdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFMZW5ndGhbMV0gPT09IEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZpZWxkUGFyc2VyLnByb2Nlc3NWYXJpYWJsZUFJKDMsIGRhdGFMZW5ndGhbMl0sIHJhd0luZm9ybWF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmllbGRQYXJzZXIucHJvY2Vzc0ZpeGVkQUkoMywgZGF0YUxlbmd0aFsxXSwgcmF3SW5mb3JtYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9oICYmICFfaC5kb25lICYmIChfYiA9IF9nLnJldHVybikpIF9iLmNhbGwoX2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaiA9IF9fdmFsdWVzKEZpZWxkUGFyc2VyLlRIUkVFX0RJR0lUX1BMVVNfRElHSVRfREFUQV9MRU5HVEgpLCBfayA9IF9qLm5leHQoKTsgIV9rLmRvbmU7IF9rID0gX2oubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFMZW5ndGggPSBfay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxlbmd0aFswXSA9PT0gZmlyc3RUaHJlZURpZ2l0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YUxlbmd0aFsxXSA9PT0gRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmllbGRQYXJzZXIucHJvY2Vzc1ZhcmlhYmxlQUkoNCwgZGF0YUxlbmd0aFsyXSwgcmF3SW5mb3JtYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWVsZFBhcnNlci5wcm9jZXNzRml4ZWRBSSg0LCBkYXRhTGVuZ3RoWzFdLCByYXdJbmZvcm1hdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2sgJiYgIV9rLmRvbmUgJiYgKF9jID0gX2oucmV0dXJuKSkgX2MuY2FsbChfaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJhd0luZm9ybWF0aW9uLmxlbmd0aCA8IDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaXJzdEZvdXJEaWdpdHMgPSByYXdJbmZvcm1hdGlvbi5zdWJzdHJpbmcoMCwgNCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbCA9IF9fdmFsdWVzKEZpZWxkUGFyc2VyLkZPVVJfRElHSVRfREFUQV9MRU5HVEgpLCBfbSA9IF9sLm5leHQoKTsgIV9tLmRvbmU7IF9tID0gX2wubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFMZW5ndGggPSBfbS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUxlbmd0aFswXSA9PT0gZmlyc3RGb3VyRGlnaXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhTGVuZ3RoWzFdID09PSBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWVsZFBhcnNlci5wcm9jZXNzVmFyaWFibGVBSSg0LCBkYXRhTGVuZ3RoWzJdLCByYXdJbmZvcm1hdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZpZWxkUGFyc2VyLnByb2Nlc3NGaXhlZEFJKDQsIGRhdGFMZW5ndGhbMV0sIHJhd0luZm9ybWF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfbSAmJiAhX20uZG9uZSAmJiAoX2QgPSBfbC5yZXR1cm4pKSBfZC5jYWxsKF9sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV80KSB0aHJvdyBlXzQuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICB9O1xuICAgIEZpZWxkUGFyc2VyLnByb2Nlc3NGaXhlZEFJID0gZnVuY3Rpb24gKGFpU2l6ZSwgZmllbGRTaXplLCByYXdJbmZvcm1hdGlvbikge1xuICAgICAgICBpZiAocmF3SW5mb3JtYXRpb24ubGVuZ3RoIDwgYWlTaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWkgPSByYXdJbmZvcm1hdGlvbi5zdWJzdHJpbmcoMCwgYWlTaXplKTtcbiAgICAgICAgaWYgKHJhd0luZm9ybWF0aW9uLmxlbmd0aCA8IGFpU2l6ZSArIGZpZWxkU2l6ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpZWxkID0gcmF3SW5mb3JtYXRpb24uc3Vic3RyaW5nKGFpU2l6ZSwgYWlTaXplICsgZmllbGRTaXplKTtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IHJhd0luZm9ybWF0aW9uLnN1YnN0cmluZyhhaVNpemUgKyBmaWVsZFNpemUpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJygnICsgYWkgKyAnKScgKyBmaWVsZDtcbiAgICAgICAgdmFyIHBhcnNlZEFJID0gRmllbGRQYXJzZXIucGFyc2VGaWVsZHNJbkdlbmVyYWxQdXJwb3NlKHJlbWFpbmluZyk7XG4gICAgICAgIHJldHVybiBwYXJzZWRBSSA9PSBudWxsID8gcmVzdWx0IDogcmVzdWx0ICsgcGFyc2VkQUk7XG4gICAgfTtcbiAgICBGaWVsZFBhcnNlci5wcm9jZXNzVmFyaWFibGVBSSA9IGZ1bmN0aW9uIChhaVNpemUsIHZhcmlhYmxlRmllbGRTaXplLCByYXdJbmZvcm1hdGlvbikge1xuICAgICAgICB2YXIgYWkgPSByYXdJbmZvcm1hdGlvbi5zdWJzdHJpbmcoMCwgYWlTaXplKTtcbiAgICAgICAgdmFyIG1heFNpemU7XG4gICAgICAgIGlmIChyYXdJbmZvcm1hdGlvbi5sZW5ndGggPCBhaVNpemUgKyB2YXJpYWJsZUZpZWxkU2l6ZSkge1xuICAgICAgICAgICAgbWF4U2l6ZSA9IHJhd0luZm9ybWF0aW9uLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1heFNpemUgPSBhaVNpemUgKyB2YXJpYWJsZUZpZWxkU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmllbGQgPSByYXdJbmZvcm1hdGlvbi5zdWJzdHJpbmcoYWlTaXplLCBtYXhTaXplKTtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IHJhd0luZm9ybWF0aW9uLnN1YnN0cmluZyhtYXhTaXplKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcoJyArIGFpICsgJyknICsgZmllbGQ7XG4gICAgICAgIHZhciBwYXJzZWRBSSA9IEZpZWxkUGFyc2VyLnBhcnNlRmllbGRzSW5HZW5lcmFsUHVycG9zZShyZW1haW5pbmcpO1xuICAgICAgICByZXR1cm4gcGFyc2VkQUkgPT0gbnVsbCA/IHJlc3VsdCA6IHJlc3VsdCArIHBhcnNlZEFJO1xuICAgIH07XG4gICAgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RIID0gW107XG4gICAgRmllbGRQYXJzZXIuVFdPX0RJR0lUX0RBVEFfTEVOR1RIID0gW1xuICAgICAgICBbJzAwJywgMThdLFxuICAgICAgICBbJzAxJywgMTRdLFxuICAgICAgICBbJzAyJywgMTRdLFxuICAgICAgICBbJzEwJywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCAyMF0sXG4gICAgICAgIFsnMTEnLCA2XSxcbiAgICAgICAgWycxMicsIDZdLFxuICAgICAgICBbJzEzJywgNl0sXG4gICAgICAgIFsnMTUnLCA2XSxcbiAgICAgICAgWycxNycsIDZdLFxuICAgICAgICBbJzIwJywgMl0sXG4gICAgICAgIFsnMjEnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDIwXSxcbiAgICAgICAgWycyMicsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMjldLFxuICAgICAgICBbJzMwJywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCA4XSxcbiAgICAgICAgWyczNycsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgOF0sXG4gICAgICAgIC8vIGludGVybmFsIGNvbXBhbnkgY29kZXNcbiAgICAgICAgWyc5MCcsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMzBdLFxuICAgICAgICBbJzkxJywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCAzMF0sXG4gICAgICAgIFsnOTInLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDMwXSxcbiAgICAgICAgWyc5MycsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMzBdLFxuICAgICAgICBbJzk0JywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCAzMF0sXG4gICAgICAgIFsnOTUnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDMwXSxcbiAgICAgICAgWyc5NicsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMzBdLFxuICAgICAgICBbJzk3JywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCAzXSxcbiAgICAgICAgWyc5OCcsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMzBdLFxuICAgICAgICBbJzk5JywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCAzMF0sXG4gICAgXTtcbiAgICBGaWVsZFBhcnNlci5USFJFRV9ESUdJVF9EQVRBX0xFTkdUSCA9IFtcbiAgICAgICAgLy8gU2FtZSBmb3JtYXQgYXMgYWJvdmVcbiAgICAgICAgWycyNDAnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDMwXSxcbiAgICAgICAgWycyNDEnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDMwXSxcbiAgICAgICAgWycyNDInLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDZdLFxuICAgICAgICBbJzI1MCcsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMzBdLFxuICAgICAgICBbJzI1MScsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMzBdLFxuICAgICAgICBbJzI1MycsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMTddLFxuICAgICAgICBbJzI1NCcsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMjBdLFxuICAgICAgICBbJzQwMCcsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMzBdLFxuICAgICAgICBbJzQwMScsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMzBdLFxuICAgICAgICBbJzQwMicsIDE3XSxcbiAgICAgICAgWyc0MDMnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDMwXSxcbiAgICAgICAgWyc0MTAnLCAxM10sXG4gICAgICAgIFsnNDExJywgMTNdLFxuICAgICAgICBbJzQxMicsIDEzXSxcbiAgICAgICAgWyc0MTMnLCAxM10sXG4gICAgICAgIFsnNDE0JywgMTNdLFxuICAgICAgICBbJzQyMCcsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMjBdLFxuICAgICAgICBbJzQyMScsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMTVdLFxuICAgICAgICBbJzQyMicsIDNdLFxuICAgICAgICBbJzQyMycsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMTVdLFxuICAgICAgICBbJzQyNCcsIDNdLFxuICAgICAgICBbJzQyNScsIDNdLFxuICAgICAgICBbJzQyNicsIDNdLFxuICAgIF07XG4gICAgRmllbGRQYXJzZXIuVEhSRUVfRElHSVRfUExVU19ESUdJVF9EQVRBX0xFTkdUSCA9IFtcbiAgICAgICAgLy8gU2FtZSBmb3JtYXQgYXMgYWJvdmVcbiAgICAgICAgWyczMTAnLCA2XSxcbiAgICAgICAgWyczMTEnLCA2XSxcbiAgICAgICAgWyczMTInLCA2XSxcbiAgICAgICAgWyczMTMnLCA2XSxcbiAgICAgICAgWyczMTQnLCA2XSxcbiAgICAgICAgWyczMTUnLCA2XSxcbiAgICAgICAgWyczMTYnLCA2XSxcbiAgICAgICAgWyczMjAnLCA2XSxcbiAgICAgICAgWyczMjEnLCA2XSxcbiAgICAgICAgWyczMjInLCA2XSxcbiAgICAgICAgWyczMjMnLCA2XSxcbiAgICAgICAgWyczMjQnLCA2XSxcbiAgICAgICAgWyczMjUnLCA2XSxcbiAgICAgICAgWyczMjYnLCA2XSxcbiAgICAgICAgWyczMjcnLCA2XSxcbiAgICAgICAgWyczMjgnLCA2XSxcbiAgICAgICAgWyczMjknLCA2XSxcbiAgICAgICAgWyczMzAnLCA2XSxcbiAgICAgICAgWyczMzEnLCA2XSxcbiAgICAgICAgWyczMzInLCA2XSxcbiAgICAgICAgWyczMzMnLCA2XSxcbiAgICAgICAgWyczMzQnLCA2XSxcbiAgICAgICAgWyczMzUnLCA2XSxcbiAgICAgICAgWyczMzYnLCA2XSxcbiAgICAgICAgWyczNDAnLCA2XSxcbiAgICAgICAgWyczNDEnLCA2XSxcbiAgICAgICAgWyczNDInLCA2XSxcbiAgICAgICAgWyczNDMnLCA2XSxcbiAgICAgICAgWyczNDQnLCA2XSxcbiAgICAgICAgWyczNDUnLCA2XSxcbiAgICAgICAgWyczNDYnLCA2XSxcbiAgICAgICAgWyczNDcnLCA2XSxcbiAgICAgICAgWyczNDgnLCA2XSxcbiAgICAgICAgWyczNDknLCA2XSxcbiAgICAgICAgWyczNTAnLCA2XSxcbiAgICAgICAgWyczNTEnLCA2XSxcbiAgICAgICAgWyczNTInLCA2XSxcbiAgICAgICAgWyczNTMnLCA2XSxcbiAgICAgICAgWyczNTQnLCA2XSxcbiAgICAgICAgWyczNTUnLCA2XSxcbiAgICAgICAgWyczNTYnLCA2XSxcbiAgICAgICAgWyczNTcnLCA2XSxcbiAgICAgICAgWyczNjAnLCA2XSxcbiAgICAgICAgWyczNjEnLCA2XSxcbiAgICAgICAgWyczNjInLCA2XSxcbiAgICAgICAgWyczNjMnLCA2XSxcbiAgICAgICAgWyczNjQnLCA2XSxcbiAgICAgICAgWyczNjUnLCA2XSxcbiAgICAgICAgWyczNjYnLCA2XSxcbiAgICAgICAgWyczNjcnLCA2XSxcbiAgICAgICAgWyczNjgnLCA2XSxcbiAgICAgICAgWyczNjknLCA2XSxcbiAgICAgICAgWyczOTAnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDE1XSxcbiAgICAgICAgWyczOTEnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDE4XSxcbiAgICAgICAgWyczOTInLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDE1XSxcbiAgICAgICAgWyczOTMnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDE4XSxcbiAgICAgICAgWyc3MDMnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDMwXSxcbiAgICBdO1xuICAgIEZpZWxkUGFyc2VyLkZPVVJfRElHSVRfREFUQV9MRU5HVEggPSBbXG4gICAgICAgIC8vIFNhbWUgZm9ybWF0IGFzIGFib3ZlXG4gICAgICAgIFsnNzAwMScsIDEzXSxcbiAgICAgICAgWyc3MDAyJywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCAzMF0sXG4gICAgICAgIFsnNzAwMycsIDEwXSxcbiAgICAgICAgWyc4MDAxJywgMTRdLFxuICAgICAgICBbJzgwMDInLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDIwXSxcbiAgICAgICAgWyc4MDAzJywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCAzMF0sXG4gICAgICAgIFsnODAwNCcsIEZpZWxkUGFyc2VyLlZBUklBQkxFX0xFTkdUSCwgMzBdLFxuICAgICAgICBbJzgwMDUnLCA2XSxcbiAgICAgICAgWyc4MDA2JywgMThdLFxuICAgICAgICBbJzgwMDcnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDMwXSxcbiAgICAgICAgWyc4MDA4JywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCAxMl0sXG4gICAgICAgIFsnODAxOCcsIDE4XSxcbiAgICAgICAgWyc4MDIwJywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCAyNV0sXG4gICAgICAgIFsnODEwMCcsIDZdLFxuICAgICAgICBbJzgxMDEnLCAxMF0sXG4gICAgICAgIFsnODEwMicsIDJdLFxuICAgICAgICBbJzgxMTAnLCBGaWVsZFBhcnNlci5WQVJJQUJMRV9MRU5HVEgsIDcwXSxcbiAgICAgICAgWyc4MjAwJywgRmllbGRQYXJzZXIuVkFSSUFCTEVfTEVOR1RILCA3MF0sXG4gICAgXTtcbiAgICByZXR1cm4gRmllbGRQYXJzZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRmllbGRQYXJzZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWVsZFBhcnNlci5qcy5tYXAiLCJpbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uLy4uLy4uLy4uL0Zvcm1hdEV4Y2VwdGlvbic7XG5pbXBvcnQgSWxsZWdhbFN0YXRlRXhjZXB0aW9uIGZyb20gJy4uLy4uLy4uLy4uL0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbic7XG5pbXBvcnQgU3RyaW5nQnVpbGRlciBmcm9tICcuLi8uLi8uLi8uLi91dGlsL1N0cmluZ0J1aWxkZXInO1xuaW1wb3J0IEJsb2NrUGFyc2VkUmVzdWx0IGZyb20gJy4vQmxvY2tQYXJzZWRSZXN1bHQnO1xuaW1wb3J0IERlY29kZWRDaGFyIGZyb20gJy4vRGVjb2RlZENoYXInO1xuaW1wb3J0IERlY29kZWRJbmZvcm1hdGlvbiBmcm9tICcuL0RlY29kZWRJbmZvcm1hdGlvbic7XG5pbXBvcnQgRGVjb2RlZE51bWVyaWMgZnJvbSAnLi9EZWNvZGVkTnVtZXJpYyc7XG5pbXBvcnQgRmllbGRQYXJzZXIgZnJvbSAnLi9GaWVsZFBhcnNlcic7XG52YXIgR2VuZXJhbEFwcElkRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBHZW5lcmFsQXBwSWREZWNvZGVyKGluZm9ybWF0aW9uKSB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgdGhpcy5pbmZvcm1hdGlvbiA9IGluZm9ybWF0aW9uO1xuICAgIH1cbiAgICBHZW5lcmFsQXBwSWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVBbGxDb2RlcyA9IGZ1bmN0aW9uIChidWZmLCBpbml0aWFsUG9zaXRpb24pIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQb3NpdGlvbiA9IGluaXRpYWxQb3NpdGlvbjtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IG51bGw7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHZhciBpbmZvID0gdGhpcy5kZWNvZGVHZW5lcmFsUHVycG9zZUZpZWxkKGN1cnJlbnRQb3NpdGlvbiwgcmVtYWluaW5nKTtcbiAgICAgICAgICAgIHZhciBwYXJzZWRGaWVsZHMgPSBGaWVsZFBhcnNlci5wYXJzZUZpZWxkc0luR2VuZXJhbFB1cnBvc2UoaW5mby5nZXROZXdTdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAocGFyc2VkRmllbGRzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBidWZmLmFwcGVuZChwYXJzZWRGaWVsZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZm8uaXNSZW1haW5pbmcoKSkge1xuICAgICAgICAgICAgICAgIHJlbWFpbmluZyA9ICcnICsgaW5mby5nZXRSZW1haW5pbmdWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtYWluaW5nID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50UG9zaXRpb24gPT09IGluZm8uZ2V0TmV3UG9zaXRpb24oKSkgeyAvLyBObyBzdGVwIGZvcndhcmQhXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gPSBpbmZvLmdldE5ld1Bvc2l0aW9uKCk7XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICByZXR1cm4gYnVmZi50b1N0cmluZygpO1xuICAgIH07XG4gICAgR2VuZXJhbEFwcElkRGVjb2Rlci5wcm90b3R5cGUuaXNTdGlsbE51bWVyaWMgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgICAgIC8vIEl0J3MgbnVtZXJpYyBpZiBpdCBzdGlsbCBoYXMgNyBwb3NpdGlvbnNcbiAgICAgICAgLy8gYW5kIG9uZSBvZiB0aGUgZmlyc3QgNCBiaXRzIGlzIFwiMVwiLlxuICAgICAgICBpZiAocG9zICsgNyA+IHRoaXMuaW5mb3JtYXRpb24uZ2V0U2l6ZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9zICsgNCA8PSB0aGlzLmluZm9ybWF0aW9uLmdldFNpemUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gcG9zOyBpIDwgcG9zICsgMzsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmZvcm1hdGlvbi5nZXQoaSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbmZvcm1hdGlvbi5nZXQocG9zICsgMyk7XG4gICAgfTtcbiAgICBHZW5lcmFsQXBwSWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVOdW1lcmljID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgICBpZiAocG9zICsgNyA+IHRoaXMuaW5mb3JtYXRpb24uZ2V0U2l6ZSgpKSB7XG4gICAgICAgICAgICB2YXIgbnVtZXJpY18xID0gdGhpcy5leHRyYWN0TnVtZXJpY1ZhbHVlRnJvbUJpdEFycmF5KHBvcywgNCk7XG4gICAgICAgICAgICBpZiAobnVtZXJpY18xID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEZWNvZGVkTnVtZXJpYyh0aGlzLmluZm9ybWF0aW9uLmdldFNpemUoKSwgRGVjb2RlZE51bWVyaWMuRk5DMSwgRGVjb2RlZE51bWVyaWMuRk5DMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IERlY29kZWROdW1lcmljKHRoaXMuaW5mb3JtYXRpb24uZ2V0U2l6ZSgpLCBudW1lcmljXzEgLSAxLCBEZWNvZGVkTnVtZXJpYy5GTkMxKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtZXJpYyA9IHRoaXMuZXh0cmFjdE51bWVyaWNWYWx1ZUZyb21CaXRBcnJheShwb3MsIDcpO1xuICAgICAgICB2YXIgZGlnaXQxID0gKG51bWVyaWMgLSA4KSAvIDExO1xuICAgICAgICB2YXIgZGlnaXQyID0gKG51bWVyaWMgLSA4KSAlIDExO1xuICAgICAgICByZXR1cm4gbmV3IERlY29kZWROdW1lcmljKHBvcyArIDcsIGRpZ2l0MSwgZGlnaXQyKTtcbiAgICB9O1xuICAgIEdlbmVyYWxBcHBJZERlY29kZXIucHJvdG90eXBlLmV4dHJhY3ROdW1lcmljVmFsdWVGcm9tQml0QXJyYXkgPSBmdW5jdGlvbiAocG9zLCBiaXRzKSB7XG4gICAgICAgIHJldHVybiBHZW5lcmFsQXBwSWREZWNvZGVyLmV4dHJhY3ROdW1lcmljVmFsdWVGcm9tQml0QXJyYXkodGhpcy5pbmZvcm1hdGlvbiwgcG9zLCBiaXRzKTtcbiAgICB9O1xuICAgIEdlbmVyYWxBcHBJZERlY29kZXIuZXh0cmFjdE51bWVyaWNWYWx1ZUZyb21CaXRBcnJheSA9IGZ1bmN0aW9uIChpbmZvcm1hdGlvbiwgcG9zLCBiaXRzKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYml0czsgKytpKSB7XG4gICAgICAgICAgICBpZiAoaW5mb3JtYXRpb24uZ2V0KHBvcyArIGkpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgfD0gMSA8PCAoYml0cyAtIGkgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBHZW5lcmFsQXBwSWREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVHZW5lcmFsUHVycG9zZUZpZWxkID0gZnVuY3Rpb24gKHBvcywgcmVtYWluaW5nKSB7XG4gICAgICAgIC8vIHRoaXMuYnVmZmVyLnNldExlbmd0aCgwKTtcbiAgICAgICAgdGhpcy5idWZmZXIuc2V0TGVuZ3RoVG9aZXJvKCk7XG4gICAgICAgIGlmIChyZW1haW5pbmcgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5idWZmZXIuYXBwZW5kKHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50LnNldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgIHZhciBsYXN0RGVjb2RlZCA9IHRoaXMucGFyc2VCbG9ja3MoKTtcbiAgICAgICAgaWYgKGxhc3REZWNvZGVkICE9IG51bGwgJiYgbGFzdERlY29kZWQuaXNSZW1haW5pbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZWNvZGVkSW5mb3JtYXRpb24odGhpcy5jdXJyZW50LmdldFBvc2l0aW9uKCksIHRoaXMuYnVmZmVyLnRvU3RyaW5nKCksIGxhc3REZWNvZGVkLmdldFJlbWFpbmluZ1ZhbHVlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGVjb2RlZEluZm9ybWF0aW9uKHRoaXMuY3VycmVudC5nZXRQb3NpdGlvbigpLCB0aGlzLmJ1ZmZlci50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIEdlbmVyYWxBcHBJZERlY29kZXIucHJvdG90eXBlLnBhcnNlQmxvY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXNGaW5pc2hlZDtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGluaXRpYWxQb3NpdGlvbiA9IHRoaXMuY3VycmVudC5nZXRQb3NpdGlvbigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudC5pc0FscGhhKCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnBhcnNlQWxwaGFCbG9jaygpO1xuICAgICAgICAgICAgICAgIGlzRmluaXNoZWQgPSByZXN1bHQuaXNGaW5pc2hlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJyZW50LmlzSXNvSWVjNjQ2KCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnBhcnNlSXNvSWVjNjQ2QmxvY2soKTtcbiAgICAgICAgICAgICAgICBpc0ZpbmlzaGVkID0gcmVzdWx0LmlzRmluaXNoZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyAvLyBpdCBtdXN0IGJlIG51bWVyaWNcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnBhcnNlTnVtZXJpY0Jsb2NrKCk7XG4gICAgICAgICAgICAgICAgaXNGaW5pc2hlZCA9IHJlc3VsdC5pc0ZpbmlzaGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcG9zaXRpb25DaGFuZ2VkID0gaW5pdGlhbFBvc2l0aW9uICE9PSB0aGlzLmN1cnJlbnQuZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgICAgIGlmICghcG9zaXRpb25DaGFuZ2VkICYmICFpc0ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKCFpc0ZpbmlzaGVkKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5nZXREZWNvZGVkSW5mb3JtYXRpb24oKTtcbiAgICB9O1xuICAgIEdlbmVyYWxBcHBJZERlY29kZXIucHJvdG90eXBlLnBhcnNlTnVtZXJpY0Jsb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5pc1N0aWxsTnVtZXJpYyh0aGlzLmN1cnJlbnQuZ2V0UG9zaXRpb24oKSkpIHtcbiAgICAgICAgICAgIHZhciBudW1lcmljID0gdGhpcy5kZWNvZGVOdW1lcmljKHRoaXMuY3VycmVudC5nZXRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5zZXRQb3NpdGlvbihudW1lcmljLmdldE5ld1Bvc2l0aW9uKCkpO1xuICAgICAgICAgICAgaWYgKG51bWVyaWMuaXNGaXJzdERpZ2l0Rk5DMSgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZm9ybWF0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmIChudW1lcmljLmlzU2Vjb25kRGlnaXRGTkMxKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mb3JtYXRpb24gPSBuZXcgRGVjb2RlZEluZm9ybWF0aW9uKHRoaXMuY3VycmVudC5nZXRQb3NpdGlvbigpLCB0aGlzLmJ1ZmZlci50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGluZm9ybWF0aW9uID0gbmV3IERlY29kZWRJbmZvcm1hdGlvbih0aGlzLmN1cnJlbnQuZ2V0UG9zaXRpb24oKSwgdGhpcy5idWZmZXIudG9TdHJpbmcoKSwgbnVtZXJpYy5nZXRTZWNvbmREaWdpdCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9ja1BhcnNlZFJlc3VsdCh0cnVlLCBpbmZvcm1hdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5hcHBlbmQobnVtZXJpYy5nZXRGaXJzdERpZ2l0KCkpO1xuICAgICAgICAgICAgaWYgKG51bWVyaWMuaXNTZWNvbmREaWdpdEZOQzEoKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmZvcm1hdGlvbiA9IG5ldyBEZWNvZGVkSW5mb3JtYXRpb24odGhpcy5jdXJyZW50LmdldFBvc2l0aW9uKCksIHRoaXMuYnVmZmVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmxvY2tQYXJzZWRSZXN1bHQodHJ1ZSwgaW5mb3JtYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5idWZmZXIuYXBwZW5kKG51bWVyaWMuZ2V0U2Vjb25kRGlnaXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNOdW1lcmljVG9BbHBoYU51bWVyaWNMYXRjaCh0aGlzLmN1cnJlbnQuZ2V0UG9zaXRpb24oKSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5zZXRBbHBoYSgpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50LmluY3JlbWVudFBvc2l0aW9uKDQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQmxvY2tQYXJzZWRSZXN1bHQoZmFsc2UpO1xuICAgIH07XG4gICAgR2VuZXJhbEFwcElkRGVjb2Rlci5wcm90b3R5cGUucGFyc2VJc29JZWM2NDZCbG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuaXNTdGlsbElzb0llYzY0Nih0aGlzLmN1cnJlbnQuZ2V0UG9zaXRpb24oKSkpIHtcbiAgICAgICAgICAgIHZhciBpc28gPSB0aGlzLmRlY29kZUlzb0llYzY0Nih0aGlzLmN1cnJlbnQuZ2V0UG9zaXRpb24oKSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0UG9zaXRpb24oaXNvLmdldE5ld1Bvc2l0aW9uKCkpO1xuICAgICAgICAgICAgaWYgKGlzby5pc0ZOQzEoKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmZvcm1hdGlvbiA9IG5ldyBEZWNvZGVkSW5mb3JtYXRpb24odGhpcy5jdXJyZW50LmdldFBvc2l0aW9uKCksIHRoaXMuYnVmZmVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmxvY2tQYXJzZWRSZXN1bHQodHJ1ZSwgaW5mb3JtYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5idWZmZXIuYXBwZW5kKGlzby5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0FscGhhT3I2NDZUb051bWVyaWNMYXRjaCh0aGlzLmN1cnJlbnQuZ2V0UG9zaXRpb24oKSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5pbmNyZW1lbnRQb3NpdGlvbigzKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5zZXROdW1lcmljKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc0FscGhhVG82NDZUb0FscGhhTGF0Y2godGhpcy5jdXJyZW50LmdldFBvc2l0aW9uKCkpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50LmdldFBvc2l0aW9uKCkgKyA1IDwgdGhpcy5pbmZvcm1hdGlvbi5nZXRTaXplKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuaW5jcmVtZW50UG9zaXRpb24oNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0UG9zaXRpb24odGhpcy5pbmZvcm1hdGlvbi5nZXRTaXplKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNldEFscGhhKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCbG9ja1BhcnNlZFJlc3VsdChmYWxzZSk7XG4gICAgfTtcbiAgICBHZW5lcmFsQXBwSWREZWNvZGVyLnByb3RvdHlwZS5wYXJzZUFscGhhQmxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmlzU3RpbGxBbHBoYSh0aGlzLmN1cnJlbnQuZ2V0UG9zaXRpb24oKSkpIHtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHRoaXMuZGVjb2RlQWxwaGFudW1lcmljKHRoaXMuY3VycmVudC5nZXRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5zZXRQb3NpdGlvbihhbHBoYS5nZXROZXdQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIGlmIChhbHBoYS5pc0ZOQzEoKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbmZvcm1hdGlvbiA9IG5ldyBEZWNvZGVkSW5mb3JtYXRpb24odGhpcy5jdXJyZW50LmdldFBvc2l0aW9uKCksIHRoaXMuYnVmZmVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmxvY2tQYXJzZWRSZXN1bHQodHJ1ZSwgaW5mb3JtYXRpb24pOyAvLyBlbmQgb2YgdGhlIGNoYXIgYmxvY2tcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLmFwcGVuZChhbHBoYS5nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0FscGhhT3I2NDZUb051bWVyaWNMYXRjaCh0aGlzLmN1cnJlbnQuZ2V0UG9zaXRpb24oKSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5pbmNyZW1lbnRQb3NpdGlvbigzKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5zZXROdW1lcmljKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc0FscGhhVG82NDZUb0FscGhhTGF0Y2godGhpcy5jdXJyZW50LmdldFBvc2l0aW9uKCkpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50LmdldFBvc2l0aW9uKCkgKyA1IDwgdGhpcy5pbmZvcm1hdGlvbi5nZXRTaXplKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuaW5jcmVtZW50UG9zaXRpb24oNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQuc2V0UG9zaXRpb24odGhpcy5pbmZvcm1hdGlvbi5nZXRTaXplKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50LnNldElzb0llYzY0NigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQmxvY2tQYXJzZWRSZXN1bHQoZmFsc2UpO1xuICAgIH07XG4gICAgR2VuZXJhbEFwcElkRGVjb2Rlci5wcm90b3R5cGUuaXNTdGlsbElzb0llYzY0NiA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgaWYgKHBvcyArIDUgPiB0aGlzLmluZm9ybWF0aW9uLmdldFNpemUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaXZlQml0VmFsdWUgPSB0aGlzLmV4dHJhY3ROdW1lcmljVmFsdWVGcm9tQml0QXJyYXkocG9zLCA1KTtcbiAgICAgICAgaWYgKGZpdmVCaXRWYWx1ZSA+PSA1ICYmIGZpdmVCaXRWYWx1ZSA8IDE2KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zICsgNyA+IHRoaXMuaW5mb3JtYXRpb24uZ2V0U2l6ZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNldmVuQml0VmFsdWUgPSB0aGlzLmV4dHJhY3ROdW1lcmljVmFsdWVGcm9tQml0QXJyYXkocG9zLCA3KTtcbiAgICAgICAgaWYgKHNldmVuQml0VmFsdWUgPj0gNjQgJiYgc2V2ZW5CaXRWYWx1ZSA8IDExNikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvcyArIDggPiB0aGlzLmluZm9ybWF0aW9uLmdldFNpemUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlaWdodEJpdFZhbHVlID0gdGhpcy5leHRyYWN0TnVtZXJpY1ZhbHVlRnJvbUJpdEFycmF5KHBvcywgOCk7XG4gICAgICAgIHJldHVybiBlaWdodEJpdFZhbHVlID49IDIzMiAmJiBlaWdodEJpdFZhbHVlIDwgMjUzO1xuICAgIH07XG4gICAgR2VuZXJhbEFwcElkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlSXNvSWVjNjQ2ID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgICB2YXIgZml2ZUJpdFZhbHVlID0gdGhpcy5leHRyYWN0TnVtZXJpY1ZhbHVlRnJvbUJpdEFycmF5KHBvcywgNSk7XG4gICAgICAgIGlmIChmaXZlQml0VmFsdWUgPT09IDE1KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERlY29kZWRDaGFyKHBvcyArIDUsIERlY29kZWRDaGFyLkZOQzEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXZlQml0VmFsdWUgPj0gNSAmJiBmaXZlQml0VmFsdWUgPCAxNSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZWNvZGVkQ2hhcihwb3MgKyA1LCAoJzAnICsgKGZpdmVCaXRWYWx1ZSAtIDUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNldmVuQml0VmFsdWUgPSB0aGlzLmV4dHJhY3ROdW1lcmljVmFsdWVGcm9tQml0QXJyYXkocG9zLCA3KTtcbiAgICAgICAgaWYgKHNldmVuQml0VmFsdWUgPj0gNjQgJiYgc2V2ZW5CaXRWYWx1ZSA8IDkwKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERlY29kZWRDaGFyKHBvcyArIDcsICgnJyArIChzZXZlbkJpdFZhbHVlICsgMSkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V2ZW5CaXRWYWx1ZSA+PSA5MCAmJiBzZXZlbkJpdFZhbHVlIDwgMTE2KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERlY29kZWRDaGFyKHBvcyArIDcsICgnJyArIChzZXZlbkJpdFZhbHVlICsgNykpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWlnaHRCaXRWYWx1ZSA9IHRoaXMuZXh0cmFjdE51bWVyaWNWYWx1ZUZyb21CaXRBcnJheShwb3MsIDgpO1xuICAgICAgICB2YXIgYztcbiAgICAgICAgc3dpdGNoIChlaWdodEJpdFZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIDIzMjpcbiAgICAgICAgICAgICAgICBjID0gJyEnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyMzM6XG4gICAgICAgICAgICAgICAgYyA9ICdcIic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIzNDpcbiAgICAgICAgICAgICAgICBjID0gJyUnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyMzU6XG4gICAgICAgICAgICAgICAgYyA9ICcmJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjM2OlxuICAgICAgICAgICAgICAgIGMgPSAnXFwnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjM3OlxuICAgICAgICAgICAgICAgIGMgPSAnKCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIzODpcbiAgICAgICAgICAgICAgICBjID0gJyknO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyMzk6XG4gICAgICAgICAgICAgICAgYyA9ICcqJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjQwOlxuICAgICAgICAgICAgICAgIGMgPSAnKyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI0MTpcbiAgICAgICAgICAgICAgICBjID0gJywnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyNDI6XG4gICAgICAgICAgICAgICAgYyA9ICctJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjQzOlxuICAgICAgICAgICAgICAgIGMgPSAnLic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI0NDpcbiAgICAgICAgICAgICAgICBjID0gJy8nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyNDU6XG4gICAgICAgICAgICAgICAgYyA9ICc6JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjQ2OlxuICAgICAgICAgICAgICAgIGMgPSAnOyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI0NzpcbiAgICAgICAgICAgICAgICBjID0gJzwnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyNDg6XG4gICAgICAgICAgICAgICAgYyA9ICc9JztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjQ5OlxuICAgICAgICAgICAgICAgIGMgPSAnPic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI1MDpcbiAgICAgICAgICAgICAgICBjID0gJz8nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyNTE6XG4gICAgICAgICAgICAgICAgYyA9ICdfJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjUyOlxuICAgICAgICAgICAgICAgIGMgPSAnICc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERlY29kZWRDaGFyKHBvcyArIDgsIGMpO1xuICAgIH07XG4gICAgR2VuZXJhbEFwcElkRGVjb2Rlci5wcm90b3R5cGUuaXNTdGlsbEFscGhhID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgICBpZiAocG9zICsgNSA+IHRoaXMuaW5mb3JtYXRpb24uZ2V0U2l6ZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2Ugbm93IGNoZWNrIGlmIGl0J3MgYSB2YWxpZCA1LWJpdCB2YWx1ZSAoMC4uOSBhbmQgRk5DMSlcbiAgICAgICAgdmFyIGZpdmVCaXRWYWx1ZSA9IHRoaXMuZXh0cmFjdE51bWVyaWNWYWx1ZUZyb21CaXRBcnJheShwb3MsIDUpO1xuICAgICAgICBpZiAoZml2ZUJpdFZhbHVlID49IDUgJiYgZml2ZUJpdFZhbHVlIDwgMTYpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3MgKyA2ID4gdGhpcy5pbmZvcm1hdGlvbi5nZXRTaXplKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l4Qml0VmFsdWUgPSB0aGlzLmV4dHJhY3ROdW1lcmljVmFsdWVGcm9tQml0QXJyYXkocG9zLCA2KTtcbiAgICAgICAgcmV0dXJuIHNpeEJpdFZhbHVlID49IDE2ICYmIHNpeEJpdFZhbHVlIDwgNjM7IC8vIDYzIG5vdCBpbmNsdWRlZFxuICAgIH07XG4gICAgR2VuZXJhbEFwcElkRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQWxwaGFudW1lcmljID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgICB2YXIgZml2ZUJpdFZhbHVlID0gdGhpcy5leHRyYWN0TnVtZXJpY1ZhbHVlRnJvbUJpdEFycmF5KHBvcywgNSk7XG4gICAgICAgIGlmIChmaXZlQml0VmFsdWUgPT09IDE1KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERlY29kZWRDaGFyKHBvcyArIDUsIERlY29kZWRDaGFyLkZOQzEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXZlQml0VmFsdWUgPj0gNSAmJiBmaXZlQml0VmFsdWUgPCAxNSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZWNvZGVkQ2hhcihwb3MgKyA1LCAoJzAnICsgKGZpdmVCaXRWYWx1ZSAtIDUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpeEJpdFZhbHVlID0gdGhpcy5leHRyYWN0TnVtZXJpY1ZhbHVlRnJvbUJpdEFycmF5KHBvcywgNik7XG4gICAgICAgIGlmIChzaXhCaXRWYWx1ZSA+PSAzMiAmJiBzaXhCaXRWYWx1ZSA8IDU4KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERlY29kZWRDaGFyKHBvcyArIDYsICgnJyArIChzaXhCaXRWYWx1ZSArIDMzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjO1xuICAgICAgICBzd2l0Y2ggKHNpeEJpdFZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIDU4OlxuICAgICAgICAgICAgICAgIGMgPSAnKic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDU5OlxuICAgICAgICAgICAgICAgIGMgPSAnLCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDYwOlxuICAgICAgICAgICAgICAgIGMgPSAnLSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDYxOlxuICAgICAgICAgICAgICAgIGMgPSAnLic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDYyOlxuICAgICAgICAgICAgICAgIGMgPSAnLyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0RlY29kaW5nIGludmFsaWQgYWxwaGFudW1lcmljIHZhbHVlOiAnICsgc2l4Qml0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGVjb2RlZENoYXIocG9zICsgNiwgYyk7XG4gICAgfTtcbiAgICBHZW5lcmFsQXBwSWREZWNvZGVyLnByb3RvdHlwZS5pc0FscGhhVG82NDZUb0FscGhhTGF0Y2ggPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgICAgIGlmIChwb3MgKyAxID4gdGhpcy5pbmZvcm1hdGlvbi5nZXRTaXplKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDUgJiYgaSArIHBvcyA8IHRoaXMuaW5mb3JtYXRpb24uZ2V0U2l6ZSgpOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpID09PSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluZm9ybWF0aW9uLmdldChwb3MgKyAyKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5pbmZvcm1hdGlvbi5nZXQocG9zICsgaSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBHZW5lcmFsQXBwSWREZWNvZGVyLnByb3RvdHlwZS5pc0FscGhhT3I2NDZUb051bWVyaWNMYXRjaCA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgLy8gTmV4dCBpcyBhbHBoYW51bWVyaWMgaWYgdGhlcmUgYXJlIDMgcG9zaXRpb25zIGFuZCB0aGV5IGFyZSBhbGwgemVyb3NcbiAgICAgICAgaWYgKHBvcyArIDMgPiB0aGlzLmluZm9ybWF0aW9uLmdldFNpemUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBwb3M7IGkgPCBwb3MgKyAzOyArK2kpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZm9ybWF0aW9uLmdldChpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIEdlbmVyYWxBcHBJZERlY29kZXIucHJvdG90eXBlLmlzTnVtZXJpY1RvQWxwaGFOdW1lcmljTGF0Y2ggPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgICAgIC8vIE5leHQgaXMgYWxwaGFudW1lcmljIGlmIHRoZXJlIGFyZSA0IHBvc2l0aW9ucyBhbmQgdGhleSBhcmUgYWxsIHplcm9zLCBvclxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHN1YnNldCBvZiB0aGlzIGp1c3QgYmVmb3JlIHRoZSBlbmQgb2YgdGhlIHN5bWJvbFxuICAgICAgICBpZiAocG9zICsgMSA+IHRoaXMuaW5mb3JtYXRpb24uZ2V0U2l6ZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0ICYmIGkgKyBwb3MgPCB0aGlzLmluZm9ybWF0aW9uLmdldFNpemUoKTsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmZvcm1hdGlvbi5nZXQocG9zICsgaSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gR2VuZXJhbEFwcElkRGVjb2Rlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBHZW5lcmFsQXBwSWREZWNvZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VuZXJhbEFwcElkRGVjb2Rlci5qcy5tYXAiLCJpbXBvcnQgR2VuZXJhbEFwcElkRGVjb2RlciBmcm9tICcuL0dlbmVyYWxBcHBJZERlY29kZXInO1xudmFyIEFic3RyYWN0RXhwYW5kZWREZWNvZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFic3RyYWN0RXhwYW5kZWREZWNvZGVyKGluZm9ybWF0aW9uKSB7XG4gICAgICAgIHRoaXMuaW5mb3JtYXRpb24gPSBpbmZvcm1hdGlvbjtcbiAgICAgICAgdGhpcy5nZW5lcmFsRGVjb2RlciA9IG5ldyBHZW5lcmFsQXBwSWREZWNvZGVyKGluZm9ybWF0aW9uKTtcbiAgICB9XG4gICAgQWJzdHJhY3RFeHBhbmRlZERlY29kZXIucHJvdG90eXBlLmdldEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmZvcm1hdGlvbjtcbiAgICB9O1xuICAgIEFic3RyYWN0RXhwYW5kZWREZWNvZGVyLnByb3RvdHlwZS5nZXRHZW5lcmFsRGVjb2RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhbERlY29kZXI7XG4gICAgfTtcbiAgICByZXR1cm4gQWJzdHJhY3RFeHBhbmRlZERlY29kZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQWJzdHJhY3RFeHBhbmRlZERlY29kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdEV4cGFuZGVkRGVjb2Rlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBBYnN0cmFjdEV4cGFuZGVkRGVjb2RlciBmcm9tICcuL0Fic3RyYWN0RXhwYW5kZWREZWNvZGVyJztcbnZhciBBSTAxZGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQUkwMWRlY29kZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQUkwMWRlY29kZXIoaW5mb3JtYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGluZm9ybWF0aW9uKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBSTAxZGVjb2Rlci5wcm90b3R5cGUuZW5jb2RlQ29tcHJlc3NlZEd0aW4gPSBmdW5jdGlvbiAoYnVmLCBjdXJyZW50UG9zKSB7XG4gICAgICAgIGJ1Zi5hcHBlbmQoJygwMSknKTtcbiAgICAgICAgdmFyIGluaXRpYWxQb3NpdGlvbiA9IGJ1Zi5sZW5ndGgoKTtcbiAgICAgICAgYnVmLmFwcGVuZCgnOScpO1xuICAgICAgICB0aGlzLmVuY29kZUNvbXByZXNzZWRHdGluV2l0aG91dEFJKGJ1ZiwgY3VycmVudFBvcywgaW5pdGlhbFBvc2l0aW9uKTtcbiAgICB9O1xuICAgIEFJMDFkZWNvZGVyLnByb3RvdHlwZS5lbmNvZGVDb21wcmVzc2VkR3RpbldpdGhvdXRBSSA9IGZ1bmN0aW9uIChidWYsIGN1cnJlbnRQb3MsIGluaXRpYWxCdWZmZXJQb3NpdGlvbikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRCbG9jayA9IHRoaXMuZ2V0R2VuZXJhbERlY29kZXIoKS5leHRyYWN0TnVtZXJpY1ZhbHVlRnJvbUJpdEFycmF5KGN1cnJlbnRQb3MgKyAxMCAqIGksIDEwKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50QmxvY2sgLyAxMDAgPT09IDApIHtcbiAgICAgICAgICAgICAgICBidWYuYXBwZW5kKCcwJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudEJsb2NrIC8gMTAgPT09IDApIHtcbiAgICAgICAgICAgICAgICBidWYuYXBwZW5kKCcwJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWYuYXBwZW5kKGN1cnJlbnRCbG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgQUkwMWRlY29kZXIuYXBwZW5kQ2hlY2tEaWdpdChidWYsIGluaXRpYWxCdWZmZXJQb3NpdGlvbik7XG4gICAgfTtcbiAgICBBSTAxZGVjb2Rlci5hcHBlbmRDaGVja0RpZ2l0ID0gZnVuY3Rpb24gKGJ1ZiwgY3VycmVudFBvcykge1xuICAgICAgICB2YXIgY2hlY2tEaWdpdCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTM7IGkrKykge1xuICAgICAgICAgICAgLy8gbGV0IGRpZ2l0ID0gYnVmLmNoYXJBdChpICsgY3VycmVudFBvcykgLSAnMCc7XG4gICAgICAgICAgICAvLyBUbyBiZSBjaGVja2VkXG4gICAgICAgICAgICB2YXIgZGlnaXQgPSBidWYuY2hhckF0KGkgKyBjdXJyZW50UG9zKS5jaGFyQ29kZUF0KDApIC0gJzAnLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBjaGVja0RpZ2l0ICs9IChpICYgMHgwMSkgPT09IDAgPyAzICogZGlnaXQgOiBkaWdpdDtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0RpZ2l0ID0gMTAgLSAoY2hlY2tEaWdpdCAlIDEwKTtcbiAgICAgICAgaWYgKGNoZWNrRGlnaXQgPT09IDEwKSB7XG4gICAgICAgICAgICBjaGVja0RpZ2l0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBidWYuYXBwZW5kKGNoZWNrRGlnaXQpO1xuICAgIH07XG4gICAgQUkwMWRlY29kZXIuR1RJTl9TSVpFID0gNDA7XG4gICAgcmV0dXJuIEFJMDFkZWNvZGVyO1xufShBYnN0cmFjdEV4cGFuZGVkRGVjb2RlcikpO1xuZXhwb3J0IGRlZmF1bHQgQUkwMWRlY29kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BSTAxZGVjb2Rlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBBSTAxZGVjb2RlciBmcm9tICcuL0FJMDFkZWNvZGVyJztcbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uLy4uLy4uLy4uL3V0aWwvU3RyaW5nQnVpbGRlcic7XG52YXIgQUkwMUFuZE90aGVyQUlzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBSTAxQW5kT3RoZXJBSXMsIF9zdXBlcik7XG4gICAgLy8gdGhlIHNlY29uZCBvbmUgaXMgdGhlIGVuY29kYXRpb24gbWV0aG9kLCBhbmQgdGhlIG90aGVyIHR3byBhcmUgZm9yIHRoZSB2YXJpYWJsZSBsZW5ndGhcbiAgICBmdW5jdGlvbiBBSTAxQW5kT3RoZXJBSXMoaW5mb3JtYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGluZm9ybWF0aW9uKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBSTAxQW5kT3RoZXJBSXMucHJvdG90eXBlLnBhcnNlSW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBidWZmID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgYnVmZi5hcHBlbmQoJygwMSknKTtcbiAgICAgICAgdmFyIGluaXRpYWxHdGluUG9zaXRpb24gPSBidWZmLmxlbmd0aCgpO1xuICAgICAgICB2YXIgZmlyc3RHdGluRGlnaXQgPSB0aGlzLmdldEdlbmVyYWxEZWNvZGVyKCkuZXh0cmFjdE51bWVyaWNWYWx1ZUZyb21CaXRBcnJheShBSTAxQW5kT3RoZXJBSXMuSEVBREVSX1NJWkUsIDQpO1xuICAgICAgICBidWZmLmFwcGVuZChmaXJzdEd0aW5EaWdpdCk7XG4gICAgICAgIHRoaXMuZW5jb2RlQ29tcHJlc3NlZEd0aW5XaXRob3V0QUkoYnVmZiwgQUkwMUFuZE90aGVyQUlzLkhFQURFUl9TSVpFICsgNCwgaW5pdGlhbEd0aW5Qb3NpdGlvbik7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEdlbmVyYWxEZWNvZGVyKCkuZGVjb2RlQWxsQ29kZXMoYnVmZiwgQUkwMUFuZE90aGVyQUlzLkhFQURFUl9TSVpFICsgNDQpO1xuICAgIH07XG4gICAgQUkwMUFuZE90aGVyQUlzLkhFQURFUl9TSVpFID0gMSArIDEgKyAyOyAvLyBmaXJzdCBiaXQgZW5jb2RlcyB0aGUgbGlua2FnZSBmbGFnLFxuICAgIHJldHVybiBBSTAxQW5kT3RoZXJBSXM7XG59KEFJMDFkZWNvZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBBSTAxQW5kT3RoZXJBSXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BSTAxQW5kT3RoZXJBSXMuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgU3RyaW5nQnVpbGRlciBmcm9tICcuLi8uLi8uLi8uLi91dGlsL1N0cmluZ0J1aWxkZXInO1xuaW1wb3J0IEFic3RyYWN0RXhwYW5kZWREZWNvZGVyIGZyb20gJy4vQWJzdHJhY3RFeHBhbmRlZERlY29kZXInO1xudmFyIEFueUFJRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQW55QUlEZWNvZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFueUFJRGVjb2RlcihpbmZvcm1hdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgaW5mb3JtYXRpb24pIHx8IHRoaXM7XG4gICAgfVxuICAgIEFueUFJRGVjb2Rlci5wcm90b3R5cGUucGFyc2VJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1ZiA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEdlbmVyYWxEZWNvZGVyKCkuZGVjb2RlQWxsQ29kZXMoYnVmLCBBbnlBSURlY29kZXIuSEVBREVSX1NJWkUpO1xuICAgIH07XG4gICAgQW55QUlEZWNvZGVyLkhFQURFUl9TSVpFID0gMiArIDEgKyAyO1xuICAgIHJldHVybiBBbnlBSURlY29kZXI7XG59KEFic3RyYWN0RXhwYW5kZWREZWNvZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBBbnlBSURlY29kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbnlBSURlY29kZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgQUkwMWRlY29kZXIgZnJvbSAnLi9BSTAxZGVjb2Rlcic7XG52YXIgQUkwMXdlaWdodERlY29kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFJMDF3ZWlnaHREZWNvZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFJMDF3ZWlnaHREZWNvZGVyKGluZm9ybWF0aW9uKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBpbmZvcm1hdGlvbikgfHwgdGhpcztcbiAgICB9XG4gICAgQUkwMXdlaWdodERlY29kZXIucHJvdG90eXBlLmVuY29kZUNvbXByZXNzZWRXZWlnaHQgPSBmdW5jdGlvbiAoYnVmLCBjdXJyZW50UG9zLCB3ZWlnaHRTaXplKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFdlaWdodE51bWVyaWMgPSB0aGlzLmdldEdlbmVyYWxEZWNvZGVyKCkuZXh0cmFjdE51bWVyaWNWYWx1ZUZyb21CaXRBcnJheShjdXJyZW50UG9zLCB3ZWlnaHRTaXplKTtcbiAgICAgICAgdGhpcy5hZGRXZWlnaHRDb2RlKGJ1Ziwgb3JpZ2luYWxXZWlnaHROdW1lcmljKTtcbiAgICAgICAgdmFyIHdlaWdodE51bWVyaWMgPSB0aGlzLmNoZWNrV2VpZ2h0KG9yaWdpbmFsV2VpZ2h0TnVtZXJpYyk7XG4gICAgICAgIHZhciBjdXJyZW50RGl2aXNvciA9IDEwMDAwMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyArK2kpIHtcbiAgICAgICAgICAgIGlmICh3ZWlnaHROdW1lcmljIC8gY3VycmVudERpdmlzb3IgPT09IDApIHtcbiAgICAgICAgICAgICAgICBidWYuYXBwZW5kKCcwJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50RGl2aXNvciAvPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBidWYuYXBwZW5kKHdlaWdodE51bWVyaWMpO1xuICAgIH07XG4gICAgcmV0dXJuIEFJMDF3ZWlnaHREZWNvZGVyO1xufShBSTAxZGVjb2RlcikpO1xuZXhwb3J0IGRlZmF1bHQgQUkwMXdlaWdodERlY29kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BSTAxd2VpZ2h0RGVjb2Rlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBBSTAxd2VpZ2h0RGVjb2RlciBmcm9tICcuL0FJMDF3ZWlnaHREZWNvZGVyJztcbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uLy4uLy4uLy4uL3V0aWwvU3RyaW5nQnVpbGRlcic7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vLi4vLi4vLi4vTm90Rm91bmRFeGNlcHRpb24nO1xudmFyIEFJMDEzeDB4RGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQUkwMTN4MHhEZWNvZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFJMDEzeDB4RGVjb2RlcihpbmZvcm1hdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgaW5mb3JtYXRpb24pIHx8IHRoaXM7XG4gICAgfVxuICAgIEFJMDEzeDB4RGVjb2Rlci5wcm90b3R5cGUucGFyc2VJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0SW5mb3JtYXRpb24oKS5nZXRTaXplKCkgIT0gQUkwMTN4MHhEZWNvZGVyLkhFQURFUl9TSVpFICsgQUkwMXdlaWdodERlY29kZXIuR1RJTl9TSVpFICsgQUkwMTN4MHhEZWNvZGVyLldFSUdIVF9TSVpFKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgdGhpcy5lbmNvZGVDb21wcmVzc2VkR3RpbihidWYsIEFJMDEzeDB4RGVjb2Rlci5IRUFERVJfU0laRSk7XG4gICAgICAgIHRoaXMuZW5jb2RlQ29tcHJlc3NlZFdlaWdodChidWYsIEFJMDEzeDB4RGVjb2Rlci5IRUFERVJfU0laRSArIEFJMDF3ZWlnaHREZWNvZGVyLkdUSU5fU0laRSwgQUkwMTN4MHhEZWNvZGVyLldFSUdIVF9TSVpFKTtcbiAgICAgICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpO1xuICAgIH07XG4gICAgQUkwMTN4MHhEZWNvZGVyLkhFQURFUl9TSVpFID0gNCArIDE7XG4gICAgQUkwMTN4MHhEZWNvZGVyLldFSUdIVF9TSVpFID0gMTU7XG4gICAgcmV0dXJuIEFJMDEzeDB4RGVjb2Rlcjtcbn0oQUkwMXdlaWdodERlY29kZXIpKTtcbmV4cG9ydCBkZWZhdWx0IEFJMDEzeDB4RGVjb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFJMDEzeDB4RGVjb2Rlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBBSTAxM3gweERlY29kZXIgZnJvbSAnLi9BSTAxM3gweERlY29kZXInO1xudmFyIEFJMDEzMTAzZGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQUkwMTMxMDNkZWNvZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFJMDEzMTAzZGVjb2RlcihpbmZvcm1hdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgaW5mb3JtYXRpb24pIHx8IHRoaXM7XG4gICAgfVxuICAgIEFJMDEzMTAzZGVjb2Rlci5wcm90b3R5cGUuYWRkV2VpZ2h0Q29kZSA9IGZ1bmN0aW9uIChidWYsIHdlaWdodCkge1xuICAgICAgICBidWYuYXBwZW5kKCcoMzEwMyknKTtcbiAgICB9O1xuICAgIEFJMDEzMTAzZGVjb2Rlci5wcm90b3R5cGUuY2hlY2tXZWlnaHQgPSBmdW5jdGlvbiAod2VpZ2h0KSB7XG4gICAgICAgIHJldHVybiB3ZWlnaHQ7XG4gICAgfTtcbiAgICByZXR1cm4gQUkwMTMxMDNkZWNvZGVyO1xufShBSTAxM3gweERlY29kZXIpKTtcbmV4cG9ydCBkZWZhdWx0IEFJMDEzMTAzZGVjb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFJMDEzMTAzZGVjb2Rlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBBSTAxM3gweERlY29kZXIgZnJvbSAnLi9BSTAxM3gweERlY29kZXInO1xudmFyIEFJMDEzMjB4RGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQUkwMTMyMHhEZWNvZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFJMDEzMjB4RGVjb2RlcihpbmZvcm1hdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgaW5mb3JtYXRpb24pIHx8IHRoaXM7XG4gICAgfVxuICAgIEFJMDEzMjB4RGVjb2Rlci5wcm90b3R5cGUuYWRkV2VpZ2h0Q29kZSA9IGZ1bmN0aW9uIChidWYsIHdlaWdodCkge1xuICAgICAgICBpZiAod2VpZ2h0IDwgMTAwMDApIHtcbiAgICAgICAgICAgIGJ1Zi5hcHBlbmQoJygzMjAyKScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnVmLmFwcGVuZCgnKDMyMDMpJyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFJMDEzMjB4RGVjb2Rlci5wcm90b3R5cGUuY2hlY2tXZWlnaHQgPSBmdW5jdGlvbiAod2VpZ2h0KSB7XG4gICAgICAgIGlmICh3ZWlnaHQgPCAxMDAwMCkge1xuICAgICAgICAgICAgcmV0dXJuIHdlaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2VpZ2h0IC0gMTAwMDA7XG4gICAgfTtcbiAgICByZXR1cm4gQUkwMTMyMHhEZWNvZGVyO1xufShBSTAxM3gweERlY29kZXIpKTtcbmV4cG9ydCBkZWZhdWx0IEFJMDEzMjB4RGVjb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFJMDEzMjB4RGVjb2Rlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBBSTAxZGVjb2RlciBmcm9tICcuL0FJMDFkZWNvZGVyJztcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi8uLi8uLi8uLi9Ob3RGb3VuZEV4Y2VwdGlvbic7XG5pbXBvcnQgU3RyaW5nQnVpbGRlciBmcm9tICcuLi8uLi8uLi8uLi91dGlsL1N0cmluZ0J1aWxkZXInO1xudmFyIEFJMDEzOTJ4RGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQUkwMTM5MnhEZWNvZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFJMDEzOTJ4RGVjb2RlcihpbmZvcm1hdGlvbikge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgaW5mb3JtYXRpb24pIHx8IHRoaXM7XG4gICAgfVxuICAgIEFJMDEzOTJ4RGVjb2Rlci5wcm90b3R5cGUucGFyc2VJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0SW5mb3JtYXRpb24oKS5nZXRTaXplKCkgPCBBSTAxMzkyeERlY29kZXIuSEVBREVSX1NJWkUgKyBBSTAxZGVjb2Rlci5HVElOX1NJWkUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWYgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xuICAgICAgICB0aGlzLmVuY29kZUNvbXByZXNzZWRHdGluKGJ1ZiwgQUkwMTM5MnhEZWNvZGVyLkhFQURFUl9TSVpFKTtcbiAgICAgICAgdmFyIGxhc3RBSWRpZ2l0ID0gdGhpcy5nZXRHZW5lcmFsRGVjb2RlcigpLmV4dHJhY3ROdW1lcmljVmFsdWVGcm9tQml0QXJyYXkoQUkwMTM5MnhEZWNvZGVyLkhFQURFUl9TSVpFICsgQUkwMWRlY29kZXIuR1RJTl9TSVpFLCBBSTAxMzkyeERlY29kZXIuTEFTVF9ESUdJVF9TSVpFKTtcbiAgICAgICAgYnVmLmFwcGVuZCgnKDM5MicpO1xuICAgICAgICBidWYuYXBwZW5kKGxhc3RBSWRpZ2l0KTtcbiAgICAgICAgYnVmLmFwcGVuZCgnKScpO1xuICAgICAgICB2YXIgZGVjb2RlZEluZm9ybWF0aW9uID0gdGhpcy5nZXRHZW5lcmFsRGVjb2RlcigpLmRlY29kZUdlbmVyYWxQdXJwb3NlRmllbGQoQUkwMTM5MnhEZWNvZGVyLkhFQURFUl9TSVpFICsgQUkwMWRlY29kZXIuR1RJTl9TSVpFICsgQUkwMTM5MnhEZWNvZGVyLkxBU1RfRElHSVRfU0laRSwgbnVsbCk7XG4gICAgICAgIGJ1Zi5hcHBlbmQoZGVjb2RlZEluZm9ybWF0aW9uLmdldE5ld1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpO1xuICAgIH07XG4gICAgQUkwMTM5MnhEZWNvZGVyLkhFQURFUl9TSVpFID0gNSArIDEgKyAyO1xuICAgIEFJMDEzOTJ4RGVjb2Rlci5MQVNUX0RJR0lUX1NJWkUgPSAyO1xuICAgIHJldHVybiBBSTAxMzkyeERlY29kZXI7XG59KEFJMDFkZWNvZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBBSTAxMzkyeERlY29kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BSTAxMzkyeERlY29kZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgQUkwMWRlY29kZXIgZnJvbSAnLi9BSTAxZGVjb2Rlcic7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vLi4vLi4vLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuaW1wb3J0IFN0cmluZ0J1aWxkZXIgZnJvbSAnLi4vLi4vLi4vLi4vdXRpbC9TdHJpbmdCdWlsZGVyJztcbnZhciBBSTAxMzkzeERlY29kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFJMDEzOTN4RGVjb2RlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBSTAxMzkzeERlY29kZXIoaW5mb3JtYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIGluZm9ybWF0aW9uKSB8fCB0aGlzO1xuICAgIH1cbiAgICBBSTAxMzkzeERlY29kZXIucHJvdG90eXBlLnBhcnNlSW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdldEluZm9ybWF0aW9uKCkuZ2V0U2l6ZSgpIDwgQUkwMTM5M3hEZWNvZGVyLkhFQURFUl9TSVpFICsgQUkwMWRlY29kZXIuR1RJTl9TSVpFKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgdGhpcy5lbmNvZGVDb21wcmVzc2VkR3RpbihidWYsIEFJMDEzOTN4RGVjb2Rlci5IRUFERVJfU0laRSk7XG4gICAgICAgIHZhciBsYXN0QUlkaWdpdCA9IHRoaXMuZ2V0R2VuZXJhbERlY29kZXIoKS5leHRyYWN0TnVtZXJpY1ZhbHVlRnJvbUJpdEFycmF5KEFJMDEzOTN4RGVjb2Rlci5IRUFERVJfU0laRSArIEFJMDFkZWNvZGVyLkdUSU5fU0laRSwgQUkwMTM5M3hEZWNvZGVyLkxBU1RfRElHSVRfU0laRSk7XG4gICAgICAgIGJ1Zi5hcHBlbmQoJygzOTMnKTtcbiAgICAgICAgYnVmLmFwcGVuZChsYXN0QUlkaWdpdCk7XG4gICAgICAgIGJ1Zi5hcHBlbmQoJyknKTtcbiAgICAgICAgdmFyIGZpcnN0VGhyZWVEaWdpdHMgPSB0aGlzLmdldEdlbmVyYWxEZWNvZGVyKCkuZXh0cmFjdE51bWVyaWNWYWx1ZUZyb21CaXRBcnJheShBSTAxMzkzeERlY29kZXIuSEVBREVSX1NJWkUgKyBBSTAxZGVjb2Rlci5HVElOX1NJWkUgKyBBSTAxMzkzeERlY29kZXIuTEFTVF9ESUdJVF9TSVpFLCBBSTAxMzkzeERlY29kZXIuRklSU1RfVEhSRUVfRElHSVRTX1NJWkUpO1xuICAgICAgICBpZiAoZmlyc3RUaHJlZURpZ2l0cyAvIDEwMCA9PSAwKSB7XG4gICAgICAgICAgICBidWYuYXBwZW5kKCcwJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpcnN0VGhyZWVEaWdpdHMgLyAxMCA9PSAwKSB7XG4gICAgICAgICAgICBidWYuYXBwZW5kKCcwJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnVmLmFwcGVuZChmaXJzdFRocmVlRGlnaXRzKTtcbiAgICAgICAgdmFyIGdlbmVyYWxJbmZvcm1hdGlvbiA9IHRoaXMuZ2V0R2VuZXJhbERlY29kZXIoKS5kZWNvZGVHZW5lcmFsUHVycG9zZUZpZWxkKEFJMDEzOTN4RGVjb2Rlci5IRUFERVJfU0laRSArIEFJMDFkZWNvZGVyLkdUSU5fU0laRSArIEFJMDEzOTN4RGVjb2Rlci5MQVNUX0RJR0lUX1NJWkUgKyBBSTAxMzkzeERlY29kZXIuRklSU1RfVEhSRUVfRElHSVRTX1NJWkUsIG51bGwpO1xuICAgICAgICBidWYuYXBwZW5kKGdlbmVyYWxJbmZvcm1hdGlvbi5nZXROZXdTdHJpbmcoKSk7XG4gICAgICAgIHJldHVybiBidWYudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIEFJMDEzOTN4RGVjb2Rlci5IRUFERVJfU0laRSA9IDUgKyAxICsgMjtcbiAgICBBSTAxMzkzeERlY29kZXIuTEFTVF9ESUdJVF9TSVpFID0gMjtcbiAgICBBSTAxMzkzeERlY29kZXIuRklSU1RfVEhSRUVfRElHSVRTX1NJWkUgPSAxMDtcbiAgICByZXR1cm4gQUkwMTM5M3hEZWNvZGVyO1xufShBSTAxZGVjb2RlcikpO1xuZXhwb3J0IGRlZmF1bHQgQUkwMTM5M3hEZWNvZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QUkwMTM5M3hEZWNvZGVyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEFJMDF3ZWlnaHREZWNvZGVyIGZyb20gJy4vQUkwMXdlaWdodERlY29kZXInO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uLy4uLy4uLy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uLy4uLy4uLy4uL3V0aWwvU3RyaW5nQnVpbGRlcic7XG52YXIgQUkwMTN4MHgxeERlY29kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFJMDEzeDB4MXhEZWNvZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFJMDEzeDB4MXhEZWNvZGVyKGluZm9ybWF0aW9uLCBmaXJzdEFJZGlnaXRzLCBkYXRlQ29kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBpbmZvcm1hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZGF0ZUNvZGUgPSBkYXRlQ29kZTtcbiAgICAgICAgX3RoaXMuZmlyc3RBSWRpZ2l0cyA9IGZpcnN0QUlkaWdpdHM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQUkwMTN4MHgxeERlY29kZXIucHJvdG90eXBlLnBhcnNlSW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmdldEluZm9ybWF0aW9uKCkuZ2V0U2l6ZSgpICE9IEFJMDEzeDB4MXhEZWNvZGVyLkhFQURFUl9TSVpFICsgQUkwMTN4MHgxeERlY29kZXIuR1RJTl9TSVpFICsgQUkwMTN4MHgxeERlY29kZXIuV0VJR0hUX1NJWkUgKyBBSTAxM3gweDF4RGVjb2Rlci5EQVRFX1NJWkUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBidWYgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xuICAgICAgICB0aGlzLmVuY29kZUNvbXByZXNzZWRHdGluKGJ1ZiwgQUkwMTN4MHgxeERlY29kZXIuSEVBREVSX1NJWkUpO1xuICAgICAgICB0aGlzLmVuY29kZUNvbXByZXNzZWRXZWlnaHQoYnVmLCBBSTAxM3gweDF4RGVjb2Rlci5IRUFERVJfU0laRSArIEFJMDEzeDB4MXhEZWNvZGVyLkdUSU5fU0laRSwgQUkwMTN4MHgxeERlY29kZXIuV0VJR0hUX1NJWkUpO1xuICAgICAgICB0aGlzLmVuY29kZUNvbXByZXNzZWREYXRlKGJ1ZiwgQUkwMTN4MHgxeERlY29kZXIuSEVBREVSX1NJWkUgKyBBSTAxM3gweDF4RGVjb2Rlci5HVElOX1NJWkUgKyBBSTAxM3gweDF4RGVjb2Rlci5XRUlHSFRfU0laRSk7XG4gICAgICAgIHJldHVybiBidWYudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIEFJMDEzeDB4MXhEZWNvZGVyLnByb3RvdHlwZS5lbmNvZGVDb21wcmVzc2VkRGF0ZSA9IGZ1bmN0aW9uIChidWYsIGN1cnJlbnRQb3MpIHtcbiAgICAgICAgdmFyIG51bWVyaWNEYXRlID0gdGhpcy5nZXRHZW5lcmFsRGVjb2RlcigpLmV4dHJhY3ROdW1lcmljVmFsdWVGcm9tQml0QXJyYXkoY3VycmVudFBvcywgQUkwMTN4MHgxeERlY29kZXIuREFURV9TSVpFKTtcbiAgICAgICAgaWYgKG51bWVyaWNEYXRlID09IDM4NDAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYnVmLmFwcGVuZCgnKCcpO1xuICAgICAgICBidWYuYXBwZW5kKHRoaXMuZGF0ZUNvZGUpO1xuICAgICAgICBidWYuYXBwZW5kKCcpJyk7XG4gICAgICAgIHZhciBkYXkgPSBudW1lcmljRGF0ZSAlIDMyO1xuICAgICAgICBudW1lcmljRGF0ZSAvPSAzMjtcbiAgICAgICAgdmFyIG1vbnRoID0gbnVtZXJpY0RhdGUgJSAxMiArIDE7XG4gICAgICAgIG51bWVyaWNEYXRlIC89IDEyO1xuICAgICAgICB2YXIgeWVhciA9IG51bWVyaWNEYXRlO1xuICAgICAgICBpZiAoeWVhciAvIDEwID09IDApIHtcbiAgICAgICAgICAgIGJ1Zi5hcHBlbmQoJzAnKTtcbiAgICAgICAgfVxuICAgICAgICBidWYuYXBwZW5kKHllYXIpO1xuICAgICAgICBpZiAobW9udGggLyAxMCA9PSAwKSB7XG4gICAgICAgICAgICBidWYuYXBwZW5kKCcwJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnVmLmFwcGVuZChtb250aCk7XG4gICAgICAgIGlmIChkYXkgLyAxMCA9PSAwKSB7XG4gICAgICAgICAgICBidWYuYXBwZW5kKCcwJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnVmLmFwcGVuZChkYXkpO1xuICAgIH07XG4gICAgQUkwMTN4MHgxeERlY29kZXIucHJvdG90eXBlLmFkZFdlaWdodENvZGUgPSBmdW5jdGlvbiAoYnVmLCB3ZWlnaHQpIHtcbiAgICAgICAgYnVmLmFwcGVuZCgnKCcpO1xuICAgICAgICBidWYuYXBwZW5kKHRoaXMuZmlyc3RBSWRpZ2l0cyk7XG4gICAgICAgIGJ1Zi5hcHBlbmQod2VpZ2h0IC8gMTAwMDAwKTtcbiAgICAgICAgYnVmLmFwcGVuZCgnKScpO1xuICAgIH07XG4gICAgQUkwMTN4MHgxeERlY29kZXIucHJvdG90eXBlLmNoZWNrV2VpZ2h0ID0gZnVuY3Rpb24gKHdlaWdodCkge1xuICAgICAgICByZXR1cm4gd2VpZ2h0ICUgMTAwMDAwO1xuICAgIH07XG4gICAgQUkwMTN4MHgxeERlY29kZXIuSEVBREVSX1NJWkUgPSA3ICsgMTtcbiAgICBBSTAxM3gweDF4RGVjb2Rlci5XRUlHSFRfU0laRSA9IDIwO1xuICAgIEFJMDEzeDB4MXhEZWNvZGVyLkRBVEVfU0laRSA9IDE2O1xuICAgIHJldHVybiBBSTAxM3gweDF4RGVjb2Rlcjtcbn0oQUkwMXdlaWdodERlY29kZXIpKTtcbmV4cG9ydCBkZWZhdWx0IEFJMDEzeDB4MXhEZWNvZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QUkwMTN4MHgxeERlY29kZXIuanMubWFwIiwiaW1wb3J0IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiBmcm9tICcuLi8uLi8uLi8uLi9JbGxlZ2FsU3RhdGVFeGNlcHRpb24nO1xuaW1wb3J0IEdlbmVyYWxBcHBJZERlY29kZXIgZnJvbSAnLi9HZW5lcmFsQXBwSWREZWNvZGVyJztcbmltcG9ydCBBSTAxQW5kT3RoZXJBSXMgZnJvbSAnLi9BSTAxQW5kT3RoZXJBSXMnO1xuaW1wb3J0IEFueUFJRGVjb2RlciBmcm9tICcuL0FueUFJRGVjb2Rlcic7XG5pbXBvcnQgQUkwMTMxMDNkZWNvZGVyIGZyb20gJy4vQUkwMTMxMDNkZWNvZGVyJztcbmltcG9ydCBBSTAxMzIweERlY29kZXIgZnJvbSAnLi9BSTAxMzIweERlY29kZXInO1xuaW1wb3J0IEFJMDEzOTJ4RGVjb2RlciBmcm9tICcuL0FJMDEzOTJ4RGVjb2Rlcic7XG5pbXBvcnQgQUkwMTM5M3hEZWNvZGVyIGZyb20gJy4vQUkwMTM5M3hEZWNvZGVyJztcbmltcG9ydCBBSTAxM3gweDF4RGVjb2RlciBmcm9tICcuL0FJMDEzeDB4MXhEZWNvZGVyJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWNvZGVyKGluZm9ybWF0aW9uKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGluZm9ybWF0aW9uLmdldCgxKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBSTAxQW5kT3RoZXJBSXMoaW5mb3JtYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5mb3JtYXRpb24uZ2V0KDIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFueUFJRGVjb2RlcihpbmZvcm1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvdXJCaXRFbmNvZGF0aW9uTWV0aG9kID0gR2VuZXJhbEFwcElkRGVjb2Rlci5leHRyYWN0TnVtZXJpY1ZhbHVlRnJvbUJpdEFycmF5KGluZm9ybWF0aW9uLCAxLCA0KTtcbiAgICAgICAgc3dpdGNoIChmb3VyQml0RW5jb2RhdGlvbk1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEFJMDEzMTAzZGVjb2RlcihpbmZvcm1hdGlvbik7XG4gICAgICAgICAgICBjYXNlIDU6IHJldHVybiBuZXcgQUkwMTMyMHhEZWNvZGVyKGluZm9ybWF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZml2ZUJpdEVuY29kYXRpb25NZXRob2QgPSBHZW5lcmFsQXBwSWREZWNvZGVyLmV4dHJhY3ROdW1lcmljVmFsdWVGcm9tQml0QXJyYXkoaW5mb3JtYXRpb24sIDEsIDUpO1xuICAgICAgICBzd2l0Y2ggKGZpdmVCaXRFbmNvZGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIDEyOiByZXR1cm4gbmV3IEFJMDEzOTJ4RGVjb2RlcihpbmZvcm1hdGlvbik7XG4gICAgICAgICAgICBjYXNlIDEzOiByZXR1cm4gbmV3IEFJMDEzOTN4RGVjb2RlcihpbmZvcm1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNldmVuQml0RW5jb2RhdGlvbk1ldGhvZCA9IEdlbmVyYWxBcHBJZERlY29kZXIuZXh0cmFjdE51bWVyaWNWYWx1ZUZyb21CaXRBcnJheShpbmZvcm1hdGlvbiwgMSwgNyk7XG4gICAgICAgIHN3aXRjaCAoc2V2ZW5CaXRFbmNvZGF0aW9uTWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIDU2OiByZXR1cm4gbmV3IEFJMDEzeDB4MXhEZWNvZGVyKGluZm9ybWF0aW9uLCAnMzEwJywgJzExJyk7XG4gICAgICAgICAgICBjYXNlIDU3OiByZXR1cm4gbmV3IEFJMDEzeDB4MXhEZWNvZGVyKGluZm9ybWF0aW9uLCAnMzIwJywgJzExJyk7XG4gICAgICAgICAgICBjYXNlIDU4OiByZXR1cm4gbmV3IEFJMDEzeDB4MXhEZWNvZGVyKGluZm9ybWF0aW9uLCAnMzEwJywgJzEzJyk7XG4gICAgICAgICAgICBjYXNlIDU5OiByZXR1cm4gbmV3IEFJMDEzeDB4MXhEZWNvZGVyKGluZm9ybWF0aW9uLCAnMzIwJywgJzEzJyk7XG4gICAgICAgICAgICBjYXNlIDYwOiByZXR1cm4gbmV3IEFJMDEzeDB4MXhEZWNvZGVyKGluZm9ybWF0aW9uLCAnMzEwJywgJzE1Jyk7XG4gICAgICAgICAgICBjYXNlIDYxOiByZXR1cm4gbmV3IEFJMDEzeDB4MXhEZWNvZGVyKGluZm9ybWF0aW9uLCAnMzIwJywgJzE1Jyk7XG4gICAgICAgICAgICBjYXNlIDYyOiByZXR1cm4gbmV3IEFJMDEzeDB4MXhEZWNvZGVyKGluZm9ybWF0aW9uLCAnMzEwJywgJzE3Jyk7XG4gICAgICAgICAgICBjYXNlIDYzOiByZXR1cm4gbmV3IEFJMDEzeDB4MXhEZWNvZGVyKGluZm9ybWF0aW9uLCAnMzIwJywgJzE3Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ3Vua25vd24gZGVjb2RlcjogJyArIGluZm9ybWF0aW9uKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdEV4cGFuZGVkRGVjb2RlckNvbXBsZW1lbnQuanMubWFwIiwidmFyIEV4cGFuZGVkUGFpciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFeHBhbmRlZFBhaXIobGVmdENoYXIsIHJpZ2h0Q2hhciwgZmluZGVyUGF0dGVyLCBtYXlCZUxhc3QpIHtcbiAgICAgICAgdGhpcy5sZWZ0Y2hhciA9IGxlZnRDaGFyO1xuICAgICAgICB0aGlzLnJpZ2h0Y2hhciA9IHJpZ2h0Q2hhcjtcbiAgICAgICAgdGhpcy5maW5kZXJwYXR0ZXJuID0gZmluZGVyUGF0dGVyO1xuICAgICAgICB0aGlzLm1heWJlTGFzdCA9IG1heUJlTGFzdDtcbiAgICB9XG4gICAgRXhwYW5kZWRQYWlyLnByb3RvdHlwZS5tYXlCZUxhc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1heWJlTGFzdDtcbiAgICB9O1xuICAgIEV4cGFuZGVkUGFpci5wcm90b3R5cGUuZ2V0TGVmdENoYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnRjaGFyO1xuICAgIH07XG4gICAgRXhwYW5kZWRQYWlyLnByb3RvdHlwZS5nZXRSaWdodENoYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJpZ2h0Y2hhcjtcbiAgICB9O1xuICAgIEV4cGFuZGVkUGFpci5wcm90b3R5cGUuZ2V0RmluZGVyUGF0dGVybiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZGVycGF0dGVybjtcbiAgICB9O1xuICAgIEV4cGFuZGVkUGFpci5wcm90b3R5cGUubXVzdEJlTGFzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmlnaHRjaGFyID09IG51bGw7XG4gICAgfTtcbiAgICBFeHBhbmRlZFBhaXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ1sgJyArIHRoaXMubGVmdGNoYXIgKyAnLCAnICsgdGhpcy5yaWdodGNoYXIgKyAnIDogJyArICh0aGlzLmZpbmRlcnBhdHRlcm4gPT0gbnVsbCA/ICdudWxsJyA6IHRoaXMuZmluZGVycGF0dGVybi5nZXRWYWx1ZSgpKSArICcgXSc7XG4gICAgfTtcbiAgICBFeHBhbmRlZFBhaXIuZXF1YWxzID0gZnVuY3Rpb24gKG8xLCBvMikge1xuICAgICAgICBpZiAoIShvMSBpbnN0YW5jZW9mIEV4cGFuZGVkUGFpcikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRXhwYW5kZWRQYWlyLmVxdWFsc09yTnVsbChvMS5sZWZ0Y2hhciwgbzIubGVmdGNoYXIpICYmXG4gICAgICAgICAgICBFeHBhbmRlZFBhaXIuZXF1YWxzT3JOdWxsKG8xLnJpZ2h0Y2hhciwgbzIucmlnaHRjaGFyKSAmJlxuICAgICAgICAgICAgRXhwYW5kZWRQYWlyLmVxdWFsc09yTnVsbChvMS5maW5kZXJwYXR0ZXJuLCBvMi5maW5kZXJwYXR0ZXJuKTtcbiAgICB9O1xuICAgIEV4cGFuZGVkUGFpci5lcXVhbHNPck51bGwgPSBmdW5jdGlvbiAobzEsIG8yKSB7XG4gICAgICAgIHJldHVybiBvMSA9PT0gbnVsbCA/IG8yID09PSBudWxsIDogRXhwYW5kZWRQYWlyLmVxdWFscyhvMSwgbzIpO1xuICAgIH07XG4gICAgRXhwYW5kZWRQYWlyLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmV0dXJuIEV4cGFuZGVkUGFpci5oYXNoTm90TnVsbChsZWZ0Q2hhcikgXiBoYXNoTm90TnVsbChyaWdodENoYXIpIF4gaGFzaE5vdE51bGwoZmluZGVyUGF0dGVybik7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMubGVmdGNoYXIuZ2V0VmFsdWUoKSBeIHRoaXMucmlnaHRjaGFyLmdldFZhbHVlKCkgXiB0aGlzLmZpbmRlcnBhdHRlcm4uZ2V0VmFsdWUoKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgcmV0dXJuIEV4cGFuZGVkUGFpcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBFeHBhbmRlZFBhaXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FeHBhbmRlZFBhaXIuanMubWFwIiwidmFyIEV4cGFuZGVkUm93ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV4cGFuZGVkUm93KHBhaXJzLCByb3dOdW1iZXIsIHdhc1JldmVyc2VkKSB7XG4gICAgICAgIHRoaXMucGFpcnMgPSBwYWlycztcbiAgICAgICAgdGhpcy5yb3dOdW1iZXIgPSByb3dOdW1iZXI7XG4gICAgICAgIHRoaXMud2FzUmV2ZXJzZWQgPSB3YXNSZXZlcnNlZDtcbiAgICB9XG4gICAgRXhwYW5kZWRSb3cucHJvdG90eXBlLmdldFBhaXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYWlycztcbiAgICB9O1xuICAgIEV4cGFuZGVkUm93LnByb3RvdHlwZS5nZXRSb3dOdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvd051bWJlcjtcbiAgICB9O1xuICAgIEV4cGFuZGVkUm93LnByb3RvdHlwZS5pc1JldmVyc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53YXNSZXZlcnNlZDtcbiAgICB9O1xuICAgIC8vIGNoZWNrIGltcGxlbWVudGF0aW9uXG4gICAgRXhwYW5kZWRSb3cucHJvdG90eXBlLmlzRXF1aXZhbGVudCA9IGZ1bmN0aW9uIChvdGhlclBhaXJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrRXF1YWxpdGl0eSh0aGlzLCBvdGhlclBhaXJzKTtcbiAgICB9O1xuICAgIC8vIEBPdmVycmlkZVxuICAgIEV4cGFuZGVkUm93LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICd7ICcgKyB0aGlzLnBhaXJzICsgJyB9JztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFR3byByb3dzIGFyZSBlcXVhbCBpZiB0aGV5IGNvbnRhaW4gdGhlIHNhbWUgcGFpcnMgaW4gdGhlIHNhbWUgb3JkZXIuXG4gICAgICovXG4gICAgLy8gQE92ZXJyaWRlXG4gICAgLy8gY2hlY2sgaW1wbGVtZW50YXRpb25cbiAgICBFeHBhbmRlZFJvdy5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8xLCBvMikge1xuICAgICAgICBpZiAoIShvMSBpbnN0YW5jZW9mIEV4cGFuZGVkUm93KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrRXF1YWxpdGl0eShvMSwgbzIpICYmIG8xLndhc1JldmVyc2VkID09PSBvMi53YXNSZXZlcnNlZDtcbiAgICB9O1xuICAgIEV4cGFuZGVkUm93LnByb3RvdHlwZS5jaGVja0VxdWFsaXRpdHkgPSBmdW5jdGlvbiAocGFpcjEsIHBhaXIyKSB7XG4gICAgICAgIGlmICghcGFpcjEgfHwgIXBhaXIyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBwYWlyMS5mb3JFYWNoKGZ1bmN0aW9uIChlMSwgaSkge1xuICAgICAgICAgICAgcGFpcjIuZm9yRWFjaChmdW5jdGlvbiAoZTIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZTEuZ2V0TGVmdENoYXIoKS5nZXRWYWx1ZSgpID09PSBlMi5nZXRMZWZ0Q2hhcigpLmdldFZhbHVlKCkgJiYgZTEuZ2V0UmlnaHRDaGFyKCkuZ2V0VmFsdWUoKSA9PT0gZTIuZ2V0UmlnaHRDaGFyKCkuZ2V0VmFsdWUoKSAmJiBlMS5nZXRGaW5kZXJQYXR0ZXIoKS5nZXRWYWx1ZSgpID09PSBlMi5nZXRGaW5kZXJQYXR0ZXIoKS5nZXRWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIEV4cGFuZGVkUm93O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEV4cGFuZGVkUm93O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RXhwYW5kZWRSb3cuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5pbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuLi8uLi8uLi9CYXJjb2RlRm9ybWF0JztcbmltcG9ydCBNYXRoVXRpbHMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2RldGVjdG9yL01hdGhVdGlscyc7XG4vLyBpbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uLy4uLy4uL0Zvcm1hdEV4Y2VwdGlvbic7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vLi4vLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuaW1wb3J0IFJlc3VsdCBmcm9tICcuLi8uLi8uLi9SZXN1bHQnO1xuaW1wb3J0IFN5c3RlbSBmcm9tICcuLi8uLi8uLi91dGlsL1N5c3RlbSc7XG5pbXBvcnQgQWJzdHJhY3RSU1NSZWFkZXIgZnJvbSAnLi4vLi4vcnNzL0Fic3RyYWN0UlNTUmVhZGVyJztcbmltcG9ydCBEYXRhQ2hhcmFjdGVyIGZyb20gJy4uLy4uL3Jzcy9EYXRhQ2hhcmFjdGVyJztcbmltcG9ydCBGaW5kZXJQYXR0ZXJuIGZyb20gJy4uLy4uL3Jzcy9GaW5kZXJQYXR0ZXJuJztcbmltcG9ydCBSU1NVdGlscyBmcm9tICcuLi8uLi9yc3MvUlNTVXRpbHMnO1xuaW1wb3J0IEJpdEFycmF5QnVpbGRlciBmcm9tICcuL0JpdEFycmF5QnVpbGRlcic7XG5pbXBvcnQgeyBjcmVhdGVEZWNvZGVyIH0gZnJvbSAnLi9kZWNvZGVycy9BYnN0cmFjdEV4cGFuZGVkRGVjb2RlckNvbXBsZW1lbnQnO1xuaW1wb3J0IEV4cGFuZGVkUGFpciBmcm9tICcuL0V4cGFuZGVkUGFpcic7XG5pbXBvcnQgRXhwYW5kZWRSb3cgZnJvbSAnLi9FeHBhbmRlZFJvdyc7XG4vLyBpbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDtcbi8vIGltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7XG4vLyBpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4vLyBpbXBvcnQgamF2YS51dGlsLk1hcDtcbi8vIGltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbnM7XG4vKiogQGV4cGVyaW1lbnRhbCAqL1xudmFyIFJTU0V4cGFuZGVkUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSU1NFeHBhbmRlZFJlYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSU1NFeHBhbmRlZFJlYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhaXJzID0gbmV3IEFycmF5KFJTU0V4cGFuZGVkUmVhZGVyLk1BWF9QQUlSUyk7XG4gICAgICAgIF90aGlzLnJvd3MgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgX3RoaXMuc3RhcnRFbmQgPSBbMl07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIucHJvdG90eXBlLmRlY29kZVJvdyA9IGZ1bmN0aW9uIChyb3dOdW1iZXIsIHJvdywgaGludHMpIHtcbiAgICAgICAgLy8gUm93cyBjYW4gc3RhcnQgd2l0aCBldmVuIHBhdHRlcm4gaW4gY2FzZSBpbiBwcmV2IHJvd3MgdGhlcmUgd2hlcmUgb2RkIG51bWJlciBvZiBwYXR0ZXJzLlxuICAgICAgICAvLyBTbyBsZXRzIHRyeSB0d2ljZVxuICAgICAgICAvLyB0aGlzLnBhaXJzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMucGFpcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5zdGFydEZyb21FdmVuID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gUlNTRXhwYW5kZWRSZWFkZXIuY29uc3RydWN0UmVzdWx0KHRoaXMuZGVjb2RlUm93MnBhaXJzKHJvd051bWJlciwgcm93KSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIE9LXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhaXJzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuc3RhcnRGcm9tRXZlbiA9IHRydWU7XG4gICAgICAgIHJldHVybiBSU1NFeHBhbmRlZFJlYWRlci5jb25zdHJ1Y3RSZXN1bHQodGhpcy5kZWNvZGVSb3cycGFpcnMocm93TnVtYmVyLCByb3cpKTtcbiAgICB9O1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wYWlycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnJvd3MubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIC8vIE5vdCBwcml2YXRlIGZvciB0ZXN0aW5nXG4gICAgUlNTRXhwYW5kZWRSZWFkZXIucHJvdG90eXBlLmRlY29kZVJvdzJwYWlycyA9IGZ1bmN0aW9uIChyb3dOdW1iZXIsIHJvdykge1xuICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoIWRvbmUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWlycy5wdXNoKHRoaXMucmV0cmlldmVOZXh0UGFpcihyb3csIHRoaXMucGFpcnMsIHJvd051bWJlcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgTm90Rm91bmRFeGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnBhaXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZXhpdCB0aGlzIGxvb3Agd2hlbiByZXRyaWV2ZU5leHRQYWlyKCkgZmFpbHMgYW5kIHRocm93c1xuICAgICAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETzogdmVyaWZ5IHNlcXVlbmNlIG9mIGZpbmRlciBwYXR0ZXJucyBhcyBpbiBjaGVja1BhaXJTZXF1ZW5jZSgpXG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ2hlY2tzdW0oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFpcnM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyeVN0YWNrZWREZWNvZGU7XG4gICAgICAgIGlmICh0aGlzLnJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB0cnlTdGFja2VkRGVjb2RlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyeVN0YWNrZWREZWNvZGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXQgdHJ5U3RhY2tlZERlY29kZSA9ICF0aGlzLnJvd3MuaXNFbXB0eSgpO1xuICAgICAgICB0aGlzLnN0b3JlUm93KHJvd051bWJlciwgZmFsc2UpOyAvLyBUT0RPOiBkZWFsIHdpdGggcmV2ZXJzZWQgcm93c1xuICAgICAgICBpZiAodHJ5U3RhY2tlZERlY29kZSkge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGUgaW1hZ2UgaXMgMTgwLXJvdGF0ZWQsIHRoZW4gcm93cyBhcmUgc29ydGVkIGluIHdyb25nIGRpcmVjdGlvbi5cbiAgICAgICAgICAgIC8vIFRyeSB0d2ljZSB3aXRoIGJvdGggdGhlIGRpcmVjdGlvbnMuXG4gICAgICAgICAgICB2YXIgcHMgPSB0aGlzLmNoZWNrUm93c0Jvb2xlYW4oZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHBzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcyA9IHRoaXMuY2hlY2tSb3dzQm9vbGVhbih0cnVlKTtcbiAgICAgICAgICAgIGlmIChwcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgIH07XG4gICAgLy8gTmVlZCB0byBWZXJpZnlcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5wcm90b3R5cGUuY2hlY2tSb3dzQm9vbGVhbiA9IGZ1bmN0aW9uIChyZXZlcnNlKSB7XG4gICAgICAgIC8vIExpbWl0IG51bWJlciBvZiByb3dzIHdlIGFyZSBjaGVja2luZ1xuICAgICAgICAvLyBXZSB1c2UgcmVjdXJzaXZlIGFsZ29yaXRobSB3aXRoIHB1cmUgY29tcGxleGl0eSBhbmQgZG9uJ3Qgd2FudCBpdCB0byB0YWtlIGZvcmV2ZXJcbiAgICAgICAgLy8gU3RhY2tlZCBiYXJjb2RlIGNhbiBoYXZlIHVwIHRvIDExIHJvd3MsIHNvIDI1IHNlZW1zIHJlYXNvbmFibGUgZW5vdWdoXG4gICAgICAgIGlmICh0aGlzLnJvd3MubGVuZ3RoID4gMjUpIHtcbiAgICAgICAgICAgIHRoaXMucm93cy5sZW5ndGggPSAwOyAvLyBXZSB3aWxsIG5ldmVyIGhhdmUgYSBjaGFuY2UgdG8gZ2V0IHJlc3VsdCwgc28gY2xlYXIgaXRcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFpcnMubGVuZ3RoID0gMDtcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIHRoaXMucm93cyA9IHRoaXMucm93cy5yZXZlcnNlKCk7XG4gICAgICAgICAgICAvLyBDb2xsZWN0aW9ucy5yZXZlcnNlKHRoaXMucm93cyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBzID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBzID0gdGhpcy5jaGVja1Jvd3MobmV3IEFycmF5KCksIDApO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBPS1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIHRoaXMucm93cyA9IHRoaXMucm93cy5yZXZlcnNlKCk7XG4gICAgICAgICAgICAvLyBDb2xsZWN0aW9ucy5yZXZlcnNlKHRoaXMucm93cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBzO1xuICAgIH07XG4gICAgLy8gVHJ5IHRvIGNvbnN0cnVjdCBhIHZhbGlkIHJvd3Mgc2VxdWVuY2VcbiAgICAvLyBSZWN1cnNpb24gaXMgdXNlZCB0byBpbXBsZW1lbnQgYmFja3RyYWNraW5nXG4gICAgUlNTRXhwYW5kZWRSZWFkZXIucHJvdG90eXBlLmNoZWNrUm93cyA9IGZ1bmN0aW9uIChjb2xsZWN0ZWRSb3dzLCBjdXJyZW50Um93KSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICBmb3IgKHZhciBpID0gY3VycmVudFJvdzsgaSA8IHRoaXMucm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1tpXTtcbiAgICAgICAgICAgIHRoaXMucGFpcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY29sbGVjdGVkUm93c18xID0gKGVfMSA9IHZvaWQgMCwgX192YWx1ZXMoY29sbGVjdGVkUm93cykpLCBjb2xsZWN0ZWRSb3dzXzFfMSA9IGNvbGxlY3RlZFJvd3NfMS5uZXh0KCk7ICFjb2xsZWN0ZWRSb3dzXzFfMS5kb25lOyBjb2xsZWN0ZWRSb3dzXzFfMSA9IGNvbGxlY3RlZFJvd3NfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbGxlY3RlZFJvdyA9IGNvbGxlY3RlZFJvd3NfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhaXJzLnB1c2goY29sbGVjdGVkUm93LmdldFBhaXJzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGVkUm93c18xXzEgJiYgIWNvbGxlY3RlZFJvd3NfMV8xLmRvbmUgJiYgKF9hID0gY29sbGVjdGVkUm93c18xLnJldHVybikpIF9hLmNhbGwoY29sbGVjdGVkUm93c18xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYWlycy5wdXNoKHJvdy5nZXRQYWlycygpKTtcbiAgICAgICAgICAgIGlmICghUlNTRXhwYW5kZWRSZWFkZXIuaXNWYWxpZFNlcXVlbmNlKHRoaXMucGFpcnMpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja0NoZWNrc3VtKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYWlycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBycyA9IG5ldyBBcnJheShjb2xsZWN0ZWRSb3dzKTtcbiAgICAgICAgICAgIHJzLnB1c2gocm93KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gUmVjdXJzaW9uOiB0cnkgdG8gYWRkIG1vcmUgcm93c1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoZWNrUm93cyhycywgaSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBmYWlsZWQsIHRyeSB0aGUgbmV4dCBjYW5kaWRhdGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICB9O1xuICAgIC8vIFdoZXRoZXIgdGhlIHBhaXJzIGZvcm0gYSB2YWxpZCBmaW5kIHBhdHRlcm4gc2VxdWVuY2UsXG4gICAgLy8gZWl0aGVyIGNvbXBsZXRlIG9yIGEgcHJlZml4XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIuaXNWYWxpZFNlcXVlbmNlID0gZnVuY3Rpb24gKHBhaXJzKSB7XG4gICAgICAgIHZhciBlXzIsIF9hO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUVEVSTl9TRVFVRU5DRVMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlcXVlbmNlID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHBhaXJzLmxlbmd0aCA+IHNlcXVlbmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHN0b3BfMSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYWlycy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFpcnNbal0uZ2V0RmluZGVyUGF0dGVybigpLmdldFZhbHVlKCkgIT0gc2VxdWVuY2Vbal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BfMSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN0b3BfMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5wcm90b3R5cGUuc3RvcmVSb3cgPSBmdW5jdGlvbiAocm93TnVtYmVyLCB3YXNSZXZlcnNlZCkge1xuICAgICAgICAvLyBEaXNjYXJkIGlmIGR1cGxpY2F0ZSBhYm92ZSBvciBiZWxvdzsgb3RoZXJ3aXNlIGluc2VydCBpbiBvcmRlciBieSByb3cgbnVtYmVyLlxuICAgICAgICB2YXIgaW5zZXJ0UG9zID0gMDtcbiAgICAgICAgdmFyIHByZXZJc1NhbWUgPSBmYWxzZTtcbiAgICAgICAgdmFyIG5leHRJc1NhbWUgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKGluc2VydFBvcyA8IHRoaXMucm93cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBlcm93ID0gdGhpcy5yb3dzW2luc2VydFBvc107XG4gICAgICAgICAgICBpZiAoZXJvdy5nZXRSb3dOdW1iZXIoKSA+IHJvd051bWJlcikge1xuICAgICAgICAgICAgICAgIG5leHRJc1NhbWUgPSBlcm93LmlzRXF1aXZhbGVudCh0aGlzLnBhaXJzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZJc1NhbWUgPSBlcm93LmlzRXF1aXZhbGVudCh0aGlzLnBhaXJzKTtcbiAgICAgICAgICAgIGluc2VydFBvcysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0SXNTYW1lIHx8IHByZXZJc1NhbWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSByb3cgd2FzIHBhcnRpYWxseSBkZWNvZGVkIChlLmcuIDIgcGFpcnMgZm91bmQgaW5zdGVhZCBvZiAzKSxcbiAgICAgICAgLy8gaXQgd2lsbCBwcmV2ZW50IHVzIGZyb20gZGV0ZWN0aW5nIHRoZSBiYXJjb2RlLlxuICAgICAgICAvLyBUcnkgdG8gbWVyZ2UgcGFydGlhbCByb3dzXG4gICAgICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIHJvdyBpcyBwYXJ0IG9mIGFuIGFsbHJlYWR5IGRldGVjdGVkIHJvd1xuICAgICAgICBpZiAoUlNTRXhwYW5kZWRSZWFkZXIuaXNQYXJ0aWFsUm93KHRoaXMucGFpcnMsIHRoaXMucm93cykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJvd3MucHVzaChpbnNlcnRQb3MsIG5ldyBFeHBhbmRlZFJvdyh0aGlzLnBhaXJzLCByb3dOdW1iZXIsIHdhc1JldmVyc2VkKSk7XG4gICAgICAgIHRoaXMucmVtb3ZlUGFydGlhbFJvd3ModGhpcy5wYWlycywgdGhpcy5yb3dzKTtcbiAgICB9O1xuICAgIC8vIFJlbW92ZSBhbGwgdGhlIHJvd3MgdGhhdCBjb250YWlucyBvbmx5IHNwZWNpZmllZCBwYWlyc1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLnByb3RvdHlwZS5yZW1vdmVQYXJ0aWFsUm93cyA9IGZ1bmN0aW9uIChwYWlycywgcm93cykge1xuICAgICAgICB2YXIgZV8zLCBfYSwgZV80LCBfYiwgZV81LCBfYztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIGZvciAoSXRlcmF0b3I8RXhwYW5kZWRSb3c+IGl0ZXJhdG9yID0gcm93cy5pdGVyYXRvcigpOyBpdGVyYXRvci5oYXNOZXh0KCk7KSB7XG4gICAgICAgICAgICAvLyAgIEV4cGFuZGVkUm93IHIgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAvLyAgIGlmIChyLmdldFBhaXJzKCkuc2l6ZSgpID09IHBhaXJzLnNpemUoKSkge1xuICAgICAgICAgICAgLy8gICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAvLyAgIGJvb2xlYW4gYWxsRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gICBmb3IgKEV4cGFuZGVkUGFpciBwIDogci5nZXRQYWlycygpKSB7XG4gICAgICAgICAgICAvLyAgICAgYm9vbGVhbiBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gICAgIGZvciAoRXhwYW5kZWRQYWlyIHBwIDogcGFpcnMpIHtcbiAgICAgICAgICAgIC8vICAgICAgIGlmIChwLmVxdWFscyhwcCkpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgLy8gICAgICAgYWxsRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vICAgfVxuICAgICAgICAgICAgLy8gICBpZiAoYWxsRm91bmQpIHtcbiAgICAgICAgICAgIC8vICAgICAvLyAncGFpcnMnIGNvbnRhaW5zIGFsbCB0aGUgcGFpcnMgZnJvbSB0aGUgcm93ICdyJ1xuICAgICAgICAgICAgLy8gICAgIGl0ZXJhdG9yLnJlbW92ZSgpO1xuICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBmb3IgKHZhciByb3dzXzEgPSBfX3ZhbHVlcyhyb3dzKSwgcm93c18xXzEgPSByb3dzXzEubmV4dCgpOyAhcm93c18xXzEuZG9uZTsgcm93c18xXzEgPSByb3dzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IHJvd3NfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChyb3cuZ2V0UGFpcnMoKS5sZW5ndGggPT09IHBhaXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGFsbEZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZCA9IChlXzQgPSB2b2lkIDAsIF9fdmFsdWVzKHJvdy5nZXRQYWlycygpKSksIF9lID0gX2QubmV4dCgpOyAhX2UuZG9uZTsgX2UgPSBfZC5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gX2UudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcGFpcnNfMSA9IChlXzUgPSB2b2lkIDAsIF9fdmFsdWVzKHBhaXJzKSksIHBhaXJzXzFfMSA9IHBhaXJzXzEubmV4dCgpOyAhcGFpcnNfMV8xLmRvbmU7IHBhaXJzXzFfMSA9IHBhaXJzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcCA9IHBhaXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEV4cGFuZGVkUGFpci5lcXVhbHMocCwgcHApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFpcnNfMV8xICYmICFwYWlyc18xXzEuZG9uZSAmJiAoX2MgPSBwYWlyc18xLnJldHVybikpIF9jLmNhbGwocGFpcnNfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV81KSB0aHJvdyBlXzUuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxGb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzRfMSkgeyBlXzQgPSB7IGVycm9yOiBlXzRfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2UgJiYgIV9lLmRvbmUgJiYgKF9iID0gX2QucmV0dXJuKSkgX2IuY2FsbChfZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvd3NfMV8xICYmICFyb3dzXzFfMS5kb25lICYmIChfYSA9IHJvd3NfMS5yZXR1cm4pKSBfYS5jYWxsKHJvd3NfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJldHVybnMgdHJ1ZSB3aGVuIG9uZSBvZiB0aGUgcm93cyBhbHJlYWR5IGNvbnRhaW5zIGFsbCB0aGUgcGFpcnNcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5pc1BhcnRpYWxSb3cgPSBmdW5jdGlvbiAocGFpcnMsIHJvd3MpIHtcbiAgICAgICAgdmFyIGVfNiwgX2EsIGVfNywgX2IsIGVfOCwgX2M7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciByb3dzXzIgPSBfX3ZhbHVlcyhyb3dzKSwgcm93c18yXzEgPSByb3dzXzIubmV4dCgpOyAhcm93c18yXzEuZG9uZTsgcm93c18yXzEgPSByb3dzXzIubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSByb3dzXzJfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgYWxsRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBhaXJzXzIgPSAoZV83ID0gdm9pZCAwLCBfX3ZhbHVlcyhwYWlycykpLCBwYWlyc18yXzEgPSBwYWlyc18yLm5leHQoKTsgIXBhaXJzXzJfMS5kb25lOyBwYWlyc18yXzEgPSBwYWlyc18yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBwYWlyc18yXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2QgPSAoZV84ID0gdm9pZCAwLCBfX3ZhbHVlcyhyLmdldFBhaXJzKCkpKSwgX2UgPSBfZC5uZXh0KCk7ICFfZS5kb25lOyBfZSA9IF9kLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHAgPSBfZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAuZXF1YWxzKHBwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV84XzEpIHsgZV84ID0geyBlcnJvcjogZV84XzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9lICYmICFfZS5kb25lICYmIChfYyA9IF9kLnJldHVybikpIF9jLmNhbGwoX2QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfOCkgdGhyb3cgZV84LmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV83XzEpIHsgZV83ID0geyBlcnJvcjogZV83XzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhaXJzXzJfMSAmJiAhcGFpcnNfMl8xLmRvbmUgJiYgKF9iID0gcGFpcnNfMi5yZXR1cm4pKSBfYi5jYWxsKHBhaXJzXzIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV83KSB0aHJvdyBlXzcuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFsbEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByb3cgJ3InIGNvbnRhaW4gYWxsIHRoZSBwYWlycyBmcm9tICdwYWlycydcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzZfMSkgeyBlXzYgPSB7IGVycm9yOiBlXzZfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAocm93c18yXzEgJiYgIXJvd3NfMl8xLmRvbmUgJiYgKF9hID0gcm93c18yLnJldHVybikpIF9hLmNhbGwocm93c18yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV82KSB0aHJvdyBlXzYuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvLyBPbmx5IHVzZWQgZm9yIHVuaXQgdGVzdGluZ1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLnByb3RvdHlwZS5nZXRSb3dzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3dzO1xuICAgIH07XG4gICAgLy8gTm90IHByaXZhdGUgZm9yIHVuaXQgdGVzdGluZ1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLmNvbnN0cnVjdFJlc3VsdCA9IGZ1bmN0aW9uIChwYWlycykge1xuICAgICAgICB2YXIgYmluYXJ5ID0gQml0QXJyYXlCdWlsZGVyLmJ1aWxkQml0QXJyYXkocGFpcnMpO1xuICAgICAgICB2YXIgZGVjb2RlciA9IGNyZWF0ZURlY29kZXIoYmluYXJ5KTtcbiAgICAgICAgdmFyIHJlc3VsdGluZ1N0cmluZyA9IGRlY29kZXIucGFyc2VJbmZvcm1hdGlvbigpO1xuICAgICAgICB2YXIgZmlyc3RQb2ludHMgPSBwYWlyc1swXS5nZXRGaW5kZXJQYXR0ZXJuKCkuZ2V0UmVzdWx0UG9pbnRzKCk7XG4gICAgICAgIHZhciBsYXN0UG9pbnRzID0gcGFpcnNbcGFpcnMubGVuZ3RoIC0gMV0uZ2V0RmluZGVyUGF0dGVybigpLmdldFJlc3VsdFBvaW50cygpO1xuICAgICAgICB2YXIgcG9pbnRzID0gW2ZpcnN0UG9pbnRzWzBdLCBmaXJzdFBvaW50c1sxXSwgbGFzdFBvaW50c1swXSwgbGFzdFBvaW50c1sxXV07XG4gICAgICAgIHJldHVybiBuZXcgUmVzdWx0KHJlc3VsdGluZ1N0cmluZywgbnVsbCwgbnVsbCwgcG9pbnRzLCBCYXJjb2RlRm9ybWF0LlJTU19FWFBBTkRFRCwgbnVsbCk7XG4gICAgfTtcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5wcm90b3R5cGUuY2hlY2tDaGVja3N1bSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZpcnN0UGFpciA9IHRoaXMucGFpcnMuZ2V0KDApO1xuICAgICAgICB2YXIgY2hlY2tDaGFyYWN0ZXIgPSBmaXJzdFBhaXIuZ2V0TGVmdENoYXIoKTtcbiAgICAgICAgdmFyIGZpcnN0Q2hhcmFjdGVyID0gZmlyc3RQYWlyLmdldFJpZ2h0Q2hhcigpO1xuICAgICAgICBpZiAoZmlyc3RDaGFyYWN0ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGVja3N1bSA9IGZpcnN0Q2hhcmFjdGVyLmdldENoZWNrc3VtUG9ydGlvbigpO1xuICAgICAgICB2YXIgcyA9IDI7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wYWlycy5zaXplKCk7ICsraSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWlyID0gdGhpcy5wYWlycy5nZXQoaSk7XG4gICAgICAgICAgICBjaGVja3N1bSArPSBjdXJyZW50UGFpci5nZXRMZWZ0Q2hhcigpLmdldENoZWNrc3VtUG9ydGlvbigpO1xuICAgICAgICAgICAgcysrO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRSaWdodENoYXIgPSBjdXJyZW50UGFpci5nZXRSaWdodENoYXIoKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UmlnaHRDaGFyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjaGVja3N1bSArPSBjdXJyZW50UmlnaHRDaGFyLmdldENoZWNrc3VtUG9ydGlvbigpO1xuICAgICAgICAgICAgICAgIHMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjaGVja3N1bSAlPSAyMTE7XG4gICAgICAgIHZhciBjaGVja0NoYXJhY3RlclZhbHVlID0gMjExICogKHMgLSA0KSArIGNoZWNrc3VtO1xuICAgICAgICByZXR1cm4gY2hlY2tDaGFyYWN0ZXJWYWx1ZSA9PSBjaGVja0NoYXJhY3Rlci5nZXRWYWx1ZSgpO1xuICAgIH07XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIuZ2V0TmV4dFNlY29uZEJhciA9IGZ1bmN0aW9uIChyb3csIGluaXRpYWxQb3MpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQb3M7XG4gICAgICAgIGlmIChyb3cuZ2V0KGluaXRpYWxQb3MpKSB7XG4gICAgICAgICAgICBjdXJyZW50UG9zID0gcm93LmdldE5leHRVbnNldChpbml0aWFsUG9zKTtcbiAgICAgICAgICAgIGN1cnJlbnRQb3MgPSByb3cuZ2V0TmV4dFNldChjdXJyZW50UG9zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRQb3MgPSByb3cuZ2V0TmV4dFNldChpbml0aWFsUG9zKTtcbiAgICAgICAgICAgIGN1cnJlbnRQb3MgPSByb3cuZ2V0TmV4dFVuc2V0KGN1cnJlbnRQb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50UG9zO1xuICAgIH07XG4gICAgLy8gbm90IHByaXZhdGUgZm9yIHRlc3RpbmdcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5wcm90b3R5cGUucmV0cmlldmVOZXh0UGFpciA9IGZ1bmN0aW9uIChyb3csIHByZXZpb3VzUGFpcnMsIHJvd051bWJlcikge1xuICAgICAgICB2YXIgaXNPZGRQYXR0ZXJuID0gcHJldmlvdXNQYWlycy5sZW5ndGggJSAyID09IDA7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0RnJvbUV2ZW4pIHtcbiAgICAgICAgICAgIGlzT2RkUGF0dGVybiA9ICFpc09kZFBhdHRlcm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhdHRlcm47XG4gICAgICAgIHZhciBrZWVwRmluZGluZyA9IHRydWU7XG4gICAgICAgIHZhciBmb3JjZWRPZmZzZXQgPSAtMTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdGhpcy5maW5kTmV4dFBhaXIocm93LCBwcmV2aW91c1BhaXJzLCBmb3JjZWRPZmZzZXQpO1xuICAgICAgICAgICAgcGF0dGVybiA9IHRoaXMucGFyc2VGb3VuZEZpbmRlclBhdHRlcm4ocm93LCByb3dOdW1iZXIsIGlzT2RkUGF0dGVybik7XG4gICAgICAgICAgICBpZiAocGF0dGVybiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yY2VkT2Zmc2V0ID0gUlNTRXhwYW5kZWRSZWFkZXIuZ2V0TmV4dFNlY29uZEJhcihyb3csIHRoaXMuc3RhcnRFbmRbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAga2VlcEZpbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoa2VlcEZpbmRpbmcpO1xuICAgICAgICAvLyBXaGVuIHN0YWNrZWQgc3ltYm9sIGlzIHNwbGl0IG92ZXIgbXVsdGlwbGUgcm93cywgdGhlcmUncyBubyB3YXkgdG8gZ3Vlc3MgaWYgdGhpcyBwYWlyIGNhbiBiZSBsYXN0IG9yIG5vdC5cbiAgICAgICAgLy8gYm9vbGVhbiBtYXlCZUxhc3QgPSBjaGVja1BhaXJTZXF1ZW5jZShwcmV2aW91c1BhaXJzLCBwYXR0ZXJuKTtcbiAgICAgICAgdmFyIGxlZnRDaGFyID0gdGhpcy5kZWNvZGVEYXRhQ2hhcmFjdGVyKHJvdywgcGF0dGVybiwgaXNPZGRQYXR0ZXJuLCB0cnVlKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzRW1wdHlQYWlyKHByZXZpb3VzUGFpcnMpICYmIHByZXZpb3VzUGFpcnNbcHJldmlvdXNQYWlycy5sZW5ndGggLSAxXS5tdXN0QmVMYXN0KCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByaWdodENoYXI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByaWdodENoYXIgPSB0aGlzLmRlY29kZURhdGFDaGFyYWN0ZXIocm93LCBwYXR0ZXJuLCBpc09kZFBhdHRlcm4sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmlnaHRDaGFyID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRXhwYW5kZWRQYWlyKGxlZnRDaGFyLCByaWdodENoYXIsIHBhdHRlcm4sIHRydWUpO1xuICAgIH07XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIucHJvdG90eXBlLmlzRW1wdHlQYWlyID0gZnVuY3Rpb24gKHBhaXJzKSB7XG4gICAgICAgIGlmIChwYWlycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLnByb3RvdHlwZS5maW5kTmV4dFBhaXIgPSBmdW5jdGlvbiAocm93LCBwcmV2aW91c1BhaXJzLCBmb3JjZWRPZmZzZXQpIHtcbiAgICAgICAgdmFyIGNvdW50ZXJzID0gdGhpcy5nZXREZWNvZGVGaW5kZXJDb3VudGVycygpO1xuICAgICAgICBjb3VudGVyc1swXSA9IDA7XG4gICAgICAgIGNvdW50ZXJzWzFdID0gMDtcbiAgICAgICAgY291bnRlcnNbMl0gPSAwO1xuICAgICAgICBjb3VudGVyc1szXSA9IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IHJvdy5nZXRTaXplKCk7XG4gICAgICAgIHZhciByb3dPZmZzZXQ7XG4gICAgICAgIGlmIChmb3JjZWRPZmZzZXQgPj0gMCkge1xuICAgICAgICAgICAgcm93T2Zmc2V0ID0gZm9yY2VkT2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNFbXB0eVBhaXIocHJldmlvdXNQYWlycykpIHtcbiAgICAgICAgICAgIHJvd09mZnNldCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGFzdFBhaXIgPSBwcmV2aW91c1BhaXJzW3ByZXZpb3VzUGFpcnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICByb3dPZmZzZXQgPSBsYXN0UGFpci5nZXRGaW5kZXJQYXR0ZXJuKCkuZ2V0U3RhcnRFbmQoKVsxXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2VhcmNoaW5nRXZlblBhaXIgPSBwcmV2aW91c1BhaXJzLmxlbmd0aCAlIDIgIT0gMDtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRGcm9tRXZlbikge1xuICAgICAgICAgICAgc2VhcmNoaW5nRXZlblBhaXIgPSAhc2VhcmNoaW5nRXZlblBhaXI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzV2hpdGUgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKHJvd09mZnNldCA8IHdpZHRoKSB7XG4gICAgICAgICAgICBpc1doaXRlID0gIXJvdy5nZXQocm93T2Zmc2V0KTtcbiAgICAgICAgICAgIGlmICghaXNXaGl0ZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93T2Zmc2V0Kys7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvdW50ZXJQb3NpdGlvbiA9IDA7XG4gICAgICAgIHZhciBwYXR0ZXJuU3RhcnQgPSByb3dPZmZzZXQ7XG4gICAgICAgIGZvciAodmFyIHggPSByb3dPZmZzZXQ7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICBpZiAocm93LmdldCh4KSAhPSBpc1doaXRlKSB7XG4gICAgICAgICAgICAgICAgY291bnRlcnNbY291bnRlclBvc2l0aW9uXSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ZXJQb3NpdGlvbiA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hpbmdFdmVuUGFpcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgUlNTRXhwYW5kZWRSZWFkZXIucmV2ZXJzZUNvdW50ZXJzKGNvdW50ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoUlNTRXhwYW5kZWRSZWFkZXIuaXNGaW5kZXJQYXR0ZXJuKGNvdW50ZXJzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEVuZFswXSA9IHBhdHRlcm5TdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRFbmRbMV0gPSB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hpbmdFdmVuUGFpcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgUlNTRXhwYW5kZWRSZWFkZXIucmV2ZXJzZUNvdW50ZXJzKGNvdW50ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuU3RhcnQgKz0gY291bnRlcnNbMF0gKyBjb3VudGVyc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnNbMF0gPSBjb3VudGVyc1syXTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnNbMV0gPSBjb3VudGVyc1szXTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnNbMl0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyc1szXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJQb3NpdGlvbi0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclBvc2l0aW9uKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvdW50ZXJzW2NvdW50ZXJQb3NpdGlvbl0gPSAxO1xuICAgICAgICAgICAgICAgIGlzV2hpdGUgPSAhaXNXaGl0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICB9O1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLnJldmVyc2VDb3VudGVycyA9IGZ1bmN0aW9uIChjb3VudGVycykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gY291bnRlcnMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aCAvIDI7ICsraSkge1xuICAgICAgICAgICAgdmFyIHRtcCA9IGNvdW50ZXJzW2ldO1xuICAgICAgICAgICAgY291bnRlcnNbaV0gPSBjb3VudGVyc1tsZW5ndGggLSBpIC0gMV07XG4gICAgICAgICAgICBjb3VudGVyc1tsZW5ndGggLSBpIC0gMV0gPSB0bXA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLnByb3RvdHlwZS5wYXJzZUZvdW5kRmluZGVyUGF0dGVybiA9IGZ1bmN0aW9uIChyb3csIHJvd051bWJlciwgb2RkUGF0dGVybikge1xuICAgICAgICAvLyBBY3R1YWxseSB3ZSBmb3VuZCBlbGVtZW50cyAyLTUuXG4gICAgICAgIHZhciBmaXJzdENvdW50ZXI7XG4gICAgICAgIHZhciBzdGFydDtcbiAgICAgICAgdmFyIGVuZDtcbiAgICAgICAgaWYgKG9kZFBhdHRlcm4pIHtcbiAgICAgICAgICAgIC8vIElmIHBhdHRlcm4gbnVtYmVyIGlzIG9kZCwgd2UgbmVlZCB0byBsb2NhdGUgZWxlbWVudCAxICpiZWZvcmUqIHRoZSBjdXJyZW50IGJsb2NrLlxuICAgICAgICAgICAgdmFyIGZpcnN0RWxlbWVudFN0YXJ0ID0gdGhpcy5zdGFydEVuZFswXSAtIDE7XG4gICAgICAgICAgICAvLyBMb2NhdGUgZWxlbWVudCAxXG4gICAgICAgICAgICB3aGlsZSAoZmlyc3RFbGVtZW50U3RhcnQgPj0gMCAmJiAhcm93LmdldChmaXJzdEVsZW1lbnRTdGFydCkpIHtcbiAgICAgICAgICAgICAgICBmaXJzdEVsZW1lbnRTdGFydC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3RFbGVtZW50U3RhcnQrKztcbiAgICAgICAgICAgIGZpcnN0Q291bnRlciA9IHRoaXMuc3RhcnRFbmRbMF0gLSBmaXJzdEVsZW1lbnRTdGFydDtcbiAgICAgICAgICAgIHN0YXJ0ID0gZmlyc3RFbGVtZW50U3RhcnQ7XG4gICAgICAgICAgICBlbmQgPSB0aGlzLnN0YXJ0RW5kWzFdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgcGF0dGVybiBudW1iZXIgaXMgZXZlbiwgdGhlIHBhdHRlcm4gaXMgcmV2ZXJzZWQsIHNvIHdlIG5lZWQgdG8gbG9jYXRlIGVsZW1lbnQgMSAqYWZ0ZXIqIHRoZSBjdXJyZW50IGJsb2NrLlxuICAgICAgICAgICAgc3RhcnQgPSB0aGlzLnN0YXJ0RW5kWzBdO1xuICAgICAgICAgICAgZW5kID0gcm93LmdldE5leHRVbnNldCh0aGlzLnN0YXJ0RW5kWzFdICsgMSk7XG4gICAgICAgICAgICBmaXJzdENvdW50ZXIgPSBlbmQgLSB0aGlzLnN0YXJ0RW5kWzFdO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2UgJ2NvdW50ZXJzJyBob2xkIDEtNFxuICAgICAgICB2YXIgY291bnRlcnMgPSB0aGlzLmdldERlY29kZUZpbmRlckNvdW50ZXJzKCk7XG4gICAgICAgIFN5c3RlbS5hcnJheWNvcHkoY291bnRlcnMsIDAsIGNvdW50ZXJzLCAxLCBjb3VudGVycy5sZW5ndGggLSAxKTtcbiAgICAgICAgY291bnRlcnNbMF0gPSBmaXJzdENvdW50ZXI7XG4gICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5wYXJzZUZpbmRlclZhbHVlKGNvdW50ZXJzLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUVEVSTlMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiBuZXcgRmluZGVyUGF0dGVybih2YWx1ZSwgbmV3IGludFtdIHsgc3RhcnQsIGVuZCB9LCBzdGFydCwgZW5kLCByb3dOdW1iZXJ9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKHZhbHVlLCBbc3RhcnQsIGVuZF0sIHN0YXJ0LCBlbmQsIHJvd051bWJlcik7XG4gICAgfTtcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5wcm90b3R5cGUuZGVjb2RlRGF0YUNoYXJhY3RlciA9IGZ1bmN0aW9uIChyb3csIHBhdHRlcm4sIGlzT2RkUGF0dGVybiwgbGVmdENoYXIpIHtcbiAgICAgICAgdmFyIGNvdW50ZXJzID0gdGhpcy5nZXREYXRhQ2hhcmFjdGVyQ291bnRlcnMoKTtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBjb3VudGVycy5sZW5ndGg7IHgrKykge1xuICAgICAgICAgICAgY291bnRlcnNbeF0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZWZ0Q2hhcikge1xuICAgICAgICAgICAgUlNTRXhwYW5kZWRSZWFkZXIucmVjb3JkUGF0dGVybkluUmV2ZXJzZShyb3csIHBhdHRlcm4uZ2V0U3RhcnRFbmQoKVswXSwgY291bnRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgUlNTRXhwYW5kZWRSZWFkZXIucmVjb3JkUGF0dGVybihyb3csIHBhdHRlcm4uZ2V0U3RhcnRFbmQoKVsxXSwgY291bnRlcnMpO1xuICAgICAgICAgICAgLy8gcmV2ZXJzZSBpdFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBjb3VudGVycy5sZW5ndGggLSAxOyBpIDwgajsgaSsrLCBqLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGNvdW50ZXJzW2ldO1xuICAgICAgICAgICAgICAgIGNvdW50ZXJzW2ldID0gY291bnRlcnNbal07XG4gICAgICAgICAgICAgICAgY291bnRlcnNbal0gPSB0ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IC8vIGNvdW50ZXJzW10gaGFzIHRoZSBwaXhlbHMgb2YgdGhlIG1vZHVsZVxuICAgICAgICB2YXIgbnVtTW9kdWxlcyA9IDE3OyAvLyBsZWZ0IGFuZCByaWdodCBkYXRhIGNoYXJhY3RlcnMgaGF2ZSBhbGwgdGhlIHNhbWUgbGVuZ3RoXG4gICAgICAgIHZhciBlbGVtZW50V2lkdGggPSBNYXRoVXRpbHMuc3VtKG5ldyBJbnQzMkFycmF5KGNvdW50ZXJzKSkgLyBudW1Nb2R1bGVzO1xuICAgICAgICAvLyBTYW5pdHkgY2hlY2s6IGVsZW1lbnQgd2lkdGggZm9yIHBhdHRlcm4gYW5kIHRoZSBjaGFyYWN0ZXIgc2hvdWxkIG1hdGNoXG4gICAgICAgIHZhciBleHBlY3RlZEVsZW1lbnRXaWR0aCA9IChwYXR0ZXJuLmdldFN0YXJ0RW5kKClbMV0gLSBwYXR0ZXJuLmdldFN0YXJ0RW5kKClbMF0pIC8gMTUuMDtcbiAgICAgICAgaWYgKE1hdGguYWJzKGVsZW1lbnRXaWR0aCAtIGV4cGVjdGVkRWxlbWVudFdpZHRoKSAvIGV4cGVjdGVkRWxlbWVudFdpZHRoID4gMC4zKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2RkQ291bnRzID0gdGhpcy5nZXRPZGRDb3VudHMoKTtcbiAgICAgICAgdmFyIGV2ZW5Db3VudHMgPSB0aGlzLmdldEV2ZW5Db3VudHMoKTtcbiAgICAgICAgdmFyIG9kZFJvdW5kaW5nRXJyb3JzID0gdGhpcy5nZXRPZGRSb3VuZGluZ0Vycm9ycygpO1xuICAgICAgICB2YXIgZXZlblJvdW5kaW5nRXJyb3JzID0gdGhpcy5nZXRFdmVuUm91bmRpbmdFcnJvcnMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHZhbHVlXzEgPSAxLjAgKiBjb3VudGVyc1tpXSAvIGVsZW1lbnRXaWR0aDtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHZhbHVlXzEgKyAwLjU7IC8vIFJvdW5kXG4gICAgICAgICAgICBpZiAoY291bnQgPCAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlXzEgPCAwLjMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvdW50ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50ID4gOCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZV8xID4gOC43KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3VudCA9IDg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gaSAvIDI7XG4gICAgICAgICAgICBpZiAoKGkgJiAweDAxKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgb2RkQ291bnRzW29mZnNldF0gPSBjb3VudDtcbiAgICAgICAgICAgICAgICBvZGRSb3VuZGluZ0Vycm9yc1tvZmZzZXRdID0gdmFsdWVfMSAtIGNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXZlbkNvdW50c1tvZmZzZXRdID0gY291bnQ7XG4gICAgICAgICAgICAgICAgZXZlblJvdW5kaW5nRXJyb3JzW29mZnNldF0gPSB2YWx1ZV8xIC0gY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGp1c3RPZGRFdmVuQ291bnRzKG51bU1vZHVsZXMpO1xuICAgICAgICB2YXIgd2VpZ2h0Um93TnVtYmVyID0gNCAqIHBhdHRlcm4uZ2V0VmFsdWUoKSArIChpc09kZFBhdHRlcm4gPyAwIDogMikgKyAobGVmdENoYXIgPyAwIDogMSkgLSAxO1xuICAgICAgICB2YXIgb2RkU3VtID0gMDtcbiAgICAgICAgdmFyIG9kZENoZWNrc3VtUG9ydGlvbiA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSBvZGRDb3VudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChSU1NFeHBhbmRlZFJlYWRlci5pc05vdEExbGVmdChwYXR0ZXJuLCBpc09kZFBhdHRlcm4sIGxlZnRDaGFyKSkge1xuICAgICAgICAgICAgICAgIHZhciB3ZWlnaHQgPSBSU1NFeHBhbmRlZFJlYWRlci5XRUlHSFRTW3dlaWdodFJvd051bWJlcl1bMiAqIGldO1xuICAgICAgICAgICAgICAgIG9kZENoZWNrc3VtUG9ydGlvbiArPSBvZGRDb3VudHNbaV0gKiB3ZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZGRTdW0gKz0gb2RkQ291bnRzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBldmVuQ2hlY2tzdW1Qb3J0aW9uID0gMDtcbiAgICAgICAgLy8gaW50IGV2ZW5TdW0gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gZXZlbkNvdW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgaWYgKFJTU0V4cGFuZGVkUmVhZGVyLmlzTm90QTFsZWZ0KHBhdHRlcm4sIGlzT2RkUGF0dGVybiwgbGVmdENoYXIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdlaWdodCA9IFJTU0V4cGFuZGVkUmVhZGVyLldFSUdIVFNbd2VpZ2h0Um93TnVtYmVyXVsyICogaSArIDFdO1xuICAgICAgICAgICAgICAgIGV2ZW5DaGVja3N1bVBvcnRpb24gKz0gZXZlbkNvdW50c1tpXSAqIHdlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGV2ZW5TdW0gKz0gZXZlbkNvdW50c1tpXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hlY2tzdW1Qb3J0aW9uID0gb2RkQ2hlY2tzdW1Qb3J0aW9uICsgZXZlbkNoZWNrc3VtUG9ydGlvbjtcbiAgICAgICAgaWYgKChvZGRTdW0gJiAweDAxKSAhPSAwIHx8IG9kZFN1bSA+IDEzIHx8IG9kZFN1bSA8IDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBncm91cCA9ICgxMyAtIG9kZFN1bSkgLyAyO1xuICAgICAgICB2YXIgb2RkV2lkZXN0ID0gUlNTRXhwYW5kZWRSZWFkZXIuU1lNQk9MX1dJREVTVFtncm91cF07XG4gICAgICAgIHZhciBldmVuV2lkZXN0ID0gOSAtIG9kZFdpZGVzdDtcbiAgICAgICAgdmFyIHZPZGQgPSBSU1NVdGlscy5nZXRSU1N2YWx1ZShvZGRDb3VudHMsIG9kZFdpZGVzdCwgdHJ1ZSk7XG4gICAgICAgIHZhciB2RXZlbiA9IFJTU1V0aWxzLmdldFJTU3ZhbHVlKGV2ZW5Db3VudHMsIGV2ZW5XaWRlc3QsIGZhbHNlKTtcbiAgICAgICAgdmFyIHRFdmVuID0gUlNTRXhwYW5kZWRSZWFkZXIuRVZFTl9UT1RBTF9TVUJTRVRbZ3JvdXBdO1xuICAgICAgICB2YXIgZ1N1bSA9IFJTU0V4cGFuZGVkUmVhZGVyLkdTVU1bZ3JvdXBdO1xuICAgICAgICB2YXIgdmFsdWUgPSB2T2RkICogdEV2ZW4gKyB2RXZlbiArIGdTdW07XG4gICAgICAgIHJldHVybiBuZXcgRGF0YUNoYXJhY3Rlcih2YWx1ZSwgY2hlY2tzdW1Qb3J0aW9uKTtcbiAgICB9O1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLmlzTm90QTFsZWZ0ID0gZnVuY3Rpb24gKHBhdHRlcm4sIGlzT2RkUGF0dGVybiwgbGVmdENoYXIpIHtcbiAgICAgICAgLy8gQTE6IHBhdHRlcm4uZ2V0VmFsdWUgaXMgMCAoQSksIGFuZCBpdCdzIGFuIG9kZFBhdHRlcm4sIGFuZCBpdCBpcyBhIGxlZnQgY2hhclxuICAgICAgICByZXR1cm4gIShwYXR0ZXJuLmdldFZhbHVlKCkgPT0gMCAmJiBpc09kZFBhdHRlcm4gJiYgbGVmdENoYXIpO1xuICAgIH07XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIucHJvdG90eXBlLmFkanVzdE9kZEV2ZW5Db3VudHMgPSBmdW5jdGlvbiAobnVtTW9kdWxlcykge1xuICAgICAgICB2YXIgb2RkU3VtID0gTWF0aFV0aWxzLnN1bShuZXcgSW50MzJBcnJheSh0aGlzLmdldE9kZENvdW50cygpKSk7XG4gICAgICAgIHZhciBldmVuU3VtID0gTWF0aFV0aWxzLnN1bShuZXcgSW50MzJBcnJheSh0aGlzLmdldEV2ZW5Db3VudHMoKSkpO1xuICAgICAgICB2YXIgaW5jcmVtZW50T2RkID0gZmFsc2U7XG4gICAgICAgIHZhciBkZWNyZW1lbnRPZGQgPSBmYWxzZTtcbiAgICAgICAgaWYgKG9kZFN1bSA+IDEzKSB7XG4gICAgICAgICAgICBkZWNyZW1lbnRPZGQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9kZFN1bSA8IDQpIHtcbiAgICAgICAgICAgIGluY3JlbWVudE9kZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluY3JlbWVudEV2ZW4gPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlY3JlbWVudEV2ZW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKGV2ZW5TdW0gPiAxMykge1xuICAgICAgICAgICAgZGVjcmVtZW50RXZlbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlblN1bSA8IDQpIHtcbiAgICAgICAgICAgIGluY3JlbWVudEV2ZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtaXNtYXRjaCA9IG9kZFN1bSArIGV2ZW5TdW0gLSBudW1Nb2R1bGVzO1xuICAgICAgICB2YXIgb2RkUGFyaXR5QmFkID0gKG9kZFN1bSAmIDB4MDEpID09IDE7XG4gICAgICAgIHZhciBldmVuUGFyaXR5QmFkID0gKGV2ZW5TdW0gJiAweDAxKSA9PSAwO1xuICAgICAgICBpZiAobWlzbWF0Y2ggPT0gMSkge1xuICAgICAgICAgICAgaWYgKG9kZFBhcml0eUJhZCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVuUGFyaXR5QmFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRPZGQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVuUGFyaXR5QmFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRFdmVuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtaXNtYXRjaCA9PSAtMSkge1xuICAgICAgICAgICAgaWYgKG9kZFBhcml0eUJhZCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVuUGFyaXR5QmFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRPZGQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVuUGFyaXR5QmFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRFdmVuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtaXNtYXRjaCA9PSAwKSB7XG4gICAgICAgICAgICBpZiAob2RkUGFyaXR5QmFkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVuUGFyaXR5QmFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBCb3RoIGJhZFxuICAgICAgICAgICAgICAgIGlmIChvZGRTdW0gPCBldmVuU3VtKSB7XG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudE9kZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGRlY3JlbWVudEV2ZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjcmVtZW50T2RkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50RXZlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW5QYXJpdHlCYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gZG8hXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jcmVtZW50T2RkKSB7XG4gICAgICAgICAgICBpZiAoZGVjcmVtZW50T2RkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBSU1NFeHBhbmRlZFJlYWRlci5pbmNyZW1lbnQodGhpcy5nZXRPZGRDb3VudHMoKSwgdGhpcy5nZXRPZGRSb3VuZGluZ0Vycm9ycygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVjcmVtZW50T2RkKSB7XG4gICAgICAgICAgICBSU1NFeHBhbmRlZFJlYWRlci5kZWNyZW1lbnQodGhpcy5nZXRPZGRDb3VudHMoKSwgdGhpcy5nZXRPZGRSb3VuZGluZ0Vycm9ycygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jcmVtZW50RXZlbikge1xuICAgICAgICAgICAgaWYgKGRlY3JlbWVudEV2ZW4pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJTU0V4cGFuZGVkUmVhZGVyLmluY3JlbWVudCh0aGlzLmdldEV2ZW5Db3VudHMoKSwgdGhpcy5nZXRPZGRSb3VuZGluZ0Vycm9ycygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVjcmVtZW50RXZlbikge1xuICAgICAgICAgICAgUlNTRXhwYW5kZWRSZWFkZXIuZGVjcmVtZW50KHRoaXMuZ2V0RXZlbkNvdW50cygpLCB0aGlzLmdldEV2ZW5Sb3VuZGluZ0Vycm9ycygpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIuU1lNQk9MX1dJREVTVCA9IFs3LCA1LCA0LCAzLCAxXTtcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5FVkVOX1RPVEFMX1NVQlNFVCA9IFs0LCAyMCwgNTIsIDEwNCwgMjA0XTtcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5HU1VNID0gWzAsIDM0OCwgMTM4OCwgMjk0OCwgMzk4OF07XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVFRFUk5TID0gW1xuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDgsIDQsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCA2LCA0LCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMywgNCwgNiwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDIsIDgsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCA2LCA1LCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMiwgOSwgMV0pIC8vIEZcbiAgICBdO1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLldFSUdIVFMgPSBbXG4gICAgICAgIFsxLCAzLCA5LCAyNywgODEsIDMyLCA5NiwgNzddLFxuICAgICAgICBbMjAsIDYwLCAxODAsIDExOCwgMTQzLCA3LCAyMSwgNjNdLFxuICAgICAgICBbMTg5LCAxNDUsIDEzLCAzOSwgMTE3LCAxNDAsIDIwOSwgMjA1XSxcbiAgICAgICAgWzE5MywgMTU3LCA0OSwgMTQ3LCAxOSwgNTcsIDE3MSwgOTFdLFxuICAgICAgICBbNjIsIDE4NiwgMTM2LCAxOTcsIDE2OSwgODUsIDQ0LCAxMzJdLFxuICAgICAgICBbMTg1LCAxMzMsIDE4OCwgMTQyLCA0LCAxMiwgMzYsIDEwOF0sXG4gICAgICAgIFsxMTMsIDEyOCwgMTczLCA5NywgODAsIDI5LCA4NywgNTBdLFxuICAgICAgICBbMTUwLCAyOCwgODQsIDQxLCAxMjMsIDE1OCwgNTIsIDE1Nl0sXG4gICAgICAgIFs0NiwgMTM4LCAyMDMsIDE4NywgMTM5LCAyMDYsIDE5NiwgMTY2XSxcbiAgICAgICAgWzc2LCAxNywgNTEsIDE1MywgMzcsIDExMSwgMTIyLCAxNTVdLFxuICAgICAgICBbNDMsIDEyOSwgMTc2LCAxMDYsIDEwNywgMTEwLCAxMTksIDE0Nl0sXG4gICAgICAgIFsxNiwgNDgsIDE0NCwgMTAsIDMwLCA5MCwgNTksIDE3N10sXG4gICAgICAgIFsxMDksIDExNiwgMTM3LCAyMDAsIDE3OCwgMTEyLCAxMjUsIDE2NF0sXG4gICAgICAgIFs3MCwgMjEwLCAyMDgsIDIwMiwgMTg0LCAxMzAsIDE3OSwgMTE1XSxcbiAgICAgICAgWzEzNCwgMTkxLCAxNTEsIDMxLCA5MywgNjgsIDIwNCwgMTkwXSxcbiAgICAgICAgWzE0OCwgMjIsIDY2LCAxOTgsIDE3MiwgOTQsIDcxLCAyXSxcbiAgICAgICAgWzYsIDE4LCA1NCwgMTYyLCA2NCwgMTkyLCAxNTQsIDQwXSxcbiAgICAgICAgWzEyMCwgMTQ5LCAyNSwgNzUsIDE0LCA0MiwgMTI2LCAxNjddLFxuICAgICAgICBbNzksIDI2LCA3OCwgMjMsIDY5LCAyMDcsIDE5OSwgMTc1XSxcbiAgICAgICAgWzEwMywgOTgsIDgzLCAzOCwgMTE0LCAxMzEsIDE4MiwgMTI0XSxcbiAgICAgICAgWzE2MSwgNjEsIDE4MywgMTI3LCAxNzAsIDg4LCA1MywgMTU5XSxcbiAgICAgICAgWzU1LCAxNjUsIDczLCA4LCAyNCwgNzIsIDUsIDE1XSxcbiAgICAgICAgWzQ1LCAxMzUsIDE5NCwgMTYwLCA1OCwgMTc0LCAxMDAsIDg5XVxuICAgIF07XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9BID0gMDtcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0IgPSAxO1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQyA9IDI7XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9EID0gMztcbiAgICBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0UgPSA0O1xuICAgIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfRiA9IDU7XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVFRFUk5fU0VRVUVOQ0VTID0gW1xuICAgICAgICBbUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9BLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0FdLFxuICAgICAgICBbUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9BLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0IsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQl0sXG4gICAgICAgIFtSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0EsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQywgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9CLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0RdLFxuICAgICAgICBbUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9BLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0UsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQiwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9ELCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0NdLFxuICAgICAgICBbUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9BLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0UsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQiwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9ELCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0QsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfRl0sXG4gICAgICAgIFtSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0EsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfRSwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9CLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0QsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfRSwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9GLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0ZdLFxuICAgICAgICBbUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9BLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0EsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQiwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9CLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0MsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQywgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9ELCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0RdLFxuICAgICAgICBbUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9BLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0EsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQiwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9CLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0MsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQywgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9ELCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0UsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfRV0sXG4gICAgICAgIFtSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0EsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQSwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9CLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0IsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQywgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9DLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0QsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfRSwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9GLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0ZdLFxuICAgICAgICBbUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9BLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0EsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfQiwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9CLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0MsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfRCwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9ELCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0UsIFJTU0V4cGFuZGVkUmVhZGVyLkZJTkRFUl9QQVRfRSwgUlNTRXhwYW5kZWRSZWFkZXIuRklOREVSX1BBVF9GLCBSU1NFeHBhbmRlZFJlYWRlci5GSU5ERVJfUEFUX0ZdLFxuICAgIF07XG4gICAgUlNTRXhwYW5kZWRSZWFkZXIuTUFYX1BBSVJTID0gMTE7XG4gICAgcmV0dXJuIFJTU0V4cGFuZGVkUmVhZGVyO1xufShBYnN0cmFjdFJTU1JlYWRlcikpO1xuZXhwb3J0IGRlZmF1bHQgUlNTRXhwYW5kZWRSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SU1NFeHBhbmRlZFJlYWRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBEYXRhQ2hhcmFjdGVyIGZyb20gJy4vRGF0YUNoYXJhY3Rlcic7XG52YXIgUGFpciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGFpciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQYWlyKHZhbHVlLCBjaGVja3N1bVBvcnRpb24sIGZpbmRlclBhdHRlcm4pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdmFsdWUsIGNoZWNrc3VtUG9ydGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICBfdGhpcy5maW5kZXJQYXR0ZXJuID0gZmluZGVyUGF0dGVybjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQYWlyLnByb3RvdHlwZS5nZXRGaW5kZXJQYXR0ZXJuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kZXJQYXR0ZXJuO1xuICAgIH07XG4gICAgUGFpci5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvdW50O1xuICAgIH07XG4gICAgUGFpci5wcm90b3R5cGUuaW5jcmVtZW50Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY291bnQrKztcbiAgICB9O1xuICAgIHJldHVybiBQYWlyO1xufShEYXRhQ2hhcmFjdGVyKSk7XG5leHBvcnQgZGVmYXVsdCBQYWlyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGFpci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbmltcG9ydCBBYnN0cmFjdFJTU1JlYWRlciBmcm9tICcuL0Fic3RyYWN0UlNTUmVhZGVyJztcbmltcG9ydCBQYWlyIGZyb20gJy4vUGFpcic7XG5pbXBvcnQgUmVzdWx0IGZyb20gJy4uLy4uL1Jlc3VsdCc7XG5pbXBvcnQgRGVjb2RlSGludFR5cGUgZnJvbSAnLi4vLi4vRGVjb2RlSGludFR5cGUnO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uLy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uLy4uL3V0aWwvU3RyaW5nQnVpbGRlcic7XG5pbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuLi8uLi9CYXJjb2RlRm9ybWF0JztcbmltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi8uLi9SZXN1bHRQb2ludCc7XG5pbXBvcnQgRmluZGVyUGF0dGVybiBmcm9tICcuL0ZpbmRlclBhdHRlcm4nO1xuaW1wb3J0IERhdGFDaGFyYWN0ZXIgZnJvbSAnLi9EYXRhQ2hhcmFjdGVyJztcbmltcG9ydCBNYXRoVXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2RldGVjdG9yL01hdGhVdGlscyc7XG5pbXBvcnQgUlNTVXRpbHMgZnJvbSAnLi9SU1NVdGlscyc7XG5pbXBvcnQgU3lzdGVtIGZyb20gJy4uLy4uL3V0aWwvU3lzdGVtJztcbmltcG9ydCBPbmVEUmVhZGVyIGZyb20gJy4uL09uZURSZWFkZXInO1xudmFyIFJTUzE0UmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSU1MxNFJlYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSU1MxNFJlYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBvc3NpYmxlTGVmdFBhaXJzID0gW107XG4gICAgICAgIF90aGlzLnBvc3NpYmxlUmlnaHRQYWlycyA9IFtdO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJTUzE0UmVhZGVyLnByb3RvdHlwZS5kZWNvZGVSb3cgPSBmdW5jdGlvbiAocm93TnVtYmVyLCByb3csIGhpbnRzKSB7XG4gICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICB2YXIgbGVmdFBhaXIgPSB0aGlzLmRlY29kZVBhaXIocm93LCBmYWxzZSwgcm93TnVtYmVyLCBoaW50cyk7XG4gICAgICAgIFJTUzE0UmVhZGVyLmFkZE9yVGFsbHkodGhpcy5wb3NzaWJsZUxlZnRQYWlycywgbGVmdFBhaXIpO1xuICAgICAgICByb3cucmV2ZXJzZSgpO1xuICAgICAgICB2YXIgcmlnaHRQYWlyID0gdGhpcy5kZWNvZGVQYWlyKHJvdywgdHJ1ZSwgcm93TnVtYmVyLCBoaW50cyk7XG4gICAgICAgIFJTUzE0UmVhZGVyLmFkZE9yVGFsbHkodGhpcy5wb3NzaWJsZVJpZ2h0UGFpcnMsIHJpZ2h0UGFpcik7XG4gICAgICAgIHJvdy5yZXZlcnNlKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHRoaXMucG9zc2libGVMZWZ0UGFpcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAobGVmdC5nZXRDb3VudCgpID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2UgPSAoZV8yID0gdm9pZCAwLCBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlUmlnaHRQYWlycykpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gX2YudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJpZ2h0LmdldENvdW50KCkgPiAxICYmIFJTUzE0UmVhZGVyLmNoZWNrQ2hlY2tzdW0obGVmdCwgcmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSU1MxNFJlYWRlci5jb25zdHJ1Y3RSZXN1bHQobGVmdCwgcmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9mICYmICFfZi5kb25lICYmIChfYiA9IF9lLnJldHVybikpIF9iLmNhbGwoX2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICBSU1MxNFJlYWRlci5hZGRPclRhbGx5ID0gZnVuY3Rpb24gKHBvc3NpYmxlUGFpcnMsIHBhaXIpIHtcbiAgICAgICAgdmFyIGVfMywgX2E7XG4gICAgICAgIGlmIChwYWlyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlUGFpcnNfMSA9IF9fdmFsdWVzKHBvc3NpYmxlUGFpcnMpLCBwb3NzaWJsZVBhaXJzXzFfMSA9IHBvc3NpYmxlUGFpcnNfMS5uZXh0KCk7ICFwb3NzaWJsZVBhaXJzXzFfMS5kb25lOyBwb3NzaWJsZVBhaXJzXzFfMSA9IHBvc3NpYmxlUGFpcnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXIgPSBwb3NzaWJsZVBhaXJzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXIuZ2V0VmFsdWUoKSA9PT0gcGFpci5nZXRWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG90aGVyLmluY3JlbWVudENvdW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAocG9zc2libGVQYWlyc18xXzEgJiYgIXBvc3NpYmxlUGFpcnNfMV8xLmRvbmUgJiYgKF9hID0gcG9zc2libGVQYWlyc18xLnJldHVybikpIF9hLmNhbGwocG9zc2libGVQYWlyc18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICBwb3NzaWJsZVBhaXJzLnB1c2gocGFpcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJTUzE0UmVhZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wb3NzaWJsZUxlZnRQYWlycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvc3NpYmxlUmlnaHRQYWlycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgUlNTMTRSZWFkZXIuY29uc3RydWN0UmVzdWx0ID0gZnVuY3Rpb24gKGxlZnRQYWlyLCByaWdodFBhaXIpIHtcbiAgICAgICAgdmFyIHN5bWJvbFZhbHVlID0gNDUzNzA3NyAqIGxlZnRQYWlyLmdldFZhbHVlKCkgKyByaWdodFBhaXIuZ2V0VmFsdWUoKTtcbiAgICAgICAgdmFyIHRleHQgPSBuZXcgU3RyaW5nKHN5bWJvbFZhbHVlKS50b1N0cmluZygpO1xuICAgICAgICB2YXIgYnVmZmVyID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDEzIC0gdGV4dC5sZW5ndGg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgICAgIGJ1ZmZlci5hcHBlbmQoJzAnKTtcbiAgICAgICAgfVxuICAgICAgICBidWZmZXIuYXBwZW5kKHRleHQpO1xuICAgICAgICB2YXIgY2hlY2tEaWdpdCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGRpZ2l0ID0gYnVmZmVyLmNoYXJBdChpKS5jaGFyQ29kZUF0KDApIC0gJzAnLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBjaGVja0RpZ2l0ICs9ICgoaSAmIDB4MDEpID09PSAwKSA/IDMgKiBkaWdpdCA6IGRpZ2l0O1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrRGlnaXQgPSAxMCAtIChjaGVja0RpZ2l0ICUgMTApO1xuICAgICAgICBpZiAoY2hlY2tEaWdpdCA9PT0gMTApIHtcbiAgICAgICAgICAgIGNoZWNrRGlnaXQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlci5hcHBlbmQoY2hlY2tEaWdpdC50b1N0cmluZygpKTtcbiAgICAgICAgdmFyIGxlZnRQb2ludHMgPSBsZWZ0UGFpci5nZXRGaW5kZXJQYXR0ZXJuKCkuZ2V0UmVzdWx0UG9pbnRzKCk7XG4gICAgICAgIHZhciByaWdodFBvaW50cyA9IHJpZ2h0UGFpci5nZXRGaW5kZXJQYXR0ZXJuKCkuZ2V0UmVzdWx0UG9pbnRzKCk7XG4gICAgICAgIHJldHVybiBuZXcgUmVzdWx0KGJ1ZmZlci50b1N0cmluZygpLCBudWxsLCAwLCBbbGVmdFBvaW50c1swXSwgbGVmdFBvaW50c1sxXSwgcmlnaHRQb2ludHNbMF0sIHJpZ2h0UG9pbnRzWzFdXSwgQmFyY29kZUZvcm1hdC5SU1NfMTQsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICB9O1xuICAgIFJTUzE0UmVhZGVyLmNoZWNrQ2hlY2tzdW0gPSBmdW5jdGlvbiAobGVmdFBhaXIsIHJpZ2h0UGFpcikge1xuICAgICAgICB2YXIgY2hlY2tWYWx1ZSA9IChsZWZ0UGFpci5nZXRDaGVja3N1bVBvcnRpb24oKSArIDE2ICogcmlnaHRQYWlyLmdldENoZWNrc3VtUG9ydGlvbigpKSAlIDc5O1xuICAgICAgICB2YXIgdGFyZ2V0Q2hlY2tWYWx1ZSA9IDkgKiBsZWZ0UGFpci5nZXRGaW5kZXJQYXR0ZXJuKCkuZ2V0VmFsdWUoKSArIHJpZ2h0UGFpci5nZXRGaW5kZXJQYXR0ZXJuKCkuZ2V0VmFsdWUoKTtcbiAgICAgICAgaWYgKHRhcmdldENoZWNrVmFsdWUgPiA3Mikge1xuICAgICAgICAgICAgdGFyZ2V0Q2hlY2tWYWx1ZS0tO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXRDaGVja1ZhbHVlID4gOCkge1xuICAgICAgICAgICAgdGFyZ2V0Q2hlY2tWYWx1ZS0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGVja1ZhbHVlID09PSB0YXJnZXRDaGVja1ZhbHVlO1xuICAgIH07XG4gICAgUlNTMTRSZWFkZXIucHJvdG90eXBlLmRlY29kZVBhaXIgPSBmdW5jdGlvbiAocm93LCByaWdodCwgcm93TnVtYmVyLCBoaW50cykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0RW5kID0gdGhpcy5maW5kRmluZGVyUGF0dGVybihyb3csIHJpZ2h0KTtcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gdGhpcy5wYXJzZUZvdW5kRmluZGVyUGF0dGVybihyb3csIHJvd051bWJlciwgcmlnaHQsIHN0YXJ0RW5kKTtcbiAgICAgICAgICAgIHZhciByZXN1bHRQb2ludENhbGxiYWNrID0gaGludHMgPT0gbnVsbCA/IG51bGwgOiBoaW50cy5nZXQoRGVjb2RlSGludFR5cGUuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spO1xuICAgICAgICAgICAgaWYgKHJlc3VsdFBvaW50Q2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSAoc3RhcnRFbmRbMF0gKyBzdGFydEVuZFsxXSkgLyAyLjA7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJvdyBpcyBhY3R1YWxseSByZXZlcnNlZFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXIgPSByb3cuZ2V0U2l6ZSgpIC0gMSAtIGNlbnRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQobmV3IFJlc3VsdFBvaW50KGNlbnRlciwgcm93TnVtYmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3V0c2lkZSA9IHRoaXMuZGVjb2RlRGF0YUNoYXJhY3Rlcihyb3csIHBhdHRlcm4sIHRydWUpO1xuICAgICAgICAgICAgdmFyIGluc2lkZSA9IHRoaXMuZGVjb2RlRGF0YUNoYXJhY3Rlcihyb3csIHBhdHRlcm4sIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFpcigxNTk3ICogb3V0c2lkZS5nZXRWYWx1ZSgpICsgaW5zaWRlLmdldFZhbHVlKCksIG91dHNpZGUuZ2V0Q2hlY2tzdW1Qb3J0aW9uKCkgKyA0ICogaW5zaWRlLmdldENoZWNrc3VtUG9ydGlvbigpLCBwYXR0ZXJuKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUlNTMTRSZWFkZXIucHJvdG90eXBlLmRlY29kZURhdGFDaGFyYWN0ZXIgPSBmdW5jdGlvbiAocm93LCBwYXR0ZXJuLCBvdXRzaWRlQ2hhcikge1xuICAgICAgICB2YXIgY291bnRlcnMgPSB0aGlzLmdldERhdGFDaGFyYWN0ZXJDb3VudGVycygpO1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGNvdW50ZXJzLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgICAgICBjb3VudGVyc1t4XSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHNpZGVDaGFyKSB7XG4gICAgICAgICAgICBPbmVEUmVhZGVyLnJlY29yZFBhdHRlcm5JblJldmVyc2Uocm93LCBwYXR0ZXJuLmdldFN0YXJ0RW5kKClbMF0sIGNvdW50ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9uZURSZWFkZXIucmVjb3JkUGF0dGVybihyb3csIHBhdHRlcm4uZ2V0U3RhcnRFbmQoKVsxXSArIDEsIGNvdW50ZXJzKTtcbiAgICAgICAgICAgIC8vIHJldmVyc2UgaXRcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gY291bnRlcnMubGVuZ3RoIC0gMTsgaSA8IGo7IGkrKywgai0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBjb3VudGVyc1tpXTtcbiAgICAgICAgICAgICAgICBjb3VudGVyc1tpXSA9IGNvdW50ZXJzW2pdO1xuICAgICAgICAgICAgICAgIGNvdW50ZXJzW2pdID0gdGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtTW9kdWxlcyA9IG91dHNpZGVDaGFyID8gMTYgOiAxNTtcbiAgICAgICAgdmFyIGVsZW1lbnRXaWR0aCA9IE1hdGhVdGlscy5zdW0obmV3IEludDMyQXJyYXkoY291bnRlcnMpKSAvIG51bU1vZHVsZXM7XG4gICAgICAgIHZhciBvZGRDb3VudHMgPSB0aGlzLmdldE9kZENvdW50cygpO1xuICAgICAgICB2YXIgZXZlbkNvdW50cyA9IHRoaXMuZ2V0RXZlbkNvdW50cygpO1xuICAgICAgICB2YXIgb2RkUm91bmRpbmdFcnJvcnMgPSB0aGlzLmdldE9kZFJvdW5kaW5nRXJyb3JzKCk7XG4gICAgICAgIHZhciBldmVuUm91bmRpbmdFcnJvcnMgPSB0aGlzLmdldEV2ZW5Sb3VuZGluZ0Vycm9ycygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBjb3VudGVyc1tpXSAvIGVsZW1lbnRXaWR0aDtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IE1hdGguZmxvb3IodmFsdWUgKyAwLjUpO1xuICAgICAgICAgICAgaWYgKGNvdW50IDwgMSkge1xuICAgICAgICAgICAgICAgIGNvdW50ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvdW50ID4gOCkge1xuICAgICAgICAgICAgICAgIGNvdW50ID0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBNYXRoLmZsb29yKGkgLyAyKTtcbiAgICAgICAgICAgIGlmICgoaSAmIDB4MDEpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgb2RkQ291bnRzW29mZnNldF0gPSBjb3VudDtcbiAgICAgICAgICAgICAgICBvZGRSb3VuZGluZ0Vycm9yc1tvZmZzZXRdID0gdmFsdWUgLSBjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGV2ZW5Db3VudHNbb2Zmc2V0XSA9IGNvdW50O1xuICAgICAgICAgICAgICAgIGV2ZW5Sb3VuZGluZ0Vycm9yc1tvZmZzZXRdID0gdmFsdWUgLSBjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkanVzdE9kZEV2ZW5Db3VudHMob3V0c2lkZUNoYXIsIG51bU1vZHVsZXMpO1xuICAgICAgICB2YXIgb2RkU3VtID0gMDtcbiAgICAgICAgdmFyIG9kZENoZWNrc3VtUG9ydGlvbiA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSBvZGRDb3VudHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIG9kZENoZWNrc3VtUG9ydGlvbiAqPSA5O1xuICAgICAgICAgICAgb2RkQ2hlY2tzdW1Qb3J0aW9uICs9IG9kZENvdW50c1tpXTtcbiAgICAgICAgICAgIG9kZFN1bSArPSBvZGRDb3VudHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW5DaGVja3N1bVBvcnRpb24gPSAwO1xuICAgICAgICB2YXIgZXZlblN1bSA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSBldmVuQ291bnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBldmVuQ2hlY2tzdW1Qb3J0aW9uICo9IDk7XG4gICAgICAgICAgICBldmVuQ2hlY2tzdW1Qb3J0aW9uICs9IGV2ZW5Db3VudHNbaV07XG4gICAgICAgICAgICBldmVuU3VtICs9IGV2ZW5Db3VudHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoZWNrc3VtUG9ydGlvbiA9IG9kZENoZWNrc3VtUG9ydGlvbiArIDMgKiBldmVuQ2hlY2tzdW1Qb3J0aW9uO1xuICAgICAgICBpZiAob3V0c2lkZUNoYXIpIHtcbiAgICAgICAgICAgIGlmICgob2RkU3VtICYgMHgwMSkgIT09IDAgfHwgb2RkU3VtID4gMTIgfHwgb2RkU3VtIDwgNCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGdyb3VwID0gKDEyIC0gb2RkU3VtKSAvIDI7XG4gICAgICAgICAgICB2YXIgb2RkV2lkZXN0ID0gUlNTMTRSZWFkZXIuT1VUU0lERV9PRERfV0lERVNUW2dyb3VwXTtcbiAgICAgICAgICAgIHZhciBldmVuV2lkZXN0ID0gOSAtIG9kZFdpZGVzdDtcbiAgICAgICAgICAgIHZhciB2T2RkID0gUlNTVXRpbHMuZ2V0UlNTdmFsdWUob2RkQ291bnRzLCBvZGRXaWRlc3QsIGZhbHNlKTtcbiAgICAgICAgICAgIHZhciB2RXZlbiA9IFJTU1V0aWxzLmdldFJTU3ZhbHVlKGV2ZW5Db3VudHMsIGV2ZW5XaWRlc3QsIHRydWUpO1xuICAgICAgICAgICAgdmFyIHRFdmVuID0gUlNTMTRSZWFkZXIuT1VUU0lERV9FVkVOX1RPVEFMX1NVQlNFVFtncm91cF07XG4gICAgICAgICAgICB2YXIgZ1N1bSA9IFJTUzE0UmVhZGVyLk9VVFNJREVfR1NVTVtncm91cF07XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGFDaGFyYWN0ZXIodk9kZCAqIHRFdmVuICsgdkV2ZW4gKyBnU3VtLCBjaGVja3N1bVBvcnRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKChldmVuU3VtICYgMHgwMSkgIT09IDAgfHwgZXZlblN1bSA+IDEwIHx8IGV2ZW5TdW0gPCA0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSAoMTAgLSBldmVuU3VtKSAvIDI7XG4gICAgICAgICAgICB2YXIgb2RkV2lkZXN0ID0gUlNTMTRSZWFkZXIuSU5TSURFX09ERF9XSURFU1RbZ3JvdXBdO1xuICAgICAgICAgICAgdmFyIGV2ZW5XaWRlc3QgPSA5IC0gb2RkV2lkZXN0O1xuICAgICAgICAgICAgdmFyIHZPZGQgPSBSU1NVdGlscy5nZXRSU1N2YWx1ZShvZGRDb3VudHMsIG9kZFdpZGVzdCwgdHJ1ZSk7XG4gICAgICAgICAgICB2YXIgdkV2ZW4gPSBSU1NVdGlscy5nZXRSU1N2YWx1ZShldmVuQ291bnRzLCBldmVuV2lkZXN0LCBmYWxzZSk7XG4gICAgICAgICAgICB2YXIgdE9kZCA9IFJTUzE0UmVhZGVyLklOU0lERV9PRERfVE9UQUxfU1VCU0VUW2dyb3VwXTtcbiAgICAgICAgICAgIHZhciBnU3VtID0gUlNTMTRSZWFkZXIuSU5TSURFX0dTVU1bZ3JvdXBdO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRhQ2hhcmFjdGVyKHZFdmVuICogdE9kZCArIHZPZGQgKyBnU3VtLCBjaGVja3N1bVBvcnRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSU1MxNFJlYWRlci5wcm90b3R5cGUuZmluZEZpbmRlclBhdHRlcm4gPSBmdW5jdGlvbiAocm93LCByaWdodEZpbmRlclBhdHRlcm4pIHtcbiAgICAgICAgdmFyIGNvdW50ZXJzID0gdGhpcy5nZXREZWNvZGVGaW5kZXJDb3VudGVycygpO1xuICAgICAgICBjb3VudGVyc1swXSA9IDA7XG4gICAgICAgIGNvdW50ZXJzWzFdID0gMDtcbiAgICAgICAgY291bnRlcnNbMl0gPSAwO1xuICAgICAgICBjb3VudGVyc1szXSA9IDA7XG4gICAgICAgIHZhciB3aWR0aCA9IHJvdy5nZXRTaXplKCk7XG4gICAgICAgIHZhciBpc1doaXRlID0gZmFsc2U7XG4gICAgICAgIHZhciByb3dPZmZzZXQgPSAwO1xuICAgICAgICB3aGlsZSAocm93T2Zmc2V0IDwgd2lkdGgpIHtcbiAgICAgICAgICAgIGlzV2hpdGUgPSAhcm93LmdldChyb3dPZmZzZXQpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0RmluZGVyUGF0dGVybiA9PT0gaXNXaGl0ZSkge1xuICAgICAgICAgICAgICAgIC8vIFdpbGwgZW5jb3VudGVyIHdoaXRlIGZpcnN0IHdoZW4gc2VhcmNoaW5nIGZvciByaWdodCBmaW5kZXIgcGF0dGVyblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93T2Zmc2V0Kys7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvdW50ZXJQb3NpdGlvbiA9IDA7XG4gICAgICAgIHZhciBwYXR0ZXJuU3RhcnQgPSByb3dPZmZzZXQ7XG4gICAgICAgIGZvciAodmFyIHggPSByb3dPZmZzZXQ7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICBpZiAocm93LmdldCh4KSAhPT0gaXNXaGl0ZSkge1xuICAgICAgICAgICAgICAgIGNvdW50ZXJzW2NvdW50ZXJQb3NpdGlvbl0rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudGVyUG9zaXRpb24gPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFic3RyYWN0UlNTUmVhZGVyLmlzRmluZGVyUGF0dGVybihjb3VudGVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbcGF0dGVyblN0YXJ0LCB4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuU3RhcnQgKz0gY291bnRlcnNbMF0gKyBjb3VudGVyc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnNbMF0gPSBjb3VudGVyc1syXTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnNbMV0gPSBjb3VudGVyc1szXTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcnNbMl0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyc1szXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJQb3NpdGlvbi0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlclBvc2l0aW9uKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvdW50ZXJzW2NvdW50ZXJQb3NpdGlvbl0gPSAxO1xuICAgICAgICAgICAgICAgIGlzV2hpdGUgPSAhaXNXaGl0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICB9O1xuICAgIFJTUzE0UmVhZGVyLnByb3RvdHlwZS5wYXJzZUZvdW5kRmluZGVyUGF0dGVybiA9IGZ1bmN0aW9uIChyb3csIHJvd051bWJlciwgcmlnaHQsIHN0YXJ0RW5kKSB7XG4gICAgICAgIC8vIEFjdHVhbGx5IHdlIGZvdW5kIGVsZW1lbnRzIDItNVxuICAgICAgICB2YXIgZmlyc3RJc0JsYWNrID0gcm93LmdldChzdGFydEVuZFswXSk7XG4gICAgICAgIHZhciBmaXJzdEVsZW1lbnRTdGFydCA9IHN0YXJ0RW5kWzBdIC0gMTtcbiAgICAgICAgLy8gTG9jYXRlIGVsZW1lbnQgMVxuICAgICAgICB3aGlsZSAoZmlyc3RFbGVtZW50U3RhcnQgPj0gMCAmJiBmaXJzdElzQmxhY2sgIT09IHJvdy5nZXQoZmlyc3RFbGVtZW50U3RhcnQpKSB7XG4gICAgICAgICAgICBmaXJzdEVsZW1lbnRTdGFydC0tO1xuICAgICAgICB9XG4gICAgICAgIGZpcnN0RWxlbWVudFN0YXJ0Kys7XG4gICAgICAgIHZhciBmaXJzdENvdW50ZXIgPSBzdGFydEVuZFswXSAtIGZpcnN0RWxlbWVudFN0YXJ0O1xuICAgICAgICAvLyBNYWtlICdjb3VudGVycycgaG9sZCAxLTRcbiAgICAgICAgdmFyIGNvdW50ZXJzID0gdGhpcy5nZXREZWNvZGVGaW5kZXJDb3VudGVycygpO1xuICAgICAgICB2YXIgY29weSA9IG5ldyBJbnQzMkFycmF5KGNvdW50ZXJzLmxlbmd0aCk7XG4gICAgICAgIFN5c3RlbS5hcnJheWNvcHkoY291bnRlcnMsIDAsIGNvcHksIDEsIGNvdW50ZXJzLmxlbmd0aCAtIDEpO1xuICAgICAgICBjb3B5WzBdID0gZmlyc3RDb3VudGVyO1xuICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnBhcnNlRmluZGVyVmFsdWUoY29weSwgUlNTMTRSZWFkZXIuRklOREVSX1BBVFRFUk5TKTtcbiAgICAgICAgdmFyIHN0YXJ0ID0gZmlyc3RFbGVtZW50U3RhcnQ7XG4gICAgICAgIHZhciBlbmQgPSBzdGFydEVuZFsxXTtcbiAgICAgICAgaWYgKHJpZ2h0KSB7XG4gICAgICAgICAgICAvLyByb3cgaXMgYWN0dWFsbHkgcmV2ZXJzZWRcbiAgICAgICAgICAgIHN0YXJ0ID0gcm93LmdldFNpemUoKSAtIDEgLSBzdGFydDtcbiAgICAgICAgICAgIGVuZCA9IHJvdy5nZXRTaXplKCkgLSAxIC0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRmluZGVyUGF0dGVybih2YWx1ZSwgW2ZpcnN0RWxlbWVudFN0YXJ0LCBzdGFydEVuZFsxXV0sIHN0YXJ0LCBlbmQsIHJvd051bWJlcik7XG4gICAgfTtcbiAgICBSU1MxNFJlYWRlci5wcm90b3R5cGUuYWRqdXN0T2RkRXZlbkNvdW50cyA9IGZ1bmN0aW9uIChvdXRzaWRlQ2hhciwgbnVtTW9kdWxlcykge1xuICAgICAgICB2YXIgb2RkU3VtID0gTWF0aFV0aWxzLnN1bShuZXcgSW50MzJBcnJheSh0aGlzLmdldE9kZENvdW50cygpKSk7XG4gICAgICAgIHZhciBldmVuU3VtID0gTWF0aFV0aWxzLnN1bShuZXcgSW50MzJBcnJheSh0aGlzLmdldEV2ZW5Db3VudHMoKSkpO1xuICAgICAgICB2YXIgaW5jcmVtZW50T2RkID0gZmFsc2U7XG4gICAgICAgIHZhciBkZWNyZW1lbnRPZGQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGluY3JlbWVudEV2ZW4gPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlY3JlbWVudEV2ZW4gPSBmYWxzZTtcbiAgICAgICAgaWYgKG91dHNpZGVDaGFyKSB7XG4gICAgICAgICAgICBpZiAob2RkU3VtID4gMTIpIHtcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRPZGQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob2RkU3VtIDwgNCkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudE9kZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlblN1bSA+IDEyKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50RXZlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVuU3VtIDwgNCkge1xuICAgICAgICAgICAgICAgIGluY3JlbWVudEV2ZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9kZFN1bSA+IDExKSB7XG4gICAgICAgICAgICAgICAgZGVjcmVtZW50T2RkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9kZFN1bSA8IDUpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRPZGQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW5TdW0gPiAxMCkge1xuICAgICAgICAgICAgICAgIGRlY3JlbWVudEV2ZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlblN1bSA8IDQpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRFdmVuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbWlzbWF0Y2ggPSBvZGRTdW0gKyBldmVuU3VtIC0gbnVtTW9kdWxlcztcbiAgICAgICAgdmFyIG9kZFBhcml0eUJhZCA9IChvZGRTdW0gJiAweDAxKSA9PT0gKG91dHNpZGVDaGFyID8gMSA6IDApO1xuICAgICAgICB2YXIgZXZlblBhcml0eUJhZCA9IChldmVuU3VtICYgMHgwMSkgPT09IDE7XG4gICAgICAgIGlmIChtaXNtYXRjaCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKG9kZFBhcml0eUJhZCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVuUGFyaXR5QmFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRPZGQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVuUGFyaXR5QmFkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRFdmVuID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtaXNtYXRjaCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGlmIChvZGRQYXJpdHlCYWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlblBhcml0eUJhZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50T2RkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghZXZlblBhcml0eUJhZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5jcmVtZW50RXZlbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWlzbWF0Y2ggPT09IDApIHtcbiAgICAgICAgICAgIGlmIChvZGRQYXJpdHlCYWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW5QYXJpdHlCYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEJvdGggYmFkXG4gICAgICAgICAgICAgICAgaWYgKG9kZFN1bSA8IGV2ZW5TdW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW5jcmVtZW50T2RkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGVjcmVtZW50RXZlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWNyZW1lbnRPZGQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnRFdmVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlblBhcml0eUJhZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTm90aGluZyB0byBkbyFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNyZW1lbnRPZGQpIHtcbiAgICAgICAgICAgIGlmIChkZWNyZW1lbnRPZGQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEFic3RyYWN0UlNTUmVhZGVyLmluY3JlbWVudCh0aGlzLmdldE9kZENvdW50cygpLCB0aGlzLmdldE9kZFJvdW5kaW5nRXJyb3JzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWNyZW1lbnRPZGQpIHtcbiAgICAgICAgICAgIEFic3RyYWN0UlNTUmVhZGVyLmRlY3JlbWVudCh0aGlzLmdldE9kZENvdW50cygpLCB0aGlzLmdldE9kZFJvdW5kaW5nRXJyb3JzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNyZW1lbnRFdmVuKSB7XG4gICAgICAgICAgICBpZiAoZGVjcmVtZW50RXZlbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQWJzdHJhY3RSU1NSZWFkZXIuaW5jcmVtZW50KHRoaXMuZ2V0RXZlbkNvdW50cygpLCB0aGlzLmdldE9kZFJvdW5kaW5nRXJyb3JzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWNyZW1lbnRFdmVuKSB7XG4gICAgICAgICAgICBBYnN0cmFjdFJTU1JlYWRlci5kZWNyZW1lbnQodGhpcy5nZXRFdmVuQ291bnRzKCksIHRoaXMuZ2V0RXZlblJvdW5kaW5nRXJyb3JzKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSU1MxNFJlYWRlci5PVVRTSURFX0VWRU5fVE9UQUxfU1VCU0VUID0gWzEsIDEwLCAzNCwgNzAsIDEyNl07XG4gICAgUlNTMTRSZWFkZXIuSU5TSURFX09ERF9UT1RBTF9TVUJTRVQgPSBbNCwgMjAsIDQ4LCA4MV07XG4gICAgUlNTMTRSZWFkZXIuT1VUU0lERV9HU1VNID0gWzAsIDE2MSwgOTYxLCAyMDE1LCAyNzE1XTtcbiAgICBSU1MxNFJlYWRlci5JTlNJREVfR1NVTSA9IFswLCAzMzYsIDEwMzYsIDE1MTZdO1xuICAgIFJTUzE0UmVhZGVyLk9VVFNJREVfT0REX1dJREVTVCA9IFs4LCA2LCA0LCAzLCAxXTtcbiAgICBSU1MxNFJlYWRlci5JTlNJREVfT0REX1dJREVTVCA9IFsyLCA0LCA2LCA4XTtcbiAgICBSU1MxNFJlYWRlci5GSU5ERVJfUEFUVEVSTlMgPSBbXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMywgOCwgMiwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDUsIDUsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFszLCAzLCA3LCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMywgMSwgOSwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzIsIDcsIDQsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCA1LCA2LCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMiwgMywgOCwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDUsIDcsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAzLCA5LCAxXSksXG4gICAgXTtcbiAgICByZXR1cm4gUlNTMTRSZWFkZXI7XG59KEFic3RyYWN0UlNTUmVhZGVyKSk7XG5leHBvcnQgZGVmYXVsdCBSU1MxNFJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJTUzE0UmVhZGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLm9uZWQgeyovXG5pbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuLi9CYXJjb2RlRm9ybWF0JztcbmltcG9ydCBEZWNvZGVIaW50VHlwZSBmcm9tICcuLi9EZWNvZGVIaW50VHlwZSc7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuaW1wb3J0IENvZGUxMjhSZWFkZXIgZnJvbSAnLi9Db2RlMTI4UmVhZGVyJztcbmltcG9ydCBDb2RlMzlSZWFkZXIgZnJvbSAnLi9Db2RlMzlSZWFkZXInO1xuaW1wb3J0IElURlJlYWRlciBmcm9tICcuL0lURlJlYWRlcic7XG5pbXBvcnQgTXVsdGlGb3JtYXRVUENFQU5SZWFkZXIgZnJvbSAnLi9NdWx0aUZvcm1hdFVQQ0VBTlJlYWRlcic7XG5pbXBvcnQgT25lRFJlYWRlciBmcm9tICcuL09uZURSZWFkZXInO1xuaW1wb3J0IFJTU0V4cGFuZGVkUmVhZGVyIGZyb20gJy4vcnNzL2V4cGFuZGVkL1JTU0V4cGFuZGVkUmVhZGVyJztcbmltcG9ydCBSU1MxNFJlYWRlciBmcm9tICcuL3Jzcy9SU1MxNFJlYWRlcic7XG4vKipcbiAqIEBhdXRob3IgRGFuaWVsIFN3aXRraW4gPGRzd2l0a2luQGdvb2dsZS5jb20+XG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgTXVsdGlGb3JtYXRPbmVEUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNdWx0aUZvcm1hdE9uZURSZWFkZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTXVsdGlGb3JtYXRPbmVEUmVhZGVyKGhpbnRzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnJlYWRlcnMgPSBbXTtcbiAgICAgICAgdmFyIHBvc3NpYmxlRm9ybWF0cyA9ICFoaW50cyA/IG51bGwgOiBoaW50cy5nZXQoRGVjb2RlSGludFR5cGUuUE9TU0lCTEVfRk9STUFUUyk7XG4gICAgICAgIHZhciB1c2VDb2RlMzlDaGVja0RpZ2l0ID0gaGludHMgJiYgaGludHMuZ2V0KERlY29kZUhpbnRUeXBlLkFTU1VNRV9DT0RFXzM5X0NIRUNLX0RJR0lUKSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocG9zc2libGVGb3JtYXRzKSB7XG4gICAgICAgICAgICBpZiAocG9zc2libGVGb3JtYXRzLmluY2x1ZGVzKEJhcmNvZGVGb3JtYXQuRUFOXzEzKSB8fFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlRm9ybWF0cy5pbmNsdWRlcyhCYXJjb2RlRm9ybWF0LlVQQ19BKSB8fFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlRm9ybWF0cy5pbmNsdWRlcyhCYXJjb2RlRm9ybWF0LkVBTl84KSB8fFxuICAgICAgICAgICAgICAgIHBvc3NpYmxlRm9ybWF0cy5pbmNsdWRlcyhCYXJjb2RlRm9ybWF0LlVQQ19FKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlYWRlcnMucHVzaChuZXcgTXVsdGlGb3JtYXRVUENFQU5SZWFkZXIoaGludHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3NzaWJsZUZvcm1hdHMuaW5jbHVkZXMoQmFyY29kZUZvcm1hdC5DT0RFXzM5KSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlYWRlcnMucHVzaChuZXcgQ29kZTM5UmVhZGVyKHVzZUNvZGUzOUNoZWNrRGlnaXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIChwb3NzaWJsZUZvcm1hdHMuaW5jbHVkZXMoQmFyY29kZUZvcm1hdC5DT0RFXzkzKSkge1xuICAgICAgICAgICAgLy8gICAgdGhpcy5yZWFkZXJzLnB1c2gobmV3IENvZGU5M1JlYWRlcigpKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGlmIChwb3NzaWJsZUZvcm1hdHMuaW5jbHVkZXMoQmFyY29kZUZvcm1hdC5DT0RFXzEyOCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWFkZXJzLnB1c2gobmV3IENvZGUxMjhSZWFkZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zc2libGVGb3JtYXRzLmluY2x1ZGVzKEJhcmNvZGVGb3JtYXQuSVRGKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlYWRlcnMucHVzaChuZXcgSVRGUmVhZGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgKHBvc3NpYmxlRm9ybWF0cy5pbmNsdWRlcyhCYXJjb2RlRm9ybWF0LkNPREFCQVIpKSB7XG4gICAgICAgICAgICAvLyAgICB0aGlzLnJlYWRlcnMucHVzaChuZXcgQ29kYUJhclJlYWRlcigpKTtcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIGlmIChwb3NzaWJsZUZvcm1hdHMuaW5jbHVkZXMoQmFyY29kZUZvcm1hdC5SU1NfMTQpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVhZGVycy5wdXNoKG5ldyBSU1MxNFJlYWRlcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb3NzaWJsZUZvcm1hdHMuaW5jbHVkZXMoQmFyY29kZUZvcm1hdC5SU1NfRVhQQU5ERUQpKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdSU1MgRXhwYW5kZWQgcmVhZGVyIElTIE5PVCByZWFkeSBmb3IgcHJvZHVjdGlvbiB5ZXQhIHVzZSBhdCB5b3VyIG93biByaXNrLicpO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlYWRlcnMucHVzaChuZXcgUlNTRXhwYW5kZWRSZWFkZXIoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF90aGlzLnJlYWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBfdGhpcy5yZWFkZXJzLnB1c2gobmV3IE11bHRpRm9ybWF0VVBDRUFOUmVhZGVyKGhpbnRzKSk7XG4gICAgICAgICAgICBfdGhpcy5yZWFkZXJzLnB1c2gobmV3IENvZGUzOVJlYWRlcigpKTtcbiAgICAgICAgICAgIC8vIHRoaXMucmVhZGVycy5wdXNoKG5ldyBDb2RhQmFyUmVhZGVyKCkpO1xuICAgICAgICAgICAgLy8gdGhpcy5yZWFkZXJzLnB1c2gobmV3IENvZGU5M1JlYWRlcigpKTtcbiAgICAgICAgICAgIF90aGlzLnJlYWRlcnMucHVzaChuZXcgTXVsdGlGb3JtYXRVUENFQU5SZWFkZXIoaGludHMpKTtcbiAgICAgICAgICAgIF90aGlzLnJlYWRlcnMucHVzaChuZXcgQ29kZTEyOFJlYWRlcigpKTtcbiAgICAgICAgICAgIF90aGlzLnJlYWRlcnMucHVzaChuZXcgSVRGUmVhZGVyKCkpO1xuICAgICAgICAgICAgX3RoaXMucmVhZGVycy5wdXNoKG5ldyBSU1MxNFJlYWRlcigpKTtcbiAgICAgICAgICAgIC8vIHRoaXMucmVhZGVycy5wdXNoKG5ldyBSU1NFeHBhbmRlZFJlYWRlcigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8vIEBPdmVycmlkZVxuICAgIE11bHRpRm9ybWF0T25lRFJlYWRlci5wcm90b3R5cGUuZGVjb2RlUm93ID0gZnVuY3Rpb24gKHJvd051bWJlciwgcm93LCBoaW50cykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVhZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkZXJzW2ldLmRlY29kZVJvdyhyb3dOdW1iZXIsIHJvdywgaGludHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKHJlKSB7XG4gICAgICAgICAgICAgICAgLy8gY29udGludWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICB9O1xuICAgIC8vIEBPdmVycmlkZVxuICAgIE11bHRpRm9ybWF0T25lRFJlYWRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uIChyZWFkZXIpIHsgcmV0dXJuIHJlYWRlci5yZXNldCgpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBNdWx0aUZvcm1hdE9uZURSZWFkZXI7XG59KE9uZURSZWFkZXIpKTtcbmV4cG9ydCBkZWZhdWx0IE11bHRpRm9ybWF0T25lRFJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU11bHRpRm9ybWF0T25lRFJlYWRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEJyb3dzZXJDb2RlUmVhZGVyIH0gZnJvbSAnLi9Ccm93c2VyQ29kZVJlYWRlcic7XG5pbXBvcnQgTXVsdGlGb3JtYXRPbmVEUmVhZGVyIGZyb20gJy4uL2NvcmUvb25lZC9NdWx0aUZvcm1hdE9uZURSZWFkZXInO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBNb3ZpbmcgdG8gQHp4aW5nL2Jyb3dzZXJcbiAqXG4gKiBCYXJjb2RlIHJlYWRlciByZWFkZXIgdG8gdXNlIGZyb20gYnJvd3Nlci5cbiAqL1xudmFyIEJyb3dzZXJCYXJjb2RlUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCcm93c2VyQmFyY29kZVJlYWRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEJyb3dzZXJCYXJjb2RlUmVhZGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZUJldHdlZW5TY2Fuc01pbGxpcz01MDBdIHRoZSB0aW1lIGRlbGF5IGJldHdlZW4gc3Vic2VxdWVudCBkZWNvZGUgdHJpZXNcbiAgICAgKiBAcGFyYW0ge01hcDxEZWNvZGVIaW50VHlwZSwgYW55Pn0gaGludHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCcm93c2VyQmFyY29kZVJlYWRlcih0aW1lQmV0d2VlblNjYW5zTWlsbGlzLCBoaW50cykge1xuICAgICAgICBpZiAodGltZUJldHdlZW5TY2Fuc01pbGxpcyA9PT0gdm9pZCAwKSB7IHRpbWVCZXR3ZWVuU2NhbnNNaWxsaXMgPSA1MDA7IH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG5ldyBNdWx0aUZvcm1hdE9uZURSZWFkZXIoaGludHMpLCB0aW1lQmV0d2VlblNjYW5zTWlsbGlzLCBoaW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJyb3dzZXJCYXJjb2RlUmVhZGVyO1xufShCcm93c2VyQ29kZVJlYWRlcikpO1xuZXhwb3J0IHsgQnJvd3NlckJhcmNvZGVSZWFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJCYXJjb2RlUmVhZGVyLmpzLm1hcCIsInZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbmltcG9ydCBGb3JtYXRFeGNlcHRpb24gZnJvbSAnLi4vLi4vRm9ybWF0RXhjZXB0aW9uJztcbi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgYSBzZXQgb2YgZXJyb3ItY29ycmVjdGlvbiBibG9ja3MgaW4gb25lIHN5bWJvbCB2ZXJzaW9uLiBNb3N0IHZlcnNpb25zIHdpbGxcbiAqIHVzZSBibG9ja3Mgb2YgZGlmZmVyaW5nIHNpemVzIHdpdGhpbiBvbmUgdmVyc2lvbiwgc28sIHRoaXMgZW5jYXBzdWxhdGVzIHRoZSBwYXJhbWV0ZXJzIGZvclxuICogZWFjaCBzZXQgb2YgYmxvY2tzLiBJdCBhbHNvIGhvbGRzIHRoZSBudW1iZXIgb2YgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMgcGVyIGJsb2NrIHNpbmNlIGl0XG4gKiB3aWxsIGJlIHRoZSBzYW1lIGFjcm9zcyBhbGwgYmxvY2tzIHdpdGhpbiBvbmUgdmVyc2lvbi48L3A+XG4gKi9cbnZhciBFQ0Jsb2NrcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFQ0Jsb2NrcyhlY0NvZGV3b3JkcywgZWNCbG9ja3MxLCBlY0Jsb2NrczIpIHtcbiAgICAgICAgdGhpcy5lY0NvZGV3b3JkcyA9IGVjQ29kZXdvcmRzO1xuICAgICAgICB0aGlzLmVjQmxvY2tzID0gW2VjQmxvY2tzMV07XG4gICAgICAgIGVjQmxvY2tzMiAmJiB0aGlzLmVjQmxvY2tzLnB1c2goZWNCbG9ja3MyKTtcbiAgICB9XG4gICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lY0NvZGV3b3JkcztcbiAgICB9O1xuICAgIEVDQmxvY2tzLnByb3RvdHlwZS5nZXRFQ0Jsb2NrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWNCbG9ja3M7XG4gICAgfTtcbiAgICByZXR1cm4gRUNCbG9ja3M7XG59KCkpO1xuZXhwb3J0IHsgRUNCbG9ja3MgfTtcbi8qKlxuICogPHA+RW5jYXBzdWxhdGVzIHRoZSBwYXJhbWV0ZXJzIGZvciBvbmUgZXJyb3ItY29ycmVjdGlvbiBibG9jayBpbiBvbmUgc3ltYm9sIHZlcnNpb24uXG4gKiBUaGlzIGluY2x1ZGVzIHRoZSBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMsIGFuZCB0aGUgbnVtYmVyIG9mIHRpbWVzIGEgYmxvY2sgd2l0aCB0aGVzZVxuICogcGFyYW1ldGVycyBpcyB1c2VkIGNvbnNlY3V0aXZlbHkgaW4gdGhlIERhdGEgTWF0cml4IGNvZGUgdmVyc2lvbidzIGZvcm1hdC48L3A+XG4gKi9cbnZhciBFQ0IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRUNCKGNvdW50LCBkYXRhQ29kZXdvcmRzKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkcztcbiAgICB9XG4gICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7XG4gICAgfTtcbiAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7XG4gICAgfTtcbiAgICByZXR1cm4gRUNCO1xufSgpKTtcbmV4cG9ydCB7IEVDQiB9O1xuLyoqXG4gKiBUaGUgVmVyc2lvbiBvYmplY3QgZW5jYXBzdWxhdGVzIGF0dHJpYnV0ZXMgYWJvdXQgYSBwYXJ0aWN1bGFyXG4gKiBzaXplIERhdGEgTWF0cml4IENvZGUuXG4gKlxuICogQGF1dGhvciBiYnJvd25AZ29vZ2xlLmNvbSAoQnJpYW4gQnJvd24pXG4gKi9cbnZhciBWZXJzaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZlcnNpb24odmVyc2lvbk51bWJlciwgc3ltYm9sU2l6ZVJvd3MsIHN5bWJvbFNpemVDb2x1bW5zLCBkYXRhUmVnaW9uU2l6ZVJvd3MsIGRhdGFSZWdpb25TaXplQ29sdW1ucywgZWNCbG9ja3MpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7XG4gICAgICAgIHRoaXMuc3ltYm9sU2l6ZVJvd3MgPSBzeW1ib2xTaXplUm93cztcbiAgICAgICAgdGhpcy5zeW1ib2xTaXplQ29sdW1ucyA9IHN5bWJvbFNpemVDb2x1bW5zO1xuICAgICAgICB0aGlzLmRhdGFSZWdpb25TaXplUm93cyA9IGRhdGFSZWdpb25TaXplUm93cztcbiAgICAgICAgdGhpcy5kYXRhUmVnaW9uU2l6ZUNvbHVtbnMgPSBkYXRhUmVnaW9uU2l6ZUNvbHVtbnM7XG4gICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrcztcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgY29kZXdvcmRzXG4gICAgICAgIHZhciB0b3RhbCA9IDA7XG4gICAgICAgIHZhciBlY0NvZGV3b3JkcyA9IGVjQmxvY2tzLmdldEVDQ29kZXdvcmRzKCk7XG4gICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMoZWNiQXJyYXkpLCBlY2JBcnJheV8xXzEgPSBlY2JBcnJheV8xLm5leHQoKTsgIWVjYkFycmF5XzFfMS5kb25lOyBlY2JBcnJheV8xXzEgPSBlY2JBcnJheV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNiQXJyYXlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IGVjQmxvY2suZ2V0Q291bnQoKSAqIChlY0Jsb2NrLmdldERhdGFDb2Rld29yZHMoKSArIGVjQ29kZXdvcmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGVjYkFycmF5XzFfMSAmJiAhZWNiQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNiQXJyYXlfMS5yZXR1cm4pKSBfYS5jYWxsKGVjYkFycmF5XzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudG90YWxDb2Rld29yZHMgPSB0b3RhbDtcbiAgICB9XG4gICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VmVyc2lvbk51bWJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbk51bWJlcjtcbiAgICB9O1xuICAgIFZlcnNpb24ucHJvdG90eXBlLmdldFN5bWJvbFNpemVSb3dzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zeW1ib2xTaXplUm93cztcbiAgICB9O1xuICAgIFZlcnNpb24ucHJvdG90eXBlLmdldFN5bWJvbFNpemVDb2x1bW5zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zeW1ib2xTaXplQ29sdW1ucztcbiAgICB9O1xuICAgIFZlcnNpb24ucHJvdG90eXBlLmdldERhdGFSZWdpb25TaXplUm93cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVJlZ2lvblNpemVSb3dzO1xuICAgIH07XG4gICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGF0YVJlZ2lvblNpemVDb2x1bW5zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhUmVnaW9uU2l6ZUNvbHVtbnM7XG4gICAgfTtcbiAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRUb3RhbENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG90YWxDb2Rld29yZHM7XG4gICAgfTtcbiAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRFQ0Jsb2NrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWNCbG9ja3M7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5EZWR1Y2VzIHZlcnNpb24gaW5mb3JtYXRpb24gZnJvbSBEYXRhIE1hdHJpeCBkaW1lbnNpb25zLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBudW1Sb3dzIE51bWJlciBvZiByb3dzIGluIG1vZHVsZXNcbiAgICAgKiBAcGFyYW0gbnVtQ29sdW1ucyBOdW1iZXIgb2YgY29sdW1ucyBpbiBtb2R1bGVzXG4gICAgICogQHJldHVybiBWZXJzaW9uIGZvciBhIERhdGEgTWF0cml4IENvZGUgb2YgdGhvc2UgZGltZW5zaW9uc1xuICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGRpbWVuc2lvbnMgZG8gY29ycmVzcG9uZCB0byBhIHZhbGlkIERhdGEgTWF0cml4IHNpemVcbiAgICAgKi9cbiAgICBWZXJzaW9uLmdldFZlcnNpb25Gb3JEaW1lbnNpb25zID0gZnVuY3Rpb24gKG51bVJvd3MsIG51bUNvbHVtbnMpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIGlmICgobnVtUm93cyAmIDB4MDEpICE9PSAwIHx8IChudW1Db2x1bW5zICYgMHgwMSkgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhWZXJzaW9uLlZFUlNJT05TKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciB2ZXJzaW9uID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHZlcnNpb24uc3ltYm9sU2l6ZVJvd3MgPT09IG51bVJvd3MgJiYgdmVyc2lvbi5zeW1ib2xTaXplQ29sdW1ucyA9PT0gbnVtQ29sdW1ucykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICAvLyAgQE92ZXJyaWRlXG4gICAgVmVyc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRoaXMudmVyc2lvbk51bWJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZSBJU08gMTYwMjI6MjAwNiA1LjUuMSBUYWJsZSA3XG4gICAgICovXG4gICAgVmVyc2lvbi5idWlsZFZlcnNpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbmV3IFZlcnNpb24oMSwgMTAsIDEwLCA4LCA4LCBuZXcgRUNCbG9ja3MoNSwgbmV3IEVDQigxLCAzKSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMiwgMTIsIDEyLCAxMCwgMTAsIG5ldyBFQ0Jsb2Nrcyg3LCBuZXcgRUNCKDEsIDUpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbigzLCAxNCwgMTQsIDEyLCAxMiwgbmV3IEVDQmxvY2tzKDEwLCBuZXcgRUNCKDEsIDgpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbig0LCAxNiwgMTYsIDE0LCAxNCwgbmV3IEVDQmxvY2tzKDEyLCBuZXcgRUNCKDEsIDEyKSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oNSwgMTgsIDE4LCAxNiwgMTYsIG5ldyBFQ0Jsb2NrcygxNCwgbmV3IEVDQigxLCAxOCkpKSxcbiAgICAgICAgICAgIG5ldyBWZXJzaW9uKDYsIDIwLCAyMCwgMTgsIDE4LCBuZXcgRUNCbG9ja3MoMTgsIG5ldyBFQ0IoMSwgMjIpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbig3LCAyMiwgMjIsIDIwLCAyMCwgbmV3IEVDQmxvY2tzKDIwLCBuZXcgRUNCKDEsIDMwKSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oOCwgMjQsIDI0LCAyMiwgMjIsIG5ldyBFQ0Jsb2NrcygyNCwgbmV3IEVDQigxLCAzNikpKSxcbiAgICAgICAgICAgIG5ldyBWZXJzaW9uKDksIDI2LCAyNiwgMjQsIDI0LCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMSwgNDQpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbigxMCwgMzIsIDMyLCAxNCwgMTQsIG5ldyBFQ0Jsb2NrcygzNiwgbmV3IEVDQigxLCA2MikpKSxcbiAgICAgICAgICAgIG5ldyBWZXJzaW9uKDExLCAzNiwgMzYsIDE2LCAxNiwgbmV3IEVDQmxvY2tzKDQyLCBuZXcgRUNCKDEsIDg2KSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMTIsIDQwLCA0MCwgMTgsIDE4LCBuZXcgRUNCbG9ja3MoNDgsIG5ldyBFQ0IoMSwgMTE0KSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMTMsIDQ0LCA0NCwgMjAsIDIwLCBuZXcgRUNCbG9ja3MoNTYsIG5ldyBFQ0IoMSwgMTQ0KSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMTQsIDQ4LCA0OCwgMjIsIDIyLCBuZXcgRUNCbG9ja3MoNjgsIG5ldyBFQ0IoMSwgMTc0KSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMTUsIDUyLCA1MiwgMjQsIDI0LCBuZXcgRUNCbG9ja3MoNDIsIG5ldyBFQ0IoMiwgMTAyKSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMTYsIDY0LCA2NCwgMTQsIDE0LCBuZXcgRUNCbG9ja3MoNTYsIG5ldyBFQ0IoMiwgMTQwKSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMTcsIDcyLCA3MiwgMTYsIDE2LCBuZXcgRUNCbG9ja3MoMzYsIG5ldyBFQ0IoNCwgOTIpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbigxOCwgODAsIDgwLCAxOCwgMTgsIG5ldyBFQ0Jsb2Nrcyg0OCwgbmV3IEVDQig0LCAxMTQpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbigxOSwgODgsIDg4LCAyMCwgMjAsIG5ldyBFQ0Jsb2Nrcyg1NiwgbmV3IEVDQig0LCAxNDQpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbigyMCwgOTYsIDk2LCAyMiwgMjIsIG5ldyBFQ0Jsb2Nrcyg2OCwgbmV3IEVDQig0LCAxNzQpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbigyMSwgMTA0LCAxMDQsIDI0LCAyNCwgbmV3IEVDQmxvY2tzKDU2LCBuZXcgRUNCKDYsIDEzNikpKSxcbiAgICAgICAgICAgIG5ldyBWZXJzaW9uKDIyLCAxMjAsIDEyMCwgMTgsIDE4LCBuZXcgRUNCbG9ja3MoNjgsIG5ldyBFQ0IoNiwgMTc1KSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMjMsIDEzMiwgMTMyLCAyMCwgMjAsIG5ldyBFQ0Jsb2Nrcyg2MiwgbmV3IEVDQig4LCAxNjMpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbigyNCwgMTQ0LCAxNDQsIDIyLCAyMiwgbmV3IEVDQmxvY2tzKDYyLCBuZXcgRUNCKDgsIDE1NiksIG5ldyBFQ0IoMiwgMTU1KSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMjUsIDgsIDE4LCA2LCAxNiwgbmV3IEVDQmxvY2tzKDcsIG5ldyBFQ0IoMSwgNSkpKSxcbiAgICAgICAgICAgIG5ldyBWZXJzaW9uKDI2LCA4LCAzMiwgNiwgMTQsIG5ldyBFQ0Jsb2NrcygxMSwgbmV3IEVDQigxLCAxMCkpKSxcbiAgICAgICAgICAgIG5ldyBWZXJzaW9uKDI3LCAxMiwgMjYsIDEwLCAyNCwgbmV3IEVDQmxvY2tzKDE0LCBuZXcgRUNCKDEsIDE2KSkpLFxuICAgICAgICAgICAgbmV3IFZlcnNpb24oMjgsIDEyLCAzNiwgMTAsIDE2LCBuZXcgRUNCbG9ja3MoMTgsIG5ldyBFQ0IoMSwgMjIpKSksXG4gICAgICAgICAgICBuZXcgVmVyc2lvbigyOSwgMTYsIDM2LCAxNCwgMTYsIG5ldyBFQ0Jsb2NrcygyNCwgbmV3IEVDQigxLCAzMikpKSxcbiAgICAgICAgICAgIG5ldyBWZXJzaW9uKDMwLCAxNiwgNDgsIDE0LCAyMiwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDEsIDQ5KSkpXG4gICAgICAgIF07XG4gICAgfTtcbiAgICBWZXJzaW9uLlZFUlNJT05TID0gVmVyc2lvbi5idWlsZFZlcnNpb25zKCk7XG4gICAgcmV0dXJuIFZlcnNpb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVmVyc2lvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVZlcnNpb24uanMubWFwIiwiaW1wb3J0IEJpdE1hdHJpeCBmcm9tICcuLi8uLi9jb21tb24vQml0TWF0cml4JztcbmltcG9ydCBWZXJzaW9uIGZyb20gJy4vVmVyc2lvbic7XG5pbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uLy4uL0Zvcm1hdEV4Y2VwdGlvbic7XG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uLy4uL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG4vKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQGF1dGhvciBiYnJvd25AZ29vZ2xlLmNvbSAoQnJpYW4gQnJvd24pXG4gKi9cbnZhciBCaXRNYXRyaXhQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGJpdE1hdHJpeCB7QGxpbmsgQml0TWF0cml4fSB0byBwYXJzZVxuICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGRpbWVuc2lvbiBpcyA8IDggb3IgPiAxNDQgb3Igbm90IDAgbW9kIDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRNYXRyaXhQYXJzZXIoYml0TWF0cml4KSB7XG4gICAgICAgIHZhciBkaW1lbnNpb24gPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7XG4gICAgICAgIGlmIChkaW1lbnNpb24gPCA4IHx8IGRpbWVuc2lvbiA+IDE0NCB8fCAoZGltZW5zaW9uICYgMHgwMSkgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlcnNpb24gPSBCaXRNYXRyaXhQYXJzZXIucmVhZFZlcnNpb24oYml0TWF0cml4KTtcbiAgICAgICAgdGhpcy5tYXBwaW5nQml0TWF0cml4ID0gdGhpcy5leHRyYWN0RGF0YVJlZ2lvbihiaXRNYXRyaXgpO1xuICAgICAgICB0aGlzLnJlYWRNYXBwaW5nTWF0cml4ID0gbmV3IEJpdE1hdHJpeCh0aGlzLm1hcHBpbmdCaXRNYXRyaXguZ2V0V2lkdGgoKSwgdGhpcy5tYXBwaW5nQml0TWF0cml4LmdldEhlaWdodCgpKTtcbiAgICB9XG4gICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5nZXRWZXJzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogPHA+Q3JlYXRlcyB0aGUgdmVyc2lvbiBvYmplY3QgYmFzZWQgb24gdGhlIGRpbWVuc2lvbiBvZiB0aGUgb3JpZ2luYWwgYml0IG1hdHJpeCBmcm9tXG4gICAgICogdGhlIGRhdGFtYXRyaXggY29kZS48L3A+XG4gICAgICpcbiAgICAgKiA8cD5TZWUgSVNPIDE2MDIyOjIwMDYgVGFibGUgNyAtIEVDQyAyMDAgc3ltYm9sIGF0dHJpYnV0ZXM8L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0gYml0TWF0cml4IE9yaWdpbmFsIHtAbGluayBCaXRNYXRyaXh9IGluY2x1ZGluZyBhbGlnbm1lbnQgcGF0dGVybnNcbiAgICAgKiBAcmV0dXJuIHtAbGluayBWZXJzaW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBEYXRhIE1hdHJpeCBDb2RlJ3MgXCJ2ZXJzaW9uXCJcbiAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiB0aGUgZGltZW5zaW9ucyBvZiB0aGUgbWFwcGluZyBtYXRyaXggYXJlIG5vdCB2YWxpZFxuICAgICAqIERhdGEgTWF0cml4IGRpbWVuc2lvbnMuXG4gICAgICovXG4gICAgQml0TWF0cml4UGFyc2VyLnJlYWRWZXJzaW9uID0gZnVuY3Rpb24gKGJpdE1hdHJpeCkge1xuICAgICAgICB2YXIgbnVtUm93cyA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIG51bUNvbHVtbnMgPSBiaXRNYXRyaXguZ2V0V2lkdGgoKTtcbiAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvckRpbWVuc2lvbnMobnVtUm93cywgbnVtQ29sdW1ucyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5SZWFkcyB0aGUgYml0cyBpbiB0aGUge0BsaW5rIEJpdE1hdHJpeH0gcmVwcmVzZW50aW5nIHRoZSBtYXBwaW5nIG1hdHJpeCAoTm8gYWxpZ25tZW50IHBhdHRlcm5zKVxuICAgICAqIGluIHRoZSBjb3JyZWN0IG9yZGVyIGluIG9yZGVyIHRvIHJlY29uc3RpdHV0ZSB0aGUgY29kZXdvcmRzIGJ5dGVzIGNvbnRhaW5lZCB3aXRoaW4gdGhlXG4gICAgICogRGF0YSBNYXRyaXggQ29kZS48L3A+XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBEYXRhIE1hdHJpeCBDb2RlXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIGV4YWN0IG51bWJlciBvZiBieXRlcyBleHBlY3RlZCBpcyBub3QgcmVhZFxuICAgICAqL1xuICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBJbnQ4QXJyYXkodGhpcy52ZXJzaW9uLmdldFRvdGFsQ29kZXdvcmRzKCkpO1xuICAgICAgICB2YXIgcmVzdWx0T2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIHJvdyA9IDQ7XG4gICAgICAgIHZhciBjb2x1bW4gPSAwO1xuICAgICAgICB2YXIgbnVtUm93cyA9IHRoaXMubWFwcGluZ0JpdE1hdHJpeC5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIG51bUNvbHVtbnMgPSB0aGlzLm1hcHBpbmdCaXRNYXRyaXguZ2V0V2lkdGgoKTtcbiAgICAgICAgdmFyIGNvcm5lcjFSZWFkID0gZmFsc2U7XG4gICAgICAgIHZhciBjb3JuZXIyUmVhZCA9IGZhbHNlO1xuICAgICAgICB2YXIgY29ybmVyM1JlYWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvcm5lcjRSZWFkID0gZmFsc2U7XG4gICAgICAgIC8vIFJlYWQgYWxsIG9mIHRoZSBjb2Rld29yZHNcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIGZvdXIgY29ybmVyIGNhc2VzXG4gICAgICAgICAgICBpZiAoKHJvdyA9PT0gbnVtUm93cykgJiYgKGNvbHVtbiA9PT0gMCkgJiYgIWNvcm5lcjFSZWFkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdE9mZnNldCsrXSA9IHRoaXMucmVhZENvcm5lcjEobnVtUm93cywgbnVtQ29sdW1ucykgJiAweGZmO1xuICAgICAgICAgICAgICAgIHJvdyAtPSAyO1xuICAgICAgICAgICAgICAgIGNvbHVtbiArPSAyO1xuICAgICAgICAgICAgICAgIGNvcm5lcjFSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChyb3cgPT09IG51bVJvd3MgLSAyKSAmJiAoY29sdW1uID09PSAwKSAmJiAoKG51bUNvbHVtbnMgJiAweDAzKSAhPT0gMCkgJiYgIWNvcm5lcjJSZWFkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdE9mZnNldCsrXSA9IHRoaXMucmVhZENvcm5lcjIobnVtUm93cywgbnVtQ29sdW1ucykgJiAweGZmO1xuICAgICAgICAgICAgICAgIHJvdyAtPSAyO1xuICAgICAgICAgICAgICAgIGNvbHVtbiArPSAyO1xuICAgICAgICAgICAgICAgIGNvcm5lcjJSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChyb3cgPT09IG51bVJvd3MgKyA0KSAmJiAoY29sdW1uID09PSAyKSAmJiAoKG51bUNvbHVtbnMgJiAweDA3KSA9PT0gMCkgJiYgIWNvcm5lcjNSZWFkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdE9mZnNldCsrXSA9IHRoaXMucmVhZENvcm5lcjMobnVtUm93cywgbnVtQ29sdW1ucykgJiAweGZmO1xuICAgICAgICAgICAgICAgIHJvdyAtPSAyO1xuICAgICAgICAgICAgICAgIGNvbHVtbiArPSAyO1xuICAgICAgICAgICAgICAgIGNvcm5lcjNSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChyb3cgPT09IG51bVJvd3MgLSAyKSAmJiAoY29sdW1uID09PSAwKSAmJiAoKG51bUNvbHVtbnMgJiAweDA3KSA9PT0gNCkgJiYgIWNvcm5lcjRSZWFkKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdE9mZnNldCsrXSA9IHRoaXMucmVhZENvcm5lcjQobnVtUm93cywgbnVtQ29sdW1ucykgJiAweGZmO1xuICAgICAgICAgICAgICAgIHJvdyAtPSAyO1xuICAgICAgICAgICAgICAgIGNvbHVtbiArPSAyO1xuICAgICAgICAgICAgICAgIGNvcm5lcjRSZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFN3ZWVwIHVwd2FyZCBkaWFnb25hbGx5IHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChyb3cgPCBudW1Sb3dzKSAmJiAoY29sdW1uID49IDApICYmICF0aGlzLnJlYWRNYXBwaW5nTWF0cml4LmdldChjb2x1bW4sIHJvdykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSB0aGlzLnJlYWRVdGFoKHJvdywgY29sdW1uLCBudW1Sb3dzLCBudW1Db2x1bW5zKSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcm93IC09IDI7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiArPSAyO1xuICAgICAgICAgICAgICAgIH0gd2hpbGUgKChyb3cgPj0gMCkgJiYgKGNvbHVtbiA8IG51bUNvbHVtbnMpKTtcbiAgICAgICAgICAgICAgICByb3cgKz0gMTtcbiAgICAgICAgICAgICAgICBjb2x1bW4gKz0gMztcbiAgICAgICAgICAgICAgICAvLyBTd2VlcCBkb3dud2FyZCBkaWFnb25hbGx5IHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHJvdyA+PSAwKSAmJiAoY29sdW1uIDwgbnVtQ29sdW1ucykgJiYgIXRoaXMucmVhZE1hcHBpbmdNYXRyaXguZ2V0KGNvbHVtbiwgcm93KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdE9mZnNldCsrXSA9IHRoaXMucmVhZFV0YWgocm93LCBjb2x1bW4sIG51bVJvd3MsIG51bUNvbHVtbnMpICYgMHhmZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByb3cgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uIC09IDI7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoKHJvdyA8IG51bVJvd3MpICYmIChjb2x1bW4gPj0gMCkpO1xuICAgICAgICAgICAgICAgIHJvdyArPSAzO1xuICAgICAgICAgICAgICAgIGNvbHVtbiArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgocm93IDwgbnVtUm93cykgfHwgKGNvbHVtbiA8IG51bUNvbHVtbnMpKTtcbiAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdGhpcy52ZXJzaW9uLmdldFRvdGFsQ29kZXdvcmRzKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogPHA+UmVhZHMgYSBiaXQgb2YgdGhlIG1hcHBpbmcgbWF0cml4IGFjY291bnRpbmcgZm9yIGJvdW5kYXJ5IHdyYXBwaW5nLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByb3cgUm93IHRvIHJlYWQgaW4gdGhlIG1hcHBpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIGNvbHVtbiBDb2x1bW4gdG8gcmVhZCBpbiB0aGUgbWFwcGluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbnVtUm93cyBOdW1iZXIgb2Ygcm93cyBpbiB0aGUgbWFwcGluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbnVtQ29sdW1ucyBOdW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgbWFwcGluZyBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHZhbHVlIG9mIHRoZSBnaXZlbiBiaXQgaW4gdGhlIG1hcHBpbmcgbWF0cml4XG4gICAgICovXG4gICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZWFkTW9kdWxlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uLCBudW1Sb3dzLCBudW1Db2x1bW5zKSB7XG4gICAgICAgIC8vIEFkanVzdCB0aGUgcm93IGFuZCBjb2x1bW4gaW5kaWNlcyBiYXNlZCBvbiBib3VuZGFyeSB3cmFwcGluZ1xuICAgICAgICBpZiAocm93IDwgMCkge1xuICAgICAgICAgICAgcm93ICs9IG51bVJvd3M7XG4gICAgICAgICAgICBjb2x1bW4gKz0gNCAtICgobnVtUm93cyArIDQpICYgMHgwNyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbHVtbiA8IDApIHtcbiAgICAgICAgICAgIGNvbHVtbiArPSBudW1Db2x1bW5zO1xuICAgICAgICAgICAgcm93ICs9IDQgLSAoKG51bUNvbHVtbnMgKyA0KSAmIDB4MDcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVhZE1hcHBpbmdNYXRyaXguc2V0KGNvbHVtbiwgcm93KTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwcGluZ0JpdE1hdHJpeC5nZXQoY29sdW1uLCByb3cpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogPHA+UmVhZHMgdGhlIDggYml0cyBvZiB0aGUgc3RhbmRhcmQgVXRhaC1zaGFwZWQgcGF0dGVybi48L3A+XG4gICAgICpcbiAgICAgKiA8cD5TZWUgSVNPIDE2MDIyOjIwMDYsIDUuOC4xIEZpZ3VyZSA2PC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIHJvdyBDdXJyZW50IHJvdyBpbiB0aGUgbWFwcGluZyBtYXRyaXgsIGFuY2hvcmVkIGF0IHRoZSA4dGggYml0IChMU0IpIG9mIHRoZSBwYXR0ZXJuXG4gICAgICogQHBhcmFtIGNvbHVtbiBDdXJyZW50IGNvbHVtbiBpbiB0aGUgbWFwcGluZyBtYXRyaXgsIGFuY2hvcmVkIGF0IHRoZSA4dGggYml0IChMU0IpIG9mIHRoZSBwYXR0ZXJuXG4gICAgICogQHBhcmFtIG51bVJvd3MgTnVtYmVyIG9mIHJvd3MgaW4gdGhlIG1hcHBpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIG51bUNvbHVtbnMgTnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlIG1hcHBpbmcgbWF0cml4XG4gICAgICogQHJldHVybiBieXRlIGZyb20gdGhlIHV0YWggc2hhcGVcbiAgICAgKi9cbiAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRVdGFoID0gZnVuY3Rpb24gKHJvdywgY29sdW1uLCBudW1Sb3dzLCBudW1Db2x1bW5zKSB7XG4gICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUocm93IC0gMiwgY29sdW1uIC0gMiwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUocm93IC0gMiwgY29sdW1uIC0gMSwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUocm93IC0gMSwgY29sdW1uIC0gMiwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUocm93IC0gMSwgY29sdW1uIC0gMSwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUocm93IC0gMSwgY29sdW1uLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Qnl0ZSA8PD0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZShyb3csIGNvbHVtbiAtIDIsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKHJvdywgY29sdW1uIC0gMSwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUocm93LCBjb2x1bW4sIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50Qnl0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDxwPlJlYWRzIHRoZSA4IGJpdHMgb2YgdGhlIHNwZWNpYWwgY29ybmVyIGNvbmRpdGlvbiAxLjwvcD5cbiAgICAgKlxuICAgICAqIDxwPlNlZSBJU08gMTYwMjI6MjAwNiwgRmlndXJlIEYuMzwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBudW1Sb3dzIE51bWJlciBvZiByb3dzIGluIHRoZSBtYXBwaW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSBudW1Db2x1bW5zIE51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBtYXBwaW5nIG1hdHJpeFxuICAgICAqIEByZXR1cm4gYnl0ZSBmcm9tIHRoZSBDb3JuZXIgY29uZGl0aW9uIDFcbiAgICAgKi9cbiAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb3JuZXIxID0gZnVuY3Rpb24gKG51bVJvd3MsIG51bUNvbHVtbnMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRCeXRlID0gMDtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZShudW1Sb3dzIC0gMSwgMCwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUobnVtUm93cyAtIDEsIDEsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKG51bVJvd3MgLSAxLCAyLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Qnl0ZSA8PD0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZSgwLCBudW1Db2x1bW5zIC0gMiwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUoMCwgbnVtQ29sdW1ucyAtIDEsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKDEsIG51bUNvbHVtbnMgLSAxLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Qnl0ZSA8PD0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZSgyLCBudW1Db2x1bW5zIC0gMSwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUoMywgbnVtQ29sdW1ucyAtIDEsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50Qnl0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDxwPlJlYWRzIHRoZSA4IGJpdHMgb2YgdGhlIHNwZWNpYWwgY29ybmVyIGNvbmRpdGlvbiAyLjwvcD5cbiAgICAgKlxuICAgICAqIDxwPlNlZSBJU08gMTYwMjI6MjAwNiwgRmlndXJlIEYuNDwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBudW1Sb3dzIE51bWJlciBvZiByb3dzIGluIHRoZSBtYXBwaW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSBudW1Db2x1bW5zIE51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBtYXBwaW5nIG1hdHJpeFxuICAgICAqIEByZXR1cm4gYnl0ZSBmcm9tIHRoZSBDb3JuZXIgY29uZGl0aW9uIDJcbiAgICAgKi9cbiAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb3JuZXIyID0gZnVuY3Rpb24gKG51bVJvd3MsIG51bUNvbHVtbnMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRCeXRlID0gMDtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZShudW1Sb3dzIC0gMywgMCwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUobnVtUm93cyAtIDIsIDAsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKG51bVJvd3MgLSAxLCAwLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Qnl0ZSA8PD0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZSgwLCBudW1Db2x1bW5zIC0gNCwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUoMCwgbnVtQ29sdW1ucyAtIDMsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKDAsIG51bUNvbHVtbnMgLSAyLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Qnl0ZSA8PD0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZSgwLCBudW1Db2x1bW5zIC0gMSwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUoMSwgbnVtQ29sdW1ucyAtIDEsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50Qnl0ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDxwPlJlYWRzIHRoZSA4IGJpdHMgb2YgdGhlIHNwZWNpYWwgY29ybmVyIGNvbmRpdGlvbiAzLjwvcD5cbiAgICAgKlxuICAgICAqIDxwPlNlZSBJU08gMTYwMjI6MjAwNiwgRmlndXJlIEYuNTwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBudW1Sb3dzIE51bWJlciBvZiByb3dzIGluIHRoZSBtYXBwaW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSBudW1Db2x1bW5zIE51bWJlciBvZiBjb2x1bW5zIGluIHRoZSBtYXBwaW5nIG1hdHJpeFxuICAgICAqIEByZXR1cm4gYnl0ZSBmcm9tIHRoZSBDb3JuZXIgY29uZGl0aW9uIDNcbiAgICAgKi9cbiAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb3JuZXIzID0gZnVuY3Rpb24gKG51bVJvd3MsIG51bUNvbHVtbnMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRCeXRlID0gMDtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZShudW1Sb3dzIC0gMSwgMCwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUobnVtUm93cyAtIDEsIG51bUNvbHVtbnMgLSAxLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Qnl0ZSA8PD0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZSgwLCBudW1Db2x1bW5zIC0gMywgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUoMCwgbnVtQ29sdW1ucyAtIDIsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKDAsIG51bUNvbHVtbnMgLSAxLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Qnl0ZSA8PD0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZSgxLCBudW1Db2x1bW5zIC0gMywgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUoMSwgbnVtQ29sdW1ucyAtIDIsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKDEsIG51bUNvbHVtbnMgLSAxLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudEJ5dGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5SZWFkcyB0aGUgOCBiaXRzIG9mIHRoZSBzcGVjaWFsIGNvcm5lciBjb25kaXRpb24gNC48L3A+XG4gICAgICpcbiAgICAgKiA8cD5TZWUgSVNPIDE2MDIyOjIwMDYsIEZpZ3VyZSBGLjY8L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbnVtUm93cyBOdW1iZXIgb2Ygcm93cyBpbiB0aGUgbWFwcGluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbnVtQ29sdW1ucyBOdW1iZXIgb2YgY29sdW1ucyBpbiB0aGUgbWFwcGluZyBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIGJ5dGUgZnJvbSB0aGUgQ29ybmVyIGNvbmRpdGlvbiA0XG4gICAgICovXG4gICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZWFkQ29ybmVyNCA9IGZ1bmN0aW9uIChudW1Sb3dzLCBudW1Db2x1bW5zKSB7XG4gICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUobnVtUm93cyAtIDMsIDAsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKG51bVJvd3MgLSAyLCAwLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Qnl0ZSA8PD0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZShudW1Sb3dzIC0gMSwgMCwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUoMCwgbnVtQ29sdW1ucyAtIDIsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKDAsIG51bUNvbHVtbnMgLSAxLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50Qnl0ZSA8PD0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVhZE1vZHVsZSgxLCBudW1Db2x1bW5zIC0gMSwgbnVtUm93cywgbnVtQ29sdW1ucykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgIGlmICh0aGlzLnJlYWRNb2R1bGUoMiwgbnVtQ29sdW1ucyAtIDEsIG51bVJvd3MsIG51bUNvbHVtbnMpKSB7XG4gICAgICAgICAgICBjdXJyZW50Qnl0ZSB8PSAxO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxO1xuICAgICAgICBpZiAodGhpcy5yZWFkTW9kdWxlKDMsIG51bUNvbHVtbnMgLSAxLCBudW1Sb3dzLCBudW1Db2x1bW5zKSkge1xuICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudEJ5dGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5FeHRyYWN0cyB0aGUgZGF0YSByZWdpb24gZnJvbSBhIHtAbGluayBCaXRNYXRyaXh9IHRoYXQgY29udGFpbnNcbiAgICAgKiBhbGlnbm1lbnQgcGF0dGVybnMuPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIGJpdE1hdHJpeCBPcmlnaW5hbCB7QGxpbmsgQml0TWF0cml4fSB3aXRoIGFsaWdubWVudCBwYXR0ZXJuc1xuICAgICAqIEByZXR1cm4gQml0TWF0cml4IHRoYXQgaGFzIHRoZSBhbGlnbm1lbnQgcGF0dGVybnMgcmVtb3ZlZFxuICAgICAqL1xuICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuZXh0cmFjdERhdGFSZWdpb24gPSBmdW5jdGlvbiAoYml0TWF0cml4KSB7XG4gICAgICAgIHZhciBzeW1ib2xTaXplUm93cyA9IHRoaXMudmVyc2lvbi5nZXRTeW1ib2xTaXplUm93cygpO1xuICAgICAgICB2YXIgc3ltYm9sU2l6ZUNvbHVtbnMgPSB0aGlzLnZlcnNpb24uZ2V0U3ltYm9sU2l6ZUNvbHVtbnMoKTtcbiAgICAgICAgaWYgKGJpdE1hdHJpeC5nZXRIZWlnaHQoKSAhPT0gc3ltYm9sU2l6ZVJvd3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oJ0RpbWVuc2lvbiBvZiBiaXRNYXRyaXggbXVzdCBtYXRjaCB0aGUgdmVyc2lvbiBzaXplJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGFSZWdpb25TaXplUm93cyA9IHRoaXMudmVyc2lvbi5nZXREYXRhUmVnaW9uU2l6ZVJvd3MoKTtcbiAgICAgICAgdmFyIGRhdGFSZWdpb25TaXplQ29sdW1ucyA9IHRoaXMudmVyc2lvbi5nZXREYXRhUmVnaW9uU2l6ZUNvbHVtbnMoKTtcbiAgICAgICAgdmFyIG51bURhdGFSZWdpb25zUm93ID0gc3ltYm9sU2l6ZVJvd3MgLyBkYXRhUmVnaW9uU2l6ZVJvd3MgfCAwO1xuICAgICAgICB2YXIgbnVtRGF0YVJlZ2lvbnNDb2x1bW4gPSBzeW1ib2xTaXplQ29sdW1ucyAvIGRhdGFSZWdpb25TaXplQ29sdW1ucyB8IDA7XG4gICAgICAgIHZhciBzaXplRGF0YVJlZ2lvblJvdyA9IG51bURhdGFSZWdpb25zUm93ICogZGF0YVJlZ2lvblNpemVSb3dzO1xuICAgICAgICB2YXIgc2l6ZURhdGFSZWdpb25Db2x1bW4gPSBudW1EYXRhUmVnaW9uc0NvbHVtbiAqIGRhdGFSZWdpb25TaXplQ29sdW1ucztcbiAgICAgICAgdmFyIGJpdE1hdHJpeFdpdGhvdXRBbGlnbm1lbnQgPSBuZXcgQml0TWF0cml4KHNpemVEYXRhUmVnaW9uQ29sdW1uLCBzaXplRGF0YVJlZ2lvblJvdyk7XG4gICAgICAgIGZvciAodmFyIGRhdGFSZWdpb25Sb3cgPSAwOyBkYXRhUmVnaW9uUm93IDwgbnVtRGF0YVJlZ2lvbnNSb3c7ICsrZGF0YVJlZ2lvblJvdykge1xuICAgICAgICAgICAgdmFyIGRhdGFSZWdpb25Sb3dPZmZzZXQgPSBkYXRhUmVnaW9uUm93ICogZGF0YVJlZ2lvblNpemVSb3dzO1xuICAgICAgICAgICAgZm9yICh2YXIgZGF0YVJlZ2lvbkNvbHVtbiA9IDA7IGRhdGFSZWdpb25Db2x1bW4gPCBudW1EYXRhUmVnaW9uc0NvbHVtbjsgKytkYXRhUmVnaW9uQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFSZWdpb25Db2x1bW5PZmZzZXQgPSBkYXRhUmVnaW9uQ29sdW1uICogZGF0YVJlZ2lvblNpemVDb2x1bW5zO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVJlZ2lvblNpemVSb3dzOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRSb3dPZmZzZXQgPSBkYXRhUmVnaW9uUm93ICogKGRhdGFSZWdpb25TaXplUm93cyArIDIpICsgMSArIGk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3cml0ZVJvd09mZnNldCA9IGRhdGFSZWdpb25Sb3dPZmZzZXQgKyBpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFSZWdpb25TaXplQ29sdW1uczsgKytqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZENvbHVtbk9mZnNldCA9IGRhdGFSZWdpb25Db2x1bW4gKiAoZGF0YVJlZ2lvblNpemVDb2x1bW5zICsgMikgKyAxICsgajtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHJlYWRDb2x1bW5PZmZzZXQsIHJlYWRSb3dPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdyaXRlQ29sdW1uT2Zmc2V0ID0gZGF0YVJlZ2lvbkNvbHVtbk9mZnNldCArIGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYml0TWF0cml4V2l0aG91dEFsaWdubWVudC5zZXQod3JpdGVDb2x1bW5PZmZzZXQsIHdyaXRlUm93T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYml0TWF0cml4V2l0aG91dEFsaWdubWVudDtcbiAgICB9O1xuICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQml0TWF0cml4UGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qml0TWF0cml4UGFyc2VyLmpzLm1hcCIsInZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbmltcG9ydCBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gZnJvbSAnLi4vLi4vSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJztcbi8qXG4gKiBDb3B5cmlnaHQgMjAwOCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgYSBibG9jayBvZiBkYXRhIHdpdGhpbiBhIERhdGEgTWF0cml4IENvZGUuIERhdGEgTWF0cml4IENvZGVzIG1heSBzcGxpdCB0aGVpciBkYXRhIGludG9cbiAqIG11bHRpcGxlIGJsb2NrcywgZWFjaCBvZiB3aGljaCBpcyBhIHVuaXQgb2YgZGF0YSBhbmQgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMuIEVhY2hcbiAqIGlzIHJlcHJlc2VudGVkIGJ5IGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MuPC9wPlxuICpcbiAqIEBhdXRob3IgYmJyb3duQGdvb2dsZS5jb20gKEJyaWFuIEJyb3duKVxuICovXG52YXIgRGF0YUJsb2NrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBjb2Rld29yZHMpIHtcbiAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkcztcbiAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIDxwPldoZW4gRGF0YSBNYXRyaXggQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFjdHVhbGx5IGludGVybGVhdmUgdGhlIGJ5dGVzIG9mIGVhY2ggb2YgdGhlbS5cbiAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpc1xuICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBEYXRhIE1hdHJpeCBDb2RlXG4gICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgRGF0YSBNYXRyaXggQ29kZVxuICAgICAqIEByZXR1cm4gRGF0YUJsb2NrcyBjb250YWluaW5nIG9yaWdpbmFsIGJ5dGVzLCBcImRlLWludGVybGVhdmVkXCIgZnJvbSByZXByZXNlbnRhdGlvbiBpbiB0aGVcbiAgICAgKiAgICAgICAgIERhdGEgTWF0cml4IENvZGVcbiAgICAgKi9cbiAgICBEYXRhQmxvY2suZ2V0RGF0YUJsb2NrcyA9IGZ1bmN0aW9uIChyYXdDb2Rld29yZHMsIHZlcnNpb24pIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvblxuICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzKCk7XG4gICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3NcbiAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDtcbiAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8xXzEgPSBlY0Jsb2NrQXJyYXlfMS5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmU7IGVjQmxvY2tBcnJheV8xXzEgPSBlY0Jsb2NrQXJyYXlfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgdG90YWxCbG9ja3MgKz0gZWNCbG9jay5nZXRDb3VudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZWNCbG9ja0FycmF5XzFfMSAmJiAhZWNCbG9ja0FycmF5XzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNCbG9ja0FycmF5XzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE5vdyBlc3RhYmxpc2ggRGF0YUJsb2NrcyBvZiB0aGUgYXBwcm9wcmlhdGUgc2l6ZSBhbmQgbnVtYmVyIG9mIGRhdGEgY29kZXdvcmRzXG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkodG90YWxCbG9ja3MpO1xuICAgICAgICB2YXIgbnVtUmVzdWx0QmxvY2tzID0gMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tBcnJheV8yID0gX192YWx1ZXMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzJfMSA9IGVjQmxvY2tBcnJheV8yLm5leHQoKTsgIWVjQmxvY2tBcnJheV8yXzEuZG9uZTsgZWNCbG9ja0FycmF5XzJfMSA9IGVjQmxvY2tBcnJheV8yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzJfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVjQmxvY2suZ2V0Q291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1EYXRhQ29kZXdvcmRzID0gZWNCbG9jay5nZXREYXRhQ29kZXdvcmRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1CbG9ja0NvZGV3b3JkcyA9IGVjQmxvY2tzLmdldEVDQ29kZXdvcmRzKCkgKyBudW1EYXRhQ29kZXdvcmRzO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG5cbiAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBsZXNzIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuXG4gICAgICAgIC8vIFRPRE8oYmJyb3duKTogVGhlcmUgaXMgb25seSBvbmUgY2FzZSB3aGVyZSB0aGVyZSBpcyBhIGRpZmZlcmVuY2UgZm9yIERhdGEgTWF0cml4IGZvciBzaXplIDE0NFxuICAgICAgICB2YXIgbG9uZ2VyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDtcbiAgICAgICAgLy8gaW50IHNob3J0ZXJCbG9ja3NUb3RhbENvZGV3b3JkcyA9IGxvbmdlckJsb2Nrc1RvdGFsQ29kZXdvcmRzIC0gMTtcbiAgICAgICAgdmFyIGxvbmdlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBsb25nZXJCbG9ja3NUb3RhbENvZGV3b3JkcyAtIGVjQmxvY2tzLmdldEVDQ29kZXdvcmRzKCk7XG4gICAgICAgIHZhciBzaG9ydGVyQmxvY2tzTnVtRGF0YUNvZGV3b3JkcyA9IGxvbmdlckJsb2Nrc051bURhdGFDb2Rld29yZHMgLSAxO1xuICAgICAgICAvLyBUaGUgbGFzdCBlbGVtZW50cyBvZiByZXN1bHQgbWF5IGJlIDEgZWxlbWVudCBzaG9ydGVyIGZvciAxNDQgbWF0cml4XG4gICAgICAgIC8vIGZpcnN0IGZpbGwgb3V0IGFzIG1hbnkgZWxlbWVudHMgYXMgYWxsIG9mIHRoZW0gaGF2ZSBtaW51cyAxXG4gICAgICAgIHZhciByYXdDb2Rld29yZHNPZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbal0uY29kZXdvcmRzW2ldID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGaWxsIG91dCB0aGUgbGFzdCBkYXRhIGJsb2NrIGluIHRoZSBsb25nZXIgb25lc1xuICAgICAgICB2YXIgc3BlY2lhbFZlcnNpb24gPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKSA9PT0gMjQ7XG4gICAgICAgIHZhciBudW1Mb25nZXJCbG9ja3MgPSBzcGVjaWFsVmVyc2lvbiA/IDggOiBudW1SZXN1bHRCbG9ja3M7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtTG9uZ2VyQmxvY2tzOyBqKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbbG9uZ2VyQmxvY2tzTnVtRGF0YUNvZGV3b3JkcyAtIDFdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzXG4gICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IGxvbmdlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkgPCBtYXg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBqT2Zmc2V0ID0gc3BlY2lhbFZlcnNpb24gPyAoaiArIDgpICUgbnVtUmVzdWx0QmxvY2tzIDogajtcbiAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHNwZWNpYWxWZXJzaW9uICYmIGpPZmZzZXQgPiA3ID8gaSAtIDEgOiBpO1xuICAgICAgICAgICAgICAgIHJlc3VsdFtqT2Zmc2V0XS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyYXdDb2Rld29yZHNPZmZzZXQgIT09IHJhd0NvZGV3b3Jkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgRGF0YUJsb2NrLnByb3RvdHlwZS5nZXROdW1EYXRhQ29kZXdvcmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5udW1EYXRhQ29kZXdvcmRzO1xuICAgIH07XG4gICAgRGF0YUJsb2NrLnByb3RvdHlwZS5nZXRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvZGV3b3JkcztcbiAgICB9O1xuICAgIHJldHVybiBEYXRhQmxvY2s7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGF0YUJsb2NrO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGF0YUJsb2NrLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovXG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG4vKipcbiAqIDxwPlRoaXMgcHJvdmlkZXMgYW4gZWFzeSBhYnN0cmFjdGlvbiB0byByZWFkIGJpdHMgYXQgYSB0aW1lIGZyb20gYSBzZXF1ZW5jZSBvZiBieXRlcywgd2hlcmUgdGhlXG4gKiBudW1iZXIgb2YgYml0cyByZWFkIGlzIG5vdCBvZnRlbiBhIG11bHRpcGxlIG9mIDguPC9wPlxuICpcbiAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQgLS0gdW5sZXNzIHRoZSBjYWxsZXIgbW9kaWZpZXMgdGhlIGJ5dGVzIGFycmF5XG4gKiBpdCBwYXNzZWQgaW4sIGluIHdoaWNoIGNhc2UgYWxsIGJldHMgYXJlIG9mZi48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIEJpdFNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZnJvbSB3aGljaCB0aGlzIHdpbGwgcmVhZCBiaXRzLiBCaXRzIHdpbGwgYmUgcmVhZCBmcm9tIHRoZSBmaXJzdCBieXRlIGZpcnN0LlxuICAgICAqIEJpdHMgYXJlIHJlYWQgd2l0aGluIGEgYnl0ZSBmcm9tIG1vc3Qtc2lnbmlmaWNhbnQgdG8gbGVhc3Qtc2lnbmlmaWNhbnQgYml0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdFNvdXJjZShieXRlcykge1xuICAgICAgICB0aGlzLmJ5dGVzID0gYnl0ZXM7XG4gICAgICAgIHRoaXMuYnl0ZU9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiBpbmRleCBvZiBuZXh0IGJpdCBpbiBjdXJyZW50IGJ5dGUgd2hpY2ggd291bGQgYmUgcmVhZCBieSB0aGUgbmV4dCBjYWxsIHRvIHtAbGluayAjcmVhZEJpdHMoaW50KX0uXG4gICAgICovXG4gICAgQml0U291cmNlLnByb3RvdHlwZS5nZXRCaXRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpdE9mZnNldDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBieXRlIGluIGlucHV0IGJ5dGUgYXJyYXkgd2hpY2ggd291bGQgYmUgcmVhZCBieSB0aGUgbmV4dCBjYWxsIHRvIHtAbGluayAjcmVhZEJpdHMoaW50KX0uXG4gICAgICovXG4gICAgQml0U291cmNlLnByb3RvdHlwZS5nZXRCeXRlT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ieXRlT2Zmc2V0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG51bUJpdHMgbnVtYmVyIG9mIGJpdHMgdG8gcmVhZFxuICAgICAqIEByZXR1cm4gaW50IHJlcHJlc2VudGluZyB0aGUgYml0cyByZWFkLiBUaGUgYml0cyB3aWxsIGFwcGVhciBhcyB0aGUgbGVhc3Qtc2lnbmlmaWNhbnRcbiAgICAgKiAgICAgICAgIGJpdHMgb2YgdGhlIGludFxuICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIG51bUJpdHMgaXNuJ3QgaW4gWzEsMzJdIG9yIG1vcmUgdGhhbiBpcyBhdmFpbGFibGVcbiAgICAgKi9cbiAgICBCaXRTb3VyY2UucHJvdG90eXBlLnJlYWRCaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykge1xuICAgICAgICBpZiAobnVtQml0cyA8IDEgfHwgbnVtQml0cyA+IDMyIHx8IG51bUJpdHMgPiB0aGlzLmF2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCcnICsgbnVtQml0cyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgICAgIHZhciBiaXRPZmZzZXQgPSB0aGlzLmJpdE9mZnNldDtcbiAgICAgICAgdmFyIGJ5dGVPZmZzZXQgPSB0aGlzLmJ5dGVPZmZzZXQ7XG4gICAgICAgIHZhciBieXRlcyA9IHRoaXMuYnl0ZXM7XG4gICAgICAgIC8vIEZpcnN0LCByZWFkIHJlbWFpbmRlciBmcm9tIGN1cnJlbnQgYnl0ZVxuICAgICAgICBpZiAoYml0T2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgdmFyIGJpdHNMZWZ0ID0gOCAtIGJpdE9mZnNldDtcbiAgICAgICAgICAgIHZhciB0b1JlYWQgPSBudW1CaXRzIDwgYml0c0xlZnQgPyBudW1CaXRzIDogYml0c0xlZnQ7XG4gICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IGJpdHNMZWZ0IC0gdG9SZWFkO1xuICAgICAgICAgICAgdmFyIG1hc2sgPSAoMHhGRiA+PiAoOCAtIHRvUmVhZCkpIDw8IGJpdHNUb05vdFJlYWQ7XG4gICAgICAgICAgICByZXN1bHQgPSAoYnl0ZXNbYnl0ZU9mZnNldF0gJiBtYXNrKSA+PiBiaXRzVG9Ob3RSZWFkO1xuICAgICAgICAgICAgbnVtQml0cyAtPSB0b1JlYWQ7XG4gICAgICAgICAgICBiaXRPZmZzZXQgKz0gdG9SZWFkO1xuICAgICAgICAgICAgaWYgKGJpdE9mZnNldCA9PT0gOCkge1xuICAgICAgICAgICAgICAgIGJpdE9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgYnl0ZU9mZnNldCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE5leHQgcmVhZCB3aG9sZSBieXRlc1xuICAgICAgICBpZiAobnVtQml0cyA+IDApIHtcbiAgICAgICAgICAgIHdoaWxlIChudW1CaXRzID49IDgpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IDgpIHwgKGJ5dGVzW2J5dGVPZmZzZXRdICYgMHhGRik7XG4gICAgICAgICAgICAgICAgYnl0ZU9mZnNldCsrO1xuICAgICAgICAgICAgICAgIG51bUJpdHMgLT0gODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbmFsbHkgcmVhZCBhIHBhcnRpYWwgYnl0ZVxuICAgICAgICAgICAgaWYgKG51bUJpdHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJpdHNUb05vdFJlYWQgPSA4IC0gbnVtQml0cztcbiAgICAgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+IGJpdHNUb05vdFJlYWQpIDw8IGJpdHNUb05vdFJlYWQ7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gKHJlc3VsdCA8PCBudW1CaXRzKSB8ICgoYnl0ZXNbYnl0ZU9mZnNldF0gJiBtYXNrKSA+PiBiaXRzVG9Ob3RSZWFkKTtcbiAgICAgICAgICAgICAgICBiaXRPZmZzZXQgKz0gbnVtQml0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJpdE9mZnNldCA9IGJpdE9mZnNldDtcbiAgICAgICAgdGhpcy5ieXRlT2Zmc2V0ID0gYnl0ZU9mZnNldDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gbnVtYmVyIG9mIGJpdHMgdGhhdCBjYW4gYmUgcmVhZCBzdWNjZXNzZnVsbHlcbiAgICAgKi9cbiAgICBCaXRTb3VyY2UucHJvdG90eXBlLmF2YWlsYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIDggKiAodGhpcy5ieXRlcy5sZW5ndGggLSB0aGlzLmJ5dGVPZmZzZXQpIC0gdGhpcy5iaXRPZmZzZXQ7XG4gICAgfTtcbiAgICByZXR1cm4gQml0U291cmNlO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEJpdFNvdXJjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdFNvdXJjZS5qcy5tYXAiLCJpbXBvcnQgRGVjb2RlclJlc3VsdCBmcm9tICcuLi8uLi9jb21tb24vRGVjb2RlclJlc3VsdCc7XG5pbXBvcnQgQml0U291cmNlIGZyb20gJy4uLy4uL2NvbW1vbi9CaXRTb3VyY2UnO1xuaW1wb3J0IFN0cmluZ0J1aWxkZXIgZnJvbSAnLi4vLi4vdXRpbC9TdHJpbmdCdWlsZGVyJztcbmltcG9ydCBTdHJpbmdFbmNvZGluZyBmcm9tICcuLi8uLi91dGlsL1N0cmluZ0VuY29kaW5nJztcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vU3RyaW5nVXRpbHMnO1xuaW1wb3J0IEZvcm1hdEV4Y2VwdGlvbiBmcm9tICcuLi8uLi9Gb3JtYXRFeGNlcHRpb24nO1xuaW1wb3J0IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiBmcm9tICcuLi8uLi9JbGxlZ2FsU3RhdGVFeGNlcHRpb24nO1xuLypcbiAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgTW9kZTtcbihmdW5jdGlvbiAoTW9kZSkge1xuICAgIE1vZGVbTW9kZVtcIlBBRF9FTkNPREVcIl0gPSAwXSA9IFwiUEFEX0VOQ09ERVwiO1xuICAgIE1vZGVbTW9kZVtcIkFTQ0lJX0VOQ09ERVwiXSA9IDFdID0gXCJBU0NJSV9FTkNPREVcIjtcbiAgICBNb2RlW01vZGVbXCJDNDBfRU5DT0RFXCJdID0gMl0gPSBcIkM0MF9FTkNPREVcIjtcbiAgICBNb2RlW01vZGVbXCJURVhUX0VOQ09ERVwiXSA9IDNdID0gXCJURVhUX0VOQ09ERVwiO1xuICAgIE1vZGVbTW9kZVtcIkFOU0lYMTJfRU5DT0RFXCJdID0gNF0gPSBcIkFOU0lYMTJfRU5DT0RFXCI7XG4gICAgTW9kZVtNb2RlW1wiRURJRkFDVF9FTkNPREVcIl0gPSA1XSA9IFwiRURJRkFDVF9FTkNPREVcIjtcbiAgICBNb2RlW01vZGVbXCJCQVNFMjU2X0VOQ09ERVwiXSA9IDZdID0gXCJCQVNFMjU2X0VOQ09ERVwiO1xufSkoTW9kZSB8fCAoTW9kZSA9IHt9KSk7XG4vKipcbiAqIDxwPkRhdGEgTWF0cml4IENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2Rlc1xuICogaW4gb25lIERhdGEgTWF0cml4IENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+XG4gKlxuICogPHA+U2VlIElTTyAxNjAyMjoyMDA2LCA1LjIuMSAtIDUuMi45LjI8L3A+XG4gKlxuICogQGF1dGhvciBiYnJvd25AZ29vZ2xlLmNvbSAoQnJpYW4gQnJvd24pXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgRGVjb2RlZEJpdFN0cmVhbVBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyKCkge1xuICAgIH1cbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZSA9IGZ1bmN0aW9uIChieXRlcykge1xuICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2UoYnl0ZXMpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgdmFyIHJlc3VsdFRyYWlsZXIgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xuICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciBtb2RlID0gTW9kZS5BU0NJSV9FTkNPREU7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChtb2RlID09PSBNb2RlLkFTQ0lJX0VOQ09ERSkge1xuICAgICAgICAgICAgICAgIG1vZGUgPSB0aGlzLmRlY29kZUFzY2lpU2VnbWVudChiaXRzLCByZXN1bHQsIHJlc3VsdFRyYWlsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZS5DNDBfRU5DT0RFOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNvZGVDNDBTZWdtZW50KGJpdHMsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlLlRFWFRfRU5DT0RFOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNvZGVUZXh0U2VnbWVudChiaXRzLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZS5BTlNJWDEyX0VOQ09ERTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVjb2RlQW5zaVgxMlNlZ21lbnQoYml0cywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGUuRURJRkFDVF9FTkNPREU6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlY29kZUVkaWZhY3RTZWdtZW50KGJpdHMsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlLkJBU0UyNTZfRU5DT0RFOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWNvZGVCYXNlMjU2U2VnbWVudChiaXRzLCByZXN1bHQsIGJ5dGVTZWdtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kZSA9IE1vZGUuQVNDSUlfRU5DT0RFO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChtb2RlICE9PSBNb2RlLlBBRF9FTkNPREUgJiYgYml0cy5hdmFpbGFibGUoKSA+IDApO1xuICAgICAgICBpZiAocmVzdWx0VHJhaWxlci5sZW5ndGgoKSA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQocmVzdWx0VHJhaWxlci50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHQoYnl0ZXMsIHJlc3VsdC50b1N0cmluZygpLCBieXRlU2VnbWVudHMubGVuZ3RoID09PSAwID8gbnVsbCA6IGJ5dGVTZWdtZW50cywgbnVsbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWUgSVNPIDE2MDIyOjIwMDYsIDUuMi4zIGFuZCBBbm5leCBDLCBUYWJsZSBDLjJcbiAgICAgKi9cbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFzY2lpU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIHJlc3VsdFRyYWlsZXIpIHtcbiAgICAgICAgdmFyIHVwcGVyU2hpZnQgPSBmYWxzZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIG9uZUJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpO1xuICAgICAgICAgICAgaWYgKG9uZUJ5dGUgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvbmVCeXRlIDw9IDEyOCkgeyAvLyBBU0NJSSBkYXRhIChBU0NJSSB2YWx1ZSArIDEpXG4gICAgICAgICAgICAgICAgaWYgKHVwcGVyU2hpZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25lQnl0ZSArPSAxMjg7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwcGVyU2hpZnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcuZnJvbUNoYXJDb2RlKG9uZUJ5dGUgLSAxKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1vZGUuQVNDSUlfRU5DT0RFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob25lQnl0ZSA9PT0gMTI5KSB7IC8vIFBhZFxuICAgICAgICAgICAgICAgIHJldHVybiBNb2RlLlBBRF9FTkNPREU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvbmVCeXRlIDw9IDIyOSkgeyAvLyAyLWRpZ2l0IGRhdGEgMDAtOTkgKE51bWVyaWMgVmFsdWUgKyAxMzApXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gb25lQnl0ZSAtIDEzMDtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAxMCkgeyAvLyBwYWQgd2l0aCAnMCcgZm9yIHNpbmdsZSBkaWdpdCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnMCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKCcnICsgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChvbmVCeXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjMwOiAvLyBMYXRjaCB0byBDNDAgZW5jb2RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGUuQzQwX0VOQ09ERTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMzE6IC8vIExhdGNoIHRvIEJhc2UgMjU2IGVuY29kYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlLkJBU0UyNTZfRU5DT0RFO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIzMjogLy8gRk5DMVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcuZnJvbUNoYXJDb2RlKDI5KSk7IC8vIHRyYW5zbGF0ZSBhcyBBU0NJSSAyOVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjMzOiAvLyBTdHJ1Y3R1cmVkIEFwcGVuZFxuICAgICAgICAgICAgICAgICAgICBjYXNlIDIzNDogLy8gUmVhZGVyIFByb2dyYW1taW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgdGhlc2Ugc3ltYm9scyBmb3Igbm93XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyBSZWFkZXJFeGNlcHRpb24uZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIzNTogLy8gVXBwZXIgU2hpZnQgKHNoaWZ0IHRvIEV4dGVuZGVkIEFTQ0lJKVxuICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJTaGlmdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMzY6IC8vIDA1IE1hY3JvXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKCdbKT5cXHUwMDFFMDVcXHUwMDFEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRUcmFpbGVyLmluc2VydCgwLCAnXFx1MDAxRVxcdTAwMDQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIzNzogLy8gMDYgTWFjcm9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoJ1spPlxcdTAwMUUwNlxcdTAwMUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFRyYWlsZXIuaW5zZXJ0KDAsICdcXHUwMDFFXFx1MDAwNCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjM4OiAvLyBMYXRjaCB0byBBTlNJIFgxMiBlbmNvZGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW9kZS5BTlNJWDEyX0VOQ09ERTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMzk6IC8vIExhdGNoIHRvIFRleHQgZW5jb2RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1vZGUuVEVYVF9FTkNPREU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjQwOiAvLyBMYXRjaCB0byBFRElGQUNUIGVuY29kYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNb2RlLkVESUZBQ1RfRU5DT0RFO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI0MTogLy8gRUNJIENoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhiYnJvd24pOiBJIHRoaW5rIHdlIG5lZWQgdG8gc3VwcG9ydCBFQ0lcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRocm93IFJlYWRlckV4Y2VwdGlvbi5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHRoaXMgc3ltYm9sIGZvciBub3dcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90IHRvIGJlIHVzZWQgaW4gQVNDSUkgZW5jb2RhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHdvcmsgYXJvdW5kIGVuY29kZXJzIHRoYXQgZW5kIHdpdGggMjU0LCBsYXRjaCBiYWNrIHRvIEFTQ0lJXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob25lQnl0ZSAhPT0gMjU0IHx8IGJpdHMuYXZhaWxhYmxlKCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGJpdHMuYXZhaWxhYmxlKCkgPiAwKTtcbiAgICAgICAgcmV0dXJuIE1vZGUuQVNDSUlfRU5DT0RFO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VlIElTTyAxNjAyMjoyMDA2LCA1LjIuNSBhbmQgQW5uZXggQywgVGFibGUgQy4xXG4gICAgICovXG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVDNDBTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCkge1xuICAgICAgICAvLyBUaHJlZSBDNDAgdmFsdWVzIGFyZSBlbmNvZGVkIGluIGEgMTYtYml0IHZhbHVlIGFzXG4gICAgICAgIC8vICgxNjAwICogQzEpICsgKDQwICogQzIpICsgQzMgKyAxXG4gICAgICAgIC8vIFRPRE8oYmJyb3duKTogVGhlIFVwcGVyIFNoaWZ0IHdpdGggQzQwIGRvZXNuJ3Qgd29yayBpbiB0aGUgNCB2YWx1ZSBzY2VuYXJpbyBhbGwgdGhlIHRpbWVcbiAgICAgICAgdmFyIHVwcGVyU2hpZnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNWYWx1ZXMgPSBbXTtcbiAgICAgICAgdmFyIHNoaWZ0ID0gMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgb25seSBvbmUgYnl0ZSBsZWZ0IHRoZW4gaXQgd2lsbCBiZSBlbmNvZGVkIGFzIEFTQ0lJXG4gICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA9PT0gOCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpO1xuICAgICAgICAgICAgaWYgKGZpcnN0Qnl0ZSA9PT0gMjU0KSB7IC8vIFVubGF0Y2ggY29kZXdvcmRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhcnNlVHdvQnl0ZXMoZmlyc3RCeXRlLCBiaXRzLnJlYWRCaXRzKDgpLCBjVmFsdWVzKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNWYWx1ZSA9IGNWYWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzaGlmdCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY1ZhbHVlIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gY1ZhbHVlICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNWYWx1ZSA8IHRoaXMuQzQwX0JBU0lDX1NFVF9DSEFSUy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYzQwY2hhciA9IHRoaXMuQzQwX0JBU0lDX1NFVF9DSEFSU1tjVmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cHBlclNoaWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nLmZyb21DaGFyQ29kZShjNDBjaGFyLmNoYXJDb2RlQXQoMCkgKyAxMjgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJTaGlmdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChjNDBjaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwcGVyU2hpZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKFN0cmluZy5mcm9tQ2hhckNvZGUoY1ZhbHVlICsgMTI4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJTaGlmdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcuZnJvbUNoYXJDb2RlKGNWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjVmFsdWUgPCB0aGlzLkM0MF9TSElGVDJfU0VUX0NIQVJTLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjNDBjaGFyID0gdGhpcy5DNDBfU0hJRlQyX1NFVF9DSEFSU1tjVmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cHBlclNoaWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nLmZyb21DaGFyQ29kZShjNDBjaGFyLmNoYXJDb2RlQXQoMCkgKyAxMjgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJTaGlmdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChjNDBjaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI3OiAvLyBGTkMxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKFN0cmluZy5mcm9tQ2hhckNvZGUoMjkpKTsgLy8gdHJhbnNsYXRlIGFzIEFTQ0lJIDI5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMDogLy8gVXBwZXIgU2hpZnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyU2hpZnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cHBlclNoaWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcuZnJvbUNoYXJDb2RlKGNWYWx1ZSArIDIyNCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyU2hpZnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nLmZyb21DaGFyQ29kZShjVmFsdWUgKyA5NikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChiaXRzLmF2YWlsYWJsZSgpID4gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWUgSVNPIDE2MDIyOjIwMDYsIDUuMi42IGFuZCBBbm5leCBDLCBUYWJsZSBDLjJcbiAgICAgKi9cbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZVRleHRTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCkge1xuICAgICAgICAvLyBUaHJlZSBUZXh0IHZhbHVlcyBhcmUgZW5jb2RlZCBpbiBhIDE2LWJpdCB2YWx1ZSBhc1xuICAgICAgICAvLyAoMTYwMCAqIEMxKSArICg0MCAqIEMyKSArIEMzICsgMVxuICAgICAgICAvLyBUT0RPKGJicm93bik6IFRoZSBVcHBlciBTaGlmdCB3aXRoIFRleHQgZG9lc24ndCB3b3JrIGluIHRoZSA0IHZhbHVlIHNjZW5hcmlvIGFsbCB0aGUgdGltZVxuICAgICAgICB2YXIgdXBwZXJTaGlmdCA9IGZhbHNlO1xuICAgICAgICB2YXIgY1ZhbHVlcyA9IFtdO1xuICAgICAgICB2YXIgc2hpZnQgPSAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBvbmx5IG9uZSBieXRlIGxlZnQgdGhlbiBpdCB3aWxsIGJlIGVuY29kZWQgYXMgQVNDSUlcbiAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpID09PSA4KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZpcnN0Qnl0ZSA9IGJpdHMucmVhZEJpdHMoOCk7XG4gICAgICAgICAgICBpZiAoZmlyc3RCeXRlID09PSAyNTQpIHsgLy8gVW5sYXRjaCBjb2Rld29yZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFyc2VUd29CeXRlcyhmaXJzdEJ5dGUsIGJpdHMucmVhZEJpdHMoOCksIGNWYWx1ZXMpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY1ZhbHVlID0gY1ZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNoaWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjVmFsdWUgPCAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSBjVmFsdWUgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY1ZhbHVlIDwgdGhpcy5URVhUX0JBU0lDX1NFVF9DSEFSUy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dENoYXIgPSB0aGlzLlRFWFRfQkFTSUNfU0VUX0NIQVJTW2NWYWx1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwcGVyU2hpZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcuZnJvbUNoYXJDb2RlKHRleHRDaGFyLmNoYXJDb2RlQXQoMCkgKyAxMjgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJTaGlmdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0ZXh0Q2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cHBlclNoaWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcuZnJvbUNoYXJDb2RlKGNWYWx1ZSArIDEyOCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyU2hpZnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nLmZyb21DaGFyQ29kZShjVmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaGlmdCAyIGZvciBUZXh0IGlzIHRoZSBzYW1lIGVuY29kaW5nIGFzIEM0MFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNWYWx1ZSA8IHRoaXMuVEVYVF9TSElGVDJfU0VUX0NIQVJTLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0Q2hhciA9IHRoaXMuVEVYVF9TSElGVDJfU0VUX0NIQVJTW2NWYWx1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwcGVyU2hpZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcuZnJvbUNoYXJDb2RlKHRleHRDaGFyLmNoYXJDb2RlQXQoMCkgKyAxMjgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJTaGlmdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0ZXh0Q2hhcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzogLy8gRk5DMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcuZnJvbUNoYXJDb2RlKDI5KSk7IC8vIHRyYW5zbGF0ZSBhcyBBU0NJSSAyOVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzA6IC8vIFVwcGVyIFNoaWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlclNoaWZ0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY1ZhbHVlIDwgdGhpcy5URVhUX1NISUZUM19TRVRfQ0hBUlMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRDaGFyID0gdGhpcy5URVhUX1NISUZUM19TRVRfQ0hBUlNbY1ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBwZXJTaGlmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKFN0cmluZy5mcm9tQ2hhckNvZGUodGV4dENoYXIuY2hhckNvZGVBdCgwKSArIDEyOCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHBlclNoaWZ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKHRleHRDaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChiaXRzLmF2YWlsYWJsZSgpID4gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWUgSVNPIDE2MDIyOjIwMDYsIDUuMi43XG4gICAgICovXG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVBbnNpWDEyU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQpIHtcbiAgICAgICAgLy8gVGhyZWUgQU5TSSBYMTIgdmFsdWVzIGFyZSBlbmNvZGVkIGluIGEgMTYtYml0IHZhbHVlIGFzXG4gICAgICAgIC8vICgxNjAwICogQzEpICsgKDQwICogQzIpICsgQzMgKyAxXG4gICAgICAgIHZhciBjVmFsdWVzID0gW107XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG9ubHkgb25lIGJ5dGUgbGVmdCB0aGVuIGl0IHdpbGwgYmUgZW5jb2RlZCBhcyBBU0NJSVxuICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPT09IDgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZmlyc3RCeXRlID0gYml0cy5yZWFkQml0cyg4KTtcbiAgICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPT09IDI1NCkgeyAvLyBVbmxhdGNoIGNvZGV3b3JkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wYXJzZVR3b0J5dGVzKGZpcnN0Qnl0ZSwgYml0cy5yZWFkQml0cyg4KSwgY1ZhbHVlcyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjVmFsdWUgPSBjVmFsdWVzW2ldO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoY1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogLy8gWDEyIHNlZ21lbnQgdGVybWluYXRvciA8Q1I+XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKCdcXHInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6IC8vIFgxMiBzZWdtZW50IHNlcGFyYXRvciAqXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKCcqJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiAvLyBYMTIgc3ViLWVsZW1lbnQgc2VwYXJhdG9yID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoJz4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IC8vIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKCcgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjVmFsdWUgPCAxNCkgeyAvLyAwIC0gOVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nLmZyb21DaGFyQ29kZShjVmFsdWUgKyA0NCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY1ZhbHVlIDwgNDApIHsgLy8gQSAtIFpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKFN0cmluZy5mcm9tQ2hhckNvZGUoY1ZhbHVlICsgNTEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoYml0cy5hdmFpbGFibGUoKSA+IDApO1xuICAgIH07XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZVR3b0J5dGVzID0gZnVuY3Rpb24gKGZpcnN0Qnl0ZSwgc2Vjb25kQnl0ZSwgcmVzdWx0KSB7XG4gICAgICAgIHZhciBmdWxsQml0VmFsdWUgPSAoZmlyc3RCeXRlIDw8IDgpICsgc2Vjb25kQnl0ZSAtIDE7XG4gICAgICAgIHZhciB0ZW1wID0gTWF0aC5mbG9vcihmdWxsQml0VmFsdWUgLyAxNjAwKTtcbiAgICAgICAgcmVzdWx0WzBdID0gdGVtcDtcbiAgICAgICAgZnVsbEJpdFZhbHVlIC09IHRlbXAgKiAxNjAwO1xuICAgICAgICB0ZW1wID0gTWF0aC5mbG9vcihmdWxsQml0VmFsdWUgLyA0MCk7XG4gICAgICAgIHJlc3VsdFsxXSA9IHRlbXA7XG4gICAgICAgIHJlc3VsdFsyXSA9IGZ1bGxCaXRWYWx1ZSAtIHRlbXAgKiA0MDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZSBJU08gMTYwMjI6MjAwNiwgNS4yLjggYW5kIEFubmV4IEMgVGFibGUgQy4zXG4gICAgICovXG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVFZGlmYWN0U2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgb25seSB0d28gb3IgbGVzcyBieXRlcyBsZWZ0IHRoZW4gaXQgd2lsbCBiZSBlbmNvZGVkIGFzIEFTQ0lJXG4gICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8PSAxNikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVkaWZhY3RWYWx1ZSA9IGJpdHMucmVhZEJpdHMoNik7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSB1bmxhdGNoIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgIGlmIChlZGlmYWN0VmFsdWUgPT09IDB4MUYpIHsgLy8gMDExMTExXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlYWQgcmVzdCBvZiBieXRlLCB3aGljaCBzaG91bGQgYmUgMCwgYW5kIHN0b3BcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJpdHNMZWZ0ID0gOCAtIGJpdHMuZ2V0Qml0T2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRzTGVmdCAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0cy5yZWFkQml0cyhiaXRzTGVmdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKGVkaWZhY3RWYWx1ZSAmIDB4MjApID09PSAwKSB7IC8vIG5vIDEgaW4gdGhlIGxlYWRpbmcgKDZ0aCkgYml0XG4gICAgICAgICAgICAgICAgICAgIGVkaWZhY3RWYWx1ZSB8PSAweDQwOyAvLyBBZGQgYSBsZWFkaW5nIDAxIHRvIHRoZSA2IGJpdCBiaW5hcnkgdmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmcuZnJvbUNoYXJDb2RlKGVkaWZhY3RWYWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChiaXRzLmF2YWlsYWJsZSgpID4gMCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWUgSVNPIDE2MDIyOjIwMDYsIDUuMi45IGFuZCBBbm5leCBCLCBCLjJcbiAgICAgKi9cbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUJhc2UyNTZTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgYnl0ZVNlZ21lbnRzKSB7XG4gICAgICAgIC8vIEZpZ3VyZSBvdXQgaG93IGxvbmcgdGhlIEJhc2UgMjU2IFNlZ21lbnQgaXMuXG4gICAgICAgIHZhciBjb2Rld29yZFBvc2l0aW9uID0gMSArIGJpdHMuZ2V0Qnl0ZU9mZnNldCgpOyAvLyBwb3NpdGlvbiBpcyAxLWluZGV4ZWRcbiAgICAgICAgdmFyIGQxID0gdGhpcy51bnJhbmRvbWl6ZTI1NVN0YXRlKGJpdHMucmVhZEJpdHMoOCksIGNvZGV3b3JkUG9zaXRpb24rKyk7XG4gICAgICAgIHZhciBjb3VudDtcbiAgICAgICAgaWYgKGQxID09PSAwKSB7IC8vIFJlYWQgdGhlIHJlbWFpbmRlciBvZiB0aGUgc3ltYm9sXG4gICAgICAgICAgICBjb3VudCA9IGJpdHMuYXZhaWxhYmxlKCkgLyA4IHwgMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkMSA8IDI1MCkge1xuICAgICAgICAgICAgY291bnQgPSBkMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ID0gMjUwICogKGQxIC0gMjQ5KSArIHRoaXMudW5yYW5kb21pemUyNTVTdGF0ZShiaXRzLnJlYWRCaXRzKDgpLCBjb2Rld29yZFBvc2l0aW9uKyspO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlJ3JlIHNlZWluZyBOZWdhdGl2ZUFycmF5U2l6ZUV4Y2VwdGlvbiBlcnJvcnMgZnJvbSB1c2Vycy5cbiAgICAgICAgaWYgKGNvdW50IDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGNvdW50KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAvLyBIYXZlIHNlZW4gdGhpcyBwYXJ0aWN1bGFyIGVycm9yIGluIHRoZSB3aWxkLCBzdWNoIGFzIGF0XG4gICAgICAgICAgICAvLyBodHRwOi8vd3d3LmJjZ2VuLmNvbS9kZW1vL0lEQXV0b21hdGlvblN0cmVhbWluZ0RhdGFNYXRyaXguYXNweD9NT0RFPTMmRD1GcmVkJlBGTVQ9MyZQVD1GJlg9MC4zJk89MCZMTT0wLjJcbiAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgOCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ5dGVzW2ldID0gdGhpcy51bnJhbmRvbWl6ZTI1NVN0YXRlKGJpdHMucmVhZEJpdHMoOCksIGNvZGV3b3JkUG9zaXRpb24rKyk7XG4gICAgICAgIH1cbiAgICAgICAgYnl0ZVNlZ21lbnRzLnB1c2goYnl0ZXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZy5kZWNvZGUoYnl0ZXMsIFN0cmluZ1V0aWxzLklTTzg4NTkxKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKHVlZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignUGxhdGZvcm0gZG9lcyBub3Qgc3VwcG9ydCByZXF1aXJlZCBlbmNvZGluZzogJyArIHVlZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VlIElTTyAxNjAyMjoyMDA2LCBBbm5leCBCLCBCLjJcbiAgICAgKi9cbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnVucmFuZG9taXplMjU1U3RhdGUgPSBmdW5jdGlvbiAocmFuZG9taXplZEJhc2UyNTZDb2Rld29yZCwgYmFzZTI1NkNvZGV3b3JkUG9zaXRpb24pIHtcbiAgICAgICAgdmFyIHBzZXVkb1JhbmRvbU51bWJlciA9ICgoMTQ5ICogYmFzZTI1NkNvZGV3b3JkUG9zaXRpb24pICUgMjU1KSArIDE7XG4gICAgICAgIHZhciB0ZW1wVmFyaWFibGUgPSByYW5kb21pemVkQmFzZTI1NkNvZGV3b3JkIC0gcHNldWRvUmFuZG9tTnVtYmVyO1xuICAgICAgICByZXR1cm4gdGVtcFZhcmlhYmxlID49IDAgPyB0ZW1wVmFyaWFibGUgOiB0ZW1wVmFyaWFibGUgKyAyNTY7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWUgSVNPIDE2MDIyOjIwMDYsIEFubmV4IEMgVGFibGUgQy4xXG4gICAgICogVGhlIEM0MCBCYXNpYyBDaGFyYWN0ZXIgU2V0ICgqJ3MgdXNlZCBmb3IgcGxhY2Vob2xkZXJzIGZvciB0aGUgc2hpZnQgdmFsdWVzKVxuICAgICAqL1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQzQwX0JBU0lDX1NFVF9DSEFSUyA9IFtcbiAgICAgICAgJyonLCAnKicsICcqJywgJyAnLCAnMCcsICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsXG4gICAgICAgICdBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLFxuICAgICAgICAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXG4gICAgXTtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkM0MF9TSElGVDJfU0VUX0NIQVJTID0gW1xuICAgICAgICAnIScsICdcIicsICcjJywgJyQnLCAnJScsICcmJywgJ1xcJycsICcoJywgJyknLCAnKicsICcrJywgJywnLCAnLScsICcuJyxcbiAgICAgICAgJy8nLCAnOicsICc7JywgJzwnLCAnPScsICc+JywgJz8nLCAnQCcsICdbJywgJ1xcXFwnLCAnXScsICdeJywgJ18nXG4gICAgXTtcbiAgICAvKipcbiAgICAgKiBTZWUgSVNPIDE2MDIyOjIwMDYsIEFubmV4IEMgVGFibGUgQy4yXG4gICAgICogVGhlIFRleHQgQmFzaWMgQ2hhcmFjdGVyIFNldCAoKidzIHVzZWQgZm9yIHBsYWNlaG9sZGVycyBmb3IgdGhlIHNoaWZ0IHZhbHVlcylcbiAgICAgKi9cbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlRFWFRfQkFTSUNfU0VUX0NIQVJTID0gW1xuICAgICAgICAnKicsICcqJywgJyonLCAnICcsICcwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JyxcbiAgICAgICAgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJywgJ2cnLCAnaCcsICdpJywgJ2onLCAnaycsICdsJywgJ20nLCAnbicsXG4gICAgICAgICdvJywgJ3AnLCAncScsICdyJywgJ3MnLCAndCcsICd1JywgJ3YnLCAndycsICd4JywgJ3knLCAneidcbiAgICBdO1xuICAgIC8vIFNoaWZ0IDIgZm9yIFRleHQgaXMgdGhlIHNhbWUgZW5jb2RpbmcgYXMgQzQwXG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5URVhUX1NISUZUMl9TRVRfQ0hBUlMgPSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkM0MF9TSElGVDJfU0VUX0NIQVJTO1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuVEVYVF9TSElGVDNfU0VUX0NIQVJTID0gW1xuICAgICAgICAnYCcsICdBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLFxuICAgICAgICAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onLCAneycsICd8JywgJ30nLCAnficsIFN0cmluZy5mcm9tQ2hhckNvZGUoMTI3KVxuICAgIF07XG4gICAgcmV0dXJuIERlY29kZWRCaXRTdHJlYW1QYXJzZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZWRCaXRTdHJlYW1QYXJzZXIuanMubWFwIiwidmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuaW1wb3J0IENoZWNrc3VtRXhjZXB0aW9uIGZyb20gJy4uLy4uL0NoZWNrc3VtRXhjZXB0aW9uJztcbmltcG9ydCBHZW5lcmljR0YgZnJvbSAnLi4vLi4vY29tbW9uL3JlZWRzb2xvbW9uL0dlbmVyaWNHRic7XG5pbXBvcnQgUmVlZFNvbG9tb25EZWNvZGVyIGZyb20gJy4uLy4uL2NvbW1vbi9yZWVkc29sb21vbi9SZWVkU29sb21vbkRlY29kZXInO1xuaW1wb3J0IEJpdE1hdHJpeFBhcnNlciBmcm9tICcuL0JpdE1hdHJpeFBhcnNlcic7XG5pbXBvcnQgRGF0YUJsb2NrIGZyb20gJy4vRGF0YUJsb2NrJztcbmltcG9ydCBEZWNvZGVkQml0U3RyZWFtUGFyc2VyIGZyb20gJy4vRGVjb2RlZEJpdFN0cmVhbVBhcnNlcic7XG4vKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogPHA+VGhlIG1haW4gY2xhc3Mgd2hpY2ggaW1wbGVtZW50cyBEYXRhIE1hdHJpeCBDb2RlIGRlY29kaW5nIC0tIGFzIG9wcG9zZWQgdG8gbG9jYXRpbmcgYW5kIGV4dHJhY3RpbmdcbiAqIHRoZSBEYXRhIE1hdHJpeCBDb2RlIGZyb20gYW4gaW1hZ2UuPC9wPlxuICpcbiAqIEBhdXRob3IgYmJyb3duQGdvb2dsZS5jb20gKEJyaWFuIEJyb3duKVxuICovXG52YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWNvZGVyKCkge1xuICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXIoR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1Nik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIDxwPkRlY29kZXMgYSBEYXRhIE1hdHJpeCBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciBcInRydWVcIiBpcyB0YWtlblxuICAgICAqIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIGJpdHMgYm9vbGVhbnMgcmVwcmVzZW50aW5nIHdoaXRlL2JsYWNrIERhdGEgTWF0cml4IENvZGUgbW9kdWxlc1xuICAgICAqIEByZXR1cm4gdGV4dCBhbmQgYnl0ZXMgZW5jb2RlZCB3aXRoaW4gdGhlIERhdGEgTWF0cml4IENvZGVcbiAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiB0aGUgRGF0YSBNYXRyaXggQ29kZSBjYW5ub3QgYmUgZGVjb2RlZFxuICAgICAqIEB0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24gaWYgZXJyb3IgY29ycmVjdGlvbiBmYWlsc1xuICAgICAqL1xuICAgIERlY29kZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChiaXRzKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAvLyBDb25zdHJ1Y3QgYSBwYXJzZXIgYW5kIHJlYWQgdmVyc2lvbiwgZXJyb3ItY29ycmVjdGlvbiBsZXZlbFxuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IEJpdE1hdHJpeFBhcnNlcihiaXRzKTtcbiAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIuZ2V0VmVyc2lvbigpO1xuICAgICAgICAvLyBSZWFkIGNvZGV3b3Jkc1xuICAgICAgICB2YXIgY29kZXdvcmRzID0gcGFyc2VyLnJlYWRDb2Rld29yZHMoKTtcbiAgICAgICAgLy8gU2VwYXJhdGUgaW50byBkYXRhIGJsb2Nrc1xuICAgICAgICB2YXIgZGF0YUJsb2NrcyA9IERhdGFCbG9jay5nZXREYXRhQmxvY2tzKGNvZGV3b3JkcywgdmVyc2lvbik7XG4gICAgICAgIC8vIENvdW50IHRvdGFsIG51bWJlciBvZiBkYXRhIGJ5dGVzXG4gICAgICAgIHZhciB0b3RhbEJ5dGVzID0gMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGRhdGFCbG9ja3NfMSA9IF9fdmFsdWVzKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzFfMSA9IGRhdGFCbG9ja3NfMS5uZXh0KCk7ICFkYXRhQmxvY2tzXzFfMS5kb25lOyBkYXRhQmxvY2tzXzFfMSA9IGRhdGFCbG9ja3NfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGIgPSBkYXRhQmxvY2tzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICB0b3RhbEJ5dGVzICs9IGRiLmdldE51bURhdGFDb2Rld29yZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7XG4gICAgICAgIHZhciBkYXRhQmxvY2tzQ291bnQgPSBkYXRhQmxvY2tzLmxlbmd0aDtcbiAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YUJsb2Nrc0NvdW50OyBqKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRhQmxvY2sgPSBkYXRhQmxvY2tzW2pdO1xuICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7XG4gICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGRhdGFCbG9jay5nZXROdW1EYXRhQ29kZXdvcmRzKCk7XG4gICAgICAgICAgICB0aGlzLmNvcnJlY3RFcnJvcnMoY29kZXdvcmRCeXRlcywgbnVtRGF0YUNvZGV3b3Jkcyk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIERlLWludGVybGFjZSBkYXRhIGJsb2Nrcy5cbiAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tpICogZGF0YUJsb2Nrc0NvdW50ICsgal0gPSBjb2Rld29yZEJ5dGVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIERlY29kZSB0aGUgY29udGVudHMgb2YgdGhhdCBzdHJlYW0gb2YgYnl0ZXNcbiAgICAgICAgcmV0dXJuIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlKHJlc3VsdEJ5dGVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDxwPkdpdmVuIGRhdGEgYW5kIGVycm9yLWNvcnJlY3Rpb24gY29kZXdvcmRzIHJlY2VpdmVkLCBwb3NzaWJseSBjb3JydXB0ZWQgYnkgZXJyb3JzLCBhdHRlbXB0cyB0b1xuICAgICAqIGNvcnJlY3QgdGhlIGVycm9ycyBpbi1wbGFjZSB1c2luZyBSZWVkLVNvbG9tb24gZXJyb3IgY29ycmVjdGlvbi48L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29kZXdvcmRCeXRlcyBkYXRhIGFuZCBlcnJvciBjb3JyZWN0aW9uIGNvZGV3b3Jkc1xuICAgICAqIEBwYXJhbSBudW1EYXRhQ29kZXdvcmRzIG51bWJlciBvZiBjb2Rld29yZHMgdGhhdCBhcmUgZGF0YSBieXRlc1xuICAgICAqIEB0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24gaWYgZXJyb3IgY29ycmVjdGlvbiBmYWlsc1xuICAgICAqL1xuICAgIERlY29kZXIucHJvdG90eXBlLmNvcnJlY3RFcnJvcnMgPSBmdW5jdGlvbiAoY29kZXdvcmRCeXRlcywgbnVtRGF0YUNvZGV3b3Jkcykge1xuICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDtcbiAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHNcbiAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTtcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Db2Rld29yZHM7IGkrKykge1xuICAgICAgICAvLyAgIGNvZGV3b3Jkc0ludHNbaV0gPSBjb2Rld29yZEJ5dGVzW2ldICYgMHhGRjtcbiAgICAgICAgLy8gfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5yc0RlY29kZXIuZGVjb2RlKGNvZGV3b3Jkc0ludHMsIGNvZGV3b3JkQnl0ZXMubGVuZ3RoIC0gbnVtRGF0YUNvZGV3b3Jkcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyogUmVlZFNvbG9tb25FeGNlcHRpb24gKi8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDaGVja3N1bUV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENvcHkgYmFjayBpbnRvIGFycmF5IG9mIGJ5dGVzIC0tIG9ubHkgbmVlZCB0byB3b3JyeSBhYm91dCB0aGUgYnl0ZXMgdGhhdCB3ZXJlIGRhdGFcbiAgICAgICAgLy8gV2UgZG9uJ3QgY2FyZSBhYm91dCBlcnJvcnMgaW4gdGhlIGVycm9yLWNvcnJlY3Rpb24gY29kZXdvcmRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtRGF0YUNvZGV3b3JkczsgaSsrKSB7XG4gICAgICAgICAgICBjb2Rld29yZEJ5dGVzW2ldID0gY29kZXdvcmRzSW50c1tpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlY29kZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGVjb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZXIuanMubWFwIiwiaW1wb3J0IFdoaXRlUmVjdGFuZ2xlRGV0ZWN0b3IgZnJvbSAnLi4vLi4vY29tbW9uL2RldGVjdG9yL1doaXRlUmVjdGFuZ2xlRGV0ZWN0b3InO1xuaW1wb3J0IERldGVjdG9yUmVzdWx0IGZyb20gJy4uLy4uL2NvbW1vbi9EZXRlY3RvclJlc3VsdCc7XG5pbXBvcnQgR3JpZFNhbXBsZXJJbnN0YW5jZSBmcm9tICcuLi8uLi9jb21tb24vR3JpZFNhbXBsZXJJbnN0YW5jZSc7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuaW1wb3J0IFJlc3VsdFBvaW50IGZyb20gJy4uLy4uL1Jlc3VsdFBvaW50Jztcbi8qXG4gKiBDb3B5cmlnaHQgMjAwOCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgRGF0YSBNYXRyaXggQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgRGF0YSBNYXRyaXggQ29kZVxuICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICAgICAgdGhpcy5yZWN0YW5nbGVEZXRlY3RvciA9IG5ldyBXaGl0ZVJlY3RhbmdsZURldGVjdG9yKHRoaXMuaW1hZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiA8cD5EZXRlY3RzIGEgRGF0YSBNYXRyaXggQ29kZSBpbiBhbiBpbWFnZS48L3A+XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtAbGluayBEZXRlY3RvclJlc3VsdH0gZW5jYXBzdWxhdGluZyByZXN1bHRzIG9mIGRldGVjdGluZyBhIERhdGEgTWF0cml4IENvZGVcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIG5vIERhdGEgTWF0cml4IENvZGUgY2FuIGJlIGZvdW5kXG4gICAgICovXG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmRldGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvcm5lclBvaW50cyA9IHRoaXMucmVjdGFuZ2xlRGV0ZWN0b3IuZGV0ZWN0KCk7XG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmRldGVjdFNvbGlkMShjb3JuZXJQb2ludHMpO1xuICAgICAgICBwb2ludHMgPSB0aGlzLmRldGVjdFNvbGlkMihwb2ludHMpO1xuICAgICAgICBwb2ludHNbM10gPSB0aGlzLmNvcnJlY3RUb3BSaWdodChwb2ludHMpO1xuICAgICAgICBpZiAoIXBvaW50c1szXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcG9pbnRzID0gdGhpcy5zaGlmdFRvTW9kdWxlQ2VudGVyKHBvaW50cyk7XG4gICAgICAgIHZhciB0b3BMZWZ0ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1sxXTtcbiAgICAgICAgdmFyIGJvdHRvbVJpZ2h0ID0gcG9pbnRzWzJdO1xuICAgICAgICB2YXIgdG9wUmlnaHQgPSBwb2ludHNbM107XG4gICAgICAgIHZhciBkaW1lbnNpb25Ub3AgPSB0aGlzLnRyYW5zaXRpb25zQmV0d2Vlbih0b3BMZWZ0LCB0b3BSaWdodCkgKyAxO1xuICAgICAgICB2YXIgZGltZW5zaW9uUmlnaHQgPSB0aGlzLnRyYW5zaXRpb25zQmV0d2Vlbihib3R0b21SaWdodCwgdG9wUmlnaHQpICsgMTtcbiAgICAgICAgaWYgKChkaW1lbnNpb25Ub3AgJiAweDAxKSA9PT0gMSkge1xuICAgICAgICAgICAgZGltZW5zaW9uVG9wICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChkaW1lbnNpb25SaWdodCAmIDB4MDEpID09PSAxKSB7XG4gICAgICAgICAgICBkaW1lbnNpb25SaWdodCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICg0ICogZGltZW5zaW9uVG9wIDwgNyAqIGRpbWVuc2lvblJpZ2h0ICYmIDQgKiBkaW1lbnNpb25SaWdodCA8IDcgKiBkaW1lbnNpb25Ub3ApIHtcbiAgICAgICAgICAgIC8vIFRoZSBtYXRyaXggaXMgc3F1YXJlXG4gICAgICAgICAgICBkaW1lbnNpb25Ub3AgPSBkaW1lbnNpb25SaWdodCA9IE1hdGgubWF4KGRpbWVuc2lvblRvcCwgZGltZW5zaW9uUmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiaXRzID0gRGV0ZWN0b3Iuc2FtcGxlR3JpZCh0aGlzLmltYWdlLCB0b3BMZWZ0LCBib3R0b21MZWZ0LCBib3R0b21SaWdodCwgdG9wUmlnaHQsIGRpbWVuc2lvblRvcCwgZGltZW5zaW9uUmlnaHQpO1xuICAgICAgICByZXR1cm4gbmV3IERldGVjdG9yUmVzdWx0KGJpdHMsIFt0b3BMZWZ0LCBib3R0b21MZWZ0LCBib3R0b21SaWdodCwgdG9wUmlnaHRdKTtcbiAgICB9O1xuICAgIERldGVjdG9yLnNoaWZ0UG9pbnQgPSBmdW5jdGlvbiAocG9pbnQsIHRvLCBkaXYpIHtcbiAgICAgICAgdmFyIHggPSAodG8uZ2V0WCgpIC0gcG9pbnQuZ2V0WCgpKSAvIChkaXYgKyAxKTtcbiAgICAgICAgdmFyIHkgPSAodG8uZ2V0WSgpIC0gcG9pbnQuZ2V0WSgpKSAvIChkaXYgKyAxKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXN1bHRQb2ludChwb2ludC5nZXRYKCkgKyB4LCBwb2ludC5nZXRZKCkgKyB5KTtcbiAgICB9O1xuICAgIERldGVjdG9yLm1vdmVBd2F5ID0gZnVuY3Rpb24gKHBvaW50LCBmcm9tWCwgZnJvbVkpIHtcbiAgICAgICAgdmFyIHggPSBwb2ludC5nZXRYKCk7XG4gICAgICAgIHZhciB5ID0gcG9pbnQuZ2V0WSgpO1xuICAgICAgICBpZiAoeCA8IGZyb21YKSB7XG4gICAgICAgICAgICB4IC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgPCBmcm9tWSkge1xuICAgICAgICAgICAgeSAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeSArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzdWx0UG9pbnQoeCwgeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3QgYSBzb2xpZCBzaWRlIHdoaWNoIGhhcyBtaW5pbXVtIHRyYW5zaXRpb24uXG4gICAgICovXG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmRldGVjdFNvbGlkMSA9IGZ1bmN0aW9uIChjb3JuZXJQb2ludHMpIHtcbiAgICAgICAgLy8gMCAgMlxuICAgICAgICAvLyAxICAzXG4gICAgICAgIHZhciBwb2ludEEgPSBjb3JuZXJQb2ludHNbMF07XG4gICAgICAgIHZhciBwb2ludEIgPSBjb3JuZXJQb2ludHNbMV07XG4gICAgICAgIHZhciBwb2ludEMgPSBjb3JuZXJQb2ludHNbM107XG4gICAgICAgIHZhciBwb2ludEQgPSBjb3JuZXJQb2ludHNbMl07XG4gICAgICAgIHZhciB0ckFCID0gdGhpcy50cmFuc2l0aW9uc0JldHdlZW4ocG9pbnRBLCBwb2ludEIpO1xuICAgICAgICB2YXIgdHJCQyA9IHRoaXMudHJhbnNpdGlvbnNCZXR3ZWVuKHBvaW50QiwgcG9pbnRDKTtcbiAgICAgICAgdmFyIHRyQ0QgPSB0aGlzLnRyYW5zaXRpb25zQmV0d2Vlbihwb2ludEMsIHBvaW50RCk7XG4gICAgICAgIHZhciB0ckRBID0gdGhpcy50cmFuc2l0aW9uc0JldHdlZW4ocG9pbnRELCBwb2ludEEpO1xuICAgICAgICAvLyAwLi4zXG4gICAgICAgIC8vIDogIDpcbiAgICAgICAgLy8gMS0tMlxuICAgICAgICB2YXIgbWluID0gdHJBQjtcbiAgICAgICAgdmFyIHBvaW50cyA9IFtwb2ludEQsIHBvaW50QSwgcG9pbnRCLCBwb2ludENdO1xuICAgICAgICBpZiAobWluID4gdHJCQykge1xuICAgICAgICAgICAgbWluID0gdHJCQztcbiAgICAgICAgICAgIHBvaW50c1swXSA9IHBvaW50QTtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHBvaW50QjtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHBvaW50QztcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHBvaW50RDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWluID4gdHJDRCkge1xuICAgICAgICAgICAgbWluID0gdHJDRDtcbiAgICAgICAgICAgIHBvaW50c1swXSA9IHBvaW50QjtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHBvaW50QztcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHBvaW50RDtcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHBvaW50QTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWluID4gdHJEQSkge1xuICAgICAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRDO1xuICAgICAgICAgICAgcG9pbnRzWzFdID0gcG9pbnREO1xuICAgICAgICAgICAgcG9pbnRzWzJdID0gcG9pbnRBO1xuICAgICAgICAgICAgcG9pbnRzWzNdID0gcG9pbnRCO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3QgYSBzZWNvbmQgc29saWQgc2lkZSBuZXh0IHRvIGZpcnN0IHNvbGlkIHNpZGUuXG4gICAgICovXG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmRldGVjdFNvbGlkMiA9IGZ1bmN0aW9uIChwb2ludHMpIHtcbiAgICAgICAgLy8gQS4uRFxuICAgICAgICAvLyA6ICA6XG4gICAgICAgIC8vIEItLUNcbiAgICAgICAgdmFyIHBvaW50QSA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIHBvaW50QiA9IHBvaW50c1sxXTtcbiAgICAgICAgdmFyIHBvaW50QyA9IHBvaW50c1syXTtcbiAgICAgICAgdmFyIHBvaW50RCA9IHBvaW50c1szXTtcbiAgICAgICAgLy8gVHJhbnNpdGlvbiBkZXRlY3Rpb24gb24gdGhlIGVkZ2UgaXMgbm90IHN0YWJsZS5cbiAgICAgICAgLy8gVG8gc2FmZWx5IGRldGVjdCwgc2hpZnQgdGhlIHBvaW50cyB0byB0aGUgbW9kdWxlIGNlbnRlci5cbiAgICAgICAgdmFyIHRyID0gdGhpcy50cmFuc2l0aW9uc0JldHdlZW4ocG9pbnRBLCBwb2ludEQpO1xuICAgICAgICB2YXIgcG9pbnRCcyA9IERldGVjdG9yLnNoaWZ0UG9pbnQocG9pbnRCLCBwb2ludEMsICh0ciArIDEpICogNCk7XG4gICAgICAgIHZhciBwb2ludENzID0gRGV0ZWN0b3Iuc2hpZnRQb2ludChwb2ludEMsIHBvaW50QiwgKHRyICsgMSkgKiA0KTtcbiAgICAgICAgdmFyIHRyQkEgPSB0aGlzLnRyYW5zaXRpb25zQmV0d2Vlbihwb2ludEJzLCBwb2ludEEpO1xuICAgICAgICB2YXIgdHJDRCA9IHRoaXMudHJhbnNpdGlvbnNCZXR3ZWVuKHBvaW50Q3MsIHBvaW50RCk7XG4gICAgICAgIC8vIDAuLjNcbiAgICAgICAgLy8gfCAgOlxuICAgICAgICAvLyAxLS0yXG4gICAgICAgIGlmICh0ckJBIDwgdHJDRCkge1xuICAgICAgICAgICAgLy8gc29saWQgc2lkZXM6IEEtQi1DXG4gICAgICAgICAgICBwb2ludHNbMF0gPSBwb2ludEE7XG4gICAgICAgICAgICBwb2ludHNbMV0gPSBwb2ludEI7XG4gICAgICAgICAgICBwb2ludHNbMl0gPSBwb2ludEM7XG4gICAgICAgICAgICBwb2ludHNbM10gPSBwb2ludEQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzb2xpZCBzaWRlczogQi1DLURcbiAgICAgICAgICAgIHBvaW50c1swXSA9IHBvaW50QjtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHBvaW50QztcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHBvaW50RDtcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHBvaW50QTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgY29ybmVyIHBvc2l0aW9uIG9mIHRoZSB3aGl0ZSB0b3AgcmlnaHQgbW9kdWxlLlxuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5jb3JyZWN0VG9wUmlnaHQgPSBmdW5jdGlvbiAocG9pbnRzKSB7XG4gICAgICAgIC8vIEEuLkRcbiAgICAgICAgLy8gfCAgOlxuICAgICAgICAvLyBCLS1DXG4gICAgICAgIHZhciBwb2ludEEgPSBwb2ludHNbMF07XG4gICAgICAgIHZhciBwb2ludEIgPSBwb2ludHNbMV07XG4gICAgICAgIHZhciBwb2ludEMgPSBwb2ludHNbMl07XG4gICAgICAgIHZhciBwb2ludEQgPSBwb2ludHNbM107XG4gICAgICAgIC8vIHNoaWZ0IHBvaW50cyBmb3Igc2FmZSB0cmFuc2l0aW9uIGRldGVjdGlvbi5cbiAgICAgICAgdmFyIHRyVG9wID0gdGhpcy50cmFuc2l0aW9uc0JldHdlZW4ocG9pbnRBLCBwb2ludEQpO1xuICAgICAgICB2YXIgdHJSaWdodCA9IHRoaXMudHJhbnNpdGlvbnNCZXR3ZWVuKHBvaW50QiwgcG9pbnREKTtcbiAgICAgICAgdmFyIHBvaW50QXMgPSBEZXRlY3Rvci5zaGlmdFBvaW50KHBvaW50QSwgcG9pbnRCLCAodHJSaWdodCArIDEpICogNCk7XG4gICAgICAgIHZhciBwb2ludENzID0gRGV0ZWN0b3Iuc2hpZnRQb2ludChwb2ludEMsIHBvaW50QiwgKHRyVG9wICsgMSkgKiA0KTtcbiAgICAgICAgdHJUb3AgPSB0aGlzLnRyYW5zaXRpb25zQmV0d2Vlbihwb2ludEFzLCBwb2ludEQpO1xuICAgICAgICB0clJpZ2h0ID0gdGhpcy50cmFuc2l0aW9uc0JldHdlZW4ocG9pbnRDcywgcG9pbnREKTtcbiAgICAgICAgdmFyIGNhbmRpZGF0ZTEgPSBuZXcgUmVzdWx0UG9pbnQocG9pbnRELmdldFgoKSArIChwb2ludEMuZ2V0WCgpIC0gcG9pbnRCLmdldFgoKSkgLyAodHJUb3AgKyAxKSwgcG9pbnRELmdldFkoKSArIChwb2ludEMuZ2V0WSgpIC0gcG9pbnRCLmdldFkoKSkgLyAodHJUb3AgKyAxKSk7XG4gICAgICAgIHZhciBjYW5kaWRhdGUyID0gbmV3IFJlc3VsdFBvaW50KHBvaW50RC5nZXRYKCkgKyAocG9pbnRBLmdldFgoKSAtIHBvaW50Qi5nZXRYKCkpIC8gKHRyUmlnaHQgKyAxKSwgcG9pbnRELmdldFkoKSArIChwb2ludEEuZ2V0WSgpIC0gcG9pbnRCLmdldFkoKSkgLyAodHJSaWdodCArIDEpKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoY2FuZGlkYXRlMSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoY2FuZGlkYXRlMikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKGNhbmRpZGF0ZTIpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3VtYzEgPSB0aGlzLnRyYW5zaXRpb25zQmV0d2Vlbihwb2ludEFzLCBjYW5kaWRhdGUxKSArIHRoaXMudHJhbnNpdGlvbnNCZXR3ZWVuKHBvaW50Q3MsIGNhbmRpZGF0ZTEpO1xuICAgICAgICB2YXIgc3VtYzIgPSB0aGlzLnRyYW5zaXRpb25zQmV0d2Vlbihwb2ludEFzLCBjYW5kaWRhdGUyKSArIHRoaXMudHJhbnNpdGlvbnNCZXR3ZWVuKHBvaW50Q3MsIGNhbmRpZGF0ZTIpO1xuICAgICAgICBpZiAoc3VtYzEgPiBzdW1jMikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlMjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2hpZnQgdGhlIGVkZ2UgcG9pbnRzIHRvIHRoZSBtb2R1bGUgY2VudGVyLlxuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5zaGlmdFRvTW9kdWxlQ2VudGVyID0gZnVuY3Rpb24gKHBvaW50cykge1xuICAgICAgICAvLyBBLi5EXG4gICAgICAgIC8vIHwgIDpcbiAgICAgICAgLy8gQi0tQ1xuICAgICAgICB2YXIgcG9pbnRBID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgcG9pbnRCID0gcG9pbnRzWzFdO1xuICAgICAgICB2YXIgcG9pbnRDID0gcG9pbnRzWzJdO1xuICAgICAgICB2YXIgcG9pbnREID0gcG9pbnRzWzNdO1xuICAgICAgICAvLyBjYWxjdWxhdGUgcHNldWRvIGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIGRpbUggPSB0aGlzLnRyYW5zaXRpb25zQmV0d2Vlbihwb2ludEEsIHBvaW50RCkgKyAxO1xuICAgICAgICB2YXIgZGltViA9IHRoaXMudHJhbnNpdGlvbnNCZXR3ZWVuKHBvaW50QywgcG9pbnREKSArIDE7XG4gICAgICAgIC8vIHNoaWZ0IHBvaW50cyBmb3Igc2FmZSBkaW1lbnNpb24gZGV0ZWN0aW9uXG4gICAgICAgIHZhciBwb2ludEFzID0gRGV0ZWN0b3Iuc2hpZnRQb2ludChwb2ludEEsIHBvaW50QiwgZGltViAqIDQpO1xuICAgICAgICB2YXIgcG9pbnRDcyA9IERldGVjdG9yLnNoaWZ0UG9pbnQocG9pbnRDLCBwb2ludEIsIGRpbUggKiA0KTtcbiAgICAgICAgLy8gIGNhbGN1bGF0ZSBtb3JlIHByZWNpc2UgZGltZW5zaW9uc1xuICAgICAgICBkaW1IID0gdGhpcy50cmFuc2l0aW9uc0JldHdlZW4ocG9pbnRBcywgcG9pbnREKSArIDE7XG4gICAgICAgIGRpbVYgPSB0aGlzLnRyYW5zaXRpb25zQmV0d2Vlbihwb2ludENzLCBwb2ludEQpICsgMTtcbiAgICAgICAgaWYgKChkaW1IICYgMHgwMSkgPT09IDEpIHtcbiAgICAgICAgICAgIGRpbUggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGRpbVYgJiAweDAxKSA9PT0gMSkge1xuICAgICAgICAgICAgZGltViArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoaXRlUmVjdGFuZ2xlRGV0ZWN0b3IgcmV0dXJucyBwb2ludHMgaW5zaWRlIG9mIHRoZSByZWN0YW5nbGUuXG4gICAgICAgIC8vIEkgd2FudCBwb2ludHMgb24gdGhlIGVkZ2VzLlxuICAgICAgICB2YXIgY2VudGVyWCA9IChwb2ludEEuZ2V0WCgpICsgcG9pbnRCLmdldFgoKSArIHBvaW50Qy5nZXRYKCkgKyBwb2ludEQuZ2V0WCgpKSAvIDQ7XG4gICAgICAgIHZhciBjZW50ZXJZID0gKHBvaW50QS5nZXRZKCkgKyBwb2ludEIuZ2V0WSgpICsgcG9pbnRDLmdldFkoKSArIHBvaW50RC5nZXRZKCkpIC8gNDtcbiAgICAgICAgcG9pbnRBID0gRGV0ZWN0b3IubW92ZUF3YXkocG9pbnRBLCBjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgICAgcG9pbnRCID0gRGV0ZWN0b3IubW92ZUF3YXkocG9pbnRCLCBjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgICAgcG9pbnRDID0gRGV0ZWN0b3IubW92ZUF3YXkocG9pbnRDLCBjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgICAgcG9pbnREID0gRGV0ZWN0b3IubW92ZUF3YXkocG9pbnRELCBjZW50ZXJYLCBjZW50ZXJZKTtcbiAgICAgICAgdmFyIHBvaW50QnM7XG4gICAgICAgIHZhciBwb2ludERzO1xuICAgICAgICAvLyBzaGlmdCBwb2ludHMgdG8gdGhlIGNlbnRlciBvZiBlYWNoIG1vZHVsZXNcbiAgICAgICAgcG9pbnRBcyA9IERldGVjdG9yLnNoaWZ0UG9pbnQocG9pbnRBLCBwb2ludEIsIGRpbVYgKiA0KTtcbiAgICAgICAgcG9pbnRBcyA9IERldGVjdG9yLnNoaWZ0UG9pbnQocG9pbnRBcywgcG9pbnRELCBkaW1IICogNCk7XG4gICAgICAgIHBvaW50QnMgPSBEZXRlY3Rvci5zaGlmdFBvaW50KHBvaW50QiwgcG9pbnRBLCBkaW1WICogNCk7XG4gICAgICAgIHBvaW50QnMgPSBEZXRlY3Rvci5zaGlmdFBvaW50KHBvaW50QnMsIHBvaW50QywgZGltSCAqIDQpO1xuICAgICAgICBwb2ludENzID0gRGV0ZWN0b3Iuc2hpZnRQb2ludChwb2ludEMsIHBvaW50RCwgZGltViAqIDQpO1xuICAgICAgICBwb2ludENzID0gRGV0ZWN0b3Iuc2hpZnRQb2ludChwb2ludENzLCBwb2ludEIsIGRpbUggKiA0KTtcbiAgICAgICAgcG9pbnREcyA9IERldGVjdG9yLnNoaWZ0UG9pbnQocG9pbnRELCBwb2ludEMsIGRpbVYgKiA0KTtcbiAgICAgICAgcG9pbnREcyA9IERldGVjdG9yLnNoaWZ0UG9pbnQocG9pbnREcywgcG9pbnRBLCBkaW1IICogNCk7XG4gICAgICAgIHJldHVybiBbcG9pbnRBcywgcG9pbnRCcywgcG9pbnRDcywgcG9pbnREc107XG4gICAgfTtcbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiBwLmdldFgoKSA+PSAwICYmIHAuZ2V0WCgpIDwgdGhpcy5pbWFnZS5nZXRXaWR0aCgpICYmIHAuZ2V0WSgpID4gMCAmJiBwLmdldFkoKSA8IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCk7XG4gICAgfTtcbiAgICBEZXRlY3Rvci5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCB0b3BMZWZ0LCBib3R0b21MZWZ0LCBib3R0b21SaWdodCwgdG9wUmlnaHQsIGRpbWVuc2lvblgsIGRpbWVuc2lvblkpIHtcbiAgICAgICAgdmFyIHNhbXBsZXIgPSBHcmlkU2FtcGxlckluc3RhbmNlLmdldEluc3RhbmNlKCk7XG4gICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWQoaW1hZ2UsIGRpbWVuc2lvblgsIGRpbWVuc2lvblksIDAuNSwgMC41LCBkaW1lbnNpb25YIC0gMC41LCAwLjUsIGRpbWVuc2lvblggLSAwLjUsIGRpbWVuc2lvblkgLSAwLjUsIDAuNSwgZGltZW5zaW9uWSAtIDAuNSwgdG9wTGVmdC5nZXRYKCksIHRvcExlZnQuZ2V0WSgpLCB0b3BSaWdodC5nZXRYKCksIHRvcFJpZ2h0LmdldFkoKSwgYm90dG9tUmlnaHQuZ2V0WCgpLCBib3R0b21SaWdodC5nZXRZKCksIGJvdHRvbUxlZnQuZ2V0WCgpLCBib3R0b21MZWZ0LmdldFkoKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb3VudHMgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZSB0cmFuc2l0aW9ucyBiZXR3ZWVuIHR3byBwb2ludHMsIHVzaW5nIHNvbWV0aGluZyBsaWtlIEJyZXNlbmhhbSdzIGFsZ29yaXRobS5cbiAgICAgKi9cbiAgICBEZXRlY3Rvci5wcm90b3R5cGUudHJhbnNpdGlvbnNCZXR3ZWVuID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgICAgIC8vIFNlZSBRUiBDb2RlIERldGVjdG9yLCBzaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oKVxuICAgICAgICB2YXIgZnJvbVggPSBNYXRoLnRydW5jKGZyb20uZ2V0WCgpKTtcbiAgICAgICAgdmFyIGZyb21ZID0gTWF0aC50cnVuYyhmcm9tLmdldFkoKSk7XG4gICAgICAgIHZhciB0b1ggPSBNYXRoLnRydW5jKHRvLmdldFgoKSk7XG4gICAgICAgIHZhciB0b1kgPSBNYXRoLnRydW5jKHRvLmdldFkoKSk7XG4gICAgICAgIHZhciBzdGVlcCA9IE1hdGguYWJzKHRvWSAtIGZyb21ZKSA+IE1hdGguYWJzKHRvWCAtIGZyb21YKTtcbiAgICAgICAgaWYgKHN0ZWVwKSB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IGZyb21YO1xuICAgICAgICAgICAgZnJvbVggPSBmcm9tWTtcbiAgICAgICAgICAgIGZyb21ZID0gdGVtcDtcbiAgICAgICAgICAgIHRlbXAgPSB0b1g7XG4gICAgICAgICAgICB0b1ggPSB0b1k7XG4gICAgICAgICAgICB0b1kgPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkeCA9IE1hdGguYWJzKHRvWCAtIGZyb21YKTtcbiAgICAgICAgdmFyIGR5ID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpO1xuICAgICAgICB2YXIgZXJyb3IgPSAtZHggLyAyO1xuICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTtcbiAgICAgICAgdmFyIHhzdGVwID0gZnJvbVggPCB0b1ggPyAxIDogLTE7XG4gICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7XG4gICAgICAgIHZhciBpbkJsYWNrID0gdGhpcy5pbWFnZS5nZXQoc3RlZXAgPyBmcm9tWSA6IGZyb21YLCBzdGVlcCA/IGZyb21YIDogZnJvbVkpO1xuICAgICAgICBmb3IgKHZhciB4ID0gZnJvbVgsIHkgPSBmcm9tWTsgeCAhPT0gdG9YOyB4ICs9IHhzdGVwKSB7XG4gICAgICAgICAgICB2YXIgaXNCbGFjayA9IHRoaXMuaW1hZ2UuZ2V0KHN0ZWVwID8geSA6IHgsIHN0ZWVwID8geCA6IHkpO1xuICAgICAgICAgICAgaWYgKGlzQmxhY2sgIT09IGluQmxhY2spIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9ucysrO1xuICAgICAgICAgICAgICAgIGluQmxhY2sgPSBpc0JsYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXJyb3IgKz0gZHk7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeSArPSB5c3RlcDtcbiAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhbnNpdGlvbnM7XG4gICAgfTtcbiAgICByZXR1cm4gRGV0ZWN0b3I7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGV0ZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZXRlY3Rvci5qcy5tYXAiLCJpbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuLi9CYXJjb2RlRm9ybWF0JztcbmltcG9ydCBCaXRNYXRyaXggZnJvbSAnLi4vY29tbW9uL0JpdE1hdHJpeCc7XG5pbXBvcnQgRGVjb2RlSGludFR5cGUgZnJvbSAnLi4vRGVjb2RlSGludFR5cGUnO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBSZXN1bHQgZnJvbSAnLi4vUmVzdWx0JztcbmltcG9ydCBSZXN1bHRNZXRhZGF0YVR5cGUgZnJvbSAnLi4vUmVzdWx0TWV0YWRhdGFUeXBlJztcbmltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vdXRpbC9TeXN0ZW0nO1xuaW1wb3J0IERlY29kZXIgZnJvbSAnLi9kZWNvZGVyL0RlY29kZXInO1xuaW1wb3J0IERldGVjdG9yIGZyb20gJy4vZGV0ZWN0b3IvRGV0ZWN0b3InO1xuLypcbiAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoaXMgaW1wbGVtZW50YXRpb24gY2FuIGRldGVjdCBhbmQgZGVjb2RlIERhdGEgTWF0cml4IGNvZGVzIGluIGFuIGltYWdlLlxuICpcbiAqIEBhdXRob3IgYmJyb3duQGdvb2dsZS5jb20gKEJyaWFuIEJyb3duKVxuICovXG52YXIgRGF0YU1hdHJpeFJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRhTWF0cml4UmVhZGVyKCkge1xuICAgICAgICB0aGlzLmRlY29kZXIgPSBuZXcgRGVjb2RlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgRGF0YSBNYXRyaXggY29kZSBpbiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb250ZW50IGVuY29kZWQgYnkgdGhlIERhdGEgTWF0cml4IGNvZGVcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIGEgRGF0YSBNYXRyaXggY29kZSBjYW5ub3QgYmUgZm91bmRcbiAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBhIERhdGEgTWF0cml4IGNvZGUgY2Fubm90IGJlIGRlY29kZWRcbiAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHNcbiAgICAgKi9cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICAvLyBwdWJsaWMgUmVzdWx0IGRlY29kZShCaW5hcnlCaXRtYXAgaW1hZ2UpIHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiB7XG4gICAgLy8gICByZXR1cm4gZGVjb2RlKGltYWdlLCBudWxsKTtcbiAgICAvLyB9XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgRGF0YU1hdHJpeFJlYWRlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGltYWdlLCBoaW50cykge1xuICAgICAgICBpZiAoaGludHMgPT09IHZvaWQgMCkgeyBoaW50cyA9IG51bGw7IH1cbiAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7XG4gICAgICAgIHZhciBwb2ludHM7XG4gICAgICAgIGlmIChoaW50cyAhPSBudWxsICYmIGhpbnRzLmhhcyhEZWNvZGVIaW50VHlwZS5QVVJFX0JBUkNPREUpKSB7XG4gICAgICAgICAgICB2YXIgYml0cyA9IERhdGFNYXRyaXhSZWFkZXIuZXh0cmFjdFB1cmVCaXRzKGltYWdlLmdldEJsYWNrTWF0cml4KCkpO1xuICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGUoYml0cyk7XG4gICAgICAgICAgICBwb2ludHMgPSBEYXRhTWF0cml4UmVhZGVyLk5PX1BPSU5UUztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkZXRlY3RvclJlc3VsdCA9IG5ldyBEZXRlY3RvcihpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoKTtcbiAgICAgICAgICAgIGRlY29kZXJSZXN1bHQgPSB0aGlzLmRlY29kZXIuZGVjb2RlKGRldGVjdG9yUmVzdWx0LmdldEJpdHMoKSk7XG4gICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmF3Qnl0ZXMgPSBkZWNvZGVyUmVzdWx0LmdldFJhd0J5dGVzKCk7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0KGRlY29kZXJSZXN1bHQuZ2V0VGV4dCgpLCByYXdCeXRlcywgOCAqIHJhd0J5dGVzLmxlbmd0aCwgcG9pbnRzLCBCYXJjb2RlRm9ybWF0LkRBVEFfTUFUUklYLCBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKSk7XG4gICAgICAgIHZhciBieXRlU2VnbWVudHMgPSBkZWNvZGVyUmVzdWx0LmdldEJ5dGVTZWdtZW50cygpO1xuICAgICAgICBpZiAoYnl0ZVNlZ21lbnRzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGUuQllURV9TRUdNRU5UUywgYnl0ZVNlZ21lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWNMZXZlbCA9IGRlY29kZXJSZXN1bHQuZ2V0RUNMZXZlbCgpO1xuICAgICAgICBpZiAoZWNMZXZlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQucHV0TWV0YWRhdGEoUmVzdWx0TWV0YWRhdGFUeXBlLkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBEYXRhTWF0cml4UmVhZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgZGV0ZWN0cyBhIGNvZGUgaW4gYSBcInB1cmVcIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2VcbiAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlclxuICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWxcbiAgICAgKiBjYXNlLlxuICAgICAqXG4gICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5RUkNvZGVSZWFkZXIjZXh0cmFjdFB1cmVCaXRzKEJpdE1hdHJpeClcbiAgICAgKi9cbiAgICBEYXRhTWF0cml4UmVhZGVyLmV4dHJhY3RQdXJlQml0cyA9IGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICB2YXIgbGVmdFRvcEJsYWNrID0gaW1hZ2UuZ2V0VG9wTGVmdE9uQml0KCk7XG4gICAgICAgIHZhciByaWdodEJvdHRvbUJsYWNrID0gaW1hZ2UuZ2V0Qm90dG9tUmlnaHRPbkJpdCgpO1xuICAgICAgICBpZiAobGVmdFRvcEJsYWNrID09IG51bGwgfHwgcmlnaHRCb3R0b21CbGFjayA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZShsZWZ0VG9wQmxhY2ssIGltYWdlKTtcbiAgICAgICAgdmFyIHRvcCA9IGxlZnRUb3BCbGFja1sxXTtcbiAgICAgICAgdmFyIGJvdHRvbSA9IHJpZ2h0Qm90dG9tQmxhY2tbMV07XG4gICAgICAgIHZhciBsZWZ0ID0gbGVmdFRvcEJsYWNrWzBdO1xuICAgICAgICB2YXIgcmlnaHQgPSByaWdodEJvdHRvbUJsYWNrWzBdO1xuICAgICAgICB2YXIgbWF0cml4V2lkdGggPSAocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplO1xuICAgICAgICB2YXIgbWF0cml4SGVpZ2h0ID0gKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZTtcbiAgICAgICAgaWYgKG1hdHJpeFdpZHRoIDw9IDAgfHwgbWF0cml4SGVpZ2h0IDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFB1c2ggaW4gdGhlIFwiYm9yZGVyXCIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnRcbiAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGFcbiAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci5cbiAgICAgICAgdmFyIG51ZGdlID0gbW9kdWxlU2l6ZSAvIDI7XG4gICAgICAgIHRvcCArPSBudWRnZTtcbiAgICAgICAgbGVmdCArPSBudWRnZTtcbiAgICAgICAgLy8gTm93IGp1c3QgcmVhZCBvZmYgdGhlIGJpdHNcbiAgICAgICAgdmFyIGJpdHMgPSBuZXcgQml0TWF0cml4KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpO1xuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIHkgKiBtb2R1bGVTaXplO1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXRyaXhXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlLmdldChsZWZ0ICsgeCAqIG1vZHVsZVNpemUsIGlPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdHMuc2V0KHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYml0cztcbiAgICB9O1xuICAgIERhdGFNYXRyaXhSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IGltYWdlLmdldFdpZHRoKCk7XG4gICAgICAgIHZhciB4ID0gbGVmdFRvcEJsYWNrWzBdO1xuICAgICAgICB2YXIgeSA9IGxlZnRUb3BCbGFja1sxXTtcbiAgICAgICAgd2hpbGUgKHggPCB3aWR0aCAmJiBpbWFnZS5nZXQoeCwgeSkpIHtcbiAgICAgICAgICAgIHgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA9PT0gd2lkdGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb2R1bGVTaXplID0geCAtIGxlZnRUb3BCbGFja1swXTtcbiAgICAgICAgaWYgKG1vZHVsZVNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2R1bGVTaXplO1xuICAgIH07XG4gICAgRGF0YU1hdHJpeFJlYWRlci5OT19QT0lOVFMgPSBbXTtcbiAgICByZXR1cm4gRGF0YU1hdHJpeFJlYWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBEYXRhTWF0cml4UmVhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGF0YU1hdHJpeFJlYWRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEJyb3dzZXJDb2RlUmVhZGVyIH0gZnJvbSAnLi9Ccm93c2VyQ29kZVJlYWRlcic7XG5pbXBvcnQgRGF0YU1hdHJpeFJlYWRlciBmcm9tICcuLi9jb3JlL2RhdGFtYXRyaXgvRGF0YU1hdHJpeFJlYWRlcic7XG4vKipcbiAqIEBkZXByZWNhdGVkIE1vdmluZyB0byBAenhpbmcvYnJvd3NlclxuICpcbiAqIFFSIENvZGUgcmVhZGVyIHRvIHVzZSBmcm9tIGJyb3dzZXIuXG4gKi9cbnZhciBCcm93c2VyRGF0YW1hdHJpeENvZGVSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJyb3dzZXJEYXRhbWF0cml4Q29kZVJlYWRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEJyb3dzZXJRUkNvZGVSZWFkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lQmV0d2VlblNjYW5zTWlsbGlzPTUwMF0gdGhlIHRpbWUgZGVsYXkgYmV0d2VlbiBzdWJzZXF1ZW50IGRlY29kZSB0cmllc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJEYXRhbWF0cml4Q29kZVJlYWRlcih0aW1lQmV0d2VlblNjYW5zTWlsbGlzKSB7XG4gICAgICAgIGlmICh0aW1lQmV0d2VlblNjYW5zTWlsbGlzID09PSB2b2lkIDApIHsgdGltZUJldHdlZW5TY2Fuc01pbGxpcyA9IDUwMDsgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbmV3IERhdGFNYXRyaXhSZWFkZXIoKSwgdGltZUJldHdlZW5TY2Fuc01pbGxpcykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJyb3dzZXJEYXRhbWF0cml4Q29kZVJlYWRlcjtcbn0oQnJvd3NlckNvZGVSZWFkZXIpKTtcbmV4cG9ydCB7IEJyb3dzZXJEYXRhbWF0cml4Q29kZVJlYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckRhdGFtYXRyaXhDb2RlUmVhZGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki9cbmltcG9ydCBBcmd1bWVudEV4Y2VwdGlvbiBmcm9tICcuLi8uLi9Bcmd1bWVudEV4Y2VwdGlvbic7XG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uLy4uL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG5leHBvcnQgdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzO1xuKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykge1xuICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW1wiTFwiXSA9IDBdID0gXCJMXCI7XG4gICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbXCJNXCJdID0gMV0gPSBcIk1cIjtcbiAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tcIlFcIl0gPSAyXSA9IFwiUVwiO1xuICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW1wiSFwiXSA9IDNdID0gXCJIXCI7XG59KShFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgPSB7fSkpO1xuLyoqXG4gKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNS4xLiBUaGlzIGVudW0gZW5jYXBzdWxhdGVzIHRoZSBmb3VyIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWxzXG4gKiBkZWZpbmVkIGJ5IHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgRXJyb3JDb3JyZWN0aW9uTGV2ZWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXJyb3JDb3JyZWN0aW9uTGV2ZWwodmFsdWUsIHN0cmluZ1ZhbHVlLCBiaXRzIC8qaW50Ki8pIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnN0cmluZ1ZhbHVlID0gc3RyaW5nVmFsdWU7XG4gICAgICAgIHRoaXMuYml0cyA9IGJpdHM7XG4gICAgICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTtcbiAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFLnNldCh2YWx1ZSwgdGhpcyk7XG4gICAgfVxuICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYml0cztcbiAgICB9O1xuICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLmZyb21TdHJpbmcgPSBmdW5jdGlvbiAocykge1xuICAgICAgICBzd2l0Y2ggKHMpIHtcbiAgICAgICAgICAgIGNhc2UgJ0wnOiByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuTDtcbiAgICAgICAgICAgIGNhc2UgJ00nOiByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuTTtcbiAgICAgICAgICAgIGNhc2UgJ1EnOiByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuUTtcbiAgICAgICAgICAgIGNhc2UgJ0gnOiByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuSDtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBBcmd1bWVudEV4Y2VwdGlvbihzICsgJ25vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTtcbiAgICB9O1xuICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykge1xuICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG90aGVyID0gbztcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWxcbiAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsXG4gICAgICovXG4gICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHtcbiAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfQklUUy5nZXQoYml0cyk7XG4gICAgfTtcbiAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfQklUUyA9IG5ldyBNYXAoKTtcbiAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7XG4gICAgLyoqIEwgPSB+NyUgY29ycmVjdGlvbiAqL1xuICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLkwgPSBuZXcgRXJyb3JDb3JyZWN0aW9uTGV2ZWwoRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMuTCwgJ0wnLCAweDAxKTtcbiAgICAvKiogTSA9IH4xNSUgY29ycmVjdGlvbiAqL1xuICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLk0gPSBuZXcgRXJyb3JDb3JyZWN0aW9uTGV2ZWwoRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMuTSwgJ00nLCAweDAwKTtcbiAgICAvKiogUSA9IH4yNSUgY29ycmVjdGlvbiAqL1xuICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLlEgPSBuZXcgRXJyb3JDb3JyZWN0aW9uTGV2ZWwoRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMuUSwgJ1EnLCAweDAzKTtcbiAgICAvKiogSCA9IH4zMCUgY29ycmVjdGlvbiAqL1xuICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLkggPSBuZXcgRXJyb3JDb3JyZWN0aW9uTGV2ZWwoRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMuSCwgJ0gnLCAweDAyKTtcbiAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRXJyb3JDb3JyZWN0aW9uTGV2ZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FcnJvckNvcnJlY3Rpb25MZXZlbC5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovXG5pbXBvcnQgRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZnJvbSAnLi9FcnJvckNvcnJlY3Rpb25MZXZlbCc7XG5pbXBvcnQgSW50ZWdlciBmcm9tICcuLi8uLi91dGlsL0ludGVnZXInO1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZFxuICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqIEBzZWUgRGF0YU1hc2tcbiAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWxcbiAqL1xudmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykge1xuICAgICAgICAvLyBCaXRzIDMsNFxuICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cygoZm9ybWF0SW5mbyA+PiAzKSAmIDB4MDMpO1xuICAgICAgICAvLyBCb3R0b20gMyBiaXRzXG4gICAgICAgIHRoaXMuZGF0YU1hc2sgPSAvKihieXRlKSAqLyAoZm9ybWF0SW5mbyAmIDB4MDcpO1xuICAgIH1cbiAgICBGb3JtYXRJbmZvcm1hdGlvbi5udW1CaXRzRGlmZmVyaW5nID0gZnVuY3Rpb24gKGEgLyppbnQqLywgYiAvKmludCovKSB7XG4gICAgICAgIHJldHVybiBJbnRlZ2VyLmJpdENvdW50KGEgXiBiKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtYXNrZWRGb3JtYXRJbmZvMSBmb3JtYXQgaW5mbyBpbmRpY2F0b3IsIHdpdGggbWFzayBzdGlsbCBhcHBsaWVkXG4gICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8yIHNlY29uZCBjb3B5IG9mIHNhbWUgaW5mbzsgYm90aCBhcmUgY2hlY2tlZCBhdCB0aGUgc2FtZSB0aW1lXG4gICAgICogIHRvIGVzdGFibGlzaCBiZXN0IG1hdGNoXG4gICAgICogQHJldHVybiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZm9ybWF0IGl0IHNwZWNpZmllcywgb3Ige0Bjb2RlIG51bGx9XG4gICAgICogIGlmIGRvZXNuJ3Qgc2VlbSB0byBtYXRjaCBhbnkga25vd24gcGF0dGVyblxuICAgICAqL1xuICAgIEZvcm1hdEluZm9ybWF0aW9uLmRlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHtcbiAgICAgICAgdmFyIGZvcm1hdEluZm8gPSBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uKG1hc2tlZEZvcm1hdEluZm8xLCBtYXNrZWRGb3JtYXRJbmZvMik7XG4gICAgICAgIGlmIChmb3JtYXRJbmZvICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0SW5mbztcbiAgICAgICAgfVxuICAgICAgICAvLyBTaG91bGQgcmV0dXJuIG51bGwsIGJ1dCwgc29tZSBRUiBjb2RlcyBhcHBhcmVudGx5XG4gICAgICAgIC8vIGRvIG5vdCBtYXNrIHRoaXMgaW5mby4gVHJ5IGFnYWluIGJ5IGFjdHVhbGx5IG1hc2tpbmcgdGhlIHBhdHRlcm5cbiAgICAgICAgLy8gZmlyc3RcbiAgICAgICAgcmV0dXJuIEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEgXiBGb3JtYXRJbmZvcm1hdGlvbi5GT1JNQVRfSU5GT19NQVNLX1FSLCBtYXNrZWRGb3JtYXRJbmZvMiBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIpO1xuICAgIH07XG4gICAgRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uIChtYXNrZWRGb3JtYXRJbmZvMSAvKmludCovLCBtYXNrZWRGb3JtYXRJbmZvMiAvKmludCovKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAvLyBGaW5kIHRoZSBpbnQgaW4gRk9STUFUX0lORk9fREVDT0RFX0xPT0tVUCB3aXRoIGZld2VzdCBiaXRzIGRpZmZlcmluZ1xuICAgICAgICB2YXIgYmVzdERpZmZlcmVuY2UgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICAgICAgdmFyIGJlc3RGb3JtYXRJbmZvID0gMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fREVDT0RFX0xPT0tVUCksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVjb2RlSW5mbyA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRJbmZvID0gZGVjb2RlSW5mb1swXTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0SW5mbyA9PT0gbWFza2VkRm9ybWF0SW5mbzEgfHwgdGFyZ2V0SW5mbyA9PT0gbWFza2VkRm9ybWF0SW5mbzIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm91bmQgYW4gZXhhY3QgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGb3JtYXRJbmZvcm1hdGlvbihkZWNvZGVJbmZvWzFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMSwgdGFyZ2V0SW5mbyk7XG4gICAgICAgICAgICAgICAgaWYgKGJpdHNEaWZmZXJlbmNlIDwgYmVzdERpZmZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdEZvcm1hdEluZm8gPSBkZWNvZGVJbmZvWzFdO1xuICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWFza2VkRm9ybWF0SW5mbzEgIT09IG1hc2tlZEZvcm1hdEluZm8yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsc28gdHJ5IHRoZSBvdGhlciBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbi5udW1CaXRzRGlmZmVyaW5nKG1hc2tlZEZvcm1hdEluZm8yLCB0YXJnZXRJbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHNEaWZmZXJlbmNlIDwgYmVzdERpZmZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3REaWZmZXJlbmNlID0gYml0c0RpZmZlcmVuY2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIYW1taW5nIGRpc3RhbmNlIG9mIHRoZSAzMiBtYXNrZWQgY29kZXMgaXMgNywgYnkgY29uc3RydWN0aW9uLCBzbyA8PSAzIGJpdHNcbiAgICAgICAgLy8gZGlmZmVyaW5nIG1lYW5zIHdlIGZvdW5kIGEgbWF0Y2hcbiAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oYmVzdEZvcm1hdEluZm8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmdldEVycm9yQ29ycmVjdGlvbkxldmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbDtcbiAgICB9O1xuICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXREYXRhTWFzayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YU1hc2s7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWwuZ2V0Qml0cygpIDw8IDMpIHwgdGhpcy5kYXRhTWFzaztcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEZvcm1hdEluZm9ybWF0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdGhlciA9IG87XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID09PSBvdGhlci5lcnJvckNvcnJlY3Rpb25MZXZlbCAmJlxuICAgICAgICAgICAgdGhpcy5kYXRhTWFzayA9PT0gb3RoZXIuZGF0YU1hc2s7XG4gICAgfTtcbiAgICBGb3JtYXRJbmZvcm1hdGlvbi5GT1JNQVRfSU5GT19NQVNLX1FSID0gMHg1NDEyO1xuICAgIC8qKlxuICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgQW5uZXggQywgVGFibGUgQy4xXG4gICAgICovXG4gICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fREVDT0RFX0xPT0tVUCA9IFtcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDU0MTIsIDB4MDBdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDUxMjUsIDB4MDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDVFN0MsIDB4MDJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDVCNEIsIDB4MDNdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDQ1RjksIDB4MDRdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDQwQ0UsIDB4MDVdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDRGOTcsIDB4MDZdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDRBQTAsIDB4MDddKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDc3QzQsIDB4MDhdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDcyRjMsIDB4MDldKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDdEQUEsIDB4MEFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDc4OUQsIDB4MEJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDY2MkYsIDB4MENdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDYzMTgsIDB4MERdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDZDNDEsIDB4MEVdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDY5NzYsIDB4MEZdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDE2ODksIDB4MTBdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDEzQkUsIDB4MTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDFDRTcsIDB4MTJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDE5RDAsIDB4MTNdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDA3NjIsIDB4MTRdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDAyNTUsIDB4MTVdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDBEMEMsIDB4MTZdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDA4M0IsIDB4MTddKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDM1NUYsIDB4MThdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDMwNjgsIDB4MTldKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDNGMzEsIDB4MUFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDNBMDYsIDB4MUJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDI0QjQsIDB4MUNdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDIxODMsIDB4MURdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDJFREEsIDB4MUVdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsweDJCRUQsIDB4MUZdKSxcbiAgICBdO1xuICAgIHJldHVybiBGb3JtYXRJbmZvcm1hdGlvbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGb3JtYXRJbmZvcm1hdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZvcm1hdEluZm9ybWF0aW9uLmpzLm1hcCIsInZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbi8qKlxuICogPHA+RW5jYXBzdWxhdGVzIGEgc2V0IG9mIGVycm9yLWNvcnJlY3Rpb24gYmxvY2tzIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4gTW9zdCB2ZXJzaW9ucyB3aWxsXG4gKiB1c2UgYmxvY2tzIG9mIGRpZmZlcmluZyBzaXplcyB3aXRoaW4gb25lIHZlcnNpb24sIHNvLCB0aGlzIGVuY2Fwc3VsYXRlcyB0aGUgcGFyYW1ldGVycyBmb3JcbiAqIGVhY2ggc2V0IG9mIGJsb2Nrcy4gSXQgYWxzbyBob2xkcyB0aGUgbnVtYmVyIG9mIGVycm9yLWNvcnJlY3Rpb24gY29kZXdvcmRzIHBlciBibG9jayBzaW5jZSBpdFxuICogd2lsbCBiZSB0aGUgc2FtZSBhY3Jvc3MgYWxsIGJsb2NrcyB3aXRoaW4gb25lIHZlcnNpb24uPC9wPlxuICovXG52YXIgRUNCbG9ja3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRUNCbG9ja3MoZWNDb2Rld29yZHNQZXJCbG9jayAvKmludCovKSB7XG4gICAgICAgIHZhciBlY0Jsb2NrcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgZWNCbG9ja3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lY0NvZGV3b3Jkc1BlckJsb2NrID0gZWNDb2Rld29yZHNQZXJCbG9jaztcbiAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzO1xuICAgIH1cbiAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNDb2Rld29yZHNQZXJCbG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jaztcbiAgICB9O1xuICAgIEVDQmxvY2tzLnByb3RvdHlwZS5nZXROdW1CbG9ja3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgdG90YWwgPSAwO1xuICAgICAgICB2YXIgZWNCbG9ja3MgPSB0aGlzLmVjQmxvY2tzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja3NfMSA9IF9fdmFsdWVzKGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgfTtcbiAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7XG4gICAgfTtcbiAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzO1xuICAgIH07XG4gICAgcmV0dXJuIEVDQmxvY2tzO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEVDQmxvY2tzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RUNCbG9ja3MuanMubWFwIiwiLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi5cbiAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlXG4gKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD5cbiAqL1xudmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7XG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkcztcbiAgICB9XG4gICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7XG4gICAgfTtcbiAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7XG4gICAgfTtcbiAgICByZXR1cm4gRUNCO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEVDQjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVDQi5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovXG5pbXBvcnQgQml0TWF0cml4IGZyb20gJy4uLy4uL2NvbW1vbi9CaXRNYXRyaXgnO1xuaW1wb3J0IEZvcm1hdEluZm9ybWF0aW9uIGZyb20gJy4vRm9ybWF0SW5mb3JtYXRpb24nO1xuaW1wb3J0IEVDQmxvY2tzIGZyb20gJy4vRUNCbG9ja3MnO1xuaW1wb3J0IEVDQiBmcm9tICcuL0VDQic7XG5pbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uLy4uL0Zvcm1hdEV4Y2VwdGlvbic7XG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uLy4uL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG4vKipcbiAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBEXG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7XG4gICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVycztcbiAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzO1xuICAgICAgICB2YXIgdG90YWwgPSAwO1xuICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7XG4gICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMoZWNiQXJyYXkpLCBlY2JBcnJheV8xXzEgPSBlY2JBcnJheV8xLm5leHQoKTsgIWVjYkFycmF5XzFfMS5kb25lOyBlY2JBcnJheV8xXzEgPSBlY2JBcnJheV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNiQXJyYXlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IGVjQmxvY2suZ2V0Q291bnQoKSAqIChlY0Jsb2NrLmdldERhdGFDb2Rld29yZHMoKSArIGVjQ29kZXdvcmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGVjYkFycmF5XzFfMSAmJiAhZWNiQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNiQXJyYXlfMS5yZXR1cm4pKSBfYS5jYWxsKGVjYkFycmF5XzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudG90YWxDb2Rld29yZHMgPSB0b3RhbDtcbiAgICB9XG4gICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VmVyc2lvbk51bWJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbk51bWJlcjtcbiAgICB9O1xuICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEFsaWdubWVudFBhdHRlcm5DZW50ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVycztcbiAgICB9O1xuICAgIFZlcnNpb24ucHJvdG90eXBlLmdldFRvdGFsQ29kZXdvcmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b3RhbENvZGV3b3JkcztcbiAgICB9O1xuICAgIFZlcnNpb24ucHJvdG90eXBlLmdldERpbWVuc2lvbkZvclZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAxNyArIDQgKiB0aGlzLnZlcnNpb25OdW1iZXI7XG4gICAgfTtcbiAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRFQ0Jsb2Nrc0ZvckxldmVsID0gZnVuY3Rpb24gKGVjTGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWNCbG9ja3NbZWNMZXZlbC5nZXRWYWx1ZSgpXTtcbiAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG9yaWdpbmFsIHdhcyB1c2luZyBvcmRpbmFsLCBhbmQgdXNpbmcgdGhlIG9yZGVyIG9mIGxldmVscyBhcyBkZWZpbmVkIGluIEVycm9yQ29ycmVjdGlvbkxldmVsIGVudW0gKExNUUgpXG4gICAgICAgIC8vIEkgd2lsbCB1c2UgdGhlIGRpcmVjdCB2YWx1ZSBmcm9tIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzIGVudW0gd2hpY2ggaW4gdHlwZXNjcmlwdCBnb2VzIHRvIGEgbnVtYmVyXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5EZWR1Y2VzIHZlcnNpb24gaW5mb3JtYXRpb24gcHVyZWx5IGZyb20gUVIgQ29kZSBkaW1lbnNpb25zLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkaW1lbnNpb24gZGltZW5zaW9uIGluIG1vZHVsZXNcbiAgICAgKiBAcmV0dXJuIFZlcnNpb24gZm9yIGEgUVIgQ29kZSBvZiB0aGF0IGRpbWVuc2lvblxuICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGRpbWVuc2lvbiBpcyBub3QgMSBtb2QgNFxuICAgICAqL1xuICAgIFZlcnNpb24uZ2V0UHJvdmlzaW9uYWxWZXJzaW9uRm9yRGltZW5zaW9uID0gZnVuY3Rpb24gKGRpbWVuc2lvbiAvKmludCovKSB7XG4gICAgICAgIGlmIChkaW1lbnNpb24gJSA0ICE9PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZlcnNpb25Gb3JOdW1iZXIoKGRpbWVuc2lvbiAtIDE3KSAvIDQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24qLykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIgPSBmdW5jdGlvbiAodmVyc2lvbk51bWJlciAvKmludCovKSB7XG4gICAgICAgIGlmICh2ZXJzaW9uTnVtYmVyIDwgMSB8fCB2ZXJzaW9uTnVtYmVyID4gNDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVmVyc2lvbi5WRVJTSU9OU1t2ZXJzaW9uTnVtYmVyIC0gMV07XG4gICAgfTtcbiAgICBWZXJzaW9uLmRlY29kZVZlcnNpb25JbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICh2ZXJzaW9uQml0cyAvKmludCovKSB7XG4gICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICB2YXIgYmVzdFZlcnNpb24gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GTy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRhcmdldFZlcnNpb24gPSBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk9baV07XG4gICAgICAgICAgICAvLyBEbyB0aGUgdmVyc2lvbiBpbmZvIGJpdHMgbWF0Y2ggZXhhY3RseT8gZG9uZS5cbiAgICAgICAgICAgIGlmICh0YXJnZXRWZXJzaW9uID09PSB2ZXJzaW9uQml0cykge1xuICAgICAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoaSArIDcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHNlZSBpZiB0aGlzIGlzIHRoZSBjbG9zZXN0IHRvIGEgcmVhbCB2ZXJzaW9uIGluZm8gYml0IHN0cmluZ1xuICAgICAgICAgICAgLy8gd2UgaGF2ZSBzZWVuIHNvIGZhclxuICAgICAgICAgICAgdmFyIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyh2ZXJzaW9uQml0cywgdGFyZ2V0VmVyc2lvbik7XG4gICAgICAgICAgICBpZiAoYml0c0RpZmZlcmVuY2UgPCBiZXN0RGlmZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgIGJlc3RWZXJzaW9uID0gaSArIDc7XG4gICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBjYW4gdG9sZXJhdGUgdXAgdG8gMyBiaXRzIG9mIGVycm9yIHNpbmNlIG5vIHR3byB2ZXJzaW9uIGluZm8gY29kZXdvcmRzIHdpbGxcbiAgICAgICAgLy8gZGlmZmVyIGluIGxlc3MgdGhhbiA4IGJpdHMuXG4gICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7XG4gICAgICAgICAgICByZXR1cm4gVmVyc2lvbi5nZXRWZXJzaW9uRm9yTnVtYmVyKGJlc3RWZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgZmluZCBhIGNsb3NlIGVub3VnaCBtYXRjaCwgZmFpbFxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBFXG4gICAgICovXG4gICAgVmVyc2lvbi5wcm90b3R5cGUuYnVpbGRGdW5jdGlvblBhdHRlcm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmdldERpbWVuc2lvbkZvclZlcnNpb24oKTtcbiAgICAgICAgdmFyIGJpdE1hdHJpeCA9IG5ldyBCaXRNYXRyaXgoZGltZW5zaW9uKTtcbiAgICAgICAgLy8gVG9wIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXRcbiAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCAwLCA5LCA5KTtcbiAgICAgICAgLy8gVG9wIHJpZ2h0IGZpbmRlciBwYXR0ZXJuICsgc2VwYXJhdG9yICsgZm9ybWF0XG4gICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gOCwgMCwgOCwgOSk7XG4gICAgICAgIC8vIEJvdHRvbSBsZWZ0IGZpbmRlciBwYXR0ZXJuICsgc2VwYXJhdG9yICsgZm9ybWF0XG4gICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oMCwgZGltZW5zaW9uIC0gOCwgOSwgOCk7XG4gICAgICAgIC8vIEFsaWdubWVudCBwYXR0ZXJuc1xuICAgICAgICB2YXIgbWF4ID0gdGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVycy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbWF4OyB4KyspIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t4XSAtIDI7XG4gICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1heDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCh4ID09PSAwICYmICh5ID09PSAwIHx8IHkgPT09IG1heCAtIDEpKSB8fCAoeCA9PT0gbWF4IC0gMSAmJiB5ID09PSAwKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBhbGlnbm1lbnQgcGF0dGVybnMgbmVhciB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnNbeV0gLSAyLCBpLCA1LCA1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBWZXJ0aWNhbCB0aW1pbmcgcGF0dGVyblxuICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDYsIDksIDEsIGRpbWVuc2lvbiAtIDE3KTtcbiAgICAgICAgLy8gSG9yaXpvbnRhbCB0aW1pbmcgcGF0dGVyblxuICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDksIDYsIGRpbWVuc2lvbiAtIDE3LCAxKTtcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbk51bWJlciA+IDYpIHtcbiAgICAgICAgICAgIC8vIFZlcnNpb24gaW5mbywgdG9wIHJpZ2h0XG4gICAgICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKGRpbWVuc2lvbiAtIDExLCAwLCAzLCA2KTtcbiAgICAgICAgICAgIC8vIFZlcnNpb24gaW5mbywgYm90dG9tIGxlZnRcbiAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oMCwgZGltZW5zaW9uIC0gMTEsIDYsIDMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiaXRNYXRyaXg7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgVmVyc2lvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRoaXMudmVyc2lvbk51bWJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEQuXG4gICAgICAgKiBFbGVtZW50IGkgcmVwcmVzZW50cyB0aGUgcmF3IHZlcnNpb24gYml0cyB0aGF0IHNwZWNpZnkgdmVyc2lvbiBpICsgN1xuICAgICAgICovXG4gICAgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPID0gSW50MzJBcnJheS5mcm9tKFtcbiAgICAgICAgMHgwN0M5NCwgMHgwODVCQywgMHgwOUE5OSwgMHgwQTREMywgMHgwQkJGNixcbiAgICAgICAgMHgwQzc2MiwgMHgwRDg0NywgMHgwRTYwRCwgMHgwRjkyOCwgMHgxMEI3OCxcbiAgICAgICAgMHgxMTQ1RCwgMHgxMkExNywgMHgxMzUzMiwgMHgxNDlBNiwgMHgxNTY4MyxcbiAgICAgICAgMHgxNjhDOSwgMHgxNzdFQywgMHgxOEVDNCwgMHgxOTFFMSwgMHgxQUZBQixcbiAgICAgICAgMHgxQjA4RSwgMHgxQ0MxQSwgMHgxRDMzRiwgMHgxRUQ3NSwgMHgxRjI1MCxcbiAgICAgICAgMHgyMDlENSwgMHgyMTZGMCwgMHgyMjhCQSwgMHgyMzc5RiwgMHgyNEIwQixcbiAgICAgICAgMHgyNTQyRSwgMHgyNkE2NCwgMHgyNzU0MSwgMHgyOEM2OVxuICAgIF0pO1xuICAgIC8qKlxuICAgICAgICogU2VlIElTTyAxODAwNDoyMDA2IDYuNS4xIFRhYmxlIDlcbiAgICAgICAqL1xuICAgIFZlcnNpb24uVkVSU0lPTlMgPSBbXG4gICAgICAgIG5ldyBWZXJzaW9uKDEsIG5ldyBJbnQzMkFycmF5KDApLCBuZXcgRUNCbG9ja3MoNywgbmV3IEVDQigxLCAxOSkpLCBuZXcgRUNCbG9ja3MoMTAsIG5ldyBFQ0IoMSwgMTYpKSwgbmV3IEVDQmxvY2tzKDEzLCBuZXcgRUNCKDEsIDEzKSksIG5ldyBFQ0Jsb2NrcygxNywgbmV3IEVDQigxLCA5KSkpLFxuICAgICAgICBuZXcgVmVyc2lvbigyLCBJbnQzMkFycmF5LmZyb20oWzYsIDE4XSksIG5ldyBFQ0Jsb2NrcygxMCwgbmV3IEVDQigxLCAzNCkpLCBuZXcgRUNCbG9ja3MoMTYsIG5ldyBFQ0IoMSwgMjgpKSwgbmV3IEVDQmxvY2tzKDIyLCBuZXcgRUNCKDEsIDIyKSksIG5ldyBFQ0Jsb2NrcygyOCwgbmV3IEVDQigxLCAxNikpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3MoMTUsIG5ldyBFQ0IoMSwgNTUpKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDEsIDQ0KSksIG5ldyBFQ0Jsb2NrcygxOCwgbmV3IEVDQigyLCAxNykpLCBuZXcgRUNCbG9ja3MoMjIsIG5ldyBFQ0IoMiwgMTMpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDQsIEludDMyQXJyYXkuZnJvbShbNiwgMjZdKSwgbmV3IEVDQmxvY2tzKDIwLCBuZXcgRUNCKDEsIDgwKSksIG5ldyBFQ0Jsb2NrcygxOCwgbmV3IEVDQigyLCAzMikpLCBuZXcgRUNCbG9ja3MoMjYsIG5ldyBFQ0IoMiwgMjQpKSwgbmV3IEVDQmxvY2tzKDE2LCBuZXcgRUNCKDQsIDkpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDUsIEludDMyQXJyYXkuZnJvbShbNiwgMzBdKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDEsIDEwOCkpLCBuZXcgRUNCbG9ja3MoMjQsIG5ldyBFQ0IoMiwgNDMpKSwgbmV3IEVDQmxvY2tzKDE4LCBuZXcgRUNCKDIsIDE1KSwgbmV3IEVDQigyLCAxNikpLCBuZXcgRUNCbG9ja3MoMjIsIG5ldyBFQ0IoMiwgMTEpLCBuZXcgRUNCKDIsIDEyKSkpLFxuICAgICAgICBuZXcgVmVyc2lvbig2LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0XSksIG5ldyBFQ0Jsb2NrcygxOCwgbmV3IEVDQigyLCA2OCkpLCBuZXcgRUNCbG9ja3MoMTYsIG5ldyBFQ0IoNCwgMjcpKSwgbmV3IEVDQmxvY2tzKDI0LCBuZXcgRUNCKDQsIDE5KSksIG5ldyBFQ0Jsb2NrcygyOCwgbmV3IEVDQig0LCAxNSkpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oNywgSW50MzJBcnJheS5mcm9tKFs2LCAyMiwgMzhdKSwgbmV3IEVDQmxvY2tzKDIwLCBuZXcgRUNCKDIsIDc4KSksIG5ldyBFQ0Jsb2NrcygxOCwgbmV3IEVDQig0LCAzMSkpLCBuZXcgRUNCbG9ja3MoMTgsIG5ldyBFQ0IoMiwgMTQpLCBuZXcgRUNCKDQsIDE1KSksIG5ldyBFQ0Jsb2NrcygyNiwgbmV3IEVDQig0LCAxMyksIG5ldyBFQ0IoMSwgMTQpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDgsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDQyXSksIG5ldyBFQ0Jsb2NrcygyNCwgbmV3IEVDQigyLCA5NykpLCBuZXcgRUNCbG9ja3MoMjIsIG5ldyBFQ0IoMiwgMzgpLCBuZXcgRUNCKDIsIDM5KSksIG5ldyBFQ0Jsb2NrcygyMiwgbmV3IEVDQig0LCAxOCksIG5ldyBFQ0IoMiwgMTkpKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDQsIDE0KSwgbmV3IEVDQigyLCAxNSkpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oOSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDZdKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDIsIDExNikpLCBuZXcgRUNCbG9ja3MoMjIsIG5ldyBFQ0IoMywgMzYpLCBuZXcgRUNCKDIsIDM3KSksIG5ldyBFQ0Jsb2NrcygyMCwgbmV3IEVDQig0LCAxNiksIG5ldyBFQ0IoNCwgMTcpKSwgbmV3IEVDQmxvY2tzKDI0LCBuZXcgRUNCKDQsIDEyKSwgbmV3IEVDQig0LCAxMykpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2NrcygxOCwgbmV3IEVDQigyLCA2OCksIG5ldyBFQ0IoMiwgNjkpKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDQsIDQzKSwgbmV3IEVDQigxLCA0NCkpLCBuZXcgRUNCbG9ja3MoMjQsIG5ldyBFQ0IoNiwgMTkpLCBuZXcgRUNCKDIsIDIwKSksIG5ldyBFQ0Jsb2NrcygyOCwgbmV3IEVDQig2LCAxNSksIG5ldyBFQ0IoMiwgMTYpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3MoMjAsIG5ldyBFQ0IoNCwgODEpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDEsIDUwKSwgbmV3IEVDQig0LCA1MSkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoNCwgMjIpLCBuZXcgRUNCKDQsIDIzKSksIG5ldyBFQ0Jsb2NrcygyNCwgbmV3IEVDQigzLCAxMiksIG5ldyBFQ0IoOCwgMTMpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDEyLCBJbnQzMkFycmF5LmZyb20oWzYsIDMyLCA1OF0pLCBuZXcgRUNCbG9ja3MoMjQsIG5ldyBFQ0IoMiwgOTIpLCBuZXcgRUNCKDIsIDkzKSksIG5ldyBFQ0Jsb2NrcygyMiwgbmV3IEVDQig2LCAzNiksIG5ldyBFQ0IoMiwgMzcpKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDQsIDIwKSwgbmV3IEVDQig2LCAyMSkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoNywgMTQpLCBuZXcgRUNCKDQsIDE1KSkpLFxuICAgICAgICBuZXcgVmVyc2lvbigxMywgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjJdKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDQsIDEwNykpLCBuZXcgRUNCbG9ja3MoMjIsIG5ldyBFQ0IoOCwgMzcpLCBuZXcgRUNCKDEsIDM4KSksIG5ldyBFQ0Jsb2NrcygyNCwgbmV3IEVDQig4LCAyMCksIG5ldyBFQ0IoNCwgMjEpKSwgbmV3IEVDQmxvY2tzKDIyLCBuZXcgRUNCKDEyLCAxMSksIG5ldyBFQ0IoNCwgMTIpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDE0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA0NiwgNjZdKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDMsIDExNSksIG5ldyBFQ0IoMSwgMTE2KSksIG5ldyBFQ0Jsb2NrcygyNCwgbmV3IEVDQig0LCA0MCksIG5ldyBFQ0IoNSwgNDEpKSwgbmV3IEVDQmxvY2tzKDIwLCBuZXcgRUNCKDExLCAxNiksIG5ldyBFQ0IoNSwgMTcpKSwgbmV3IEVDQmxvY2tzKDI0LCBuZXcgRUNCKDExLCAxMiksIG5ldyBFQ0IoNSwgMTMpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDE1LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA0OCwgNzBdKSwgbmV3IEVDQmxvY2tzKDIyLCBuZXcgRUNCKDUsIDg3KSwgbmV3IEVDQigxLCA4OCkpLCBuZXcgRUNCbG9ja3MoMjQsIG5ldyBFQ0IoNSwgNDEpLCBuZXcgRUNCKDUsIDQyKSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQig1LCAyNCksIG5ldyBFQ0IoNywgMjUpKSwgbmV3IEVDQmxvY2tzKDI0LCBuZXcgRUNCKDExLCAxMiksIG5ldyBFQ0IoNywgMTMpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDE2LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzRdKSwgbmV3IEVDQmxvY2tzKDI0LCBuZXcgRUNCKDUsIDk4KSwgbmV3IEVDQigxLCA5OSkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoNywgNDUpLCBuZXcgRUNCKDMsIDQ2KSksIG5ldyBFQ0Jsb2NrcygyNCwgbmV3IEVDQigxNSwgMTkpLCBuZXcgRUNCKDIsIDIwKSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigzLCAxNSksIG5ldyBFQ0IoMTMsIDE2KSkpLFxuICAgICAgICBuZXcgVmVyc2lvbigxNywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4XSksIG5ldyBFQ0Jsb2NrcygyOCwgbmV3IEVDQigxLCAxMDcpLCBuZXcgRUNCKDUsIDEwOCkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMTAsIDQ2KSwgbmV3IEVDQigxLCA0NykpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMSwgMjIpLCBuZXcgRUNCKDE1LCAyMykpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMiwgMTQpLCBuZXcgRUNCKDE3LCAxNSkpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMTgsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU2LCA4Ml0pLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoNSwgMTIwKSwgbmV3IEVDQigxLCAxMjEpKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDksIDQzKSwgbmV3IEVDQig0LCA0NCkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMTcsIDIyKSwgbmV3IEVDQigxLCAyMykpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMiwgMTQpLCBuZXcgRUNCKDE5LCAxNSkpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMTksIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4Nl0pLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMywgMTEzKSwgbmV3IEVDQig0LCAxMTQpKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDMsIDQ0KSwgbmV3IEVDQigxMSwgNDUpKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDE3LCAyMSksIG5ldyBFQ0IoNCwgMjIpKSwgbmV3IEVDQmxvY2tzKDI2LCBuZXcgRUNCKDksIDEzKSwgbmV3IEVDQigxNiwgMTQpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDIwLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTBdKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDMsIDEwNyksIG5ldyBFQ0IoNSwgMTA4KSksIG5ldyBFQ0Jsb2NrcygyNiwgbmV3IEVDQigzLCA0MSksIG5ldyBFQ0IoMTMsIDQyKSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigxNSwgMjQpLCBuZXcgRUNCKDUsIDI1KSksIG5ldyBFQ0Jsb2NrcygyOCwgbmV3IEVDQigxNSwgMTUpLCBuZXcgRUNCKDEwLCAxNikpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMjEsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwLCA3MiwgOTRdKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDQsIDExNiksIG5ldyBFQ0IoNCwgMTE3KSksIG5ldyBFQ0Jsb2NrcygyNiwgbmV3IEVDQigxNywgNDIpKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDE3LCAyMiksIG5ldyBFQ0IoNiwgMjMpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDE5LCAxNiksIG5ldyBFQ0IoNiwgMTcpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2NrcygyOCwgbmV3IEVDQigyLCAxMTEpLCBuZXcgRUNCKDcsIDExMikpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMTcsIDQ2KSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQig3LCAyNCksIG5ldyBFQ0IoMTYsIDI1KSksIG5ldyBFQ0Jsb2NrcygyNCwgbmV3IEVDQigzNCwgMTMpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDIzLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMl0pLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoNCwgMTIxKSwgbmV3IEVDQig1LCAxMjIpKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDQsIDQ3KSwgbmV3IEVDQigxNCwgNDgpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDExLCAyNCksIG5ldyBFQ0IoMTQsIDI1KSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigxNiwgMTUpLCBuZXcgRUNCKDE0LCAxNikpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMjQsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2XSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQig2LCAxMTcpLCBuZXcgRUNCKDQsIDExOCkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoNiwgNDUpLCBuZXcgRUNCKDE0LCA0NikpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMTEsIDI0KSwgbmV3IEVDQigxNiwgMjUpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDMwLCAxNiksIG5ldyBFQ0IoMiwgMTcpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDI1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMyLCA1OCwgODQsIDExMF0pLCBuZXcgRUNCbG9ja3MoMjYsIG5ldyBFQ0IoOCwgMTA2KSwgbmV3IEVDQig0LCAxMDcpKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDgsIDQ3KSwgbmV3IEVDQigxMywgNDgpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDcsIDI0KSwgbmV3IEVDQigyMiwgMjUpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDIyLCAxNSksIG5ldyBFQ0IoMTMsIDE2KSkpLFxuICAgICAgICBuZXcgVmVyc2lvbigyNiwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTRdKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDEwLCAxMTQpLCBuZXcgRUNCKDIsIDExNSkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMTksIDQ2KSwgbmV3IEVDQig0LCA0NykpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMjgsIDIyKSwgbmV3IEVDQig2LCAyMykpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMzMsIDE2KSwgbmV3IEVDQig0LCAxNykpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMjcsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4XSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQig4LCAxMjIpLCBuZXcgRUNCKDQsIDEyMykpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMjIsIDQ1KSwgbmV3IEVDQigzLCA0NikpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoOCwgMjMpLCBuZXcgRUNCKDI2LCAyNCkpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMTIsIDE1KSwgbmV3IEVDQigyOCwgMTYpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDI4LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4LCAxMjJdKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDMsIDExNyksIG5ldyBFQ0IoMTAsIDExOCkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMywgNDUpLCBuZXcgRUNCKDIzLCA0NikpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoNCwgMjQpLCBuZXcgRUNCKDMxLCAyNSkpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMTEsIDE1KSwgbmV3IEVDQigzMSwgMTYpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDI5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2XSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQig3LCAxMTYpLCBuZXcgRUNCKDcsIDExNykpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMjEsIDQ1KSwgbmV3IEVDQig3LCA0NikpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMSwgMjMpLCBuZXcgRUNCKDM3LCAyNCkpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMTksIDE1KSwgbmV3IEVDQigyNiwgMTYpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDMwLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MiwgNzgsIDEwNCwgMTMwXSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQig1LCAxMTUpLCBuZXcgRUNCKDEwLCAxMTYpKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDE5LCA0NyksIG5ldyBFQ0IoMTAsIDQ4KSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigxNSwgMjQpLCBuZXcgRUNCKDI1LCAyNSkpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMjMsIDE1KSwgbmV3IEVDQigyNSwgMTYpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDMxLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODIsIDEwOCwgMTM0XSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigxMywgMTE1KSwgbmV3IEVDQigzLCAxMTYpKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDIsIDQ2KSwgbmV3IEVDQigyOSwgNDcpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDQyLCAyNCksIG5ldyBFQ0IoMSwgMjUpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDIzLCAxNSksIG5ldyBFQ0IoMjgsIDE2KSkpLFxuICAgICAgICBuZXcgVmVyc2lvbigzMiwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjAsIDg2LCAxMTIsIDEzOF0pLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMTAsIDQ2KSwgbmV3IEVDQigyMywgNDcpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDEwLCAyNCksIG5ldyBFQ0IoMzUsIDI1KSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigxOSwgMTUpLCBuZXcgRUNCKDM1LCAxNikpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDE3LCAxMTUpLCBuZXcgRUNCKDEsIDExNikpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMTQsIDQ2KSwgbmV3IEVDQigyMSwgNDcpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDI5LCAyNCksIG5ldyBFQ0IoMTksIDI1KSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigxMSwgMTUpLCBuZXcgRUNCKDQ2LCAxNikpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDEzLCAxMTUpLCBuZXcgRUNCKDYsIDExNikpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMTQsIDQ2KSwgbmV3IEVDQigyMywgNDcpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDQ0LCAyNCksIG5ldyBFQ0IoNywgMjUpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDU5LCAxNiksIG5ldyBFQ0IoMSwgMTcpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDEyLCAxMjEpLCBuZXcgRUNCKDcsIDEyMikpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoMTIsIDQ3KSwgbmV3IEVDQigyNiwgNDgpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDM5LCAyNCksIG5ldyBFQ0IoMTQsIDI1KSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigyMiwgMTUpLCBuZXcgRUNCKDQxLCAxNikpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoNiwgMTIxKSwgbmV3IEVDQigxNCwgMTIyKSksIG5ldyBFQ0Jsb2NrcygyOCwgbmV3IEVDQig2LCA0NyksIG5ldyBFQ0IoMzQsIDQ4KSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQig0NiwgMjQpLCBuZXcgRUNCKDEwLCAyNSkpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMiwgMTUpLCBuZXcgRUNCKDY0LCAxNikpKSxcbiAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMTcsIDEyMiksIG5ldyBFQ0IoNCwgMTIzKSksIG5ldyBFQ0Jsb2NrcygyOCwgbmV3IEVDQigyOSwgNDYpLCBuZXcgRUNCKDE0LCA0NykpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoNDksIDI0KSwgbmV3IEVDQigxMCwgMjUpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDI0LCAxNSksIG5ldyBFQ0IoNDYsIDE2KSkpLFxuICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQig0LCAxMjIpLCBuZXcgRUNCKDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDEzLCA0NiksIG5ldyBFQ0IoMzIsIDQ3KSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQig0OCwgMjQpLCBuZXcgRUNCKDE0LCAyNSkpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoNDIsIDE1KSwgbmV3IEVDQigzMiwgMTYpKSksXG4gICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDIwLCAxMTcpLCBuZXcgRUNCKDQsIDExOCkpLCBuZXcgRUNCbG9ja3MoMjgsIG5ldyBFQ0IoNDAsIDQ3KSwgbmV3IEVDQig3LCA0OCkpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoNDMsIDI0KSwgbmV3IEVDQigyMiwgMjUpKSwgbmV3IEVDQmxvY2tzKDMwLCBuZXcgRUNCKDEwLCAxNSksIG5ldyBFQ0IoNjcsIDE2KSkpLFxuICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigxOSwgMTE4KSwgbmV3IEVDQig2LCAxMTkpKSwgbmV3IEVDQmxvY2tzKDI4LCBuZXcgRUNCKDE4LCA0NyksIG5ldyBFQ0IoMzEsIDQ4KSksIG5ldyBFQ0Jsb2NrcygzMCwgbmV3IEVDQigzNCwgMjQpLCBuZXcgRUNCKDM0LCAyNSkpLCBuZXcgRUNCbG9ja3MoMzAsIG5ldyBFQ0IoMjAsIDE1KSwgbmV3IEVDQig2MSwgMTYpKSlcbiAgICBdO1xuICAgIHJldHVybiBWZXJzaW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFZlcnNpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WZXJzaW9uLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IHZhciBEYXRhTWFza1ZhbHVlcztcbihmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHtcbiAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1tcIkRBVEFfTUFTS18wMDBcIl0gPSAwXSA9IFwiREFUQV9NQVNLXzAwMFwiO1xuICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzW1wiREFUQV9NQVNLXzAwMVwiXSA9IDFdID0gXCJEQVRBX01BU0tfMDAxXCI7XG4gICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbXCJEQVRBX01BU0tfMDEwXCJdID0gMl0gPSBcIkRBVEFfTUFTS18wMTBcIjtcbiAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1tcIkRBVEFfTUFTS18wMTFcIl0gPSAzXSA9IFwiREFUQV9NQVNLXzAxMVwiO1xuICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzW1wiREFUQV9NQVNLXzEwMFwiXSA9IDRdID0gXCJEQVRBX01BU0tfMTAwXCI7XG4gICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbXCJEQVRBX01BU0tfMTAxXCJdID0gNV0gPSBcIkRBVEFfTUFTS18xMDFcIjtcbiAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1tcIkRBVEFfTUFTS18xMTBcIl0gPSA2XSA9IFwiREFUQV9NQVNLXzExMFwiO1xuICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzW1wiREFUQV9NQVNLXzExMVwiXSA9IDddID0gXCJEQVRBX01BU0tfMTExXCI7XG59KShEYXRhTWFza1ZhbHVlcyB8fCAoRGF0YU1hc2tWYWx1ZXMgPSB7fSkpO1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgZGF0YSBtYXNrcyBmb3IgdGhlIGRhdGEgYml0cyBpbiBhIFFSIGNvZGUsIHBlciBJU08gMTgwMDQ6MjAwNiA2LjguIEltcGxlbWVudGF0aW9uc1xuICogb2YgdGhpcyBjbGFzcyBjYW4gdW4tbWFzayBhIHJhdyBCaXRNYXRyaXguIEZvciBzaW1wbGljaXR5LCB0aGV5IHdpbGwgdW5tYXNrIHRoZSBlbnRpcmUgQml0TWF0cml4LFxuICogaW5jbHVkaW5nIGFyZWFzIHVzZWQgZm9yIGZpbmRlciBwYXR0ZXJucywgdGltaW5nIHBhdHRlcm5zLCBldGMuIFRoZXNlIGFyZWFzIHNob3VsZCBiZSB1bnVzZWRcbiAqIGFmdGVyIHRoZSBwb2ludCB0aGV5IGFyZSB1bm1hc2tlZCBhbnl3YXkuPC9wPlxuICpcbiAqIDxwPk5vdGUgdGhhdCB0aGUgZGlhZ3JhbSBpbiBzZWN0aW9uIDYuOC4xIGlzIG1pc2xlYWRpbmcgc2luY2UgaXQgaW5kaWNhdGVzIHRoYXQgaSBpcyBjb2x1bW4gcG9zaXRpb25cbiAqIGFuZCBqIGlzIHJvdyBwb3NpdGlvbi4gSW4gZmFjdCwgYXMgdGhlIHRleHQgc2F5cywgaSBpcyByb3cgcG9zaXRpb24gYW5kIGogaXMgY29sdW1uIHBvc2l0aW9uLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgRGF0YU1hc2sgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLy8gU2VlIElTTyAxODAwNDoyMDA2IDYuOC4xXG4gICAgZnVuY3Rpb24gRGF0YU1hc2sodmFsdWUsIGlzTWFza2VkKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5pc01hc2tlZCA9IGlzTWFza2VkO1xuICAgIH1cbiAgICAvLyBFbmQgb2YgZW51bSBjb25zdGFudHMuXG4gICAgLyoqXG4gICAgICogPHA+SW1wbGVtZW50YXRpb25zIG9mIHRoaXMgbWV0aG9kIHJldmVyc2UgdGhlIGRhdGEgbWFza2luZyBwcm9jZXNzIGFwcGxpZWQgdG8gYSBRUiBDb2RlIGFuZFxuICAgICAqIG1ha2UgaXRzIGJpdHMgcmVhZHkgdG8gcmVhZC48L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0gYml0cyByZXByZXNlbnRhdGlvbiBvZiBRUiBDb2RlIGJpdHNcbiAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGRpbWVuc2lvbiBvZiBRUiBDb2RlLCByZXByZXNlbnRlZCBieSBiaXRzLCBiZWluZyB1bm1hc2tlZFxuICAgICAqL1xuICAgIERhdGFNYXNrLnByb3RvdHlwZS51bm1hc2tCaXRNYXRyaXggPSBmdW5jdGlvbiAoYml0cywgZGltZW5zaW9uIC8qaW50Ki8pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaW1lbnNpb247IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkaW1lbnNpb247IGorKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzTWFza2VkKGksIGopKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdHMuZmxpcChqLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERhdGFNYXNrLnZhbHVlcyA9IG5ldyBNYXAoW1xuICAgICAgICAvKipcbiAgICAgICAgICogMDAwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4ICsgeSkgbW9kIDIgPT0gMFxuICAgICAgICAgKi9cbiAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGopICYgMHgwMSkgPT09IDA7IH0pXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIDAwMTogbWFzayBiaXRzIGZvciB3aGljaCB4IG1vZCAyID09IDBcbiAgICAgICAgICovXG4gICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAmIDB4MDEpID09PSAwOyB9KV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAwMTA6IG1hc2sgYml0cyBmb3Igd2hpY2ggeSBtb2QgMyA9PSAwXG4gICAgICAgICAqL1xuICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gaiAlIDMgPT09IDA7IH0pXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIDAxMTogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAzID09IDBcbiAgICAgICAgICovXG4gICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDExLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSArIGopICUgMyA9PT0gMDsgfSldLFxuICAgICAgICAvKipcbiAgICAgICAgICogMTAwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4LzIgKyB5LzMpIG1vZCAyID09IDBcbiAgICAgICAgICovXG4gICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKE1hdGguZmxvb3IoaSAvIDIpICsgTWF0aC5mbG9vcihqIC8gMykpICYgMHgwMSkgPT09IDA7IH0pXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIDEwMTogbWFzayBiaXRzIGZvciB3aGljaCB4eSBtb2QgMiArIHh5IG1vZCAzID09IDBcbiAgICAgICAgICogZXF1aXZhbGVudGx5LCBzdWNoIHRoYXQgeHkgbW9kIDYgPT0gMFxuICAgICAgICAgKi9cbiAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIChpICogaikgJSA2ID09PSAwOyB9KV0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAxMTA6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHh5IG1vZCAyICsgeHkgbW9kIDMpIG1vZCAyID09IDBcbiAgICAgICAgICogZXF1aXZhbGVudGx5LCBzdWNoIHRoYXQgeHkgbW9kIDYgPCAzXG4gICAgICAgICAqL1xuICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzExMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChpICogaikgJSA2KSA8IDM7IH0pXSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIDExMTogbWFzayBiaXRzIGZvciB3aGljaCAoKHgreSltb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwXG4gICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0ICh4ICsgeSArIHh5IG1vZCAzKSBtb2QgMiA9PSAwXG4gICAgICAgICAqL1xuICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzExMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChpICsgaiArICgoaSAqIGopICUgMykpICYgMHgwMSkgPT09IDA7IH0pXSxcbiAgICBdKTtcbiAgICByZXR1cm4gRGF0YU1hc2s7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGF0YU1hc2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYXRhTWFzay5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBWZXJzaW9uIGZyb20gJy4vVmVyc2lvbic7XG5pbXBvcnQgRm9ybWF0SW5mb3JtYXRpb24gZnJvbSAnLi9Gb3JtYXRJbmZvcm1hdGlvbic7XG5pbXBvcnQgRGF0YU1hc2sgZnJvbSAnLi9EYXRhTWFzayc7XG5pbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uLy4uL0Zvcm1hdEV4Y2VwdGlvbic7XG4vKipcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBCaXRNYXRyaXhQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGJpdE1hdHJpeCB7QGxpbmsgQml0TWF0cml4fSB0byBwYXJzZVxuICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGRpbWVuc2lvbiBpcyBub3QgPj0gMjEgYW5kIDEgbW9kIDRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRNYXRyaXhQYXJzZXIoYml0TWF0cml4KSB7XG4gICAgICAgIHZhciBkaW1lbnNpb24gPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7XG4gICAgICAgIGlmIChkaW1lbnNpb24gPCAyMSB8fCAoZGltZW5zaW9uICYgMHgwMykgIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJpdE1hdHJpeCA9IGJpdE1hdHJpeDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogPHA+UmVhZHMgZm9ybWF0IGluZm9ybWF0aW9uIGZyb20gb25lIG9mIGl0cyB0d28gbG9jYXRpb25zIHdpdGhpbiB0aGUgUVIgQ29kZS48L3A+XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtAbGluayBGb3JtYXRJbmZvcm1hdGlvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIGZvcm1hdCBpbmZvXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYm90aCBmb3JtYXQgaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXNcbiAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgZm9ybWF0IGluZm9ybWF0aW9uXG4gICAgICovXG4gICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZWFkRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRGb3JtYXRJbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVhZCB0b3AtbGVmdCBmb3JtYXQgaW5mbyBiaXRzXG4gICAgICAgIHZhciBmb3JtYXRJbmZvQml0czEgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgICAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KGksIDgsIGZvcm1hdEluZm9CaXRzMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gLi4gYW5kIHNraXAgYSBiaXQgaW4gdGhlIHRpbWluZyBwYXR0ZXJuIC4uLlxuICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoNywgOCwgZm9ybWF0SW5mb0JpdHMxKTtcbiAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDgsIGZvcm1hdEluZm9CaXRzMSk7XG4gICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg4LCA3LCBmb3JtYXRJbmZvQml0czEpO1xuICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uXG4gICAgICAgIGZvciAodmFyIGogPSA1OyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIGosIGZvcm1hdEluZm9CaXRzMSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVhZCB0aGUgdG9wLXJpZ2h0L2JvdHRvbS1sZWZ0IHBhdHRlcm4gdG9vXG4gICAgICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmJpdE1hdHJpeC5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMiA9IDA7XG4gICAgICAgIHZhciBqTWluID0gZGltZW5zaW9uIC0gNztcbiAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDE7IGogPj0gak1pbjsgai0tKSB7XG4gICAgICAgICAgICBmb3JtYXRJbmZvQml0czIgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMyKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gODsgaSA8IGRpbWVuc2lvbjsgaSsrKSB7XG4gICAgICAgICAgICBmb3JtYXRJbmZvQml0czIgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcnNlZEZvcm1hdEluZm8gPSBGb3JtYXRJbmZvcm1hdGlvbi5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7XG4gICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPlxuICAgICAqXG4gICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb25cbiAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXNcbiAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpO1xuICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7XG4gICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikge1xuICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbFxuICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwO1xuICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbi5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpO1xuICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247XG4gICAgICAgIH1cbiAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbFxuICAgICAgICB2ZXJzaW9uQml0cyA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkge1xuICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbi5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpO1xuICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgIH07XG4gICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7XG4gICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopO1xuICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZVxuICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZVxuICAgICAqIFFSIENvZGUuPC9wPlxuICAgICAqXG4gICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZVxuICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWRcbiAgICAgKi9cbiAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTtcbiAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7XG4gICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZVxuICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC5cbiAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2sudmFsdWVzLmdldChmb3JtYXRJbmZvLmdldERhdGFNYXNrKCkpO1xuICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7XG4gICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTtcbiAgICAgICAgdmFyIGZ1bmN0aW9uUGF0dGVybiA9IHZlcnNpb24uYnVpbGRGdW5jdGlvblBhdHRlcm4oKTtcbiAgICAgICAgdmFyIHJlYWRpbmdVcCA9IHRydWU7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheSh2ZXJzaW9uLmdldFRvdGFsQ29kZXdvcmRzKCkpO1xuICAgICAgICB2YXIgcmVzdWx0T2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnRCeXRlID0gMDtcbiAgICAgICAgdmFyIGJpdHNSZWFkID0gMDtcbiAgICAgICAgLy8gUmVhZCBjb2x1bW5zIGluIHBhaXJzLCBmcm9tIHJpZ2h0IHRvIGxlZnRcbiAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDE7IGogPiAwOyBqIC09IDIpIHtcbiAgICAgICAgICAgIGlmIChqID09PSA2KSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCB3aG9sZSBjb2x1bW4gd2l0aCB2ZXJ0aWNhbCBhbGlnbm1lbnQgcGF0dGVyblxuICAgICAgICAgICAgICAgIC8vIHNhdmVzIHRpbWUgYW5kIG1ha2VzIHRoZSBvdGhlciBjb2RlIHByb2NlZWQgbW9yZSBjbGVhbmx5XG4gICAgICAgICAgICAgICAgai0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVhZCBhbHRlcm5hdGluZ2x5IGZyb20gYm90dG9tIHRvIHRvcCB0aGVuIHRvcCB0byBib3R0b21cbiAgICAgICAgICAgIGZvciAodmFyIGNvdW50ID0gMDsgY291bnQgPCBkaW1lbnNpb247IGNvdW50KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHJlYWRpbmdVcCA/IGRpbWVuc2lvbiAtIDEgLSBjb3VudCA6IGNvdW50O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IDI7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBiaXRzIGNvdmVyZWQgYnkgdGhlIGZ1bmN0aW9uIHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmdW5jdGlvblBhdHRlcm4uZ2V0KGogLSBjb2wsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIGEgYml0XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPDw9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iaXRNYXRyaXguZ2V0KGogLSBjb2wsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgfD0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlJ3ZlIG1hZGUgYSB3aG9sZSBieXRlLCBzYXZlIGl0IG9mZlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHNSZWFkID09PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdE9mZnNldCsrXSA9IC8qKGJ5dGUpICovIGN1cnJlbnRCeXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdHNSZWFkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Qnl0ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkaW5nVXAgPSAhcmVhZGluZ1VwOyAvLyByZWFkaW5nVXAgXj0gdHJ1ZTsgLy8gcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gc3dpdGNoIGRpcmVjdGlvbnNcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0T2Zmc2V0ICE9PSB2ZXJzaW9uLmdldFRvdGFsQ29kZXdvcmRzKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV2ZXJ0IHRoZSBtYXNrIHJlbW92YWwgZG9uZSB3aGlsZSByZWFkaW5nIHRoZSBjb2RlIHdvcmRzLiBUaGUgYml0IG1hdHJpeCBzaG91bGQgcmV2ZXJ0IHRvIGl0cyBvcmlnaW5hbCBzdGF0ZS5cbiAgICAgKi9cbiAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlbWFzayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBXZSBoYXZlIG5vIGZvcm1hdCBpbmZvcm1hdGlvbiwgYW5kIGhhdmUgbm8gZGF0YSBtYXNrXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2sudmFsdWVzW3RoaXMucGFyc2VkRm9ybWF0SW5mby5nZXREYXRhTWFzaygpXTtcbiAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpO1xuICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHRoZSBwYXJzZXIgZm9yIGEgbWlycm9yZWQgb3BlcmF0aW9uLlxuICAgICAqIFRoaXMgZmxhZyBoYXMgZWZmZWN0IG9ubHkgb24gdGhlIHtAbGluayAjcmVhZEZvcm1hdEluZm9ybWF0aW9uKCl9IGFuZCB0aGVcbiAgICAgKiB7QGxpbmsgI3JlYWRWZXJzaW9uKCl9LiBCZWZvcmUgcHJvY2VlZGluZyB3aXRoIHtAbGluayAjcmVhZENvZGV3b3JkcygpfSB0aGVcbiAgICAgKiB7QGxpbmsgI21pcnJvcigpfSBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaXJyb3IgV2hldGhlciB0byByZWFkIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiBtaXJyb3JlZC5cbiAgICAgKi9cbiAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnNldE1pcnJvciA9IGZ1bmN0aW9uIChpc01pcnJvcikge1xuICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSBudWxsO1xuICAgICAgICB0aGlzLnBhcnNlZEZvcm1hdEluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLmlzTWlycm9yID0gaXNNaXJyb3I7XG4gICAgfTtcbiAgICAvKiogTWlycm9yIHRoZSBiaXQgbWF0cml4IGluIG9yZGVyIHRvIGF0dGVtcHQgYSBzZWNvbmQgcmVhZGluZy4gKi9cbiAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLm1pcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJpdE1hdHJpeCA9IHRoaXMuYml0TWF0cml4O1xuICAgICAgICBmb3IgKHZhciB4ID0gMCwgd2lkdGggPSBiaXRNYXRyaXguZ2V0V2lkdGgoKTsgeCA8IHdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSB4ICsgMSwgaGVpZ2h0ID0gYml0TWF0cml4LmdldEhlaWdodCgpOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYml0TWF0cml4LmdldCh4LCB5KSAhPT0gYml0TWF0cml4LmdldCh5LCB4KSkge1xuICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh5LCB4KTtcbiAgICAgICAgICAgICAgICAgICAgYml0TWF0cml4LmZsaXAoeCwgeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQml0TWF0cml4UGFyc2VyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEJpdE1hdHJpeFBhcnNlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJpdE1hdHJpeFBhcnNlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbmltcG9ydCBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gZnJvbSAnLi4vLi4vSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJztcbi8qKlxuICogPHA+RW5jYXBzdWxhdGVzIGEgYmxvY2sgb2YgZGF0YSB3aXRoaW4gYSBRUiBDb2RlLiBRUiBDb2RlcyBtYXkgc3BsaXQgdGhlaXIgZGF0YSBpbnRvXG4gKiBtdWx0aXBsZSBibG9ja3MsIGVhY2ggb2Ygd2hpY2ggaXMgYSB1bml0IG9mIGRhdGEgYW5kIGVycm9yLWNvcnJlY3Rpb24gY29kZXdvcmRzLiBFYWNoXG4gKiBpcyByZXByZXNlbnRlZCBieSBhbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgRGF0YUJsb2NrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzIC8qaW50Ki8sIGNvZGV3b3Jkcykge1xuICAgICAgICB0aGlzLm51bURhdGFDb2Rld29yZHMgPSBudW1EYXRhQ29kZXdvcmRzO1xuICAgICAgICB0aGlzLmNvZGV3b3JkcyA9IGNvZGV3b3JkcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogPHA+V2hlbiBRUiBDb2RlcyB1c2UgbXVsdGlwbGUgZGF0YSBibG9ja3MsIHRoZXkgYXJlIGFjdHVhbGx5IGludGVybGVhdmVkLlxuICAgICAqIFRoYXQgaXMsIHRoZSBmaXJzdCBieXRlIG9mIGRhdGEgYmxvY2sgMSB0byBuIGlzIHdyaXR0ZW4sIHRoZW4gdGhlIHNlY29uZCBieXRlcywgYW5kIHNvIG9uLiBUaGlzXG4gICAgICogbWV0aG9kIHdpbGwgc2VwYXJhdGUgdGhlIGRhdGEgaW50byBvcmlnaW5hbCBibG9ja3MuPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIHJhd0NvZGV3b3JkcyBieXRlcyBhcyByZWFkIGRpcmVjdGx5IGZyb20gdGhlIFFSIENvZGVcbiAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIG9mIHRoZSBRUiBDb2RlXG4gICAgICogQHBhcmFtIGVjTGV2ZWwgZXJyb3ItY29ycmVjdGlvbiBsZXZlbCBvZiB0aGUgUVIgQ29kZVxuICAgICAqIEByZXR1cm4gRGF0YUJsb2NrcyBjb250YWluaW5nIG9yaWdpbmFsIGJ5dGVzLCBcImRlLWludGVybGVhdmVkXCIgZnJvbSByZXByZXNlbnRhdGlvbiBpbiB0aGVcbiAgICAgKiAgICAgICAgIFFSIENvZGVcbiAgICAgKi9cbiAgICBEYXRhQmxvY2suZ2V0RGF0YUJsb2NrcyA9IGZ1bmN0aW9uIChyYXdDb2Rld29yZHMsIHZlcnNpb24sIGVjTGV2ZWwpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIGlmIChyYXdDb2Rld29yZHMubGVuZ3RoICE9PSB2ZXJzaW9uLmdldFRvdGFsQ29kZXdvcmRzKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGaWd1cmUgb3V0IHRoZSBudW1iZXIgYW5kIHNpemUgb2YgZGF0YSBibG9ja3MgdXNlZCBieSB0aGlzIHZlcnNpb24gYW5kXG4gICAgICAgIC8vIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWxcbiAgICAgICAgdmFyIGVjQmxvY2tzID0gdmVyc2lvbi5nZXRFQ0Jsb2Nrc0ZvckxldmVsKGVjTGV2ZWwpO1xuICAgICAgICAvLyBGaXJzdCBjb3VudCB0aGUgdG90YWwgbnVtYmVyIG9mIGRhdGEgYmxvY2tzXG4gICAgICAgIHZhciB0b3RhbEJsb2NrcyA9IDA7XG4gICAgICAgIHZhciBlY0Jsb2NrQXJyYXkgPSBlY0Jsb2Nrcy5nZXRFQ0Jsb2NrcygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzEgPSBfX3ZhbHVlcyhlY0Jsb2NrQXJyYXkpLCBlY0Jsb2NrQXJyYXlfMV8xID0gZWNCbG9ja0FycmF5XzEubmV4dCgpOyAhZWNCbG9ja0FycmF5XzFfMS5kb25lOyBlY0Jsb2NrQXJyYXlfMV8xID0gZWNCbG9ja0FycmF5XzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY0Jsb2NrQXJyYXlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRvdGFsQmxvY2tzICs9IGVjQmxvY2suZ2V0Q291bnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8xXzEgJiYgIWVjQmxvY2tBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY0Jsb2NrQXJyYXlfMS5yZXR1cm4pKSBfYS5jYWxsKGVjQmxvY2tBcnJheV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgZXN0YWJsaXNoIERhdGFCbG9ja3Mgb2YgdGhlIGFwcHJvcHJpYXRlIHNpemUgYW5kIG51bWJlciBvZiBkYXRhIGNvZGV3b3Jkc1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KHRvdGFsQmxvY2tzKTtcbiAgICAgICAgdmFyIG51bVJlc3VsdEJsb2NrcyA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMiA9IF9fdmFsdWVzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG5cbiAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuXG4gICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTtcbiAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmVcbiAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkge1xuICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07XG4gICAgICAgIH1cbiAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrO1xuICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7XG4gICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlclxuICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmVcbiAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzXG4gICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzXG4gICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxO1xuICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7XG4gICAgfTtcbiAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzO1xuICAgIH07XG4gICAgcmV0dXJuIERhdGFCbG9jaztcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBEYXRhQmxvY2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYXRhQmxvY2suanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uLy4uL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG5leHBvcnQgdmFyIE1vZGVWYWx1ZXM7XG4oZnVuY3Rpb24gKE1vZGVWYWx1ZXMpIHtcbiAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbXCJURVJNSU5BVE9SXCJdID0gMF0gPSBcIlRFUk1JTkFUT1JcIjtcbiAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbXCJOVU1FUklDXCJdID0gMV0gPSBcIk5VTUVSSUNcIjtcbiAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbXCJBTFBIQU5VTUVSSUNcIl0gPSAyXSA9IFwiQUxQSEFOVU1FUklDXCI7XG4gICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzW1wiU1RSVUNUVVJFRF9BUFBFTkRcIl0gPSAzXSA9IFwiU1RSVUNUVVJFRF9BUFBFTkRcIjtcbiAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbXCJCWVRFXCJdID0gNF0gPSBcIkJZVEVcIjtcbiAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbXCJFQ0lcIl0gPSA1XSA9IFwiRUNJXCI7XG4gICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzW1wiS0FOSklcIl0gPSA2XSA9IFwiS0FOSklcIjtcbiAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbXCJGTkMxX0ZJUlNUX1BPU0lUSU9OXCJdID0gN10gPSBcIkZOQzFfRklSU1RfUE9TSVRJT05cIjtcbiAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbXCJGTkMxX1NFQ09ORF9QT1NJVElPTlwiXSA9IDhdID0gXCJGTkMxX1NFQ09ORF9QT1NJVElPTlwiO1xuICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7IFwiSGFuemlcIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi9cbiAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbXCJIQU5aSVwiXSA9IDldID0gXCJIQU5aSVwiO1xufSkoTW9kZVZhbHVlcyB8fCAoTW9kZVZhbHVlcyA9IHt9KSk7XG4vKipcbiAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjEsIFRhYmxlcyAyIGFuZCAzLiBUaGlzIGVudW0gZW5jYXBzdWxhdGVzIHRoZSB2YXJpb3VzIG1vZGVzIGluIHdoaWNoXG4gKiBkYXRhIGNhbiBiZSBlbmNvZGVkIHRvIGJpdHMgaW4gdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBNb2RlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vZGUodmFsdWUsIHN0cmluZ1ZhbHVlLCBjaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucywgYml0cyAvKmludCovKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zdHJpbmdWYWx1ZSA9IHN0cmluZ1ZhbHVlO1xuICAgICAgICB0aGlzLmNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zID0gY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnM7XG4gICAgICAgIHRoaXMuYml0cyA9IGJpdHM7XG4gICAgICAgIE1vZGUuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpO1xuICAgICAgICBNb2RlLkZPUl9WQUxVRS5zZXQodmFsdWUsIHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYml0cyBmb3VyIGJpdHMgZW5jb2RpbmcgYSBRUiBDb2RlIGRhdGEgbW9kZVxuICAgICAqIEByZXR1cm4gTW9kZSBlbmNvZGVkIGJ5IHRoZXNlIGJpdHNcbiAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBiaXRzIGRvIG5vdCBjb3JyZXNwb25kIHRvIGEga25vd24gbW9kZVxuICAgICAqL1xuICAgIE1vZGUuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHtcbiAgICAgICAgdmFyIG1vZGUgPSBNb2RlLkZPUl9CSVRTLmdldChiaXRzKTtcbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbW9kZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2RlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBpbiBxdWVzdGlvblxuICAgICAqIEByZXR1cm4gbnVtYmVyIG9mIGJpdHMgdXNlZCwgaW4gdGhpcyBRUiBDb2RlIHN5bWJvbCB7QGxpbmsgVmVyc2lvbn0sIHRvIGVuY29kZSB0aGVcbiAgICAgKiAgICAgICAgIGNvdW50IG9mIGNoYXJhY3RlcnMgdGhhdCB3aWxsIGZvbGxvdyBlbmNvZGVkIGluIHRoaXMgTW9kZVxuICAgICAqL1xuICAgIE1vZGUucHJvdG90eXBlLmdldENoYXJhY3RlckNvdW50Qml0cyA9IGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gICAgICAgIHZhciB2ZXJzaW9uTnVtYmVyID0gdmVyc2lvbi5nZXRWZXJzaW9uTnVtYmVyKCk7XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDkpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmVyc2lvbk51bWJlciA8PSAyNikge1xuICAgICAgICAgICAgb2Zmc2V0ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9mZnNldCA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnNbb2Zmc2V0XTtcbiAgICB9O1xuICAgIE1vZGUucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9O1xuICAgIE1vZGUucHJvdG90eXBlLmdldEJpdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpdHM7XG4gICAgfTtcbiAgICBNb2RlLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykge1xuICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgTW9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3RoZXIgPSBvO1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSA9PT0gb3RoZXIudmFsdWU7XG4gICAgfTtcbiAgICBNb2RlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nVmFsdWU7XG4gICAgfTtcbiAgICBNb2RlLkZPUl9CSVRTID0gbmV3IE1hcCgpO1xuICAgIE1vZGUuRk9SX1ZBTFVFID0gbmV3IE1hcCgpO1xuICAgIE1vZGUuVEVSTUlOQVRPUiA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuVEVSTUlOQVRPUiwgJ1RFUk1JTkFUT1InLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwMCk7IC8vIE5vdCByZWFsbHkgYSBtb2RlLi4uXG4gICAgTW9kZS5OVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5OVU1FUklDLCAnTlVNRVJJQycsIEludDMyQXJyYXkuZnJvbShbMTAsIDEyLCAxNF0pLCAweDAxKTtcbiAgICBNb2RlLkFMUEhBTlVNRVJJQyA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuQUxQSEFOVU1FUklDLCAnQUxQSEFOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFs5LCAxMSwgMTNdKSwgMHgwMik7XG4gICAgTW9kZS5TVFJVQ1RVUkVEX0FQUEVORCA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuU1RSVUNUVVJFRF9BUFBFTkQsICdTVFJVQ1RVUkVEX0FQUEVORCcsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAzKTsgLy8gTm90IHN1cHBvcnRlZFxuICAgIE1vZGUuQllURSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuQllURSwgJ0JZVEUnLCBJbnQzMkFycmF5LmZyb20oWzgsIDE2LCAxNl0pLCAweDA0KTtcbiAgICBNb2RlLkVDSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuRUNJLCAnRUNJJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDcpOyAvLyBjaGFyYWN0ZXIgY291bnRzIGRvbid0IGFwcGx5XG4gICAgTW9kZS5LQU5KSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuS0FOSkksICdLQU5KSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MDgpO1xuICAgIE1vZGUuRk5DMV9GSVJTVF9QT1NJVElPTiA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuRk5DMV9GSVJTVF9QT1NJVElPTiwgJ0ZOQzFfRklSU1RfUE9TSVRJT04nLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNSk7XG4gICAgTW9kZS5GTkMxX1NFQ09ORF9QT1NJVElPTiA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuRk5DMV9TRUNPTkRfUE9TSVRJT04sICdGTkMxX1NFQ09ORF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA5KTtcbiAgICAvKiogU2VlIEdCVCAxODI4NC0yMDAwOyBcIkhhbnppXCIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovXG4gICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpO1xuICAgIHJldHVybiBNb2RlO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IE1vZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2RlLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki9cbmltcG9ydCBCaXRTb3VyY2UgZnJvbSAnLi4vLi4vY29tbW9uL0JpdFNvdXJjZSc7XG5pbXBvcnQgQ2hhcmFjdGVyU2V0RUNJIGZyb20gJy4uLy4uL2NvbW1vbi9DaGFyYWN0ZXJTZXRFQ0knO1xuaW1wb3J0IERlY29kZXJSZXN1bHQgZnJvbSAnLi4vLi4vY29tbW9uL0RlY29kZXJSZXN1bHQnO1xuaW1wb3J0IFN0cmluZ1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9TdHJpbmdVdGlscyc7XG5pbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uLy4uL0Zvcm1hdEV4Y2VwdGlvbic7XG5pbXBvcnQgU3RyaW5nQnVpbGRlciBmcm9tICcuLi8uLi91dGlsL1N0cmluZ0J1aWxkZXInO1xuaW1wb3J0IFN0cmluZ0VuY29kaW5nIGZyb20gJy4uLy4uL3V0aWwvU3RyaW5nRW5jb2RpbmcnO1xuaW1wb3J0IE1vZGUgZnJvbSAnLi9Nb2RlJztcbi8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqL1xuLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqL1xuLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki9cbi8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovXG4vKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovXG4vKipcbiAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2Rlc1xuICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+XG4gKlxuICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7XG4gICAgfVxuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykge1xuICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2UoYnl0ZXMpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IG5ldyBBcnJheSgpOyAvLyAxXG4gICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBJIGRvIG5vdCB1c2UgY29uc3RydWN0b3Igd2l0aCBzaXplIDEgYXMgaW4gb3JpZ2luYWwgSmF2YSBtZWFucyBjYXBhY2l0eSBhbmQgdGhlIGFycmF5IGxlbmd0aCBpcyBjaGVja2VkIGJlbG93XG4gICAgICAgIHZhciBzeW1ib2xTZXF1ZW5jZSA9IC0xO1xuICAgICAgICB2YXIgcGFyaXR5RGF0YSA9IC0xO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRDaGFyYWN0ZXJTZXRFQ0kgPSBudWxsO1xuICAgICAgICAgICAgdmFyIGZjMUluRWZmZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgbW9kZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAvLyBXaGlsZSBzdGlsbCBhbm90aGVyIHNlZ21lbnQgdG8gcmVhZC4uLlxuICAgICAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgNCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBPSywgYXNzdW1lIHdlJ3JlIGRvbmUuIFJlYWxseSwgYSBURVJNSU5BVE9SIG1vZGUgc2hvdWxkIGhhdmUgYmVlbiByZWNvcmRlZCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIG1vZGUgPSBNb2RlLlRFUk1JTkFUT1I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpO1xuICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZS5mb3JCaXRzKG1vZGVCaXRzKTsgLy8gbW9kZSBpcyBlbmNvZGVkIGJ5IDQgYml0c1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlLlRFUk1JTkFUT1I6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlLkZOQzFfRklSU1RfUE9TSVRJT046XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZS5GTkMxX1NFQ09ORF9QT1NJVElPTjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvIGxpdHRsZSB3aXRoIEZOQzEgZXhjZXB0IGFsdGVyIHRoZSBwYXJzZWQgcmVzdWx0IGEgYml0IGFjY29yZGluZyB0byB0aGUgc3BlY1xuICAgICAgICAgICAgICAgICAgICAgICAgZmMxSW5FZmZlY3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZS5TVFJVQ1RVUkVEX0FQUEVORDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZVxuICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlLkVDSTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvdW50IGRvZXNuJ3QgYXBwbHkgdG8gRUNJXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnBhcnNlRUNJVmFsdWUoYml0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJID0gQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXJTZXRFQ0kgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlLkhBTlpJOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3QgaGFuZGxlIEhhbnppIG1vZGUgd2hpY2ggZG9lcyBub3Qgc3RhcnQgd2l0aCBjaGFyYWN0ZXIgY291bnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoaW5lc2UgbW9kZSBjb250YWlucyBhIHN1YiBzZXQgaW5kaWNhdG9yIHJpZ2h0IGFmdGVyIG1vZGUgaW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Vic2V0ID0gYml0cy5yZWFkQml0cyg0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudEhhbnppID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2V0ID09PSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkdCMjMxMl9TVUJTRVQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUhhbnppU2VnbWVudChiaXRzLCByZXN1bHQsIGNvdW50SGFuemkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBcIk5vcm1hbFwiIFFSIGNvZGUgbW9kZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3cgbWFueSBjaGFyYWN0ZXJzIHdpbGwgZm9sbG93LCBlbmNvZGVkIGluIHRoaXMgbW9kZT9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlLk5VTUVSSUM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZS5BTFBIQU5VTUVSSUM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQWxwaGFudW1lcmljU2VnbWVudChiaXRzLCByZXN1bHQsIGNvdW50LCBmYzFJbkVmZmVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZS5CWVRFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUJ5dGVTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQsIGN1cnJlbnRDaGFyYWN0ZXJTZXRFQ0ksIGJ5dGVTZWdtZW50cywgaGludHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGUuS0FOSkk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChtb2RlICE9PSBNb2RlLlRFUk1JTkFUT1IpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChpYWUgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7XG4gICAgICAgICAgICAvLyBmcm9tIHJlYWRCaXRzKCkgY2FsbHNcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHQoYnl0ZXMsIHJlc3VsdC50b1N0cmluZygpLCBieXRlU2VnbWVudHMubGVuZ3RoID09PSAwID8gbnVsbCA6IGJ5dGVTZWdtZW50cywgZWNMZXZlbCA9PT0gbnVsbCA/IG51bGwgOiBlY0xldmVsLnRvU3RyaW5nKCksIHN5bWJvbFNlcXVlbmNlLCBwYXJpdHlEYXRhKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZSBzcGVjaWZpY2F0aW9uIEdCVCAxODI4NC0yMDAwXG4gICAgICovXG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7XG4gICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLlxuICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBFYWNoIGNoYXJhY3RlciB3aWxsIHJlcXVpcmUgMiBieXRlcy4gUmVhZCB0aGUgY2hhcmFjdGVycyBhcyAyLWJ5dGUgcGFpcnNcbiAgICAgICAgLy8gYW5kIGRlY29kZSBhcyBHQjIzMTIgYWZ0ZXJ3YXJkc1xuICAgICAgICB2YXIgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMiAqIGNvdW50KTtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHdoaWxlIChjb3VudCA+IDApIHtcbiAgICAgICAgICAgIC8vIEVhY2ggMTMgYml0cyBlbmNvZGVzIGEgMi1ieXRlIGNoYXJhY3RlclxuICAgICAgICAgICAgdmFyIHR3b0J5dGVzID0gYml0cy5yZWFkQml0cygxMyk7XG4gICAgICAgICAgICB2YXIgYXNzZW1ibGVkVHdvQnl0ZXMgPSAoKCh0d29CeXRlcyAvIDB4MDYwKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgKHR3b0J5dGVzICUgMHgwNjApO1xuICAgICAgICAgICAgaWYgKGFzc2VtYmxlZFR3b0J5dGVzIDwgMHgwMDNCRikge1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZSAweEExQTEgdG8gMHhBQUZFIHJhbmdlXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVkVHdvQnl0ZXMgKz0gMHgwQTFBMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluIHRoZSAweEIwQTEgdG8gMHhGQUZFIHJhbmdlXG4gICAgICAgICAgICAgICAgYXNzZW1ibGVkVHdvQnl0ZXMgKz0gMHgwQTZBMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KSAmIDB4RkYpO1xuICAgICAgICAgICAgYnVmZmVyW29mZnNldCArIDFdID0gLyooYnl0ZSkgKi8gKGFzc2VtYmxlZFR3b0J5dGVzICYgMHhGRik7XG4gICAgICAgICAgICBvZmZzZXQgKz0gMjtcbiAgICAgICAgICAgIGNvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmcuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHMuR0IyMzEyKSk7XG4gICAgICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogVE9ETzogaW1wbGVtZW50IEdCMjMxMiBkZWNvZGUuIFN0cmluZ1ZpZXcgZnJvbSBNRE4gY291bGQgYmUgYSBzdGFydGluZyBwb2ludFxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBVbnN1cHBvcnRlZEVuY29kaW5nRXhjZXB0aW9uKi8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oaWdub3JlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykge1xuICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS5cbiAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzXG4gICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHNcbiAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7XG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpO1xuICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTtcbiAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHtcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZVxuICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZVxuICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTtcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgICAgICAgICBjb3VudC0tO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmcuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHMuU0hJRlRfSklTKSk7XG4gICAgICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogVE9ETzogaW1wbGVtZW50IFNISUZUX0pJUyBkZWNvZGUuIFN0cmluZ1ZpZXcgZnJvbSBNRE4gY291bGQgYmUgYSBzdGFydGluZyBwb2ludFxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBVbnN1cHBvcnRlZEVuY29kaW5nRXhjZXB0aW9uKi8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oaWdub3JlZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7XG4gICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLlxuICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWFkQnl0ZXMgPSBuZXcgVWludDhBcnJheShjb3VudCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgcmVhZEJ5dGVzW2ldID0gLyooYnl0ZSkgKi8gYml0cy5yZWFkQml0cyg4KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW5jb2Rpbmc7XG4gICAgICAgIGlmIChjdXJyZW50Q2hhcmFjdGVyU2V0RUNJID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBUaGUgc3BlYyBpc24ndCBjbGVhciBvbiB0aGlzIG1vZGU7IHNlZVxuICAgICAgICAgICAgLy8gc2VjdGlvbiA2LjQuNTogdCBkb2VzIG5vdCBzYXkgd2hpY2ggZW5jb2RpbmcgdG8gYXNzdW1pbmdcbiAgICAgICAgICAgIC8vIHVwb24gZGVjb2RpbmcuIEkgaGF2ZSBzZWVuIElTTy04ODU5LTEgdXNlZCBhcyB3ZWxsIGFzXG4gICAgICAgICAgICAvLyBTaGlmdF9KSVMgLS0gd2l0aG91dCBhbnl0aGluZyBsaWtlIGFuIEVDSSBkZXNpZ25hdG9yIHRvXG4gICAgICAgICAgICAvLyBnaXZlIGEgaGludC5cbiAgICAgICAgICAgIGVuY29kaW5nID0gU3RyaW5nVXRpbHMuZ3Vlc3NFbmNvZGluZyhyZWFkQnl0ZXMsIGhpbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVuY29kaW5nID0gY3VycmVudENoYXJhY3RlclNldEVDSS5nZXROYW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmcuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKGlnbm9yZWQpO1xuICAgICAgICB9XG4gICAgICAgIGJ5dGVTZWdtZW50cy5wdXNoKHJlYWRCeXRlcyk7XG4gICAgfTtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhciA9IGZ1bmN0aW9uICh2YWx1ZSAvKmludCovKSB7XG4gICAgICAgIGlmICh2YWx1ZSA+PSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSUy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlNbdmFsdWVdO1xuICAgIH07XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVBbHBoYW51bWVyaWNTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLywgZmMxSW5FZmZlY3QpIHtcbiAgICAgICAgLy8gUmVhZCB0d28gY2hhcmFjdGVycyBhdCBhIHRpbWVcbiAgICAgICAgdmFyIHN0YXJ0ID0gcmVzdWx0Lmxlbmd0aCgpO1xuICAgICAgICB3aGlsZSAoY291bnQgPiAxKSB7XG4gICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDExKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7XG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpO1xuICAgICAgICAgICAgY291bnQgLT0gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0XG4gICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKGJpdHMucmVhZEJpdHMoNikpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZWUgc2VjdGlvbiA2LjQuOC4xLCA2LjQuOC4yXG4gICAgICAgIGlmIChmYzFJbkVmZmVjdCkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBtYXNzYWdlIHRoZSByZXN1bHQgYSBiaXQgaWYgaW4gYW4gRk5DMSBtb2RlOlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgcmVzdWx0Lmxlbmd0aCgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNoYXJBdChpKSA9PT0gJyUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpIDwgcmVzdWx0Lmxlbmd0aCgpIC0gMSAmJiByZXN1bHQuY2hhckF0KGkgKyAxKSA9PT0gJyUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAlJSBpcyByZW5kZXJlZCBhcyAlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVsZXRlQ2hhckF0KGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIGFscGhhIG1vZGUsICUgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBGTkMxIHNlcGFyYXRvciAweDFEXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0Q2hhckF0KGksIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxRCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZU51bWVyaWNTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykge1xuICAgICAgICAvLyBSZWFkIHRocmVlIGRpZ2l0cyBhdCBhIHRpbWVcbiAgICAgICAgd2hpbGUgKGNvdW50ID49IDMpIHtcbiAgICAgICAgICAgIC8vIEVhY2ggMTAgYml0cyBlbmNvZGVzIHRocmVlIGRpZ2l0c1xuICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0aHJlZURpZ2l0c0JpdHMgPSBiaXRzLnJlYWRCaXRzKDEwKTtcbiAgICAgICAgICAgIGlmICh0aHJlZURpZ2l0c0JpdHMgPj0gMTAwMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7XG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTtcbiAgICAgICAgICAgIGNvdW50IC09IDM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0c1xuICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHR3b0RpZ2l0c0JpdHMgPSBiaXRzLnJlYWRCaXRzKDcpO1xuICAgICAgICAgICAgaWYgKHR3b0RpZ2l0c0JpdHMgPj0gMTAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihNYXRoLmZsb29yKHR3b0RpZ2l0c0JpdHMgLyAxMCkpKTtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodHdvRGlnaXRzQml0cyAlIDEwKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIE9uZSBkaWdpdCBsZWZ0IG92ZXIgdG8gcmVhZFxuICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7XG4gICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihkaWdpdEJpdHMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlID0gZnVuY3Rpb24gKGJpdHMpIHtcbiAgICAgICAgdmFyIGZpcnN0Qnl0ZSA9IGJpdHMucmVhZEJpdHMoOCk7XG4gICAgICAgIGlmICgoZmlyc3RCeXRlICYgMHg4MCkgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGp1c3Qgb25lIGJ5dGVcbiAgICAgICAgICAgIHJldHVybiBmaXJzdEJ5dGUgJiAweDdGO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZmlyc3RCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIC8vIHR3byBieXRlc1xuICAgICAgICAgICAgdmFyIHNlY29uZEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpO1xuICAgICAgICAgICAgcmV0dXJuICgoKGZpcnN0Qnl0ZSAmIDB4M0YpIDw8IDgpICYgMHhGRkZGRkZGRikgfCBzZWNvbmRCeXRlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZmlyc3RCeXRlICYgMHhFMCkgPT09IDB4QzApIHtcbiAgICAgICAgICAgIC8vIHRocmVlIGJ5dGVzXG4gICAgICAgICAgICB2YXIgc2Vjb25kVGhpcmRCeXRlcyA9IGJpdHMucmVhZEJpdHMoMTYpO1xuICAgICAgICAgICAgcmV0dXJuICgoKGZpcnN0Qnl0ZSAmIDB4MUYpIDw8IDE2KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kVGhpcmRCeXRlcztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC40IFRhYmxlIDVcbiAgICAgKi9cbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSUyA9ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVogJCUqKy0uLzonO1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuR0IyMzEyX1NVQlNFVCA9IDE7XG4gICAgcmV0dXJuIERlY29kZWRCaXRTdHJlYW1QYXJzZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjtcbi8vIGZ1bmN0aW9uIFVpbnQ4QXJyYXlUb1N0cmluZyhhOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbi8vICAgICBjb25zdCBDSFVOS19TWiA9IDB4ODAwMDtcbi8vICAgICBjb25zdCBjID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbi8vICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gYS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkgKz0gQ0hVTktfU1opIHtcbi8vICAgICAgICAgYy5hcHBlbmQoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBhLnN1YmFycmF5KGksIGkgKyBDSFVOS19TWikpKTtcbi8vICAgICB9XG4vLyAgICAgcmV0dXJuIGMudG9TdHJpbmcoKTtcbi8vIH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlY29kZWRCaXRTdHJlYW1QYXJzZXIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIE1ldGEtZGF0YSBjb250YWluZXIgZm9yIFFSIENvZGUgZGVjb2RpbmcuIEluc3RhbmNlcyBvZiB0aGlzIGNsYXNzIG1heSBiZSB1c2VkIHRvIGNvbnZleSBpbmZvcm1hdGlvbiBiYWNrIHRvIHRoZVxuICogZGVjb2RpbmcgY2FsbGVyLiBDYWxsZXJzIGFyZSBleHBlY3RlZCB0byBwcm9jZXNzIHRoaXMuXG4gKlxuICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5EZWNvZGVyUmVzdWx0I2dldE90aGVyKClcbiAqL1xudmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRUkNvZGVEZWNvZGVyTWV0YURhdGEobWlycm9yZWQpIHtcbiAgICAgICAgdGhpcy5taXJyb3JlZCA9IG1pcnJvcmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHRydWUgaWYgdGhlIFFSIENvZGUgd2FzIG1pcnJvcmVkLlxuICAgICAqL1xuICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuaXNNaXJyb3JlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlycm9yZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgcmVzdWx0IHBvaW50cycgb3JkZXIgY29ycmVjdGlvbiBkdWUgdG8gbWlycm9yaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBvaW50cyBBcnJheSBvZiBwb2ludHMgdG8gYXBwbHkgbWlycm9yIGNvcnJlY3Rpb24gdG8uXG4gICAgICovXG4gICAgUVJDb2RlRGVjb2Rlck1ldGFEYXRhLnByb3RvdHlwZS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbiA9IGZ1bmN0aW9uIChwb2ludHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1pcnJvcmVkIHx8IHBvaW50cyA9PT0gbnVsbCB8fCBwb2ludHMubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib3R0b21MZWZ0ID0gcG9pbnRzWzBdO1xuICAgICAgICBwb2ludHNbMF0gPSBwb2ludHNbMl07XG4gICAgICAgIHBvaW50c1syXSA9IGJvdHRvbUxlZnQ7XG4gICAgICAgIC8vIE5vIG5lZWQgdG8gJ2ZpeCcgdG9wLWxlZnQgYW5kIGFsaWdubWVudCBwYXR0ZXJuLlxuICAgIH07XG4gICAgcmV0dXJuIFFSQ29kZURlY29kZXJNZXRhRGF0YTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBRUkNvZGVEZWNvZGVyTWV0YURhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RUkNvZGVEZWNvZGVyTWV0YURhdGEuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqL1xuaW1wb3J0IENoZWNrc3VtRXhjZXB0aW9uIGZyb20gJy4uLy4uL0NoZWNrc3VtRXhjZXB0aW9uJztcbmltcG9ydCBCaXRNYXRyaXggZnJvbSAnLi4vLi4vY29tbW9uL0JpdE1hdHJpeCc7XG5pbXBvcnQgR2VuZXJpY0dGIGZyb20gJy4uLy4uL2NvbW1vbi9yZWVkc29sb21vbi9HZW5lcmljR0YnO1xuaW1wb3J0IFJlZWRTb2xvbW9uRGVjb2RlciBmcm9tICcuLi8uLi9jb21tb24vcmVlZHNvbG9tb24vUmVlZFNvbG9tb25EZWNvZGVyJztcbmltcG9ydCBCaXRNYXRyaXhQYXJzZXIgZnJvbSAnLi9CaXRNYXRyaXhQYXJzZXInO1xuaW1wb3J0IERhdGFCbG9jayBmcm9tICcuL0RhdGFCbG9jayc7XG5pbXBvcnQgRGVjb2RlZEJpdFN0cmVhbVBhcnNlciBmcm9tICcuL0RlY29kZWRCaXRTdHJlYW1QYXJzZXInO1xuaW1wb3J0IFFSQ29kZURlY29kZXJNZXRhRGF0YSBmcm9tICcuL1FSQ29kZURlY29kZXJNZXRhRGF0YSc7XG4vKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovXG4vKipcbiAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nXG4gKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWNvZGVyKCkge1xuICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXIoR2VuZXJpY0dGLlFSX0NPREVfRklFTERfMjU2KTtcbiAgICB9XG4gICAgLy8gcHVibGljIGRlY29kZShpbWFnZTogYm9vbGVhbltdW10pOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7XG4gICAgLy8gICByZXR1cm4gZGVjb2RlKGltYWdlLCBudWxsKVxuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiA8cD5Db252ZW5pZW5jZSBtZXRob2QgdGhhdCBjYW4gZGVjb2RlIGEgUVIgQ29kZSByZXByZXNlbnRlZCBhcyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zLlxuICAgICAqIFwidHJ1ZVwiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXNcbiAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmdcbiAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWRcbiAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHNcbiAgICAgKi9cbiAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXgucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpO1xuICAgIH07XG4gICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7XG4gICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpXG4gICAgLy8gfVxuICAgIC8qKlxuICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciBcInRydWVcIiBpcyB0YWtlbiB0byBtZWFuIGEgYmxhY2sgbW9kdWxlLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiaXRzIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXNcbiAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmdcbiAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWRcbiAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHNcbiAgICAgKi9cbiAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXggPSBmdW5jdGlvbiAoYml0cywgaGludHMpIHtcbiAgICAgICAgLy8gQ29uc3RydWN0IGEgcGFyc2VyIGFuZCByZWFkIHZlcnNpb24sIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWxcbiAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBCaXRNYXRyaXhQYXJzZXIoYml0cyk7XG4gICAgICAgIHZhciBleCA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGVCaXRNYXRyaXhQYXJzZXIocGFyc2VyLCBoaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUgLyo6IEZvcm1hdEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24qLykge1xuICAgICAgICAgICAgZXggPSBlO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBSZXZlcnQgdGhlIGJpdCBtYXRyaXhcbiAgICAgICAgICAgIHBhcnNlci5yZW1hc2soKTtcbiAgICAgICAgICAgIC8vIFdpbGwgYmUgYXR0ZW1wdGluZyBhIG1pcnJvcmVkIHJlYWRpbmcgb2YgdGhlIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvLlxuICAgICAgICAgICAgcGFyc2VyLnNldE1pcnJvcih0cnVlKTtcbiAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSB2ZXJzaW9uLlxuICAgICAgICAgICAgcGFyc2VyLnJlYWRWZXJzaW9uKCk7XG4gICAgICAgICAgICAvLyBQcmVlbXB0aXZlbHkgcmVhZCB0aGUgZm9ybWF0IGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgcGFyc2VyLnJlYWRGb3JtYXRJbmZvcm1hdGlvbigpO1xuICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAqIFNpbmNlIHdlJ3JlIGhlcmUsIHRoaXMgbWVhbnMgd2UgaGF2ZSBzdWNjZXNzZnVsbHkgZGV0ZWN0ZWQgc29tZSBraW5kXG4gICAgICAgICAgICAgKiBvZiB2ZXJzaW9uIGFuZCBmb3JtYXQgaW5mb3JtYXRpb24gd2hlbiBtaXJyb3JlZC4gVGhpcyBpcyBhIGdvb2Qgc2lnbixcbiAgICAgICAgICAgICAqIHRoYXQgdGhlIFFSIGNvZGUgbWF5IGJlIG1pcnJvcmVkLCBhbmQgd2Ugc2hvdWxkIHRyeSBvbmNlIG1vcmUgd2l0aCBhXG4gICAgICAgICAgICAgKiBtaXJyb3JlZCBjb250ZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAvLyBQcmVwYXJlIGZvciBhIG1pcnJvcmVkIHJlYWRpbmcuXG4gICAgICAgICAgICBwYXJzZXIubWlycm9yKCk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5kZWNvZGVCaXRNYXRyaXhQYXJzZXIocGFyc2VyLCBoaW50cyk7XG4gICAgICAgICAgICAvLyBTdWNjZXNzISBOb3RpZnkgdGhlIGNhbGxlciB0aGF0IHRoZSBjb2RlIHdhcyBtaXJyb3JlZC5cbiAgICAgICAgICAgIHJlc3VsdC5zZXRPdGhlcihuZXcgUVJDb2RlRGVjb2Rlck1ldGFEYXRhKHRydWUpKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUgLypGb3JtYXRFeGNlcHRpb24gfCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7XG4gICAgICAgICAgICAvLyBUaHJvdyB0aGUgZXhjZXB0aW9uIGZyb20gdGhlIG9yaWdpbmFsIHJlYWRpbmdcbiAgICAgICAgICAgIGlmIChleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4UGFyc2VyID0gZnVuY3Rpb24gKHBhcnNlciwgaGludHMpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciB2ZXJzaW9uID0gcGFyc2VyLnJlYWRWZXJzaW9uKCk7XG4gICAgICAgIHZhciBlY0xldmVsID0gcGFyc2VyLnJlYWRGb3JtYXRJbmZvcm1hdGlvbigpLmdldEVycm9yQ29ycmVjdGlvbkxldmVsKCk7XG4gICAgICAgIC8vIFJlYWQgY29kZXdvcmRzXG4gICAgICAgIHZhciBjb2Rld29yZHMgPSBwYXJzZXIucmVhZENvZGV3b3JkcygpO1xuICAgICAgICAvLyBTZXBhcmF0ZSBpbnRvIGRhdGEgYmxvY2tzXG4gICAgICAgIHZhciBkYXRhQmxvY2tzID0gRGF0YUJsb2NrLmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTtcbiAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXNcbiAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMoZGF0YUJsb2NrcyksIGRhdGFCbG9ja3NfMV8xID0gZGF0YUJsb2Nrc18xLm5leHQoKTsgIWRhdGFCbG9ja3NfMV8xLmRvbmU7IGRhdGFCbG9ja3NfMV8xID0gZGF0YUJsb2Nrc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhQmxvY2sgPSBkYXRhQmxvY2tzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICB0b3RhbEJ5dGVzICs9IGRhdGFCbG9jay5nZXROdW1EYXRhQ29kZXdvcmRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhQmxvY2tzXzFfMSAmJiAhZGF0YUJsb2Nrc18xXzEuZG9uZSAmJiAoX2EgPSBkYXRhQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChkYXRhQmxvY2tzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHRCeXRlcyA9IG5ldyBVaW50OEFycmF5KHRvdGFsQnl0ZXMpO1xuICAgICAgICB2YXIgcmVzdWx0T2Zmc2V0ID0gMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEVycm9yLWNvcnJlY3QgYW5kIGNvcHkgZGF0YSBibG9ja3MgdG9nZXRoZXIgaW50byBhIHN0cmVhbSBvZiBieXRlc1xuICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18yID0gX192YWx1ZXMoZGF0YUJsb2NrcyksIGRhdGFCbG9ja3NfMl8xID0gZGF0YUJsb2Nrc18yLm5leHQoKTsgIWRhdGFCbG9ja3NfMl8xLmRvbmU7IGRhdGFCbG9ja3NfMl8xID0gZGF0YUJsb2Nrc18yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhQmxvY2sgPSBkYXRhQmxvY2tzXzJfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgY29kZXdvcmRCeXRlcyA9IGRhdGFCbG9jay5nZXRDb2Rld29yZHMoKTtcbiAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGRhdGFCbG9jay5nZXROdW1EYXRhQ29kZXdvcmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3JyZWN0RXJyb3JzKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtRGF0YUNvZGV3b3JkczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdEJ5dGVzW3Jlc3VsdE9mZnNldCsrXSA9IGNvZGV3b3JkQnl0ZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUJsb2Nrc18yXzEgJiYgIWRhdGFCbG9ja3NfMl8xLmRvbmUgJiYgKF9iID0gZGF0YUJsb2Nrc18yLnJldHVybikpIF9iLmNhbGwoZGF0YUJsb2Nrc18yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBEZWNvZGUgdGhlIGNvbnRlbnRzIG9mIHRoYXQgc3RyZWFtIG9mIGJ5dGVzXG4gICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZShyZXN1bHRCeXRlcywgdmVyc2lvbiwgZWNMZXZlbCwgaGludHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogPHA+R2l2ZW4gZGF0YSBhbmQgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMgcmVjZWl2ZWQsIHBvc3NpYmx5IGNvcnJ1cHRlZCBieSBlcnJvcnMsIGF0dGVtcHRzIHRvXG4gICAgICogY29ycmVjdCB0aGUgZXJyb3JzIGluLXBsYWNlIHVzaW5nIFJlZWQtU29sb21vbiBlcnJvciBjb3JyZWN0aW9uLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb2Rld29yZEJ5dGVzIGRhdGEgYW5kIGVycm9yIGNvcnJlY3Rpb24gY29kZXdvcmRzXG4gICAgICogQHBhcmFtIG51bURhdGFDb2Rld29yZHMgbnVtYmVyIG9mIGNvZGV3b3JkcyB0aGF0IGFyZSBkYXRhIGJ5dGVzXG4gICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzXG4gICAgICovXG4gICAgRGVjb2Rlci5wcm90b3R5cGUuY29ycmVjdEVycm9ycyA9IGZ1bmN0aW9uIChjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzIC8qaW50Ki8pIHtcbiAgICAgICAgLy8gY29uc3QgbnVtQ29kZXdvcmRzID0gY29kZXdvcmRCeXRlcy5sZW5ndGg7XG4gICAgICAgIC8vIEZpcnN0IHJlYWQgaW50byBhbiBhcnJheSBvZiBpbnRzXG4gICAgICAgIHZhciBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkoY29kZXdvcmRCeXRlcyk7XG4gICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBub3QgcmVhbHkgbmVjZXNzYXJ5IHRvIHRyYW5zZm9ybSB0byBpbnRzPyBjb3VsZCByZWRlc2lnbiBldmVyeXRoaW5nIHRvIHdvcmsgd2l0aCB1bnNpZ25lZCBieXRlcz9cbiAgICAgICAgLy8gY29uc3QgY29kZXdvcmRzSW50cyA9IG5ldyBJbnQzMkFycmF5KG51bUNvZGV3b3JkcylcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Db2Rld29yZHM7IGkrKykge1xuICAgICAgICAvLyAgIGNvZGV3b3Jkc0ludHNbaV0gPSBjb2Rld29yZEJ5dGVzW2ldICYgMHhGRlxuICAgICAgICAvLyB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLnJzRGVjb2Rlci5kZWNvZGUoY29kZXdvcmRzSW50cywgY29kZXdvcmRCeXRlcy5sZW5ndGggLSBudW1EYXRhQ29kZXdvcmRzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogUmVlZFNvbG9tb25FeGNlcHRpb24qLykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YVxuICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHtcbiAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGVjb2Rlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBEZWNvZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVjb2Rlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovXG5pbXBvcnQgUmVzdWx0UG9pbnQgZnJvbSAnLi4vLi4vUmVzdWx0UG9pbnQnO1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgYW4gYWxpZ25tZW50IHBhdHRlcm4sIHdoaWNoIGFyZSB0aGUgc21hbGxlciBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW5cbiAqIGFsbCBidXQgdGhlIHNpbXBsZXN0IFFSIENvZGVzLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgQWxpZ25tZW50UGF0dGVybiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuIFwiYWJvdXQgZXF1YWxzXCIgYW4gYWxpZ25tZW50IHBhdHRlcm4gYXQgdGhlIHN0YXRlZFxuICAgICAqIHBvc2l0aW9uIGFuZCBzaXplIC0tIG1lYW5pbmcsIGl0IGlzIGF0IG5lYXJseSB0aGUgc2FtZSBjZW50ZXIgd2l0aCBuZWFybHkgdGhlIHNhbWUgc2l6ZS48L3A+XG4gICAgICovXG4gICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuYWJvdXRFcXVhbHMgPSBmdW5jdGlvbiAobW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLykge1xuICAgICAgICBpZiAoTWF0aC5hYnMoaSAtIHRoaXMuZ2V0WSgpKSA8PSBtb2R1bGVTaXplICYmIE1hdGguYWJzKGogLSB0aGlzLmdldFgoKSkgPD0gbW9kdWxlU2l6ZSkge1xuICAgICAgICAgICAgdmFyIG1vZHVsZVNpemVEaWZmID0gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSk7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZURpZmYgPD0gMS4wIHx8IG1vZHVsZVNpemVEaWZmIDw9IHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21iaW5lcyB0aGlzIG9iamVjdCdzIGN1cnJlbnQgZXN0aW1hdGUgb2YgYSBmaW5kZXIgcGF0dGVybiBwb3NpdGlvbiBhbmQgbW9kdWxlIHNpemVcbiAgICAgKiB3aXRoIGEgbmV3IGVzdGltYXRlLiBJdCByZXR1cm5zIGEgbmV3IHtAY29kZSBGaW5kZXJQYXR0ZXJufSBjb250YWluaW5nIGFuIGF2ZXJhZ2Ugb2YgdGhlIHR3by5cbiAgICAgKi9cbiAgICBBbGlnbm1lbnRQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykge1xuICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuZ2V0WCgpICsgaikgLyAyLjA7XG4gICAgICAgIHZhciBjb21iaW5lZFkgPSAodGhpcy5nZXRZKCkgKyBpKSAvIDIuMDtcbiAgICAgICAgdmFyIGNvbWJpbmVkTW9kdWxlU2l6ZSA9ICh0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUgKyBuZXdNb2R1bGVTaXplKSAvIDIuMDtcbiAgICAgICAgcmV0dXJuIG5ldyBBbGlnbm1lbnRQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUpO1xuICAgIH07XG4gICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm47XG59KFJlc3VsdFBvaW50KSk7XG5leHBvcnQgZGVmYXVsdCBBbGlnbm1lbnRQYXR0ZXJuO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWxpZ25tZW50UGF0dGVybi5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbmltcG9ydCBBbGlnbm1lbnRQYXR0ZXJuIGZyb20gJy4vQWxpZ25tZW50UGF0dGVybic7XG5pbXBvcnQgTm90Rm91bmRFeGNlcHRpb24gZnJvbSAnLi4vLi4vTm90Rm91bmRFeGNlcHRpb24nO1xuLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqL1xuLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki9cbi8qKlxuICogPHA+VGhpcyBjbGFzcyBhdHRlbXB0cyB0byBmaW5kIGFsaWdubWVudCBwYXR0ZXJucyBpbiBhIFFSIENvZGUuIEFsaWdubWVudCBwYXR0ZXJucyBsb29rIGxpa2UgZmluZGVyXG4gKiBwYXR0ZXJucyBidXQgYXJlIHNtYWxsZXIgYW5kIGFwcGVhciBhdCByZWd1bGFyIGludGVydmFscyB0aHJvdWdob3V0IHRoZSBpbWFnZS48L3A+XG4gKlxuICogPHA+QXQgdGhlIG1vbWVudCB0aGlzIG9ubHkgbG9va3MgZm9yIHRoZSBib3R0b20tcmlnaHQgYWxpZ25tZW50IHBhdHRlcm4uPC9wPlxuICpcbiAqIDxwPlRoaXMgaXMgbW9zdGx5IGEgc2ltcGxpZmllZCBjb3B5IG9mIHtAbGluayBGaW5kZXJQYXR0ZXJuRmluZGVyfS4gSXQgaXMgY29waWVkLFxuICogcGFzdGVkIGFuZCBzdHJpcHBlZCBkb3duIGhlcmUgZm9yIG1heGltdW0gcGVyZm9ybWFuY2UgYnV0IGRvZXMgdW5mb3J0dW5hdGVseSBkdXBsaWNhdGVcbiAqIHNvbWUgY29kZS48L3A+XG4gKlxuICogPHA+VGhpcyBjbGFzcyBpcyB0aHJlYWQtc2FmZSBidXQgbm90IHJlZW50cmFudC4gRWFjaCB0aHJlYWQgbXVzdCBhbGxvY2F0ZSBpdHMgb3duIG9iamVjdC48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgbG9vayBpbiBhIHBvcnRpb24gb2YgdGhlIHdob2xlIGltYWdlLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2hcbiAgICAgKiBAcGFyYW0gc3RhcnRYIGxlZnQgY29sdW1uIGZyb20gd2hpY2ggdG8gc3RhcnQgc2VhcmNoaW5nXG4gICAgICogQHBhcmFtIHN0YXJ0WSB0b3Agcm93IGZyb20gd2hpY2ggdG8gc3RhcnQgc2VhcmNoaW5nXG4gICAgICogQHBhcmFtIHdpZHRoIHdpZHRoIG9mIHJlZ2lvbiB0byBzZWFyY2hcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IGhlaWdodCBvZiByZWdpb24gdG8gc2VhcmNoXG4gICAgICogQHBhcmFtIG1vZHVsZVNpemUgZXN0aW1hdGVkIG1vZHVsZSBzaXplIHNvIGZhclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEFsaWdubWVudFBhdHRlcm5GaW5kZXIoaW1hZ2UsIHN0YXJ0WCAvKmludCovLCBzdGFydFkgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8sIG1vZHVsZVNpemUgLypmbG9hdCovLCByZXN1bHRQb2ludENhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcbiAgICAgICAgdGhpcy5zdGFydFggPSBzdGFydFg7XG4gICAgICAgIHRoaXMuc3RhcnRZID0gc3RhcnRZO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLm1vZHVsZVNpemUgPSBtb2R1bGVTaXplO1xuICAgICAgICB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgPSByZXN1bHRQb2ludENhbGxiYWNrO1xuICAgICAgICB0aGlzLnBvc3NpYmxlQ2VudGVycyA9IFtdOyAvLyBuZXcgQXJyYXk8YW55Pig1KSlcbiAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGFycmF5IGluaXRpYWxpemF0aW9uIHdpdGhvdXQgc2l6ZSBhcyB0aGUgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3dcbiAgICAgICAgdGhpcy5jcm9zc0NoZWNrU3RhdGVDb3VudCA9IG5ldyBJbnQzMkFycmF5KDMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiA8cD5UaGlzIG1ldGhvZCBhdHRlbXB0cyB0byBmaW5kIHRoZSBib3R0b20tcmlnaHQgYWxpZ25tZW50IHBhdHRlcm4gaW4gdGhlIGltYWdlLiBJdCBpcyBhIGJpdCBtZXNzeSBzaW5jZVxuICAgICAqIGl0J3MgcHJldHR5IHBlcmZvcm1hbmNlLWNyaXRpY2FsIGFuZCBzbyBpcyB3cml0dGVuIHRvIGJlIGZhc3QgZm9yZW1vc3QuPC9wPlxuICAgICAqXG4gICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgZm91bmRcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGFydFggPSB0aGlzLnN0YXJ0WDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICB2YXIgbWF4SiA9IHN0YXJ0WCArIHdpZHRoO1xuICAgICAgICB2YXIgbWlkZGxlSSA9IHRoaXMuc3RhcnRZICsgKGhlaWdodCAvIDIpO1xuICAgICAgICAvLyBXZSBhcmUgbG9va2luZyBmb3IgYmxhY2svd2hpdGUvYmxhY2sgbW9kdWxlcyBpbiAxOjE6MSByYXRpb1xuICAgICAgICAvLyB0aGlzIHRyYWNrcyB0aGUgbnVtYmVyIG9mIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgc2VlbiBzbyBmYXJcbiAgICAgICAgdmFyIHN0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTtcbiAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTtcbiAgICAgICAgZm9yICh2YXIgaUdlbiA9IDA7IGlHZW4gPCBoZWlnaHQ7IGlHZW4rKykge1xuICAgICAgICAgICAgLy8gU2VhcmNoIGZyb20gbWlkZGxlIG91dHdhcmRzXG4gICAgICAgICAgICB2YXIgaSA9IG1pZGRsZUkgKyAoKGlHZW4gJiAweDAxKSA9PT0gMCA/IE1hdGguZmxvb3IoKGlHZW4gKyAxKSAvIDIpIDogLU1hdGguZmxvb3IoKGlHZW4gKyAxKSAvIDIpKTtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSAwO1xuICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDtcbiAgICAgICAgICAgIHZhciBqID0gc3RhcnRYO1xuICAgICAgICAgICAgLy8gQnVybiBvZmYgbGVhZGluZyB3aGl0ZSBwaXhlbHMgYmVmb3JlIGFueXRoaW5nIGVsc2U7IGlmIHdlIHN0YXJ0IGluIHRoZSBtaWRkbGUgb2ZcbiAgICAgICAgICAgIC8vIGEgd2hpdGUgcnVuLCBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gY291bnQgaXRzIGxlbmd0aCwgc2luY2Ugd2UgZG9uJ3Qga25vdyBpZiB0aGVcbiAgICAgICAgICAgIC8vIHdoaXRlIHJ1biBjb250aW51ZWQgdG8gdGhlIGxlZnQgb2YgdGhlIHN0YXJ0IHBvaW50XG4gICAgICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBpKSkge1xuICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKKSB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlLmdldChqLCBpKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBCbGFjayBwaXhlbFxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAxKSB7IC8vIENvdW50aW5nIGJsYWNrIHBpeGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDIpIHsgLy8gQSB3aW5uZXI/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybWVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlybWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBXaGl0ZSBwaXhlbFxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAxKSB7IC8vIENvdW50aW5nIGJsYWNrIHBpeGVsc1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFtjdXJyZW50U3RhdGVdKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpcm1lZCA9IHRoaXMuaGFuZGxlUG9zc2libGVDZW50ZXIoc3RhdGVDb3VudCwgaSwgbWF4Sik7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlybWVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIbW0sIG5vdGhpbmcgd2Ugc2F3IHdhcyBvYnNlcnZlZCBhbmQgY29uZmlybWVkIHR3aWNlLiBJZiB3ZSBoYWRcbiAgICAgICAgLy8gYW55IGd1ZXNzIGF0IGFsbCwgcmV0dXJuIGl0LlxuICAgICAgICBpZiAodGhpcy5wb3NzaWJsZUNlbnRlcnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnNbMF07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbixcbiAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgYmxhY2svd2hpdGUvYmxhY2sgcnVuLlxuICAgICAqL1xuICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykge1xuICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbMl0pIC0gc3RhdGVDb3VudFsxXSAvIDIuMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHJlYWRcbiAgICAgKiBAcmV0dXJuIHRydWUgaWZmIHRoZSBwcm9wb3J0aW9ucyBvZiB0aGUgY291bnRzIGlzIGNsb3NlIGVub3VnaCB0byB0aGUgMS8xLzEgcmF0aW9zXG4gICAgICogICAgICAgICB1c2VkIGJ5IGFsaWdubWVudCBwYXR0ZXJucyB0byBiZSBjb25zaWRlcmVkIGEgbWF0Y2hcbiAgICAgKi9cbiAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5mb3VuZFBhdHRlcm5Dcm9zcyA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50KSB7XG4gICAgICAgIHZhciBtb2R1bGVTaXplID0gdGhpcy5tb2R1bGVTaXplO1xuICAgICAgICB2YXIgbWF4VmFyaWFuY2UgPSBtb2R1bGVTaXplIC8gMi4wO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50W2ldKSA+PSBtYXhWYXJpYW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGFsaWdubWVudCBwYXR0ZXJuLCB0aGlzIG1ldGhvZFxuICAgICAqIFwiY3Jvc3MtY2hlY2tzXCIgYnkgc2Nhbm5pbmcgZG93biB2ZXJ0aWNhbGx5IHRocm91Z2ggdGhlIGNlbnRlciBvZiB0aGUgcG9zc2libGVcbiAgICAgKiBhbGlnbm1lbnQgcGF0dGVybiB0byBzZWUgaWYgdGhlIHNhbWUgcHJvcG9ydGlvbiBpcyBkZXRlY3RlZC48L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhbiBhbGlnbm1lbnQgcGF0dGVybiB3YXMgZGV0ZWN0ZWRcbiAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGFuIGFsaWdubWVudCBwYXR0ZXJuXG4gICAgICogQHBhcmFtIG1heENvdW50IG1heGltdW0gcmVhc29uYWJsZSBudW1iZXIgb2YgbW9kdWxlcyB0aGF0IHNob3VsZCBiZVxuICAgICAqIG9ic2VydmVkIGluIGFueSByZWFkaW5nIHN0YXRlLCBiYXNlZCBvbiB0aGUgcmVzdWx0cyBvZiB0aGUgaG9yaXpvbnRhbCBzY2FuXG4gICAgICogQHJldHVybiB2ZXJ0aWNhbCBjZW50ZXIgb2YgYWxpZ25tZW50IHBhdHRlcm4sIG9yIHtAbGluayBGbG9hdCNOYU59IGlmIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmNyb3NzQ2hlY2tWZXJ0aWNhbCA9IGZ1bmN0aW9uIChzdGFydEkgLyppbnQqLywgY2VudGVySiAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7XG4gICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7XG4gICAgICAgIHZhciBzdGF0ZUNvdW50ID0gdGhpcy5jcm9zc0NoZWNrU3RhdGVDb3VudDtcbiAgICAgICAgc3RhdGVDb3VudFswXSA9IDA7XG4gICAgICAgIHN0YXRlQ291bnRbMV0gPSAwO1xuICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDtcbiAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAgZnJvbSBjZW50ZXJcbiAgICAgICAgdmFyIGkgPSBzdGFydEk7XG4gICAgICAgIHdoaWxlIChpID49IDAgJiYgaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMV0gPD0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKztcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBhbHJlYWR5IHRvbyBtYW55IG1vZHVsZXMgaW4gdGhpcyBzdGF0ZSBvciByYW4gb2ZmIHRoZSBlZGdlOlxuICAgICAgICBpZiAoaSA8IDAgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpID49IDAgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgYWxzbyBjb3VudCBkb3duIGZyb20gY2VudGVyXG4gICAgICAgIGkgPSBzdGFydEkgKyAxO1xuICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMV0gPD0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gbWF4SSB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsyXSA8PSBtYXhDb3VudCkge1xuICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZUNvdW50WzJdID4gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXTtcbiAgICAgICAgaWYgKDUgKiBNYXRoLmFicyhzdGF0ZUNvdW50VG90YWwgLSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgPj0gMiAqIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpID8gQWxpZ25tZW50UGF0dGVybkZpbmRlci5jZW50ZXJGcm9tRW5kKHN0YXRlQ291bnQsIGkpIDogTmFOO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogPHA+VGhpcyBpcyBjYWxsZWQgd2hlbiBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvc3NpYmxlIGFsaWdubWVudCBwYXR0ZXJuLiBJdCB3aWxsXG4gICAgICogY3Jvc3MgY2hlY2sgd2l0aCBhIHZlcnRpY2FsIHNjYW4sIGFuZCBpZiBzdWNjZXNzZnVsLCB3aWxsIHNlZSBpZiB0aGlzIHBhdHRlcm4gaGFkIGJlZW5cbiAgICAgKiBmb3VuZCBvbiBhIHByZXZpb3VzIGhvcml6b250YWwgc2Nhbi4gSWYgc28sIHdlIGNvbnNpZGVyIGl0IGNvbmZpcm1lZCBhbmQgY29uY2x1ZGUgd2UgaGF2ZVxuICAgICAqIGZvdW5kIHRoZSBhbGlnbm1lbnQgcGF0dGVybi48L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCByZWFkaW5nIHN0YXRlIG1vZHVsZSBjb3VudHMgZnJvbSBob3Jpem9udGFsIHNjYW5cbiAgICAgKiBAcGFyYW0gaSByb3cgd2hlcmUgYWxpZ25tZW50IHBhdHRlcm4gbWF5IGJlIGZvdW5kXG4gICAgICogQHBhcmFtIGogZW5kIG9mIHBvc3NpYmxlIGFsaWdubWVudCBwYXR0ZXJuIGluIHJvd1xuICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIHdlIGhhdmUgZm91bmQgdGhlIHNhbWUgcGF0dGVybiB0d2ljZSwgb3IgbnVsbCBpZiBub3RcbiAgICAgKi9cbiAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLykge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXTtcbiAgICAgICAgdmFyIGNlbnRlckogPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7XG4gICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBjZW50ZXJKLCAyICogc3RhdGVDb3VudFsxXSwgc3RhdGVDb3VudFRvdGFsKTtcbiAgICAgICAgaWYgKCFpc05hTihjZW50ZXJJKSkge1xuICAgICAgICAgICAgdmFyIGVzdGltYXRlZE1vZHVsZVNpemUgPSAoc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdKSAvIDMuMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBhYm91dCB0aGUgc2FtZSBjZW50ZXIgYW5kIG1vZHVsZSBzaXplOlxuICAgICAgICAgICAgICAgICAgICBpZiAoY2VudGVyLmFib3V0RXF1YWxzKGVzdGltYXRlZE1vZHVsZVNpemUsIGNlbnRlckksIGNlbnRlckopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2VudGVyLmNvbWJpbmVFc3RpbWF0ZShjZW50ZXJJLCBjZW50ZXJKLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEhhZG4ndCBmb3VuZCB0aGlzIGJlZm9yZTsgc2F2ZSBpdFxuICAgICAgICAgICAgdmFyIHBvaW50ID0gbmV3IEFsaWdubWVudFBhdHRlcm4oY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLnBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IG51bGwgJiYgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2suZm91bmRQb3NzaWJsZVJlc3VsdFBvaW50KHBvaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEFsaWdubWVudFBhdHRlcm5GaW5kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki9cbmltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi8uLi9SZXN1bHRQb2ludCc7XG4vKipcbiAqIDxwPkVuY2Fwc3VsYXRlcyBhIGZpbmRlciBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHRocmVlIHNxdWFyZSBwYXR0ZXJucyBmb3VuZCBpblxuICogdGhlIGNvcm5lcnMgb2YgUVIgQ29kZXMuIEl0IGFsc28gZW5jYXBzdWxhdGVzIGEgY291bnQgb2Ygc2ltaWxhciBmaW5kZXIgcGF0dGVybnMsXG4gKiBhcyBhIGNvbnZlbmllbmNlIHRvIHRoZSBmaW5kZXIncyBib29ra2VlcGluZy48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqL1xudmFyIEZpbmRlclBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZpbmRlclBhdHRlcm4sIF9zdXBlcik7XG4gICAgLy8gRmluZGVyUGF0dGVybihwb3NYOiBudW1iZXIvKmZsb2F0Ki8sIHBvc1k6IG51bWJlci8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZTogbnVtYmVyLypmbG9hdCovKSB7XG4gICAgLy8gICB0aGlzKHBvc1gsIHBvc1ksIGVzdGltYXRlZE1vZHVsZVNpemUsIDEpXG4gICAgLy8gfVxuICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm4ocG9zWCAvKmZsb2F0Ki8sIHBvc1kgLypmbG9hdCovLCBlc3RpbWF0ZWRNb2R1bGVTaXplIC8qZmxvYXQqLywgY291bnQgLyppbnQqLykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwb3NYLCBwb3NZKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplID0gZXN0aW1hdGVkTW9kdWxlU2l6ZTtcbiAgICAgICAgX3RoaXMuY291bnQgPSBjb3VudDtcbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY291bnQpIHtcbiAgICAgICAgICAgIF90aGlzLmNvdW50ID0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmdldEVzdGltYXRlZE1vZHVsZVNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7XG4gICAgfTtcbiAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7XG4gICAgfTtcbiAgICAvKlxuICAgIHZvaWQgaW5jcmVtZW50Q291bnQoKSB7XG4gICAgICB0aGlzLmNvdW50KytcbiAgICB9XG4gICAgICovXG4gICAgLyoqXG4gICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGZpbmRlciBwYXR0ZXJuIFwiYWJvdXQgZXF1YWxzXCIgYSBmaW5kZXIgcGF0dGVybiBhdCB0aGUgc3RhdGVkXG4gICAgICogcG9zaXRpb24gYW5kIHNpemUgLS0gbWVhbmluZywgaXQgaXMgYXQgbmVhcmx5IHRoZSBzYW1lIGNlbnRlciB3aXRoIG5lYXJseSB0aGUgc2FtZSBzaXplLjwvcD5cbiAgICAgKi9cbiAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5hYm91dEVxdWFscyA9IGZ1bmN0aW9uIChtb2R1bGVTaXplIC8qZmxvYXQqLywgaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhpIC0gdGhpcy5nZXRZKCkpIDw9IG1vZHVsZVNpemUgJiYgTWF0aC5hYnMoaiAtIHRoaXMuZ2V0WCgpKSA8PSBtb2R1bGVTaXplKSB7XG4gICAgICAgICAgICB2YXIgbW9kdWxlU2l6ZURpZmYgPSBNYXRoLmFicyhtb2R1bGVTaXplIC0gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplKTtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRGlmZiA8PSAxLjAgfHwgbW9kdWxlU2l6ZURpZmYgPD0gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbWJpbmVzIHRoaXMgb2JqZWN0J3MgY3VycmVudCBlc3RpbWF0ZSBvZiBhIGZpbmRlciBwYXR0ZXJuIHBvc2l0aW9uIGFuZCBtb2R1bGUgc2l6ZVxuICAgICAqIHdpdGggYSBuZXcgZXN0aW1hdGUuIEl0IHJldHVybnMgYSBuZXcge0Bjb2RlIEZpbmRlclBhdHRlcm59IGNvbnRhaW5pbmcgYSB3ZWlnaHRlZCBhdmVyYWdlXG4gICAgICogYmFzZWQgb24gY291bnQuXG4gICAgICovXG4gICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHtcbiAgICAgICAgdmFyIGNvbWJpbmVkQ291bnQgPSB0aGlzLmNvdW50ICsgMTtcbiAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRYKCkgKyBqKSAvIGNvbWJpbmVkQ291bnQ7XG4gICAgICAgIHZhciBjb21iaW5lZFkgPSAodGhpcy5jb3VudCAqIHRoaXMuZ2V0WSgpICsgaSkgLyBjb21iaW5lZENvdW50O1xuICAgICAgICB2YXIgY29tYmluZWRNb2R1bGVTaXplID0gKHRoaXMuY291bnQgKiB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUgKyBuZXdNb2R1bGVTaXplKSAvIGNvbWJpbmVkQ291bnQ7XG4gICAgICAgIHJldHVybiBuZXcgRmluZGVyUGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplLCBjb21iaW5lZENvdW50KTtcbiAgICB9O1xuICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuO1xufShSZXN1bHRQb2ludCkpO1xuZXhwb3J0IGRlZmF1bHQgRmluZGVyUGF0dGVybjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZpbmRlclBhdHRlcm4uanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIDxwPkVuY2Fwc3VsYXRlcyBpbmZvcm1hdGlvbiBhYm91dCBmaW5kZXIgcGF0dGVybnMgaW4gYW4gaW1hZ2UsIGluY2x1ZGluZyB0aGUgbG9jYXRpb24gb2ZcbiAqIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMsIGFuZCB0aGVpciBlc3RpbWF0ZWQgbW9kdWxlIHNpemUuPC9wPlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBGaW5kZXJQYXR0ZXJuSW5mbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuSW5mbyhwYXR0ZXJuQ2VudGVycykge1xuICAgICAgICB0aGlzLmJvdHRvbUxlZnQgPSBwYXR0ZXJuQ2VudGVyc1swXTtcbiAgICAgICAgdGhpcy50b3BMZWZ0ID0gcGF0dGVybkNlbnRlcnNbMV07XG4gICAgICAgIHRoaXMudG9wUmlnaHQgPSBwYXR0ZXJuQ2VudGVyc1syXTtcbiAgICB9XG4gICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldEJvdHRvbUxlZnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvdHRvbUxlZnQ7XG4gICAgfTtcbiAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0VG9wTGVmdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9wTGVmdDtcbiAgICB9O1xuICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BSaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9wUmlnaHQ7XG4gICAgfTtcbiAgICByZXR1cm4gRmluZGVyUGF0dGVybkluZm87XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRmluZGVyUGF0dGVybkluZm87XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaW5kZXJQYXR0ZXJuSW5mby5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRldGVjdG9yIHsqL1xuaW1wb3J0IERlY29kZUhpbnRUeXBlIGZyb20gJy4uLy4uL0RlY29kZUhpbnRUeXBlJztcbmltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi8uLi9SZXN1bHRQb2ludCc7XG5pbXBvcnQgRmluZGVyUGF0dGVybiBmcm9tICcuL0ZpbmRlclBhdHRlcm4nO1xuaW1wb3J0IEZpbmRlclBhdHRlcm5JbmZvIGZyb20gJy4vRmluZGVyUGF0dGVybkluZm8nO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uLy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbi8qaW1wb3J0IGphdmEuaW8uU2VyaWFsaXphYmxlOyovXG4vKmltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0OyovXG4vKmltcG9ydCBqYXZhLnV0aWwuQ29sbGVjdGlvbnM7Ki9cbi8qaW1wb3J0IGphdmEudXRpbC5Db21wYXJhdG9yOyovXG4vKmltcG9ydCBqYXZhLnV0aWwuTGlzdDsqL1xuLyppbXBvcnQgamF2YS51dGlsLk1hcDsqL1xuLyoqXG4gKiA8cD5UaGlzIGNsYXNzIGF0dGVtcHRzIHRvIGZpbmQgZmluZGVyIHBhdHRlcm5zIGluIGEgUVIgQ29kZS4gRmluZGVyIHBhdHRlcm5zIGFyZSB0aGUgc3F1YXJlXG4gKiBtYXJrZXJzIGF0IHRocmVlIGNvcm5lcnMgb2YgYSBRUiBDb2RlLjwvcD5cbiAqXG4gKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50LiBFYWNoIHRocmVhZCBtdXN0IGFsbG9jYXRlIGl0cyBvd24gb2JqZWN0LlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBGaW5kZXJQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIHNlYXJjaCB0aGUgaW1hZ2UgZm9yIHRocmVlIGZpbmRlciBwYXR0ZXJucy48L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoXG4gICAgICovXG4gICAgLy8gcHVibGljIGNvbnN0cnVjdG9yKGltYWdlOiBCaXRNYXRyaXgpIHtcbiAgICAvLyAgIHRoaXMoaW1hZ2UsIG51bGwpXG4gICAgLy8gfVxuICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5GaW5kZXIoaW1hZ2UsIHJlc3VsdFBvaW50Q2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgICAgICB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgPSByZXN1bHRQb2ludENhbGxiYWNrO1xuICAgICAgICB0aGlzLnBvc3NpYmxlQ2VudGVycyA9IFtdO1xuICAgICAgICB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7XG4gICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7XG4gICAgfVxuICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTtcbiAgICB9O1xuICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldFBvc3NpYmxlQ2VudGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzO1xuICAgIH07XG4gICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChoaW50cykge1xuICAgICAgICB2YXIgdHJ5SGFyZGVyID0gKGhpbnRzICE9PSBudWxsICYmIGhpbnRzICE9PSB1bmRlZmluZWQpICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlLlRSWV9IQVJERVIpO1xuICAgICAgICB2YXIgcHVyZUJhcmNvZGUgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGUuUFVSRV9CQVJDT0RFKTtcbiAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTtcbiAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIG1heEogPSBpbWFnZS5nZXRXaWR0aCgpO1xuICAgICAgICAvLyBXZSBhcmUgbG9va2luZyBmb3IgYmxhY2svd2hpdGUvYmxhY2svd2hpdGUvYmxhY2sgbW9kdWxlcyBpblxuICAgICAgICAvLyAxOjE6MzoxOjEgcmF0aW87IHRoaXMgdHJhY2tzIHRoZSBudW1iZXIgb2Ygc3VjaCBtb2R1bGVzIHNlZW4gc28gZmFyXG4gICAgICAgIC8vIExldCdzIGFzc3VtZSB0aGF0IHRoZSBtYXhpbXVtIHZlcnNpb24gUVIgQ29kZSB3ZSBzdXBwb3J0IHRha2VzIHVwIDEvNCB0aGUgaGVpZ2h0IG9mIHRoZVxuICAgICAgICAvLyBpbWFnZSwgYW5kIHRoZW4gYWNjb3VudCBmb3IgdGhlIGNlbnRlciBiZWluZyAzIG1vZHVsZXMgaW4gc2l6ZS4gVGhpcyBnaXZlcyB0aGUgc21hbGxlc3RcbiAgICAgICAgLy8gbnVtYmVyIG9mIHBpeGVscyB0aGUgY2VudGVyIGNvdWxkIGJlLCBzbyBza2lwIHRoaXMgb2Z0ZW4uIFdoZW4gdHJ5aW5nIGhhcmRlciwgbG9vayBmb3IgYWxsXG4gICAgICAgIC8vIFFSIHZlcnNpb25zIHJlZ2FyZGxlc3Mgb2YgaG93IGRlbnNlIHRoZXkgYXJlLlxuICAgICAgICB2YXIgaVNraXAgPSBNYXRoLmZsb29yKCgzICogbWF4SSkgLyAoNCAqIEZpbmRlclBhdHRlcm5GaW5kZXIuTUFYX01PRFVMRVMpKTtcbiAgICAgICAgaWYgKGlTa2lwIDwgRmluZGVyUGF0dGVybkZpbmRlci5NSU5fU0tJUCB8fCB0cnlIYXJkZXIpIHtcbiAgICAgICAgICAgIGlTa2lwID0gRmluZGVyUGF0dGVybkZpbmRlci5NSU5fU0tJUDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICB2YXIgc3RhdGVDb3VudCA9IG5ldyBJbnQzMkFycmF5KDUpO1xuICAgICAgICBmb3IgKHZhciBpID0gaVNraXAgLSAxOyBpIDwgbWF4SSAmJiAhZG9uZTsgaSArPSBpU2tpcCkge1xuICAgICAgICAgICAgLy8gR2V0IGEgcm93IG9mIGJsYWNrL3doaXRlIHZhbHVlc1xuICAgICAgICAgICAgc3RhdGVDb3VudFswXSA9IDA7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMDtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwO1xuICAgICAgICAgICAgc3RhdGVDb3VudFszXSA9IDA7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXhKOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGosIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrIHBpeGVsXG4gICAgICAgICAgICAgICAgICAgIGlmICgoY3VycmVudFN0YXRlICYgMSkgPT09IDEpIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50W2N1cnJlbnRTdGF0ZV0rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IC8vIFdoaXRlIHBpeGVsXG4gICAgICAgICAgICAgICAgICAgIGlmICgoY3VycmVudFN0YXRlICYgMSkgPT09IDApIHsgLy8gQ291bnRpbmcgYmxhY2sgcGl4ZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSA0KSB7IC8vIEEgd2lubmVyP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChGaW5kZXJQYXR0ZXJuRmluZGVyLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqLCBwdXJlQmFyY29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0YXJ0IGV4YW1pbmluZyBldmVyeSBvdGhlciBsaW5lLiBDaGVja2luZyBlYWNoIGxpbmUgdHVybmVkIG91dCB0byBiZSB0b29cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4cGVuc2l2ZSBhbmQgZGlkbid0IGltcHJvdmUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNTa2lwcGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRoaXMuaGF2ZU11bHRpcGx5Q29uZmlybWVkQ2VudGVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvd1NraXAgPSB0aGlzLmZpbmRSb3dTa2lwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1NraXAgPiBzdGF0ZUNvdW50WzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgcm93cyBiZXR3ZWVuIHJvdyBvZiBsb3dlciBjb25maXJtZWQgY2VudGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0b3Agb2YgcHJlc3VtZWQgdGhpcmQgY29uZmlybWVkIGNlbnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgYmFjayB1cCBhIGJpdCB0byBnZXQgYSBmdWxsIGNoYW5jZSBvZiBkZXRlY3RpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQsIGVudGlyZSB3aWR0aCBvZiBjZW50ZXIgb2YgZmluZGVyIHBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBieSByb3dTa2lwLCBidXQgYmFjayBvZmYgYnkgc3RhdGVDb3VudFsyXSAoc2l6ZSBvZiBsYXN0IGNlbnRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiBwYXR0ZXJuIHdlIHNhdykgdG8gYmUgY29uc2VydmF0aXZlLCBhbmQgYWxzbyBiYWNrIG9mZiBieSBpU2tpcCB3aGljaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpcyBhYm91dCB0byBiZSByZS1hZGRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICs9IHJvd1NraXAgLSBzdGF0ZUNvdW50WzJdIC0gaVNraXA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSBtYXhKIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSBzdGF0ZUNvdW50WzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHN0YXRlIHRvIHN0YXJ0IGxvb2tpbmcgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFswXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFszXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gTm8sIHNoaWZ0IGNvdW50cyBiYWNrIGJ5IHR3b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSBzdGF0ZUNvdW50WzRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50W2N1cnJlbnRTdGF0ZV0rKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChGaW5kZXJQYXR0ZXJuRmluZGVyLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpcm1lZCA9IHRoaXMuaGFuZGxlUG9zc2libGVDZW50ZXIoc3RhdGVDb3VudCwgaSwgbWF4SiwgcHVyZUJhcmNvZGUpO1xuICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaVNraXAgPSBzdGF0ZUNvdW50WzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNTa2lwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3VuZCBhIHRoaXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSA9IHRoaXMuaGF2ZU11bHRpcGx5Q29uZmlybWVkQ2VudGVycygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBwYXR0ZXJuSW5mbyA9IHRoaXMuc2VsZWN0QmVzdFBhdHRlcm5zKCk7XG4gICAgICAgIFJlc3VsdFBvaW50Lm9yZGVyQmVzdFBhdHRlcm5zKHBhdHRlcm5JbmZvKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuSW5mbyhwYXR0ZXJuSW5mbyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbixcbiAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLlxuICAgICAqL1xuICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykge1xuICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkXG4gICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3NcbiAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaFxuICAgICAqL1xuICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkge1xuICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07XG4gICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDtcbiAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDtcbiAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9uc1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmXG4gICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiZcbiAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmXG4gICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTtcbiAgICB9O1xuICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50O1xuICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7XG4gICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDtcbiAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwO1xuICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7XG4gICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDtcbiAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZFxuICAgICAqIFwiY3Jvc3MtY3Jvc3MtY3Jvc3MtY2hlY2tzXCIgYnkgc2Nhbm5pbmcgZG93biBkaWFnb25hbGx5IHRocm91Z2ggdGhlIGNlbnRlciBvZiB0aGUgcG9zc2libGVcbiAgICAgKiBmaW5kZXIgcGF0dGVybiB0byBzZWUgaWYgdGhlIHNhbWUgcHJvcG9ydGlvbiBpcyBkZXRlY3RlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGEgZmluZGVyIHBhdHRlcm4gd2FzIGRldGVjdGVkXG4gICAgICogQHBhcmFtIGNlbnRlckogY2VudGVyIG9mIHRoZSBzZWN0aW9uIHRoYXQgYXBwZWFycyB0byBjcm9zcyBhIGZpbmRlciBwYXR0ZXJuXG4gICAgICogQHBhcmFtIG1heENvdW50IG1heGltdW0gcmVhc29uYWJsZSBudW1iZXIgb2YgbW9kdWxlcyB0aGF0IHNob3VsZCBiZVxuICAgICAqICBvYnNlcnZlZCBpbiBhbnkgcmVhZGluZyBzdGF0ZSwgYmFzZWQgb24gdGhlIHJlc3VsdHMgb2YgdGhlIGhvcml6b250YWwgc2NhblxuICAgICAqIEBwYXJhbSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCBUaGUgb3JpZ2luYWwgc3RhdGUgY291bnQgdG90YWwuXG4gICAgICogQHJldHVybiB0cnVlIGlmIHByb3BvcnRpb25zIGFyZSB3aXRoaW5nIGV4cGVjdGVkIGxpbWl0c1xuICAgICAqL1xuICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmNyb3NzQ2hlY2tEaWFnb25hbCA9IGZ1bmN0aW9uIChzdGFydEkgLyppbnQqLywgY2VudGVySiAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7XG4gICAgICAgIHZhciBzdGF0ZUNvdW50ID0gdGhpcy5nZXRDcm9zc0NoZWNrU3RhdGVDb3VudCgpO1xuICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCwgbGVmdCBmcm9tIGNlbnRlciBmaW5kaW5nIGJsYWNrIGNlbnRlciBtYXNzXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTtcbiAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpKSB7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb250aW51ZSB1cCwgbGVmdCBmaW5kaW5nIHdoaXRlIHNwYWNlXG4gICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgIWltYWdlLmdldChjZW50ZXJKIC0gaSwgc3RhcnRJIC0gaSkgJiZcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPD0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBhbHJlYWR5IHRvbyBtYW55IG1vZHVsZXMgaW4gdGhpcyBzdGF0ZSBvciByYW4gb2ZmIHRoZSBlZGdlOlxuICAgICAgICBpZiAoc3RhcnRJIDwgaSB8fCBjZW50ZXJKIDwgaSB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb250aW51ZSB1cCwgbGVmdCBmaW5kaW5nIGJsYWNrIGJvcmRlclxuICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmIGltYWdlLmdldChjZW50ZXJKIC0gaSwgc3RhcnRJIC0gaSkgJiZcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIG1heEogPSBpbWFnZS5nZXRXaWR0aCgpO1xuICAgICAgICAvLyBOb3cgYWxzbyBjb3VudCBkb3duLCByaWdodCBmcm9tIGNlbnRlclxuICAgICAgICBpID0gMTtcbiAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpKSB7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgZWRnZT9cbiAgICAgICAgaWYgKHN0YXJ0SSArIGkgPj0gbWF4SSB8fCBjZW50ZXJKICsgaSA+PSBtYXhKKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiAhaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSAmJlxuICAgICAgICAgICAgc3RhdGVDb3VudFszXSA8IG1heENvdW50KSB7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzNdKys7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0SSArIGkgPj0gbWF4SSB8fCBjZW50ZXJKICsgaSA+PSBtYXhKIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoc3RhcnRJICsgaSA8IG1heEkgJiYgY2VudGVySiArIGkgPCBtYXhKICYmIGltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiZcbiAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPCBtYXhDb3VudCkge1xuICAgICAgICAgICAgc3RhdGVDb3VudFs0XSsrO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZUNvdW50WzRdID49IG1heENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBtb3JlIHRoYW4gMTAwJSBkaWZmZXJlbnQgdGhhblxuICAgICAgICAvLyB0aGUgb3JpZ2luYWwsIGFzc3VtZSBpdCdzIGEgZmFsc2UgcG9zaXRpdmVcbiAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKyBzdGF0ZUNvdW50WzRdO1xuICAgICAgICByZXR1cm4gTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIDwgMiAqIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsICYmXG4gICAgICAgICAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogPHA+QWZ0ZXIgYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3RlbnRpYWwgZmluZGVyIHBhdHRlcm4sIHRoaXMgbWV0aG9kXG4gICAgICogXCJjcm9zcy1jaGVja3NcIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZVxuICAgICAqIGZpbmRlciBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGEgZmluZGVyIHBhdHRlcm4gd2FzIGRldGVjdGVkXG4gICAgICogQHBhcmFtIGNlbnRlckogY2VudGVyIG9mIHRoZSBzZWN0aW9uIHRoYXQgYXBwZWFycyB0byBjcm9zcyBhIGZpbmRlciBwYXR0ZXJuXG4gICAgICogQHBhcmFtIG1heENvdW50IG1heGltdW0gcmVhc29uYWJsZSBudW1iZXIgb2YgbW9kdWxlcyB0aGF0IHNob3VsZCBiZVxuICAgICAqIG9ic2VydmVkIGluIGFueSByZWFkaW5nIHN0YXRlLCBiYXNlZCBvbiB0aGUgcmVzdWx0cyBvZiB0aGUgaG9yaXpvbnRhbCBzY2FuXG4gICAgICogQHJldHVybiB2ZXJ0aWNhbCBjZW50ZXIgb2YgZmluZGVyIHBhdHRlcm4sIG9yIHtAbGluayBGbG9hdCNOYU59IGlmIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmNyb3NzQ2hlY2tWZXJ0aWNhbCA9IGZ1bmN0aW9uIChzdGFydEkgLyppbnQqLywgY2VudGVySiAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7XG4gICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7XG4gICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7XG4gICAgICAgIHZhciBzdGF0ZUNvdW50ID0gdGhpcy5nZXRDcm9zc0NoZWNrU3RhdGVDb3VudCgpO1xuICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlclxuICAgICAgICB2YXIgaSA9IHN0YXJ0STtcbiAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKztcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMV0gPD0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKztcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBhbHJlYWR5IHRvbyBtYW55IG1vZHVsZXMgaW4gdGhpcyBzdGF0ZSBvciByYW4gb2ZmIHRoZSBlZGdlOlxuICAgICAgICBpZiAoaSA8IDAgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpID49IDAgJiYgaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKztcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXJcbiAgICAgICAgaSA9IHN0YXJ0SSArIDE7XG4gICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gbWF4SSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKztcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gbWF4SSB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBtb3JlIHRoYW4gNDAlIGRpZmZlcmVudCB0aGFuXG4gICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZVxuICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArXG4gICAgICAgICAgICBzdGF0ZUNvdW50WzRdO1xuICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5MaWtlIHtAbGluayAjY3Jvc3NDaGVja1ZlcnRpY2FsKGludCwgaW50LCBpbnQsIGludCl9LCBhbmQgaW4gZmFjdCBpcyBiYXNpY2FsbHkgaWRlbnRpY2FsLFxuICAgICAqIGV4Y2VwdCBpdCByZWFkcyBob3Jpem9udGFsbHkgaW5zdGVhZCBvZiB2ZXJ0aWNhbGx5LiBUaGlzIGlzIHVzZWQgdG8gY3Jvc3MtY3Jvc3NcbiAgICAgKiBjaGVjayBhIHZlcnRpY2FsIGNyb3NzIGNoZWNrIGFuZCBsb2NhdGUgdGhlIHJlYWwgY2VudGVyIG9mIHRoZSBhbGlnbm1lbnQgcGF0dGVybi48L3A+XG4gICAgICovXG4gICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja0hvcml6b250YWwgPSBmdW5jdGlvbiAoc3RhcnRKIC8qaW50Ki8sIGNlbnRlckkgLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykge1xuICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlO1xuICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7XG4gICAgICAgIHZhciBzdGF0ZUNvdW50ID0gdGhpcy5nZXRDcm9zc0NoZWNrU3RhdGVDb3VudCgpO1xuICAgICAgICB2YXIgaiA9IHN0YXJ0SjtcbiAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKztcbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaiA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGogPj0gMCAmJiAhaW1hZ2UuZ2V0KGosIGNlbnRlckkpICYmIHN0YXRlQ291bnRbMV0gPD0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKztcbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaiA8IDAgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChqID49IDAgJiYgaW1hZ2UuZ2V0KGosIGNlbnRlckkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHtcbiAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKztcbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIGogPSBzdGFydEogKyAxO1xuICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgaW1hZ2UuZ2V0KGosIGNlbnRlckkpKSB7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGogPT09IG1heEopIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFszXSA8IG1heENvdW50KSB7XG4gICAgICAgICAgICBzdGF0ZUNvdW50WzNdKys7XG4gICAgICAgICAgICBqKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGogPT09IG1heEogfHwgc3RhdGVDb3VudFszXSA+PSBtYXhDb3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgaW1hZ2UuZ2V0KGosIGNlbnRlckkpICYmIHN0YXRlQ291bnRbNF0gPCBtYXhDb3VudCkge1xuICAgICAgICAgICAgc3RhdGVDb3VudFs0XSsrO1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZUNvdW50WzRdID49IG1heENvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgc2lnbmlmaWNhbnRseSBkaWZmZXJlbnQgdGhhblxuICAgICAgICAvLyB0aGUgb3JpZ2luYWwsIGFzc3VtZSBpdCdzIGEgZmFsc2UgcG9zaXRpdmVcbiAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gK1xuICAgICAgICAgICAgc3RhdGVDb3VudFs0XTtcbiAgICAgICAgaWYgKDUgKiBNYXRoLmFicyhzdGF0ZUNvdW50VG90YWwgLSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgPj0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaikgOiBOYU47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGxcbiAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwsIGFoLCBjcm9zcy1jcm9zcy1jaGVja1xuICAgICAqIHdpdGggYW5vdGhlciBob3Jpem9udGFsIHNjYW4uIFRoaXMgaXMgbmVlZGVkIHByaW1hcmlseSB0byBsb2NhdGUgdGhlIHJlYWwgaG9yaXpvbnRhbFxuICAgICAqIGNlbnRlciBvZiB0aGUgcGF0dGVybiBpbiBjYXNlcyBvZiBleHRyZW1lIHNrZXcuXG4gICAgICogQW5kIHRoZW4gd2UgY3Jvc3MtY3Jvc3MtY3Jvc3MgY2hlY2sgd2l0aCBhbm90aGVyIGRpYWdvbmFsIHNjYW4uPC9wPlxuICAgICAqXG4gICAgICogPHA+SWYgdGhhdCBzdWNjZWVkcyB0aGUgZmluZGVyIHBhdHRlcm4gbG9jYXRpb24gaXMgYWRkZWQgdG8gYSBsaXN0IHRoYXQgdHJhY2tzXG4gICAgICogdGhlIG51bWJlciBvZiB0aW1lcyBlYWNoIGxvY2F0aW9uIGhhcyBiZWVuIG5lYXJseS1tYXRjaGVkIGFzIGEgZmluZGVyIHBhdHRlcm4uXG4gICAgICogRWFjaCBhZGRpdGlvbmFsIGZpbmQgaXMgbW9yZSBldmlkZW5jZSB0aGF0IHRoZSBsb2NhdGlvbiBpcyBpbiBmYWN0IGEgZmluZGVyXG4gICAgICogcGF0dGVybiBjZW50ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhblxuICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBmaW5kZXIgcGF0dGVybiBtYXkgYmUgZm91bmRcbiAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgZmluZGVyIHBhdHRlcm4gaW4gcm93XG4gICAgICogQHBhcmFtIHB1cmVCYXJjb2RlIHRydWUgaWYgaW4gXCJwdXJlIGJhcmNvZGVcIiBtb2RlXG4gICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWVcbiAgICAgKi9cbiAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHtcbiAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gK1xuICAgICAgICAgICAgc3RhdGVDb3VudFs0XTtcbiAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7XG4gICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpO1xuICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7XG4gICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVja1xuICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmXG4gICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6XG4gICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybihjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXN1bHRQb2ludENhbGxiYWNrICE9PSBudWxsICYmIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2suZm91bmRQb3NzaWJsZVJlc3VsdFBvaW50KHBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIG51bWJlciBvZiByb3dzIHdlIGNvdWxkIHNhZmVseSBza2lwIGR1cmluZyBzY2FubmluZywgYmFzZWQgb24gdGhlIGZpcnN0XG4gICAgICogICAgICAgICB0d28gZmluZGVyIHBhdHRlcm5zIHRoYXQgaGF2ZSBiZWVuIGxvY2F0ZWQuIEluIHNvbWUgY2FzZXMgdGhlaXIgcG9zaXRpb24gd2lsbFxuICAgICAqICAgICAgICAgYWxsb3cgdXMgdG8gaW5mZXIgdGhhdCB0aGUgdGhpcmQgcGF0dGVybiBtdXN0IGxpZSBiZWxvdyBhIGNlcnRhaW4gcG9pbnQgZmFydGhlclxuICAgICAqICAgICAgICAgZG93biBpbiB0aGUgaW1hZ2UuXG4gICAgICovXG4gICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZmluZFJvd1NraXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgbWF4ID0gdGhpcy5wb3NzaWJsZUNlbnRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAobWF4IDw9IDEpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaXJzdENvbmZpcm1lZENlbnRlciA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMucG9zc2libGVDZW50ZXJzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoY2VudGVyLmdldENvdW50KCkgPj0gRmluZGVyUGF0dGVybkZpbmRlci5DRU5URVJfUVVPUlVNKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdENvbmZpcm1lZENlbnRlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdENvbmZpcm1lZENlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdHdvIGNvbmZpcm1lZCBjZW50ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBIb3cgZmFyIGRvd24gY2FuIHdlIHNraXAgYmVmb3JlIHJlc3VtaW5nIGxvb2tpbmcgZm9yIHRoZSBuZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXR0ZXJuPyBJbiB0aGUgd29yc3QgY2FzZSwgb25seSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlmZmVyZW5jZSBpbiB0aGUgeCAvIHkgY29vcmRpbmF0ZXMgb2YgdGhlIHR3byBjZW50ZXJzLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgY2FzZSB3aGVyZSB5b3UgZmluZCB0b3AgbGVmdCBsYXN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNTa2lwcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAvKihpbnQpICovIE1hdGguZmxvb3IoKE1hdGguYWJzKGZpcnN0Q29uZmlybWVkQ2VudGVyLmdldFgoKSAtIGNlbnRlci5nZXRYKCkpIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRZKCkgLSBjZW50ZXIuZ2V0WSgpKSkgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB0cnVlIGlmZiB3ZSBoYXZlIGZvdW5kIGF0IGxlYXN0IDMgZmluZGVyIHBhdHRlcm5zIHRoYXQgaGF2ZSBiZWVuIGRldGVjdGVkXG4gICAgICogICAgICAgICBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzIGVhY2gsIGFuZCwgdGhlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBvZiB0aGVcbiAgICAgKiAgICAgICAgIGNhbmRpZGF0ZXMgaXMgXCJwcmV0dHkgc2ltaWxhclwiXG4gICAgICovXG4gICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuaGF2ZU11bHRpcGx5Q29uZmlybWVkQ2VudGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMiwgX2EsIGVfMywgX2I7XG4gICAgICAgIHZhciBjb25maXJtZWRDb3VudCA9IDA7XG4gICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7XG4gICAgICAgIHZhciBtYXggPSB0aGlzLnBvc3NpYmxlQ2VudGVycy5sZW5ndGg7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHRoaXMucG9zc2libGVDZW50ZXJzKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gX2QudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4uZ2V0Q291bnQoKSA+PSBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybWVkQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgdG90YWxNb2R1bGVTaXplICs9IHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maXJtZWRDb3VudCA8IDMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPSywgd2UgaGF2ZSBhdCBsZWFzdCAzIGNvbmZpcm1lZCBjZW50ZXJzLCBidXQsIGl0J3MgcG9zc2libGUgdGhhdCBvbmUgaXMgYSBcImZhbHNlIHBvc2l0aXZlXCJcbiAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplc1xuICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHNcbiAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC5cbiAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7XG4gICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTtcbiAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSBcImJlc3RcIiBhcmVcbiAgICAgKiAgICAgICAgIHRob3NlIHRoYXQgaGF2ZSBiZWVuIGRldGVjdGVkIGF0IGxlYXN0IHtAbGluayAjQ0VOVEVSX1FVT1JVTX0gdGltZXMsIGFuZCB3aG9zZSBtb2R1bGVcbiAgICAgKiAgICAgICAgIHNpemUgZGlmZmVycyBmcm9tIHRoZSBhdmVyYWdlIGFtb25nIHRob3NlIHBhdHRlcm5zIHRoZSBsZWFzdFxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgMyBzdWNoIGZpbmRlciBwYXR0ZXJucyBkbyBub3QgZXhpc3RcbiAgICAgKi9cbiAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5zZWxlY3RCZXN0UGF0dGVybnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzQsIF9hLCBlXzUsIF9iO1xuICAgICAgICB2YXIgc3RhcnRTaXplID0gdGhpcy5wb3NzaWJsZUNlbnRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAoc3RhcnRTaXplIDwgMykge1xuICAgICAgICAgICAgLy8gQ291bGRuJ3QgZmluZCBlbm91Z2ggZmluZGVyIHBhdHRlcm5zXG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7XG4gICAgICAgIHZhciBhdmVyYWdlO1xuICAgICAgICAvLyBGaWx0ZXIgb3V0bGllciBwb3NzaWJpbGl0aWVzIHdob3NlIG1vZHVsZSBzaXplIGlzIHRvbyBkaWZmZXJlbnRcbiAgICAgICAgaWYgKHN0YXJ0U2l6ZSA+IDMpIHtcbiAgICAgICAgICAgIC8vIEJ1dCB3ZSBjYW4gb25seSBhZmZvcmQgdG8gZG8gc28gaWYgd2UgaGF2ZSBhdCBsZWFzdCA0IHBvc3NpYmlsaXRpZXMgdG8gY2hvb3NlIGZyb21cbiAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7XG4gICAgICAgICAgICB2YXIgc3F1YXJlID0gMC4wO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHRoaXMucG9zc2libGVDZW50ZXJzKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2QudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gY2VudGVyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxNb2R1bGVTaXplICs9IHNpemU7XG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZSArPSBzaXplICogc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV80XzEpIHsgZV80ID0geyBlcnJvcjogZV80XzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNCkgdGhyb3cgZV80LmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gc3RhcnRTaXplO1xuICAgICAgICAgICAgdmFyIHN0ZERldiA9IE1hdGguc3FydChzcXVhcmUgLyBzdGFydFNpemUgLSBhdmVyYWdlICogYXZlcmFnZSk7XG4gICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc29ydChcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogPHA+T3JkZXJzIGJ5IGZ1cnRoZXN0IGZyb20gYXZlcmFnZTwvcD5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLy8gRnVydGhlc3RGcm9tQXZlcmFnZUNvbXBhcmF0b3IgaW1wbGVtZW50cyBDb21wYXJhdG9yPEZpbmRlclBhdHRlcm4+XG4gICAgICAgICAgICBmdW5jdGlvbiAoY2VudGVyMSwgY2VudGVyMikge1xuICAgICAgICAgICAgICAgIHZhciBkQSA9IE1hdGguYWJzKGNlbnRlcjIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7XG4gICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZEEgPCBkQiA/IC0xIDogZEEgPiBkQiA/IDEgOiAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbGltaXQgPSBNYXRoLm1heCgwLjIgKiBhdmVyYWdlLCBzdGREZXYpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoICYmIHBvc3NpYmxlQ2VudGVycy5sZW5ndGggPiAzOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcGF0dGVybiA9IHBvc3NpYmxlQ2VudGVyc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMocGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKSA+IGxpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc3NpYmxlQ2VudGVycy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAvLyBUaHJvdyBhd2F5IGFsbCBidXQgdGhvc2UgZmlyc3Qgc2l6ZSBjYW5kaWRhdGUgcG9pbnRzIHdlIGZvdW5kLlxuICAgICAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcG9zc2libGVDZW50ZXJzXzEgPSBfX3ZhbHVlcyhwb3NzaWJsZUNlbnRlcnMpLCBwb3NzaWJsZUNlbnRlcnNfMV8xID0gcG9zc2libGVDZW50ZXJzXzEubmV4dCgpOyAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lOyBwb3NzaWJsZUNlbnRlcnNfMV8xID0gcG9zc2libGVDZW50ZXJzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3NzaWJsZUNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBwb3NzaWJsZUNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfNV8xKSB7IGVfNSA9IHsgZXJyb3I6IGVfNV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnNfMV8xICYmICFwb3NzaWJsZUNlbnRlcnNfMV8xLmRvbmUgJiYgKF9iID0gcG9zc2libGVDZW50ZXJzXzEucmV0dXJuKSkgX2IuY2FsbChwb3NzaWJsZUNlbnRlcnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV81KSB0aHJvdyBlXzUuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoO1xuICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSB7QGxpbmsgRmluZGVyUGF0dGVybiNnZXRDb3VudCgpfSwgZGVzY2VuZGluZy48L3A+XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC8vIENlbnRlckNvbXBhcmF0b3IgaW1wbGVtZW50cyBDb21wYXJhdG9yPEZpbmRlclBhdHRlcm4+XG4gICAgICAgICAgICBmdW5jdGlvbiAoY2VudGVyMSwgY2VudGVyMikge1xuICAgICAgICAgICAgICAgIGlmIChjZW50ZXIyLmdldENvdW50KCkgPT09IGNlbnRlcjEuZ2V0Q291bnQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZEIgPSBNYXRoLmFicyhjZW50ZXIxLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZEEgPCBkQiA/IDEgOiBkQSA+IGRCID8gLTEgOiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlcjIuZ2V0Q291bnQoKSAtIGNlbnRlcjEuZ2V0Q291bnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zcGxpY2UoMyk7IC8vIHRoaXMgaXMgbm90IHJlYWx5IG5lY2Vzc2FyeSBhcyB3ZSBvbmx5IHJldHVybiBmaXJzdCAzIGFueXdheVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnNbMF0sXG4gICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnNbMV0sXG4gICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnNbMl1cbiAgICAgICAgXTtcbiAgICB9O1xuICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSA9IDI7XG4gICAgRmluZGVyUGF0dGVybkZpbmRlci5NSU5fU0tJUCA9IDM7IC8vIDEgcGl4ZWwvbW9kdWxlIHRpbWVzIDMgbW9kdWxlcy9jZW50ZXJcbiAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLk1BWF9NT0RVTEVTID0gNTc7IC8vIHN1cHBvcnQgdXAgdG8gdmVyc2lvbiAxMCBmb3IgbW9iaWxlIGNsaWVudHNcbiAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBGaW5kZXJQYXR0ZXJuRmluZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RmluZGVyUGF0dGVybkZpbmRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBNYXRoVXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2RldGVjdG9yL01hdGhVdGlscyc7XG5pbXBvcnQgRGV0ZWN0b3JSZXN1bHQgZnJvbSAnLi4vLi4vY29tbW9uL0RldGVjdG9yUmVzdWx0Jztcbi8vIGltcG9ydCBHcmlkU2FtcGxlciBmcm9tICcuLi8uLi9jb21tb24vR3JpZFNhbXBsZXInO1xuaW1wb3J0IEdyaWRTYW1wbGVySW5zdGFuY2UgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVySW5zdGFuY2UnO1xuaW1wb3J0IFBlcnNwZWN0aXZlVHJhbnNmb3JtIGZyb20gJy4uLy4uL2NvbW1vbi9QZXJzcGVjdGl2ZVRyYW5zZm9ybSc7XG5pbXBvcnQgRGVjb2RlSGludFR5cGUgZnJvbSAnLi4vLi4vRGVjb2RlSGludFR5cGUnO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uLy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi8uLi9SZXN1bHRQb2ludCc7XG5pbXBvcnQgVmVyc2lvbiBmcm9tICcuLi9kZWNvZGVyL1ZlcnNpb24nO1xuaW1wb3J0IEFsaWdubWVudFBhdHRlcm5GaW5kZXIgZnJvbSAnLi9BbGlnbm1lbnRQYXR0ZXJuRmluZGVyJztcbmltcG9ydCBGaW5kZXJQYXR0ZXJuRmluZGVyIGZyb20gJy4vRmluZGVyUGF0dGVybkZpbmRlcic7XG4vKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovXG4vKipcbiAqIDxwPkVuY2Fwc3VsYXRlcyBsb2dpYyB0aGF0IGNhbiBkZXRlY3QgYSBRUiBDb2RlIGluIGFuIGltYWdlLCBldmVuIGlmIHRoZSBRUiBDb2RlXG4gKiBpcyByb3RhdGVkIG9yIHNrZXdlZCwgb3IgcGFydGlhbGx5IG9ic2N1cmVkLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgRGV0ZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGV0ZWN0b3IoaW1hZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgIH1cbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlO1xuICAgIH07XG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldFJlc3VsdFBvaW50Q2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2s7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5EZXRlY3RzIGEgUVIgQ29kZSBpbiBhbiBpbWFnZS48L3A+XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtAbGluayBEZXRlY3RvclJlc3VsdH0gZW5jYXBzdWxhdGluZyByZXN1bHRzIG9mIGRldGVjdGluZyBhIFFSIENvZGVcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIFFSIENvZGUgY2Fubm90IGJlIGZvdW5kXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkXG4gICAgICovXG4gICAgLy8gcHVibGljIGRldGVjdCgpOiBEZXRlY3RvclJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgRm9ybWF0RXhjZXB0aW9uKi8ge1xuICAgIC8vICAgcmV0dXJuIGRldGVjdChudWxsKVxuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiA8cD5EZXRlY3RzIGEgUVIgQ29kZSBpbiBhbiBpbWFnZS48L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGludHMgb3B0aW9uYWwgaGludHMgdG8gZGV0ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtAbGluayBEZXRlY3RvclJlc3VsdH0gZW5jYXBzdWxhdGluZyByZXN1bHRzIG9mIGRldGVjdGluZyBhIFFSIENvZGVcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIFFSIENvZGUgY2Fubm90IGJlIGZvdW5kXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkXG4gICAgICovXG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLmRldGVjdCA9IGZ1bmN0aW9uIChoaW50cykge1xuICAgICAgICB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgPSAoaGludHMgPT09IG51bGwgfHwgaGludHMgPT09IHVuZGVmaW5lZCkgPyBudWxsIDpcbiAgICAgICAgICAgIC8qKFJlc3VsdFBvaW50Q2FsbGJhY2spICovIGhpbnRzLmdldChEZWNvZGVIaW50VHlwZS5ORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyk7XG4gICAgICAgIHZhciBmaW5kZXIgPSBuZXcgRmluZGVyUGF0dGVybkZpbmRlcih0aGlzLmltYWdlLCB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2spO1xuICAgICAgICB2YXIgaW5mbyA9IGZpbmRlci5maW5kKGhpbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvKGluZm8pO1xuICAgIH07XG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLnByb2Nlc3NGaW5kZXJQYXR0ZXJuSW5mbyA9IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgIHZhciB0b3BMZWZ0ID0gaW5mby5nZXRUb3BMZWZ0KCk7XG4gICAgICAgIHZhciB0b3BSaWdodCA9IGluZm8uZ2V0VG9wUmlnaHQoKTtcbiAgICAgICAgdmFyIGJvdHRvbUxlZnQgPSBpbmZvLmdldEJvdHRvbUxlZnQoKTtcbiAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemUodG9wTGVmdCwgdG9wUmlnaHQsIGJvdHRvbUxlZnQpO1xuICAgICAgICBpZiAobW9kdWxlU2l6ZSA8IDEuMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCdObyBwYXR0ZXJuIGZvdW5kIGluIHByb2NjZXNzIGZpbmRlci4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGltZW5zaW9uID0gRGV0ZWN0b3IuY29tcHV0ZURpbWVuc2lvbih0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgbW9kdWxlU2l6ZSk7XG4gICAgICAgIHZhciBwcm92aXNpb25hbFZlcnNpb24gPSBWZXJzaW9uLmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pO1xuICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNztcbiAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsO1xuICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuXG4gICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhIFwiYm90dG9tIHJpZ2h0XCIgZmluZGVyIHBhdHRlcm4gd291bGQgaGF2ZSBiZWVuXG4gICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRYID0gdG9wUmlnaHQuZ2V0WCgpIC0gdG9wTGVmdC5nZXRYKCkgKyBib3R0b21MZWZ0LmdldFgoKTtcbiAgICAgICAgICAgIHZhciBib3R0b21SaWdodFkgPSB0b3BSaWdodC5nZXRZKCkgLSB0b3BMZWZ0LmdldFkoKSArIGJvdHRvbUxlZnQuZ2V0WSgpO1xuICAgICAgICAgICAgLy8gRXN0aW1hdGUgdGhhdCBhbGlnbm1lbnQgcGF0dGVybiBpcyBjbG9zZXIgYnkgMyBtb2R1bGVzXG4gICAgICAgICAgICAvLyBmcm9tIFwiYm90dG9tIHJpZ2h0XCIgdG8ga25vd24gdG9wIGxlZnQgbG9jYXRpb25cbiAgICAgICAgICAgIHZhciBjb3JyZWN0aW9uVG9Ub3BMZWZ0ID0gMS4wIC0gMy4wIC8gbW9kdWxlc0JldHdlZW5GUENlbnRlcnM7XG4gICAgICAgICAgICB2YXIgZXN0QWxpZ25tZW50WCA9IC8qKGludCkgKi8gTWF0aC5mbG9vcih0b3BMZWZ0LmdldFgoKSArIGNvcnJlY3Rpb25Ub1RvcExlZnQgKiAoYm90dG9tUmlnaHRYIC0gdG9wTGVmdC5nZXRYKCkpKTtcbiAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRZID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WSgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFkgLSB0b3BMZWZ0LmdldFkoKSkpO1xuICAgICAgICAgICAgLy8gS2luZCBvZiBhcmJpdHJhcnkgLS0gZXhwYW5kIHNlYXJjaCByYWRpdXMgYmVmb3JlIGdpdmluZyB1cFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDQ7IGkgPD0gMTY7IGkgPDw9IDEpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnRQYXR0ZXJuID0gdGhpcy5maW5kQWxpZ25tZW50SW5SZWdpb24obW9kdWxlU2l6ZSwgZXN0QWxpZ25tZW50WCwgZXN0QWxpZ25tZW50WSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAocmUgLypOb3RGb3VuZEV4Y2VwdGlvbiovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlIGluc3RhbmNlb2YgTm90Rm91bmRFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyByZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB0cnkgbmV4dCByb3VuZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGFsaWdubWVudCBwYXR0ZXJuLi4uIHdlbGwgdHJ5IGFueXdheSB3aXRob3V0IGl0XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYW5zZm9ybSA9IERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uKTtcbiAgICAgICAgdmFyIGJpdHMgPSBEZXRlY3Rvci5zYW1wbGVHcmlkKHRoaXMuaW1hZ2UsIHRyYW5zZm9ybSwgZGltZW5zaW9uKTtcbiAgICAgICAgdmFyIHBvaW50cztcbiAgICAgICAgaWYgKGFsaWdubWVudFBhdHRlcm4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb2ludHMgPSBbYm90dG9tTGVmdCwgdG9wTGVmdCwgdG9wUmlnaHQsIGFsaWdubWVudFBhdHRlcm5dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKTtcbiAgICB9O1xuICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHtcbiAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7XG4gICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqL1xuICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki9cbiAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovXG4gICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqL1xuICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7XG4gICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTtcbiAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7XG4gICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludFxuICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpO1xuICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpO1xuICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTtcbiAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnF1YWRyaWxhdGVyYWxUb1F1YWRyaWxhdGVyYWwoMy41LCAzLjUsIGRpbU1pbnVzVGhyZWUsIDMuNSwgc291cmNlQm90dG9tUmlnaHRYLCBzb3VyY2VCb3R0b21SaWdodFksIDMuNSwgZGltTWludXNUaHJlZSwgdG9wTGVmdC5nZXRYKCksIHRvcExlZnQuZ2V0WSgpLCB0b3BSaWdodC5nZXRYKCksIHRvcFJpZ2h0LmdldFkoKSwgYm90dG9tUmlnaHRYLCBib3R0b21SaWdodFksIGJvdHRvbUxlZnQuZ2V0WCgpLCBib3R0b21MZWZ0LmdldFkoKSk7XG4gICAgfTtcbiAgICBEZXRlY3Rvci5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCB0cmFuc2Zvcm0sIGRpbWVuc2lvbiAvKmludCovKSB7XG4gICAgICAgIHZhciBzYW1wbGVyID0gR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSgpO1xuICAgICAgICByZXR1cm4gc2FtcGxlci5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uLCBkaW1lbnNpb24sIHRyYW5zZm9ybSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5Db21wdXRlcyB0aGUgZGltZW5zaW9uIChudW1iZXIgb2YgbW9kdWxlcyBvbiBhIHNpemUpIG9mIHRoZSBRUiBDb2RlIGJhc2VkIG9uIHRoZSBwb3NpdGlvblxuICAgICAqIG9mIHRoZSBmaW5kZXIgcGF0dGVybnMgYW5kIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+XG4gICAgICovXG4gICAgRGV0ZWN0b3IuY29tcHV0ZURpbWVuc2lvbiA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgbW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHtcbiAgICAgICAgdmFyIHRsdHJDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzLnJvdW5kKFJlc3VsdFBvaW50LmRpc3RhbmNlKHRvcExlZnQsIHRvcFJpZ2h0KSAvIG1vZHVsZVNpemUpO1xuICAgICAgICB2YXIgdGxibENlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHMucm91bmQoUmVzdWx0UG9pbnQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTtcbiAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3O1xuICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDRcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkaW1lbnNpb24rKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmdcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaW1lbnNpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnNcbiAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlclxuICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyXG4gICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyXG4gICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemVcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkge1xuICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlXG4gICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlc1xuICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZVxuICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPlxuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikge1xuICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIFxuICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCBcbiAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCBcbiAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTtcbiAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIFxuICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIFxuICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCBcbiAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7XG4gICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLFxuICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuXG4gICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2ZcbiAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uXG4gICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uXG4gICAgICovXG4gICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7XG4gICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlXG4gICAgICAgIHZhciBzY2FsZSA9IDEuMDtcbiAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpO1xuICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7XG4gICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTtcbiAgICAgICAgICAgIG90aGVyVG9YID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHtcbiAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpO1xuICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7XG4gICAgICAgIHNjYWxlID0gMS4wO1xuICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7XG4gICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTtcbiAgICAgICAgICAgIG90aGVyVG9ZID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7XG4gICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7XG4gICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxO1xuICAgICAgICB9XG4gICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpO1xuICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpO1xuICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDFcbiAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuXG4gICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uXG4gICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+XG4gICAgICpcbiAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm5cbiAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPlxuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7XG4gICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG1cbiAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG1cbiAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpO1xuICAgICAgICBpZiAoc3RlZXApIHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7XG4gICAgICAgICAgICBmcm9tWCA9IGZyb21ZO1xuICAgICAgICAgICAgZnJvbVkgPSB0ZW1wO1xuICAgICAgICAgICAgdGVtcCA9IHRvWDtcbiAgICAgICAgICAgIHRvWCA9IHRvWTtcbiAgICAgICAgICAgIHRvWSA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpO1xuICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7XG4gICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7XG4gICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xO1xuICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTtcbiAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuXG4gICAgICAgIHZhciBzdGF0ZSA9IDA7XG4gICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kXG4gICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDtcbiAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkge1xuICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDtcbiAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7XG4gICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/XG4gICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nXG4gICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5XG4gICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzLmRpc3RhbmNlKHgsIHksIGZyb21YLCBmcm9tWSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0YXRlKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlcnJvciArPSBkeTtcbiAgICAgICAgICAgIGlmIChlcnJvciA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoeSA9PT0gdG9ZKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5ICs9IHlzdGVwO1xuICAgICAgICAgICAgICAgIGVycm9yIC09IGR4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZvdW5kIGJsYWNrLXdoaXRlLWJsYWNrOyBnaXZlIHRoZSBiZW5lZml0IG9mIHRoZSBkb3VidCB0aGF0IHRoZSBuZXh0IHBpeGVsIG91dHNpZGUgdGhlIGltYWdlXG4gICAgICAgIC8vIGlzIFwid2hpdGVcIiBzbyB0aGlzIGxhc3QgcG9pbnQgYXQgKHRvWCt4U3RlcCx0b1kpIGlzIHRoZSByaWdodCBlbmRpbmcuIFRoaXMgaXMgcmVhbGx5IGFcbiAgICAgICAgLy8gc21hbGwgYXBwcm94aW1hdGlvbjsgKHRvWCt4U3RlcCx0b1kreVN0ZXApIG1pZ2h0IGJlIHJlYWxseSBjb3JyZWN0LiBJZ25vcmUgdGhpcy5cbiAgICAgICAgaWYgKHN0YXRlID09PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzLmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGVcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXNcbiAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyXG4gICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm5cbiAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmVcbiAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlclxuICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZVxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvblxuICAgICAqL1xuICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykge1xuICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdFxuICAgICAgICAvLyBzaG91bGQgYmVcbiAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7XG4gICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTtcbiAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTtcbiAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbignQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTtcbiAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpO1xuICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcih0aGlzLmltYWdlLCBhbGlnbm1lbnRBcmVhTGVmdFgsIGFsaWdubWVudEFyZWFUb3BZLCBhbGlnbm1lbnRBcmVhUmlnaHRYIC0gYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhQm90dG9tWSAtIGFsaWdubWVudEFyZWFUb3BZLCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSwgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIGFsaWdubWVudEZpbmRlci5maW5kKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRGV0ZWN0b3I7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGV0ZWN0b3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZXRlY3Rvci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqL1xuaW1wb3J0IEJhcmNvZGVGb3JtYXQgZnJvbSAnLi4vQmFyY29kZUZvcm1hdCc7XG5pbXBvcnQgQml0TWF0cml4IGZyb20gJy4uL2NvbW1vbi9CaXRNYXRyaXgnO1xuaW1wb3J0IERlY29kZUhpbnRUeXBlIGZyb20gJy4uL0RlY29kZUhpbnRUeXBlJztcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi9Ob3RGb3VuZEV4Y2VwdGlvbic7XG5pbXBvcnQgUmVzdWx0IGZyb20gJy4uL1Jlc3VsdCc7XG5pbXBvcnQgUmVzdWx0TWV0YWRhdGFUeXBlIGZyb20gJy4uL1Jlc3VsdE1ldGFkYXRhVHlwZSc7XG4vLyBpbXBvcnQgRGV0ZWN0b3JSZXN1bHQgZnJvbSAnLi4vY29tbW9uL0RldGVjdG9yUmVzdWx0JztcbmltcG9ydCBEZWNvZGVyIGZyb20gJy4vZGVjb2Rlci9EZWNvZGVyJztcbmltcG9ydCBRUkNvZGVEZWNvZGVyTWV0YURhdGEgZnJvbSAnLi9kZWNvZGVyL1FSQ29kZURlY29kZXJNZXRhRGF0YSc7XG5pbXBvcnQgRGV0ZWN0b3IgZnJvbSAnLi9kZXRlY3Rvci9EZXRlY3Rvcic7XG4vKmltcG9ydCBqYXZhLnV0aWwuTGlzdDsqL1xuLyppbXBvcnQgamF2YS51dGlsLk1hcDsqL1xuLyoqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIGNhbiBkZXRlY3QgYW5kIGRlY29kZSBRUiBDb2RlcyBpbiBhbiBpbWFnZS5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICovXG52YXIgUVJDb2RlUmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFFSQ29kZVJlYWRlcigpIHtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gbmV3IERlY29kZXIoKTtcbiAgICB9XG4gICAgUVJDb2RlUmVhZGVyLnByb3RvdHlwZS5nZXREZWNvZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9jYXRlcyBhbmQgZGVjb2RlcyBhIFFSIGNvZGUgaW4gYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEgcmVwcmVzZW50aW5nOiBzdHJpbmcgdGhlIGNvbnRlbnQgZW5jb2RlZCBieSB0aGUgUVIgY29kZVxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBmb3VuZFxuICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgY29kZSBjYW5ub3QgYmUgZGVjb2RlZFxuICAgICAqIEB0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24gaWYgZXJyb3IgY29ycmVjdGlvbiBmYWlsc1xuICAgICAqL1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBCaW5hcnlCaXRtYXApOiBSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24gKi8ge1xuICAgIC8vICAgcmV0dXJuIHRoaXMuZGVjb2RlKGltYWdlLCBudWxsKVxuICAgIC8vIH1cbiAgICAvKkBPdmVycmlkZSovXG4gICAgUVJDb2RlUmVhZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7XG4gICAgICAgIHZhciBkZWNvZGVyUmVzdWx0O1xuICAgICAgICB2YXIgcG9pbnRzO1xuICAgICAgICBpZiAoaGludHMgIT09IHVuZGVmaW5lZCAmJiBoaW50cyAhPT0gbnVsbCAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZS5QVVJFX0JBUkNPREUpKSB7XG4gICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7XG4gICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7XG4gICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yKGltYWdlLmdldEJsYWNrTWF0cml4KCkpLmRldGVjdChoaW50cyk7XG4gICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChkZXRlY3RvclJlc3VsdC5nZXRCaXRzKCksIGhpbnRzKTtcbiAgICAgICAgICAgIHBvaW50cyA9IGRldGVjdG9yUmVzdWx0LmdldFBvaW50cygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBjb2RlIHdhcyBtaXJyb3JlZDogc3dhcCB0aGUgYm90dG9tLWxlZnQgYW5kIHRoZSB0b3AtcmlnaHQgcG9pbnRzLlxuICAgICAgICBpZiAoZGVjb2RlclJlc3VsdC5nZXRPdGhlcigpIGluc3RhbmNlb2YgUVJDb2RlRGVjb2Rlck1ldGFEYXRhKSB7XG4gICAgICAgICAgICBkZWNvZGVyUmVzdWx0LmdldE90aGVyKCkuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24ocG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFJlc3VsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdC5RUl9DT0RFLCB1bmRlZmluZWQpO1xuICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gZGVjb2RlclJlc3VsdC5nZXRCeXRlU2VnbWVudHMoKTtcbiAgICAgICAgaWYgKGJ5dGVTZWdtZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZS5CWVRFX1NFR01FTlRTLCBieXRlU2VnbWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlY0xldmVsID0gZGVjb2RlclJlc3VsdC5nZXRFQ0xldmVsKCk7XG4gICAgICAgIGlmIChlY0xldmVsICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQucHV0TWV0YWRhdGEoUmVzdWx0TWV0YWRhdGFUeXBlLkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZS5TVFJVQ1RVUkVEX0FQUEVORF9TRVFVRU5DRSwgZGVjb2RlclJlc3VsdC5nZXRTdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIoKSk7XG4gICAgICAgICAgICByZXN1bHQucHV0TWV0YWRhdGEoUmVzdWx0TWV0YWRhdGFUeXBlLlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSwgZGVjb2RlclJlc3VsdC5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5KCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgUVJDb2RlUmVhZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgZGV0ZWN0cyBhIGNvZGUgaW4gYSBcInB1cmVcIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2VcbiAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlclxuICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWxcbiAgICAgKiBjYXNlLlxuICAgICAqXG4gICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KVxuICAgICAqL1xuICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpO1xuICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTtcbiAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZShsZWZ0VG9wQmxhY2ssIGltYWdlKTtcbiAgICAgICAgdmFyIHRvcCA9IGxlZnRUb3BCbGFja1sxXTtcbiAgICAgICAgdmFyIGJvdHRvbSA9IHJpZ2h0Qm90dG9tQmxhY2tbMV07XG4gICAgICAgIHZhciBsZWZ0ID0gbGVmdFRvcEJsYWNrWzBdO1xuICAgICAgICB2YXIgcmlnaHQgPSByaWdodEJvdHRvbUJsYWNrWzBdO1xuICAgICAgICAvLyBTYW5pdHkgY2hlY2shXG4gICAgICAgIGlmIChsZWZ0ID49IHJpZ2h0IHx8IHRvcCA+PSBib3R0b20pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChib3R0b20gLSB0b3AgIT09IHJpZ2h0IC0gbGVmdCkge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlLCB3aGVyZSBib3R0b20tcmlnaHQgbW9kdWxlIHdhc24ndCBibGFjayBzbyB3ZSBmb3VuZCBzb21ldGhpbmcgZWxzZSBpbiB0aGUgbGFzdCByb3dcbiAgICAgICAgICAgIC8vIEFzc3VtZSBpdCdzIGEgc3F1YXJlLCBzbyB1c2UgaGVpZ2h0IGFzIHRoZSB3aWR0aFxuICAgICAgICAgICAgcmlnaHQgPSBsZWZ0ICsgKGJvdHRvbSAtIHRvcCk7XG4gICAgICAgICAgICBpZiAocmlnaHQgPj0gaW1hZ2UuZ2V0V2lkdGgoKSkge1xuICAgICAgICAgICAgICAgIC8vIEFib3J0IGlmIHRoYXQgd291bGQgbm90IG1ha2Ugc2Vuc2UgLS0gb2ZmIGltYWdlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTtcbiAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7XG4gICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0cml4SGVpZ2h0ICE9PSBtYXRyaXhXaWR0aCkge1xuICAgICAgICAgICAgLy8gT25seSBwb3NzaWJseSBkZWNvZGUgc3F1YXJlIHJlZ2lvbnNcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFB1c2ggaW4gdGhlIFwiYm9yZGVyXCIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnRcbiAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGFcbiAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci5cbiAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApO1xuICAgICAgICB0b3AgKz0gbnVkZ2U7XG4gICAgICAgIGxlZnQgKz0gbnVkZ2U7XG4gICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlXG4gICAgICAgIC8vIFwicmlnaHRcIiBpcyB0aGUgZmFydGhlc3QtcmlnaHQgdmFsaWQgcGl4ZWwgbG9jYXRpb24gLS0gcmlnaHQrMSBpcyBub3QgbmVjZXNzYXJpbHlcbiAgICAgICAgLy8gVGhpcyBpcyBwb3NpdGl2ZSBieSBob3cgbXVjaCB0aGUgaW5uZXIgeCBsb29wIGJlbG93IHdvdWxkIGJlIHRvbyBsYXJnZVxuICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyUmlnaHQgPSBsZWZ0ICsgLyooaW50KSAqLyBNYXRoLmZsb29yKChtYXRyaXhXaWR0aCAtIDEpICogbW9kdWxlU2l6ZSkgLSByaWdodDtcbiAgICAgICAgaWYgKG51ZGdlZFRvb0ZhclJpZ2h0ID4gMCkge1xuICAgICAgICAgICAgaWYgKG51ZGdlZFRvb0ZhclJpZ2h0ID4gbnVkZ2UpIHtcbiAgICAgICAgICAgICAgICAvLyBOZWl0aGVyIHdheSBmaXRzOyBhYm9ydFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGVmdCAtPSBudWRnZWRUb29GYXJSaWdodDtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZWUgbG9naWMgYWJvdmVcbiAgICAgICAgdmFyIG51ZGdlZFRvb0ZhckRvd24gPSB0b3AgKyAvKihpbnQpICovIE1hdGguZmxvb3IoKG1hdHJpeEhlaWdodCAtIDEpICogbW9kdWxlU2l6ZSkgLSBib3R0b207XG4gICAgICAgIGlmIChudWRnZWRUb29GYXJEb3duID4gMCkge1xuICAgICAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiBudWRnZSkge1xuICAgICAgICAgICAgICAgIC8vIE5laXRoZXIgd2F5IGZpdHM7IGFib3J0XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0c1xuICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXgobWF0cml4V2lkdGgsIG1hdHJpeEhlaWdodCk7XG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF0cml4SGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIHZhciBpT2Zmc2V0ID0gdG9wICsgLyooaW50KSAqLyBNYXRoLmZsb29yKHkgKiBtb2R1bGVTaXplKTtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbWF0cml4V2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQobGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih4ICogbW9kdWxlU2l6ZSksIGlPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdHMuc2V0KHgsIHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYml0cztcbiAgICB9O1xuICAgIFFSQ29kZVJlYWRlci5tb2R1bGVTaXplID0gZnVuY3Rpb24gKGxlZnRUb3BCbGFjaywgaW1hZ2UpIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpO1xuICAgICAgICB2YXIgd2lkdGggPSBpbWFnZS5nZXRXaWR0aCgpO1xuICAgICAgICB2YXIgeCA9IGxlZnRUb3BCbGFja1swXTtcbiAgICAgICAgdmFyIHkgPSBsZWZ0VG9wQmxhY2tbMV07XG4gICAgICAgIHZhciBpbkJsYWNrID0gdHJ1ZTtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25zID0gMDtcbiAgICAgICAgd2hpbGUgKHggPCB3aWR0aCAmJiB5IDwgaGVpZ2h0KSB7XG4gICAgICAgICAgICBpZiAoaW5CbGFjayAhPT0gaW1hZ2UuZ2V0KHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCsrdHJhbnNpdGlvbnMgPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluQmxhY2sgPSAhaW5CbGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHgrKztcbiAgICAgICAgICAgIHkrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA9PT0gd2lkdGggfHwgeSA9PT0gaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHggLSBsZWZ0VG9wQmxhY2tbMF0pIC8gNy4wO1xuICAgIH07XG4gICAgUVJDb2RlUmVhZGVyLk5PX1BPSU5UUyA9IG5ldyBBcnJheSgpO1xuICAgIHJldHVybiBRUkNvZGVSZWFkZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUVJDb2RlUmVhZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UVJDb2RlUmVhZGVyLmpzLm1hcCIsIi8qXG4qIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnNcbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbi8vIHBhY2thZ2UgY29tLmdvb2dsZS56eGluZy5wZGY0MTc7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG4vLyBpbXBvcnQgamF2YS51dGlsLkFycmF5cztcbmltcG9ydCBBcnJheXMgZnJvbSAnLi4vdXRpbC9BcnJheXMnO1xuLy8gaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcuY29tbW9uLmRldGVjdG9yLk1hdGhVdGlscztcbmltcG9ydCBNYXRoVXRpbHMgZnJvbSAnLi4vY29tbW9uL2RldGVjdG9yL01hdGhVdGlscyc7XG4vKipcbiAqIEBhdXRob3IgU0lUQSBMYWIgKGtldmluLm9zdWxsaXZhbkBzaXRhLmFlcm8pXG4gKiBAYXV0aG9yIEd1ZW50aGVyIEdyYXVcbiAqL1xudmFyIFBERjQxN0NvbW1vbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQREY0MTdDb21tb24oKSB7XG4gICAgfVxuICAgIFBERjQxN0NvbW1vbi5wcm90b3R5cGUuUERGNDE3Q29tbW9uID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG1vZHVsZUJpdENvdW50IHZhbHVlcyB0byBzdW1cbiAgICAgKiBAcmV0dXJuIHN1bSBvZiB2YWx1ZXNcbiAgICAgKiBAZGVwcmVjYXRlZCBjYWxsIHtAbGluayBNYXRoVXRpbHMjc3VtKGludFtdKX1cbiAgICAgKi9cbiAgICAvLyBARGVwcmVjYXRlZFxuICAgIFBERjQxN0NvbW1vbi5nZXRCaXRDb3VudFN1bSA9IGZ1bmN0aW9uIChtb2R1bGVCaXRDb3VudCkge1xuICAgICAgICByZXR1cm4gTWF0aFV0aWxzLnN1bShtb2R1bGVCaXRDb3VudCk7XG4gICAgfTtcbiAgICBQREY0MTdDb21tb24udG9JbnRBcnJheSA9IGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICBpZiAobGlzdCA9PSBudWxsIHx8ICFsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFBERjQxN0NvbW1vbi5FTVBUWV9JTlRfQVJSQVk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBJbnQzMkFycmF5KGxpc3QubGVuZ3RoKTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgbGlzdF8xID0gX192YWx1ZXMobGlzdCksIGxpc3RfMV8xID0gbGlzdF8xLm5leHQoKTsgIWxpc3RfMV8xLmRvbmU7IGxpc3RfMV8xID0gbGlzdF8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBpbnRlZ2VyID0gbGlzdF8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2krK10gPSBpbnRlZ2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdF8xXzEgJiYgIWxpc3RfMV8xLmRvbmUgJiYgKF9hID0gbGlzdF8xLnJldHVybikpIF9hLmNhbGwobGlzdF8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHN5bWJvbCBlbmNvZGVkIHN5bWJvbCB0byB0cmFuc2xhdGUgdG8gYSBjb2Rld29yZFxuICAgICAqIEByZXR1cm4gdGhlIGNvZGV3b3JkIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHN5bWJvbC5cbiAgICAgKi9cbiAgICBQREY0MTdDb21tb24uZ2V0Q29kZXdvcmQgPSBmdW5jdGlvbiAoc3ltYm9sIC8qaW50Ki8pIHtcbiAgICAgICAgdmFyIGkgPSBBcnJheXMuYmluYXJ5U2VhcmNoKFBERjQxN0NvbW1vbi5TWU1CT0xfVEFCTEUsIHN5bWJvbCAmIDB4M0ZGRkYpO1xuICAgICAgICBpZiAoaSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFBERjQxN0NvbW1vbi5DT0RFV09SRF9UQUJMRVtpXSAtIDEpICUgUERGNDE3Q29tbW9uLk5VTUJFUl9PRl9DT0RFV09SRFM7XG4gICAgfTtcbiAgICBQREY0MTdDb21tb24uTlVNQkVSX09GX0NPREVXT1JEUyA9IDkyOTtcbiAgICAvLyBNYXhpbXVtIENvZGV3b3JkcyAoRGF0YSArIEVycm9yKS5cbiAgICBQREY0MTdDb21tb24uTUFYX0NPREVXT1JEU19JTl9CQVJDT0RFID0gUERGNDE3Q29tbW9uLk5VTUJFUl9PRl9DT0RFV09SRFMgLSAxO1xuICAgIFBERjQxN0NvbW1vbi5NSU5fUk9XU19JTl9CQVJDT0RFID0gMztcbiAgICBQREY0MTdDb21tb24uTUFYX1JPV1NfSU5fQkFSQ09ERSA9IDkwO1xuICAgIC8vIE9uZSBsZWZ0IHJvdyBpbmRpY2F0aW9uIGNvbHVtbiArIG1heCAzMCBkYXRhIGNvbHVtbnMgKyBvbmUgcmlnaHQgcm93IGluZGljYXRvciBjb2x1bW5cbiAgICAvLyBwdWJsaWMgc3RhdGljIC8qZmluYWwqLyBNQVhfQ09ERVdPUkRTX0lOX1JPVzogLyppbnQqLyBudW1iZXIgPSAzMjtcbiAgICBQREY0MTdDb21tb24uTU9EVUxFU19JTl9DT0RFV09SRCA9IDE3O1xuICAgIFBERjQxN0NvbW1vbi5NT0RVTEVTX0lOX1NUT1BfUEFUVEVSTiA9IDE4O1xuICAgIFBERjQxN0NvbW1vbi5CQVJTX0lOX01PRFVMRSA9IDg7XG4gICAgUERGNDE3Q29tbW9uLkVNUFRZX0lOVF9BUlJBWSA9IG5ldyBJbnQzMkFycmF5KFtdKTtcbiAgICAvKipcbiAgICAgKiBUaGUgc29ydGVkIHRhYmxlIG9mIGFsbCBwb3NzaWJsZSBzeW1ib2xzLiBFeHRyYWN0ZWQgZnJvbSB0aGUgUERGNDE3XG4gICAgICogc3BlY2lmaWNhdGlvbi4gVGhlIGluZGV4IG9mIGEgc3ltYm9sIGluIHRoaXMgdGFibGUgY29ycmVzcG9uZHMgdG8gdGhlXG4gICAgICogaW5kZXggaW50byB0aGUgY29kZXdvcmQgdGFibGUuXG4gICAgICovXG4gICAgUERGNDE3Q29tbW9uLlNZTUJPTF9UQUJMRSA9IEludDMyQXJyYXkuZnJvbShbXG4gICAgICAgIDB4MTAyNWUsIDB4MTAyN2EsIDB4MTAyOWUsIDB4MTAyYmMsIDB4MTAyZjIsIDB4MTAyZjQsIDB4MTAzMmUsIDB4MTAzNGUsIDB4MTAzNWMsIDB4MTAzOTYsIDB4MTAzYTYsIDB4MTAzYWMsXG4gICAgICAgIDB4MTA0MjIsIDB4MTA0MjgsIDB4MTA0MzYsIDB4MTA0NDIsIDB4MTA0NDQsIDB4MTA0NDgsIDB4MTA0NTAsIDB4MTA0NWUsIDB4MTA0NjYsIDB4MTA0NmMsIDB4MTA0N2EsIDB4MTA0ODIsXG4gICAgICAgIDB4MTA0OWUsIDB4MTA0YTAsIDB4MTA0YmMsIDB4MTA0YzYsIDB4MTA0ZDgsIDB4MTA0ZWUsIDB4MTA0ZjIsIDB4MTA0ZjQsIDB4MTA1MDQsIDB4MTA1MDgsIDB4MTA1MTAsIDB4MTA1MWUsXG4gICAgICAgIDB4MTA1MjAsIDB4MTA1M2MsIDB4MTA1NDAsIDB4MTA1NzgsIDB4MTA1ODYsIDB4MTA1OGMsIDB4MTA1OTgsIDB4MTA1YjAsIDB4MTA1YmUsIDB4MTA1Y2UsIDB4MTA1ZGMsIDB4MTA1ZTIsXG4gICAgICAgIDB4MTA1ZTQsIDB4MTA1ZTgsIDB4MTA1ZjYsIDB4MTA2MmUsIDB4MTA2NGUsIDB4MTA2NWMsIDB4MTA2OGUsIDB4MTA2OWMsIDB4MTA2YjgsIDB4MTA2ZGUsIDB4MTA2ZmEsIDB4MTA3MTYsXG4gICAgICAgIDB4MTA3MjYsIDB4MTA3MmMsIDB4MTA3NDYsIDB4MTA3NGMsIDB4MTA3NTgsIDB4MTA3NmUsIDB4MTA3OTIsIDB4MTA3OTQsIDB4MTA3YTIsIDB4MTA3YTQsIDB4MTA3YTgsIDB4MTA3YjYsXG4gICAgICAgIDB4MTA4MjIsIDB4MTA4MjgsIDB4MTA4NDIsIDB4MTA4NDgsIDB4MTA4NTAsIDB4MTA4NWUsIDB4MTA4NjYsIDB4MTA4NmMsIDB4MTA4N2EsIDB4MTA4ODIsIDB4MTA4ODQsIDB4MTA4OTAsXG4gICAgICAgIDB4MTA4OWUsIDB4MTA4YTAsIDB4MTA4YmMsIDB4MTA4YzYsIDB4MTA4Y2MsIDB4MTA4ZDgsIDB4MTA4ZWUsIDB4MTA4ZjIsIDB4MTA4ZjQsIDB4MTA5MDIsIDB4MTA5MDgsIDB4MTA5MWUsXG4gICAgICAgIDB4MTA5MjAsIDB4MTA5M2MsIDB4MTA5NDAsIDB4MTA5NzgsIDB4MTA5ODYsIDB4MTA5OTgsIDB4MTA5YjAsIDB4MTA5YmUsIDB4MTA5Y2UsIDB4MTA5ZGMsIDB4MTA5ZTIsIDB4MTA5ZTQsXG4gICAgICAgIDB4MTA5ZTgsIDB4MTA5ZjYsIDB4MTBhMDgsIDB4MTBhMTAsIDB4MTBhMWUsIDB4MTBhMjAsIDB4MTBhM2MsIDB4MTBhNDAsIDB4MTBhNzgsIDB4MTBhZjAsIDB4MTBiMDYsIDB4MTBiMGMsXG4gICAgICAgIDB4MTBiMTgsIDB4MTBiMzAsIDB4MTBiM2UsIDB4MTBiNjAsIDB4MTBiN2MsIDB4MTBiOGUsIDB4MTBiOWMsIDB4MTBiYjgsIDB4MTBiYzIsIDB4MTBiYzQsIDB4MTBiYzgsIDB4MTBiZDAsXG4gICAgICAgIDB4MTBiZGUsIDB4MTBiZTYsIDB4MTBiZWMsIDB4MTBjMmUsIDB4MTBjNGUsIDB4MTBjNWMsIDB4MTBjNjIsIDB4MTBjNjQsIDB4MTBjNjgsIDB4MTBjNzYsIDB4MTBjOGUsIDB4MTBjOWMsXG4gICAgICAgIDB4MTBjYjgsIDB4MTBjYzIsIDB4MTBjYzQsIDB4MTBjYzgsIDB4MTBjZDAsIDB4MTBjZGUsIDB4MTBjZTYsIDB4MTBjZWMsIDB4MTBjZmEsIDB4MTBkMGUsIDB4MTBkMWMsIDB4MTBkMzgsXG4gICAgICAgIDB4MTBkNzAsIDB4MTBkN2UsIDB4MTBkODIsIDB4MTBkODQsIDB4MTBkODgsIDB4MTBkOTAsIDB4MTBkOWUsIDB4MTBkYTAsIDB4MTBkYmMsIDB4MTBkYzYsIDB4MTBkY2MsIDB4MTBkZDgsXG4gICAgICAgIDB4MTBkZWUsIDB4MTBkZjIsIDB4MTBkZjQsIDB4MTBlMTYsIDB4MTBlMjYsIDB4MTBlMmMsIDB4MTBlNDYsIDB4MTBlNTgsIDB4MTBlNmUsIDB4MTBlODYsIDB4MTBlOGMsIDB4MTBlOTgsXG4gICAgICAgIDB4MTBlYjAsIDB4MTBlYmUsIDB4MTBlY2UsIDB4MTBlZGMsIDB4MTBmMGEsIDB4MTBmMTIsIDB4MTBmMTQsIDB4MTBmMjIsIDB4MTBmMjgsIDB4MTBmMzYsIDB4MTBmNDIsIDB4MTBmNDQsXG4gICAgICAgIDB4MTBmNDgsIDB4MTBmNTAsIDB4MTBmNWUsIDB4MTBmNjYsIDB4MTBmNmMsIDB4MTBmYjIsIDB4MTBmYjQsIDB4MTEwMjIsIDB4MTEwMjgsIDB4MTEwNDIsIDB4MTEwNDgsIDB4MTEwNTAsXG4gICAgICAgIDB4MTEwNWUsIDB4MTEwN2EsIDB4MTEwODIsIDB4MTEwODQsIDB4MTEwOTAsIDB4MTEwOWUsIDB4MTEwYTAsIDB4MTEwYmMsIDB4MTEwYzYsIDB4MTEwY2MsIDB4MTEwZDgsIDB4MTEwZWUsXG4gICAgICAgIDB4MTEwZjIsIDB4MTEwZjQsIDB4MTExMDIsIDB4MTExMWUsIDB4MTExMjAsIDB4MTExM2MsIDB4MTExNDAsIDB4MTExNzgsIDB4MTExODYsIDB4MTExOTgsIDB4MTExYjAsIDB4MTExYmUsXG4gICAgICAgIDB4MTExY2UsIDB4MTExZGMsIDB4MTExZTIsIDB4MTExZTQsIDB4MTExZTgsIDB4MTExZjYsIDB4MTEyMDgsIDB4MTEyMWUsIDB4MTEyMjAsIDB4MTEyNzgsIDB4MTEyZjAsIDB4MTEzMGMsXG4gICAgICAgIDB4MTEzMzAsIDB4MTEzM2UsIDB4MTEzNjAsIDB4MTEzN2MsIDB4MTEzOGUsIDB4MTEzOWMsIDB4MTEzYjgsIDB4MTEzYzIsIDB4MTEzYzgsIDB4MTEzZDAsIDB4MTEzZGUsIDB4MTEzZTYsXG4gICAgICAgIDB4MTEzZWMsIDB4MTE0MDgsIDB4MTE0MTAsIDB4MTE0MWUsIDB4MTE0MjAsIDB4MTE0M2MsIDB4MTE0NDAsIDB4MTE0NzgsIDB4MTE0ZjAsIDB4MTE1ZTAsIDB4MTE2MGMsIDB4MTE2MTgsXG4gICAgICAgIDB4MTE2MzAsIDB4MTE2M2UsIDB4MTE2NjAsIDB4MTE2N2MsIDB4MTE2YzAsIDB4MTE2ZjgsIDB4MTE3MWMsIDB4MTE3MzgsIDB4MTE3NzAsIDB4MTE3N2UsIDB4MTE3ODIsIDB4MTE3ODQsXG4gICAgICAgIDB4MTE3ODgsIDB4MTE3OTAsIDB4MTE3OWUsIDB4MTE3YTAsIDB4MTE3YmMsIDB4MTE3YzYsIDB4MTE3Y2MsIDB4MTE3ZDgsIDB4MTE3ZWUsIDB4MTE4MmUsIDB4MTE4MzQsIDB4MTE4NGUsXG4gICAgICAgIDB4MTE4NWMsIDB4MTE4NjIsIDB4MTE4NjQsIDB4MTE4NjgsIDB4MTE4NzYsIDB4MTE4OGUsIDB4MTE4OWMsIDB4MTE4YjgsIDB4MTE4YzIsIDB4MTE4YzgsIDB4MTE4ZDAsIDB4MTE4ZGUsXG4gICAgICAgIDB4MTE4ZTYsIDB4MTE4ZWMsIDB4MTE4ZmEsIDB4MTE5MGUsIDB4MTE5MWMsIDB4MTE5MzgsIDB4MTE5NzAsIDB4MTE5N2UsIDB4MTE5ODIsIDB4MTE5ODQsIDB4MTE5OTAsIDB4MTE5OWUsXG4gICAgICAgIDB4MTE5YTAsIDB4MTE5YmMsIDB4MTE5YzYsIDB4MTE5Y2MsIDB4MTE5ZDgsIDB4MTE5ZWUsIDB4MTE5ZjIsIDB4MTE5ZjQsIDB4MTFhMGUsIDB4MTFhMWMsIDB4MTFhMzgsIDB4MTFhNzAsXG4gICAgICAgIDB4MTFhN2UsIDB4MTFhZTAsIDB4MTFhZmMsIDB4MTFiMDgsIDB4MTFiMTAsIDB4MTFiMWUsIDB4MTFiMjAsIDB4MTFiM2MsIDB4MTFiNDAsIDB4MTFiNzgsIDB4MTFiOGMsIDB4MTFiOTgsXG4gICAgICAgIDB4MTFiYjAsIDB4MTFiYmUsIDB4MTFiY2UsIDB4MTFiZGMsIDB4MTFiZTIsIDB4MTFiZTQsIDB4MTFiZTgsIDB4MTFiZjYsIDB4MTFjMTYsIDB4MTFjMjYsIDB4MTFjMmMsIDB4MTFjNDYsXG4gICAgICAgIDB4MTFjNGMsIDB4MTFjNTgsIDB4MTFjNmUsIDB4MTFjODYsIDB4MTFjOTgsIDB4MTFjYjAsIDB4MTFjYmUsIDB4MTFjY2UsIDB4MTFjZGMsIDB4MTFjZTIsIDB4MTFjZTQsIDB4MTFjZTgsXG4gICAgICAgIDB4MTFjZjYsIDB4MTFkMDYsIDB4MTFkMGMsIDB4MTFkMTgsIDB4MTFkMzAsIDB4MTFkM2UsIDB4MTFkNjAsIDB4MTFkN2MsIDB4MTFkOGUsIDB4MTFkOWMsIDB4MTFkYjgsIDB4MTFkYzQsXG4gICAgICAgIDB4MTFkYzgsIDB4MTFkZDAsIDB4MTFkZGUsIDB4MTFkZTYsIDB4MTFkZWMsIDB4MTFkZmEsIDB4MTFlMGEsIDB4MTFlMTIsIDB4MTFlMTQsIDB4MTFlMjIsIDB4MTFlMjQsIDB4MTFlMjgsXG4gICAgICAgIDB4MTFlMzYsIDB4MTFlNDIsIDB4MTFlNDQsIDB4MTFlNTAsIDB4MTFlNWUsIDB4MTFlNjYsIDB4MTFlNmMsIDB4MTFlODIsIDB4MTFlODQsIDB4MTFlODgsIDB4MTFlOTAsIDB4MTFlOWUsXG4gICAgICAgIDB4MTFlYTAsIDB4MTFlYmMsIDB4MTFlYzYsIDB4MTFlY2MsIDB4MTFlZDgsIDB4MTFlZWUsIDB4MTFmMWEsIDB4MTFmMmUsIDB4MTFmMzIsIDB4MTFmMzQsIDB4MTFmNGUsIDB4MTFmNWMsXG4gICAgICAgIDB4MTFmNjIsIDB4MTFmNjQsIDB4MTFmNjgsIDB4MTFmNzYsIDB4MTIwNDgsIDB4MTIwNWUsIDB4MTIwODIsIDB4MTIwODQsIDB4MTIwOTAsIDB4MTIwOWUsIDB4MTIwYTAsIDB4MTIwYmMsXG4gICAgICAgIDB4MTIwZDgsIDB4MTIwZjIsIDB4MTIwZjQsIDB4MTIxMDgsIDB4MTIxMWUsIDB4MTIxMjAsIDB4MTIxM2MsIDB4MTIxNDAsIDB4MTIxNzgsIDB4MTIxODYsIDB4MTIxOTgsIDB4MTIxYjAsXG4gICAgICAgIDB4MTIxYmUsIDB4MTIxZTIsIDB4MTIxZTQsIDB4MTIxZTgsIDB4MTIxZjYsIDB4MTIyMDQsIDB4MTIyMTAsIDB4MTIyMWUsIDB4MTIyMjAsIDB4MTIyNzgsIDB4MTIyZjAsIDB4MTIzMDYsXG4gICAgICAgIDB4MTIzMGMsIDB4MTIzMzAsIDB4MTIzM2UsIDB4MTIzNjAsIDB4MTIzN2MsIDB4MTIzOGUsIDB4MTIzOWMsIDB4MTIzYjgsIDB4MTIzYzIsIDB4MTIzYzgsIDB4MTIzZDAsIDB4MTIzZTYsXG4gICAgICAgIDB4MTIzZWMsIDB4MTI0MWUsIDB4MTI0MjAsIDB4MTI0M2MsIDB4MTI0ZjAsIDB4MTI1ZTAsIDB4MTI2MTgsIDB4MTI2M2UsIDB4MTI2NjAsIDB4MTI2N2MsIDB4MTI2YzAsIDB4MTI2ZjgsXG4gICAgICAgIDB4MTI3MzgsIDB4MTI3NzAsIDB4MTI3N2UsIDB4MTI3ODIsIDB4MTI3ODQsIDB4MTI3OTAsIDB4MTI3OWUsIDB4MTI3YTAsIDB4MTI3YmMsIDB4MTI3YzYsIDB4MTI3Y2MsIDB4MTI3ZDgsXG4gICAgICAgIDB4MTI3ZWUsIDB4MTI4MjAsIDB4MTI4M2MsIDB4MTI4NDAsIDB4MTI4NzgsIDB4MTI4ZjAsIDB4MTI5ZTAsIDB4MTJiYzAsIDB4MTJjMTgsIDB4MTJjMzAsIDB4MTJjM2UsIDB4MTJjNjAsXG4gICAgICAgIDB4MTJjN2MsIDB4MTJjYzAsIDB4MTJjZjgsIDB4MTJkZjAsIDB4MTJlMWMsIDB4MTJlMzgsIDB4MTJlNzAsIDB4MTJlN2UsIDB4MTJlZTAsIDB4MTJlZmMsIDB4MTJmMDQsIDB4MTJmMDgsXG4gICAgICAgIDB4MTJmMTAsIDB4MTJmMjAsIDB4MTJmM2MsIDB4MTJmNDAsIDB4MTJmNzgsIDB4MTJmODYsIDB4MTJmOGMsIDB4MTJmOTgsIDB4MTJmYjAsIDB4MTJmYmUsIDB4MTJmY2UsIDB4MTJmZGMsXG4gICAgICAgIDB4MTMwMmUsIDB4MTMwNGUsIDB4MTMwNWMsIDB4MTMwNjIsIDB4MTMwNjgsIDB4MTMwOGUsIDB4MTMwOWMsIDB4MTMwYjgsIDB4MTMwYzIsIDB4MTMwYzgsIDB4MTMwZDAsIDB4MTMwZGUsXG4gICAgICAgIDB4MTMwZWMsIDB4MTMwZmEsIDB4MTMxMGUsIDB4MTMxMzgsIDB4MTMxNzAsIDB4MTMxN2UsIDB4MTMxODIsIDB4MTMxODQsIDB4MTMxOTAsIDB4MTMxOWUsIDB4MTMxYTAsIDB4MTMxYmMsXG4gICAgICAgIDB4MTMxYzYsIDB4MTMxY2MsIDB4MTMxZDgsIDB4MTMxZjIsIDB4MTMxZjQsIDB4MTMyMGUsIDB4MTMyMWMsIDB4MTMyNzAsIDB4MTMyN2UsIDB4MTMyZTAsIDB4MTMyZmMsIDB4MTMzMDgsXG4gICAgICAgIDB4MTMzMWUsIDB4MTMzMjAsIDB4MTMzM2MsIDB4MTMzNDAsIDB4MTMzNzgsIDB4MTMzODYsIDB4MTMzOTgsIDB4MTMzYjAsIDB4MTMzYmUsIDB4MTMzY2UsIDB4MTMzZGMsIDB4MTMzZTIsXG4gICAgICAgIDB4MTMzZTQsIDB4MTMzZTgsIDB4MTMzZjYsIDB4MTM0MGUsIDB4MTM0MWMsIDB4MTM0MzgsIDB4MTM0NzAsIDB4MTM0N2UsIDB4MTM0ZTAsIDB4MTM0ZmMsIDB4MTM1YzAsIDB4MTM1ZjgsXG4gICAgICAgIDB4MTM2MDgsIDB4MTM2MTAsIDB4MTM2MWUsIDB4MTM2MjAsIDB4MTM2M2MsIDB4MTM2NDAsIDB4MTM2NzgsIDB4MTM2ZjAsIDB4MTM3MGMsIDB4MTM3MTgsIDB4MTM3MzAsIDB4MTM3M2UsXG4gICAgICAgIDB4MTM3NjAsIDB4MTM3N2MsIDB4MTM3OWMsIDB4MTM3YjgsIDB4MTM3YzIsIDB4MTM3YzQsIDB4MTM3YzgsIDB4MTM3ZDAsIDB4MTM3ZGUsIDB4MTM3ZTYsIDB4MTM3ZWMsIDB4MTM4MTYsXG4gICAgICAgIDB4MTM4MjYsIDB4MTM4MmMsIDB4MTM4NDYsIDB4MTM4NGMsIDB4MTM4NTgsIDB4MTM4NmUsIDB4MTM4NzQsIDB4MTM4ODYsIDB4MTM4OTgsIDB4MTM4YjAsIDB4MTM4YmUsIDB4MTM4Y2UsXG4gICAgICAgIDB4MTM4ZGMsIDB4MTM4ZTIsIDB4MTM4ZTQsIDB4MTM4ZTgsIDB4MTM5MDYsIDB4MTM5MGMsIDB4MTM5MzAsIDB4MTM5M2UsIDB4MTM5NjAsIDB4MTM5N2MsIDB4MTM5OGUsIDB4MTM5OWMsXG4gICAgICAgIDB4MTM5YjgsIDB4MTM5YzgsIDB4MTM5ZDAsIDB4MTM5ZGUsIDB4MTM5ZTYsIDB4MTM5ZWMsIDB4MTM5ZmEsIDB4MTNhMDYsIDB4MTNhMGMsIDB4MTNhMTgsIDB4MTNhMzAsIDB4MTNhM2UsXG4gICAgICAgIDB4MTNhNjAsIDB4MTNhN2MsIDB4MTNhYzAsIDB4MTNhZjgsIDB4MTNiMGUsIDB4MTNiMWMsIDB4MTNiMzgsIDB4MTNiNzAsIDB4MTNiN2UsIDB4MTNiODgsIDB4MTNiOTAsIDB4MTNiOWUsXG4gICAgICAgIDB4MTNiYTAsIDB4MTNiYmMsIDB4MTNiY2MsIDB4MTNiZDgsIDB4MTNiZWUsIDB4MTNiZjIsIDB4MTNiZjQsIDB4MTNjMTIsIDB4MTNjMTQsIDB4MTNjMjIsIDB4MTNjMjQsIDB4MTNjMjgsXG4gICAgICAgIDB4MTNjMzYsIDB4MTNjNDIsIDB4MTNjNDgsIDB4MTNjNTAsIDB4MTNjNWUsIDB4MTNjNjYsIDB4MTNjNmMsIDB4MTNjODIsIDB4MTNjODQsIDB4MTNjOTAsIDB4MTNjOWUsIDB4MTNjYTAsXG4gICAgICAgIDB4MTNjYmMsIDB4MTNjYzYsIDB4MTNjY2MsIDB4MTNjZDgsIDB4MTNjZWUsIDB4MTNkMDIsIDB4MTNkMDQsIDB4MTNkMDgsIDB4MTNkMTAsIDB4MTNkMWUsIDB4MTNkMjAsIDB4MTNkM2MsXG4gICAgICAgIDB4MTNkNDAsIDB4MTNkNzgsIDB4MTNkODYsIDB4MTNkOGMsIDB4MTNkOTgsIDB4MTNkYjAsIDB4MTNkYmUsIDB4MTNkY2UsIDB4MTNkZGMsIDB4MTNkZTQsIDB4MTNkZTgsIDB4MTNkZjYsXG4gICAgICAgIDB4MTNlMWEsIDB4MTNlMmUsIDB4MTNlMzIsIDB4MTNlMzQsIDB4MTNlNGUsIDB4MTNlNWMsIDB4MTNlNjIsIDB4MTNlNjQsIDB4MTNlNjgsIDB4MTNlNzYsIDB4MTNlOGUsIDB4MTNlOWMsXG4gICAgICAgIDB4MTNlYjgsIDB4MTNlYzIsIDB4MTNlYzQsIDB4MTNlYzgsIDB4MTNlZDAsIDB4MTNlZGUsIDB4MTNlZTYsIDB4MTNlZWMsIDB4MTNmMjYsIDB4MTNmMmMsIDB4MTNmM2EsIDB4MTNmNDYsXG4gICAgICAgIDB4MTNmNGMsIDB4MTNmNTgsIDB4MTNmNmUsIDB4MTNmNzIsIDB4MTNmNzQsIDB4MTQwODIsIDB4MTQwOWUsIDB4MTQwYTAsIDB4MTQwYmMsIDB4MTQxMDQsIDB4MTQxMDgsIDB4MTQxMTAsXG4gICAgICAgIDB4MTQxMWUsIDB4MTQxMjAsIDB4MTQxM2MsIDB4MTQxNDAsIDB4MTQxNzgsIDB4MTQxOGMsIDB4MTQxOTgsIDB4MTQxYjAsIDB4MTQxYmUsIDB4MTQxZTIsIDB4MTQxZTQsIDB4MTQxZTgsXG4gICAgICAgIDB4MTQyMDgsIDB4MTQyMTAsIDB4MTQyMWUsIDB4MTQyMjAsIDB4MTQyM2MsIDB4MTQyNDAsIDB4MTQyNzgsIDB4MTQyZjAsIDB4MTQzMDYsIDB4MTQzMGMsIDB4MTQzMTgsIDB4MTQzMzAsXG4gICAgICAgIDB4MTQzM2UsIDB4MTQzNjAsIDB4MTQzN2MsIDB4MTQzOGUsIDB4MTQzYzIsIDB4MTQzYzQsIDB4MTQzYzgsIDB4MTQzZDAsIDB4MTQzZTYsIDB4MTQzZWMsIDB4MTQ0MDgsIDB4MTQ0MTAsXG4gICAgICAgIDB4MTQ0MWUsIDB4MTQ0MjAsIDB4MTQ0M2MsIDB4MTQ0NDAsIDB4MTQ0NzgsIDB4MTQ0ZjAsIDB4MTQ1ZTAsIDB4MTQ2MGMsIDB4MTQ2MTgsIDB4MTQ2MzAsIDB4MTQ2M2UsIDB4MTQ2NjAsXG4gICAgICAgIDB4MTQ2N2MsIDB4MTQ2YzAsIDB4MTQ2ZjgsIDB4MTQ3MWMsIDB4MTQ3MzgsIDB4MTQ3NzAsIDB4MTQ3N2UsIDB4MTQ3ODIsIDB4MTQ3ODQsIDB4MTQ3ODgsIDB4MTQ3OTAsIDB4MTQ3YTAsXG4gICAgICAgIDB4MTQ3YmMsIDB4MTQ3YzYsIDB4MTQ3Y2MsIDB4MTQ3ZDgsIDB4MTQ3ZWUsIDB4MTQ4MTAsIDB4MTQ4MjAsIDB4MTQ4M2MsIDB4MTQ4NDAsIDB4MTQ4NzgsIDB4MTQ4ZjAsIDB4MTQ5ZTAsXG4gICAgICAgIDB4MTRiYzAsIDB4MTRjMzAsIDB4MTRjM2UsIDB4MTRjNjAsIDB4MTRjN2MsIDB4MTRjYzAsIDB4MTRjZjgsIDB4MTRkZjAsIDB4MTRlMzgsIDB4MTRlNzAsIDB4MTRlN2UsIDB4MTRlZTAsXG4gICAgICAgIDB4MTRlZmMsIDB4MTRmMDQsIDB4MTRmMDgsIDB4MTRmMTAsIDB4MTRmMWUsIDB4MTRmMjAsIDB4MTRmM2MsIDB4MTRmNDAsIDB4MTRmNzgsIDB4MTRmODYsIDB4MTRmOGMsIDB4MTRmOTgsXG4gICAgICAgIDB4MTRmYjAsIDB4MTRmY2UsIDB4MTRmZGMsIDB4MTUwMjAsIDB4MTUwNDAsIDB4MTUwNzgsIDB4MTUwZjAsIDB4MTUxZTAsIDB4MTUzYzAsIDB4MTU4NjAsIDB4MTU4N2MsIDB4MTU4YzAsXG4gICAgICAgIDB4MTU4ZjgsIDB4MTU5ZjAsIDB4MTViZTAsIDB4MTVjNzAsIDB4MTVjN2UsIDB4MTVjZTAsIDB4MTVjZmMsIDB4MTVkYzAsIDB4MTVkZjgsIDB4MTVlMDgsIDB4MTVlMTAsIDB4MTVlMjAsXG4gICAgICAgIDB4MTVlNDAsIDB4MTVlNzgsIDB4MTVlZjAsIDB4MTVmMGMsIDB4MTVmMTgsIDB4MTVmMzAsIDB4MTVmNjAsIDB4MTVmN2MsIDB4MTVmOGUsIDB4MTVmOWMsIDB4MTVmYjgsIDB4MTYwNGUsXG4gICAgICAgIDB4MTYwNWMsIDB4MTYwOGUsIDB4MTYwOWMsIDB4MTYwYjgsIDB4MTYwYzIsIDB4MTYwYzQsIDB4MTYwYzgsIDB4MTYwZGUsIDB4MTYxMGUsIDB4MTYxMWMsIDB4MTYxMzgsIDB4MTYxNzAsXG4gICAgICAgIDB4MTYxN2UsIDB4MTYxODQsIDB4MTYxODgsIDB4MTYxOTAsIDB4MTYxOWUsIDB4MTYxYTAsIDB4MTYxYmMsIDB4MTYxYzYsIDB4MTYxY2MsIDB4MTYxZDgsIDB4MTYxZjIsIDB4MTYxZjQsXG4gICAgICAgIDB4MTYyMGUsIDB4MTYyMWMsIDB4MTYyMzgsIDB4MTYyNzAsIDB4MTYyN2UsIDB4MTYyZTAsIDB4MTYyZmMsIDB4MTYzMDQsIDB4MTYzMDgsIDB4MTYzMTAsIDB4MTYzMWUsIDB4MTYzMjAsXG4gICAgICAgIDB4MTYzM2MsIDB4MTYzNDAsIDB4MTYzNzgsIDB4MTYzODYsIDB4MTYzOGMsIDB4MTYzOTgsIDB4MTYzYjAsIDB4MTYzYmUsIDB4MTYzY2UsIDB4MTYzZGMsIDB4MTYzZTIsIDB4MTYzZTQsXG4gICAgICAgIDB4MTYzZTgsIDB4MTYzZjYsIDB4MTY0MGUsIDB4MTY0MWMsIDB4MTY0MzgsIDB4MTY0NzAsIDB4MTY0N2UsIDB4MTY0ZTAsIDB4MTY0ZmMsIDB4MTY1YzAsIDB4MTY1ZjgsIDB4MTY2MTAsXG4gICAgICAgIDB4MTY2MWUsIDB4MTY2MjAsIDB4MTY2M2MsIDB4MTY2NDAsIDB4MTY2NzgsIDB4MTY2ZjAsIDB4MTY3MTgsIDB4MTY3MzAsIDB4MTY3M2UsIDB4MTY3NjAsIDB4MTY3N2MsIDB4MTY3OGUsXG4gICAgICAgIDB4MTY3OWMsIDB4MTY3YjgsIDB4MTY3YzIsIDB4MTY3YzQsIDB4MTY3YzgsIDB4MTY3ZDAsIDB4MTY3ZGUsIDB4MTY3ZTYsIDB4MTY3ZWMsIDB4MTY4MWMsIDB4MTY4MzgsIDB4MTY4NzAsXG4gICAgICAgIDB4MTY4ZTAsIDB4MTY4ZmMsIDB4MTY5YzAsIDB4MTY5ZjgsIDB4MTZiZjAsIDB4MTZjMTAsIDB4MTZjMWUsIDB4MTZjMjAsIDB4MTZjM2MsIDB4MTZjNDAsIDB4MTZjNzgsIDB4MTZjZjAsXG4gICAgICAgIDB4MTZkZTAsIDB4MTZlMTgsIDB4MTZlMzAsIDB4MTZlM2UsIDB4MTZlNjAsIDB4MTZlN2MsIDB4MTZlYzAsIDB4MTZlZjgsIDB4MTZmMWMsIDB4MTZmMzgsIDB4MTZmNzAsIDB4MTZmN2UsXG4gICAgICAgIDB4MTZmODQsIDB4MTZmODgsIDB4MTZmOTAsIDB4MTZmOWUsIDB4MTZmYTAsIDB4MTZmYmMsIDB4MTZmYzYsIDB4MTZmY2MsIDB4MTZmZDgsIDB4MTcwMjYsIDB4MTcwMmMsIDB4MTcwNDYsXG4gICAgICAgIDB4MTcwNGMsIDB4MTcwNTgsIDB4MTcwNmUsIDB4MTcwODYsIDB4MTcwOGMsIDB4MTcwOTgsIDB4MTcwYjAsIDB4MTcwYmUsIDB4MTcwY2UsIDB4MTcwZGMsIDB4MTcwZTgsIDB4MTcxMDYsXG4gICAgICAgIDB4MTcxMGMsIDB4MTcxMTgsIDB4MTcxMzAsIDB4MTcxM2UsIDB4MTcxNjAsIDB4MTcxN2MsIDB4MTcxOGUsIDB4MTcxOWMsIDB4MTcxYjgsIDB4MTcxYzIsIDB4MTcxYzQsIDB4MTcxYzgsXG4gICAgICAgIDB4MTcxZDAsIDB4MTcxZGUsIDB4MTcxZTYsIDB4MTcxZWMsIDB4MTcxZmEsIDB4MTcyMDYsIDB4MTcyMGMsIDB4MTcyMTgsIDB4MTcyMzAsIDB4MTcyM2UsIDB4MTcyNjAsIDB4MTcyN2MsXG4gICAgICAgIDB4MTcyYzAsIDB4MTcyZjgsIDB4MTczMGUsIDB4MTczMWMsIDB4MTczMzgsIDB4MTczNzAsIDB4MTczN2UsIDB4MTczODgsIDB4MTczOTAsIDB4MTczOWUsIDB4MTczYTAsIDB4MTczYmMsXG4gICAgICAgIDB4MTczY2MsIDB4MTczZDgsIDB4MTczZWUsIDB4MTczZjIsIDB4MTczZjQsIDB4MTc0MGMsIDB4MTc0MTgsIDB4MTc0MzAsIDB4MTc0M2UsIDB4MTc0NjAsIDB4MTc0N2MsIDB4MTc0YzAsXG4gICAgICAgIDB4MTc0ZjgsIDB4MTc1ZjAsIDB4MTc2MGUsIDB4MTc2MWMsIDB4MTc2MzgsIDB4MTc2NzAsIDB4MTc2N2UsIDB4MTc2ZTAsIDB4MTc2ZmMsIDB4MTc3MDgsIDB4MTc3MTAsIDB4MTc3MWUsXG4gICAgICAgIDB4MTc3MjAsIDB4MTc3M2MsIDB4MTc3NDAsIDB4MTc3NzgsIDB4MTc3OTgsIDB4MTc3YjAsIDB4MTc3YmUsIDB4MTc3ZGMsIDB4MTc3ZTIsIDB4MTc3ZTQsIDB4MTc3ZTgsIDB4MTc4MjIsXG4gICAgICAgIDB4MTc4MjQsIDB4MTc4MjgsIDB4MTc4MzYsIDB4MTc4NDIsIDB4MTc4NDQsIDB4MTc4NDgsIDB4MTc4NTAsIDB4MTc4NWUsIDB4MTc4NjYsIDB4MTc4NmMsIDB4MTc4ODIsIDB4MTc4ODQsXG4gICAgICAgIDB4MTc4ODgsIDB4MTc4OTAsIDB4MTc4OWUsIDB4MTc4YTAsIDB4MTc4YmMsIDB4MTc4YzYsIDB4MTc4Y2MsIDB4MTc4ZDgsIDB4MTc4ZWUsIDB4MTc4ZjIsIDB4MTc4ZjQsIDB4MTc5MDIsXG4gICAgICAgIDB4MTc5MDQsIDB4MTc5MDgsIDB4MTc5MTAsIDB4MTc5MWUsIDB4MTc5MjAsIDB4MTc5M2MsIDB4MTc5NDAsIDB4MTc5NzgsIDB4MTc5ODYsIDB4MTc5OGMsIDB4MTc5OTgsIDB4MTc5YjAsXG4gICAgICAgIDB4MTc5YmUsIDB4MTc5Y2UsIDB4MTc5ZGMsIDB4MTc5ZTIsIDB4MTc5ZTQsIDB4MTc5ZTgsIDB4MTc5ZjYsIDB4MTdhMDQsIDB4MTdhMDgsIDB4MTdhMTAsIDB4MTdhMWUsIDB4MTdhMjAsXG4gICAgICAgIDB4MTdhM2MsIDB4MTdhNDAsIDB4MTdhNzgsIDB4MTdhZjAsIDB4MTdiMDYsIDB4MTdiMGMsIDB4MTdiMTgsIDB4MTdiMzAsIDB4MTdiM2UsIDB4MTdiNjAsIDB4MTdiN2MsIDB4MTdiOGUsXG4gICAgICAgIDB4MTdiOWMsIDB4MTdiYjgsIDB4MTdiYzQsIDB4MTdiYzgsIDB4MTdiZDAsIDB4MTdiZGUsIDB4MTdiZTYsIDB4MTdiZWMsIDB4MTdjMmUsIDB4MTdjMzIsIDB4MTdjMzQsIDB4MTdjNGUsXG4gICAgICAgIDB4MTdjNWMsIDB4MTdjNjIsIDB4MTdjNjQsIDB4MTdjNjgsIDB4MTdjNzYsIDB4MTdjOGUsIDB4MTdjOWMsIDB4MTdjYjgsIDB4MTdjYzIsIDB4MTdjYzQsIDB4MTdjYzgsIDB4MTdjZDAsXG4gICAgICAgIDB4MTdjZGUsIDB4MTdjZTYsIDB4MTdjZWMsIDB4MTdkMGUsIDB4MTdkMWMsIDB4MTdkMzgsIDB4MTdkNzAsIDB4MTdkODIsIDB4MTdkODQsIDB4MTdkODgsIDB4MTdkOTAsIDB4MTdkOWUsXG4gICAgICAgIDB4MTdkYTAsIDB4MTdkYmMsIDB4MTdkYzYsIDB4MTdkY2MsIDB4MTdkZDgsIDB4MTdkZWUsIDB4MTdlMjYsIDB4MTdlMmMsIDB4MTdlM2EsIDB4MTdlNDYsIDB4MTdlNGMsIDB4MTdlNTgsXG4gICAgICAgIDB4MTdlNmUsIDB4MTdlNzIsIDB4MTdlNzQsIDB4MTdlODYsIDB4MTdlOGMsIDB4MTdlOTgsIDB4MTdlYjAsIDB4MTdlY2UsIDB4MTdlZGMsIDB4MTdlZTIsIDB4MTdlZTQsIDB4MTdlZTgsXG4gICAgICAgIDB4MTdlZjYsIDB4MTgxM2EsIDB4MTgxNzIsIDB4MTgxNzQsIDB4MTgyMTYsIDB4MTgyMjYsIDB4MTgyM2EsIDB4MTgyNGMsIDB4MTgyNTgsIDB4MTgyNmUsIDB4MTgyNzIsIDB4MTgyNzQsXG4gICAgICAgIDB4MTgyOTgsIDB4MTgyYmUsIDB4MTgyZTIsIDB4MTgyZTQsIDB4MTgyZTgsIDB4MTgyZjYsIDB4MTgzNWUsIDB4MTgzN2EsIDB4MTgzYWUsIDB4MTgzZDYsIDB4MTg0MTYsIDB4MTg0MjYsXG4gICAgICAgIDB4MTg0MmMsIDB4MTg0M2EsIDB4MTg0NDYsIDB4MTg0NTgsIDB4MTg0NmUsIDB4MTg0NzIsIDB4MTg0NzQsIDB4MTg0ODYsIDB4MTg0YjAsIDB4MTg0YmUsIDB4MTg0Y2UsIDB4MTg0ZGMsXG4gICAgICAgIDB4MTg0ZTIsIDB4MTg0ZTQsIDB4MTg0ZTgsIDB4MTg0ZjYsIDB4MTg1MDYsIDB4MTg1MGMsIDB4MTg1MTgsIDB4MTg1MzAsIDB4MTg1M2UsIDB4MTg1NjAsIDB4MTg1N2MsIDB4MTg1OGUsXG4gICAgICAgIDB4MTg1OWMsIDB4MTg1YjgsIDB4MTg1YzIsIDB4MTg1YzQsIDB4MTg1YzgsIDB4MTg1ZDAsIDB4MTg1ZGUsIDB4MTg1ZTYsIDB4MTg1ZWMsIDB4MTg1ZmEsIDB4MTg2MTIsIDB4MTg2MTQsXG4gICAgICAgIDB4MTg2MjIsIDB4MTg2MjgsIDB4MTg2MzYsIDB4MTg2NDIsIDB4MTg2NTAsIDB4MTg2NWUsIDB4MTg2N2EsIDB4MTg2ODIsIDB4MTg2ODQsIDB4MTg2ODgsIDB4MTg2OTAsIDB4MTg2OWUsXG4gICAgICAgIDB4MTg2YTAsIDB4MTg2YmMsIDB4MTg2YzYsIDB4MTg2Y2MsIDB4MTg2ZDgsIDB4MTg2ZWUsIDB4MTg2ZjIsIDB4MTg2ZjQsIDB4MTg3MmUsIDB4MTg3NGUsIDB4MTg3NWMsIDB4MTg3OTYsXG4gICAgICAgIDB4MTg3YTYsIDB4MTg3YWMsIDB4MTg3ZDIsIDB4MTg3ZDQsIDB4MTg4MjYsIDB4MTg4MmMsIDB4MTg4M2EsIDB4MTg4NDYsIDB4MTg4NGMsIDB4MTg4NTgsIDB4MTg4NmUsIDB4MTg4NzIsXG4gICAgICAgIDB4MTg4NzQsIDB4MTg4ODYsIDB4MTg4OTgsIDB4MTg4YjAsIDB4MTg4YmUsIDB4MTg4Y2UsIDB4MTg4ZGMsIDB4MTg4ZTIsIDB4MTg4ZTQsIDB4MTg4ZTgsIDB4MTg4ZjYsIDB4MTg5MGMsXG4gICAgICAgIDB4MTg5MzAsIDB4MTg5M2UsIDB4MTg5NjAsIDB4MTg5N2MsIDB4MTg5OGUsIDB4MTg5YjgsIDB4MTg5YzIsIDB4MTg5YzgsIDB4MTg5ZDAsIDB4MTg5ZGUsIDB4MTg5ZTYsIDB4MTg5ZWMsXG4gICAgICAgIDB4MTg5ZmEsIDB4MThhMTgsIDB4MThhMzAsIDB4MThhM2UsIDB4MThhNjAsIDB4MThhN2MsIDB4MThhYzAsIDB4MThhZjgsIDB4MThiMWMsIDB4MThiMzgsIDB4MThiNzAsIDB4MThiN2UsXG4gICAgICAgIDB4MThiODIsIDB4MThiODQsIDB4MThiODgsIDB4MThiOTAsIDB4MThiOWUsIDB4MThiYTAsIDB4MThiYmMsIDB4MThiYzYsIDB4MThiY2MsIDB4MThiZDgsIDB4MThiZWUsIDB4MThiZjIsXG4gICAgICAgIDB4MThiZjQsIDB4MThjMjIsIDB4MThjMjQsIDB4MThjMjgsIDB4MThjMzYsIDB4MThjNDIsIDB4MThjNDgsIDB4MThjNTAsIDB4MThjNWUsIDB4MThjNjYsIDB4MThjN2EsIDB4MThjODIsXG4gICAgICAgIDB4MThjODQsIDB4MThjOTAsIDB4MThjOWUsIDB4MThjYTAsIDB4MThjYmMsIDB4MThjY2MsIDB4MThjZjIsIDB4MThjZjQsIDB4MThkMDQsIDB4MThkMDgsIDB4MThkMTAsIDB4MThkMWUsXG4gICAgICAgIDB4MThkMjAsIDB4MThkM2MsIDB4MThkNDAsIDB4MThkNzgsIDB4MThkODYsIDB4MThkOTgsIDB4MThkY2UsIDB4MThkZTIsIDB4MThkZTQsIDB4MThkZTgsIDB4MThlMmUsIDB4MThlMzIsXG4gICAgICAgIDB4MThlMzQsIDB4MThlNGUsIDB4MThlNWMsIDB4MThlNjIsIDB4MThlNjQsIDB4MThlNjgsIDB4MThlOGUsIDB4MThlOWMsIDB4MThlYjgsIDB4MThlYzIsIDB4MThlYzQsIDB4MThlYzgsXG4gICAgICAgIDB4MThlZDAsIDB4MThlZmEsIDB4MThmMTYsIDB4MThmMjYsIDB4MThmMmMsIDB4MThmNDYsIDB4MThmNGMsIDB4MThmNTgsIDB4MThmNmUsIDB4MThmOGEsIDB4MThmOTIsIDB4MThmOTQsXG4gICAgICAgIDB4MThmYTIsIDB4MThmYTQsIDB4MThmYTgsIDB4MThmYjYsIDB4MTkwMmMsIDB4MTkwM2EsIDB4MTkwNDYsIDB4MTkwNGMsIDB4MTkwNTgsIDB4MTkwNzIsIDB4MTkwNzQsIDB4MTkwODYsXG4gICAgICAgIDB4MTkwOTgsIDB4MTkwYjAsIDB4MTkwYmUsIDB4MTkwY2UsIDB4MTkwZGMsIDB4MTkwZTIsIDB4MTkwZTgsIDB4MTkwZjYsIDB4MTkxMDYsIDB4MTkxMGMsIDB4MTkxMzAsIDB4MTkxM2UsXG4gICAgICAgIDB4MTkxNjAsIDB4MTkxN2MsIDB4MTkxOGUsIDB4MTkxOWMsIDB4MTkxYjgsIDB4MTkxYzIsIDB4MTkxYzgsIDB4MTkxZDAsIDB4MTkxZGUsIDB4MTkxZTYsIDB4MTkxZWMsIDB4MTkxZmEsXG4gICAgICAgIDB4MTkyMTgsIDB4MTkyM2UsIDB4MTkyNjAsIDB4MTkyN2MsIDB4MTkyYzAsIDB4MTkyZjgsIDB4MTkzMzgsIDB4MTkzNzAsIDB4MTkzN2UsIDB4MTkzODIsIDB4MTkzODQsIDB4MTkzOTAsXG4gICAgICAgIDB4MTkzOWUsIDB4MTkzYTAsIDB4MTkzYmMsIDB4MTkzYzYsIDB4MTkzY2MsIDB4MTkzZDgsIDB4MTkzZWUsIDB4MTkzZjIsIDB4MTkzZjQsIDB4MTk0MzAsIDB4MTk0M2UsIDB4MTk0NjAsXG4gICAgICAgIDB4MTk0N2MsIDB4MTk0YzAsIDB4MTk0ZjgsIDB4MTk1ZjAsIDB4MTk2MzgsIDB4MTk2NzAsIDB4MTk2N2UsIDB4MTk2ZTAsIDB4MTk2ZmMsIDB4MTk3MDIsIDB4MTk3MDQsIDB4MTk3MDgsXG4gICAgICAgIDB4MTk3MTAsIDB4MTk3MjAsIDB4MTk3M2MsIDB4MTk3NDAsIDB4MTk3NzgsIDB4MTk3ODYsIDB4MTk3OGMsIDB4MTk3OTgsIDB4MTk3YjAsIDB4MTk3YmUsIDB4MTk3Y2UsIDB4MTk3ZGMsXG4gICAgICAgIDB4MTk3ZTIsIDB4MTk3ZTQsIDB4MTk3ZTgsIDB4MTk4MjIsIDB4MTk4MjQsIDB4MTk4NDIsIDB4MTk4NDgsIDB4MTk4NTAsIDB4MTk4NWUsIDB4MTk4NjYsIDB4MTk4N2EsIDB4MTk4ODIsXG4gICAgICAgIDB4MTk4ODQsIDB4MTk4OTAsIDB4MTk4OWUsIDB4MTk4YTAsIDB4MTk4YmMsIDB4MTk4Y2MsIDB4MTk4ZjIsIDB4MTk4ZjQsIDB4MTk5MDIsIDB4MTk5MDgsIDB4MTk5MWUsIDB4MTk5MjAsXG4gICAgICAgIDB4MTk5M2MsIDB4MTk5NDAsIDB4MTk5NzgsIDB4MTk5ODYsIDB4MTk5OTgsIDB4MTk5Y2UsIDB4MTk5ZTIsIDB4MTk5ZTQsIDB4MTk5ZTgsIDB4MTlhMDgsIDB4MTlhMTAsIDB4MTlhMWUsXG4gICAgICAgIDB4MTlhMjAsIDB4MTlhM2MsIDB4MTlhNDAsIDB4MTlhNzgsIDB4MTlhZjAsIDB4MTliMTgsIDB4MTliM2UsIDB4MTliNjAsIDB4MTliOWMsIDB4MTliYzIsIDB4MTliYzQsIDB4MTliYzgsXG4gICAgICAgIDB4MTliZDAsIDB4MTliZTYsIDB4MTljMmUsIDB4MTljMzQsIDB4MTljNGUsIDB4MTljNWMsIDB4MTljNjIsIDB4MTljNjQsIDB4MTljNjgsIDB4MTljOGUsIDB4MTljOWMsIDB4MTljYjgsXG4gICAgICAgIDB4MTljYzIsIDB4MTljYzgsIDB4MTljZDAsIDB4MTljZTYsIDB4MTljZmEsIDB4MTlkMGUsIDB4MTlkMWMsIDB4MTlkMzgsIDB4MTlkNzAsIDB4MTlkN2UsIDB4MTlkODIsIDB4MTlkODQsXG4gICAgICAgIDB4MTlkODgsIDB4MTlkOTAsIDB4MTlkYTAsIDB4MTlkY2MsIDB4MTlkZjIsIDB4MTlkZjQsIDB4MTllMTYsIDB4MTllMjYsIDB4MTllMmMsIDB4MTllNDYsIDB4MTllNGMsIDB4MTllNTgsXG4gICAgICAgIDB4MTllNzQsIDB4MTllODYsIDB4MTllOGMsIDB4MTllOTgsIDB4MTllYjAsIDB4MTllYmUsIDB4MTllY2UsIDB4MTllZTIsIDB4MTllZTQsIDB4MTllZTgsIDB4MTlmMGEsIDB4MTlmMTIsXG4gICAgICAgIDB4MTlmMTQsIDB4MTlmMjIsIDB4MTlmMjQsIDB4MTlmMjgsIDB4MTlmNDIsIDB4MTlmNDQsIDB4MTlmNDgsIDB4MTlmNTAsIDB4MTlmNWUsIDB4MTlmNmMsIDB4MTlmOWEsIDB4MTlmYWUsXG4gICAgICAgIDB4MTlmYjIsIDB4MTlmYjQsIDB4MWEwNDYsIDB4MWEwNGMsIDB4MWEwNzIsIDB4MWEwNzQsIDB4MWEwODYsIDB4MWEwOGMsIDB4MWEwOTgsIDB4MWEwYjAsIDB4MWEwYmUsIDB4MWEwZTIsXG4gICAgICAgIDB4MWEwZTQsIDB4MWEwZTgsIDB4MWEwZjYsIDB4MWExMDYsIDB4MWExMGMsIDB4MWExMTgsIDB4MWExMzAsIDB4MWExM2UsIDB4MWExNjAsIDB4MWExN2MsIDB4MWExOGUsIDB4MWExOWMsXG4gICAgICAgIDB4MWExYjgsIDB4MWExYzIsIDB4MWExYzQsIDB4MWExYzgsIDB4MWExZDAsIDB4MWExZGUsIDB4MWExZTYsIDB4MWExZWMsIDB4MWEyMTgsIDB4MWEyMzAsIDB4MWEyM2UsIDB4MWEyNjAsXG4gICAgICAgIDB4MWEyN2MsIDB4MWEyYzAsIDB4MWEyZjgsIDB4MWEzMWMsIDB4MWEzMzgsIDB4MWEzNzAsIDB4MWEzN2UsIDB4MWEzODIsIDB4MWEzODQsIDB4MWEzODgsIDB4MWEzOTAsIDB4MWEzOWUsXG4gICAgICAgIDB4MWEzYTAsIDB4MWEzYmMsIDB4MWEzYzYsIDB4MWEzY2MsIDB4MWEzZDgsIDB4MWEzZWUsIDB4MWEzZjIsIDB4MWEzZjQsIDB4MWE0MTgsIDB4MWE0MzAsIDB4MWE0M2UsIDB4MWE0NjAsXG4gICAgICAgIDB4MWE0N2MsIDB4MWE0YzAsIDB4MWE0ZjgsIDB4MWE1ZjAsIDB4MWE2MWMsIDB4MWE2MzgsIDB4MWE2NzAsIDB4MWE2N2UsIDB4MWE2ZTAsIDB4MWE2ZmMsIDB4MWE3MDIsIDB4MWE3MDQsXG4gICAgICAgIDB4MWE3MDgsIDB4MWE3MTAsIDB4MWE3MWUsIDB4MWE3MjAsIDB4MWE3M2MsIDB4MWE3NDAsIDB4MWE3NzgsIDB4MWE3ODYsIDB4MWE3OGMsIDB4MWE3OTgsIDB4MWE3YjAsIDB4MWE3YmUsXG4gICAgICAgIDB4MWE3Y2UsIDB4MWE3ZGMsIDB4MWE3ZTIsIDB4MWE3ZTQsIDB4MWE3ZTgsIDB4MWE4MzAsIDB4MWE4NjAsIDB4MWE4N2MsIDB4MWE4YzAsIDB4MWE4ZjgsIDB4MWE5ZjAsIDB4MWFiZTAsXG4gICAgICAgIDB4MWFjNzAsIDB4MWFjN2UsIDB4MWFjZTAsIDB4MWFjZmMsIDB4MWFkYzAsIDB4MWFkZjgsIDB4MWFlMDQsIDB4MWFlMDgsIDB4MWFlMTAsIDB4MWFlMjAsIDB4MWFlM2MsIDB4MWFlNDAsXG4gICAgICAgIDB4MWFlNzgsIDB4MWFlZjAsIDB4MWFmMDYsIDB4MWFmMGMsIDB4MWFmMTgsIDB4MWFmMzAsIDB4MWFmM2UsIDB4MWFmNjAsIDB4MWFmN2MsIDB4MWFmOGUsIDB4MWFmOWMsIDB4MWFmYjgsXG4gICAgICAgIDB4MWFmYzQsIDB4MWFmYzgsIDB4MWFmZDAsIDB4MWFmZGUsIDB4MWIwNDIsIDB4MWIwNWUsIDB4MWIwN2EsIDB4MWIwODIsIDB4MWIwODQsIDB4MWIwODgsIDB4MWIwOTAsIDB4MWIwOWUsXG4gICAgICAgIDB4MWIwYTAsIDB4MWIwYmMsIDB4MWIwY2MsIDB4MWIwZjIsIDB4MWIwZjQsIDB4MWIxMDIsIDB4MWIxMDQsIDB4MWIxMDgsIDB4MWIxMTAsIDB4MWIxMWUsIDB4MWIxMjAsIDB4MWIxM2MsXG4gICAgICAgIDB4MWIxNDAsIDB4MWIxNzgsIDB4MWIxODYsIDB4MWIxOTgsIDB4MWIxY2UsIDB4MWIxZTIsIDB4MWIxZTQsIDB4MWIxZTgsIDB4MWIyMDQsIDB4MWIyMDgsIDB4MWIyMTAsIDB4MWIyMWUsXG4gICAgICAgIDB4MWIyMjAsIDB4MWIyM2MsIDB4MWIyNDAsIDB4MWIyNzgsIDB4MWIyZjAsIDB4MWIzMGMsIDB4MWIzM2UsIDB4MWIzNjAsIDB4MWIzOWMsIDB4MWIzYzIsIDB4MWIzYzQsIDB4MWIzYzgsXG4gICAgICAgIDB4MWIzZDAsIDB4MWIzZTYsIDB4MWI0MTAsIDB4MWI0MWUsIDB4MWI0MjAsIDB4MWI0M2MsIDB4MWI0NDAsIDB4MWI0NzgsIDB4MWI0ZjAsIDB4MWI1ZTAsIDB4MWI2MTgsIDB4MWI2NjAsXG4gICAgICAgIDB4MWI2N2MsIDB4MWI2YzAsIDB4MWI3MzgsIDB4MWI3ODIsIDB4MWI3ODQsIDB4MWI3ODgsIDB4MWI3OTAsIDB4MWI3OWUsIDB4MWI3YTAsIDB4MWI3Y2MsIDB4MWI4MmUsIDB4MWI4NGUsXG4gICAgICAgIDB4MWI4NWMsIDB4MWI4OGUsIDB4MWI4OWMsIDB4MWI4YjgsIDB4MWI4YzIsIDB4MWI4YzQsIDB4MWI4YzgsIDB4MWI4ZDAsIDB4MWI4ZTYsIDB4MWI4ZmEsIDB4MWI5MGUsIDB4MWI5MWMsXG4gICAgICAgIDB4MWI5MzgsIDB4MWI5NzAsIDB4MWI5N2UsIDB4MWI5ODIsIDB4MWI5ODQsIDB4MWI5ODgsIDB4MWI5OTAsIDB4MWI5OWUsIDB4MWI5YTAsIDB4MWI5Y2MsIDB4MWI5ZjIsIDB4MWI5ZjQsXG4gICAgICAgIDB4MWJhMGUsIDB4MWJhMWMsIDB4MWJhMzgsIDB4MWJhNzAsIDB4MWJhN2UsIDB4MWJhZTAsIDB4MWJhZmMsIDB4MWJiMDgsIDB4MWJiMTAsIDB4MWJiMjAsIDB4MWJiM2MsIDB4MWJiNDAsXG4gICAgICAgIDB4MWJiOTgsIDB4MWJiY2UsIDB4MWJiZTIsIDB4MWJiZTQsIDB4MWJiZTgsIDB4MWJjMTYsIDB4MWJjMjYsIDB4MWJjMmMsIDB4MWJjNDYsIDB4MWJjNGMsIDB4MWJjNTgsIDB4MWJjNzIsXG4gICAgICAgIDB4MWJjNzQsIDB4MWJjODYsIDB4MWJjOGMsIDB4MWJjOTgsIDB4MWJjYjAsIDB4MWJjYmUsIDB4MWJjY2UsIDB4MWJjZTIsIDB4MWJjZTQsIDB4MWJjZTgsIDB4MWJkMDYsIDB4MWJkMGMsXG4gICAgICAgIDB4MWJkMTgsIDB4MWJkMzAsIDB4MWJkM2UsIDB4MWJkNjAsIDB4MWJkN2MsIDB4MWJkOWMsIDB4MWJkYzIsIDB4MWJkYzQsIDB4MWJkYzgsIDB4MWJkZDAsIDB4MWJkZTYsIDB4MWJkZmEsXG4gICAgICAgIDB4MWJlMTIsIDB4MWJlMTQsIDB4MWJlMjIsIDB4MWJlMjQsIDB4MWJlMjgsIDB4MWJlNDIsIDB4MWJlNDQsIDB4MWJlNDgsIDB4MWJlNTAsIDB4MWJlNWUsIDB4MWJlNjYsIDB4MWJlODIsXG4gICAgICAgIDB4MWJlODQsIDB4MWJlODgsIDB4MWJlOTAsIDB4MWJlOWUsIDB4MWJlYTAsIDB4MWJlYmMsIDB4MWJlY2MsIDB4MWJlZjQsIDB4MWJmMWEsIDB4MWJmMmUsIDB4MWJmMzIsIDB4MWJmMzQsXG4gICAgICAgIDB4MWJmNGUsIDB4MWJmNWMsIDB4MWJmNjIsIDB4MWJmNjQsIDB4MWJmNjgsIDB4MWMwOWEsIDB4MWMwYjIsIDB4MWMwYjQsIDB4MWMxMWEsIDB4MWMxMzIsIDB4MWMxMzQsIDB4MWMxNjIsXG4gICAgICAgIDB4MWMxNjQsIDB4MWMxNjgsIDB4MWMxNzYsIDB4MWMxYmEsIDB4MWMyMWEsIDB4MWMyMzIsIDB4MWMyMzQsIDB4MWMyNGUsIDB4MWMyNWMsIDB4MWMyNjIsIDB4MWMyNjQsIDB4MWMyNjgsXG4gICAgICAgIDB4MWMyNzYsIDB4MWMyOGUsIDB4MWMyYzIsIDB4MWMyYzQsIDB4MWMyYzgsIDB4MWMyZDAsIDB4MWMyZGUsIDB4MWMyZTYsIDB4MWMyZWMsIDB4MWMyZmEsIDB4MWMzMTYsIDB4MWMzMjYsXG4gICAgICAgIDB4MWMzM2EsIDB4MWMzNDYsIDB4MWMzNGMsIDB4MWMzNzIsIDB4MWMzNzQsIDB4MWM0MWEsIDB4MWM0MmUsIDB4MWM0MzIsIDB4MWM0MzQsIDB4MWM0NGUsIDB4MWM0NWMsIDB4MWM0NjIsXG4gICAgICAgIDB4MWM0NjQsIDB4MWM0NjgsIDB4MWM0NzYsIDB4MWM0OGUsIDB4MWM0OWMsIDB4MWM0YjgsIDB4MWM0YzIsIDB4MWM0YzgsIDB4MWM0ZDAsIDB4MWM0ZGUsIDB4MWM0ZTYsIDB4MWM0ZWMsXG4gICAgICAgIDB4MWM0ZmEsIDB4MWM1MWMsIDB4MWM1MzgsIDB4MWM1NzAsIDB4MWM1N2UsIDB4MWM1ODIsIDB4MWM1ODQsIDB4MWM1ODgsIDB4MWM1OTAsIDB4MWM1OWUsIDB4MWM1YTAsIDB4MWM1YmMsXG4gICAgICAgIDB4MWM1YzYsIDB4MWM1Y2MsIDB4MWM1ZDgsIDB4MWM1ZWUsIDB4MWM1ZjIsIDB4MWM1ZjQsIDB4MWM2MTYsIDB4MWM2MjYsIDB4MWM2MmMsIDB4MWM2M2EsIDB4MWM2NDYsIDB4MWM2NGMsXG4gICAgICAgIDB4MWM2NTgsIDB4MWM2NmUsIDB4MWM2NzIsIDB4MWM2NzQsIDB4MWM2ODYsIDB4MWM2OGMsIDB4MWM2OTgsIDB4MWM2YjAsIDB4MWM2YmUsIDB4MWM2Y2UsIDB4MWM2ZGMsIDB4MWM2ZTIsXG4gICAgICAgIDB4MWM2ZTQsIDB4MWM2ZTgsIDB4MWM3MTIsIDB4MWM3MTQsIDB4MWM3MjIsIDB4MWM3MjgsIDB4MWM3MzYsIDB4MWM3NDIsIDB4MWM3NDQsIDB4MWM3NDgsIDB4MWM3NTAsIDB4MWM3NWUsXG4gICAgICAgIDB4MWM3NjYsIDB4MWM3NmMsIDB4MWM3N2EsIDB4MWM3YWUsIDB4MWM3ZDYsIDB4MWM3ZWEsIDB4MWM4MWEsIDB4MWM4MmUsIDB4MWM4MzIsIDB4MWM4MzQsIDB4MWM4NGUsIDB4MWM4NWMsXG4gICAgICAgIDB4MWM4NjIsIDB4MWM4NjQsIDB4MWM4NjgsIDB4MWM4NzYsIDB4MWM4OGUsIDB4MWM4OWMsIDB4MWM4YjgsIDB4MWM4YzIsIDB4MWM4YzgsIDB4MWM4ZDAsIDB4MWM4ZGUsIDB4MWM4ZTYsXG4gICAgICAgIDB4MWM4ZWMsIDB4MWM4ZmEsIDB4MWM5MGUsIDB4MWM5MzgsIDB4MWM5NzAsIDB4MWM5N2UsIDB4MWM5ODIsIDB4MWM5ODQsIDB4MWM5OTAsIDB4MWM5OWUsIDB4MWM5YTAsIDB4MWM5YmMsXG4gICAgICAgIDB4MWM5YzYsIDB4MWM5Y2MsIDB4MWM5ZDgsIDB4MWM5ZWUsIDB4MWM5ZjIsIDB4MWM5ZjQsIDB4MWNhMzgsIDB4MWNhNzAsIDB4MWNhN2UsIDB4MWNhZTAsIDB4MWNhZmMsIDB4MWNiMDIsXG4gICAgICAgIDB4MWNiMDQsIDB4MWNiMDgsIDB4MWNiMTAsIDB4MWNiMjAsIDB4MWNiM2MsIDB4MWNiNDAsIDB4MWNiNzgsIDB4MWNiODYsIDB4MWNiOGMsIDB4MWNiOTgsIDB4MWNiYjAsIDB4MWNiYmUsXG4gICAgICAgIDB4MWNiY2UsIDB4MWNiZGMsIDB4MWNiZTIsIDB4MWNiZTQsIDB4MWNiZTgsIDB4MWNiZjYsIDB4MWNjMTYsIDB4MWNjMjYsIDB4MWNjMmMsIDB4MWNjM2EsIDB4MWNjNDYsIDB4MWNjNTgsXG4gICAgICAgIDB4MWNjNzIsIDB4MWNjNzQsIDB4MWNjODYsIDB4MWNjYjAsIDB4MWNjYmUsIDB4MWNjY2UsIDB4MWNjZTIsIDB4MWNjZTQsIDB4MWNjZTgsIDB4MWNkMDYsIDB4MWNkMGMsIDB4MWNkMTgsXG4gICAgICAgIDB4MWNkMzAsIDB4MWNkM2UsIDB4MWNkNjAsIDB4MWNkN2MsIDB4MWNkOWMsIDB4MWNkYzIsIDB4MWNkYzQsIDB4MWNkYzgsIDB4MWNkZDAsIDB4MWNkZGUsIDB4MWNkZTYsIDB4MWNkZmEsXG4gICAgICAgIDB4MWNlMjIsIDB4MWNlMjgsIDB4MWNlNDIsIDB4MWNlNTAsIDB4MWNlNWUsIDB4MWNlNjYsIDB4MWNlN2EsIDB4MWNlODIsIDB4MWNlODQsIDB4MWNlODgsIDB4MWNlOTAsIDB4MWNlOWUsXG4gICAgICAgIDB4MWNlYTAsIDB4MWNlYmMsIDB4MWNlY2MsIDB4MWNlZjIsIDB4MWNlZjQsIDB4MWNmMmUsIDB4MWNmMzIsIDB4MWNmMzQsIDB4MWNmNGUsIDB4MWNmNWMsIDB4MWNmNjIsIDB4MWNmNjQsXG4gICAgICAgIDB4MWNmNjgsIDB4MWNmOTYsIDB4MWNmYTYsIDB4MWNmYWMsIDB4MWNmY2EsIDB4MWNmZDIsIDB4MWNmZDQsIDB4MWQwMmUsIDB4MWQwMzIsIDB4MWQwMzQsIDB4MWQwNGUsIDB4MWQwNWMsXG4gICAgICAgIDB4MWQwNjIsIDB4MWQwNjQsIDB4MWQwNjgsIDB4MWQwNzYsIDB4MWQwOGUsIDB4MWQwOWMsIDB4MWQwYjgsIDB4MWQwYzIsIDB4MWQwYzQsIDB4MWQwYzgsIDB4MWQwZDAsIDB4MWQwZGUsXG4gICAgICAgIDB4MWQwZTYsIDB4MWQwZWMsIDB4MWQwZmEsIDB4MWQxMWMsIDB4MWQxMzgsIDB4MWQxNzAsIDB4MWQxN2UsIDB4MWQxODIsIDB4MWQxODQsIDB4MWQxODgsIDB4MWQxOTAsIDB4MWQxOWUsXG4gICAgICAgIDB4MWQxYTAsIDB4MWQxYmMsIDB4MWQxYzYsIDB4MWQxY2MsIDB4MWQxZDgsIDB4MWQxZWUsIDB4MWQxZjIsIDB4MWQxZjQsIDB4MWQyMWMsIDB4MWQyMzgsIDB4MWQyNzAsIDB4MWQyN2UsXG4gICAgICAgIDB4MWQyZTAsIDB4MWQyZmMsIDB4MWQzMDIsIDB4MWQzMDQsIDB4MWQzMDgsIDB4MWQzMTAsIDB4MWQzMWUsIDB4MWQzMjAsIDB4MWQzM2MsIDB4MWQzNDAsIDB4MWQzNzgsIDB4MWQzODYsXG4gICAgICAgIDB4MWQzOGMsIDB4MWQzOTgsIDB4MWQzYjAsIDB4MWQzYmUsIDB4MWQzY2UsIDB4MWQzZGMsIDB4MWQzZTIsIDB4MWQzZTQsIDB4MWQzZTgsIDB4MWQzZjYsIDB4MWQ0NzAsIDB4MWQ0N2UsXG4gICAgICAgIDB4MWQ0ZTAsIDB4MWQ0ZmMsIDB4MWQ1YzAsIDB4MWQ1ZjgsIDB4MWQ2MDQsIDB4MWQ2MDgsIDB4MWQ2MTAsIDB4MWQ2MjAsIDB4MWQ2NDAsIDB4MWQ2NzgsIDB4MWQ2ZjAsIDB4MWQ3MDYsXG4gICAgICAgIDB4MWQ3MGMsIDB4MWQ3MTgsIDB4MWQ3MzAsIDB4MWQ3M2UsIDB4MWQ3NjAsIDB4MWQ3N2MsIDB4MWQ3OGUsIDB4MWQ3OWMsIDB4MWQ3YjgsIDB4MWQ3YzIsIDB4MWQ3YzQsIDB4MWQ3YzgsXG4gICAgICAgIDB4MWQ3ZDAsIDB4MWQ3ZGUsIDB4MWQ3ZTYsIDB4MWQ3ZWMsIDB4MWQ4MjYsIDB4MWQ4MmMsIDB4MWQ4M2EsIDB4MWQ4NDYsIDB4MWQ4NGMsIDB4MWQ4NTgsIDB4MWQ4NzIsIDB4MWQ4NzQsXG4gICAgICAgIDB4MWQ4ODYsIDB4MWQ4OGMsIDB4MWQ4OTgsIDB4MWQ4YjAsIDB4MWQ4YmUsIDB4MWQ4Y2UsIDB4MWQ4ZTIsIDB4MWQ4ZTQsIDB4MWQ4ZTgsIDB4MWQ4ZjYsIDB4MWQ5MGMsIDB4MWQ5MTgsXG4gICAgICAgIDB4MWQ5MzAsIDB4MWQ5M2UsIDB4MWQ5NjAsIDB4MWQ5N2MsIDB4MWQ5OWMsIDB4MWQ5YzIsIDB4MWQ5YzQsIDB4MWQ5YzgsIDB4MWQ5ZDAsIDB4MWQ5ZTYsIDB4MWQ5ZmEsIDB4MWRhMGMsXG4gICAgICAgIDB4MWRhMTgsIDB4MWRhMzAsIDB4MWRhM2UsIDB4MWRhNjAsIDB4MWRhN2MsIDB4MWRhYzAsIDB4MWRhZjgsIDB4MWRiMzgsIDB4MWRiODIsIDB4MWRiODQsIDB4MWRiODgsIDB4MWRiOTAsXG4gICAgICAgIDB4MWRiOWUsIDB4MWRiYTAsIDB4MWRiY2MsIDB4MWRiZjIsIDB4MWRiZjQsIDB4MWRjMjIsIDB4MWRjNDIsIDB4MWRjNDQsIDB4MWRjNDgsIDB4MWRjNTAsIDB4MWRjNWUsIDB4MWRjNjYsXG4gICAgICAgIDB4MWRjN2EsIDB4MWRjODIsIDB4MWRjODQsIDB4MWRjODgsIDB4MWRjOTAsIDB4MWRjOWUsIDB4MWRjYTAsIDB4MWRjYmMsIDB4MWRjY2MsIDB4MWRjZjIsIDB4MWRjZjQsIDB4MWRkMDQsXG4gICAgICAgIDB4MWRkMDgsIDB4MWRkMTAsIDB4MWRkMWUsIDB4MWRkMjAsIDB4MWRkM2MsIDB4MWRkNDAsIDB4MWRkNzgsIDB4MWRkODYsIDB4MWRkOTgsIDB4MWRkY2UsIDB4MWRkZTIsIDB4MWRkZTQsXG4gICAgICAgIDB4MWRkZTgsIDB4MWRlMmUsIDB4MWRlMzIsIDB4MWRlMzQsIDB4MWRlNGUsIDB4MWRlNWMsIDB4MWRlNjIsIDB4MWRlNjQsIDB4MWRlNjgsIDB4MWRlOGUsIDB4MWRlOWMsIDB4MWRlYjgsXG4gICAgICAgIDB4MWRlYzIsIDB4MWRlYzQsIDB4MWRlYzgsIDB4MWRlZDAsIDB4MWRlZTYsIDB4MWRlZmEsIDB4MWRmMTYsIDB4MWRmMjYsIDB4MWRmMmMsIDB4MWRmNDYsIDB4MWRmNGMsIDB4MWRmNTgsXG4gICAgICAgIDB4MWRmNzIsIDB4MWRmNzQsIDB4MWRmOGEsIDB4MWRmOTIsIDB4MWRmOTQsIDB4MWRmYTIsIDB4MWRmYTQsIDB4MWRmYTgsIDB4MWUwOGEsIDB4MWUwOTIsIDB4MWUwOTQsIDB4MWUwYTIsXG4gICAgICAgIDB4MWUwYTQsIDB4MWUwYTgsIDB4MWUwYjYsIDB4MWUwZGEsIDB4MWUxMGEsIDB4MWUxMTIsIDB4MWUxMTQsIDB4MWUxMjIsIDB4MWUxMjQsIDB4MWUxMjgsIDB4MWUxMzYsIDB4MWUxNDIsXG4gICAgICAgIDB4MWUxNDQsIDB4MWUxNDgsIDB4MWUxNTAsIDB4MWUxNjYsIDB4MWUxNmMsIDB4MWUxN2EsIDB4MWUxOWEsIDB4MWUxYjIsIDB4MWUxYjQsIDB4MWUyMGEsIDB4MWUyMTIsIDB4MWUyMTQsXG4gICAgICAgIDB4MWUyMjIsIDB4MWUyMjQsIDB4MWUyMjgsIDB4MWUyMzYsIDB4MWUyNDIsIDB4MWUyNDgsIDB4MWUyNTAsIDB4MWUyNWUsIDB4MWUyNjYsIDB4MWUyNmMsIDB4MWUyN2EsIDB4MWUyODIsXG4gICAgICAgIDB4MWUyODQsIDB4MWUyODgsIDB4MWUyOTAsIDB4MWUyYTAsIDB4MWUyYmMsIDB4MWUyYzYsIDB4MWUyY2MsIDB4MWUyZDgsIDB4MWUyZWUsIDB4MWUyZjIsIDB4MWUyZjQsIDB4MWUzMWEsXG4gICAgICAgIDB4MWUzMzIsIDB4MWUzMzQsIDB4MWUzNWMsIDB4MWUzNjIsIDB4MWUzNjQsIDB4MWUzNjgsIDB4MWUzYmEsIDB4MWU0MGEsIDB4MWU0MTIsIDB4MWU0MTQsIDB4MWU0MjIsIDB4MWU0MjgsXG4gICAgICAgIDB4MWU0MzYsIDB4MWU0NDIsIDB4MWU0NDgsIDB4MWU0NTAsIDB4MWU0NWUsIDB4MWU0NjYsIDB4MWU0NmMsIDB4MWU0N2EsIDB4MWU0ODIsIDB4MWU0ODQsIDB4MWU0OTAsIDB4MWU0OWUsXG4gICAgICAgIDB4MWU0YTAsIDB4MWU0YmMsIDB4MWU0YzYsIDB4MWU0Y2MsIDB4MWU0ZDgsIDB4MWU0ZWUsIDB4MWU0ZjIsIDB4MWU0ZjQsIDB4MWU1MDIsIDB4MWU1MDQsIDB4MWU1MDgsIDB4MWU1MTAsXG4gICAgICAgIDB4MWU1MWUsIDB4MWU1MjAsIDB4MWU1M2MsIDB4MWU1NDAsIDB4MWU1NzgsIDB4MWU1ODYsIDB4MWU1OGMsIDB4MWU1OTgsIDB4MWU1YjAsIDB4MWU1YmUsIDB4MWU1Y2UsIDB4MWU1ZGMsXG4gICAgICAgIDB4MWU1ZTIsIDB4MWU1ZTQsIDB4MWU1ZTgsIDB4MWU1ZjYsIDB4MWU2MWEsIDB4MWU2MmUsIDB4MWU2MzIsIDB4MWU2MzQsIDB4MWU2NGUsIDB4MWU2NWMsIDB4MWU2NjIsIDB4MWU2NjgsXG4gICAgICAgIDB4MWU2OGUsIDB4MWU2OWMsIDB4MWU2YjgsIDB4MWU2YzIsIDB4MWU2YzQsIDB4MWU2YzgsIDB4MWU2ZDAsIDB4MWU2ZTYsIDB4MWU2ZmEsIDB4MWU3MTYsIDB4MWU3MjYsIDB4MWU3MmMsXG4gICAgICAgIDB4MWU3M2EsIDB4MWU3NDYsIDB4MWU3NGMsIDB4MWU3NTgsIDB4MWU3NzIsIDB4MWU3NzQsIDB4MWU3OTIsIDB4MWU3OTQsIDB4MWU3YTIsIDB4MWU3YTQsIDB4MWU3YTgsIDB4MWU3YjYsXG4gICAgICAgIDB4MWU4MTIsIDB4MWU4MTQsIDB4MWU4MjIsIDB4MWU4MjQsIDB4MWU4MjgsIDB4MWU4MzYsIDB4MWU4NDIsIDB4MWU4NDQsIDB4MWU4NDgsIDB4MWU4NTAsIDB4MWU4NWUsIDB4MWU4NjYsXG4gICAgICAgIDB4MWU4NmMsIDB4MWU4N2EsIDB4MWU4ODIsIDB4MWU4ODQsIDB4MWU4ODgsIDB4MWU4OTAsIDB4MWU4OWUsIDB4MWU4YTAsIDB4MWU4YmMsIDB4MWU4YzYsIDB4MWU4Y2MsIDB4MWU4ZDgsXG4gICAgICAgIDB4MWU4ZWUsIDB4MWU4ZjIsIDB4MWU4ZjQsIDB4MWU5MDIsIDB4MWU5MDQsIDB4MWU5MDgsIDB4MWU5MTAsIDB4MWU5MjAsIDB4MWU5M2MsIDB4MWU5NDAsIDB4MWU5NzgsIDB4MWU5ODYsXG4gICAgICAgIDB4MWU5OGMsIDB4MWU5OTgsIDB4MWU5YjAsIDB4MWU5YmUsIDB4MWU5Y2UsIDB4MWU5ZGMsIDB4MWU5ZTIsIDB4MWU5ZTQsIDB4MWU5ZTgsIDB4MWU5ZjYsIDB4MWVhMDQsIDB4MWVhMDgsXG4gICAgICAgIDB4MWVhMTAsIDB4MWVhMjAsIDB4MWVhNDAsIDB4MWVhNzgsIDB4MWVhZjAsIDB4MWViMDYsIDB4MWViMGMsIDB4MWViMTgsIDB4MWViMzAsIDB4MWViM2UsIDB4MWViNjAsIDB4MWViN2MsXG4gICAgICAgIDB4MWViOGUsIDB4MWViOWMsIDB4MWViYjgsIDB4MWViYzIsIDB4MWViYzQsIDB4MWViYzgsIDB4MWViZDAsIDB4MWViZGUsIDB4MWViZTYsIDB4MWViZWMsIDB4MWVjMWEsIDB4MWVjMmUsXG4gICAgICAgIDB4MWVjMzIsIDB4MWVjMzQsIDB4MWVjNGUsIDB4MWVjNWMsIDB4MWVjNjIsIDB4MWVjNjQsIDB4MWVjNjgsIDB4MWVjOGUsIDB4MWVjOWMsIDB4MWVjYjgsIDB4MWVjYzIsIDB4MWVjYzQsXG4gICAgICAgIDB4MWVjYzgsIDB4MWVjZDAsIDB4MWVjZTYsIDB4MWVjZmEsIDB4MWVkMGUsIDB4MWVkMWMsIDB4MWVkMzgsIDB4MWVkNzAsIDB4MWVkN2UsIDB4MWVkODIsIDB4MWVkODQsIDB4MWVkODgsXG4gICAgICAgIDB4MWVkOTAsIDB4MWVkOWUsIDB4MWVkYTAsIDB4MWVkY2MsIDB4MWVkZjIsIDB4MWVkZjQsIDB4MWVlMTYsIDB4MWVlMjYsIDB4MWVlMmMsIDB4MWVlM2EsIDB4MWVlNDYsIDB4MWVlNGMsXG4gICAgICAgIDB4MWVlNTgsIDB4MWVlNmUsIDB4MWVlNzIsIDB4MWVlNzQsIDB4MWVlODYsIDB4MWVlOGMsIDB4MWVlOTgsIDB4MWVlYjAsIDB4MWVlYmUsIDB4MWVlY2UsIDB4MWVlZGMsIDB4MWVlZTIsXG4gICAgICAgIDB4MWVlZTQsIDB4MWVlZTgsIDB4MWVmMTIsIDB4MWVmMjIsIDB4MWVmMjQsIDB4MWVmMjgsIDB4MWVmMzYsIDB4MWVmNDIsIDB4MWVmNDQsIDB4MWVmNDgsIDB4MWVmNTAsIDB4MWVmNWUsXG4gICAgICAgIDB4MWVmNjYsIDB4MWVmNmMsIDB4MWVmN2EsIDB4MWVmYWUsIDB4MWVmYjIsIDB4MWVmYjQsIDB4MWVmZDYsIDB4MWYwOTYsIDB4MWYwYTYsIDB4MWYwYWMsIDB4MWYwYmEsIDB4MWYwY2EsXG4gICAgICAgIDB4MWYwZDIsIDB4MWYwZDQsIDB4MWYxMTYsIDB4MWYxMjYsIDB4MWYxMmMsIDB4MWYxM2EsIDB4MWYxNDYsIDB4MWYxNGMsIDB4MWYxNTgsIDB4MWYxNmUsIDB4MWYxNzIsIDB4MWYxNzQsXG4gICAgICAgIDB4MWYxOGEsIDB4MWYxOTIsIDB4MWYxOTQsIDB4MWYxYTIsIDB4MWYxYTQsIDB4MWYxYTgsIDB4MWYxZGEsIDB4MWYyMTYsIDB4MWYyMjYsIDB4MWYyMmMsIDB4MWYyM2EsIDB4MWYyNDYsXG4gICAgICAgIDB4MWYyNTgsIDB4MWYyNmUsIDB4MWYyNzIsIDB4MWYyNzQsIDB4MWYyODYsIDB4MWYyOGMsIDB4MWYyOTgsIDB4MWYyYjAsIDB4MWYyYmUsIDB4MWYyY2UsIDB4MWYyZGMsIDB4MWYyZTIsXG4gICAgICAgIDB4MWYyZTQsIDB4MWYyZTgsIDB4MWYyZjYsIDB4MWYzMGEsIDB4MWYzMTIsIDB4MWYzMTQsIDB4MWYzMjIsIDB4MWYzMjgsIDB4MWYzNDIsIDB4MWYzNDQsIDB4MWYzNDgsIDB4MWYzNTAsXG4gICAgICAgIDB4MWYzNWUsIDB4MWYzNjYsIDB4MWYzN2EsIDB4MWYzOWEsIDB4MWYzYWUsIDB4MWYzYjIsIDB4MWYzYjQsIDB4MWY0MTYsIDB4MWY0MjYsIDB4MWY0MmMsIDB4MWY0M2EsIDB4MWY0NDYsXG4gICAgICAgIDB4MWY0NGMsIDB4MWY0NTgsIDB4MWY0NmUsIDB4MWY0NzIsIDB4MWY0NzQsIDB4MWY0ODYsIDB4MWY0OGMsIDB4MWY0OTgsIDB4MWY0YjAsIDB4MWY0YmUsIDB4MWY0Y2UsIDB4MWY0ZGMsXG4gICAgICAgIDB4MWY0ZTIsIDB4MWY0ZTQsIDB4MWY0ZTgsIDB4MWY0ZjYsIDB4MWY1MDYsIDB4MWY1MGMsIDB4MWY1MTgsIDB4MWY1MzAsIDB4MWY1M2UsIDB4MWY1NjAsIDB4MWY1N2MsIDB4MWY1OGUsXG4gICAgICAgIDB4MWY1OWMsIDB4MWY1YjgsIDB4MWY1YzIsIDB4MWY1YzQsIDB4MWY1YzgsIDB4MWY1ZDAsIDB4MWY1ZGUsIDB4MWY1ZTYsIDB4MWY1ZWMsIDB4MWY1ZmEsIDB4MWY2MGEsIDB4MWY2MTIsXG4gICAgICAgIDB4MWY2MTQsIDB4MWY2MjIsIDB4MWY2MjQsIDB4MWY2MjgsIDB4MWY2MzYsIDB4MWY2NDIsIDB4MWY2NDQsIDB4MWY2NDgsIDB4MWY2NTAsIDB4MWY2NWUsIDB4MWY2NjYsIDB4MWY2N2EsXG4gICAgICAgIDB4MWY2ODIsIDB4MWY2ODQsIDB4MWY2ODgsIDB4MWY2OTAsIDB4MWY2OWUsIDB4MWY2YTAsIDB4MWY2YmMsIDB4MWY2Y2MsIDB4MWY2ZjIsIDB4MWY2ZjQsIDB4MWY3MWEsIDB4MWY3MmUsXG4gICAgICAgIDB4MWY3MzIsIDB4MWY3MzQsIDB4MWY3NGUsIDB4MWY3NWMsIDB4MWY3NjIsIDB4MWY3NjQsIDB4MWY3NjgsIDB4MWY3NzYsIDB4MWY3OTYsIDB4MWY3YTYsIDB4MWY3YWMsIDB4MWY3YmEsXG4gICAgICAgIDB4MWY3ZDIsIDB4MWY3ZDQsIDB4MWY4OWEsIDB4MWY4YWUsIDB4MWY4YjIsIDB4MWY4YjQsIDB4MWY4ZDYsIDB4MWY4ZWEsIDB4MWY5MWEsIDB4MWY5MmUsIDB4MWY5MzIsIDB4MWY5MzQsXG4gICAgICAgIDB4MWY5NGUsIDB4MWY5NWMsIDB4MWY5NjIsIDB4MWY5NjQsIDB4MWY5NjgsIDB4MWY5NzYsIDB4MWY5OTYsIDB4MWY5YTYsIDB4MWY5YWMsIDB4MWY5YmEsIDB4MWY5Y2EsIDB4MWY5ZDIsXG4gICAgICAgIDB4MWY5ZDQsIDB4MWZhMWEsIDB4MWZhMmUsIDB4MWZhMzIsIDB4MWZhMzQsIDB4MWZhNGUsIDB4MWZhNWMsIDB4MWZhNjIsIDB4MWZhNjQsIDB4MWZhNjgsIDB4MWZhNzYsIDB4MWZhOGUsXG4gICAgICAgIDB4MWZhOWMsIDB4MWZhYjgsIDB4MWZhYzIsIDB4MWZhYzQsIDB4MWZhYzgsIDB4MWZhZDAsIDB4MWZhZGUsIDB4MWZhZTYsIDB4MWZhZWMsIDB4MWZiMTYsIDB4MWZiMjYsIDB4MWZiMmMsXG4gICAgICAgIDB4MWZiM2EsIDB4MWZiNDYsIDB4MWZiNGMsIDB4MWZiNTgsIDB4MWZiNmUsIDB4MWZiNzIsIDB4MWZiNzQsIDB4MWZiOGEsIDB4MWZiOTIsIDB4MWZiOTQsIDB4MWZiYTIsIDB4MWZiYTQsXG4gICAgICAgIDB4MWZiYTgsIDB4MWZiYjYsIDB4MWZiZGFcbiAgICBdKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHRhYmxlIGNvbnRhaW5zIHRvIGNvZGV3b3JkcyBmb3IgYWxsIHN5bWJvbHMuXG4gICAgICovXG4gICAgUERGNDE3Q29tbW9uLkNPREVXT1JEX1RBQkxFID0gSW50MzJBcnJheS5mcm9tKFtcbiAgICAgICAgMjYyNywgMTgxOSwgMjYyMiwgMjYyMSwgMTgxMywgMTgxMiwgMjcyOSwgMjcyNCwgMjcyMywgMjc3OSwgMjc3NCwgMjc3MywgOTAyLCA4OTYsIDkwOCwgODY4LCA4NjUsIDg2MSwgODU5LCAyNTExLFxuICAgICAgICA4NzMsIDg3MSwgMTc4MCwgODM1LCAyNDkzLCA4MjUsIDI0OTEsIDg0MiwgODM3LCA4NDQsIDE3NjQsIDE3NjIsIDgxMSwgODEwLCA4MDksIDI0ODMsIDgwNywgMjQ4MiwgODA2LCAyNDgwLCA4MTUsXG4gICAgICAgIDgxNCwgODEzLCA4MTIsIDI0ODQsIDgxNywgODE2LCAxNzQ1LCAxNzQ0LCAxNzQyLCAxNzQ2LCAyNjU1LCAyNjM3LCAyNjM1LCAyNjI2LCAyNjI1LCAyNjIzLCAyNjI4LCAxODIwLCAyNzUyLFxuICAgICAgICAyNzM5LCAyNzM3LCAyNzI4LCAyNzI3LCAyNzI1LCAyNzMwLCAyNzg1LCAyNzgzLCAyNzc4LCAyNzc3LCAyNzc1LCAyNzgwLCA3ODcsIDc4MSwgNzQ3LCA3MzksIDczNiwgMjQxMywgNzU0LCA3NTIsXG4gICAgICAgIDE3MTksIDY5MiwgNjg5LCA2ODEsIDIzNzEsIDY3OCwgMjM2OSwgNzAwLCA2OTcsIDY5NCwgNzAzLCAxNjg4LCAxNjg2LCA2NDIsIDYzOCwgMjM0MywgNjMxLCAyMzQxLCA2MjcsIDIzMzgsIDY1MSxcbiAgICAgICAgNjQ2LCA2NDMsIDIzNDUsIDY1NCwgNjUyLCAxNjUyLCAxNjUwLCAxNjQ3LCAxNjU0LCA2MDEsIDU5OSwgMjMyMiwgNTk2LCAyMzIxLCA1OTQsIDIzMTksIDIzMTcsIDYxMSwgNjEwLCA2MDgsIDYwNixcbiAgICAgICAgMjMyNCwgNjAzLCAyMzIzLCA2MTUsIDYxNCwgNjEyLCAxNjE3LCAxNjE2LCAxNjE0LCAxNjEyLCA2MTYsIDE2MTksIDE2MTgsIDI1NzUsIDI1MzgsIDI1MzYsIDkwNSwgOTAxLCA4OTgsIDkwOSxcbiAgICAgICAgMjUwOSwgMjUwNywgMjUwNCwgODcwLCA4NjcsIDg2NCwgODYwLCAyNTEyLCA4NzUsIDg3MiwgMTc4MSwgMjQ5MCwgMjQ4OSwgMjQ4NywgMjQ4NSwgMTc0OCwgODM2LCA4MzQsIDgzMiwgODMwLFxuICAgICAgICAyNDk0LCA4MjcsIDI0OTIsIDg0MywgODQxLCA4MzksIDg0NSwgMTc2NSwgMTc2MywgMjcwMSwgMjY3NiwgMjY3NCwgMjY1MywgMjY0OCwgMjY1NiwgMjYzNCwgMjYzMywgMjYzMSwgMjYyOSxcbiAgICAgICAgMTgyMSwgMjYzOCwgMjYzNiwgMjc3MCwgMjc2MywgMjc2MSwgMjc1MCwgMjc0NSwgMjc1MywgMjczNiwgMjczNSwgMjczMywgMjczMSwgMTg0OCwgMjc0MCwgMjczOCwgMjc4NiwgMjc4NCwgNTkxLFxuICAgICAgICA1ODgsIDU3NiwgNTY5LCA1NjYsIDIyOTYsIDE1OTAsIDUzNywgNTM0LCA1MjYsIDIyNzYsIDUyMiwgMjI3NCwgNTQ1LCA1NDIsIDUzOSwgNTQ4LCAxNTcyLCAxNTcwLCA0ODEsIDIyNDUsIDQ2NixcbiAgICAgICAgMjI0MiwgNDYyLCAyMjM5LCA0OTIsIDQ4NSwgNDgyLCAyMjQ5LCA0OTYsIDQ5NCwgMTUzNCwgMTUzMSwgMTUyOCwgMTUzOCwgNDEzLCAyMTk2LCA0MDYsIDIxOTEsIDIxODgsIDQyNSwgNDE5LFxuICAgICAgICAyMjAyLCA0MTUsIDIxOTksIDQzMiwgNDMwLCA0MjcsIDE0NzIsIDE0NjcsIDE0NjQsIDQzMywgMTQ3NiwgMTQ3NCwgMzY4LCAzNjcsIDIxNjAsIDM2NSwgMjE1OSwgMzYyLCAyMTU3LCAyMTU1LFxuICAgICAgICAyMTUyLCAzNzgsIDM3NywgMzc1LCAyMTY2LCAzNzIsIDIxNjUsIDM2OSwgMjE2MiwgMzgzLCAzODEsIDM3OSwgMjE2OCwgMTQxOSwgMTQxOCwgMTQxNiwgMTQxNCwgMzg1LCAxNDExLCAzODQsXG4gICAgICAgIDE0MjMsIDE0MjIsIDE0MjAsIDE0MjQsIDI0NjEsIDgwMiwgMjQ0MSwgMjQzOSwgNzkwLCA3ODYsIDc4MywgNzk0LCAyNDA5LCAyNDA2LCAyNDAzLCA3NTAsIDc0MiwgNzM4LCAyNDE0LCA3NTYsXG4gICAgICAgIDc1MywgMTcyMCwgMjM2NywgMjM2NSwgMjM2MiwgMjM1OSwgMTY2MywgNjkzLCA2OTEsIDY4NCwgMjM3MywgNjgwLCAyMzcwLCA3MDIsIDY5OSwgNjk2LCA3MDQsIDE2OTAsIDE2ODcsIDIzMzcsXG4gICAgICAgIDIzMzYsIDIzMzQsIDIzMzIsIDE2MjQsIDIzMjksIDE2MjIsIDY0MCwgNjM3LCAyMzQ0LCA2MzQsIDIzNDIsIDYzMCwgMjM0MCwgNjUwLCA2NDgsIDY0NSwgMjM0NiwgNjU1LCA2NTMsIDE2NTMsXG4gICAgICAgIDE2NTEsIDE2NDksIDE2NTUsIDI2MTIsIDI1OTcsIDI1OTUsIDI1NzEsIDI1NjgsIDI1NjUsIDI1NzYsIDI1MzQsIDI1MjksIDI1MjYsIDE3ODcsIDI1NDAsIDI1MzcsIDkwNywgOTA0LCA5MDAsXG4gICAgICAgIDkxMCwgMjUwMywgMjUwMiwgMjUwMCwgMjQ5OCwgMTc2OCwgMjQ5NSwgMTc2NywgMjUxMCwgMjUwOCwgMjUwNiwgODY5LCA4NjYsIDg2MywgMjUxMywgODc2LCA4NzQsIDE3ODIsIDI3MjAsIDI3MTMsXG4gICAgICAgIDI3MTEsIDI2OTcsIDI2OTQsIDI2OTEsIDI3MDIsIDI2NzIsIDI2NzAsIDI2NjQsIDE4MjgsIDI2NzgsIDI2NzUsIDI2NDcsIDI2NDYsIDI2NDQsIDI2NDIsIDE4MjMsIDI2MzksIDE4MjIsIDI2NTQsXG4gICAgICAgIDI2NTIsIDI2NTAsIDI2NTcsIDI3NzEsIDE4NTUsIDI3NjUsIDI3NjIsIDE4NTAsIDE4NDksIDI3NTEsIDI3NDksIDI3NDcsIDI3NTQsIDM1MywgMjE0OCwgMzQ0LCAzNDIsIDMzNiwgMjE0MixcbiAgICAgICAgMzMyLCAyMTQwLCAzNDUsIDEzNzUsIDEzNzMsIDMwNiwgMjEzMCwgMjk5LCAyMTI4LCAyOTUsIDIxMjUsIDMxOSwgMzE0LCAzMTEsIDIxMzIsIDEzNTQsIDEzNTIsIDEzNDksIDEzNTYsIDI2MixcbiAgICAgICAgMjU3LCAyMTAxLCAyNTMsIDIwOTYsIDIwOTMsIDI3NCwgMjczLCAyNjcsIDIxMDcsIDI2MywgMjEwNCwgMjgwLCAyNzgsIDI3NSwgMTMxNiwgMTMxMSwgMTMwOCwgMTMyMCwgMTMxOCwgMjA1MixcbiAgICAgICAgMjAyLCAyMDUwLCAyMDQ0LCAyMDQwLCAyMTksIDIwNjMsIDIxMiwgMjA2MCwgMjA4LCAyMDU1LCAyMjQsIDIyMSwgMjA2NiwgMTI2MCwgMTI1OCwgMTI1MiwgMjMxLCAxMjQ4LCAyMjksIDEyNjYsXG4gICAgICAgIDEyNjQsIDEyNjEsIDEyNjgsIDE1NSwgMTk5OCwgMTUzLCAxOTk2LCAxOTk0LCAxOTkxLCAxOTg4LCAxNjUsIDE2NCwgMjAwNywgMTYyLCAyMDA2LCAxNTksIDIwMDMsIDIwMDAsIDE3MiwgMTcxLFxuICAgICAgICAxNjksIDIwMTIsIDE2NiwgMjAxMCwgMTE4NiwgMTE4NCwgMTE4MiwgMTE3OSwgMTc1LCAxMTc2LCAxNzMsIDExOTIsIDExOTEsIDExODksIDExODcsIDE3NiwgMTE5NCwgMTE5MywgMjMxMyxcbiAgICAgICAgMjMwNywgMjMwNSwgNTkyLCA1ODksIDIyOTQsIDIyOTIsIDIyODksIDU3OCwgNTcyLCA1NjgsIDIyOTcsIDU4MCwgMTU5MSwgMjI3MiwgMjI2NywgMjI2NCwgMTU0NywgNTM4LCA1MzYsIDUyOSxcbiAgICAgICAgMjI3OCwgNTI1LCAyMjc1LCA1NDcsIDU0NCwgNTQxLCAxNTc0LCAxNTcxLCAyMjM3LCAyMjM1LCAyMjI5LCAxNDkzLCAyMjI1LCAxNDg5LCA0NzgsIDIyNDcsIDQ3MCwgMjI0NCwgNDY1LCAyMjQxLFxuICAgICAgICA0OTMsIDQ4OCwgNDg0LCAyMjUwLCA0OTgsIDQ5NSwgMTUzNiwgMTUzMywgMTUzMCwgMTUzOSwgMjE4NywgMjE4NiwgMjE4NCwgMjE4MiwgMTQzMiwgMjE3OSwgMTQzMCwgMjE3NiwgMTQyNywgNDE0LFxuICAgICAgICA0MTIsIDIxOTcsIDQwOSwgMjE5NSwgNDA1LCAyMTkzLCAyMTkwLCA0MjYsIDQyNCwgNDIxLCAyMjAzLCA0MTgsIDIyMDEsIDQzMSwgNDI5LCAxNDczLCAxNDcxLCAxNDY5LCAxNDY2LCA0MzQsXG4gICAgICAgIDE0NzcsIDE0NzUsIDI0NzgsIDI0NzIsIDI0NzAsIDI0NTksIDI0NTcsIDI0NTQsIDI0NjIsIDgwMywgMjQzNywgMjQzMiwgMjQyOSwgMTcyNiwgMjQ0MywgMjQ0MCwgNzkyLCA3ODksIDc4NSxcbiAgICAgICAgMjQwMSwgMjM5OSwgMjM5MywgMTcwMiwgMjM4OSwgMTY5OSwgMjQxMSwgMjQwOCwgMjQwNSwgNzQ1LCA3NDEsIDI0MTUsIDc1OCwgNzU1LCAxNzIxLCAyMzU4LCAyMzU3LCAyMzU1LCAyMzUzLFxuICAgICAgICAxNjYxLCAyMzUwLCAxNjYwLCAyMzQ3LCAxNjU3LCAyMzY4LCAyMzY2LCAyMzY0LCAyMzYxLCAxNjY2LCA2OTAsIDY4NywgMjM3NCwgNjgzLCAyMzcyLCA3MDEsIDY5OCwgNzA1LCAxNjkxLCAxNjg5LFxuICAgICAgICAyNjE5LCAyNjE3LCAyNjEwLCAyNjA4LCAyNjA1LCAyNjEzLCAyNTkzLCAyNTg4LCAyNTg1LCAxODAzLCAyNTk5LCAyNTk2LCAyNTYzLCAyNTYxLCAyNTU1LCAxNzk3LCAyNTUxLCAxNzk1LCAyNTczLFxuICAgICAgICAyNTcwLCAyNTY3LCAyNTc3LCAyNTI1LCAyNTI0LCAyNTIyLCAyNTIwLCAxNzg2LCAyNTE3LCAxNzg1LCAyNTE0LCAxNzgzLCAyNTM1LCAyNTMzLCAyNTMxLCAyNTI4LCAxNzg4LCAyNTQxLCAyNTM5LFxuICAgICAgICA5MDYsIDkwMywgOTExLCAyNzIxLCAxODQ0LCAyNzE1LCAyNzEyLCAxODM4LCAxODM2LCAyNjk5LCAyNjk2LCAyNjkzLCAyNzAzLCAxODI3LCAxODI2LCAxODI0LCAyNjczLCAyNjcxLCAyNjY5LFxuICAgICAgICAyNjY2LCAxODI5LCAyNjc5LCAyNjc3LCAxODU4LCAxODU3LCAyNzcyLCAxODU0LCAxODUzLCAxODUxLCAxODU2LCAyNzY2LCAyNzY0LCAxNDMsIDE5ODcsIDEzOSwgMTk4NiwgMTM1LCAxMzMsXG4gICAgICAgIDEzMSwgMTk4NCwgMTI4LCAxOTgzLCAxMjUsIDE5ODEsIDEzOCwgMTM3LCAxMzYsIDE5ODUsIDExMzMsIDExMzIsIDExMzAsIDExMiwgMTEwLCAxOTc0LCAxMDcsIDE5NzMsIDEwNCwgMTk3MSxcbiAgICAgICAgMTk2OSwgMTIyLCAxMjEsIDExOSwgMTE3LCAxOTc3LCAxMTQsIDE5NzYsIDEyNCwgMTExNSwgMTExNCwgMTExMiwgMTExMCwgMTExNywgMTExNiwgODQsIDgzLCAxOTUzLCA4MSwgMTk1MiwgNzgsXG4gICAgICAgIDE5NTAsIDE5NDgsIDE5NDUsIDk0LCA5MywgOTEsIDE5NTksIDg4LCAxOTU4LCA4NSwgMTk1NSwgOTksIDk3LCA5NSwgMTk2MSwgMTA4NiwgMTA4NSwgMTA4MywgMTA4MSwgMTA3OCwgMTAwLFxuICAgICAgICAxMDkwLCAxMDg5LCAxMDg3LCAxMDkxLCA0OSwgNDcsIDE5MTcsIDQ0LCAxOTE1LCAxOTEzLCAxOTEwLCAxOTA3LCA1OSwgMTkyNiwgNTYsIDE5MjUsIDUzLCAxOTIyLCAxOTE5LCA2NiwgNjQsXG4gICAgICAgIDE5MzEsIDYxLCAxOTI5LCAxMDQyLCAxMDQwLCAxMDM4LCA3MSwgMTAzNSwgNzAsIDEwMzIsIDY4LCAxMDQ4LCAxMDQ3LCAxMDQ1LCAxMDQzLCAxMDUwLCAxMDQ5LCAxMiwgMTAsIDE4NjksIDE4NjcsXG4gICAgICAgIDE4NjQsIDE4NjEsIDIxLCAxODgwLCAxOSwgMTg3NywgMTg3NCwgMTg3MSwgMjgsIDE4ODgsIDI1LCAxODg2LCAyMiwgMTg4MywgOTgyLCA5ODAsIDk3NywgOTc0LCAzMiwgMzAsIDk5MSwgOTg5LFxuICAgICAgICA5ODcsIDk4NCwgMzQsIDk5NSwgOTk0LCA5OTIsIDIxNTEsIDIxNTAsIDIxNDcsIDIxNDYsIDIxNDQsIDM1NiwgMzU1LCAzNTQsIDIxNDksIDIxMzksIDIxMzgsIDIxMzYsIDIxMzQsIDEzNTksXG4gICAgICAgIDM0MywgMzQxLCAzMzgsIDIxNDMsIDMzNSwgMjE0MSwgMzQ4LCAzNDcsIDM0NiwgMTM3NiwgMTM3NCwgMjEyNCwgMjEyMywgMjEyMSwgMjExOSwgMTMyNiwgMjExNiwgMTMyNCwgMzEwLCAzMDgsXG4gICAgICAgIDMwNSwgMjEzMSwgMzAyLCAyMTI5LCAyOTgsIDIxMjcsIDMyMCwgMzE4LCAzMTYsIDMxMywgMjEzMywgMzIyLCAzMjEsIDEzNTUsIDEzNTMsIDEzNTEsIDEzNTcsIDIwOTIsIDIwOTEsIDIwODksXG4gICAgICAgIDIwODcsIDEyNzYsIDIwODQsIDEyNzQsIDIwODEsIDEyNzEsIDI1OSwgMjEwMiwgMjU2LCAyMTAwLCAyNTIsIDIwOTgsIDIwOTUsIDI3MiwgMjY5LCAyMTA4LCAyNjYsIDIxMDYsIDI4MSwgMjc5LFxuICAgICAgICAyNzcsIDEzMTcsIDEzMTUsIDEzMTMsIDEzMTAsIDI4MiwgMTMyMSwgMTMxOSwgMjAzOSwgMjAzNywgMjAzNSwgMjAzMiwgMTIwMywgMjAyOSwgMTIwMCwgMTE5NywgMjA3LCAyMDUzLCAyMDUsXG4gICAgICAgIDIwNTEsIDIwMSwgMjA0OSwgMjA0NiwgMjA0MywgMjIwLCAyMTgsIDIwNjQsIDIxNSwgMjA2MiwgMjExLCAyMDU5LCAyMjgsIDIyNiwgMjIzLCAyMDY5LCAxMjU5LCAxMjU3LCAxMjU0LCAyMzIsXG4gICAgICAgIDEyNTEsIDIzMCwgMTI2NywgMTI2NSwgMTI2MywgMjMxNiwgMjMxNSwgMjMxMiwgMjMxMSwgMjMwOSwgMjMxNCwgMjMwNCwgMjMwMywgMjMwMSwgMjI5OSwgMTU5MywgMjMwOCwgMjMwNiwgNTkwLFxuICAgICAgICAyMjg4LCAyMjg3LCAyMjg1LCAyMjgzLCAxNTc4LCAyMjgwLCAxNTc3LCAyMjk1LCAyMjkzLCAyMjkxLCA1NzksIDU3NywgNTc0LCA1NzEsIDIyOTgsIDU4MiwgNTgxLCAxNTkyLCAyMjYzLCAyMjYyLFxuICAgICAgICAyMjYwLCAyMjU4LCAxNTQ1LCAyMjU1LCAxNTQ0LCAyMjUyLCAxNTQxLCAyMjczLCAyMjcxLCAyMjY5LCAyMjY2LCAxNTUwLCA1MzUsIDUzMiwgMjI3OSwgNTI4LCAyMjc3LCA1NDYsIDU0MywgNTQ5LFxuICAgICAgICAxNTc1LCAxNTczLCAyMjI0LCAyMjIyLCAyMjIwLCAxNDg2LCAyMjE3LCAxNDg1LCAyMjE0LCAxNDgyLCAxNDc5LCAyMjM4LCAyMjM2LCAyMjM0LCAyMjMxLCAxNDk2LCAyMjI4LCAxNDkyLCA0ODAsXG4gICAgICAgIDQ3NywgMjI0OCwgNDczLCAyMjQ2LCA0NjksIDIyNDMsIDQ5MCwgNDg3LCAyMjUxLCA0OTcsIDE1MzcsIDE1MzUsIDE1MzIsIDI0NzcsIDI0NzYsIDI0NzQsIDI0NzksIDI0NjksIDI0NjgsIDI0NjYsXG4gICAgICAgIDI0NjQsIDE3MzAsIDI0NzMsIDI0NzEsIDI0NTMsIDI0NTIsIDI0NTAsIDI0NDgsIDE3MjksIDI0NDUsIDE3MjgsIDI0NjAsIDI0NTgsIDI0NTYsIDI0NjMsIDgwNSwgODA0LCAyNDI4LCAyNDI3LFxuICAgICAgICAyNDI1LCAyNDIzLCAxNzI1LCAyNDIwLCAxNzI0LCAyNDE3LCAxNzIyLCAyNDM4LCAyNDM2LCAyNDM0LCAyNDMxLCAxNzI3LCAyNDQ0LCAyNDQyLCA3OTMsIDc5MSwgNzg4LCA3OTUsIDIzODgsXG4gICAgICAgIDIzODYsIDIzODQsIDE2OTcsIDIzODEsIDE2OTYsIDIzNzgsIDE2OTQsIDE2OTIsIDI0MDIsIDI0MDAsIDIzOTgsIDIzOTUsIDE3MDMsIDIzOTIsIDE3MDEsIDI0MTIsIDI0MTAsIDI0MDcsIDc1MSxcbiAgICAgICAgNzQ4LCA3NDQsIDI0MTYsIDc1OSwgNzU3LCAxODA3LCAyNjIwLCAyNjE4LCAxODA2LCAxODA1LCAyNjExLCAyNjA5LCAyNjA3LCAyNjE0LCAxODAyLCAxODAxLCAxNzk5LCAyNTk0LCAyNTkyLFxuICAgICAgICAyNTkwLCAyNTg3LCAxODA0LCAyNjAwLCAyNTk4LCAxNzk0LCAxNzkzLCAxNzkxLCAxNzg5LCAyNTY0LCAyNTYyLCAyNTYwLCAyNTU3LCAxNzk4LCAyNTU0LCAxNzk2LCAyNTc0LCAyNTcyLCAyNTY5LFxuICAgICAgICAyNTc4LCAxODQ3LCAxODQ2LCAyNzIyLCAxODQzLCAxODQyLCAxODQwLCAxODQ1LCAyNzE2LCAyNzE0LCAxODM1LCAxODM0LCAxODMyLCAxODMwLCAxODM5LCAxODM3LCAyNzAwLCAyNjk4LCAyNjk1LFxuICAgICAgICAyNzA0LCAxODE3LCAxODExLCAxODEwLCA4OTcsIDg2MiwgMTc3NywgODI5LCA4MjYsIDgzOCwgMTc2MCwgMTc1OCwgODA4LCAyNDgxLCAxNzQxLCAxNzQwLCAxNzM4LCAxNzQzLCAyNjI0LCAxODE4LFxuICAgICAgICAyNzI2LCAyNzc2LCA3ODIsIDc0MCwgNzM3LCAxNzE1LCA2ODYsIDY3OSwgNjk1LCAxNjgyLCAxNjgwLCA2MzksIDYyOCwgMjMzOSwgNjQ3LCA2NDQsIDE2NDUsIDE2NDMsIDE2NDAsIDE2NDgsXG4gICAgICAgIDYwMiwgNjAwLCA1OTcsIDU5NSwgMjMyMCwgNTkzLCAyMzE4LCA2MDksIDYwNywgNjA0LCAxNjExLCAxNjEwLCAxNjA4LCAxNjA2LCA2MTMsIDE2MTUsIDE2MTMsIDIzMjgsIDkyNiwgOTI0LCA4OTIsXG4gICAgICAgIDg4NiwgODk5LCA4NTcsIDg1MCwgMjUwNSwgMTc3OCwgODI0LCA4MjMsIDgyMSwgODE5LCAyNDg4LCA4MTgsIDI0ODYsIDgzMywgODMxLCA4MjgsIDg0MCwgMTc2MSwgMTc1OSwgMjY0OSwgMjYzMixcbiAgICAgICAgMjYzMCwgMjc0NiwgMjczNCwgMjczMiwgMjc4MiwgMjc4MSwgNTcwLCA1NjcsIDE1ODcsIDUzMSwgNTI3LCA1MjMsIDU0MCwgMTU2NiwgMTU2NCwgNDc2LCA0NjcsIDQ2MywgMjI0MCwgNDg2LFxuICAgICAgICA0ODMsIDE1MjQsIDE1MjEsIDE1MTgsIDE1MjksIDQxMSwgNDAzLCAyMTkyLCAzOTksIDIxODksIDQyMywgNDE2LCAxNDYyLCAxNDU3LCAxNDU0LCA0MjgsIDE0NjgsIDE0NjUsIDIyMTAsIDM2NixcbiAgICAgICAgMzYzLCAyMTU4LCAzNjAsIDIxNTYsIDM1NywgMjE1MywgMzc2LCAzNzMsIDM3MCwgMjE2MywgMTQxMCwgMTQwOSwgMTQwNywgMTQwNSwgMzgyLCAxNDAyLCAzODAsIDE0MTcsIDE0MTUsIDE0MTIsXG4gICAgICAgIDE0MjEsIDIxNzUsIDIxNzQsIDc3NywgNzc0LCA3NzEsIDc4NCwgNzMyLCA3MjUsIDcyMiwgMjQwNCwgNzQzLCAxNzE2LCA2NzYsIDY3NCwgNjY4LCAyMzYzLCA2NjUsIDIzNjAsIDY4NSwgMTY4NCxcbiAgICAgICAgMTY4MSwgNjI2LCA2MjQsIDYyMiwgMjMzNSwgNjIwLCAyMzMzLCA2MTcsIDIzMzAsIDY0MSwgNjM1LCA2NDksIDE2NDYsIDE2NDQsIDE2NDIsIDI1NjYsIDkyOCwgOTI1LCAyNTMwLCAyNTI3LFxuICAgICAgICA4OTQsIDg5MSwgODg4LCAyNTAxLCAyNDk5LCAyNDk2LCA4NTgsIDg1NiwgODU0LCA4NTEsIDE3NzksIDI2OTIsIDI2NjgsIDI2NjUsIDI2NDUsIDI2NDMsIDI2NDAsIDI2NTEsIDI3NjgsIDI3NTksXG4gICAgICAgIDI3NTcsIDI3NDQsIDI3NDMsIDI3NDEsIDI3NDgsIDM1MiwgMTM4MiwgMzQwLCAzMzcsIDMzMywgMTM3MSwgMTM2OSwgMzA3LCAzMDAsIDI5NiwgMjEyNiwgMzE1LCAzMTIsIDEzNDcsIDEzNDIsXG4gICAgICAgIDEzNTAsIDI2MSwgMjU4LCAyNTAsIDIwOTcsIDI0NiwgMjA5NCwgMjcxLCAyNjgsIDI2NCwgMTMwNiwgMTMwMSwgMTI5OCwgMjc2LCAxMzEyLCAxMzA5LCAyMTE1LCAyMDMsIDIwNDgsIDE5NSxcbiAgICAgICAgMjA0NSwgMTkxLCAyMDQxLCAyMTMsIDIwOSwgMjA1NiwgMTI0NiwgMTI0NCwgMTIzOCwgMjI1LCAxMjM0LCAyMjIsIDEyNTYsIDEyNTMsIDEyNDksIDEyNjIsIDIwODAsIDIwNzksIDE1NCwgMTk5NyxcbiAgICAgICAgMTUwLCAxOTk1LCAxNDcsIDE5OTIsIDE5ODksIDE2MywgMTYwLCAyMDA0LCAxNTYsIDIwMDEsIDExNzUsIDExNzQsIDExNzIsIDExNzAsIDExNjcsIDE3MCwgMTE2NCwgMTY3LCAxMTg1LCAxMTgzLFxuICAgICAgICAxMTgwLCAxMTc3LCAxNzQsIDExOTAsIDExODgsIDIwMjUsIDIwMjQsIDIwMjIsIDU4NywgNTg2LCA1NjQsIDU1OSwgNTU2LCAyMjkwLCA1NzMsIDE1ODgsIDUyMCwgNTE4LCA1MTIsIDIyNjgsXG4gICAgICAgIDUwOCwgMjI2NSwgNTMwLCAxNTY4LCAxNTY1LCA0NjEsIDQ1NywgMjIzMywgNDUwLCAyMjMwLCA0NDYsIDIyMjYsIDQ3OSwgNDcxLCA0ODksIDE1MjYsIDE1MjMsIDE1MjAsIDM5NywgMzk1LFxuICAgICAgICAyMTg1LCAzOTIsIDIxODMsIDM4OSwgMjE4MCwgMjE3NywgNDEwLCAyMTk0LCA0MDIsIDQyMiwgMTQ2MywgMTQ2MSwgMTQ1OSwgMTQ1NiwgMTQ3MCwgMjQ1NSwgNzk5LCAyNDMzLCAyNDMwLCA3NzksXG4gICAgICAgIDc3NiwgNzczLCAyMzk3LCAyMzk0LCAyMzkwLCA3MzQsIDcyOCwgNzI0LCA3NDYsIDE3MTcsIDIzNTYsIDIzNTQsIDIzNTEsIDIzNDgsIDE2NTgsIDY3NywgNjc1LCA2NzMsIDY3MCwgNjY3LCA2ODgsXG4gICAgICAgIDE2ODUsIDE2ODMsIDI2MDYsIDI1ODksIDI1ODYsIDI1NTksIDI1NTYsIDI1NTIsIDkyNywgMjUyMywgMjUyMSwgMjUxOCwgMjUxNSwgMTc4NCwgMjUzMiwgODk1LCA4OTMsIDg5MCwgMjcxOCxcbiAgICAgICAgMjcwOSwgMjcwNywgMjY4OSwgMjY4NywgMjY4NCwgMjY2MywgMjY2MiwgMjY2MCwgMjY1OCwgMTgyNSwgMjY2NywgMjc2OSwgMTg1MiwgMjc2MCwgMjc1OCwgMTQyLCAxNDEsIDExMzksIDExMzgsXG4gICAgICAgIDEzNCwgMTMyLCAxMjksIDEyNiwgMTk4MiwgMTEyOSwgMTEyOCwgMTEyNiwgMTEzMSwgMTEzLCAxMTEsIDEwOCwgMTA1LCAxOTcyLCAxMDEsIDE5NzAsIDEyMCwgMTE4LCAxMTUsIDExMDksIDExMDgsXG4gICAgICAgIDExMDYsIDExMDQsIDEyMywgMTExMywgMTExMSwgODIsIDc5LCAxOTUxLCA3NSwgMTk0OSwgNzIsIDE5NDYsIDkyLCA4OSwgODYsIDE5NTYsIDEwNzcsIDEwNzYsIDEwNzQsIDEwNzIsIDk4LFxuICAgICAgICAxMDY5LCA5NiwgMTA4NCwgMTA4MiwgMTA3OSwgMTA4OCwgMTk2OCwgMTk2NywgNDgsIDQ1LCAxOTE2LCA0MiwgMTkxNCwgMzksIDE5MTEsIDE5MDgsIDYwLCA1NywgNTQsIDE5MjMsIDUwLCAxOTIwLFxuICAgICAgICAxMDMxLCAxMDMwLCAxMDI4LCAxMDI2LCA2NywgMTAyMywgNjUsIDEwMjAsIDYyLCAxMDQxLCAxMDM5LCAxMDM2LCAxMDMzLCA2OSwgMTA0NiwgMTA0NCwgMTk0NCwgMTk0MywgMTk0MSwgMTEsIDksXG4gICAgICAgIDE4NjgsIDcsIDE4NjUsIDE4NjIsIDE4NTksIDIwLCAxODc4LCAxNiwgMTg3NSwgMTMsIDE4NzIsIDk3MCwgOTY4LCA5NjYsIDk2MywgMjksIDk2MCwgMjYsIDIzLCA5ODMsIDk4MSwgOTc4LCA5NzUsXG4gICAgICAgIDMzLCA5NzEsIDMxLCA5OTAsIDk4OCwgOTg1LCAxOTA2LCAxOTA0LCAxOTAyLCA5OTMsIDM1MSwgMjE0NSwgMTM4MywgMzMxLCAzMzAsIDMyOCwgMzI2LCAyMTM3LCAzMjMsIDIxMzUsIDMzOSxcbiAgICAgICAgMTM3MiwgMTM3MCwgMjk0LCAyOTMsIDI5MSwgMjg5LCAyMTIyLCAyODYsIDIxMjAsIDI4MywgMjExNywgMzA5LCAzMDMsIDMxNywgMTM0OCwgMTM0NiwgMTM0NCwgMjQ1LCAyNDQsIDI0MiwgMjA5MCxcbiAgICAgICAgMjM5LCAyMDg4LCAyMzYsIDIwODUsIDIwODIsIDI2MCwgMjA5OSwgMjQ5LCAyNzAsIDEzMDcsIDEzMDUsIDEzMDMsIDEzMDAsIDEzMTQsIDE4OSwgMjAzOCwgMTg2LCAyMDM2LCAxODMsIDIwMzMsXG4gICAgICAgIDIwMzAsIDIwMjYsIDIwNiwgMTk4LCAyMDQ3LCAxOTQsIDIxNiwgMTI0NywgMTI0NSwgMTI0MywgMTI0MCwgMjI3LCAxMjM3LCAxMjU1LCAyMzEwLCAyMzAyLCAyMzAwLCAyMjg2LCAyMjg0LFxuICAgICAgICAyMjgxLCA1NjUsIDU2MywgNTYxLCA1NTgsIDU3NSwgMTU4OSwgMjI2MSwgMjI1OSwgMjI1NiwgMjI1MywgMTU0MiwgNTIxLCA1MTksIDUxNywgNTE0LCAyMjcwLCA1MTEsIDUzMywgMTU2OSxcbiAgICAgICAgMTU2NywgMjIyMywgMjIyMSwgMjIxOCwgMjIxNSwgMTQ4MywgMjIxMSwgMTQ4MCwgNDU5LCA0NTYsIDQ1MywgMjIzMiwgNDQ5LCA0NzQsIDQ5MSwgMTUyNywgMTUyNSwgMTUyMiwgMjQ3NSwgMjQ2NyxcbiAgICAgICAgMjQ2NSwgMjQ1MSwgMjQ0OSwgMjQ0NiwgODAxLCA4MDAsIDI0MjYsIDI0MjQsIDI0MjEsIDI0MTgsIDE3MjMsIDI0MzUsIDc4MCwgNzc4LCA3NzUsIDIzODcsIDIzODUsIDIzODIsIDIzNzksXG4gICAgICAgIDE2OTUsIDIzNzUsIDE2OTMsIDIzOTYsIDczNSwgNzMzLCA3MzAsIDcyNywgNzQ5LCAxNzE4LCAyNjE2LCAyNjE1LCAyNjA0LCAyNjAzLCAyNjAxLCAyNTg0LCAyNTgzLCAyNTgxLCAyNTc5LFxuICAgICAgICAxODAwLCAyNTkxLCAyNTUwLCAyNTQ5LCAyNTQ3LCAyNTQ1LCAxNzkyLCAyNTQyLCAxNzkwLCAyNTU4LCA5MjksIDI3MTksIDE4NDEsIDI3MTAsIDI3MDgsIDE4MzMsIDE4MzEsIDI2OTAsIDI2ODgsXG4gICAgICAgIDI2ODYsIDE4MTUsIDE4MDksIDE4MDgsIDE3NzQsIDE3NTYsIDE3NTQsIDE3MzcsIDE3MzYsIDE3MzQsIDE3MzksIDE4MTYsIDE3MTEsIDE2NzYsIDE2NzQsIDYzMywgNjI5LCAxNjM4LCAxNjM2LFxuICAgICAgICAxNjMzLCAxNjQxLCA1OTgsIDE2MDUsIDE2MDQsIDE2MDIsIDE2MDAsIDYwNSwgMTYwOSwgMTYwNywgMjMyNywgODg3LCA4NTMsIDE3NzUsIDgyMiwgODIwLCAxNzU3LCAxNzU1LCAxNTg0LCA1MjQsXG4gICAgICAgIDE1NjAsIDE1NTgsIDQ2OCwgNDY0LCAxNTE0LCAxNTExLCAxNTA4LCAxNTE5LCA0MDgsIDQwNCwgNDAwLCAxNDUyLCAxNDQ3LCAxNDQ0LCA0MTcsIDE0NTgsIDE0NTUsIDIyMDgsIDM2NCwgMzYxLFxuICAgICAgICAzNTgsIDIxNTQsIDE0MDEsIDE0MDAsIDEzOTgsIDEzOTYsIDM3NCwgMTM5MywgMzcxLCAxNDA4LCAxNDA2LCAxNDAzLCAxNDEzLCAyMTczLCAyMTcyLCA3NzIsIDcyNiwgNzIzLCAxNzEyLCA2NzIsXG4gICAgICAgIDY2OSwgNjY2LCA2ODIsIDE2NzgsIDE2NzUsIDYyNSwgNjIzLCA2MjEsIDYxOCwgMjMzMSwgNjM2LCA2MzIsIDE2MzksIDE2MzcsIDE2MzUsIDkyMCwgOTE4LCA4ODQsIDg4MCwgODg5LCA4NDksXG4gICAgICAgIDg0OCwgODQ3LCA4NDYsIDI0OTcsIDg1NSwgODUyLCAxNzc2LCAyNjQxLCAyNzQyLCAyNzg3LCAxMzgwLCAzMzQsIDEzNjcsIDEzNjUsIDMwMSwgMjk3LCAxMzQwLCAxMzM4LCAxMzM1LCAxMzQzLFxuICAgICAgICAyNTUsIDI1MSwgMjQ3LCAxMjk2LCAxMjkxLCAxMjg4LCAyNjUsIDEzMDIsIDEyOTksIDIxMTMsIDIwNCwgMTk2LCAxOTIsIDIwNDIsIDEyMzIsIDEyMzAsIDEyMjQsIDIxNCwgMTIyMCwgMjEwLFxuICAgICAgICAxMjQyLCAxMjM5LCAxMjM1LCAxMjUwLCAyMDc3LCAyMDc1LCAxNTEsIDE0OCwgMTk5MywgMTQ0LCAxOTkwLCAxMTYzLCAxMTYyLCAxMTYwLCAxMTU4LCAxMTU1LCAxNjEsIDExNTIsIDE1NyxcbiAgICAgICAgMTE3MywgMTE3MSwgMTE2OCwgMTE2NSwgMTY4LCAxMTgxLCAxMTc4LCAyMDIxLCAyMDIwLCAyMDE4LCAyMDIzLCA1ODUsIDU2MCwgNTU3LCAxNTg1LCA1MTYsIDUwOSwgMTU2MiwgMTU1OSwgNDU4LFxuICAgICAgICA0NDcsIDIyMjcsIDQ3MiwgMTUxNiwgMTUxMywgMTUxMCwgMzk4LCAzOTYsIDM5MywgMzkwLCAyMTgxLCAzODYsIDIxNzgsIDQwNywgMTQ1MywgMTQ1MSwgMTQ0OSwgMTQ0NiwgNDIwLCAxNDYwLFxuICAgICAgICAyMjA5LCA3NjksIDc2NCwgNzIwLCA3MTIsIDIzOTEsIDcyOSwgMTcxMywgNjY0LCA2NjMsIDY2MSwgNjU5LCAyMzUyLCA2NTYsIDIzNDksIDY3MSwgMTY3OSwgMTY3NywgMjU1MywgOTIyLCA5MTksXG4gICAgICAgIDI1MTksIDI1MTYsIDg4NSwgODgzLCA4ODEsIDI2ODUsIDI2NjEsIDI2NTksIDI3NjcsIDI3NTYsIDI3NTUsIDE0MCwgMTEzNywgMTEzNiwgMTMwLCAxMjcsIDExMjUsIDExMjQsIDExMjIsIDExMjcsXG4gICAgICAgIDEwOSwgMTA2LCAxMDIsIDExMDMsIDExMDIsIDExMDAsIDEwOTgsIDExNiwgMTEwNywgMTEwNSwgMTk4MCwgODAsIDc2LCA3MywgMTk0NywgMTA2OCwgMTA2NywgMTA2NSwgMTA2MywgOTAsIDEwNjAsXG4gICAgICAgIDg3LCAxMDc1LCAxMDczLCAxMDcwLCAxMDgwLCAxOTY2LCAxOTY1LCA0NiwgNDMsIDQwLCAxOTEyLCAzNiwgMTkwOSwgMTAxOSwgMTAxOCwgMTAxNiwgMTAxNCwgNTgsIDEwMTEsIDU1LCAxMDA4LFxuICAgICAgICA1MSwgMTAyOSwgMTAyNywgMTAyNCwgMTAyMSwgNjMsIDEwMzcsIDEwMzQsIDE5NDAsIDE5MzksIDE5MzcsIDE5NDIsIDgsIDE4NjYsIDQsIDE4NjMsIDEsIDE4NjAsIDk1NiwgOTU0LCA5NTIsXG4gICAgICAgIDk0OSwgOTQ2LCAxNywgMTQsIDk2OSwgOTY3LCA5NjQsIDk2MSwgMjcsIDk1NywgMjQsIDk3OSwgOTc2LCA5NzIsIDE5MDEsIDE5MDAsIDE4OTgsIDE4OTYsIDk4NiwgMTkwNSwgMTkwMywgMzUwLFxuICAgICAgICAzNDksIDEzODEsIDMyOSwgMzI3LCAzMjQsIDEzNjgsIDEzNjYsIDI5MiwgMjkwLCAyODcsIDI4NCwgMjExOCwgMzA0LCAxMzQxLCAxMzM5LCAxMzM3LCAxMzQ1LCAyNDMsIDI0MCwgMjM3LCAyMDg2LFxuICAgICAgICAyMzMsIDIwODMsIDI1NCwgMTI5NywgMTI5NSwgMTI5MywgMTI5MCwgMTMwNCwgMjExNCwgMTkwLCAxODcsIDE4NCwgMjAzNCwgMTgwLCAyMDMxLCAxNzcsIDIwMjcsIDE5OSwgMTIzMywgMTIzMSxcbiAgICAgICAgMTIyOSwgMTIyNiwgMjE3LCAxMjIzLCAxMjQxLCAyMDc4LCAyMDc2LCA1ODQsIDU1NSwgNTU0LCA1NTIsIDU1MCwgMjI4MiwgNTYyLCAxNTg2LCA1MDcsIDUwNiwgNTA0LCA1MDIsIDIyNTcsIDQ5OSxcbiAgICAgICAgMjI1NCwgNTE1LCAxNTYzLCAxNTYxLCA0NDUsIDQ0MywgNDQxLCAyMjE5LCA0MzgsIDIyMTYsIDQzNSwgMjIxMiwgNDYwLCA0NTQsIDQ3NSwgMTUxNywgMTUxNSwgMTUxMiwgMjQ0NywgNzk4LFxuICAgICAgICA3OTcsIDI0MjIsIDI0MTksIDc3MCwgNzY4LCA3NjYsIDIzODMsIDIzODAsIDIzNzYsIDcyMSwgNzE5LCA3MTcsIDcxNCwgNzMxLCAxNzE0LCAyNjAyLCAyNTgyLCAyNTgwLCAyNTQ4LCAyNTQ2LFxuICAgICAgICAyNTQzLCA5MjMsIDkyMSwgMjcxNywgMjcwNiwgMjcwNSwgMjY4MywgMjY4MiwgMjY4MCwgMTc3MSwgMTc1MiwgMTc1MCwgMTczMywgMTczMiwgMTczMSwgMTczNSwgMTgxNCwgMTcwNywgMTY3MCxcbiAgICAgICAgMTY2OCwgMTYzMSwgMTYyOSwgMTYyNiwgMTYzNCwgMTU5OSwgMTU5OCwgMTU5NiwgMTU5NCwgMTYwMywgMTYwMSwgMjMyNiwgMTc3MiwgMTc1MywgMTc1MSwgMTU4MSwgMTU1NCwgMTU1MiwgMTUwNCxcbiAgICAgICAgMTUwMSwgMTQ5OCwgMTUwOSwgMTQ0MiwgMTQzNywgMTQzNCwgNDAxLCAxNDQ4LCAxNDQ1LCAyMjA2LCAxMzkyLCAxMzkxLCAxMzg5LCAxMzg3LCAxMzg0LCAzNTksIDEzOTksIDEzOTcsIDEzOTQsXG4gICAgICAgIDE0MDQsIDIxNzEsIDIxNzAsIDE3MDgsIDE2NzIsIDE2NjksIDYxOSwgMTYzMiwgMTYzMCwgMTYyOCwgMTc3MywgMTM3OCwgMTM2MywgMTM2MSwgMTMzMywgMTMyOCwgMTMzNiwgMTI4NiwgMTI4MSxcbiAgICAgICAgMTI3OCwgMjQ4LCAxMjkyLCAxMjg5LCAyMTExLCAxMjE4LCAxMjE2LCAxMjEwLCAxOTcsIDEyMDYsIDE5MywgMTIyOCwgMTIyNSwgMTIyMSwgMTIzNiwgMjA3MywgMjA3MSwgMTE1MSwgMTE1MCxcbiAgICAgICAgMTE0OCwgMTE0NiwgMTUyLCAxMTQzLCAxNDksIDExNDAsIDE0NSwgMTE2MSwgMTE1OSwgMTE1NiwgMTE1MywgMTU4LCAxMTY5LCAxMTY2LCAyMDE3LCAyMDE2LCAyMDE0LCAyMDE5LCAxNTgyLFxuICAgICAgICA1MTAsIDE1NTYsIDE1NTMsIDQ1MiwgNDQ4LCAxNTA2LCAxNTAwLCAzOTQsIDM5MSwgMzg3LCAxNDQzLCAxNDQxLCAxNDM5LCAxNDM2LCAxNDUwLCAyMjA3LCA3NjUsIDcxNiwgNzEzLCAxNzA5LFxuICAgICAgICA2NjIsIDY2MCwgNjU3LCAxNjczLCAxNjcxLCA5MTYsIDkxNCwgODc5LCA4NzgsIDg3NywgODgyLCAxMTM1LCAxMTM0LCAxMTIxLCAxMTIwLCAxMTE4LCAxMTIzLCAxMDk3LCAxMDk2LCAxMDk0LFxuICAgICAgICAxMDkyLCAxMDMsIDExMDEsIDEwOTksIDE5NzksIDEwNTksIDEwNTgsIDEwNTYsIDEwNTQsIDc3LCAxMDUxLCA3NCwgMTA2NiwgMTA2NCwgMTA2MSwgMTA3MSwgMTk2NCwgMTk2MywgMTAwNyxcbiAgICAgICAgMTAwNiwgMTAwNCwgMTAwMiwgOTk5LCA0MSwgOTk2LCAzNywgMTAxNywgMTAxNSwgMTAxMiwgMTAwOSwgNTIsIDEwMjUsIDEwMjIsIDE5MzYsIDE5MzUsIDE5MzMsIDE5MzgsIDk0MiwgOTQwLFxuICAgICAgICA5MzgsIDkzNSwgOTMyLCA1LCAyLCA5NTUsIDk1MywgOTUwLCA5NDcsIDE4LCA5NDMsIDE1LCA5NjUsIDk2MiwgOTU4LCAxODk1LCAxODk0LCAxODkyLCAxODkwLCA5NzMsIDE4OTksIDE4OTcsXG4gICAgICAgIDEzNzksIDMyNSwgMTM2NCwgMTM2MiwgMjg4LCAyODUsIDEzMzQsIDEzMzIsIDEzMzAsIDI0MSwgMjM4LCAyMzQsIDEyODcsIDEyODUsIDEyODMsIDEyODAsIDEyOTQsIDIxMTIsIDE4OCwgMTg1LFxuICAgICAgICAxODEsIDE3OCwgMjAyOCwgMTIxOSwgMTIxNywgMTIxNSwgMTIxMiwgMjAwLCAxMjA5LCAxMjI3LCAyMDc0LCAyMDcyLCA1ODMsIDU1MywgNTUxLCAxNTgzLCA1MDUsIDUwMywgNTAwLCA1MTMsXG4gICAgICAgIDE1NTcsIDE1NTUsIDQ0NCwgNDQyLCA0MzksIDQzNiwgMjIxMywgNDU1LCA0NTEsIDE1MDcsIDE1MDUsIDE1MDIsIDc5NiwgNzYzLCA3NjIsIDc2MCwgNzY3LCA3MTEsIDcxMCwgNzA4LCA3MDYsXG4gICAgICAgIDIzNzcsIDcxOCwgNzE1LCAxNzEwLCAyNTQ0LCA5MTcsIDkxNSwgMjY4MSwgMTYyNywgMTU5NywgMTU5NSwgMjMyNSwgMTc2OSwgMTc0OSwgMTc0NywgMTQ5OSwgMTQzOCwgMTQzNSwgMjIwNCxcbiAgICAgICAgMTM5MCwgMTM4OCwgMTM4NSwgMTM5NSwgMjE2OSwgMjE2NywgMTcwNCwgMTY2NSwgMTY2MiwgMTYyNSwgMTYyMywgMTYyMCwgMTc3MCwgMTMyOSwgMTI4MiwgMTI3OSwgMjEwOSwgMTIxNCwgMTIwNyxcbiAgICAgICAgMTIyMiwgMjA2OCwgMjA2NSwgMTE0OSwgMTE0NywgMTE0NCwgMTE0MSwgMTQ2LCAxMTU3LCAxMTU0LCAyMDEzLCAyMDExLCAyMDA4LCAyMDE1LCAxNTc5LCAxNTQ5LCAxNTQ2LCAxNDk1LCAxNDg3LFxuICAgICAgICAxNDMzLCAxNDMxLCAxNDI4LCAxNDI1LCAzODgsIDE0NDAsIDIyMDUsIDE3MDUsIDY1OCwgMTY2NywgMTY2NCwgMTExOSwgMTA5NSwgMTA5MywgMTk3OCwgMTA1NywgMTA1NSwgMTA1MiwgMTA2MixcbiAgICAgICAgMTk2MiwgMTk2MCwgMTAwNSwgMTAwMywgMTAwMCwgOTk3LCAzOCwgMTAxMywgMTAxMCwgMTkzMiwgMTkzMCwgMTkyNywgMTkzNCwgOTQxLCA5MzksIDkzNiwgOTMzLCA2LCA5MzAsIDMsIDk1MSxcbiAgICAgICAgOTQ4LCA5NDQsIDE4ODksIDE4ODcsIDE4ODQsIDE4ODEsIDk1OSwgMTg5MywgMTg5MSwgMzUsIDEzNzcsIDEzNjAsIDEzNTgsIDEzMjcsIDEzMjUsIDEzMjIsIDEzMzEsIDEyNzcsIDEyNzUsXG4gICAgICAgIDEyNzIsIDEyNjksIDIzNSwgMTI4NCwgMjExMCwgMTIwNSwgMTIwNCwgMTIwMSwgMTE5OCwgMTgyLCAxMTk1LCAxNzksIDEyMTMsIDIwNzAsIDIwNjcsIDE1ODAsIDUwMSwgMTU1MSwgMTU0OCxcbiAgICAgICAgNDQwLCA0MzcsIDE0OTcsIDE0OTQsIDE0OTAsIDE1MDMsIDc2MSwgNzA5LCA3MDcsIDE3MDYsIDkxMywgOTEyLCAyMTk4LCAxMzg2LCAyMTY0LCAyMTYxLCAxNjIxLCAxNzY2LCAyMTAzLCAxMjA4LFxuICAgICAgICAyMDU4LCAyMDU0LCAxMTQ1LCAxMTQyLCAyMDA1LCAyMDAyLCAxOTk5LCAyMDA5LCAxNDg4LCAxNDI5LCAxNDI2LCAyMjAwLCAxNjk4LCAxNjU5LCAxNjU2LCAxOTc1LCAxMDUzLCAxOTU3LCAxOTU0LFxuICAgICAgICAxMDAxLCA5OTgsIDE5MjQsIDE5MjEsIDE5MTgsIDE5MjgsIDkzNywgOTM0LCA5MzEsIDE4NzksIDE4NzYsIDE4NzMsIDE4NzAsIDk0NSwgMTg4NSwgMTg4MiwgMTMyMywgMTI3MywgMTI3MCxcbiAgICAgICAgMjEwNSwgMTIwMiwgMTE5OSwgMTE5NiwgMTIxMSwgMjA2MSwgMjA1NywgMTU3NiwgMTU0MywgMTU0MCwgMTQ4NCwgMTQ4MSwgMTQ3OCwgMTQ5MSwgMTcwMFxuICAgIF0pO1xuICAgIHJldHVybiBQREY0MTdDb21tb247XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUERGNDE3Q29tbW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UERGNDE3Q29tbW9uLmpzLm1hcCIsIi8qXG4qIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnNcbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbi8vIGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbi8qKlxuICogQGF1dGhvciBHdWVudGhlciBHcmF1XG4gKi9cbnZhciBQREY0MTdEZXRlY3RvclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQREY0MTdEZXRlY3RvclJlc3VsdChiaXRzLCBwb2ludHMpIHtcbiAgICAgICAgdGhpcy5iaXRzID0gYml0cztcbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG4gICAgfVxuICAgIFBERjQxN0RldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaXRzO1xuICAgIH07XG4gICAgUERGNDE3RGV0ZWN0b3JSZXN1bHQucHJvdG90eXBlLmdldFBvaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRzO1xuICAgIH07XG4gICAgcmV0dXJuIFBERjQxN0RldGVjdG9yUmVzdWx0O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFBERjQxN0RldGVjdG9yUmVzdWx0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UERGNDE3RGV0ZWN0b3JSZXN1bHQuanMubWFwIiwiLypcbiogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9yc1xuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcuTm90Rm91bmRFeGNlcHRpb247XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5SZXN1bHRQb2ludDtcbmltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi8uLi9SZXN1bHRQb2ludCc7XG5pbXBvcnQgU3lzdGVtIGZyb20gJy4uLy4uL3V0aWwvU3lzdGVtJztcbmltcG9ydCBBcnJheXMgZnJvbSAnLi4vLi4vdXRpbC9BcnJheXMnO1xuaW1wb3J0IFBERjQxN0RldGVjdG9yUmVzdWx0IGZyb20gJy4vUERGNDE3RGV0ZWN0b3JSZXN1bHQnO1xuLy8gaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7XG4vLyBpbXBvcnQgamF2YS51dGlsLkFycmF5cztcbi8vIGltcG9ydCBqYXZhLnV0aWwuTGlzdDtcbi8vIGltcG9ydCBqYXZhLnV0aWwuTWFwO1xuLyoqXG4gKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUERGNDE3IENvZGUgaW4gYW4gaW1hZ2UsIGV2ZW4gaWYgdGhlXG4gKiBQREY0MTcgQ29kZSBpcyByb3RhdGVkIG9yIHNrZXdlZCwgb3IgcGFydGlhbGx5IG9ic2N1cmVkLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNJVEEgTGFiIChrZXZpbi5vc3VsbGl2YW5Ac2l0YS5hZXJvKVxuICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbilcbiAqIEBhdXRob3IgR3VlbnRoZXIgR3JhdVxuICovXG52YXIgRGV0ZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGV0ZWN0b3IoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIDxwPkRldGVjdHMgYSBQREY0MTcgQ29kZSBpbiBhbiBpbWFnZS4gT25seSBjaGVja3MgMCBhbmQgMTgwIGRlZ3JlZSByb3RhdGlvbnMuPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIGltYWdlIGJhcmNvZGUgaW1hZ2UgdG8gZGVjb2RlXG4gICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yXG4gICAgICogQHBhcmFtIG11bHRpcGxlIGlmIHRydWUsIHRoZW4gdGhlIGltYWdlIGlzIHNlYXJjaGVkIGZvciBtdWx0aXBsZSBjb2Rlcy4gSWYgZmFsc2UsIHRoZW4gYXQgbW9zdCBvbmUgY29kZSB3aWxsXG4gICAgICogYmUgZm91bmQgYW5kIHJldHVybmVkXG4gICAgICogQHJldHVybiB7QGxpbmsgUERGNDE3RGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBQREY0MTcgY29kZVxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgbm8gUERGNDE3IENvZGUgY2FuIGJlIGZvdW5kXG4gICAgICovXG4gICAgRGV0ZWN0b3IuZGV0ZWN0TXVsdGlwbGUgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzLCBtdWx0aXBsZSkge1xuICAgICAgICAvLyBUT0RPIGRldGVjdGlvbiBpbXByb3ZlbWVudCwgdHJ5SGFyZGVyIGNvdWxkIHRyeSBzZXZlcmFsIGRpZmZlcmVudCBsdW1pbmFuY2UgdGhyZXNob2xkcy9ibGFja3BvaW50cyBvciBldmVuXG4gICAgICAgIC8vIGRpZmZlcmVudCBiaW5hcml6ZXJzXG4gICAgICAgIC8vIGJvb2xlYW4gdHJ5SGFyZGVyID0gaGludHMgIT0gbnVsbCAmJiBoaW50cy5jb250YWluc0tleShEZWNvZGVIaW50VHlwZS5UUllfSEFSREVSKTtcbiAgICAgICAgdmFyIGJpdE1hdHJpeCA9IGltYWdlLmdldEJsYWNrTWF0cml4KCk7XG4gICAgICAgIHZhciBiYXJjb2RlQ29vcmRpbmF0ZXMgPSBEZXRlY3Rvci5kZXRlY3QobXVsdGlwbGUsIGJpdE1hdHJpeCk7XG4gICAgICAgIGlmICghYmFyY29kZUNvb3JkaW5hdGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgYml0TWF0cml4ID0gYml0TWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICBiaXRNYXRyaXgucm90YXRlMTgwKCk7XG4gICAgICAgICAgICBiYXJjb2RlQ29vcmRpbmF0ZXMgPSBEZXRlY3Rvci5kZXRlY3QobXVsdGlwbGUsIGJpdE1hdHJpeCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQREY0MTdEZXRlY3RvclJlc3VsdChiaXRNYXRyaXgsIGJhcmNvZGVDb29yZGluYXRlcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIFBERjQxNyBjb2RlcyBpbiBhbiBpbWFnZS4gT25seSBjaGVja3MgMCBkZWdyZWUgcm90YXRpb25cbiAgICAgKiBAcGFyYW0gbXVsdGlwbGUgaWYgdHJ1ZSwgdGhlbiB0aGUgaW1hZ2UgaXMgc2VhcmNoZWQgZm9yIG11bHRpcGxlIGNvZGVzLiBJZiBmYWxzZSwgdGhlbiBhdCBtb3N0IG9uZSBjb2RlIHdpbGxcbiAgICAgKiBiZSBmb3VuZCBhbmQgcmV0dXJuZWRcbiAgICAgKiBAcGFyYW0gYml0TWF0cml4IGJpdCBtYXRyaXggdG8gZGV0ZWN0IGJhcmNvZGVzIGluXG4gICAgICogQHJldHVybiBMaXN0IG9mIFJlc3VsdFBvaW50IGFycmF5cyBjb250YWluaW5nIHRoZSBjb29yZGluYXRlcyBvZiBmb3VuZCBiYXJjb2Rlc1xuICAgICAqL1xuICAgIERldGVjdG9yLmRldGVjdCA9IGZ1bmN0aW9uIChtdWx0aXBsZSwgYml0TWF0cml4KSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgYmFyY29kZUNvb3JkaW5hdGVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciByb3cgPSAwO1xuICAgICAgICB2YXIgY29sdW1uID0gMDtcbiAgICAgICAgdmFyIGZvdW5kQmFyY29kZUluUm93ID0gZmFsc2U7XG4gICAgICAgIHdoaWxlIChyb3cgPCBiaXRNYXRyaXguZ2V0SGVpZ2h0KCkpIHtcbiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IERldGVjdG9yLmZpbmRWZXJ0aWNlcyhiaXRNYXRyaXgsIHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIGlmICh2ZXJ0aWNlc1swXSA9PSBudWxsICYmIHZlcnRpY2VzWzNdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kQmFyY29kZUluUm93KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGRpZG4ndCBmaW5kIGFueSBiYXJjb2RlIHNvIHRoYXQncyB0aGUgZW5kIG9mIHNlYXJjaGluZ1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2UgZGlkbid0IGZpbmQgYSBiYXJjb2RlIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBjb2x1bW4gYW5kIHJvdy4gVHJ5IGFnYWluIGZyb20gdGhlIGZpcnN0IGNvbHVtbiBhbmQgc2xpZ2h0bHlcbiAgICAgICAgICAgICAgICAvLyBiZWxvdyB0aGUgbG93ZXN0IGJhcmNvZGUgd2UgZm91bmQgc28gZmFyLlxuICAgICAgICAgICAgICAgIGZvdW5kQmFyY29kZUluUm93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gMDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBiYXJjb2RlQ29vcmRpbmF0ZXNfMSA9IChlXzEgPSB2b2lkIDAsIF9fdmFsdWVzKGJhcmNvZGVDb29yZGluYXRlcykpLCBiYXJjb2RlQ29vcmRpbmF0ZXNfMV8xID0gYmFyY29kZUNvb3JkaW5hdGVzXzEubmV4dCgpOyAhYmFyY29kZUNvb3JkaW5hdGVzXzFfMS5kb25lOyBiYXJjb2RlQ29vcmRpbmF0ZXNfMV8xID0gYmFyY29kZUNvb3JkaW5hdGVzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmFyY29kZUNvb3JkaW5hdGUgPSBiYXJjb2RlQ29vcmRpbmF0ZXNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhcmNvZGVDb29yZGluYXRlWzFdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3cgPSBNYXRoLnRydW5jKE1hdGgubWF4KHJvdywgYmFyY29kZUNvb3JkaW5hdGVbMV0uZ2V0WSgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFyY29kZUNvb3JkaW5hdGVbM10gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdyA9IE1hdGgubWF4KHJvdywgTWF0aC50cnVuYyhiYXJjb2RlQ29vcmRpbmF0ZVszXS5nZXRZKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhcmNvZGVDb29yZGluYXRlc18xXzEgJiYgIWJhcmNvZGVDb29yZGluYXRlc18xXzEuZG9uZSAmJiAoX2EgPSBiYXJjb2RlQ29vcmRpbmF0ZXNfMS5yZXR1cm4pKSBfYS5jYWxsKGJhcmNvZGVDb29yZGluYXRlc18xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvdyArPSBEZXRlY3Rvci5ST1dfU1RFUDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvdW5kQmFyY29kZUluUm93ID0gdHJ1ZTtcbiAgICAgICAgICAgIGJhcmNvZGVDb29yZGluYXRlcy5wdXNoKHZlcnRpY2VzKTtcbiAgICAgICAgICAgIGlmICghbXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgcmlnaHQgcm93IGluZGljYXRvciBjb2x1bW4sIHRoZW4gY29udGludWUgdGhlIHNlYXJjaCBmb3IgdGhlIG5leHQgYmFyY29kZSBhZnRlciB0aGVcbiAgICAgICAgICAgIC8vIHN0YXJ0IHBhdHRlcm4gb2YgdGhlIGJhcmNvZGUganVzdCBmb3VuZC5cbiAgICAgICAgICAgIGlmICh2ZXJ0aWNlc1syXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gTWF0aC50cnVuYyh2ZXJ0aWNlc1syXS5nZXRYKCkpO1xuICAgICAgICAgICAgICAgIHJvdyA9IE1hdGgudHJ1bmModmVydGljZXNbMl0uZ2V0WSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbHVtbiA9IE1hdGgudHJ1bmModmVydGljZXNbNF0uZ2V0WCgpKTtcbiAgICAgICAgICAgICAgICByb3cgPSBNYXRoLnRydW5jKHZlcnRpY2VzWzRdLmdldFkoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhcmNvZGVDb29yZGluYXRlcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvY2F0ZSB0aGUgdmVydGljZXMgYW5kIHRoZSBjb2Rld29yZHMgYXJlYSBvZiBhIGJsYWNrIGJsb2IgdXNpbmcgdGhlIFN0YXJ0XG4gICAgICogYW5kIFN0b3AgcGF0dGVybnMgYXMgbG9jYXRvcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWF0cml4IHRoZSBzY2FubmVkIGJhcmNvZGUgaW1hZ2UuXG4gICAgICogQHJldHVybiBhbiBhcnJheSBjb250YWluaW5nIHRoZSB2ZXJ0aWNlczpcbiAgICAgKiAgICAgICAgICAgdmVydGljZXNbMF0geCwgeSB0b3AgbGVmdCBiYXJjb2RlXG4gICAgICogICAgICAgICAgIHZlcnRpY2VzWzFdIHgsIHkgYm90dG9tIGxlZnQgYmFyY29kZVxuICAgICAqICAgICAgICAgICB2ZXJ0aWNlc1syXSB4LCB5IHRvcCByaWdodCBiYXJjb2RlXG4gICAgICogICAgICAgICAgIHZlcnRpY2VzWzNdIHgsIHkgYm90dG9tIHJpZ2h0IGJhcmNvZGVcbiAgICAgKiAgICAgICAgICAgdmVydGljZXNbNF0geCwgeSB0b3AgbGVmdCBjb2Rld29yZCBhcmVhXG4gICAgICogICAgICAgICAgIHZlcnRpY2VzWzVdIHgsIHkgYm90dG9tIGxlZnQgY29kZXdvcmQgYXJlYVxuICAgICAqICAgICAgICAgICB2ZXJ0aWNlc1s2XSB4LCB5IHRvcCByaWdodCBjb2Rld29yZCBhcmVhXG4gICAgICogICAgICAgICAgIHZlcnRpY2VzWzddIHgsIHkgYm90dG9tIHJpZ2h0IGNvZGV3b3JkIGFyZWFcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5maW5kVmVydGljZXMgPSBmdW5jdGlvbiAobWF0cml4LCBzdGFydFJvdywgc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1hdHJpeC5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWF0cml4LmdldFdpZHRoKCk7XG4gICAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IG5ldyBSZXN1bHRQb2ludFs4XTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSg4KTtcbiAgICAgICAgRGV0ZWN0b3IuY29weVRvUmVzdWx0KHJlc3VsdCwgRGV0ZWN0b3IuZmluZFJvd3NXaXRoUGF0dGVybihtYXRyaXgsIGhlaWdodCwgd2lkdGgsIHN0YXJ0Um93LCBzdGFydENvbHVtbiwgRGV0ZWN0b3IuU1RBUlRfUEFUVEVSTiksIERldGVjdG9yLklOREVYRVNfU1RBUlRfUEFUVEVSTik7XG4gICAgICAgIGlmIChyZXN1bHRbNF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBNYXRoLnRydW5jKHJlc3VsdFs0XS5nZXRYKCkpO1xuICAgICAgICAgICAgc3RhcnRSb3cgPSBNYXRoLnRydW5jKHJlc3VsdFs0XS5nZXRZKCkpO1xuICAgICAgICB9XG4gICAgICAgIERldGVjdG9yLmNvcHlUb1Jlc3VsdChyZXN1bHQsIERldGVjdG9yLmZpbmRSb3dzV2l0aFBhdHRlcm4obWF0cml4LCBoZWlnaHQsIHdpZHRoLCBzdGFydFJvdywgc3RhcnRDb2x1bW4sIERldGVjdG9yLlNUT1BfUEFUVEVSTiksIERldGVjdG9yLklOREVYRVNfU1RPUF9QQVRURVJOKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIERldGVjdG9yLmNvcHlUb1Jlc3VsdCA9IGZ1bmN0aW9uIChyZXN1bHQsIHRtcFJlc3VsdCwgZGVzdGluYXRpb25JbmRleGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVzdGluYXRpb25JbmRleGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHRbZGVzdGluYXRpb25JbmRleGVzW2ldXSA9IHRtcFJlc3VsdFtpXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGV0ZWN0b3IuZmluZFJvd3NXaXRoUGF0dGVybiA9IGZ1bmN0aW9uIChtYXRyaXgsIGhlaWdodCwgd2lkdGgsIHN0YXJ0Um93LCBzdGFydENvbHVtbiwgcGF0dGVybikge1xuICAgICAgICAvLyBjb25zdCByZXN1bHQgPSBuZXcgUmVzdWx0UG9pbnRbNF07XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkoNCk7XG4gICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICB2YXIgY291bnRlcnMgPSBuZXcgSW50MzJBcnJheShwYXR0ZXJuLmxlbmd0aCk7XG4gICAgICAgIGZvciAoOyBzdGFydFJvdyA8IGhlaWdodDsgc3RhcnRSb3cgKz0gRGV0ZWN0b3IuUk9XX1NURVApIHtcbiAgICAgICAgICAgIHZhciBsb2MgPSBEZXRlY3Rvci5maW5kR3VhcmRQYXR0ZXJuKG1hdHJpeCwgc3RhcnRDb2x1bW4sIHN0YXJ0Um93LCB3aWR0aCwgZmFsc2UsIHBhdHRlcm4sIGNvdW50ZXJzKTtcbiAgICAgICAgICAgIGlmIChsb2MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydFJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzUm93TG9jID0gRGV0ZWN0b3IuZmluZEd1YXJkUGF0dGVybihtYXRyaXgsIHN0YXJ0Q29sdW1uLCAtLXN0YXJ0Um93LCB3aWR0aCwgZmFsc2UsIHBhdHRlcm4sIGNvdW50ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzUm93TG9jICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYyA9IHByZXZpb3VzUm93TG9jO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRSb3crKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdFswXSA9IG5ldyBSZXN1bHRQb2ludChsb2NbMF0sIHN0YXJ0Um93KTtcbiAgICAgICAgICAgICAgICByZXN1bHRbMV0gPSBuZXcgUmVzdWx0UG9pbnQobG9jWzFdLCBzdGFydFJvdyk7XG4gICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzdG9wUm93ID0gc3RhcnRSb3cgKyAxO1xuICAgICAgICAvLyBMYXN0IHJvdyBvZiB0aGUgY3VycmVudCBzeW1ib2wgdGhhdCBjb250YWlucyBwYXR0ZXJuXG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgdmFyIHNraXBwZWRSb3dDb3VudCA9IDA7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNSb3dMb2MgPSBJbnQzMkFycmF5LmZyb20oW01hdGgudHJ1bmMocmVzdWx0WzBdLmdldFgoKSksIE1hdGgudHJ1bmMocmVzdWx0WzFdLmdldFgoKSldKTtcbiAgICAgICAgICAgIGZvciAoOyBzdG9wUm93IDwgaGVpZ2h0OyBzdG9wUm93KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbG9jID0gRGV0ZWN0b3IuZmluZEd1YXJkUGF0dGVybihtYXRyaXgsIHByZXZpb3VzUm93TG9jWzBdLCBzdG9wUm93LCB3aWR0aCwgZmFsc2UsIHBhdHRlcm4sIGNvdW50ZXJzKTtcbiAgICAgICAgICAgICAgICAvLyBhIGZvdW5kIHBhdHRlcm4gaXMgb25seSBjb25zaWRlcmVkIHRvIGJlbG9uZyB0byB0aGUgc2FtZSBiYXJjb2RlIGlmIHRoZSBzdGFydCBhbmQgZW5kIHBvc2l0aW9uc1xuICAgICAgICAgICAgICAgIC8vIGRvbid0IGRpZmZlciB0b28gbXVjaC4gUGF0dGVybiBkcmlmdCBzaG91bGQgYmUgbm90IGJpZ2dlciB0aGFuIHR3byBmb3IgY29uc2VjdXRpdmUgcm93cy4gV2l0aFxuICAgICAgICAgICAgICAgIC8vIGEgaGlnaGVyIG51bWJlciBvZiBza2lwcGVkIHJvd3MgZHJpZnQgY291bGQgYmUgbGFyZ2VyLiBUbyBrZWVwIGl0IHNpbXBsZSBmb3Igbm93LCB3ZSBhbGxvdyBhIHNsaWdodGx5XG4gICAgICAgICAgICAgICAgLy8gbGFyZ2VyIGRyaWZ0IGFuZCBkb24ndCBjaGVjayBmb3Igc2tpcHBlZCByb3dzLlxuICAgICAgICAgICAgICAgIGlmIChsb2MgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhwcmV2aW91c1Jvd0xvY1swXSAtIGxvY1swXSkgPCBEZXRlY3Rvci5NQVhfUEFUVEVSTl9EUklGVCAmJlxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicyhwcmV2aW91c1Jvd0xvY1sxXSAtIGxvY1sxXSkgPCBEZXRlY3Rvci5NQVhfUEFUVEVSTl9EUklGVCkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1Jvd0xvYyA9IGxvYztcbiAgICAgICAgICAgICAgICAgICAgc2tpcHBlZFJvd0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChza2lwcGVkUm93Q291bnQgPiBEZXRlY3Rvci5TS0lQUEVEX1JPV19DT1VOVF9NQVgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcHBlZFJvd0NvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9wUm93IC09IHNraXBwZWRSb3dDb3VudCArIDE7XG4gICAgICAgICAgICByZXN1bHRbMl0gPSBuZXcgUmVzdWx0UG9pbnQocHJldmlvdXNSb3dMb2NbMF0sIHN0b3BSb3cpO1xuICAgICAgICAgICAgcmVzdWx0WzNdID0gbmV3IFJlc3VsdFBvaW50KHByZXZpb3VzUm93TG9jWzFdLCBzdG9wUm93KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RvcFJvdyAtIHN0YXJ0Um93IDwgRGV0ZWN0b3IuQkFSQ09ERV9NSU5fSEVJR0hUKSB7XG4gICAgICAgICAgICBBcnJheXMuZmlsbChyZXN1bHQsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbWF0cml4IHJvdyBvZiBibGFjay93aGl0ZSB2YWx1ZXMgdG8gc2VhcmNoXG4gICAgICogQHBhcmFtIGNvbHVtbiB4IHBvc2l0aW9uIHRvIHN0YXJ0IHNlYXJjaFxuICAgICAqIEBwYXJhbSByb3cgeSBwb3NpdGlvbiB0byBzdGFydCBzZWFyY2hcbiAgICAgKiBAcGFyYW0gd2lkdGggdGhlIG51bWJlciBvZiBwaXhlbHMgdG8gc2VhcmNoIG9uIHRoaXMgcm93XG4gICAgICogQHBhcmFtIHBhdHRlcm4gcGF0dGVybiBvZiBjb3VudHMgb2YgbnVtYmVyIG9mIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMgdGhhdCBhcmVcbiAgICAgKiAgICAgICAgICAgICAgICAgYmVpbmcgc2VhcmNoZWQgZm9yIGFzIGEgcGF0dGVyblxuICAgICAqIEBwYXJhbSBjb3VudGVycyBhcnJheSBvZiBjb3VudGVycywgYXMgbG9uZyBhcyBwYXR0ZXJuLCB0byByZS11c2VcbiAgICAgKiBAcmV0dXJuIHN0YXJ0L2VuZCBob3Jpem9udGFsIG9mZnNldCBvZiBndWFyZCBwYXR0ZXJuLCBhcyBhbiBhcnJheSBvZiB0d28gaW50cy5cbiAgICAgKi9cbiAgICBEZXRlY3Rvci5maW5kR3VhcmRQYXR0ZXJuID0gZnVuY3Rpb24gKG1hdHJpeCwgY29sdW1uLCByb3csIHdpZHRoLCB3aGl0ZUZpcnN0LCBwYXR0ZXJuLCBjb3VudGVycykge1xuICAgICAgICBBcnJheXMuZmlsbFdpdGhpbihjb3VudGVycywgMCwgY291bnRlcnMubGVuZ3RoLCAwKTtcbiAgICAgICAgdmFyIHBhdHRlcm5TdGFydCA9IGNvbHVtbjtcbiAgICAgICAgdmFyIHBpeGVsRHJpZnQgPSAwO1xuICAgICAgICAvLyBpZiB0aGVyZSBhcmUgYmxhY2sgcGl4ZWxzIGxlZnQgb2YgdGhlIGN1cnJlbnQgcGl4ZWwgc2hpZnQgdG8gdGhlIGxlZnQsIGJ1dCBvbmx5IGZvciBNQVhfUElYRUxfRFJJRlQgcGl4ZWxzXG4gICAgICAgIHdoaWxlIChtYXRyaXguZ2V0KHBhdHRlcm5TdGFydCwgcm93KSAmJiBwYXR0ZXJuU3RhcnQgPiAwICYmIHBpeGVsRHJpZnQrKyA8IERldGVjdG9yLk1BWF9QSVhFTF9EUklGVCkge1xuICAgICAgICAgICAgcGF0dGVyblN0YXJ0LS07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHggPSBwYXR0ZXJuU3RhcnQ7XG4gICAgICAgIHZhciBjb3VudGVyUG9zaXRpb24gPSAwO1xuICAgICAgICB2YXIgcGF0dGVybkxlbmd0aCA9IHBhdHRlcm4ubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpc1doaXRlID0gd2hpdGVGaXJzdDsgeCA8IHdpZHRoOyB4KyspIHtcbiAgICAgICAgICAgIHZhciBwaXhlbCA9IG1hdHJpeC5nZXQoeCwgcm93KTtcbiAgICAgICAgICAgIGlmIChwaXhlbCAhPT0gaXNXaGl0ZSkge1xuICAgICAgICAgICAgICAgIGNvdW50ZXJzW2NvdW50ZXJQb3NpdGlvbl0rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudGVyUG9zaXRpb24gPT09IHBhdHRlcm5MZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChEZXRlY3Rvci5wYXR0ZXJuTWF0Y2hWYXJpYW5jZShjb3VudGVycywgcGF0dGVybiwgRGV0ZWN0b3IuTUFYX0lORElWSURVQUxfVkFSSUFOQ0UpIDwgRGV0ZWN0b3IuTUFYX0FWR19WQVJJQU5DRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KFtwYXR0ZXJuU3RhcnQsIHhdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuU3RhcnQgKz0gY291bnRlcnNbMF0gKyBjb3VudGVyc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgU3lzdGVtLmFycmF5Y29weShjb3VudGVycywgMiwgY291bnRlcnMsIDAsIGNvdW50ZXJQb3NpdGlvbiAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb24gLSAxXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJzW2NvdW50ZXJQb3NpdGlvbl0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVyUG9zaXRpb24tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXJQb3NpdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3VudGVyc1tjb3VudGVyUG9zaXRpb25dID0gMTtcbiAgICAgICAgICAgICAgICBpc1doaXRlID0gIWlzV2hpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50ZXJQb3NpdGlvbiA9PT0gcGF0dGVybkxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgIERldGVjdG9yLnBhdHRlcm5NYXRjaFZhcmlhbmNlKGNvdW50ZXJzLCBwYXR0ZXJuLCBEZXRlY3Rvci5NQVhfSU5ESVZJRFVBTF9WQVJJQU5DRSkgPCBEZXRlY3Rvci5NQVhfQVZHX1ZBUklBTkNFKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoW3BhdHRlcm5TdGFydCwgeCAtIDFdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaG93IGNsb3NlbHkgYSBzZXQgb2Ygb2JzZXJ2ZWQgY291bnRzIG9mIHJ1bnMgb2YgYmxhY2svd2hpdGVcbiAgICAgKiB2YWx1ZXMgbWF0Y2hlcyBhIGdpdmVuIHRhcmdldCBwYXR0ZXJuLiBUaGlzIGlzIHJlcG9ydGVkIGFzIHRoZSByYXRpbyBvZlxuICAgICAqIHRoZSB0b3RhbCB2YXJpYW5jZSBmcm9tIHRoZSBleHBlY3RlZCBwYXR0ZXJuIHByb3BvcnRpb25zIGFjcm9zcyBhbGxcbiAgICAgKiBwYXR0ZXJuIGVsZW1lbnRzLCB0byB0aGUgbGVuZ3RoIG9mIHRoZSBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvdW50ZXJzIG9ic2VydmVkIGNvdW50ZXJzXG4gICAgICogQHBhcmFtIHBhdHRlcm4gZXhwZWN0ZWQgcGF0dGVyblxuICAgICAqIEBwYXJhbSBtYXhJbmRpdmlkdWFsVmFyaWFuY2UgVGhlIG1vc3QgYW55IGNvdW50ZXIgY2FuIGRpZmZlciBiZWZvcmUgd2UgZ2l2ZSB1cFxuICAgICAqIEByZXR1cm4gcmF0aW8gb2YgdG90YWwgdmFyaWFuY2UgYmV0d2VlbiBjb3VudGVycyBhbmQgcGF0dGVybiBjb21wYXJlZCB0byB0b3RhbCBwYXR0ZXJuIHNpemVcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5wYXR0ZXJuTWF0Y2hWYXJpYW5jZSA9IGZ1bmN0aW9uIChjb3VudGVycywgcGF0dGVybiwgbWF4SW5kaXZpZHVhbFZhcmlhbmNlKSB7XG4gICAgICAgIHZhciBudW1Db3VudGVycyA9IGNvdW50ZXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIHRvdGFsID0gMDtcbiAgICAgICAgdmFyIHBhdHRlcm5MZW5ndGggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUNvdW50ZXJzOyBpKyspIHtcbiAgICAgICAgICAgIHRvdGFsICs9IGNvdW50ZXJzW2ldO1xuICAgICAgICAgICAgcGF0dGVybkxlbmd0aCArPSBwYXR0ZXJuW2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b3RhbCA8IHBhdHRlcm5MZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGV2ZW4gaGF2ZSBvbmUgcGl4ZWwgcGVyIHVuaXQgb2YgYmFyIHdpZHRoLCBhc3N1bWUgdGhpc1xuICAgICAgICAgICAgLy8gaXMgdG9vIHNtYWxsIHRvIHJlbGlhYmx5IG1hdGNoLCBzbyBmYWlsOlxuICAgICAgICAgICAgcmV0dXJuIC8qRmxvYXQuUE9TSVRJVkVfSU5GSU5JVFkqLyBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSdyZSBnb2luZyB0byBmYWtlIGZsb2F0aW5nLXBvaW50IG1hdGggaW4gaW50ZWdlcnMuIFdlIGp1c3QgbmVlZCB0byB1c2UgbW9yZSBiaXRzLlxuICAgICAgICAvLyBTY2FsZSB1cCBwYXR0ZXJuTGVuZ3RoIHNvIHRoYXQgaW50ZXJtZWRpYXRlIHZhbHVlcyBiZWxvdyBsaWtlIHNjYWxlZENvdW50ZXIgd2lsbCBoYXZlXG4gICAgICAgIC8vIG1vcmUgXCJzaWduaWZpY2FudCBkaWdpdHNcIi5cbiAgICAgICAgdmFyIHVuaXRCYXJXaWR0aCA9IHRvdGFsIC8gcGF0dGVybkxlbmd0aDtcbiAgICAgICAgbWF4SW5kaXZpZHVhbFZhcmlhbmNlICo9IHVuaXRCYXJXaWR0aDtcbiAgICAgICAgdmFyIHRvdGFsVmFyaWFuY2UgPSAwLjA7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbnVtQ291bnRlcnM7IHgrKykge1xuICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBjb3VudGVyc1t4XTtcbiAgICAgICAgICAgIHZhciBzY2FsZWRQYXR0ZXJuID0gcGF0dGVyblt4XSAqIHVuaXRCYXJXaWR0aDtcbiAgICAgICAgICAgIHZhciB2YXJpYW5jZSA9IGNvdW50ZXIgPiBzY2FsZWRQYXR0ZXJuID8gY291bnRlciAtIHNjYWxlZFBhdHRlcm4gOiBzY2FsZWRQYXR0ZXJuIC0gY291bnRlcjtcbiAgICAgICAgICAgIGlmICh2YXJpYW5jZSA+IG1heEluZGl2aWR1YWxWYXJpYW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAvKkZsb2F0LlBPU0lUSVZFX0lORklOSVRZKi8gSW5maW5pdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3RhbFZhcmlhbmNlICs9IHZhcmlhbmNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3RhbFZhcmlhbmNlIC8gdG90YWw7XG4gICAgfTtcbiAgICBEZXRlY3Rvci5JTkRFWEVTX1NUQVJUX1BBVFRFUk4gPSBJbnQzMkFycmF5LmZyb20oWzAsIDQsIDEsIDVdKTtcbiAgICBEZXRlY3Rvci5JTkRFWEVTX1NUT1BfUEFUVEVSTiA9IEludDMyQXJyYXkuZnJvbShbNiwgMiwgNywgM10pO1xuICAgIERldGVjdG9yLk1BWF9BVkdfVkFSSUFOQ0UgPSAwLjQyO1xuICAgIERldGVjdG9yLk1BWF9JTkRJVklEVUFMX1ZBUklBTkNFID0gMC44O1xuICAgIC8vIEIgUyBCIFMgQiBTIEIgUyBCYXIvU3BhY2UgcGF0dGVyblxuICAgIC8vIDExMTExMTExIDAgMSAwIDEgMCAxIDAwMFxuICAgIERldGVjdG9yLlNUQVJUX1BBVFRFUk4gPSBJbnQzMkFycmF5LmZyb20oWzgsIDEsIDEsIDEsIDEsIDEsIDEsIDNdKTtcbiAgICAvLyAxMTExMTExIDAgMSAwMDAgMSAwIDEgMDAgMVxuICAgIERldGVjdG9yLlNUT1BfUEFUVEVSTiA9IEludDMyQXJyYXkuZnJvbShbNywgMSwgMSwgMywgMSwgMSwgMSwgMiwgMV0pO1xuICAgIERldGVjdG9yLk1BWF9QSVhFTF9EUklGVCA9IDM7XG4gICAgRGV0ZWN0b3IuTUFYX1BBVFRFUk5fRFJJRlQgPSA1O1xuICAgIC8vIGlmIHdlIHNldCB0aGUgdmFsdWUgdG9vIGxvdywgdGhlbiB3ZSBkb24ndCBkZXRlY3QgdGhlIGNvcnJlY3QgaGVpZ2h0IG9mIHRoZSBiYXIgaWYgdGhlIHN0YXJ0IHBhdHRlcm5zIGFyZSBkYW1hZ2VkLlxuICAgIC8vIGlmIHdlIHNldCB0aGUgdmFsdWUgdG9vIGhpZ2gsIHRoZW4gd2UgbWlnaHQgZGV0ZWN0IHRoZSBzdGFydCBwYXR0ZXJuIGZyb20gYSBuZWlnaGJvciBiYXJjb2RlLlxuICAgIERldGVjdG9yLlNLSVBQRURfUk9XX0NPVU5UX01BWCA9IDI1O1xuICAgIC8vIEEgUERGNDcxIGJhcmNvZGUgc2hvdWxkIGhhdmUgYXQgbGVhc3QgMyByb3dzLCB3aXRoIGVhY2ggcm93IGJlaW5nID49IDMgdGltZXMgdGhlIG1vZHVsZSB3aWR0aC4gVGhlcmVmb3JlIGl0IHNob3VsZCBiZSBhdCBsZWFzdFxuICAgIC8vIDkgcGl4ZWxzIHRhbGwuIFRvIGJlIGNvbnNlcnZhdGl2ZSwgd2UgdXNlIGFib3V0IGhhbGYgdGhlIHNpemUgdG8gZW5zdXJlIHdlIGRvbid0IG1pc3MgaXQuXG4gICAgRGV0ZWN0b3IuUk9XX1NURVAgPSA1O1xuICAgIERldGVjdG9yLkJBUkNPREVfTUlOX0hFSUdIVCA9IDEwO1xuICAgIHJldHVybiBEZXRlY3Rvcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBEZXRlY3Rvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURldGVjdG9yLmpzLm1hcCIsIi8qXG4qIENvcHlyaWdodCAyMDEyIFpYaW5nIGF1dGhvcnNcbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbi8vIHBhY2thZ2UgY29tLmdvb2dsZS56eGluZy5wZGY0MTcuZGVjb2Rlci5lYztcbmltcG9ydCBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gZnJvbSAnLi4vLi4vLi4vSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJztcbmltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vLi4vLi4vdXRpbC9TeXN0ZW0nO1xuaW1wb3J0IFN0cmluZ0J1aWxkZXIgZnJvbSAnLi4vLi4vLi4vdXRpbC9TdHJpbmdCdWlsZGVyJztcbi8qKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24uR2VuZXJpY0dGUG9seVxuICovXG52YXIgTW9kdWx1c1BvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kdWx1c1BvbHkoZmllbGQsIGNvZWZmaWNpZW50cykge1xuICAgICAgICBpZiAoY29lZmZpY2llbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcbiAgICAgICAgdmFyIGNvZWZmaWNpZW50c0xlbmd0aCA9IC8qaW50Ki8gY29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICAgICAgaWYgKGNvZWZmaWNpZW50c0xlbmd0aCA+IDEgJiYgY29lZmZpY2llbnRzWzBdID09PSAwKSB7XG4gICAgICAgICAgICAvLyBMZWFkaW5nIHRlcm0gbXVzdCBiZSBub24temVybyBmb3IgYW55dGhpbmcgZXhjZXB0IHRoZSBjb25zdGFudCBwb2x5bm9taWFsIFwiMFwiXG4gICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gLyppbnQqLyAxO1xuICAgICAgICAgICAgd2hpbGUgKGZpcnN0Tm9uWmVybyA8IGNvZWZmaWNpZW50c0xlbmd0aCAmJiBjb2VmZmljaWVudHNbZmlyc3ROb25aZXJvXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZpcnN0Tm9uWmVybysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpcnN0Tm9uWmVybyA9PT0gY29lZmZpY2llbnRzTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShjb2VmZmljaWVudHNMZW5ndGggLSBmaXJzdE5vblplcm8pO1xuICAgICAgICAgICAgICAgIFN5c3RlbS5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgTW9kdWx1c1BvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBkZWdyZWUgb2YgdGhpcyBwb2x5bm9taWFsXG4gICAgICovXG4gICAgTW9kdWx1c1BvbHkucHJvdG90eXBlLmdldERlZ3JlZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzLmxlbmd0aCAtIDE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHRydWUgaWZmIHRoaXMgcG9seW5vbWlhbCBpcyB0aGUgbW9ub21pYWwgXCIwXCJcbiAgICAgKi9cbiAgICBNb2R1bHVzUG9seS5wcm90b3R5cGUuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHNbMF0gPT09IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIGNvZWZmaWNpZW50IG9mIHheZGVncmVlIHRlcm0gaW4gdGhpcyBwb2x5bm9taWFsXG4gICAgICovXG4gICAgTW9kdWx1c1BvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHNbdGhpcy5jb2VmZmljaWVudHMubGVuZ3RoIC0gMSAtIGRlZ3JlZV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIGV2YWx1YXRpb24gb2YgdGhpcyBwb2x5bm9taWFsIGF0IGEgZ2l2ZW4gcG9pbnRcbiAgICAgKi9cbiAgICBNb2R1bHVzUG9seS5wcm90b3R5cGUuZXZhbHVhdGVBdCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICBpZiAoYSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gSnVzdCByZXR1cm4gdGhlIHheMCBjb2VmZmljaWVudFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29lZmZpY2llbnQoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEgPT09IDEpIHtcbiAgICAgICAgICAgIC8vIEp1c3QgdGhlIHN1bSBvZiB0aGUgY29lZmZpY2llbnRzXG4gICAgICAgICAgICB2YXIgc3VtID0gLyppbnQqLyAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuY29lZmZpY2llbnRzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBfYy52YWx1ZSAvKmludCovO1xuICAgICAgICAgICAgICAgICAgICBzdW0gPSB0aGlzLmZpZWxkLmFkZChzdW0sIGNvZWZmaWNpZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3VtO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSAvKmludCovIHRoaXMuY29lZmZpY2llbnRzWzBdO1xuICAgICAgICB2YXIgc2l6ZSA9IC8qaW50Ki8gdGhpcy5jb2VmZmljaWVudHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpIC8qaW50Ki8gPSAxOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpZWxkLmFkZCh0aGlzLmZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIHRoaXMuY29lZmZpY2llbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgTW9kdWx1c1BvbHkucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICBpZiAoIXRoaXMuZmllbGQuZXF1YWxzKG90aGVyLmZpZWxkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignTW9kdWx1c1BvbHlzIGRvIG5vdCBoYXZlIHNhbWUgTW9kdWx1c0dGIGZpZWxkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7XG4gICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7XG4gICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50cztcbiAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7XG4gICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7XG4gICAgICAgIHZhciBsZW5ndGhEaWZmID0gLyppbnQqLyBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoIC0gc21hbGxlckNvZWZmaWNpZW50cy5sZW5ndGg7XG4gICAgICAgIC8vIENvcHkgaGlnaC1vcmRlciB0ZXJtcyBvbmx5IGZvdW5kIGluIGhpZ2hlci1kZWdyZWUgcG9seW5vbWlhbCdzIGNvZWZmaWNpZW50c1xuICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KGxhcmdlckNvZWZmaWNpZW50cywgMCwgc3VtRGlmZiwgMCwgbGVuZ3RoRGlmZik7XG4gICAgICAgIGZvciAodmFyIGkgLyppbnQqLyA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN1bURpZmZbaV0gPSB0aGlzLmZpZWxkLmFkZChzbWFsbGVyQ29lZmZpY2llbnRzW2kgLSBsZW5ndGhEaWZmXSwgbGFyZ2VyQ29lZmZpY2llbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE1vZHVsdXNQb2x5KHRoaXMuZmllbGQsIHN1bURpZmYpO1xuICAgIH07XG4gICAgTW9kdWx1c1BvbHkucHJvdG90eXBlLnN1YnRyYWN0ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCdNb2R1bHVzUG9seXMgZG8gbm90IGhhdmUgc2FtZSBNb2R1bHVzR0YgZmllbGQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFkZChvdGhlci5uZWdhdGl2ZSgpKTtcbiAgICB9O1xuICAgIE1vZHVsdXNQb2x5LnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBNb2R1bHVzUG9seSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlPdGhlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIob3RoZXIpO1xuICAgIH07XG4gICAgTW9kdWx1c1BvbHkucHJvdG90eXBlLm11bHRpcGx5T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oJ01vZHVsdXNQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIE1vZHVsdXNHRiBmaWVsZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vZHVsdXNQb2x5KHRoaXMuZmllbGQsIG5ldyBJbnQzMkFycmF5KFswXSkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7XG4gICAgICAgIHZhciBhTGVuZ3RoID0gLyppbnQqLyBhQ29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7XG4gICAgICAgIHZhciBiTGVuZ3RoID0gLyppbnQqLyBiQ29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIHByb2R1Y3QgPSBuZXcgSW50MzJBcnJheShhTGVuZ3RoICsgYkxlbmd0aCAtIDEpO1xuICAgICAgICBmb3IgKHZhciBpIC8qaW50Ki8gPSAwOyBpIDwgYUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYUNvZWZmID0gLyppbnQqLyBhQ29lZmZpY2llbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgaiAvKmludCovID0gMDsgaiA8IGJMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHByb2R1Y3RbaSArIGpdID0gdGhpcy5maWVsZC5hZGQocHJvZHVjdFtpICsgal0sIHRoaXMuZmllbGQubXVsdGlwbHkoYUNvZWZmLCBiQ29lZmZpY2llbnRzW2pdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBNb2R1bHVzUG9seSh0aGlzLmZpZWxkLCBwcm9kdWN0KTtcbiAgICB9O1xuICAgIE1vZHVsdXNQb2x5LnByb3RvdHlwZS5uZWdhdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNpemUgPSAvKmludCovIHRoaXMuY29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIG5lZ2F0aXZlQ29lZmZpY2llbnRzID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7XG4gICAgICAgIGZvciAodmFyIGkgLyppbnQqLyA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgIG5lZ2F0aXZlQ29lZmZpY2llbnRzW2ldID0gdGhpcy5maWVsZC5zdWJ0cmFjdCgwLCB0aGlzLmNvZWZmaWNpZW50c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBNb2R1bHVzUG9seSh0aGlzLmZpZWxkLCBuZWdhdGl2ZUNvZWZmaWNpZW50cyk7XG4gICAgfTtcbiAgICBNb2R1bHVzUG9seS5wcm90b3R5cGUubXVsdGlwbHlTY2FsYXIgPSBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICAgIGlmIChzY2FsYXIgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTW9kdWx1c1BvbHkodGhpcy5maWVsZCwgbmV3IEludDMyQXJyYXkoWzBdKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpemUgPSAvKmludCovIHRoaXMuY29lZmZpY2llbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIHByb2R1Y3QgPSBuZXcgSW50MzJBcnJheShzaXplKTtcbiAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgICAgICAgcHJvZHVjdFtpXSA9IHRoaXMuZmllbGQubXVsdGlwbHkodGhpcy5jb2VmZmljaWVudHNbaV0sIHNjYWxhcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBNb2R1bHVzUG9seSh0aGlzLmZpZWxkLCBwcm9kdWN0KTtcbiAgICB9O1xuICAgIE1vZHVsdXNQb2x5LnByb3RvdHlwZS5tdWx0aXBseUJ5TW9ub21pYWwgPSBmdW5jdGlvbiAoZGVncmVlLCBjb2VmZmljaWVudCkge1xuICAgICAgICBpZiAoZGVncmVlIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNb2R1bHVzUG9seSh0aGlzLmZpZWxkLCBuZXcgSW50MzJBcnJheShbMF0pKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l6ZSA9IC8qaW50Ki8gdGhpcy5jb2VmZmljaWVudHMubGVuZ3RoO1xuICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpO1xuICAgICAgICBmb3IgKHZhciBpIC8qaW50Ki8gPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBwcm9kdWN0W2ldID0gdGhpcy5maWVsZC5tdWx0aXBseSh0aGlzLmNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTW9kdWx1c1BvbHkodGhpcy5maWVsZCwgcHJvZHVjdCk7XG4gICAgfTtcbiAgICAvKlxuICAgIE1vZHVsdXNQb2x5W10gZGl2aWRlKG90aGVyOiBNb2R1bHVzUG9seSkge1xuICAgICAgaWYgKCFmaWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7XG4gICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oXCJNb2R1bHVzUG9seXMgZG8gbm90IGhhdmUgc2FtZSBNb2R1bHVzR0YgZmllbGRcIik7XG4gICAgICB9XG4gICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbihcIkRpdmlkZSBieSAwXCIpO1xuICAgICAgfVxuICBcbiAgICAgIGxldCBxdW90aWVudDogTW9kdWx1c1BvbHkgPSBmaWVsZC5nZXRaZXJvKCk7XG4gICAgICBsZXQgcmVtYWluZGVyOiBNb2R1bHVzUG9seSA9IHRoaXM7XG4gIFxuICAgICAgbGV0IGRlbm9taW5hdG9yTGVhZGluZ1Rlcm06IC8qaW50LyBudW1iZXIgPSBvdGhlci5nZXRDb2VmZmljaWVudChvdGhlci5nZXREZWdyZWUoKSk7XG4gICAgICBsZXQgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm06IC8qaW50LyBudW1iZXIgPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pO1xuICBcbiAgICAgIHdoaWxlIChyZW1haW5kZXIuZ2V0RGVncmVlKCkgPj0gb3RoZXIuZ2V0RGVncmVlKCkgJiYgIXJlbWFpbmRlci5pc1plcm8oKSkge1xuICAgICAgICBsZXQgZGVncmVlRGlmZmVyZW5jZTogLyppbnQvIG51bWJlciA9IHJlbWFpbmRlci5nZXREZWdyZWUoKSAtIG90aGVyLmdldERlZ3JlZSgpO1xuICAgICAgICBsZXQgc2NhbGU6IC8qaW50LyBudW1iZXIgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pO1xuICAgICAgICBsZXQgdGVybTogTW9kdWx1c1BvbHkgPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpO1xuICAgICAgICBsZXQgaXRlcmF0aW9uUXVvdGllbnQ6IE1vZHVsdXNQb2x5ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7XG4gICAgICAgIHF1b3RpZW50ID0gcXVvdGllbnQuYWRkKGl0ZXJhdGlvblF1b3RpZW50KTtcbiAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLnN1YnRyYWN0KHRlcm0pO1xuICAgICAgfVxuICBcbiAgICAgIHJldHVybiBuZXcgTW9kdWx1c1BvbHlbXSB7IHF1b3RpZW50LCByZW1haW5kZXIgfTtcbiAgICB9XG4gICAgKi9cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBNb2R1bHVzUG9seS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgU3RyaW5nQnVpbGRlciggLyo4ICogdGhpcy5nZXREZWdyZWUoKSovKTsgLy8gZHluYW1pYyBzdHJpbmcgc2l6ZSBpbiBKU1xuICAgICAgICBmb3IgKHZhciBkZWdyZWUgLyppbnQqLyA9IHRoaXMuZ2V0RGVncmVlKCk7IGRlZ3JlZSA+PSAwOyBkZWdyZWUtLSkge1xuICAgICAgICAgICAgdmFyIGNvZWZmaWNpZW50ID0gLyppbnQqLyB0aGlzLmdldENvZWZmaWNpZW50KGRlZ3JlZSk7XG4gICAgICAgICAgICBpZiAoY29lZmZpY2llbnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoY29lZmZpY2llbnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoJyAtICcpO1xuICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKCcgKyAnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVncmVlID09PSAwIHx8IGNvZWZmaWNpZW50ICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoY29lZmZpY2llbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVncmVlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoJ3gnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoJ3heJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGRlZ3JlZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpO1xuICAgIH07XG4gICAgcmV0dXJuIE1vZHVsdXNQb2x5O1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IE1vZHVsdXNQb2x5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kdWx1c1BvbHkuanMubWFwIiwiaW1wb3J0IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBmcm9tICcuLi8uLi8uLi9JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24nO1xuaW1wb3J0IEFyaXRobWV0aWNFeGNlcHRpb24gZnJvbSAnLi4vLi4vLi4vQXJpdGhtZXRpY0V4Y2VwdGlvbic7XG52YXIgTW9kdWx1c0Jhc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9kdWx1c0Jhc2UoKSB7XG4gICAgfVxuICAgIE1vZHVsdXNCYXNlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGEgKyBiKSAlIHRoaXMubW9kdWx1cztcbiAgICB9O1xuICAgIE1vZHVsdXNCYXNlLnByb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5tb2R1bHVzICsgYSAtIGIpICUgdGhpcy5tb2R1bHVzO1xuICAgIH07XG4gICAgTW9kdWx1c0Jhc2UucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdO1xuICAgIH07XG4gICAgTW9kdWx1c0Jhc2UucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIGlmIChhID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubG9nVGFibGVbYV07XG4gICAgfTtcbiAgICBNb2R1bHVzQmFzZS5wcm90b3R5cGUuaW52ZXJzZSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIGlmIChhID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW3RoaXMubW9kdWx1cyAtIHRoaXMubG9nVGFibGVbYV0gLSAxXTtcbiAgICB9O1xuICAgIE1vZHVsdXNCYXNlLnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIGlmIChhID09PSAwIHx8IGIgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlWyh0aGlzLmxvZ1RhYmxlW2FdICsgdGhpcy5sb2dUYWJsZVtiXSkgJSAodGhpcy5tb2R1bHVzIC0gMSldO1xuICAgIH07XG4gICAgTW9kdWx1c0Jhc2UucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZHVsdXM7XG4gICAgfTtcbiAgICBNb2R1bHVzQmFzZS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgcmV0dXJuIG8gPT09IHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gTW9kdWx1c0Jhc2U7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgTW9kdWx1c0Jhc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2R1bHVzQmFzZS5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLy8gcGFja2FnZSBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNy5kZWNvZGVyLmVjO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcucGRmNDE3LlBERjQxN0NvbW1vbjtcbmltcG9ydCBQREY0MTdDb21tb24gZnJvbSAnLi4vLi4vUERGNDE3Q29tbW9uJztcbmltcG9ydCBNb2R1bHVzUG9seSBmcm9tICcuL01vZHVsdXNQb2x5JztcbmltcG9ydCBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gZnJvbSAnLi4vLi4vLi4vSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJztcbmltcG9ydCBNb2R1bHVzQmFzZSBmcm9tICcuL01vZHVsdXNCYXNlJztcbi8qKlxuICogPHA+QSBmaWVsZCBiYXNlZCBvbiBwb3dlcnMgb2YgYSBnZW5lcmF0b3IgaW50ZWdlciwgbW9kdWxvIHNvbWUgbW9kdWx1cy48L3A+XG4gKlxuICogQGF1dGhvciBTZWFuIE93ZW5cbiAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24uR2VuZXJpY0dGXG4gKi9cbnZhciBNb2R1bHVzR0YgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1vZHVsdXNHRiwgX3N1cGVyKTtcbiAgICAvLyBwcml2YXRlIC8qZmluYWwqLyBtb2R1bHVzOiAvKmludCovIG51bWJlcjtcbiAgICBmdW5jdGlvbiBNb2R1bHVzR0YobW9kdWx1cywgZ2VuZXJhdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1vZHVsdXMgPSBtb2R1bHVzO1xuICAgICAgICBfdGhpcy5leHBUYWJsZSA9IG5ldyBJbnQzMkFycmF5KG1vZHVsdXMpO1xuICAgICAgICBfdGhpcy5sb2dUYWJsZSA9IG5ldyBJbnQzMkFycmF5KG1vZHVsdXMpO1xuICAgICAgICB2YXIgeCA9IC8qaW50Ki8gMTtcbiAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMDsgaSA8IG1vZHVsdXM7IGkrKykge1xuICAgICAgICAgICAgX3RoaXMuZXhwVGFibGVbaV0gPSB4O1xuICAgICAgICAgICAgeCA9ICh4ICogZ2VuZXJhdG9yKSAlIG1vZHVsdXM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMDsgaSA8IG1vZHVsdXMgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLmxvZ1RhYmxlW190aGlzLmV4cFRhYmxlW2ldXSA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9nVGFibGVbMF0gPT0gMCBidXQgdGhpcyBzaG91bGQgbmV2ZXIgYmUgdXNlZFxuICAgICAgICBfdGhpcy56ZXJvID0gbmV3IE1vZHVsdXNQb2x5KF90aGlzLCBuZXcgSW50MzJBcnJheShbMF0pKTtcbiAgICAgICAgX3RoaXMub25lID0gbmV3IE1vZHVsdXNQb2x5KF90aGlzLCBuZXcgSW50MzJBcnJheShbMV0pKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNb2R1bHVzR0YucHJvdG90eXBlLmdldFplcm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnplcm87XG4gICAgfTtcbiAgICBNb2R1bHVzR0YucHJvdG90eXBlLmdldE9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25lO1xuICAgIH07XG4gICAgTW9kdWx1c0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSwgY29lZmZpY2llbnQpIHtcbiAgICAgICAgaWYgKGRlZ3JlZSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29lZmZpY2llbnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnplcm87XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGRlZ3JlZSArIDEpO1xuICAgICAgICBjb2VmZmljaWVudHNbMF0gPSBjb2VmZmljaWVudDtcbiAgICAgICAgcmV0dXJuIG5ldyBNb2R1bHVzUG9seSh0aGlzLCBjb2VmZmljaWVudHMpO1xuICAgIH07XG4gICAgTW9kdWx1c0dGLlBERjQxN19HRiA9IG5ldyBNb2R1bHVzR0YoUERGNDE3Q29tbW9uLk5VTUJFUl9PRl9DT0RFV09SRFMsIDMpO1xuICAgIHJldHVybiBNb2R1bHVzR0Y7XG59KE1vZHVsdXNCYXNlKSk7XG5leHBvcnQgZGVmYXVsdCBNb2R1bHVzR0Y7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Nb2R1bHVzR0YuanMubWFwIiwiLypcbiogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9yc1xuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuLy8gcGFja2FnZSBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNy5kZWNvZGVyLmVjO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcuQ2hlY2tzdW1FeGNlcHRpb247XG5pbXBvcnQgQ2hlY2tzdW1FeGNlcHRpb24gZnJvbSAnLi4vLi4vLi4vQ2hlY2tzdW1FeGNlcHRpb24nO1xuaW1wb3J0IE1vZHVsdXNQb2x5IGZyb20gJy4vTW9kdWx1c1BvbHknO1xuaW1wb3J0IE1vZHVsdXNHRiBmcm9tICcuL01vZHVsdXNHRic7XG4vKipcbiAqIDxwPlBERjQxNyBlcnJvciBjb3JyZWN0aW9uIGltcGxlbWVudGF0aW9uLjwvcD5cbiAqXG4gKiA8cD5UaGlzIDxhIGhyZWY9XCJodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JlZWQlRTIlODAlOTNTb2xvbW9uX2Vycm9yX2NvcnJlY3Rpb24jRXhhbXBsZVwiPmV4YW1wbGU8L2E+XG4gKiBpcyBxdWl0ZSB1c2VmdWwgaW4gdW5kZXJzdGFuZGluZyB0aGUgYWxnb3JpdGhtLjwvcD5cbiAqXG4gKiBAYXV0aG9yIFNlYW4gT3dlblxuICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbi5SZWVkU29sb21vbkRlY29kZXJcbiAqL1xudmFyIEVycm9yQ29ycmVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZmllbGQgPSBNb2R1bHVzR0YuUERGNDE3X0dGO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcmVjZWl2ZWQgcmVjZWl2ZWQgY29kZXdvcmRzXG4gICAgICogQHBhcmFtIG51bUVDQ29kZXdvcmRzIG51bWJlciBvZiB0aG9zZSBjb2Rld29yZHMgdXNlZCBmb3IgRUNcbiAgICAgKiBAcGFyYW0gZXJhc3VyZXMgbG9jYXRpb24gb2YgZXJhc3VyZXNcbiAgICAgKiBAcmV0dXJuIG51bWJlciBvZiBlcnJvcnNcbiAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9ycyBjYW5ub3QgYmUgY29ycmVjdGVkLCBtYXliZSBiZWNhdXNlIG9mIHRvbyBtYW55IGVycm9yc1xuICAgICAqL1xuICAgIEVycm9yQ29ycmVjdGlvbi5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKHJlY2VpdmVkLCBudW1FQ0NvZGV3b3JkcywgZXJhc3VyZXMpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciBwb2x5ID0gbmV3IE1vZHVsdXNQb2x5KHRoaXMuZmllbGQsIHJlY2VpdmVkKTtcbiAgICAgICAgdmFyIFMgPSBuZXcgSW50MzJBcnJheShudW1FQ0NvZGV3b3Jkcyk7XG4gICAgICAgIHZhciBlcnJvciA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpIC8qaW50Ki8gPSBudW1FQ0NvZGV3b3JkczsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGV2YWx1YXRpb24gPSBwb2x5LmV2YWx1YXRlQXQodGhpcy5maWVsZC5leHAoaSkpO1xuICAgICAgICAgICAgU1tudW1FQ0NvZGV3b3JkcyAtIGldID0gZXZhbHVhdGlvbjtcbiAgICAgICAgICAgIGlmIChldmFsdWF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrbm93bkVycm9ycyA9IHRoaXMuZmllbGQuZ2V0T25lKCk7XG4gICAgICAgIGlmIChlcmFzdXJlcyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGVyYXN1cmVzXzEgPSBfX3ZhbHVlcyhlcmFzdXJlcyksIGVyYXN1cmVzXzFfMSA9IGVyYXN1cmVzXzEubmV4dCgpOyAhZXJhc3VyZXNfMV8xLmRvbmU7IGVyYXN1cmVzXzFfMSA9IGVyYXN1cmVzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlcmFzdXJlID0gZXJhc3VyZXNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuZmllbGQuZXhwKHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBlcmFzdXJlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkICgxIC0gYngpIHRlcm06XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXJtID0gbmV3IE1vZHVsdXNQb2x5KHRoaXMuZmllbGQsIG5ldyBJbnQzMkFycmF5KFt0aGlzLmZpZWxkLnN1YnRyYWN0KDAsIGIpLCAxXSkpO1xuICAgICAgICAgICAgICAgICAgICBrbm93bkVycm9ycyA9IGtub3duRXJyb3JzLm11bHRpcGx5KHRlcm0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJhc3VyZXNfMV8xICYmICFlcmFzdXJlc18xXzEuZG9uZSAmJiAoX2EgPSBlcmFzdXJlc18xLnJldHVybikpIF9hLmNhbGwoZXJhc3VyZXNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc3luZHJvbWUgPSBuZXcgTW9kdWx1c1BvbHkodGhpcy5maWVsZCwgUyk7XG4gICAgICAgIC8vIHN5bmRyb21lID0gc3luZHJvbWUubXVsdGlwbHkoa25vd25FcnJvcnMpO1xuICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKHRoaXMuZmllbGQuYnVpbGRNb25vbWlhbChudW1FQ0NvZGV3b3JkcywgMSksIHN5bmRyb21lLCBudW1FQ0NvZGV3b3Jkcyk7XG4gICAgICAgIHZhciBzaWdtYSA9IHNpZ21hT21lZ2FbMF07XG4gICAgICAgIHZhciBvbWVnYSA9IHNpZ21hT21lZ2FbMV07XG4gICAgICAgIC8vIHNpZ21hID0gc2lnbWEubXVsdGlwbHkoa25vd25FcnJvcnMpO1xuICAgICAgICB2YXIgZXJyb3JMb2NhdGlvbnMgPSB0aGlzLmZpbmRFcnJvckxvY2F0aW9ucyhzaWdtYSk7XG4gICAgICAgIHZhciBlcnJvck1hZ25pdHVkZXMgPSB0aGlzLmZpbmRFcnJvck1hZ25pdHVkZXMob21lZ2EsIHNpZ21hLCBlcnJvckxvY2F0aW9ucyk7XG4gICAgICAgIGZvciAodmFyIGkgLyppbnQqLyA9IDA7IGkgPCBlcnJvckxvY2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gcmVjZWl2ZWQubGVuZ3RoIC0gMSAtIHRoaXMuZmllbGQubG9nKGVycm9yTG9jYXRpb25zW2ldKTtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA8IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNlaXZlZFtwb3NpdGlvbl0gPSB0aGlzLmZpZWxkLnN1YnRyYWN0KHJlY2VpdmVkW3Bvc2l0aW9uXSwgZXJyb3JNYWduaXR1ZGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3JMb2NhdGlvbnMubGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gTW9kdWx1c1BvbHlcbiAgICAgKiBAcGFyYW0gYVxuICAgICAqIEBwYXJhbSBNb2R1bHVzUG9seVxuICAgICAqIEBwYXJhbSBiXG4gICAgICogQHBhcmFtIGludFxuICAgICAqIEBwYXJhbSBSXG4gICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvblxuICAgICAqL1xuICAgIEVycm9yQ29ycmVjdGlvbi5wcm90b3R5cGUucnVuRXVjbGlkZWFuQWxnb3JpdGhtID0gZnVuY3Rpb24gKGEsIGIsIFIpIHtcbiAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzXG4gICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkge1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBhO1xuICAgICAgICAgICAgYSA9IGI7XG4gICAgICAgICAgICBiID0gdGVtcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgckxhc3QgPSBhO1xuICAgICAgICB2YXIgciA9IGI7XG4gICAgICAgIHZhciB0TGFzdCA9IHRoaXMuZmllbGQuZ2V0WmVybygpO1xuICAgICAgICB2YXIgdCA9IHRoaXMuZmllbGQuZ2V0T25lKCk7XG4gICAgICAgIC8vIFJ1biBFdWNsaWRlYW4gYWxnb3JpdGhtIHVudGlsIHIncyBkZWdyZWUgaXMgbGVzcyB0aGFuIFIvMlxuICAgICAgICB3aGlsZSAoci5nZXREZWdyZWUoKSA+PSBNYXRoLnJvdW5kKFIgLyAyKSkge1xuICAgICAgICAgICAgdmFyIHJMYXN0TGFzdCA9IHJMYXN0O1xuICAgICAgICAgICAgdmFyIHRMYXN0TGFzdCA9IHRMYXN0O1xuICAgICAgICAgICAgckxhc3QgPSByO1xuICAgICAgICAgICAgdExhc3QgPSB0O1xuICAgICAgICAgICAgLy8gRGl2aWRlIHJMYXN0TGFzdCBieSByTGFzdCwgd2l0aCBxdW90aWVudCBpbiBxIGFuZCByZW1haW5kZXIgaW4gclxuICAgICAgICAgICAgaWYgKHJMYXN0LmlzWmVybygpKSB7XG4gICAgICAgICAgICAgICAgLy8gT29wcywgRXVjbGlkZWFuIGFsZ29yaXRobSBhbHJlYWR5IHRlcm1pbmF0ZWQ/XG4gICAgICAgICAgICAgICAgdGhyb3cgQ2hlY2tzdW1FeGNlcHRpb24uZ2V0Q2hlY2tzdW1JbnN0YW5jZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgciA9IHJMYXN0TGFzdDtcbiAgICAgICAgICAgIHZhciBxID0gdGhpcy5maWVsZC5nZXRaZXJvKCk7XG4gICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTtcbiAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gdGhpcy5maWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pO1xuICAgICAgICAgICAgd2hpbGUgKHIuZ2V0RGVncmVlKCkgPj0gckxhc3QuZ2V0RGVncmVlKCkgJiYgIXIuaXNaZXJvKCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVncmVlRGlmZiA9IHIuZ2V0RGVncmVlKCkgLSByTGFzdC5nZXREZWdyZWUoKTtcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmZpZWxkLm11bHRpcGx5KHIuZ2V0Q29lZmZpY2llbnQoci5nZXREZWdyZWUoKSksIGRsdEludmVyc2UpO1xuICAgICAgICAgICAgICAgIHEgPSBxLmFkZCh0aGlzLmZpZWxkLmJ1aWxkTW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTtcbiAgICAgICAgICAgICAgICByID0gci5zdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5zdWJ0cmFjdCh0TGFzdExhc3QpLm5lZ2F0aXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpZ21hVGlsZGVBdFplcm8gPSB0LmdldENvZWZmaWNpZW50KDApO1xuICAgICAgICBpZiAoc2lnbWFUaWxkZUF0WmVybyA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgQ2hlY2tzdW1FeGNlcHRpb24uZ2V0Q2hlY2tzdW1JbnN0YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnZlcnNlID0gdGhpcy5maWVsZC5pbnZlcnNlKHNpZ21hVGlsZGVBdFplcm8pO1xuICAgICAgICB2YXIgc2lnbWEgPSB0Lm11bHRpcGx5KGludmVyc2UpO1xuICAgICAgICB2YXIgb21lZ2EgPSByLm11bHRpcGx5KGludmVyc2UpO1xuICAgICAgICByZXR1cm4gW3NpZ21hLCBvbWVnYV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlcnJvckxvY2F0b3JcbiAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uXG4gICAgICovXG4gICAgRXJyb3JDb3JyZWN0aW9uLnByb3RvdHlwZS5maW5kRXJyb3JMb2NhdGlvbnMgPSBmdW5jdGlvbiAoZXJyb3JMb2NhdG9yKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgYSBkaXJlY3QgYXBwbGljYXRpb24gb2YgQ2hpZW4ncyBzZWFyY2hcbiAgICAgICAgdmFyIG51bUVycm9ycyA9IGVycm9yTG9jYXRvci5nZXREZWdyZWUoKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBJbnQzMkFycmF5KG51bUVycm9ycyk7XG4gICAgICAgIHZhciBlID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMTsgaSA8IHRoaXMuZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykge1xuICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gdGhpcy5maWVsZC5pbnZlcnNlKGkpO1xuICAgICAgICAgICAgICAgIGUrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZSAhPT0gbnVtRXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIEVycm9yQ29ycmVjdGlvbi5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdG9yLCBlcnJvckxvY2F0aW9ucykge1xuICAgICAgICB2YXIgZXJyb3JMb2NhdG9yRGVncmVlID0gZXJyb3JMb2NhdG9yLmdldERlZ3JlZSgpO1xuICAgICAgICB2YXIgZm9ybWFsRGVyaXZhdGl2ZUNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGVycm9yTG9jYXRvckRlZ3JlZSk7XG4gICAgICAgIGZvciAodmFyIGkgLyppbnQqLyA9IDE7IGkgPD0gZXJyb3JMb2NhdG9yRGVncmVlOyBpKyspIHtcbiAgICAgICAgICAgIGZvcm1hbERlcml2YXRpdmVDb2VmZmljaWVudHNbZXJyb3JMb2NhdG9yRGVncmVlIC0gaV0gPVxuICAgICAgICAgICAgICAgIHRoaXMuZmllbGQubXVsdGlwbHkoaSwgZXJyb3JMb2NhdG9yLmdldENvZWZmaWNpZW50KGkpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9ybWFsRGVyaXZhdGl2ZSA9IG5ldyBNb2R1bHVzUG9seSh0aGlzLmZpZWxkLCBmb3JtYWxEZXJpdmF0aXZlQ29lZmZpY2llbnRzKTtcbiAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhXG4gICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7XG4gICAgICAgIGZvciAodmFyIGkgLyppbnQqLyA9IDA7IGkgPCBzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB4aUludmVyc2UgPSB0aGlzLmZpZWxkLmludmVyc2UoZXJyb3JMb2NhdGlvbnNbaV0pO1xuICAgICAgICAgICAgdmFyIG51bWVyYXRvciA9IHRoaXMuZmllbGQuc3VidHJhY3QoMCwgZXJyb3JFdmFsdWF0b3IuZXZhbHVhdGVBdCh4aUludmVyc2UpKTtcbiAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IHRoaXMuZmllbGQuaW52ZXJzZShmb3JtYWxEZXJpdmF0aXZlLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSk7XG4gICAgICAgICAgICByZXN1bHRbaV0gPSB0aGlzLmZpZWxkLm11bHRpcGx5KG51bWVyYXRvciwgZGVub21pbmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEVycm9yQ29ycmVjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVycm9yQ29ycmVjdGlvbi5qcy5tYXAiLCIvKlxuKiBDb3B5cmlnaHQgMjAxMyBaWGluZyBhdXRob3JzXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG4vLyBwYWNrYWdlIGNvbS5nb29nbGUuenhpbmcucGRmNDE3LmRlY29kZXI7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5Ob3RGb3VuZEV4Y2VwdGlvbjtcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi8uLi9Ob3RGb3VuZEV4Y2VwdGlvbic7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5SZXN1bHRQb2ludDtcbmltcG9ydCBSZXN1bHRQb2ludCBmcm9tICcuLi8uLi9SZXN1bHRQb2ludCc7XG4vKipcbiAqIEBhdXRob3IgR3VlbnRoZXIgR3JhdVxuICovXG52YXIgQm91bmRpbmdCb3ggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm91bmRpbmdCb3goaW1hZ2UsIHRvcExlZnQsIGJvdHRvbUxlZnQsIHRvcFJpZ2h0LCBib3R0b21SaWdodCkge1xuICAgICAgICBpZiAoaW1hZ2UgaW5zdGFuY2VvZiBCb3VuZGluZ0JveCkge1xuICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3Rvcl8yKGltYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3JfMShpbWFnZSwgdG9wTGVmdCwgYm90dG9tTGVmdCwgdG9wUmlnaHQsIGJvdHRvbVJpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbWFnZVxuICAgICAqIEBwYXJhbSB0b3BMZWZ0XG4gICAgICogQHBhcmFtIGJvdHRvbUxlZnRcbiAgICAgKiBAcGFyYW0gdG9wUmlnaHRcbiAgICAgKiBAcGFyYW0gYm90dG9tUmlnaHRcbiAgICAgKlxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb25cbiAgICAgKi9cbiAgICBCb3VuZGluZ0JveC5wcm90b3R5cGUuY29uc3RydWN0b3JfMSA9IGZ1bmN0aW9uIChpbWFnZSwgdG9wTGVmdCwgYm90dG9tTGVmdCwgdG9wUmlnaHQsIGJvdHRvbVJpZ2h0KSB7XG4gICAgICAgIHZhciBsZWZ0VW5zcGVjaWZpZWQgPSB0b3BMZWZ0ID09IG51bGwgfHwgYm90dG9tTGVmdCA9PSBudWxsO1xuICAgICAgICB2YXIgcmlnaHRVbnNwZWNpZmllZCA9IHRvcFJpZ2h0ID09IG51bGwgfHwgYm90dG9tUmlnaHQgPT0gbnVsbDtcbiAgICAgICAgaWYgKGxlZnRVbnNwZWNpZmllZCAmJiByaWdodFVuc3BlY2lmaWVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVmdFVuc3BlY2lmaWVkKSB7XG4gICAgICAgICAgICB0b3BMZWZ0ID0gbmV3IFJlc3VsdFBvaW50KDAsIHRvcFJpZ2h0LmdldFkoKSk7XG4gICAgICAgICAgICBib3R0b21MZWZ0ID0gbmV3IFJlc3VsdFBvaW50KDAsIGJvdHRvbVJpZ2h0LmdldFkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmlnaHRVbnNwZWNpZmllZCkge1xuICAgICAgICAgICAgdG9wUmlnaHQgPSBuZXcgUmVzdWx0UG9pbnQoaW1hZ2UuZ2V0V2lkdGgoKSAtIDEsIHRvcExlZnQuZ2V0WSgpKTtcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0ID0gbmV3IFJlc3VsdFBvaW50KGltYWdlLmdldFdpZHRoKCkgLSAxLCBib3R0b21MZWZ0LmdldFkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xuICAgICAgICB0aGlzLnRvcExlZnQgPSB0b3BMZWZ0O1xuICAgICAgICB0aGlzLmJvdHRvbUxlZnQgPSBib3R0b21MZWZ0O1xuICAgICAgICB0aGlzLnRvcFJpZ2h0ID0gdG9wUmlnaHQ7XG4gICAgICAgIHRoaXMuYm90dG9tUmlnaHQgPSBib3R0b21SaWdodDtcbiAgICAgICAgdGhpcy5taW5YID0gTWF0aC50cnVuYyhNYXRoLm1pbih0b3BMZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRYKCkpKTtcbiAgICAgICAgdGhpcy5tYXhYID0gTWF0aC50cnVuYyhNYXRoLm1heCh0b3BSaWdodC5nZXRYKCksIGJvdHRvbVJpZ2h0LmdldFgoKSkpO1xuICAgICAgICB0aGlzLm1pblkgPSBNYXRoLnRydW5jKE1hdGgubWluKHRvcExlZnQuZ2V0WSgpLCB0b3BSaWdodC5nZXRZKCkpKTtcbiAgICAgICAgdGhpcy5tYXhZID0gTWF0aC50cnVuYyhNYXRoLm1heChib3R0b21MZWZ0LmdldFkoKSwgYm90dG9tUmlnaHQuZ2V0WSgpKSk7XG4gICAgfTtcbiAgICBCb3VuZGluZ0JveC5wcm90b3R5cGUuY29uc3RydWN0b3JfMiA9IGZ1bmN0aW9uIChib3VuZGluZ0JveCkge1xuICAgICAgICB0aGlzLmltYWdlID0gYm91bmRpbmdCb3guaW1hZ2U7XG4gICAgICAgIHRoaXMudG9wTGVmdCA9IGJvdW5kaW5nQm94LmdldFRvcExlZnQoKTtcbiAgICAgICAgdGhpcy5ib3R0b21MZWZ0ID0gYm91bmRpbmdCb3guZ2V0Qm90dG9tTGVmdCgpO1xuICAgICAgICB0aGlzLnRvcFJpZ2h0ID0gYm91bmRpbmdCb3guZ2V0VG9wUmlnaHQoKTtcbiAgICAgICAgdGhpcy5ib3R0b21SaWdodCA9IGJvdW5kaW5nQm94LmdldEJvdHRvbVJpZ2h0KCk7XG4gICAgICAgIHRoaXMubWluWCA9IGJvdW5kaW5nQm94LmdldE1pblgoKTtcbiAgICAgICAgdGhpcy5tYXhYID0gYm91bmRpbmdCb3guZ2V0TWF4WCgpO1xuICAgICAgICB0aGlzLm1pblkgPSBib3VuZGluZ0JveC5nZXRNaW5ZKCk7XG4gICAgICAgIHRoaXMubWF4WSA9IGJvdW5kaW5nQm94LmdldE1heFkoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb25cbiAgICAgKi9cbiAgICBCb3VuZGluZ0JveC5tZXJnZSA9IGZ1bmN0aW9uIChsZWZ0Qm94LCByaWdodEJveCkge1xuICAgICAgICBpZiAobGVmdEJveCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmlnaHRCb3g7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJpZ2h0Qm94ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0Qm94O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQm91bmRpbmdCb3gobGVmdEJveC5pbWFnZSwgbGVmdEJveC50b3BMZWZ0LCBsZWZ0Qm94LmJvdHRvbUxlZnQsIHJpZ2h0Qm94LnRvcFJpZ2h0LCByaWdodEJveC5ib3R0b21SaWdodCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uXG4gICAgICovXG4gICAgQm91bmRpbmdCb3gucHJvdG90eXBlLmFkZE1pc3NpbmdSb3dzID0gZnVuY3Rpb24gKG1pc3NpbmdTdGFydFJvd3MsIG1pc3NpbmdFbmRSb3dzLCBpc0xlZnQpIHtcbiAgICAgICAgdmFyIG5ld1RvcExlZnQgPSB0aGlzLnRvcExlZnQ7XG4gICAgICAgIHZhciBuZXdCb3R0b21MZWZ0ID0gdGhpcy5ib3R0b21MZWZ0O1xuICAgICAgICB2YXIgbmV3VG9wUmlnaHQgPSB0aGlzLnRvcFJpZ2h0O1xuICAgICAgICB2YXIgbmV3Qm90dG9tUmlnaHQgPSB0aGlzLmJvdHRvbVJpZ2h0O1xuICAgICAgICBpZiAobWlzc2luZ1N0YXJ0Um93cyA+IDApIHtcbiAgICAgICAgICAgIHZhciB0b3BfMSA9IGlzTGVmdCA/IHRoaXMudG9wTGVmdCA6IHRoaXMudG9wUmlnaHQ7XG4gICAgICAgICAgICB2YXIgbmV3TWluWSA9IE1hdGgudHJ1bmModG9wXzEuZ2V0WSgpIC0gbWlzc2luZ1N0YXJ0Um93cyk7XG4gICAgICAgICAgICBpZiAobmV3TWluWSA8IDApIHtcbiAgICAgICAgICAgICAgICBuZXdNaW5ZID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuZXdUb3AgPSBuZXcgUmVzdWx0UG9pbnQodG9wXzEuZ2V0WCgpLCBuZXdNaW5ZKTtcbiAgICAgICAgICAgIGlmIChpc0xlZnQpIHtcbiAgICAgICAgICAgICAgICBuZXdUb3BMZWZ0ID0gbmV3VG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3VG9wUmlnaHQgPSBuZXdUb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pc3NpbmdFbmRSb3dzID4gMCkge1xuICAgICAgICAgICAgdmFyIGJvdHRvbSA9IGlzTGVmdCA/IHRoaXMuYm90dG9tTGVmdCA6IHRoaXMuYm90dG9tUmlnaHQ7XG4gICAgICAgICAgICB2YXIgbmV3TWF4WSA9IE1hdGgudHJ1bmMoYm90dG9tLmdldFkoKSArIG1pc3NpbmdFbmRSb3dzKTtcbiAgICAgICAgICAgIGlmIChuZXdNYXhZID49IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkpIHtcbiAgICAgICAgICAgICAgICBuZXdNYXhZID0gdGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmV3Qm90dG9tID0gbmV3IFJlc3VsdFBvaW50KGJvdHRvbS5nZXRYKCksIG5ld01heFkpO1xuICAgICAgICAgICAgaWYgKGlzTGVmdCkge1xuICAgICAgICAgICAgICAgIG5ld0JvdHRvbUxlZnQgPSBuZXdCb3R0b207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdCb3R0b21SaWdodCA9IG5ld0JvdHRvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJvdW5kaW5nQm94KHRoaXMuaW1hZ2UsIG5ld1RvcExlZnQsIG5ld0JvdHRvbUxlZnQsIG5ld1RvcFJpZ2h0LCBuZXdCb3R0b21SaWdodCk7XG4gICAgfTtcbiAgICBCb3VuZGluZ0JveC5wcm90b3R5cGUuZ2V0TWluWCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWDtcbiAgICB9O1xuICAgIEJvdW5kaW5nQm94LnByb3RvdHlwZS5nZXRNYXhYID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhYO1xuICAgIH07XG4gICAgQm91bmRpbmdCb3gucHJvdG90eXBlLmdldE1pblkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblk7XG4gICAgfTtcbiAgICBCb3VuZGluZ0JveC5wcm90b3R5cGUuZ2V0TWF4WSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF4WTtcbiAgICB9O1xuICAgIEJvdW5kaW5nQm94LnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0O1xuICAgIH07XG4gICAgQm91bmRpbmdCb3gucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDtcbiAgICB9O1xuICAgIEJvdW5kaW5nQm94LnByb3RvdHlwZS5nZXRCb3R0b21MZWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3R0b21MZWZ0O1xuICAgIH07XG4gICAgQm91bmRpbmdCb3gucHJvdG90eXBlLmdldEJvdHRvbVJpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3R0b21SaWdodDtcbiAgICB9O1xuICAgIHJldHVybiBCb3VuZGluZ0JveDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBCb3VuZGluZ0JveDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJvdW5kaW5nQm94LmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gcGFja2FnZSBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNy5kZWNvZGVyO1xuLyoqXG4gKiBAYXV0aG9yIEd1ZW50aGVyIEdyYXVcbiAqL1xudmFyIEJhcmNvZGVNZXRhZGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXJjb2RlTWV0YWRhdGEoY29sdW1uQ291bnQsIHJvd0NvdW50VXBwZXJQYXJ0LCByb3dDb3VudExvd2VyUGFydCwgZXJyb3JDb3JyZWN0aW9uTGV2ZWwpIHtcbiAgICAgICAgdGhpcy5jb2x1bW5Db3VudCA9IGNvbHVtbkNvdW50O1xuICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gZXJyb3JDb3JyZWN0aW9uTGV2ZWw7XG4gICAgICAgIHRoaXMucm93Q291bnRVcHBlclBhcnQgPSByb3dDb3VudFVwcGVyUGFydDtcbiAgICAgICAgdGhpcy5yb3dDb3VudExvd2VyUGFydCA9IHJvd0NvdW50TG93ZXJQYXJ0O1xuICAgICAgICB0aGlzLnJvd0NvdW50ID0gcm93Q291bnRVcHBlclBhcnQgKyByb3dDb3VudExvd2VyUGFydDtcbiAgICB9XG4gICAgQmFyY29kZU1ldGFkYXRhLnByb3RvdHlwZS5nZXRDb2x1bW5Db3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1uQ291bnQ7XG4gICAgfTtcbiAgICBCYXJjb2RlTWV0YWRhdGEucHJvdG90eXBlLmdldEVycm9yQ29ycmVjdGlvbkxldmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbDtcbiAgICB9O1xuICAgIEJhcmNvZGVNZXRhZGF0YS5wcm90b3R5cGUuZ2V0Um93Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvd0NvdW50O1xuICAgIH07XG4gICAgQmFyY29kZU1ldGFkYXRhLnByb3RvdHlwZS5nZXRSb3dDb3VudFVwcGVyUGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm93Q291bnRVcHBlclBhcnQ7XG4gICAgfTtcbiAgICBCYXJjb2RlTWV0YWRhdGEucHJvdG90eXBlLmdldFJvd0NvdW50TG93ZXJQYXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3dDb3VudExvd2VyUGFydDtcbiAgICB9O1xuICAgIHJldHVybiBCYXJjb2RlTWV0YWRhdGE7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQmFyY29kZU1ldGFkYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFyY29kZU1ldGFkYXRhLmpzLm1hcCIsIi8qKlxuICogSmF2YSBGb3JtYXR0ZXIgY2xhc3MgcG9seWZpbGwgdGhhdCB3b3JrcyBpbiB0aGUgSlMgd2F5LlxuICovXG52YXIgRm9ybWF0dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZvcm1hdHRlcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSAnJztcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RyXG4gICAgICogQHBhcmFtIGFyclxuICAgICAqL1xuICAgIEZvcm1hdHRlci5mb3JtID0gZnVuY3Rpb24gKHN0ciwgYXJyKSB7XG4gICAgICAgIHZhciBpID0gLTE7XG4gICAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKGV4cCwgcDAsIHAxLCBwMiwgcDMsIHA0KSB7XG4gICAgICAgICAgICBpZiAoZXhwID09PSAnJSUnKVxuICAgICAgICAgICAgICAgIHJldHVybiAnJSc7XG4gICAgICAgICAgICBpZiAoYXJyWysraV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZXhwID0gcDIgPyBwYXJzZUludChwMi5zdWJzdHIoMSkpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgdmFyIGJhc2UgPSBwMyA/IHBhcnNlSW50KHAzLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB2YXIgdmFsO1xuICAgICAgICAgICAgc3dpdGNoIChwNCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcnJbaV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2MnOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcnJbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFycltpXSkudG9GaXhlZChleHApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwJzpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcnJbaV0pLnRvUHJlY2lzaW9uKGV4cCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2UnOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFycltpXSkudG9FeHBvbmVudGlhbChleHApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd4JzpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VJbnQoYXJyW2ldKS50b1N0cmluZyhiYXNlID8gYmFzZSA6IDE2KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlRmxvYXQocGFyc2VJbnQoYXJyW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTtcbiAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi9cbiAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovXG4gICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpXG4gICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZShyZWdleCwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC5cbiAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuXG4gICAgICovXG4gICAgRm9ybWF0dGVyLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoYXBwZW5kKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnVmZmVyICs9IEZvcm1hdHRlci5mb3JtKGFwcGVuZCwgYXJncyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBGb3JtYXR0ZXIgc3RyaW5nIHZhbHVlLlxuICAgICAqL1xuICAgIEZvcm1hdHRlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcjtcbiAgICB9O1xuICAgIHJldHVybiBGb3JtYXR0ZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRm9ybWF0dGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Rm9ybWF0dGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuLy8gcGFja2FnZSBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNy5kZWNvZGVyO1xuLy8gaW1wb3J0IGphdmEudXRpbC5Gb3JtYXR0ZXI7XG5pbXBvcnQgRm9ybWF0dGVyIGZyb20gJy4uLy4uL3V0aWwvRm9ybWF0dGVyJztcbmltcG9ydCBCb3VuZGluZ0JveCBmcm9tICcuL0JvdW5kaW5nQm94Jztcbi8qKlxuICogQGF1dGhvciBHdWVudGhlciBHcmF1XG4gKi9cbnZhciBEZXRlY3Rpb25SZXN1bHRDb2x1bW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGV0ZWN0aW9uUmVzdWx0Q29sdW1uKGJvdW5kaW5nQm94KSB7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgQm91bmRpbmdCb3goYm91bmRpbmdCb3gpO1xuICAgICAgICAvLyB0aGlzLmNvZGV3b3JkcyA9IG5ldyBDb2Rld29yZFtib3VuZGluZ0JveC5nZXRNYXhZKCkgLSBib3VuZGluZ0JveC5nZXRNaW5ZKCkgKyAxXTtcbiAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBuZXcgQXJyYXkoYm91bmRpbmdCb3guZ2V0TWF4WSgpIC0gYm91bmRpbmdCb3guZ2V0TWluWSgpICsgMSk7XG4gICAgfVxuICAgIC8qZmluYWwqLyBEZXRlY3Rpb25SZXN1bHRDb2x1bW4ucHJvdG90eXBlLmdldENvZGV3b3JkTmVhcmJ5ID0gZnVuY3Rpb24gKGltYWdlUm93KSB7XG4gICAgICAgIHZhciBjb2Rld29yZCA9IHRoaXMuZ2V0Q29kZXdvcmQoaW1hZ2VSb3cpO1xuICAgICAgICBpZiAoY29kZXdvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvZGV3b3JkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgRGV0ZWN0aW9uUmVzdWx0Q29sdW1uLk1BWF9ORUFSQllfRElTVEFOQ0U7IGkrKykge1xuICAgICAgICAgICAgdmFyIG5lYXJJbWFnZVJvdyA9IHRoaXMuaW1hZ2VSb3dUb0NvZGV3b3JkSW5kZXgoaW1hZ2VSb3cpIC0gaTtcbiAgICAgICAgICAgIGlmIChuZWFySW1hZ2VSb3cgPj0gMCkge1xuICAgICAgICAgICAgICAgIGNvZGV3b3JkID0gdGhpcy5jb2Rld29yZHNbbmVhckltYWdlUm93XTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZXdvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29kZXdvcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmVhckltYWdlUm93ID0gdGhpcy5pbWFnZVJvd1RvQ29kZXdvcmRJbmRleChpbWFnZVJvdykgKyBpO1xuICAgICAgICAgICAgaWYgKG5lYXJJbWFnZVJvdyA8IHRoaXMuY29kZXdvcmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvZGV3b3JkID0gdGhpcy5jb2Rld29yZHNbbmVhckltYWdlUm93XTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZXdvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29kZXdvcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLypmaW5hbCBpbnQqLyBEZXRlY3Rpb25SZXN1bHRDb2x1bW4ucHJvdG90eXBlLmltYWdlUm93VG9Db2Rld29yZEluZGV4ID0gZnVuY3Rpb24gKGltYWdlUm93KSB7XG4gICAgICAgIHJldHVybiBpbWFnZVJvdyAtIHRoaXMuYm91bmRpbmdCb3guZ2V0TWluWSgpO1xuICAgIH07XG4gICAgLypmaW5hbCB2b2lkKi8gRGV0ZWN0aW9uUmVzdWx0Q29sdW1uLnByb3RvdHlwZS5zZXRDb2Rld29yZCA9IGZ1bmN0aW9uIChpbWFnZVJvdywgY29kZXdvcmQpIHtcbiAgICAgICAgdGhpcy5jb2Rld29yZHNbdGhpcy5pbWFnZVJvd1RvQ29kZXdvcmRJbmRleChpbWFnZVJvdyldID0gY29kZXdvcmQ7XG4gICAgfTtcbiAgICAvKmZpbmFsKi8gRGV0ZWN0aW9uUmVzdWx0Q29sdW1uLnByb3RvdHlwZS5nZXRDb2Rld29yZCA9IGZ1bmN0aW9uIChpbWFnZVJvdykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2Rld29yZHNbdGhpcy5pbWFnZVJvd1RvQ29kZXdvcmRJbmRleChpbWFnZVJvdyldO1xuICAgIH07XG4gICAgLypmaW5hbCovIERldGVjdGlvblJlc3VsdENvbHVtbi5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvdW5kaW5nQm94O1xuICAgIH07XG4gICAgLypmaW5hbCovIERldGVjdGlvblJlc3VsdENvbHVtbi5wcm90b3R5cGUuZ2V0Q29kZXdvcmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2Rld29yZHM7XG4gICAgfTtcbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBEZXRlY3Rpb25SZXN1bHRDb2x1bW4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIGZvcm1hdHRlciA9IG5ldyBGb3JtYXR0ZXIoKTtcbiAgICAgICAgdmFyIHJvdyA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuY29kZXdvcmRzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjb2Rld29yZCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChjb2Rld29yZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlci5mb3JtYXQoJyUzZDogICAgfCAgICVuJywgcm93KyspO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVyLmZvcm1hdCgnJTNkOiAlM2R8JTNkJW4nLCByb3crKywgY29kZXdvcmQuZ2V0Um93TnVtYmVyKCksIGNvZGV3b3JkLmdldFZhbHVlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlci50b1N0cmluZygpO1xuICAgIH07XG4gICAgRGV0ZWN0aW9uUmVzdWx0Q29sdW1uLk1BWF9ORUFSQllfRElTVEFOQ0UgPSA1O1xuICAgIHJldHVybiBEZXRlY3Rpb25SZXN1bHRDb2x1bW47XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgRGV0ZWN0aW9uUmVzdWx0Q29sdW1uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGV0ZWN0aW9uUmVzdWx0Q29sdW1uLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xudmFyIF9fcmVhZCA9ICh0aGlzICYmIHRoaXMuX19yZWFkKSB8fCBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgICBpZiAoIW0pIHJldHVybiBvO1xuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICAgIHRyeSB7XG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gYXI7XG59O1xuLy8gcGFja2FnZSBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNy5kZWNvZGVyO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcucGRmNDE3LlBERjQxN0NvbW1vbjtcbmltcG9ydCBQREY0MTdDb21tb24gZnJvbSAnLi4vUERGNDE3Q29tbW9uJztcbi8vIGltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuLy8gaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uO1xuLy8gaW1wb3J0IGphdmEudXRpbC5IYXNoTWFwO1xuLy8gaW1wb3J0IGphdmEudXRpbC5NYXA7XG4vLyBpbXBvcnQgamF2YS51dGlsLk1hcC5FbnRyeTtcbi8qKlxuICogQGF1dGhvciBHdWVudGhlciBHcmF1XG4gKi9cbnZhciBCYXJjb2RlVmFsdWUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFyY29kZVZhbHVlKCkge1xuICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGFuIG9jY3VycmVuY2Ugb2YgYSB2YWx1ZVxuICAgICAqL1xuICAgIEJhcmNvZGVWYWx1ZS5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLnRydW5jKHZhbHVlKTtcbiAgICAgICAgdmFyIGNvbmZpZGVuY2UgPSB0aGlzLnZhbHVlcy5nZXQodmFsdWUpO1xuICAgICAgICBpZiAoY29uZmlkZW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWRlbmNlID0gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25maWRlbmNlKys7XG4gICAgICAgIHRoaXMudmFsdWVzLnNldCh2YWx1ZSwgY29uZmlkZW5jZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBtYXhpbXVtIG9jY3VycmVuY2Ugb2YgYSBzZXQgdmFsdWUgYW5kIHJldHVybnMgYWxsIHZhbHVlcyB3aGljaCB3ZXJlIHNldCB3aXRoIHRoaXMgb2NjdXJyZW5jZS5cbiAgICAgKiBAcmV0dXJuIGFuIGFycmF5IG9mIGludCwgY29udGFpbmluZyB0aGUgdmFsdWVzIHdpdGggdGhlIGhpZ2hlc3Qgb2NjdXJyZW5jZSwgb3IgbnVsbCwgaWYgbm8gdmFsdWUgd2FzIHNldFxuICAgICAqL1xuICAgIEJhcmNvZGVWYWx1ZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgbWF4Q29uZmlkZW5jZSA9IC0xO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBnZXRLZXk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGtleTsgfSxcbiAgICAgICAgICAgICAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGVudHJ5LmdldFZhbHVlKCkgPiBtYXhDb25maWRlbmNlKSB7XG4gICAgICAgICAgICAgICAgbWF4Q29uZmlkZW5jZSA9IGVudHJ5LmdldFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZW50cnkuZ2V0S2V5KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW50cnkuZ2V0VmFsdWUoKSA9PT0gbWF4Q29uZmlkZW5jZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGVudHJ5LmdldEtleSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy52YWx1ZXMuZW50cmllcygpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBfZCA9IF9fcmVhZChfYy52YWx1ZSwgMiksIGtleSA9IF9kWzBdLCB2YWx1ZSA9IF9kWzFdO1xuICAgICAgICAgICAgICAgIF9sb29wXzEoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUERGNDE3Q29tbW9uLnRvSW50QXJyYXkocmVzdWx0KTtcbiAgICB9O1xuICAgIEJhcmNvZGVWYWx1ZS5wcm90b3R5cGUuZ2V0Q29uZmlkZW5jZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMuZ2V0KHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXJjb2RlVmFsdWU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgQmFyY29kZVZhbHVlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFyY29kZVZhbHVlLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5wZGY0MTcuUERGNDE3Q29tbW9uO1xuaW1wb3J0IFBERjQxN0NvbW1vbiBmcm9tICcuLi9QREY0MTdDb21tb24nO1xuaW1wb3J0IEJhcmNvZGVNZXRhZGF0YSBmcm9tICcuL0JhcmNvZGVNZXRhZGF0YSc7XG5pbXBvcnQgRGV0ZWN0aW9uUmVzdWx0Q29sdW1uIGZyb20gJy4vRGV0ZWN0aW9uUmVzdWx0Q29sdW1uJztcbmltcG9ydCBCYXJjb2RlVmFsdWUgZnJvbSAnLi9CYXJjb2RlVmFsdWUnO1xuLyoqXG4gKiBAYXV0aG9yIEd1ZW50aGVyIEdyYXVcbiAqL1xudmFyIERldGVjdGlvblJlc3VsdFJvd0luZGljYXRvckNvbHVtbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGV0ZWN0aW9uUmVzdWx0Um93SW5kaWNhdG9yQ29sdW1uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERldGVjdGlvblJlc3VsdFJvd0luZGljYXRvckNvbHVtbihib3VuZGluZ0JveCwgaXNMZWZ0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGJvdW5kaW5nQm94KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5faXNMZWZ0ID0gaXNMZWZ0O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIERldGVjdGlvblJlc3VsdFJvd0luZGljYXRvckNvbHVtbi5wcm90b3R5cGUuc2V0Um93TnVtYmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuZ2V0Q29kZXdvcmRzKCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkID0gX2MudmFsdWUgLypDb2Rld29yZCovO1xuICAgICAgICAgICAgICAgIGlmIChjb2Rld29yZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGV3b3JkLnNldFJvd051bWJlckFzUm93SW5kaWNhdG9yQ29sdW1uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFRPRE8gaW1wbGVtZW50IHByb3Blcmx5XG4gICAgLy8gVE9ETyBtYXliZSB3ZSBzaG91bGQgYWRkIG1pc3NpbmcgY29kZXdvcmRzIHRvIHN0b3JlIHRoZSBjb3JyZWN0IHJvdyBudW1iZXIgdG8gbWFrZVxuICAgIC8vIGZpbmRpbmcgcm93IG51bWJlcnMgZm9yIG90aGVyIGNvbHVtbnMgZWFzaWVyXG4gICAgLy8gdXNlIHJvdyBoZWlnaHQgY291bnQgdG8gbWFrZSBkZXRlY3Rpb24gb2YgaW52YWxpZCByb3cgbnVtYmVycyBtb3JlIHJlbGlhYmxlXG4gICAgRGV0ZWN0aW9uUmVzdWx0Um93SW5kaWNhdG9yQ29sdW1uLnByb3RvdHlwZS5hZGp1c3RDb21wbGV0ZUluZGljYXRvckNvbHVtblJvd051bWJlcnMgPSBmdW5jdGlvbiAoYmFyY29kZU1ldGFkYXRhKSB7XG4gICAgICAgIHZhciBjb2Rld29yZHMgPSB0aGlzLmdldENvZGV3b3JkcygpO1xuICAgICAgICB0aGlzLnNldFJvd051bWJlcnMoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVJbmNvcnJlY3RDb2Rld29yZHMoY29kZXdvcmRzLCBiYXJjb2RlTWV0YWRhdGEpO1xuICAgICAgICB2YXIgYm91bmRpbmdCb3ggPSB0aGlzLmdldEJvdW5kaW5nQm94KCk7XG4gICAgICAgIHZhciB0b3AgPSB0aGlzLl9pc0xlZnQgPyBib3VuZGluZ0JveC5nZXRUb3BMZWZ0KCkgOiBib3VuZGluZ0JveC5nZXRUb3BSaWdodCgpO1xuICAgICAgICB2YXIgYm90dG9tID0gdGhpcy5faXNMZWZ0ID8gYm91bmRpbmdCb3guZ2V0Qm90dG9tTGVmdCgpIDogYm91bmRpbmdCb3guZ2V0Qm90dG9tUmlnaHQoKTtcbiAgICAgICAgdmFyIGZpcnN0Um93ID0gdGhpcy5pbWFnZVJvd1RvQ29kZXdvcmRJbmRleChNYXRoLnRydW5jKHRvcC5nZXRZKCkpKTtcbiAgICAgICAgdmFyIGxhc3RSb3cgPSB0aGlzLmltYWdlUm93VG9Db2Rld29yZEluZGV4KE1hdGgudHJ1bmMoYm90dG9tLmdldFkoKSkpO1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGJlIGNhcmVmdWwgdXNpbmcgdGhlIGF2ZXJhZ2Ugcm93IGhlaWdodC4gQmFyY29kZSBjb3VsZCBiZSBza2V3ZWQgc28gdGhhdCB3ZSBoYXZlIHNtYWxsZXIgYW5kXG4gICAgICAgIC8vIHRhbGxlciByb3dzXG4gICAgICAgIC8vIGZsb2F0IGF2ZXJhZ2VSb3dIZWlnaHQgPSAobGFzdFJvdyAtIGZpcnN0Um93KSAvIC8qKGZsb2F0KSovIGJhcmNvZGVNZXRhZGF0YS5nZXRSb3dDb3VudCgpO1xuICAgICAgICB2YXIgYmFyY29kZVJvdyA9IC0xO1xuICAgICAgICB2YXIgbWF4Um93SGVpZ2h0ID0gMTtcbiAgICAgICAgdmFyIGN1cnJlbnRSb3dIZWlnaHQgPSAwO1xuICAgICAgICBmb3IgKHZhciBjb2Rld29yZHNSb3cgLyppbnQqLyA9IGZpcnN0Um93OyBjb2Rld29yZHNSb3cgPCBsYXN0Um93OyBjb2Rld29yZHNSb3crKykge1xuICAgICAgICAgICAgaWYgKGNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb2Rld29yZCA9IGNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddO1xuICAgICAgICAgICAgLy8gICAgICBmbG9hdCBleHBlY3RlZFJvd051bWJlciA9IChjb2Rld29yZHNSb3cgLSBmaXJzdFJvdykgLyBhdmVyYWdlUm93SGVpZ2h0O1xuICAgICAgICAgICAgLy8gICAgICBpZiAoTWF0aC5hYnMoY29kZXdvcmQuZ2V0Um93TnVtYmVyKCkgLSBleHBlY3RlZFJvd051bWJlcikgPiAyKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgU2ltcGxlTG9nLmxvZyhMRVZFTC5XQVJOSU5HLFxuICAgICAgICAgICAgLy8gICAgICAgICAgICBcIlJlbW92aW5nIGNvZGV3b3JkLCByb3dOdW1iZXJTa2V3IHRvbyBoaWdoLCBjb2Rld29yZFtcIiArIGNvZGV3b3Jkc1JvdyArIFwiXTogRXhwZWN0ZWQgUm93OiBcIiArXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICBleHBlY3RlZFJvd051bWJlciArIFwiLCBSZWFsUm93OiBcIiArIGNvZGV3b3JkLmdldFJvd051bWJlcigpICsgXCIsIHZhbHVlOiBcIiArIGNvZGV3b3JkLmdldFZhbHVlKCkpO1xuICAgICAgICAgICAgLy8gICAgICAgIGNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddID0gbnVsbDtcbiAgICAgICAgICAgIC8vICAgICAgfVxuICAgICAgICAgICAgdmFyIHJvd0RpZmZlcmVuY2UgPSBjb2Rld29yZC5nZXRSb3dOdW1iZXIoKSAtIGJhcmNvZGVSb3c7XG4gICAgICAgICAgICAvLyBUT0RPIGltcHJvdmUgaGFuZGxpbmcgd2l0aCBjYXNlIHdoZXJlIGZpcnN0IHJvdyBpbmRpY2F0b3IgZG9lc24ndCBzdGFydCB3aXRoIDBcbiAgICAgICAgICAgIGlmIChyb3dEaWZmZXJlbmNlID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFJvd0hlaWdodCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocm93RGlmZmVyZW5jZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIG1heFJvd0hlaWdodCA9IE1hdGgubWF4KG1heFJvd0hlaWdodCwgY3VycmVudFJvd0hlaWdodCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFJvd0hlaWdodCA9IDE7XG4gICAgICAgICAgICAgICAgYmFyY29kZVJvdyA9IGNvZGV3b3JkLmdldFJvd051bWJlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocm93RGlmZmVyZW5jZSA8IDAgfHxcbiAgICAgICAgICAgICAgICBjb2Rld29yZC5nZXRSb3dOdW1iZXIoKSA+PSBiYXJjb2RlTWV0YWRhdGEuZ2V0Um93Q291bnQoKSB8fFxuICAgICAgICAgICAgICAgIHJvd0RpZmZlcmVuY2UgPiBjb2Rld29yZHNSb3cpIHtcbiAgICAgICAgICAgICAgICBjb2Rld29yZHNbY29kZXdvcmRzUm93XSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlZFJvd3MgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKG1heFJvd0hlaWdodCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZFJvd3MgPSAobWF4Um93SGVpZ2h0IC0gMikgKiByb3dEaWZmZXJlbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZFJvd3MgPSByb3dEaWZmZXJlbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2xvc2VQcmV2aW91c0NvZGV3b3JkRm91bmQgPSBjaGVja2VkUm93cyA+PSBjb2Rld29yZHNSb3c7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMTsgaSA8PSBjaGVja2VkUm93cyAmJiAhY2xvc2VQcmV2aW91c0NvZGV3b3JkRm91bmQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBtdXN0IGJlIChoZWlnaHQgKiByb3dEaWZmZXJlbmNlKSBudW1iZXIgb2YgY29kZXdvcmRzIG1pc3NpbmcuIEZvciBub3cgd2UgYXNzdW1lIGhlaWdodCA9IDEuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2hvdWxkIGhvcGVmdWxseSBnZXQgcmlkIG9mIG1vc3QgcHJvYmxlbXMgYWxyZWFkeS5cbiAgICAgICAgICAgICAgICAgICAgY2xvc2VQcmV2aW91c0NvZGV3b3JkRm91bmQgPSBjb2Rld29yZHNbY29kZXdvcmRzUm93IC0gaV0gIT0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlUHJldmlvdXNDb2Rld29yZEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhcmNvZGVSb3cgPSBjb2Rld29yZC5nZXRSb3dOdW1iZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFJvd0hlaWdodCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJldHVybiAoaW50KSAoYXZlcmFnZVJvd0hlaWdodCArIDAuNSk7XG4gICAgfTtcbiAgICBEZXRlY3Rpb25SZXN1bHRSb3dJbmRpY2F0b3JDb2x1bW4ucHJvdG90eXBlLmdldFJvd0hlaWdodHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzIsIF9hO1xuICAgICAgICB2YXIgYmFyY29kZU1ldGFkYXRhID0gdGhpcy5nZXRCYXJjb2RlTWV0YWRhdGEoKTtcbiAgICAgICAgaWYgKGJhcmNvZGVNZXRhZGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkanVzdEluY29tcGxldGVJbmRpY2F0b3JDb2x1bW5Sb3dOdW1iZXJzKGJhcmNvZGVNZXRhZGF0YSk7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShiYXJjb2RlTWV0YWRhdGEuZ2V0Um93Q291bnQoKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuZ2V0Q29kZXdvcmRzKCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkID0gX2MudmFsdWUgLypDb2Rld29yZCovO1xuICAgICAgICAgICAgICAgIGlmIChjb2Rld29yZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dOdW1iZXIgPSBjb2Rld29yZC5nZXRSb3dOdW1iZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd051bWJlciA+PSByZXN1bHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIG1vcmUgcm93cyB0aGFuIHRoZSBiYXJjb2RlIG1ldGFkYXRhIGFsbG93cyBmb3IsIGlnbm9yZSB0aGVtLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Jvd051bWJlcl0rKztcbiAgICAgICAgICAgICAgICB9IC8vIGVsc2UgdGhyb3cgZXhjZXB0aW9uP1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8vIFRPRE8gbWF5YmUgd2Ugc2hvdWxkIGFkZCBtaXNzaW5nIGNvZGV3b3JkcyB0byBzdG9yZSB0aGUgY29ycmVjdCByb3cgbnVtYmVyIHRvIG1ha2VcbiAgICAvLyBmaW5kaW5nIHJvdyBudW1iZXJzIGZvciBvdGhlciBjb2x1bW5zIGVhc2llclxuICAgIC8vIHVzZSByb3cgaGVpZ2h0IGNvdW50IHRvIG1ha2UgZGV0ZWN0aW9uIG9mIGludmFsaWQgcm93IG51bWJlcnMgbW9yZSByZWxpYWJsZVxuICAgIERldGVjdGlvblJlc3VsdFJvd0luZGljYXRvckNvbHVtbi5wcm90b3R5cGUuYWRqdXN0SW5jb21wbGV0ZUluZGljYXRvckNvbHVtblJvd051bWJlcnMgPSBmdW5jdGlvbiAoYmFyY29kZU1ldGFkYXRhKSB7XG4gICAgICAgIHZhciBib3VuZGluZ0JveCA9IHRoaXMuZ2V0Qm91bmRpbmdCb3goKTtcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuX2lzTGVmdCA/IGJvdW5kaW5nQm94LmdldFRvcExlZnQoKSA6IGJvdW5kaW5nQm94LmdldFRvcFJpZ2h0KCk7XG4gICAgICAgIHZhciBib3R0b20gPSB0aGlzLl9pc0xlZnQgPyBib3VuZGluZ0JveC5nZXRCb3R0b21MZWZ0KCkgOiBib3VuZGluZ0JveC5nZXRCb3R0b21SaWdodCgpO1xuICAgICAgICB2YXIgZmlyc3RSb3cgPSB0aGlzLmltYWdlUm93VG9Db2Rld29yZEluZGV4KE1hdGgudHJ1bmModG9wLmdldFkoKSkpO1xuICAgICAgICB2YXIgbGFzdFJvdyA9IHRoaXMuaW1hZ2VSb3dUb0NvZGV3b3JkSW5kZXgoTWF0aC50cnVuYyhib3R0b20uZ2V0WSgpKSk7XG4gICAgICAgIC8vIGZsb2F0IGF2ZXJhZ2VSb3dIZWlnaHQgPSAobGFzdFJvdyAtIGZpcnN0Um93KSAvIC8qKGZsb2F0KSovIGJhcmNvZGVNZXRhZGF0YS5nZXRSb3dDb3VudCgpO1xuICAgICAgICB2YXIgY29kZXdvcmRzID0gdGhpcy5nZXRDb2Rld29yZHMoKTtcbiAgICAgICAgdmFyIGJhcmNvZGVSb3cgPSAtMTtcbiAgICAgICAgdmFyIG1heFJvd0hlaWdodCA9IDE7XG4gICAgICAgIHZhciBjdXJyZW50Um93SGVpZ2h0ID0gMDtcbiAgICAgICAgZm9yICh2YXIgY29kZXdvcmRzUm93IC8qaW50Ki8gPSBmaXJzdFJvdzsgY29kZXdvcmRzUm93IDwgbGFzdFJvdzsgY29kZXdvcmRzUm93KyspIHtcbiAgICAgICAgICAgIGlmIChjb2Rld29yZHNbY29kZXdvcmRzUm93XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY29kZXdvcmQgPSBjb2Rld29yZHNbY29kZXdvcmRzUm93XTtcbiAgICAgICAgICAgIGNvZGV3b3JkLnNldFJvd051bWJlckFzUm93SW5kaWNhdG9yQ29sdW1uKCk7XG4gICAgICAgICAgICB2YXIgcm93RGlmZmVyZW5jZSA9IGNvZGV3b3JkLmdldFJvd051bWJlcigpIC0gYmFyY29kZVJvdztcbiAgICAgICAgICAgIC8vIFRPRE8gaW1wcm92ZSBoYW5kbGluZyB3aXRoIGNhc2Ugd2hlcmUgZmlyc3Qgcm93IGluZGljYXRvciBkb2Vzbid0IHN0YXJ0IHdpdGggMFxuICAgICAgICAgICAgaWYgKHJvd0RpZmZlcmVuY2UgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Um93SGVpZ2h0Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyb3dEaWZmZXJlbmNlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbWF4Um93SGVpZ2h0ID0gTWF0aC5tYXgobWF4Um93SGVpZ2h0LCBjdXJyZW50Um93SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Um93SGVpZ2h0ID0gMTtcbiAgICAgICAgICAgICAgICBiYXJjb2RlUm93ID0gY29kZXdvcmQuZ2V0Um93TnVtYmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb2Rld29yZC5nZXRSb3dOdW1iZXIoKSA+PSBiYXJjb2RlTWV0YWRhdGEuZ2V0Um93Q291bnQoKSkge1xuICAgICAgICAgICAgICAgIGNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJhcmNvZGVSb3cgPSBjb2Rld29yZC5nZXRSb3dOdW1iZXIoKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50Um93SGVpZ2h0ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm4gKGludCkgKGF2ZXJhZ2VSb3dIZWlnaHQgKyAwLjUpO1xuICAgIH07XG4gICAgRGV0ZWN0aW9uUmVzdWx0Um93SW5kaWNhdG9yQ29sdW1uLnByb3RvdHlwZS5nZXRCYXJjb2RlTWV0YWRhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzMsIF9hO1xuICAgICAgICB2YXIgY29kZXdvcmRzID0gdGhpcy5nZXRDb2Rld29yZHMoKTtcbiAgICAgICAgdmFyIGJhcmNvZGVDb2x1bW5Db3VudCA9IG5ldyBCYXJjb2RlVmFsdWUoKTtcbiAgICAgICAgdmFyIGJhcmNvZGVSb3dDb3VudFVwcGVyUGFydCA9IG5ldyBCYXJjb2RlVmFsdWUoKTtcbiAgICAgICAgdmFyIGJhcmNvZGVSb3dDb3VudExvd2VyUGFydCA9IG5ldyBCYXJjb2RlVmFsdWUoKTtcbiAgICAgICAgdmFyIGJhcmNvZGVFQ0xldmVsID0gbmV3IEJhcmNvZGVWYWx1ZSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgY29kZXdvcmRzXzEgPSBfX3ZhbHVlcyhjb2Rld29yZHMpLCBjb2Rld29yZHNfMV8xID0gY29kZXdvcmRzXzEubmV4dCgpOyAhY29kZXdvcmRzXzFfMS5kb25lOyBjb2Rld29yZHNfMV8xID0gY29kZXdvcmRzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkID0gY29kZXdvcmRzXzFfMS52YWx1ZSAvKkNvZGV3b3JkKi87XG4gICAgICAgICAgICAgICAgaWYgKGNvZGV3b3JkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvZGV3b3JkLnNldFJvd051bWJlckFzUm93SW5kaWNhdG9yQ29sdW1uKCk7XG4gICAgICAgICAgICAgICAgdmFyIHJvd0luZGljYXRvclZhbHVlID0gY29kZXdvcmQuZ2V0VmFsdWUoKSAlIDMwO1xuICAgICAgICAgICAgICAgIHZhciBjb2Rld29yZFJvd051bWJlciA9IGNvZGV3b3JkLmdldFJvd051bWJlcigpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNMZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGV3b3JkUm93TnVtYmVyICs9IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoY29kZXdvcmRSb3dOdW1iZXIgJSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhcmNvZGVSb3dDb3VudFVwcGVyUGFydC5zZXRWYWx1ZShyb3dJbmRpY2F0b3JWYWx1ZSAqIDMgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXJjb2RlRUNMZXZlbC5zZXRWYWx1ZShyb3dJbmRpY2F0b3JWYWx1ZSAvIDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFyY29kZVJvd0NvdW50TG93ZXJQYXJ0LnNldFZhbHVlKHJvd0luZGljYXRvclZhbHVlICUgMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgYmFyY29kZUNvbHVtbkNvdW50LnNldFZhbHVlKHJvd0luZGljYXRvclZhbHVlICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfM18xKSB7IGVfMyA9IHsgZXJyb3I6IGVfM18xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChjb2Rld29yZHNfMV8xICYmICFjb2Rld29yZHNfMV8xLmRvbmUgJiYgKF9hID0gY29kZXdvcmRzXzEucmV0dXJuKSkgX2EuY2FsbChjb2Rld29yZHNfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWF5YmUgd2Ugc2hvdWxkIGNoZWNrIGlmIHdlIGhhdmUgYW1iaWd1b3VzIHZhbHVlcz9cbiAgICAgICAgaWYgKChiYXJjb2RlQ29sdW1uQ291bnQuZ2V0VmFsdWUoKS5sZW5ndGggPT09IDApIHx8XG4gICAgICAgICAgICAoYmFyY29kZVJvd0NvdW50VXBwZXJQYXJ0LmdldFZhbHVlKCkubGVuZ3RoID09PSAwKSB8fFxuICAgICAgICAgICAgKGJhcmNvZGVSb3dDb3VudExvd2VyUGFydC5nZXRWYWx1ZSgpLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgIChiYXJjb2RlRUNMZXZlbC5nZXRWYWx1ZSgpLmxlbmd0aCA9PT0gMCkgfHxcbiAgICAgICAgICAgIGJhcmNvZGVDb2x1bW5Db3VudC5nZXRWYWx1ZSgpWzBdIDwgMSB8fFxuICAgICAgICAgICAgYmFyY29kZVJvd0NvdW50VXBwZXJQYXJ0LmdldFZhbHVlKClbMF0gKyBiYXJjb2RlUm93Q291bnRMb3dlclBhcnQuZ2V0VmFsdWUoKVswXSA8IFBERjQxN0NvbW1vbi5NSU5fUk9XU19JTl9CQVJDT0RFIHx8XG4gICAgICAgICAgICBiYXJjb2RlUm93Q291bnRVcHBlclBhcnQuZ2V0VmFsdWUoKVswXSArIGJhcmNvZGVSb3dDb3VudExvd2VyUGFydC5nZXRWYWx1ZSgpWzBdID4gUERGNDE3Q29tbW9uLk1BWF9ST1dTX0lOX0JBUkNPREUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXJjb2RlTWV0YWRhdGEgPSBuZXcgQmFyY29kZU1ldGFkYXRhKGJhcmNvZGVDb2x1bW5Db3VudC5nZXRWYWx1ZSgpWzBdLCBiYXJjb2RlUm93Q291bnRVcHBlclBhcnQuZ2V0VmFsdWUoKVswXSwgYmFyY29kZVJvd0NvdW50TG93ZXJQYXJ0LmdldFZhbHVlKClbMF0sIGJhcmNvZGVFQ0xldmVsLmdldFZhbHVlKClbMF0pO1xuICAgICAgICB0aGlzLnJlbW92ZUluY29ycmVjdENvZGV3b3Jkcyhjb2Rld29yZHMsIGJhcmNvZGVNZXRhZGF0YSk7XG4gICAgICAgIHJldHVybiBiYXJjb2RlTWV0YWRhdGE7XG4gICAgfTtcbiAgICBEZXRlY3Rpb25SZXN1bHRSb3dJbmRpY2F0b3JDb2x1bW4ucHJvdG90eXBlLnJlbW92ZUluY29ycmVjdENvZGV3b3JkcyA9IGZ1bmN0aW9uIChjb2Rld29yZHMsIGJhcmNvZGVNZXRhZGF0YSkge1xuICAgICAgICAvLyBSZW1vdmUgY29kZXdvcmRzIHdoaWNoIGRvIG5vdCBtYXRjaCB0aGUgbWV0YWRhdGFcbiAgICAgICAgLy8gVE9ETyBNYXliZSB3ZSBzaG91bGQga2VlcCB0aGUgaW5jb3JyZWN0IGNvZGV3b3JkcyBmb3IgdGhlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zP1xuICAgICAgICBmb3IgKHZhciBjb2Rld29yZFJvdyAvKmludCovID0gMDsgY29kZXdvcmRSb3cgPCBjb2Rld29yZHMubGVuZ3RoOyBjb2Rld29yZFJvdysrKSB7XG4gICAgICAgICAgICB2YXIgY29kZXdvcmQgPSBjb2Rld29yZHNbY29kZXdvcmRSb3ddO1xuICAgICAgICAgICAgaWYgKGNvZGV3b3Jkc1tjb2Rld29yZFJvd10gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJvd0luZGljYXRvclZhbHVlID0gY29kZXdvcmQuZ2V0VmFsdWUoKSAlIDMwO1xuICAgICAgICAgICAgdmFyIGNvZGV3b3JkUm93TnVtYmVyID0gY29kZXdvcmQuZ2V0Um93TnVtYmVyKCk7XG4gICAgICAgICAgICBpZiAoY29kZXdvcmRSb3dOdW1iZXIgPiBiYXJjb2RlTWV0YWRhdGEuZ2V0Um93Q291bnQoKSkge1xuICAgICAgICAgICAgICAgIGNvZGV3b3Jkc1tjb2Rld29yZFJvd10gPSBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0xlZnQpIHtcbiAgICAgICAgICAgICAgICBjb2Rld29yZFJvd051bWJlciArPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChjb2Rld29yZFJvd051bWJlciAlIDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dJbmRpY2F0b3JWYWx1ZSAqIDMgKyAxICE9PSBiYXJjb2RlTWV0YWRhdGEuZ2V0Um93Q291bnRVcHBlclBhcnQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZXdvcmRzW2NvZGV3b3JkUm93XSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC50cnVuYyhyb3dJbmRpY2F0b3JWYWx1ZSAvIDMpICE9PSBiYXJjb2RlTWV0YWRhdGEuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93SW5kaWNhdG9yVmFsdWUgJSAzICE9PSBiYXJjb2RlTWV0YWRhdGEuZ2V0Um93Q291bnRMb3dlclBhcnQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZXdvcmRzW2NvZGV3b3JkUm93XSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAocm93SW5kaWNhdG9yVmFsdWUgKyAxICE9PSBiYXJjb2RlTWV0YWRhdGEuZ2V0Q29sdW1uQ291bnQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZXdvcmRzW2NvZGV3b3JkUm93XSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERldGVjdGlvblJlc3VsdFJvd0luZGljYXRvckNvbHVtbi5wcm90b3R5cGUuaXNMZWZ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNMZWZ0O1xuICAgIH07XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgRGV0ZWN0aW9uUmVzdWx0Um93SW5kaWNhdG9yQ29sdW1uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdJc0xlZnQ6ICcgKyB0aGlzLl9pc0xlZnQgKyAnXFxuJyArIF9zdXBlci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBEZXRlY3Rpb25SZXN1bHRSb3dJbmRpY2F0b3JDb2x1bW47XG59KERldGVjdGlvblJlc3VsdENvbHVtbikpO1xuZXhwb3J0IGRlZmF1bHQgRGV0ZWN0aW9uUmVzdWx0Um93SW5kaWNhdG9yQ29sdW1uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGV0ZWN0aW9uUmVzdWx0Um93SW5kaWNhdG9yQ29sdW1uLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuLy8gcGFja2FnZSBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNy5kZWNvZGVyO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcucGRmNDE3LlBERjQxN0NvbW1vbjtcbmltcG9ydCBQREY0MTdDb21tb24gZnJvbSAnLi4vUERGNDE3Q29tbW9uJztcbmltcG9ydCBGb3JtYXR0ZXIgZnJvbSAnLi4vLi4vdXRpbC9Gb3JtYXR0ZXInO1xuLyoqXG4gKiBAYXV0aG9yIEd1ZW50aGVyIEdyYXVcbiAqL1xudmFyIERldGVjdGlvblJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZXRlY3Rpb25SZXN1bHQoYmFyY29kZU1ldGFkYXRhLCBib3VuZGluZ0JveCkge1xuICAgICAgICAvKmZpbmFsKi8gdGhpcy5BREpVU1RfUk9XX05VTUJFUl9TS0lQID0gMjtcbiAgICAgICAgdGhpcy5iYXJjb2RlTWV0YWRhdGEgPSBiYXJjb2RlTWV0YWRhdGE7XG4gICAgICAgIHRoaXMuYmFyY29kZUNvbHVtbkNvdW50ID0gYmFyY29kZU1ldGFkYXRhLmdldENvbHVtbkNvdW50KCk7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBib3VuZGluZ0JveDtcbiAgICAgICAgLy8gdGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zID0gbmV3IERldGVjdGlvblJlc3VsdENvbHVtblt0aGlzLmJhcmNvZGVDb2x1bW5Db3VudCArIDJdO1xuICAgICAgICB0aGlzLmRldGVjdGlvblJlc3VsdENvbHVtbnMgPSBuZXcgQXJyYXkodGhpcy5iYXJjb2RlQ29sdW1uQ291bnQgKyAyKTtcbiAgICB9XG4gICAgRGV0ZWN0aW9uUmVzdWx0LnByb3RvdHlwZS5nZXREZXRlY3Rpb25SZXN1bHRDb2x1bW5zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkanVzdEluZGljYXRvckNvbHVtblJvd051bWJlcnModGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zWzBdKTtcbiAgICAgICAgdGhpcy5hZGp1c3RJbmRpY2F0b3JDb2x1bW5Sb3dOdW1iZXJzKHRoaXMuZGV0ZWN0aW9uUmVzdWx0Q29sdW1uc1t0aGlzLmJhcmNvZGVDb2x1bW5Db3VudCArIDFdKTtcbiAgICAgICAgdmFyIHVuYWRqdXN0ZWRDb2Rld29yZENvdW50ID0gUERGNDE3Q29tbW9uLk1BWF9DT0RFV09SRFNfSU5fQkFSQ09ERTtcbiAgICAgICAgdmFyIHByZXZpb3VzVW5hZGp1c3RlZENvdW50O1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBwcmV2aW91c1VuYWRqdXN0ZWRDb3VudCA9IHVuYWRqdXN0ZWRDb2Rld29yZENvdW50O1xuICAgICAgICAgICAgdW5hZGp1c3RlZENvZGV3b3JkQ291bnQgPSB0aGlzLmFkanVzdFJvd051bWJlcnNBbmRHZXRDb3VudCgpO1xuICAgICAgICB9IHdoaWxlICh1bmFkanVzdGVkQ29kZXdvcmRDb3VudCA+IDAgJiYgdW5hZGp1c3RlZENvZGV3b3JkQ291bnQgPCBwcmV2aW91c1VuYWRqdXN0ZWRDb3VudCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRldGVjdGlvblJlc3VsdENvbHVtbnM7XG4gICAgfTtcbiAgICBEZXRlY3Rpb25SZXN1bHQucHJvdG90eXBlLmFkanVzdEluZGljYXRvckNvbHVtblJvd051bWJlcnMgPSBmdW5jdGlvbiAoZGV0ZWN0aW9uUmVzdWx0Q29sdW1uKSB7XG4gICAgICAgIGlmIChkZXRlY3Rpb25SZXN1bHRDb2x1bW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgZGV0ZWN0aW9uUmVzdWx0Q29sdW1uXG4gICAgICAgICAgICAgICAgLmFkanVzdENvbXBsZXRlSW5kaWNhdG9yQ29sdW1uUm93TnVtYmVycyh0aGlzLmJhcmNvZGVNZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFRPRE8gZW5zdXJlIHRoYXQgbm8gZGV0ZWN0ZWQgY29kZXdvcmRzIHdpdGggdW5rbm93biByb3cgbnVtYmVyIGFyZSBsZWZ0XG4gICAgLy8gd2Ugc2hvdWxkIGJlIGFibGUgdG8gZXN0aW1hdGUgdGhlIHJvdyBoZWlnaHQgYW5kIHVzZSBpdCBhcyBhIGhpbnQgZm9yIHRoZSByb3cgbnVtYmVyXG4gICAgLy8gd2Ugc2hvdWxkIGFsc28gZmlsbCB0aGUgcm93cyB0b3AgdG8gYm90dG9tIGFuZCBib3R0b20gdG8gdG9wXG4gICAgLyoqXG4gICAgICogQHJldHVybiBudW1iZXIgb2YgY29kZXdvcmRzIHdoaWNoIGRvbid0IGhhdmUgYSB2YWxpZCByb3cgbnVtYmVyLiBOb3RlIHRoYXQgdGhlIGNvdW50IGlzIG5vdCBhY2N1cmF0ZSBhcyBjb2Rld29yZHNcbiAgICAgKiB3aWxsIGJlIGNvdW50ZWQgc2V2ZXJhbCB0aW1lcy4gSXQganVzdCBzZXJ2ZXMgYXMgYW4gaW5kaWNhdG9yIHRvIHNlZSB3aGVuIHdlIGNhbiBzdG9wIGFkanVzdGluZyByb3cgbnVtYmVyc1xuICAgICAqL1xuICAgIERldGVjdGlvblJlc3VsdC5wcm90b3R5cGUuYWRqdXN0Um93TnVtYmVyc0FuZEdldENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdW5hZGp1c3RlZENvdW50ID0gdGhpcy5hZGp1c3RSb3dOdW1iZXJzQnlSb3coKTtcbiAgICAgICAgaWYgKHVuYWRqdXN0ZWRDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgYmFyY29kZUNvbHVtbiAvKmludCovID0gMTsgYmFyY29kZUNvbHVtbiA8IHRoaXMuYmFyY29kZUNvbHVtbkNvdW50ICsgMTsgYmFyY29kZUNvbHVtbisrKSB7XG4gICAgICAgICAgICB2YXIgY29kZXdvcmRzID0gdGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zW2JhcmNvZGVDb2x1bW5dLmdldENvZGV3b3JkcygpO1xuICAgICAgICAgICAgZm9yICh2YXIgY29kZXdvcmRzUm93IC8qaW50Ki8gPSAwOyBjb2Rld29yZHNSb3cgPCBjb2Rld29yZHMubGVuZ3RoOyBjb2Rld29yZHNSb3crKykge1xuICAgICAgICAgICAgICAgIGlmIChjb2Rld29yZHNbY29kZXdvcmRzUm93XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddLmhhc1ZhbGlkUm93TnVtYmVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RSb3dOdW1iZXJzKGJhcmNvZGVDb2x1bW4sIGNvZGV3b3Jkc1JvdywgY29kZXdvcmRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuYWRqdXN0ZWRDb3VudDtcbiAgICB9O1xuICAgIERldGVjdGlvblJlc3VsdC5wcm90b3R5cGUuYWRqdXN0Um93TnVtYmVyc0J5Um93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFkanVzdFJvd051bWJlcnNGcm9tQm90aFJJKCk7XG4gICAgICAgIC8vIFRPRE8gd2Ugc2hvdWxkIG9ubHkgZG8gZnVsbCByb3cgYWRqdXN0bWVudHMgaWYgcm93IG51bWJlcnMgb2YgbGVmdCBhbmQgcmlnaHQgcm93IGluZGljYXRvciBjb2x1bW4gbWF0Y2guXG4gICAgICAgIC8vIE1heWJlIGl0J3MgZXZlbiBiZXR0ZXIgdG8gY2FsY3VsYXRlZCB0aGUgaGVpZ2h0IChyb3dzOiBkKSBhbmQgZGl2aWRlIGl0IGJ5IHRoZSBudW1iZXIgb2YgYmFyY29kZVxuICAgICAgICAvLyByb3dzLiBUaGlzLCB0b2dldGhlciB3aXRoIHRoZSBMUkkgYW5kIFJSSSByb3cgbnVtYmVycyBzaG91bGQgYWxsb3cgdXMgdG8gZ2V0IGEgZ29vZCBlc3RpbWF0ZSB3aGVyZSBhIHJvd1xuICAgICAgICAvLyBudW1iZXIgc3RhcnRzIGFuZCBlbmRzLlxuICAgICAgICB2YXIgdW5hZGp1c3RlZENvdW50ID0gdGhpcy5hZGp1c3RSb3dOdW1iZXJzRnJvbUxSSSgpO1xuICAgICAgICByZXR1cm4gdW5hZGp1c3RlZENvdW50ICsgdGhpcy5hZGp1c3RSb3dOdW1iZXJzRnJvbVJSSSgpO1xuICAgIH07XG4gICAgRGV0ZWN0aW9uUmVzdWx0LnByb3RvdHlwZS5hZGp1c3RSb3dOdW1iZXJzRnJvbUJvdGhSSSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGV0ZWN0aW9uUmVzdWx0Q29sdW1uc1swXSA9PSBudWxsIHx8IHRoaXMuZGV0ZWN0aW9uUmVzdWx0Q29sdW1uc1t0aGlzLmJhcmNvZGVDb2x1bW5Db3VudCArIDFdID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgTFJJY29kZXdvcmRzID0gdGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zWzBdLmdldENvZGV3b3JkcygpO1xuICAgICAgICB2YXIgUlJJY29kZXdvcmRzID0gdGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zW3RoaXMuYmFyY29kZUNvbHVtbkNvdW50ICsgMV0uZ2V0Q29kZXdvcmRzKCk7XG4gICAgICAgIGZvciAodmFyIGNvZGV3b3Jkc1JvdyAvKmludCovID0gMDsgY29kZXdvcmRzUm93IDwgTFJJY29kZXdvcmRzLmxlbmd0aDsgY29kZXdvcmRzUm93KyspIHtcbiAgICAgICAgICAgIGlmIChMUkljb2Rld29yZHNbY29kZXdvcmRzUm93XSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgUlJJY29kZXdvcmRzW2NvZGV3b3Jkc1Jvd10gIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIExSSWNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddLmdldFJvd051bWJlcigpID09PSBSUkljb2Rld29yZHNbY29kZXdvcmRzUm93XS5nZXRSb3dOdW1iZXIoKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGJhcmNvZGVDb2x1bW4gLyppbnQqLyA9IDE7IGJhcmNvZGVDb2x1bW4gPD0gdGhpcy5iYXJjb2RlQ29sdW1uQ291bnQ7IGJhcmNvZGVDb2x1bW4rKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29kZXdvcmQgPSB0aGlzLmRldGVjdGlvblJlc3VsdENvbHVtbnNbYmFyY29kZUNvbHVtbl0uZ2V0Q29kZXdvcmRzKClbY29kZXdvcmRzUm93XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGV3b3JkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvZGV3b3JkLnNldFJvd051bWJlcihMUkljb2Rld29yZHNbY29kZXdvcmRzUm93XS5nZXRSb3dOdW1iZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29kZXdvcmQuaGFzVmFsaWRSb3dOdW1iZXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zW2JhcmNvZGVDb2x1bW5dLmdldENvZGV3b3JkcygpW2NvZGV3b3Jkc1Jvd10gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBEZXRlY3Rpb25SZXN1bHQucHJvdG90eXBlLmFkanVzdFJvd051bWJlcnNGcm9tUlJJID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zW3RoaXMuYmFyY29kZUNvbHVtbkNvdW50ICsgMV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVuYWRqdXN0ZWRDb3VudCA9IDA7XG4gICAgICAgIHZhciBjb2Rld29yZHMgPSB0aGlzLmRldGVjdGlvblJlc3VsdENvbHVtbnNbdGhpcy5iYXJjb2RlQ29sdW1uQ291bnQgKyAxXS5nZXRDb2Rld29yZHMoKTtcbiAgICAgICAgZm9yICh2YXIgY29kZXdvcmRzUm93IC8qaW50Ki8gPSAwOyBjb2Rld29yZHNSb3cgPCBjb2Rld29yZHMubGVuZ3RoOyBjb2Rld29yZHNSb3crKykge1xuICAgICAgICAgICAgaWYgKGNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciByb3dJbmRpY2F0b3JSb3dOdW1iZXIgPSBjb2Rld29yZHNbY29kZXdvcmRzUm93XS5nZXRSb3dOdW1iZXIoKTtcbiAgICAgICAgICAgIHZhciBpbnZhbGlkUm93Q291bnRzID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGJhcmNvZGVDb2x1bW4gLyppbnQqLyA9IHRoaXMuYmFyY29kZUNvbHVtbkNvdW50ICsgMTsgYmFyY29kZUNvbHVtbiA+IDAgJiYgaW52YWxpZFJvd0NvdW50cyA8IHRoaXMuQURKVVNUX1JPV19OVU1CRVJfU0tJUDsgYmFyY29kZUNvbHVtbi0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkID0gdGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zW2JhcmNvZGVDb2x1bW5dLmdldENvZGV3b3JkcygpW2NvZGV3b3Jkc1Jvd107XG4gICAgICAgICAgICAgICAgaWYgKGNvZGV3b3JkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZFJvd0NvdW50cyA9IERldGVjdGlvblJlc3VsdC5hZGp1c3RSb3dOdW1iZXJJZlZhbGlkKHJvd0luZGljYXRvclJvd051bWJlciwgaW52YWxpZFJvd0NvdW50cywgY29kZXdvcmQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvZGV3b3JkLmhhc1ZhbGlkUm93TnVtYmVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuYWRqdXN0ZWRDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmFkanVzdGVkQ291bnQ7XG4gICAgfTtcbiAgICBEZXRlY3Rpb25SZXN1bHQucHJvdG90eXBlLmFkanVzdFJvd051bWJlcnNGcm9tTFJJID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zWzBdID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1bmFkanVzdGVkQ291bnQgPSAwO1xuICAgICAgICB2YXIgY29kZXdvcmRzID0gdGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zWzBdLmdldENvZGV3b3JkcygpO1xuICAgICAgICBmb3IgKHZhciBjb2Rld29yZHNSb3cgLyppbnQqLyA9IDA7IGNvZGV3b3Jkc1JvdyA8IGNvZGV3b3Jkcy5sZW5ndGg7IGNvZGV3b3Jkc1JvdysrKSB7XG4gICAgICAgICAgICBpZiAoY29kZXdvcmRzW2NvZGV3b3Jkc1Jvd10gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJvd0luZGljYXRvclJvd051bWJlciA9IGNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddLmdldFJvd051bWJlcigpO1xuICAgICAgICAgICAgdmFyIGludmFsaWRSb3dDb3VudHMgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgYmFyY29kZUNvbHVtbiAvKmludCovID0gMTsgYmFyY29kZUNvbHVtbiA8IHRoaXMuYmFyY29kZUNvbHVtbkNvdW50ICsgMSAmJiBpbnZhbGlkUm93Q291bnRzIDwgdGhpcy5BREpVU1RfUk9XX05VTUJFUl9TS0lQOyBiYXJjb2RlQ29sdW1uKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY29kZXdvcmQgPSB0aGlzLmRldGVjdGlvblJlc3VsdENvbHVtbnNbYmFyY29kZUNvbHVtbl0uZ2V0Q29kZXdvcmRzKClbY29kZXdvcmRzUm93XTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZXdvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkUm93Q291bnRzID0gRGV0ZWN0aW9uUmVzdWx0LmFkanVzdFJvd051bWJlcklmVmFsaWQocm93SW5kaWNhdG9yUm93TnVtYmVyLCBpbnZhbGlkUm93Q291bnRzLCBjb2Rld29yZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29kZXdvcmQuaGFzVmFsaWRSb3dOdW1iZXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdW5hZGp1c3RlZENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuYWRqdXN0ZWRDb3VudDtcbiAgICB9O1xuICAgIERldGVjdGlvblJlc3VsdC5hZGp1c3RSb3dOdW1iZXJJZlZhbGlkID0gZnVuY3Rpb24gKHJvd0luZGljYXRvclJvd051bWJlciwgaW52YWxpZFJvd0NvdW50cywgY29kZXdvcmQpIHtcbiAgICAgICAgaWYgKGNvZGV3b3JkID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnZhbGlkUm93Q291bnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29kZXdvcmQuaGFzVmFsaWRSb3dOdW1iZXIoKSkge1xuICAgICAgICAgICAgaWYgKGNvZGV3b3JkLmlzVmFsaWRSb3dOdW1iZXIocm93SW5kaWNhdG9yUm93TnVtYmVyKSkge1xuICAgICAgICAgICAgICAgIGNvZGV3b3JkLnNldFJvd051bWJlcihyb3dJbmRpY2F0b3JSb3dOdW1iZXIpO1xuICAgICAgICAgICAgICAgIGludmFsaWRSb3dDb3VudHMgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKytpbnZhbGlkUm93Q291bnRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnZhbGlkUm93Q291bnRzO1xuICAgIH07XG4gICAgRGV0ZWN0aW9uUmVzdWx0LnByb3RvdHlwZS5hZGp1c3RSb3dOdW1iZXJzID0gZnVuY3Rpb24gKGJhcmNvZGVDb2x1bW4sIGNvZGV3b3Jkc1JvdywgY29kZXdvcmRzKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgY29kZXdvcmQgPSBjb2Rld29yZHNbY29kZXdvcmRzUm93XTtcbiAgICAgICAgdmFyIHByZXZpb3VzQ29sdW1uQ29kZXdvcmRzID0gdGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zW2JhcmNvZGVDb2x1bW4gLSAxXS5nZXRDb2Rld29yZHMoKTtcbiAgICAgICAgdmFyIG5leHRDb2x1bW5Db2Rld29yZHMgPSBwcmV2aW91c0NvbHVtbkNvZGV3b3JkcztcbiAgICAgICAgaWYgKHRoaXMuZGV0ZWN0aW9uUmVzdWx0Q29sdW1uc1tiYXJjb2RlQ29sdW1uICsgMV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgbmV4dENvbHVtbkNvZGV3b3JkcyA9IHRoaXMuZGV0ZWN0aW9uUmVzdWx0Q29sdW1uc1tiYXJjb2RlQ29sdW1uICsgMV0uZ2V0Q29kZXdvcmRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0IG90aGVyQ29kZXdvcmRzOiBDb2Rld29yZFtdID0gbmV3IENvZGV3b3JkWzE0XTtcbiAgICAgICAgdmFyIG90aGVyQ29kZXdvcmRzID0gbmV3IEFycmF5KDE0KTtcbiAgICAgICAgb3RoZXJDb2Rld29yZHNbMl0gPSBwcmV2aW91c0NvbHVtbkNvZGV3b3Jkc1tjb2Rld29yZHNSb3ddO1xuICAgICAgICBvdGhlckNvZGV3b3Jkc1szXSA9IG5leHRDb2x1bW5Db2Rld29yZHNbY29kZXdvcmRzUm93XTtcbiAgICAgICAgaWYgKGNvZGV3b3Jkc1JvdyA+IDApIHtcbiAgICAgICAgICAgIG90aGVyQ29kZXdvcmRzWzBdID0gY29kZXdvcmRzW2NvZGV3b3Jkc1JvdyAtIDFdO1xuICAgICAgICAgICAgb3RoZXJDb2Rld29yZHNbNF0gPSBwcmV2aW91c0NvbHVtbkNvZGV3b3Jkc1tjb2Rld29yZHNSb3cgLSAxXTtcbiAgICAgICAgICAgIG90aGVyQ29kZXdvcmRzWzVdID0gbmV4dENvbHVtbkNvZGV3b3Jkc1tjb2Rld29yZHNSb3cgLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZXdvcmRzUm93ID4gMSkge1xuICAgICAgICAgICAgb3RoZXJDb2Rld29yZHNbOF0gPSBjb2Rld29yZHNbY29kZXdvcmRzUm93IC0gMl07XG4gICAgICAgICAgICBvdGhlckNvZGV3b3Jkc1sxMF0gPSBwcmV2aW91c0NvbHVtbkNvZGV3b3Jkc1tjb2Rld29yZHNSb3cgLSAyXTtcbiAgICAgICAgICAgIG90aGVyQ29kZXdvcmRzWzExXSA9IG5leHRDb2x1bW5Db2Rld29yZHNbY29kZXdvcmRzUm93IC0gMl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGV3b3Jkc1JvdyA8IGNvZGV3b3Jkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBvdGhlckNvZGV3b3Jkc1sxXSA9IGNvZGV3b3Jkc1tjb2Rld29yZHNSb3cgKyAxXTtcbiAgICAgICAgICAgIG90aGVyQ29kZXdvcmRzWzZdID0gcHJldmlvdXNDb2x1bW5Db2Rld29yZHNbY29kZXdvcmRzUm93ICsgMV07XG4gICAgICAgICAgICBvdGhlckNvZGV3b3Jkc1s3XSA9IG5leHRDb2x1bW5Db2Rld29yZHNbY29kZXdvcmRzUm93ICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGV3b3Jkc1JvdyA8IGNvZGV3b3Jkcy5sZW5ndGggLSAyKSB7XG4gICAgICAgICAgICBvdGhlckNvZGV3b3Jkc1s5XSA9IGNvZGV3b3Jkc1tjb2Rld29yZHNSb3cgKyAyXTtcbiAgICAgICAgICAgIG90aGVyQ29kZXdvcmRzWzEyXSA9IHByZXZpb3VzQ29sdW1uQ29kZXdvcmRzW2NvZGV3b3Jkc1JvdyArIDJdO1xuICAgICAgICAgICAgb3RoZXJDb2Rld29yZHNbMTNdID0gbmV4dENvbHVtbkNvZGV3b3Jkc1tjb2Rld29yZHNSb3cgKyAyXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgb3RoZXJDb2Rld29yZHNfMSA9IF9fdmFsdWVzKG90aGVyQ29kZXdvcmRzKSwgb3RoZXJDb2Rld29yZHNfMV8xID0gb3RoZXJDb2Rld29yZHNfMS5uZXh0KCk7ICFvdGhlckNvZGV3b3Jkc18xXzEuZG9uZTsgb3RoZXJDb2Rld29yZHNfMV8xID0gb3RoZXJDb2Rld29yZHNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXJDb2Rld29yZCA9IG90aGVyQ29kZXdvcmRzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoRGV0ZWN0aW9uUmVzdWx0LmFkanVzdFJvd051bWJlcihjb2Rld29yZCwgb3RoZXJDb2Rld29yZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyQ29kZXdvcmRzXzFfMSAmJiAhb3RoZXJDb2Rld29yZHNfMV8xLmRvbmUgJiYgKF9hID0gb3RoZXJDb2Rld29yZHNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyQ29kZXdvcmRzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHRydWUsIGlmIHJvdyBudW1iZXIgd2FzIGFkanVzdGVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBEZXRlY3Rpb25SZXN1bHQuYWRqdXN0Um93TnVtYmVyID0gZnVuY3Rpb24gKGNvZGV3b3JkLCBvdGhlckNvZGV3b3JkKSB7XG4gICAgICAgIGlmIChvdGhlckNvZGV3b3JkID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXJDb2Rld29yZC5oYXNWYWxpZFJvd051bWJlcigpICYmIG90aGVyQ29kZXdvcmQuZ2V0QnVja2V0KCkgPT09IGNvZGV3b3JkLmdldEJ1Y2tldCgpKSB7XG4gICAgICAgICAgICBjb2Rld29yZC5zZXRSb3dOdW1iZXIob3RoZXJDb2Rld29yZC5nZXRSb3dOdW1iZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBEZXRlY3Rpb25SZXN1bHQucHJvdG90eXBlLmdldEJhcmNvZGVDb2x1bW5Db3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFyY29kZUNvbHVtbkNvdW50O1xuICAgIH07XG4gICAgRGV0ZWN0aW9uUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlUm93Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhcmNvZGVNZXRhZGF0YS5nZXRSb3dDb3VudCgpO1xuICAgIH07XG4gICAgRGV0ZWN0aW9uUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRUNMZXZlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFyY29kZU1ldGFkYXRhLmdldEVycm9yQ29ycmVjdGlvbkxldmVsKCk7XG4gICAgfTtcbiAgICBEZXRlY3Rpb25SZXN1bHQucHJvdG90eXBlLnNldEJvdW5kaW5nQm94ID0gZnVuY3Rpb24gKGJvdW5kaW5nQm94KSB7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBib3VuZGluZ0JveDtcbiAgICB9O1xuICAgIERldGVjdGlvblJlc3VsdC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJvdW5kaW5nQm94O1xuICAgIH07XG4gICAgRGV0ZWN0aW9uUmVzdWx0LnByb3RvdHlwZS5zZXREZXRlY3Rpb25SZXN1bHRDb2x1bW4gPSBmdW5jdGlvbiAoYmFyY29kZUNvbHVtbiwgZGV0ZWN0aW9uUmVzdWx0Q29sdW1uKSB7XG4gICAgICAgIHRoaXMuZGV0ZWN0aW9uUmVzdWx0Q29sdW1uc1tiYXJjb2RlQ29sdW1uXSA9IGRldGVjdGlvblJlc3VsdENvbHVtbjtcbiAgICB9O1xuICAgIERldGVjdGlvblJlc3VsdC5wcm90b3R5cGUuZ2V0RGV0ZWN0aW9uUmVzdWx0Q29sdW1uID0gZnVuY3Rpb24gKGJhcmNvZGVDb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGV0ZWN0aW9uUmVzdWx0Q29sdW1uc1tiYXJjb2RlQ29sdW1uXTtcbiAgICB9O1xuICAgIC8vIEBPdmVycmlkZVxuICAgIERldGVjdGlvblJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByb3dJbmRpY2F0b3JDb2x1bW4gPSB0aGlzLmRldGVjdGlvblJlc3VsdENvbHVtbnNbMF07XG4gICAgICAgIGlmIChyb3dJbmRpY2F0b3JDb2x1bW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgcm93SW5kaWNhdG9yQ29sdW1uID0gdGhpcy5kZXRlY3Rpb25SZXN1bHRDb2x1bW5zW3RoaXMuYmFyY29kZUNvbHVtbkNvdW50ICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJ5IChcbiAgICAgICAgdmFyIGZvcm1hdHRlciA9IG5ldyBGb3JtYXR0ZXIoKTtcbiAgICAgICAgLy8gKSB7XG4gICAgICAgIGZvciAodmFyIGNvZGV3b3Jkc1JvdyAvKmludCovID0gMDsgY29kZXdvcmRzUm93IDwgcm93SW5kaWNhdG9yQ29sdW1uLmdldENvZGV3b3JkcygpLmxlbmd0aDsgY29kZXdvcmRzUm93KyspIHtcbiAgICAgICAgICAgIGZvcm1hdHRlci5mb3JtYXQoJ0NXICUzZDonLCBjb2Rld29yZHNSb3cpO1xuICAgICAgICAgICAgZm9yICh2YXIgYmFyY29kZUNvbHVtbiAvKmludCovID0gMDsgYmFyY29kZUNvbHVtbiA8IHRoaXMuYmFyY29kZUNvbHVtbkNvdW50ICsgMjsgYmFyY29kZUNvbHVtbisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGV0ZWN0aW9uUmVzdWx0Q29sdW1uc1tiYXJjb2RlQ29sdW1uXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlci5mb3JtYXQoJyAgICB8ICAgJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY29kZXdvcmQgPSB0aGlzLmRldGVjdGlvblJlc3VsdENvbHVtbnNbYmFyY29kZUNvbHVtbl0uZ2V0Q29kZXdvcmRzKClbY29kZXdvcmRzUm93XTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZXdvcmQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXIuZm9ybWF0KCcgICAgfCAgICcpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVyLmZvcm1hdCgnICUzZHwlM2QnLCBjb2Rld29yZC5nZXRSb3dOdW1iZXIoKSwgY29kZXdvcmQuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtYXR0ZXIuZm9ybWF0KCclbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgLy8gfVxuICAgIH07XG4gICAgcmV0dXJuIERldGVjdGlvblJlc3VsdDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBEZXRlY3Rpb25SZXN1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EZXRlY3Rpb25SZXN1bHQuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBwYWNrYWdlIGNvbS5nb29nbGUuenhpbmcucGRmNDE3LmRlY29kZXI7XG4vKipcbiAqIEBhdXRob3IgR3VlbnRoZXIgR3JhdVxuICovXG52YXIgQ29kZXdvcmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29kZXdvcmQoc3RhcnRYLCBlbmRYLCBidWNrZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMucm93TnVtYmVyID0gQ29kZXdvcmQuQkFSQ09ERV9ST1dfVU5LTk9XTjtcbiAgICAgICAgdGhpcy5zdGFydFggPSBNYXRoLnRydW5jKHN0YXJ0WCk7XG4gICAgICAgIHRoaXMuZW5kWCA9IE1hdGgudHJ1bmMoZW5kWCk7XG4gICAgICAgIHRoaXMuYnVja2V0ID0gTWF0aC50cnVuYyhidWNrZXQpO1xuICAgICAgICB0aGlzLnZhbHVlID0gTWF0aC50cnVuYyh2YWx1ZSk7XG4gICAgfVxuICAgIENvZGV3b3JkLnByb3RvdHlwZS5oYXNWYWxpZFJvd051bWJlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZFJvd051bWJlcih0aGlzLnJvd051bWJlcik7XG4gICAgfTtcbiAgICBDb2Rld29yZC5wcm90b3R5cGUuaXNWYWxpZFJvd051bWJlciA9IGZ1bmN0aW9uIChyb3dOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHJvd051bWJlciAhPT0gQ29kZXdvcmQuQkFSQ09ERV9ST1dfVU5LTk9XTiAmJiB0aGlzLmJ1Y2tldCA9PT0gKHJvd051bWJlciAlIDMpICogMztcbiAgICB9O1xuICAgIENvZGV3b3JkLnByb3RvdHlwZS5zZXRSb3dOdW1iZXJBc1Jvd0luZGljYXRvckNvbHVtbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yb3dOdW1iZXIgPSBNYXRoLnRydW5jKChNYXRoLnRydW5jKHRoaXMudmFsdWUgLyAzMCkpICogMyArIE1hdGgudHJ1bmModGhpcy5idWNrZXQgLyAzKSk7XG4gICAgfTtcbiAgICBDb2Rld29yZC5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZFggLSB0aGlzLnN0YXJ0WDtcbiAgICB9O1xuICAgIENvZGV3b3JkLnByb3RvdHlwZS5nZXRTdGFydFggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0WDtcbiAgICB9O1xuICAgIENvZGV3b3JkLnByb3RvdHlwZS5nZXRFbmRYID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRYO1xuICAgIH07XG4gICAgQ29kZXdvcmQucHJvdG90eXBlLmdldEJ1Y2tldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVja2V0O1xuICAgIH07XG4gICAgQ29kZXdvcmQucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICB9O1xuICAgIENvZGV3b3JkLnByb3RvdHlwZS5nZXRSb3dOdW1iZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvd051bWJlcjtcbiAgICB9O1xuICAgIENvZGV3b3JkLnByb3RvdHlwZS5zZXRSb3dOdW1iZXIgPSBmdW5jdGlvbiAocm93TnVtYmVyKSB7XG4gICAgICAgIHRoaXMucm93TnVtYmVyID0gcm93TnVtYmVyO1xuICAgIH07XG4gICAgLy8gICBAT3ZlcnJpZGVcbiAgICBDb2Rld29yZC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvd051bWJlciArICd8JyArIHRoaXMudmFsdWU7XG4gICAgfTtcbiAgICBDb2Rld29yZC5CQVJDT0RFX1JPV19VTktOT1dOID0gLTE7XG4gICAgcmV0dXJuIENvZGV3b3JkO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IENvZGV3b3JkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29kZXdvcmQuanMubWFwIiwiLypcbiogQ29weXJpZ2h0IDIwMTMgWlhpbmcgYXV0aG9yc1xuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xuLy8gcGFja2FnZSBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNy5kZWNvZGVyO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcuY29tbW9uLmRldGVjdG9yLk1hdGhVdGlscztcbmltcG9ydCBNYXRoVXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2RldGVjdG9yL01hdGhVdGlscyc7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5wZGY0MTcuUERGNDE3Q29tbW9uO1xuaW1wb3J0IFBERjQxN0NvbW1vbiBmcm9tICcuLi9QREY0MTdDb21tb24nO1xuaW1wb3J0IEZsb2F0IGZyb20gJy4uLy4uL3V0aWwvRmxvYXQnO1xuLyoqXG4gKiBAYXV0aG9yIEd1ZW50aGVyIEdyYXVcbiAqIEBhdXRob3IgY3JlYXRhbGUgR21iSCAoY2hyaXN0b3BoLnNjaHVsekBjcmVhdGFsZS5kZSlcbiAqL1xudmFyIFBERjQxN0NvZGV3b3JkRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQREY0MTdDb2Rld29yZERlY29kZXIoKSB7XG4gICAgfVxuICAgIC8qIEBub3RlXG4gICAgICogdGhpcyBhY3Rpb24gaGF2ZSB0byBiZSBwZXJmb3JtZWQgYmVmb3JlIGZpcnN0IHVzZSBvZiBjbGFzc1xuICAgICAqIC0gc3RhdGljIGNvbnN0cnVjdG9yXG4gICAgICogd29ya2luZyB3aXRoIDMyYml0IGZsb2F0IChiYXNlZCBmcm9tIEphdmEgbG9naWMpXG4gICAgKi9cbiAgICBQREY0MTdDb2Rld29yZERlY29kZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gUHJlLWNvbXB1dGVzIHRoZSBzeW1ib2wgcmF0aW8gdGFibGUuXG4gICAgICAgIGZvciAoIC8qaW50Ki92YXIgaSA9IDA7IGkgPCBQREY0MTdDb21tb24uU1lNQk9MX1RBQkxFLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFN5bWJvbCA9IFBERjQxN0NvbW1vbi5TWU1CT0xfVEFCTEVbaV07XG4gICAgICAgICAgICB2YXIgY3VycmVudEJpdCA9IGN1cnJlbnRTeW1ib2wgJiAweDE7XG4gICAgICAgICAgICBmb3IgKCAvKmludCovdmFyIGogPSAwOyBqIDwgUERGNDE3Q29tbW9uLkJBUlNfSU5fTU9EVUxFOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IDAuMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoKGN1cnJlbnRTeW1ib2wgJiAweDEpID09PSBjdXJyZW50Qml0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNpemUgKz0gMS4wO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3ltYm9sID4+PSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50Qml0ID0gY3VycmVudFN5bWJvbCAmIDB4MTtcbiAgICAgICAgICAgICAgICBpZiAoIVBERjQxN0NvZGV3b3JkRGVjb2Rlci5SQVRJT1NfVEFCTEVbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgUERGNDE3Q29kZXdvcmREZWNvZGVyLlJBVElPU19UQUJMRVtpXSA9IG5ldyBBcnJheShQREY0MTdDb21tb24uQkFSU19JTl9NT0RVTEUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBQREY0MTdDb2Rld29yZERlY29kZXIuUkFUSU9TX1RBQkxFW2ldW1BERjQxN0NvbW1vbi5CQVJTX0lOX01PRFVMRSAtIGogLSAxXSA9IE1hdGguZnJvdW5kKHNpemUgLyBQREY0MTdDb21tb24uTU9EVUxFU19JTl9DT0RFV09SRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iU3ltYm9sVGFibGVSZWFkeSA9IHRydWU7XG4gICAgfTtcbiAgICBQREY0MTdDb2Rld29yZERlY29kZXIuZ2V0RGVjb2RlZFZhbHVlID0gZnVuY3Rpb24gKG1vZHVsZUJpdENvdW50KSB7XG4gICAgICAgIHZhciBkZWNvZGVkVmFsdWUgPSBQREY0MTdDb2Rld29yZERlY29kZXIuZ2V0RGVjb2RlZENvZGV3b3JkVmFsdWUoUERGNDE3Q29kZXdvcmREZWNvZGVyLnNhbXBsZUJpdENvdW50cyhtb2R1bGVCaXRDb3VudCkpO1xuICAgICAgICBpZiAoZGVjb2RlZFZhbHVlICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlY29kZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUERGNDE3Q29kZXdvcmREZWNvZGVyLmdldENsb3Nlc3REZWNvZGVkVmFsdWUobW9kdWxlQml0Q291bnQpO1xuICAgIH07XG4gICAgUERGNDE3Q29kZXdvcmREZWNvZGVyLnNhbXBsZUJpdENvdW50cyA9IGZ1bmN0aW9uIChtb2R1bGVCaXRDb3VudCkge1xuICAgICAgICB2YXIgYml0Q291bnRTdW0gPSBNYXRoVXRpbHMuc3VtKG1vZHVsZUJpdENvdW50KTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBJbnQzMkFycmF5KFBERjQxN0NvbW1vbi5CQVJTX0lOX01PRFVMRSk7XG4gICAgICAgIHZhciBiaXRDb3VudEluZGV4ID0gMDtcbiAgICAgICAgdmFyIHN1bVByZXZpb3VzQml0cyA9IDA7XG4gICAgICAgIGZvciAoIC8qaW50Ki92YXIgaSA9IDA7IGkgPCBQREY0MTdDb21tb24uTU9EVUxFU19JTl9DT0RFV09SRDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2FtcGxlSW5kZXggPSBiaXRDb3VudFN1bSAvICgyICogUERGNDE3Q29tbW9uLk1PRFVMRVNfSU5fQ09ERVdPUkQpICtcbiAgICAgICAgICAgICAgICAoaSAqIGJpdENvdW50U3VtKSAvIFBERjQxN0NvbW1vbi5NT0RVTEVTX0lOX0NPREVXT1JEO1xuICAgICAgICAgICAgaWYgKHN1bVByZXZpb3VzQml0cyArIG1vZHVsZUJpdENvdW50W2JpdENvdW50SW5kZXhdIDw9IHNhbXBsZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgc3VtUHJldmlvdXNCaXRzICs9IG1vZHVsZUJpdENvdW50W2JpdENvdW50SW5kZXhdO1xuICAgICAgICAgICAgICAgIGJpdENvdW50SW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtiaXRDb3VudEluZGV4XSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBQREY0MTdDb2Rld29yZERlY29kZXIuZ2V0RGVjb2RlZENvZGV3b3JkVmFsdWUgPSBmdW5jdGlvbiAobW9kdWxlQml0Q291bnQpIHtcbiAgICAgICAgdmFyIGRlY29kZWRWYWx1ZSA9IFBERjQxN0NvZGV3b3JkRGVjb2Rlci5nZXRCaXRWYWx1ZShtb2R1bGVCaXRDb3VudCk7XG4gICAgICAgIHJldHVybiBQREY0MTdDb21tb24uZ2V0Q29kZXdvcmQoZGVjb2RlZFZhbHVlKSA9PT0gLTEgPyAtMSA6IGRlY29kZWRWYWx1ZTtcbiAgICB9O1xuICAgIFBERjQxN0NvZGV3b3JkRGVjb2Rlci5nZXRCaXRWYWx1ZSA9IGZ1bmN0aW9uIChtb2R1bGVCaXRDb3VudCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gLypsb25nKi8gMDtcbiAgICAgICAgZm9yICh2YXIgLyppbnQqLyBpID0gMDsgaSA8IG1vZHVsZUJpdENvdW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKCAvKmludCovdmFyIGJpdCA9IDA7IGJpdCA8IG1vZHVsZUJpdENvdW50W2ldOyBiaXQrKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgMSkgfCAoaSAlIDIgPT09IDAgPyAxIDogMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGgudHJ1bmMocmVzdWx0KTtcbiAgICB9O1xuICAgIC8vIHdvcmtpbmcgd2l0aCAzMmJpdCBmbG9hdCAoYXMgaW4gSmF2YSlcbiAgICBQREY0MTdDb2Rld29yZERlY29kZXIuZ2V0Q2xvc2VzdERlY29kZWRWYWx1ZSA9IGZ1bmN0aW9uIChtb2R1bGVCaXRDb3VudCkge1xuICAgICAgICB2YXIgYml0Q291bnRTdW0gPSBNYXRoVXRpbHMuc3VtKG1vZHVsZUJpdENvdW50KTtcbiAgICAgICAgdmFyIGJpdENvdW50UmF0aW9zID0gbmV3IEFycmF5KFBERjQxN0NvbW1vbi5CQVJTX0lOX01PRFVMRSk7XG4gICAgICAgIGlmIChiaXRDb3VudFN1bSA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIC8qaW50Ki8gaSA9IDA7IGkgPCBiaXRDb3VudFJhdGlvcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJpdENvdW50UmF0aW9zW2ldID0gTWF0aC5mcm91bmQobW9kdWxlQml0Q291bnRbaV0gLyBiaXRDb3VudFN1bSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJlc3RNYXRjaEVycm9yID0gRmxvYXQuTUFYX1ZBTFVFO1xuICAgICAgICB2YXIgYmVzdE1hdGNoID0gLTE7XG4gICAgICAgIGlmICghdGhpcy5iU3ltYm9sVGFibGVSZWFkeSkge1xuICAgICAgICAgICAgUERGNDE3Q29kZXdvcmREZWNvZGVyLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKCAvKmludCovdmFyIGogPSAwOyBqIDwgUERGNDE3Q29kZXdvcmREZWNvZGVyLlJBVElPU19UQUJMRS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gMC4wO1xuICAgICAgICAgICAgdmFyIHJhdGlvVGFibGVSb3cgPSBQREY0MTdDb2Rld29yZERlY29kZXIuUkFUSU9TX1RBQkxFW2pdO1xuICAgICAgICAgICAgZm9yICggLyppbnQqL3ZhciBrID0gMDsgayA8IFBERjQxN0NvbW1vbi5CQVJTX0lOX01PRFVMRTsgaysrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpZmYgPSBNYXRoLmZyb3VuZChyYXRpb1RhYmxlUm93W2tdIC0gYml0Q291bnRSYXRpb3Nba10pO1xuICAgICAgICAgICAgICAgIGVycm9yICs9IE1hdGguZnJvdW5kKGRpZmYgKiBkaWZmKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgPj0gYmVzdE1hdGNoRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9yIDwgYmVzdE1hdGNoRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBiZXN0TWF0Y2hFcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIGJlc3RNYXRjaCA9IFBERjQxN0NvbW1vbi5TWU1CT0xfVEFCTEVbal07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJlc3RNYXRjaDtcbiAgICB9O1xuICAgIC8vIGZsYWcgdGhhdCB0aGUgdGFibGUgaXMgcmVhZHkgZm9yIHVzZVxuICAgIFBERjQxN0NvZGV3b3JkRGVjb2Rlci5iU3ltYm9sVGFibGVSZWFkeSA9IGZhbHNlO1xuICAgIFBERjQxN0NvZGV3b3JkRGVjb2Rlci5SQVRJT1NfVEFCTEUgPSBuZXcgQXJyYXkoUERGNDE3Q29tbW9uLlNZTUJPTF9UQUJMRS5sZW5ndGgpLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCA9IG5ldyBBcnJheShQREY0MTdDb21tb24uQkFSU19JTl9NT0RVTEUpOyB9KTtcbiAgICByZXR1cm4gUERGNDE3Q29kZXdvcmREZWNvZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFBERjQxN0NvZGV3b3JkRGVjb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBERjQxN0NvZGV3b3JkRGVjb2Rlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMTMgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIHBhY2thZ2UgY29tLmdvb2dsZS56eGluZy5wZGY0MTc7XG4vKipcbiAqIEBhdXRob3IgR3VlbnRoZXIgR3JhdVxuICovXG52YXIgUERGNDE3UmVzdWx0TWV0YWRhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUERGNDE3UmVzdWx0TWV0YWRhdGEoKSB7XG4gICAgICAgIHRoaXMuc2VnbWVudENvdW50ID0gLTE7XG4gICAgICAgIHRoaXMuZmlsZVNpemUgPSAtMTtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSAtMTtcbiAgICAgICAgdGhpcy5jaGVja3N1bSA9IC0xO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgU2VnbWVudCBJRCByZXByZXNlbnRzIHRoZSBzZWdtZW50IG9mIHRoZSB3aG9sZSBmaWxlIGRpc3RyaWJ1dGVkIG92ZXIgZGlmZmVyZW50IHN5bWJvbHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIEZpbGUgc2VnbWVudCBpbmRleFxuICAgICAqL1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5nZXRTZWdtZW50SW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRJbmRleDtcbiAgICB9O1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5zZXRTZWdtZW50SW5kZXggPSBmdW5jdGlvbiAoc2VnbWVudEluZGV4KSB7XG4gICAgICAgIHRoaXMuc2VnbWVudEluZGV4ID0gc2VnbWVudEluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSXMgdGhlIHNhbWUgZm9yIGVhY2ggcmVsYXRlZCBQREY0MTcgc3ltYm9sXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIEZpbGUgSURcbiAgICAgKi9cbiAgICBQREY0MTdSZXN1bHRNZXRhZGF0YS5wcm90b3R5cGUuZ2V0RmlsZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWxlSWQ7XG4gICAgfTtcbiAgICBQREY0MTdSZXN1bHRNZXRhZGF0YS5wcm90b3R5cGUuc2V0RmlsZUlkID0gZnVuY3Rpb24gKGZpbGVJZCkge1xuICAgICAgICB0aGlzLmZpbGVJZCA9IGZpbGVJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gYWx3YXlzIG51bGxcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgZGVkaWNhdGVkIGFscmVhZHkgcGFyc2VkIGZpZWxkc1xuICAgICAqL1xuICAgIC8vICAgQERlcHJlY2F0ZWRcbiAgICBQREY0MTdSZXN1bHRNZXRhZGF0YS5wcm90b3R5cGUuZ2V0T3B0aW9uYWxEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25hbERhdGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gb3B0aW9uYWxEYXRhIG9sZCBvcHRpb25hbCBkYXRhIGZvcm1hdCBhcyBpbnQgYXJyYXlcbiAgICAgKiBAZGVwcmVjYXRlZCBwYXJzZSBhbmQgdXNlIG5ldyBmaWVsZHNcbiAgICAgKi9cbiAgICAvLyAgIEBEZXByZWNhdGVkXG4gICAgUERGNDE3UmVzdWx0TWV0YWRhdGEucHJvdG90eXBlLnNldE9wdGlvbmFsRGF0YSA9IGZ1bmN0aW9uIChvcHRpb25hbERhdGEpIHtcbiAgICAgICAgdGhpcy5vcHRpb25hbERhdGEgPSBvcHRpb25hbERhdGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHRydWUgaWYgaXQgaXMgdGhlIGxhc3Qgc2VnbWVudFxuICAgICAqL1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5pc0xhc3RTZWdtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0U2VnbWVudDtcbiAgICB9O1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5zZXRMYXN0U2VnbWVudCA9IGZ1bmN0aW9uIChsYXN0U2VnbWVudCkge1xuICAgICAgICB0aGlzLmxhc3RTZWdtZW50ID0gbGFzdFNlZ21lbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIGNvdW50IG9mIHNlZ21lbnRzLCAtMSBpZiBub3Qgc2V0XG4gICAgICovXG4gICAgUERGNDE3UmVzdWx0TWV0YWRhdGEucHJvdG90eXBlLmdldFNlZ21lbnRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudENvdW50O1xuICAgIH07XG4gICAgUERGNDE3UmVzdWx0TWV0YWRhdGEucHJvdG90eXBlLnNldFNlZ21lbnRDb3VudCA9IGZ1bmN0aW9uIChzZWdtZW50Q291bnQgLyppbnQqLykge1xuICAgICAgICB0aGlzLnNlZ21lbnRDb3VudCA9IHNlZ21lbnRDb3VudDtcbiAgICB9O1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5nZXRTZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRlciB8fCBudWxsO1xuICAgIH07XG4gICAgUERGNDE3UmVzdWx0TWV0YWRhdGEucHJvdG90eXBlLnNldFNlbmRlciA9IGZ1bmN0aW9uIChzZW5kZXIpIHtcbiAgICAgICAgdGhpcy5zZW5kZXIgPSBzZW5kZXI7XG4gICAgfTtcbiAgICBQREY0MTdSZXN1bHRNZXRhZGF0YS5wcm90b3R5cGUuZ2V0QWRkcmVzc2VlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRyZXNzZWUgfHwgbnVsbDtcbiAgICB9O1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5zZXRBZGRyZXNzZWUgPSBmdW5jdGlvbiAoYWRkcmVzc2VlKSB7XG4gICAgICAgIHRoaXMuYWRkcmVzc2VlID0gYWRkcmVzc2VlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlsZW5hbWUgb2YgdGhlIGVuY29kZWQgZmlsZVxuICAgICAqXG4gICAgICogQHJldHVybiBmaWxlbmFtZVxuICAgICAqL1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5nZXRGaWxlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZU5hbWU7XG4gICAgfTtcbiAgICBQREY0MTdSZXN1bHRNZXRhZGF0YS5wcm90b3R5cGUuc2V0RmlsZU5hbWUgPSBmdW5jdGlvbiAoZmlsZU5hbWUpIHtcbiAgICAgICAgdGhpcy5maWxlTmFtZSA9IGZpbGVOYW1lO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogZmlsZXNpemUgaW4gYnl0ZXMgb2YgdGhlIGVuY29kZWQgZmlsZVxuICAgICAqXG4gICAgICogQHJldHVybiBmaWxlc2l6ZSBpbiBieXRlcywgLTEgaWYgbm90IHNldFxuICAgICAqL1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5nZXRGaWxlU2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZVNpemU7XG4gICAgfTtcbiAgICBQREY0MTdSZXN1bHRNZXRhZGF0YS5wcm90b3R5cGUuc2V0RmlsZVNpemUgPSBmdW5jdGlvbiAoZmlsZVNpemUgLypsb25nKi8pIHtcbiAgICAgICAgdGhpcy5maWxlU2l6ZSA9IGZpbGVTaXplO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogMTYtYml0IENSQyBjaGVja3N1bSB1c2luZyBDQ0lUVC0xNlxuICAgICAqXG4gICAgICogQHJldHVybiBjcmMgY2hlY2tzdW0sIC0xIGlmIG5vdCBzZXRcbiAgICAgKi9cbiAgICBQREY0MTdSZXN1bHRNZXRhZGF0YS5wcm90b3R5cGUuZ2V0Q2hlY2tzdW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrc3VtO1xuICAgIH07XG4gICAgUERGNDE3UmVzdWx0TWV0YWRhdGEucHJvdG90eXBlLnNldENoZWNrc3VtID0gZnVuY3Rpb24gKGNoZWNrc3VtIC8qaW50Ki8pIHtcbiAgICAgICAgdGhpcy5jaGVja3N1bSA9IGNoZWNrc3VtO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogdW5peCBlcG9jayB0aW1lc3RhbXAsIGVsYXBzZWQgc2Vjb25kcyBzaW5jZSAxOTcwLTAxLTAxXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGVsYXBzZWQgc2Vjb25kcywgLTEgaWYgbm90IHNldFxuICAgICAqL1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5nZXRUaW1lc3RhbXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVzdGFtcDtcbiAgICB9O1xuICAgIFBERjQxN1Jlc3VsdE1ldGFkYXRhLnByb3RvdHlwZS5zZXRUaW1lc3RhbXAgPSBmdW5jdGlvbiAodGltZXN0YW1wIC8qbG9uZyovKSB7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgIH07XG4gICAgcmV0dXJuIFBERjQxN1Jlc3VsdE1ldGFkYXRhO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFBERjQxN1Jlc3VsdE1ldGFkYXRhO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UERGNDE3UmVzdWx0TWV0YWRhdGEuanMubWFwIiwiLyoqXG4gKiBQb255ZmlsbCBmb3IgSmF2YSdzIExvbmcgY2xhc3MuXG4gKi9cbnZhciBMb25nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvbmcoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIHN0cmluZyB0byBhIG51bWJlciwgc2luY2UgSlMgaGFzIG5vIHJlYWxseSBJbnQ2NC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBudW0gTnVtZXJpYyBzdHJpbmcuXG4gICAgICogQHBhcmFtIHJhZGl4IERlc3RpbmF0aW9uIHJhZGl4LlxuICAgICAqL1xuICAgIExvbmcucGFyc2VMb25nID0gZnVuY3Rpb24gKG51bSwgcmFkaXgpIHtcbiAgICAgICAgaWYgKHJhZGl4ID09PSB2b2lkIDApIHsgcmFkaXggPSB1bmRlZmluZWQ7IH1cbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KG51bSwgcmFkaXgpO1xuICAgIH07XG4gICAgcmV0dXJuIExvbmc7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgTG9uZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvbmcuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vRXhjZXB0aW9uJztcbi8qKlxuICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLlxuICovXG52YXIgTnVsbFBvaW50ZXJFeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE51bGxQb2ludGVyRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE51bGxQb2ludGVyRXhjZXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIE51bGxQb2ludGVyRXhjZXB0aW9uLmtpbmQgPSAnTnVsbFBvaW50ZXJFeGNlcHRpb24nO1xuICAgIHJldHVybiBOdWxsUG9pbnRlckV4Y2VwdGlvbjtcbn0oRXhjZXB0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBOdWxsUG9pbnRlckV4Y2VwdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU51bGxQb2ludGVyRXhjZXB0aW9uLmpzLm1hcCIsImltcG9ydCBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGZyb20gJy4uL0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nO1xuaW1wb3J0IE51bGxQb2ludGVyRXhjZXB0aW9uIGZyb20gJy4uL051bGxQb2ludGVyRXhjZXB0aW9uJztcbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDE5OTQsIDIwMDQsIE9yYWNsZSBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBETyBOT1QgQUxURVIgT1IgUkVNT1ZFIENPUFlSSUdIVCBOT1RJQ0VTIE9SIFRISVMgRklMRSBIRUFERVIuXG4gKlxuICogVGhpcyBjb2RlIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXRcbiAqIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvbiAyIG9ubHksIGFzXG4gKiBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbi4gIE9yYWNsZSBkZXNpZ25hdGVzIHRoaXNcbiAqIHBhcnRpY3VsYXIgZmlsZSBhcyBzdWJqZWN0IHRvIHRoZSBcIkNsYXNzcGF0aFwiIGV4Y2VwdGlvbiBhcyBwcm92aWRlZFxuICogYnkgT3JhY2xlIGluIHRoZSBMSUNFTlNFIGZpbGUgdGhhdCBhY2NvbXBhbmllZCB0aGlzIGNvZGUuXG4gKlxuICogVGhpcyBjb2RlIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsIGJ1dCBXSVRIT1VUXG4gKiBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZiBNRVJDSEFOVEFCSUxJVFkgb3JcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogdmVyc2lvbiAyIGZvciBtb3JlIGRldGFpbHMgKGEgY29weSBpcyBpbmNsdWRlZCBpbiB0aGUgTElDRU5TRSBmaWxlIHRoYXRcbiAqIGFjY29tcGFuaWVkIHRoaXMgY29kZSkuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgdmVyc2lvblxuICogMiBhbG9uZyB3aXRoIHRoaXMgd29yazsgaWYgbm90LCB3cml0ZSB0byB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLFxuICogSW5jLiwgNTEgRnJhbmtsaW4gU3QsIEZpZnRoIEZsb29yLCBCb3N0b24sIE1BIDAyMTEwLTEzMDEgVVNBLlxuICpcbiAqIFBsZWFzZSBjb250YWN0IE9yYWNsZSwgNTAwIE9yYWNsZSBQYXJrd2F5LCBSZWR3b29kIFNob3JlcywgQ0EgOTQwNjUgVVNBXG4gKiBvciB2aXNpdCB3d3cub3JhY2xlLmNvbSBpZiB5b3UgbmVlZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIG9yIGhhdmUgYW55XG4gKiBxdWVzdGlvbnMuXG4gKi9cbi8vIHBhY2thZ2UgamF2YS5pbztcbi8qKlxuICogVGhpcyBhYnN0cmFjdCBjbGFzcyBpcyB0aGUgc3VwZXJjbGFzcyBvZiBhbGwgY2xhc3NlcyByZXByZXNlbnRpbmdcbiAqIGFuIG91dHB1dCBzdHJlYW0gb2YgYnl0ZXMuIEFuIG91dHB1dCBzdHJlYW0gYWNjZXB0cyBvdXRwdXQgYnl0ZXNcbiAqIGFuZCBzZW5kcyB0aGVtIHRvIHNvbWUgc2luay5cbiAqIDxwPlxuICogQXBwbGljYXRpb25zIHRoYXQgbmVlZCB0byBkZWZpbmUgYSBzdWJjbGFzcyBvZlxuICogPGNvZGU+T3V0cHV0U3RyZWFtPC9jb2RlPiBtdXN0IGFsd2F5cyBwcm92aWRlIGF0IGxlYXN0IGEgbWV0aG9kXG4gKiB0aGF0IHdyaXRlcyBvbmUgYnl0ZSBvZiBvdXRwdXQuXG4gKlxuICogQGF1dGhvciAgQXJ0aHVyIHZhbiBIb2ZmXG4gKiBAc2VlICAgICBqYXZhLmlvLkJ1ZmZlcmVkT3V0cHV0U3RyZWFtXG4gKiBAc2VlICAgICBqYXZhLmlvLkJ5dGVBcnJheU91dHB1dFN0cmVhbVxuICogQHNlZSAgICAgamF2YS5pby5EYXRhT3V0cHV0U3RyZWFtXG4gKiBAc2VlICAgICBqYXZhLmlvLkZpbHRlck91dHB1dFN0cmVhbVxuICogQHNlZSAgICAgamF2YS5pby5JbnB1dFN0cmVhbVxuICogQHNlZSAgICAgamF2YS5pby5PdXRwdXRTdHJlYW0jd3JpdGUoaW50KVxuICogQHNpbmNlICAgSkRLMS4wXG4gKi9cbnZhciBPdXRwdXRTdHJlYW0gLyppbXBsZW1lbnRzIENsb3NlYWJsZSwgRmx1c2hhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT3V0cHV0U3RyZWFtKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgPGNvZGU+Yi5sZW5ndGg8L2NvZGU+IGJ5dGVzIGZyb20gdGhlIHNwZWNpZmllZCBieXRlIGFycmF5XG4gICAgICogdG8gdGhpcyBvdXRwdXQgc3RyZWFtLiBUaGUgZ2VuZXJhbCBjb250cmFjdCBmb3IgPGNvZGU+d3JpdGUoYik8L2NvZGU+XG4gICAgICogaXMgdGhhdCBpdCBzaG91bGQgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVmZmVjdCBhcyB0aGUgY2FsbFxuICAgICAqIDxjb2RlPndyaXRlKGIsIDAsIGIubGVuZ3RoKTwvY29kZT4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICAgICBiICAgdGhlIGRhdGEuXG4gICAgICogQGV4Y2VwdGlvbiAgSU9FeGNlcHRpb24gIGlmIGFuIEkvTyBlcnJvciBvY2N1cnMuXG4gICAgICogQHNlZSAgICAgICAgamF2YS5pby5PdXRwdXRTdHJlYW0jd3JpdGUoYnl0ZVtdLCBpbnQsIGludClcbiAgICAgKi9cbiAgICBPdXRwdXRTdHJlYW0ucHJvdG90eXBlLndyaXRlQnl0ZXMgPSBmdW5jdGlvbiAoYikge1xuICAgICAgICB0aGlzLndyaXRlQnl0ZXNPZmZzZXQoYiwgMCwgYi5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGVzIDxjb2RlPmxlbjwvY29kZT4gYnl0ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIGJ5dGUgYXJyYXlcbiAgICAgKiBzdGFydGluZyBhdCBvZmZzZXQgPGNvZGU+b2ZmPC9jb2RlPiB0byB0aGlzIG91dHB1dCBzdHJlYW0uXG4gICAgICogVGhlIGdlbmVyYWwgY29udHJhY3QgZm9yIDxjb2RlPndyaXRlKGIsIG9mZiwgbGVuKTwvY29kZT4gaXMgdGhhdFxuICAgICAqIHNvbWUgb2YgdGhlIGJ5dGVzIGluIHRoZSBhcnJheSA8Y29kZT5iPC9jb2RlPiBhcmUgd3JpdHRlbiB0byB0aGVcbiAgICAgKiBvdXRwdXQgc3RyZWFtIGluIG9yZGVyOyBlbGVtZW50IDxjb2RlPmJbb2ZmXTwvY29kZT4gaXMgdGhlIGZpcnN0XG4gICAgICogYnl0ZSB3cml0dGVuIGFuZCA8Y29kZT5iW29mZitsZW4tMV08L2NvZGU+IGlzIHRoZSBsYXN0IGJ5dGUgd3JpdHRlblxuICAgICAqIGJ5IHRoaXMgb3BlcmF0aW9uLlxuICAgICAqIDxwPlxuICAgICAqIFRoZSA8Y29kZT53cml0ZTwvY29kZT4gbWV0aG9kIG9mIDxjb2RlPk91dHB1dFN0cmVhbTwvY29kZT4gY2FsbHNcbiAgICAgKiB0aGUgd3JpdGUgbWV0aG9kIG9mIG9uZSBhcmd1bWVudCBvbiBlYWNoIG9mIHRoZSBieXRlcyB0byBiZVxuICAgICAqIHdyaXR0ZW4gb3V0LiBTdWJjbGFzc2VzIGFyZSBlbmNvdXJhZ2VkIHRvIG92ZXJyaWRlIHRoaXMgbWV0aG9kIGFuZFxuICAgICAqIHByb3ZpZGUgYSBtb3JlIGVmZmljaWVudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiA8cD5cbiAgICAgKiBJZiA8Y29kZT5iPC9jb2RlPiBpcyA8Y29kZT5udWxsPC9jb2RlPiwgYVxuICAgICAqIDxjb2RlPk51bGxQb2ludGVyRXhjZXB0aW9uPC9jb2RlPiBpcyB0aHJvd24uXG4gICAgICogPHA+XG4gICAgICogSWYgPGNvZGU+b2ZmPC9jb2RlPiBpcyBuZWdhdGl2ZSwgb3IgPGNvZGU+bGVuPC9jb2RlPiBpcyBuZWdhdGl2ZSwgb3JcbiAgICAgKiA8Y29kZT5vZmYrbGVuPC9jb2RlPiBpcyBncmVhdGVyIHRoYW4gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXlcbiAgICAgKiA8Y29kZT5iPC9jb2RlPiwgdGhlbiBhbiA8dHQ+SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjwvdHQ+IGlzIHRocm93bi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgICAgIGIgICAgIHRoZSBkYXRhLlxuICAgICAqIEBwYXJhbSAgICAgIG9mZiAgIHRoZSBzdGFydCBvZmZzZXQgaW4gdGhlIGRhdGEuXG4gICAgICogQHBhcmFtICAgICAgbGVuICAgdGhlIG51bWJlciBvZiBieXRlcyB0byB3cml0ZS5cbiAgICAgKiBAZXhjZXB0aW9uICBJT0V4Y2VwdGlvbiAgaWYgYW4gSS9PIGVycm9yIG9jY3Vycy4gSW4gcGFydGljdWxhcixcbiAgICAgKiAgICAgICAgICAgICBhbiA8Y29kZT5JT0V4Y2VwdGlvbjwvY29kZT4gaXMgdGhyb3duIGlmIHRoZSBvdXRwdXRcbiAgICAgKiAgICAgICAgICAgICBzdHJlYW0gaXMgY2xvc2VkLlxuICAgICAqL1xuICAgIE91dHB1dFN0cmVhbS5wcm90b3R5cGUud3JpdGVCeXRlc09mZnNldCA9IGZ1bmN0aW9uIChiLCBvZmYsIGxlbikge1xuICAgICAgICBpZiAoYiA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTnVsbFBvaW50ZXJFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgob2ZmIDwgMCkgfHwgKG9mZiA+IGIubGVuZ3RoKSB8fCAobGVuIDwgMCkgfHxcbiAgICAgICAgICAgICgob2ZmICsgbGVuKSA+IGIubGVuZ3RoKSB8fCAoKG9mZiArIGxlbikgPCAwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKGJbb2ZmICsgaV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGbHVzaGVzIHRoaXMgb3V0cHV0IHN0cmVhbSBhbmQgZm9yY2VzIGFueSBidWZmZXJlZCBvdXRwdXQgYnl0ZXNcbiAgICAgKiB0byBiZSB3cml0dGVuIG91dC4gVGhlIGdlbmVyYWwgY29udHJhY3Qgb2YgPGNvZGU+Zmx1c2g8L2NvZGU+IGlzXG4gICAgICogdGhhdCBjYWxsaW5nIGl0IGlzIGFuIGluZGljYXRpb24gdGhhdCwgaWYgYW55IGJ5dGVzIHByZXZpb3VzbHlcbiAgICAgKiB3cml0dGVuIGhhdmUgYmVlbiBidWZmZXJlZCBieSB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIG91dHB1dFxuICAgICAqIHN0cmVhbSwgc3VjaCBieXRlcyBzaG91bGQgaW1tZWRpYXRlbHkgYmUgd3JpdHRlbiB0byB0aGVpclxuICAgICAqIGludGVuZGVkIGRlc3RpbmF0aW9uLlxuICAgICAqIDxwPlxuICAgICAqIElmIHRoZSBpbnRlbmRlZCBkZXN0aW5hdGlvbiBvZiB0aGlzIHN0cmVhbSBpcyBhbiBhYnN0cmFjdGlvbiBwcm92aWRlZCBieVxuICAgICAqIHRoZSB1bmRlcmx5aW5nIG9wZXJhdGluZyBzeXN0ZW0sIGZvciBleGFtcGxlIGEgZmlsZSwgdGhlbiBmbHVzaGluZyB0aGVcbiAgICAgKiBzdHJlYW0gZ3VhcmFudGVlcyBvbmx5IHRoYXQgYnl0ZXMgcHJldmlvdXNseSB3cml0dGVuIHRvIHRoZSBzdHJlYW0gYXJlXG4gICAgICogcGFzc2VkIHRvIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGZvciB3cml0aW5nOyBpdCBkb2VzIG5vdCBndWFyYW50ZWUgdGhhdFxuICAgICAqIHRoZXkgYXJlIGFjdHVhbGx5IHdyaXR0ZW4gdG8gYSBwaHlzaWNhbCBkZXZpY2Ugc3VjaCBhcyBhIGRpc2sgZHJpdmUuXG4gICAgICogPHA+XG4gICAgICogVGhlIDxjb2RlPmZsdXNoPC9jb2RlPiBtZXRob2Qgb2YgPGNvZGU+T3V0cHV0U3RyZWFtPC9jb2RlPiBkb2VzIG5vdGhpbmcuXG4gICAgICpcbiAgICAgKiBAZXhjZXB0aW9uICBJT0V4Y2VwdGlvbiAgaWYgYW4gSS9PIGVycm9yIG9jY3Vycy5cbiAgICAgKi9cbiAgICBPdXRwdXRTdHJlYW0ucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoaXMgb3V0cHV0IHN0cmVhbSBhbmQgcmVsZWFzZXMgYW55IHN5c3RlbSByZXNvdXJjZXNcbiAgICAgKiBhc3NvY2lhdGVkIHdpdGggdGhpcyBzdHJlYW0uIFRoZSBnZW5lcmFsIGNvbnRyYWN0IG9mIDxjb2RlPmNsb3NlPC9jb2RlPlxuICAgICAqIGlzIHRoYXQgaXQgY2xvc2VzIHRoZSBvdXRwdXQgc3RyZWFtLiBBIGNsb3NlZCBzdHJlYW0gY2Fubm90IHBlcmZvcm1cbiAgICAgKiBvdXRwdXQgb3BlcmF0aW9ucyBhbmQgY2Fubm90IGJlIHJlb3BlbmVkLlxuICAgICAqIDxwPlxuICAgICAqIFRoZSA8Y29kZT5jbG9zZTwvY29kZT4gbWV0aG9kIG9mIDxjb2RlPk91dHB1dFN0cmVhbTwvY29kZT4gZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogQGV4Y2VwdGlvbiAgSU9FeGNlcHRpb24gIGlmIGFuIEkvTyBlcnJvciBvY2N1cnMuXG4gICAgICovXG4gICAgT3V0cHV0U3RyZWFtLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIHJldHVybiBPdXRwdXRTdHJlYW07XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgT3V0cHV0U3RyZWFtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3V0cHV0U3RyZWFtLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL0V4Y2VwdGlvbic7XG4vKipcbiAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi5cbiAqL1xudmFyIE91dE9mTWVtb3J5RXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE91dE9mTWVtb3J5RXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3V0T2ZNZW1vcnlFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gT3V0T2ZNZW1vcnlFcnJvcjtcbn0oRXhjZXB0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBPdXRPZk1lbW9yeUVycm9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3V0T2ZNZW1vcnlFcnJvci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IChjKSAxOTk0LCAyMDEwLCBPcmFjbGUgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogRE8gTk9UIEFMVEVSIE9SIFJFTU9WRSBDT1BZUklHSFQgTk9USUNFUyBPUiBUSElTIEZJTEUgSEVBREVSLlxuICpcbiAqIFRoaXMgY29kZSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0XG4gKiB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb24gMiBvbmx5LCBhc1xuICogcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24uICBPcmFjbGUgZGVzaWduYXRlcyB0aGlzXG4gKiBwYXJ0aWN1bGFyIGZpbGUgYXMgc3ViamVjdCB0byB0aGUgXCJDbGFzc3BhdGhcIiBleGNlcHRpb24gYXMgcHJvdmlkZWRcbiAqIGJ5IE9yYWNsZSBpbiB0aGUgTElDRU5TRSBmaWxlIHRoYXQgYWNjb21wYW5pZWQgdGhpcyBjb2RlLlxuICpcbiAqIFRoaXMgY29kZSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVFxuICogQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIHZlcnNpb24gMiBmb3IgbW9yZSBkZXRhaWxzIChhIGNvcHkgaXMgaW5jbHVkZWQgaW4gdGhlIExJQ0VOU0UgZmlsZSB0aGF0XG4gKiBhY2NvbXBhbmllZCB0aGlzIGNvZGUpLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHZlcnNpb25cbiAqIDIgYWxvbmcgd2l0aCB0aGlzIHdvcms7IGlmIG5vdCwgd3JpdGUgdG8gdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbixcbiAqIEluYy4sIDUxIEZyYW5rbGluIFN0LCBGaWZ0aCBGbG9vciwgQm9zdG9uLCBNQSAwMjExMC0xMzAxIFVTQS5cbiAqXG4gKiBQbGVhc2UgY29udGFjdCBPcmFjbGUsIDUwMCBPcmFjbGUgUGFya3dheSwgUmVkd29vZCBTaG9yZXMsIENBIDk0MDY1IFVTQVxuICogb3IgdmlzaXQgd3d3Lm9yYWNsZS5jb20gaWYgeW91IG5lZWQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBvciBoYXZlIGFueVxuICogcXVlc3Rpb25zLlxuICovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbi8vIHBhY2thZ2UgamF2YS5pbztcbi8vIGltcG9ydCBqYXZhLnV0aWwuQXJyYXlzO1xuaW1wb3J0IEFycmF5cyBmcm9tICcuL0FycmF5cyc7XG5pbXBvcnQgT3V0cHV0U3RyZWFtIGZyb20gJy4vT3V0cHV0U3RyZWFtJztcbmltcG9ydCBJbnRlZ2VyIGZyb20gJy4vSW50ZWdlcic7XG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4uL0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7XG5pbXBvcnQgT3V0T2ZNZW1vcnlFcnJvciBmcm9tICcuLi9PdXRPZk1lbW9yeUVycm9yJztcbmltcG9ydCBTeXN0ZW0gZnJvbSAnLi9TeXN0ZW0nO1xuaW1wb3J0IEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24gZnJvbSAnLi4vSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbic7XG4vKipcbiAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhbiBvdXRwdXQgc3RyZWFtIGluIHdoaWNoIHRoZSBkYXRhIGlzXG4gKiB3cml0dGVuIGludG8gYSBieXRlIGFycmF5LiBUaGUgYnVmZmVyIGF1dG9tYXRpY2FsbHkgZ3Jvd3MgYXMgZGF0YVxuICogaXMgd3JpdHRlbiB0byBpdC5cbiAqIFRoZSBkYXRhIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgPGNvZGU+dG9CeXRlQXJyYXkoKTwvY29kZT4gYW5kXG4gKiA8Y29kZT50b1N0cmluZygpPC9jb2RlPi5cbiAqIDxwPlxuICogQ2xvc2luZyBhIDx0dD5CeXRlQXJyYXlPdXRwdXRTdHJlYW08L3R0PiBoYXMgbm8gZWZmZWN0LiBUaGUgbWV0aG9kcyBpblxuICogdGhpcyBjbGFzcyBjYW4gYmUgY2FsbGVkIGFmdGVyIHRoZSBzdHJlYW0gaGFzIGJlZW4gY2xvc2VkIHdpdGhvdXRcbiAqIGdlbmVyYXRpbmcgYW4gPHR0PklPRXhjZXB0aW9uPC90dD4uXG4gKlxuICogQGF1dGhvciAgQXJ0aHVyIHZhbiBIb2ZmXG4gKiBAc2luY2UgICBKREsxLjBcbiAqL1xudmFyIEJ5dGVBcnJheU91dHB1dFN0cmVhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnl0ZUFycmF5T3V0cHV0U3RyZWFtLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYnl0ZSBhcnJheSBvdXRwdXQgc3RyZWFtLiBUaGUgYnVmZmVyIGNhcGFjaXR5IGlzXG4gICAgICogaW5pdGlhbGx5IDMyIGJ5dGVzLCB0aG91Z2ggaXRzIHNpemUgaW5jcmVhc2VzIGlmIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gICAgIHRoaXMoMzIpO1xuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGJ5dGUgYXJyYXkgb3V0cHV0IHN0cmVhbSwgd2l0aCBhIGJ1ZmZlciBjYXBhY2l0eSBvZlxuICAgICAqIHRoZSBzcGVjaWZpZWQgc2l6ZSwgaW4gYnl0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBzaXplICAgdGhlIGluaXRpYWwgc2l6ZS5cbiAgICAgKiBAZXhjZXB0aW9uICBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgc2l6ZSBpcyBuZWdhdGl2ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCeXRlQXJyYXlPdXRwdXRTdHJlYW0oc2l6ZSkge1xuICAgICAgICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7IHNpemUgPSAzMjsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiB2YWxpZCBieXRlcyBpbiB0aGUgYnVmZmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICBpZiAoc2l6ZSA8IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oJ05lZ2F0aXZlIGluaXRpYWwgc2l6ZTogJ1xuICAgICAgICAgICAgICAgICsgc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuYnVmID0gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5jcmVhc2VzIHRoZSBjYXBhY2l0eSBpZiBuZWNlc3NhcnkgdG8gZW5zdXJlIHRoYXQgaXQgY2FuIGhvbGRcbiAgICAgKiBhdCBsZWFzdCB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHNwZWNpZmllZCBieSB0aGUgbWluaW11bVxuICAgICAqIGNhcGFjaXR5IGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIG1pbkNhcGFjaXR5IHRoZSBkZXNpcmVkIG1pbmltdW0gY2FwYWNpdHlcbiAgICAgKiBAdGhyb3dzIE91dE9mTWVtb3J5RXJyb3IgaWYge0Bjb2RlIG1pbkNhcGFjaXR5IDwgMH0uICBUaGlzIGlzXG4gICAgICogaW50ZXJwcmV0ZWQgYXMgYSByZXF1ZXN0IGZvciB0aGUgdW5zYXRpc2ZpYWJseSBsYXJnZSBjYXBhY2l0eVxuICAgICAqIHtAY29kZSAobG9uZykgSW50ZWdlci5NQVhfVkFMVUUgKyAobWluQ2FwYWNpdHkgLSBJbnRlZ2VyLk1BWF9WQUxVRSl9LlxuICAgICAqL1xuICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAobWluQ2FwYWNpdHkpIHtcbiAgICAgICAgLy8gb3ZlcmZsb3ctY29uc2Npb3VzIGNvZGVcbiAgICAgICAgaWYgKG1pbkNhcGFjaXR5IC0gdGhpcy5idWYubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHRoaXMuZ3JvdyhtaW5DYXBhY2l0eSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbmNyZWFzZXMgdGhlIGNhcGFjaXR5IHRvIGVuc3VyZSB0aGF0IGl0IGNhbiBob2xkIGF0IGxlYXN0IHRoZVxuICAgICAqIG51bWJlciBvZiBlbGVtZW50cyBzcGVjaWZpZWQgYnkgdGhlIG1pbmltdW0gY2FwYWNpdHkgYXJndW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWluQ2FwYWNpdHkgdGhlIGRlc2lyZWQgbWluaW11bSBjYXBhY2l0eVxuICAgICAqL1xuICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbS5wcm90b3R5cGUuZ3JvdyA9IGZ1bmN0aW9uIChtaW5DYXBhY2l0eSkge1xuICAgICAgICAvLyBvdmVyZmxvdy1jb25zY2lvdXMgY29kZVxuICAgICAgICB2YXIgb2xkQ2FwYWNpdHkgPSB0aGlzLmJ1Zi5sZW5ndGg7XG4gICAgICAgIHZhciBuZXdDYXBhY2l0eSA9IG9sZENhcGFjaXR5IDw8IDE7XG4gICAgICAgIGlmIChuZXdDYXBhY2l0eSAtIG1pbkNhcGFjaXR5IDwgMClcbiAgICAgICAgICAgIG5ld0NhcGFjaXR5ID0gbWluQ2FwYWNpdHk7XG4gICAgICAgIGlmIChuZXdDYXBhY2l0eSA8IDApIHtcbiAgICAgICAgICAgIGlmIChtaW5DYXBhY2l0eSA8IDApIC8vIG92ZXJmbG93XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE91dE9mTWVtb3J5RXJyb3IoKTtcbiAgICAgICAgICAgIG5ld0NhcGFjaXR5ID0gSW50ZWdlci5NQVhfVkFMVUU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5idWYgPSBBcnJheXMuY29weU9mVWludDhBcnJheSh0aGlzLmJ1ZiwgbmV3Q2FwYWNpdHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRoZSBzcGVjaWZpZWQgYnl0ZSB0byB0aGlzIGJ5dGUgYXJyYXkgb3V0cHV0IHN0cmVhbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGIgICB0aGUgYnl0ZSB0byBiZSB3cml0dGVuLlxuICAgICAqL1xuICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoYikge1xuICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuY291bnQgKyAxKTtcbiAgICAgICAgdGhpcy5idWZbdGhpcy5jb3VudF0gPSAvKihieXRlKSovIGI7XG4gICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyaXRlcyA8Y29kZT5sZW48L2NvZGU+IGJ5dGVzIGZyb20gdGhlIHNwZWNpZmllZCBieXRlIGFycmF5XG4gICAgICogc3RhcnRpbmcgYXQgb2Zmc2V0IDxjb2RlPm9mZjwvY29kZT4gdG8gdGhpcyBieXRlIGFycmF5IG91dHB1dCBzdHJlYW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBiICAgICB0aGUgZGF0YS5cbiAgICAgKiBAcGFyYW0gICBvZmYgICB0aGUgc3RhcnQgb2Zmc2V0IGluIHRoZSBkYXRhLlxuICAgICAqIEBwYXJhbSAgIGxlbiAgIHRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gd3JpdGUuXG4gICAgICovXG4gICAgQnl0ZUFycmF5T3V0cHV0U3RyZWFtLnByb3RvdHlwZS53cml0ZUJ5dGVzT2Zmc2V0ID0gZnVuY3Rpb24gKGIsIG9mZiwgbGVuKSB7XG4gICAgICAgIGlmICgob2ZmIDwgMCkgfHwgKG9mZiA+IGIubGVuZ3RoKSB8fCAobGVuIDwgMCkgfHxcbiAgICAgICAgICAgICgob2ZmICsgbGVuKSAtIGIubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLmNvdW50ICsgbGVuKTtcbiAgICAgICAgU3lzdGVtLmFycmF5Y29weShiLCBvZmYsIHRoaXMuYnVmLCB0aGlzLmNvdW50LCBsZW4pO1xuICAgICAgICB0aGlzLmNvdW50ICs9IGxlbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdyaXRlcyB0aGUgY29tcGxldGUgY29udGVudHMgb2YgdGhpcyBieXRlIGFycmF5IG91dHB1dCBzdHJlYW0gdG9cbiAgICAgKiB0aGUgc3BlY2lmaWVkIG91dHB1dCBzdHJlYW0gYXJndW1lbnQsIGFzIGlmIGJ5IGNhbGxpbmcgdGhlIG91dHB1dFxuICAgICAqIHN0cmVhbSdzIHdyaXRlIG1ldGhvZCB1c2luZyA8Y29kZT5vdXQud3JpdGUoYnVmLCAwLCBjb3VudCk8L2NvZGU+LlxuICAgICAqXG4gICAgICogQHBhcmFtICAgICAgb3V0ICAgdGhlIG91dHB1dCBzdHJlYW0gdG8gd2hpY2ggdG8gd3JpdGUgdGhlIGRhdGEuXG4gICAgICogQGV4Y2VwdGlvbiAgSU9FeGNlcHRpb24gIGlmIGFuIEkvTyBlcnJvciBvY2N1cnMuXG4gICAgICovXG4gICAgQnl0ZUFycmF5T3V0cHV0U3RyZWFtLnByb3RvdHlwZS53cml0ZVRvID0gZnVuY3Rpb24gKG91dCkge1xuICAgICAgICBvdXQud3JpdGVCeXRlc09mZnNldCh0aGlzLmJ1ZiwgMCwgdGhpcy5jb3VudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIDxjb2RlPmNvdW50PC9jb2RlPiBmaWVsZCBvZiB0aGlzIGJ5dGUgYXJyYXkgb3V0cHV0XG4gICAgICogc3RyZWFtIHRvIHplcm8sIHNvIHRoYXQgYWxsIGN1cnJlbnRseSBhY2N1bXVsYXRlZCBvdXRwdXQgaW4gdGhlXG4gICAgICogb3V0cHV0IHN0cmVhbSBpcyBkaXNjYXJkZWQuIFRoZSBvdXRwdXQgc3RyZWFtIGNhbiBiZSB1c2VkIGFnYWluLFxuICAgICAqIHJldXNpbmcgdGhlIGFscmVhZHkgYWxsb2NhdGVkIGJ1ZmZlciBzcGFjZS5cbiAgICAgKlxuICAgICAqIEBzZWUgICAgIGphdmEuaW8uQnl0ZUFycmF5SW5wdXRTdHJlYW0jY291bnRcbiAgICAgKi9cbiAgICBCeXRlQXJyYXlPdXRwdXRTdHJlYW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXdseSBhbGxvY2F0ZWQgYnl0ZSBhcnJheS4gSXRzIHNpemUgaXMgdGhlIGN1cnJlbnRcbiAgICAgKiBzaXplIG9mIHRoaXMgb3V0cHV0IHN0cmVhbSBhbmQgdGhlIHZhbGlkIGNvbnRlbnRzIG9mIHRoZSBidWZmZXJcbiAgICAgKiBoYXZlIGJlZW4gY29waWVkIGludG8gaXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuICB0aGUgY3VycmVudCBjb250ZW50cyBvZiB0aGlzIG91dHB1dCBzdHJlYW0sIGFzIGEgYnl0ZSBhcnJheS5cbiAgICAgKiBAc2VlICAgICBqYXZhLmlvLkJ5dGVBcnJheU91dHB1dFN0cmVhbSNzaXplKClcbiAgICAgKi9cbiAgICBCeXRlQXJyYXlPdXRwdXRTdHJlYW0ucHJvdG90eXBlLnRvQnl0ZUFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkodGhpcy5idWYsIHRoaXMuY291bnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBzaXplIG9mIHRoZSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuICB0aGUgdmFsdWUgb2YgdGhlIDxjb2RlPmNvdW50PC9jb2RlPiBmaWVsZCwgd2hpY2ggaXMgdGhlIG51bWJlclxuICAgICAqICAgICAgICAgIG9mIHZhbGlkIGJ5dGVzIGluIHRoaXMgb3V0cHV0IHN0cmVhbS5cbiAgICAgKiBAc2VlICAgICBqYXZhLmlvLkJ5dGVBcnJheU91dHB1dFN0cmVhbSNjb3VudFxuICAgICAqL1xuICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7XG4gICAgfTtcbiAgICBCeXRlQXJyYXlPdXRwdXRTdHJlYW0ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgIGlmICghcGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvU3RyaW5nX3ZvaWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmdfc3RyaW5nKHBhcmFtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50b1N0cmluZ19udW1iZXIocGFyYW0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGJ1ZmZlcidzIGNvbnRlbnRzIGludG8gYSBzdHJpbmcgZGVjb2RpbmcgYnl0ZXMgdXNpbmcgdGhlXG4gICAgICogcGxhdGZvcm0ncyBkZWZhdWx0IGNoYXJhY3RlciBzZXQuIFRoZSBsZW5ndGggb2YgdGhlIG5ldyA8dHQ+U3RyaW5nPC90dD5cbiAgICAgKiBpcyBhIGZ1bmN0aW9uIG9mIHRoZSBjaGFyYWN0ZXIgc2V0LCBhbmQgaGVuY2UgbWF5IG5vdCBiZSBlcXVhbCB0byB0aGVcbiAgICAgKiBzaXplIG9mIHRoZSBidWZmZXIuXG4gICAgICpcbiAgICAgKiA8cD4gVGhpcyBtZXRob2QgYWx3YXlzIHJlcGxhY2VzIG1hbGZvcm1lZC1pbnB1dCBhbmQgdW5tYXBwYWJsZS1jaGFyYWN0ZXJcbiAgICAgKiBzZXF1ZW5jZXMgd2l0aCB0aGUgZGVmYXVsdCByZXBsYWNlbWVudCBzdHJpbmcgZm9yIHRoZSBwbGF0Zm9ybSdzXG4gICAgICogZGVmYXVsdCBjaGFyYWN0ZXIgc2V0LiBUaGUge0BsaW5rcGxhaW4gamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0RGVjb2Rlcn1cbiAgICAgKiBjbGFzcyBzaG91bGQgYmUgdXNlZCB3aGVuIG1vcmUgY29udHJvbCBvdmVyIHRoZSBkZWNvZGluZyBwcm9jZXNzIGlzXG4gICAgICogcmVxdWlyZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIFN0cmluZyBkZWNvZGVkIGZyb20gdGhlIGJ1ZmZlcidzIGNvbnRlbnRzLlxuICAgICAqIEBzaW5jZSAgSkRLMS4xXG4gICAgICovXG4gICAgQnl0ZUFycmF5T3V0cHV0U3RyZWFtLnByb3RvdHlwZS50b1N0cmluZ192b2lkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFN0cmluZyh0aGlzLmJ1ZiAvKiwgMCwgdGhpcy5jb3VudCovKS50b1N0cmluZygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGJ1ZmZlcidzIGNvbnRlbnRzIGludG8gYSBzdHJpbmcgYnkgZGVjb2RpbmcgdGhlIGJ5dGVzIHVzaW5nXG4gICAgICogdGhlIHNwZWNpZmllZCB7QGxpbmsgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0IGNoYXJzZXROYW1lfS4gVGhlIGxlbmd0aCBvZlxuICAgICAqIHRoZSBuZXcgPHR0PlN0cmluZzwvdHQ+IGlzIGEgZnVuY3Rpb24gb2YgdGhlIGNoYXJzZXQsIGFuZCBoZW5jZSBtYXkgbm90IGJlXG4gICAgICogZXF1YWwgdG8gdGhlIGxlbmd0aCBvZiB0aGUgYnl0ZSBhcnJheS5cbiAgICAgKlxuICAgICAqIDxwPiBUaGlzIG1ldGhvZCBhbHdheXMgcmVwbGFjZXMgbWFsZm9ybWVkLWlucHV0IGFuZCB1bm1hcHBhYmxlLWNoYXJhY3RlclxuICAgICAqIHNlcXVlbmNlcyB3aXRoIHRoaXMgY2hhcnNldCdzIGRlZmF1bHQgcmVwbGFjZW1lbnQgc3RyaW5nLiBUaGUge0BsaW5rXG4gICAgICogamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0RGVjb2Rlcn0gY2xhc3Mgc2hvdWxkIGJlIHVzZWQgd2hlbiBtb3JlIGNvbnRyb2xcbiAgICAgKiBvdmVyIHRoZSBkZWNvZGluZyBwcm9jZXNzIGlzIHJlcXVpcmVkLlxuICAgICAqXG4gICAgICogQHBhcmFtICBjaGFyc2V0TmFtZSAgdGhlIG5hbWUgb2YgYSBzdXBwb3J0ZWRcbiAgICAgKiAgICAgICAgICAgICAge0BsaW5rcGxhaW4gamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0IDwvY29kZT5jaGFyc2V0PGNvZGU+fVxuICAgICAqIEByZXR1cm4gU3RyaW5nIGRlY29kZWQgZnJvbSB0aGUgYnVmZmVyJ3MgY29udGVudHMuXG4gICAgICogQGV4Y2VwdGlvbiAgVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvblxuICAgICAqICAgICAgICAgICAgIElmIHRoZSBuYW1lZCBjaGFyc2V0IGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgKiBAc2luY2UgICBKREsxLjFcbiAgICAgKi9cbiAgICBCeXRlQXJyYXlPdXRwdXRTdHJlYW0ucHJvdG90eXBlLnRvU3RyaW5nX3N0cmluZyA9IGZ1bmN0aW9uIChjaGFyc2V0TmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN0cmluZyh0aGlzLmJ1ZiAvKiwgMCwgdGhpcy5jb3VudCwgY2hhcnNldE5hbWUqLykudG9TdHJpbmcoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXdseSBhbGxvY2F0ZWQgc3RyaW5nLiBJdHMgc2l6ZSBpcyB0aGUgY3VycmVudCBzaXplIG9mXG4gICAgICogdGhlIG91dHB1dCBzdHJlYW0gYW5kIHRoZSB2YWxpZCBjb250ZW50cyBvZiB0aGUgYnVmZmVyIGhhdmUgYmVlblxuICAgICAqIGNvcGllZCBpbnRvIGl0LiBFYWNoIGNoYXJhY3RlciA8aT5jPC9pPiBpbiB0aGUgcmVzdWx0aW5nIHN0cmluZyBpc1xuICAgICAqIGNvbnN0cnVjdGVkIGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgZWxlbWVudCA8aT5iPC9pPiBpbiB0aGUgYnl0ZVxuICAgICAqIGFycmF5IHN1Y2ggdGhhdDpcbiAgICAgKiA8YmxvY2txdW90ZT48cHJlPlxuICAgICAqICAgICBjID09IChjaGFyKSgoKGhpYnl0ZSAmYW1wOyAweGZmKSAmbHQ7Jmx0OyA4KSB8IChiICZhbXA7IDB4ZmYpKVxuICAgICAqIDwvcHJlPjwvYmxvY2txdW90ZT5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFRoaXMgbWV0aG9kIGRvZXMgbm90IHByb3Blcmx5IGNvbnZlcnQgYnl0ZXMgaW50byBjaGFyYWN0ZXJzLlxuICAgICAqIEFzIG9mIEpESyZuYnNwOzEuMSwgdGhlIHByZWZlcnJlZCB3YXkgdG8gZG8gdGhpcyBpcyB2aWEgdGhlXG4gICAgICogPGNvZGU+dG9TdHJpbmcoU3RyaW5nIGVuYyk8L2NvZGU+IG1ldGhvZCwgd2hpY2ggdGFrZXMgYW4gZW5jb2RpbmctbmFtZVxuICAgICAqIGFyZ3VtZW50LCBvciB0aGUgPGNvZGU+dG9TdHJpbmcoKTwvY29kZT4gbWV0aG9kLCB3aGljaCB1c2VzIHRoZVxuICAgICAqIHBsYXRmb3JtJ3MgZGVmYXVsdCBjaGFyYWN0ZXIgZW5jb2RpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICAgICBoaWJ5dGUgICAgdGhlIGhpZ2ggYnl0ZSBvZiBlYWNoIHJlc3VsdGluZyBVbmljb2RlIGNoYXJhY3Rlci5cbiAgICAgKiBAcmV0dXJuICAgICB0aGUgY3VycmVudCBjb250ZW50cyBvZiB0aGUgb3V0cHV0IHN0cmVhbSwgYXMgYSBzdHJpbmcuXG4gICAgICogQHNlZSAgICAgICAgamF2YS5pby5CeXRlQXJyYXlPdXRwdXRTdHJlYW0jc2l6ZSgpXG4gICAgICogQHNlZSAgICAgICAgamF2YS5pby5CeXRlQXJyYXlPdXRwdXRTdHJlYW0jdG9TdHJpbmcoU3RyaW5nKVxuICAgICAqIEBzZWUgICAgICAgIGphdmEuaW8uQnl0ZUFycmF5T3V0cHV0U3RyZWFtI3RvU3RyaW5nKClcbiAgICAgKi9cbiAgICAvLyBARGVwcmVjYXRlZFxuICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbS5wcm90b3R5cGUudG9TdHJpbmdfbnVtYmVyID0gZnVuY3Rpb24gKGhpYnl0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN0cmluZyh0aGlzLmJ1ZiAvKiwgaGlieXRlLCAwLCB0aGlzLmNvdW50Ki8pLnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9zaW5nIGEgPHR0PkJ5dGVBcnJheU91dHB1dFN0cmVhbTwvdHQ+IGhhcyBubyBlZmZlY3QuIFRoZSBtZXRob2RzIGluXG4gICAgICogdGhpcyBjbGFzcyBjYW4gYmUgY2FsbGVkIGFmdGVyIHRoZSBzdHJlYW0gaGFzIGJlZW4gY2xvc2VkIHdpdGhvdXRcbiAgICAgKiBnZW5lcmF0aW5nIGFuIDx0dD5JT0V4Y2VwdGlvbjwvdHQ+LlxuICAgICAqIDxwPlxuICAgICAqXG4gICAgICogQHRocm93cyBJT0V4Y2VwdGlvblxuICAgICAqL1xuICAgIEJ5dGVBcnJheU91dHB1dFN0cmVhbS5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICByZXR1cm4gQnl0ZUFycmF5T3V0cHV0U3RyZWFtO1xufShPdXRwdXRTdHJlYW0pKTtcbmV4cG9ydCBkZWZhdWx0IEJ5dGVBcnJheU91dHB1dFN0cmVhbTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJ5dGVBcnJheU91dHB1dFN0cmVhbS5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIHBhY2thZ2UgY29tLmdvb2dsZS56eGluZy5wZGY0MTcuZGVjb2Rlcjtcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLkZvcm1hdEV4Y2VwdGlvbjtcbmltcG9ydCBGb3JtYXRFeGNlcHRpb24gZnJvbSAnLi4vLi4vRm9ybWF0RXhjZXB0aW9uJztcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5DaGFyYWN0ZXJTZXRFQ0k7XG5pbXBvcnQgQ2hhcmFjdGVyU2V0RUNJIGZyb20gJy4uLy4uL2NvbW1vbi9DaGFyYWN0ZXJTZXRFQ0knO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcuY29tbW9uLkRlY29kZXJSZXN1bHQ7XG5pbXBvcnQgRGVjb2RlclJlc3VsdCBmcm9tICcuLi8uLi9jb21tb24vRGVjb2RlclJlc3VsdCc7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5wZGY0MTcuUERGNDE3UmVzdWx0TWV0YWRhdGE7XG5pbXBvcnQgUERGNDE3UmVzdWx0TWV0YWRhdGEgZnJvbSAnLi4vUERGNDE3UmVzdWx0TWV0YWRhdGEnO1xuLy8gaW1wb3J0IGphdmEuaW8uQnl0ZUFycmF5T3V0cHV0U3RyZWFtO1xuLy8gaW1wb3J0IGphdmEubWF0aC5CaWdJbnRlZ2VyO1xuLy8gaW1wb3J0IGphdmEubmlvLmNoYXJzZXQuQ2hhcnNldDtcbi8vIGltcG9ydCBqYXZhLm5pby5jaGFyc2V0LlN0YW5kYXJkQ2hhcnNldHM7XG4vLyBpbXBvcnQgamF2YS51dGlsLkFycmF5cztcbmltcG9ydCBBcnJheXMgZnJvbSAnLi4vLi4vdXRpbC9BcnJheXMnO1xuaW1wb3J0IFN0cmluZ0J1aWxkZXIgZnJvbSAnLi4vLi4vdXRpbC9TdHJpbmdCdWlsZGVyJztcbmltcG9ydCBJbnRlZ2VyIGZyb20gJy4uLy4uL3V0aWwvSW50ZWdlcic7XG5pbXBvcnQgTG9uZyBmcm9tICcuLi8uLi91dGlsL0xvbmcnO1xuaW1wb3J0IEJ5dGVBcnJheU91dHB1dFN0cmVhbSBmcm9tICcuLi8uLi91dGlsL0J5dGVBcnJheU91dHB1dFN0cmVhbSc7XG5pbXBvcnQgU3RyaW5nRW5jb2RpbmcgZnJvbSAnLi4vLi4vdXRpbC9TdHJpbmdFbmNvZGluZyc7XG4vKnByaXZhdGUqLyB2YXIgTW9kZTtcbihmdW5jdGlvbiAoTW9kZSkge1xuICAgIE1vZGVbTW9kZVtcIkFMUEhBXCJdID0gMF0gPSBcIkFMUEhBXCI7XG4gICAgTW9kZVtNb2RlW1wiTE9XRVJcIl0gPSAxXSA9IFwiTE9XRVJcIjtcbiAgICBNb2RlW01vZGVbXCJNSVhFRFwiXSA9IDJdID0gXCJNSVhFRFwiO1xuICAgIE1vZGVbTW9kZVtcIlBVTkNUXCJdID0gM10gPSBcIlBVTkNUXCI7XG4gICAgTW9kZVtNb2RlW1wiQUxQSEFfU0hJRlRcIl0gPSA0XSA9IFwiQUxQSEFfU0hJRlRcIjtcbiAgICBNb2RlW01vZGVbXCJQVU5DVF9TSElGVFwiXSA9IDVdID0gXCJQVU5DVF9TSElGVFwiO1xufSkoTW9kZSB8fCAoTW9kZSA9IHt9KSk7XG4vKipcbiAqIEluZGlyZWN0bHkgYWNjZXNzIHRoZSBnbG9iYWwgQmlnSW50IGNvbnN0cnVjdG9yLCBpdFxuICogYWxsb3dzIGJyb3dzZXJzIHRoYXQgZG9lc24ndCBzdXBwb3J0IEJpZ0ludCB0byBydW5cbiAqIHRoZSBsaWJyYXJ5IHdpdGhvdXQgYnJlYWtpbmcgZHVlIHRvIFwidW5kZWZpbmVkIEJpZ0ludFwiXG4gKiBlcnJvcnMuXG4gKi9cbmZ1bmN0aW9uIGdldEJpZ0ludENvbnN0cnVjdG9yKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gd2luZG93WydCaWdJbnQnXSB8fCBudWxsO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFsnQmlnSW50J10gfHwgbnVsbDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gc2VsZlsnQmlnSW50J10gfHwgbnVsbDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5cXCd0IHNlYXJjaCBnbG9iYWxzIGZvciBCaWdJbnQhJyk7XG59XG4vKipcbiAqIFVzZWQgdG8gc3RvcmUgdGhlIEJpZ0ludCBjb25zdHJ1Y3Rvci5cbiAqL1xudmFyIEJpZ0ludGVnZXI7XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIGJpZ2ludCB2YWx1ZS4gSXQgYWxsb3dzIGJyb3dzZXJzXG4gKiB0aGF0IGRvZXNuJ3Qgc3VwcG9ydCBCaWdJbnQgdG8gcnVuIHRoZSByZXN0IG9mIHRoZSBsaWJyYXJ5XG4gKiBieSBub3QgZGlyZWN0bHkgYWNjZXNzaW5nIHRoZSBCaWdJbnQgY29uc3RydWN0b3IuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJpZ0ludChudW0pIHtcbiAgICBpZiAodHlwZW9mIEJpZ0ludGVnZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIEJpZ0ludGVnZXIgPSBnZXRCaWdJbnRDb25zdHJ1Y3RvcigpO1xuICAgIH1cbiAgICBpZiAoQmlnSW50ZWdlciA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JpZ0ludCBpcyBub3Qgc3VwcG9ydGVkIScpO1xuICAgIH1cbiAgICByZXR1cm4gQmlnSW50ZWdlcihudW0pO1xufVxuZnVuY3Rpb24gZ2V0RVhQOTAwKCkge1xuICAgIC8vIGluIEphdmEgLSBhcnJheSB3aXRoIGxlbmd0aCA9IDE2XG4gICAgdmFyIEVYUDkwMCA9IFtdO1xuICAgIEVYUDkwMFswXSA9IGNyZWF0ZUJpZ0ludCgxKTtcbiAgICB2YXIgbmluZUh1bmRyZWQgPSBjcmVhdGVCaWdJbnQoOTAwKTtcbiAgICBFWFA5MDBbMV0gPSBuaW5lSHVuZHJlZDtcbiAgICAvLyBpbiBKYXZhIC0gYXJyYXkgd2l0aCBsZW5ndGggPSAxNlxuICAgIGZvciAodmFyIGkgLyppbnQqLyA9IDI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIEVYUDkwMFtpXSA9IEVYUDkwMFtpIC0gMV0gKiBuaW5lSHVuZHJlZDtcbiAgICB9XG4gICAgcmV0dXJuIEVYUDkwMDtcbn1cbi8qKlxuICogPHA+VGhpcyBjbGFzcyBjb250YWlucyB0aGUgbWV0aG9kcyBmb3IgZGVjb2RpbmcgdGhlIFBERjQxNyBjb2Rld29yZHMuPC9wPlxuICpcbiAqIEBhdXRob3IgU0lUQSBMYWIgKGtldmluLm9zdWxsaXZhbkBzaXRhLmFlcm8pXG4gKiBAYXV0aG9yIEd1ZW50aGVyIEdyYXVcbiAqL1xudmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcigpIHtcbiAgICB9XG4gICAgLy8gICBwcml2YXRlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7XG4gICAgLy8gfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGV3b3Jkc1xuICAgICAqIEBwYXJhbSBlY0xldmVsXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvblxuICAgICAqL1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGNvZGV3b3JkcywgZWNMZXZlbCkge1xuICAgICAgICAvLyBwYXNzIGVuY29kaW5nIHRvIHJlc3VsdCAod2lsbCBiZSB1c2VkIGZvciBkZWNvZGUgc3ltYm9scyBpbiBieXRlIG1vZGUpXG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgU3RyaW5nQnVpbGRlcignJyk7XG4gICAgICAgIC8vIGxldCBlbmNvZGluZzogQ2hhcnNldCA9IFN0YW5kYXJkQ2hhcnNldHMuSVNPXzg4NTlfMTtcbiAgICAgICAgdmFyIGVuY29kaW5nID0gQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBub3RlIHRoZSBuZXh0IGNvbW1hbmQgaXMgc3BlY2lmaWMgZnJvbSB0aGlzIFR5cGVTY3JpcHQgbGlicmFyeVxuICAgICAgICAgKiBiZWNhdXNlIFRTIGNhbid0IHByb3Blcmx5IGNhc3Qgc29tZSB2YWx1ZXMgdG8gY2hhciBhbmRcbiAgICAgICAgICogY29udmVydCBpdCB0byBzdHJpbmcgbGF0ZXIgY29ycmVjdGx5IGR1ZSB0byBlbmNvZGluZ1xuICAgICAgICAgKiBkaWZmZXJlbmNlcyBmcm9tIEphdmEgdmVyc2lvbi4gQXMgcmVwb3J0ZWQgaGVyZTpcbiAgICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL3p4aW5nLWpzL2xpYnJhcnkvcHVsbC8yNjQvZmlsZXMjcjM4MjgzMTU5M1xuICAgICAgICAgKi9cbiAgICAgICAgcmVzdWx0LmVuYWJsZURlY29kaW5nKGVuY29kaW5nKTtcbiAgICAgICAgLy8gR2V0IGNvbXBhY3Rpb24gbW9kZVxuICAgICAgICB2YXIgY29kZUluZGV4ID0gMTtcbiAgICAgICAgdmFyIGNvZGUgPSBjb2Rld29yZHNbY29kZUluZGV4KytdO1xuICAgICAgICB2YXIgcmVzdWx0TWV0YWRhdGEgPSBuZXcgUERGNDE3UmVzdWx0TWV0YWRhdGEoKTtcbiAgICAgICAgd2hpbGUgKGNvZGVJbmRleCA8IGNvZGV3b3Jkc1swXSkge1xuICAgICAgICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlRFWFRfQ09NUEFDVElPTl9NT0RFX0xBVENIOlxuICAgICAgICAgICAgICAgICAgICBjb2RlSW5kZXggPSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRleHRDb21wYWN0aW9uKGNvZGV3b3JkcywgY29kZUluZGV4LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQllURV9DT01QQUNUSU9OX01PREVfTEFUQ0g6XG4gICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJZVEVfQ09NUEFDVElPTl9NT0RFX0xBVENIXzY6XG4gICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIuYnl0ZUNvbXBhY3Rpb24oY29kZSwgY29kZXdvcmRzLCBlbmNvZGluZywgY29kZUluZGV4LCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTU9ERV9TSElGVF9UT19CWVRFX0NPTVBBQ1RJT05fTU9ERTpcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgvKihjaGFyKSovIGNvZGV3b3Jkc1tjb2RlSW5kZXgrK10pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTlVNRVJJQ19DT01QQUNUSU9OX01PREVfTEFUQ0g6XG4gICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIubnVtZXJpY0NvbXBhY3Rpb24oY29kZXdvcmRzLCBjb2RlSW5kZXgsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5FQ0lfQ0hBUlNFVDpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJzZXRFQ0kgPSBDaGFyYWN0ZXJTZXRFQ0kuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZShjb2Rld29yZHNbY29kZUluZGV4KytdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5jb2RpbmcgPSBDaGFyc2V0LmZvck5hbWUoY2hhcnNldEVDSS5nZXROYW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuRUNJX0dFTkVSQUxfUFVSUE9TRTpcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuJ3QgZG8gYW55dGhpbmcgd2l0aCBnZW5lcmljIEVDSTsgc2tpcCBpdHMgMiBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleCArPSAyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuRUNJX1VTRVJfREVGSU5FRDpcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuJ3QgZG8gYW55dGhpbmcgd2l0aCB1c2VyIEVDSTsgc2tpcCBpdHMgMSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgY29kZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CRUdJTl9NQUNST19QREY0MTdfQ09OVFJPTF9CTE9DSzpcbiAgICAgICAgICAgICAgICAgICAgY29kZUluZGV4ID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVNYWNyb0Jsb2NrKGNvZGV3b3JkcywgY29kZUluZGV4LCByZXN1bHRNZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CRUdJTl9NQUNST19QREY0MTdfT1BUSU9OQUxfRklFTEQ6XG4gICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1BQ1JPX1BERjQxN19URVJNSU5BVE9SOlxuICAgICAgICAgICAgICAgICAgICAvLyBTaG91bGQgbm90IHNlZSB0aGVzZSBvdXRzaWRlIGEgbWFjcm8gYmxvY2tcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gdGV4dCBjb21wYWN0aW9uLiBEdXJpbmcgdGVzdGluZyBudW1lcm91cyBiYXJjb2Rlc1xuICAgICAgICAgICAgICAgICAgICAvLyBhcHBlYXJlZCB0byBiZSBtaXNzaW5nIHRoZSBzdGFydGluZyBtb2RlLiBJbiB0aGVzZSBjYXNlcyBkZWZhdWx0aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHRleHQgY29tcGFjdGlvbiBzZWVtcyB0byB3b3JrLlxuICAgICAgICAgICAgICAgICAgICBjb2RlSW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgY29kZUluZGV4ID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50ZXh0Q29tcGFjdGlvbihjb2Rld29yZHMsIGNvZGVJbmRleCwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29kZUluZGV4IDwgY29kZXdvcmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvZGUgPSBjb2Rld29yZHNbY29kZUluZGV4KytdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGgoKSA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQgPSBuZXcgRGVjb2RlclJlc3VsdChudWxsLCByZXN1bHQudG9TdHJpbmcoKSwgbnVsbCwgZWNMZXZlbCk7XG4gICAgICAgIGRlY29kZXJSZXN1bHQuc2V0T3RoZXIocmVzdWx0TWV0YWRhdGEpO1xuICAgICAgICByZXR1cm4gZGVjb2RlclJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGludFxuICAgICAqIEBwYXJhbSBwYXJhbTFcbiAgICAgKiBAcGFyYW0gY29kZXdvcmRzXG4gICAgICogQHBhcmFtIGludFxuICAgICAqIEBwYXJhbSBjb2RlSW5kZXhcbiAgICAgKiBAcGFyYW0gUERGNDE3UmVzdWx0TWV0YWRhdGFcbiAgICAgKiBAcGFyYW0gcmVzdWx0TWV0YWRhdGFcbiAgICAgKlxuICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uXG4gICAgICovXG4gICAgLy8gQFN1cHByZXNzV2FybmluZ3MoXCJkZXByZWNhdGlvblwiKVxuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTWFjcm9CbG9jayA9IGZ1bmN0aW9uIChjb2Rld29yZHMsIGNvZGVJbmRleCwgcmVzdWx0TWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKGNvZGVJbmRleCArIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTlVNQkVSX09GX1NFUVVFTkNFX0NPREVXT1JEUyA+IGNvZGV3b3Jkc1swXSkge1xuICAgICAgICAgICAgLy8gd2UgbXVzdCBoYXZlIGF0IGxlYXN0IHR3byBieXRlcyBsZWZ0IGZvciB0aGUgc2VnbWVudCBpbmRleFxuICAgICAgICAgICAgdGhyb3cgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNlZ21lbnRJbmRleEFycmF5ID0gbmV3IEludDMyQXJyYXkoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5OVU1CRVJfT0ZfU0VRVUVOQ0VfQ09ERVdPUkRTKTtcbiAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMDsgaSA8IERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTlVNQkVSX09GX1NFUVVFTkNFX0NPREVXT1JEUzsgaSsrLCBjb2RlSW5kZXgrKykge1xuICAgICAgICAgICAgc2VnbWVudEluZGV4QXJyYXlbaV0gPSBjb2Rld29yZHNbY29kZUluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRNZXRhZGF0YS5zZXRTZWdtZW50SW5kZXgoSW50ZWdlci5wYXJzZUludChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUJhc2U5MDB0b0Jhc2UxMChzZWdtZW50SW5kZXhBcnJheSwgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5OVU1CRVJfT0ZfU0VRVUVOQ0VfQ09ERVdPUkRTKSkpO1xuICAgICAgICB2YXIgZmlsZUlkID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgY29kZUluZGV4ID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50ZXh0Q29tcGFjdGlvbihjb2Rld29yZHMsIGNvZGVJbmRleCwgZmlsZUlkKTtcbiAgICAgICAgcmVzdWx0TWV0YWRhdGEuc2V0RmlsZUlkKGZpbGVJZC50b1N0cmluZygpKTtcbiAgICAgICAgdmFyIG9wdGlvbmFsRmllbGRzU3RhcnQgPSAtMTtcbiAgICAgICAgaWYgKGNvZGV3b3Jkc1tjb2RlSW5kZXhdID09PSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJFR0lOX01BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRCkge1xuICAgICAgICAgICAgb3B0aW9uYWxGaWVsZHNTdGFydCA9IGNvZGVJbmRleCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGNvZGVJbmRleCA8IGNvZGV3b3Jkc1swXSkge1xuICAgICAgICAgICAgc3dpdGNoIChjb2Rld29yZHNbY29kZUluZGV4XSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CRUdJTl9NQUNST19QREY0MTdfT1BUSU9OQUxfRklFTEQ6XG4gICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvZGV3b3Jkc1tjb2RlSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFDUk9fUERGNDE3X09QVElPTkFMX0ZJRUxEX0ZJTEVfTkFNRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIudGV4dENvbXBhY3Rpb24oY29kZXdvcmRzLCBjb2RlSW5kZXggKyAxLCBmaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0TWV0YWRhdGEuc2V0RmlsZU5hbWUoZmlsZU5hbWUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFDUk9fUERGNDE3X09QVElPTkFMX0ZJRUxEX1NFTkRFUjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZGVyID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlSW5kZXggPSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRleHRDb21wYWN0aW9uKGNvZGV3b3JkcywgY29kZUluZGV4ICsgMSwgc2VuZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRNZXRhZGF0YS5zZXRTZW5kZXIoc2VuZGVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRF9BRERSRVNTRUU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZHJlc3NlZSA9IG5ldyBTdHJpbmdCdWlsZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZUluZGV4ID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50ZXh0Q29tcGFjdGlvbihjb2Rld29yZHMsIGNvZGVJbmRleCArIDEsIGFkZHJlc3NlZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0TWV0YWRhdGEuc2V0QWRkcmVzc2VlKGFkZHJlc3NlZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5NQUNST19QREY0MTdfT1BUSU9OQUxfRklFTERfU0VHTUVOVF9DT1VOVDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VnbWVudENvdW50ID0gbmV3IFN0cmluZ0J1aWxkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlSW5kZXggPSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLm51bWVyaWNDb21wYWN0aW9uKGNvZGV3b3JkcywgY29kZUluZGV4ICsgMSwgc2VnbWVudENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRNZXRhZGF0YS5zZXRTZWdtZW50Q291bnQoSW50ZWdlci5wYXJzZUludChzZWdtZW50Q291bnQudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRF9USU1FX1NUQU1QOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIubnVtZXJpY0NvbXBhY3Rpb24oY29kZXdvcmRzLCBjb2RlSW5kZXggKyAxLCB0aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE1ldGFkYXRhLnNldFRpbWVzdGFtcChMb25nLnBhcnNlTG9uZyh0aW1lc3RhbXAudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRF9DSEVDS1NVTTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2tzdW0gPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIubnVtZXJpY0NvbXBhY3Rpb24oY29kZXdvcmRzLCBjb2RlSW5kZXggKyAxLCBjaGVja3N1bSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0TWV0YWRhdGEuc2V0Q2hlY2tzdW0oSW50ZWdlci5wYXJzZUludChjaGVja3N1bS50b1N0cmluZygpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFDUk9fUERGNDE3X09QVElPTkFMX0ZJRUxEX0ZJTEVfU0laRTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVNpemUgPSBuZXcgU3RyaW5nQnVpbGRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIubnVtZXJpY0NvbXBhY3Rpb24oY29kZXdvcmRzLCBjb2RlSW5kZXggKyAxLCBmaWxlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0TWV0YWRhdGEuc2V0RmlsZVNpemUoTG9uZy5wYXJzZUxvbmcoZmlsZVNpemUudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBGb3JtYXRFeGNlcHRpb24uZ2V0Rm9ybWF0SW5zdGFuY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFDUk9fUERGNDE3X1RFUk1JTkFUT1I6XG4gICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRNZXRhZGF0YS5zZXRMYXN0U2VnbWVudCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBvcHRpb25hbCBmaWVsZHMgdG8gYWRkaXRpb25hbCBvcHRpb25zXG4gICAgICAgIGlmIChvcHRpb25hbEZpZWxkc1N0YXJ0ICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbmFsRmllbGRzTGVuZ3RoID0gY29kZUluZGV4IC0gb3B0aW9uYWxGaWVsZHNTdGFydDtcbiAgICAgICAgICAgIGlmIChyZXN1bHRNZXRhZGF0YS5pc0xhc3RTZWdtZW50KCkpIHtcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgaW5jbHVkZSB0ZXJtaW5hdG9yXG4gICAgICAgICAgICAgICAgb3B0aW9uYWxGaWVsZHNMZW5ndGgtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdE1ldGFkYXRhLnNldE9wdGlvbmFsRGF0YShBcnJheXMuY29weU9mUmFuZ2UoY29kZXdvcmRzLCBvcHRpb25hbEZpZWxkc1N0YXJ0LCBvcHRpb25hbEZpZWxkc1N0YXJ0ICsgb3B0aW9uYWxGaWVsZHNMZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29kZUluZGV4O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGV4dCBDb21wYWN0aW9uIG1vZGUgKHNlZSA1LjQuMS41KSBwZXJtaXRzIGFsbCBwcmludGFibGUgQVNDSUkgY2hhcmFjdGVycyB0byBiZVxuICAgICAqIGVuY29kZWQsIGkuZS4gdmFsdWVzIDMyIC0gMTI2IGluY2x1c2l2ZSBpbiBhY2NvcmRhbmNlIHdpdGggSVNPL0lFQyA2NDYgKElSViksIGFzXG4gICAgICogd2VsbCBhcyBzZWxlY3RlZCBjb250cm9sIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29kZXdvcmRzIFRoZSBhcnJheSBvZiBjb2Rld29yZHMgKGRhdGEgKyBlcnJvcilcbiAgICAgKiBAcGFyYW0gY29kZUluZGV4IFRoZSBjdXJyZW50IGluZGV4IGludG8gdGhlIGNvZGV3b3JkIGFycmF5LlxuICAgICAqIEBwYXJhbSByZXN1bHQgICAgVGhlIGRlY29kZWQgZGF0YSBpcyBhcHBlbmRlZCB0byB0aGUgcmVzdWx0LlxuICAgICAqIEByZXR1cm4gVGhlIG5leHQgaW5kZXggaW50byB0aGUgY29kZXdvcmQgYXJyYXkuXG4gICAgICovXG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50ZXh0Q29tcGFjdGlvbiA9IGZ1bmN0aW9uIChjb2Rld29yZHMsIGNvZGVJbmRleCwgcmVzdWx0KSB7XG4gICAgICAgIC8vIDIgY2hhcmFjdGVyIHBlciBjb2Rld29yZFxuICAgICAgICB2YXIgdGV4dENvbXBhY3Rpb25EYXRhID0gbmV3IEludDMyQXJyYXkoKGNvZGV3b3Jkc1swXSAtIGNvZGVJbmRleCkgKiAyKTtcbiAgICAgICAgLy8gVXNlZCB0byBob2xkIHRoZSBieXRlIGNvbXBhY3Rpb24gdmFsdWUgaWYgdGhlcmUgaXMgYSBtb2RlIHNoaWZ0XG4gICAgICAgIHZhciBieXRlQ29tcGFjdGlvbkRhdGEgPSBuZXcgSW50MzJBcnJheSgoY29kZXdvcmRzWzBdIC0gY29kZUluZGV4KSAqIDIpO1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgZW5kID0gZmFsc2U7XG4gICAgICAgIHdoaWxlICgoY29kZUluZGV4IDwgY29kZXdvcmRzWzBdKSAmJiAhZW5kKSB7XG4gICAgICAgICAgICB2YXIgY29kZSA9IGNvZGV3b3Jkc1tjb2RlSW5kZXgrK107XG4gICAgICAgICAgICBpZiAoY29kZSA8IERlY29kZWRCaXRTdHJlYW1QYXJzZXIuVEVYVF9DT01QQUNUSU9OX01PREVfTEFUQ0gpIHtcbiAgICAgICAgICAgICAgICB0ZXh0Q29tcGFjdGlvbkRhdGFbaW5kZXhdID0gY29kZSAvIDMwO1xuICAgICAgICAgICAgICAgIHRleHRDb21wYWN0aW9uRGF0YVtpbmRleCArIDFdID0gY29kZSAlIDMwO1xuICAgICAgICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlRFWFRfQ09NUEFDVElPTl9NT0RFX0xBVENIOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVpbml0aWFsaXplIHRleHQgY29tcGFjdGlvbiBtb2RlIHRvIGFscGhhIHN1YiBtb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29tcGFjdGlvbkRhdGFbaW5kZXgrK10gPSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlRFWFRfQ09NUEFDVElPTl9NT0RFX0xBVENIO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CWVRFX0NPTVBBQ1RJT05fTU9ERV9MQVRDSDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJZVEVfQ09NUEFDVElPTl9NT0RFX0xBVENIXzY6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5OVU1FUklDX0NPTVBBQ1RJT05fTU9ERV9MQVRDSDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJFR0lOX01BQ1JPX1BERjQxN19DT05UUk9MX0JMT0NLOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQkVHSU5fTUFDUk9fUERGNDE3X09QVElPTkFMX0ZJRUxEOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFDUk9fUERGNDE3X1RFUk1JTkFUT1I6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlSW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1PREVfU0hJRlRfVE9fQllURV9DT01QQUNUSU9OX01PREU6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgTW9kZSBTaGlmdCBjb2Rld29yZCA5MTMgc2hhbGwgY2F1c2UgYSB0ZW1wb3JhcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN3aXRjaCBmcm9tIFRleHQgQ29tcGFjdGlvbiBtb2RlIHRvIEJ5dGUgQ29tcGFjdGlvbiBtb2RlLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzd2l0Y2ggc2hhbGwgYmUgaW4gZWZmZWN0IGZvciBvbmx5IHRoZSBuZXh0IGNvZGV3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgd2hpY2ggdGhlIG1vZGUgc2hhbGwgcmV2ZXJ0IHRvIHRoZSBwcmV2YWlsaW5nIHN1Yi1tb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiB0aGUgVGV4dCBDb21wYWN0aW9uIG1vZGUuIENvZGV3b3JkIDkxMyBpcyBvbmx5IGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gVGV4dCBDb21wYWN0aW9uIG1vZGU7IGl0cyB1c2UgaXMgZGVzY3JpYmVkIGluIDUuNC4yLjQuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q29tcGFjdGlvbkRhdGFbaW5kZXhdID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5NT0RFX1NISUZUX1RPX0JZVEVfQ09NUEFDVElPTl9NT0RFO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvZGV3b3Jkc1tjb2RlSW5kZXgrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBieXRlQ29tcGFjdGlvbkRhdGFbaW5kZXhdID0gY29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVUZXh0Q29tcGFjdGlvbih0ZXh0Q29tcGFjdGlvbkRhdGEsIGJ5dGVDb21wYWN0aW9uRGF0YSwgaW5kZXgsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiBjb2RlSW5kZXg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgVGV4dCBDb21wYWN0aW9uIG1vZGUgaW5jbHVkZXMgYWxsIHRoZSBwcmludGFibGUgQVNDSUkgY2hhcmFjdGVyc1xuICAgICAqIChpLmUuIHZhbHVlcyBmcm9tIDMyIHRvIDEyNikgYW5kIHRocmVlIEFTQ0lJIGNvbnRyb2wgY2hhcmFjdGVyczogSFQgb3IgdGFiXG4gICAgICogKDk6IGUpLCBMRiBvciBsaW5lIGZlZWQgKDEwOiBlKSwgYW5kIENSIG9yIGNhcnJpYWdlXG4gICAgICogcmV0dXJuICgxMzogZSkuIFRoZSBUZXh0IENvbXBhY3Rpb24gbW9kZSBhbHNvIGluY2x1ZGVzIHZhcmlvdXMgbGF0Y2hcbiAgICAgKiBhbmQgc2hpZnQgY2hhcmFjdGVycyB3aGljaCBhcmUgdXNlZCBleGNsdXNpdmVseSB3aXRoaW4gdGhlIG1vZGUuIFRoZSBUZXh0XG4gICAgICogQ29tcGFjdGlvbiBtb2RlIGVuY29kZXMgdXAgdG8gMiBjaGFyYWN0ZXJzIHBlciBjb2Rld29yZC4gVGhlIGNvbXBhY3Rpb24gcnVsZXNcbiAgICAgKiBmb3IgY29udmVydGluZyBkYXRhIGludG8gUERGNDE3IGNvZGV3b3JkcyBhcmUgZGVmaW5lZCBpbiA1LjQuMi4yLiBUaGUgc3ViLW1vZGVcbiAgICAgKiBzd2l0Y2hlcyBhcmUgZGVmaW5lZCBpbiA1LjQuMi4zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRleHRDb21wYWN0aW9uRGF0YSBUaGUgdGV4dCBjb21wYWN0aW9uIGRhdGEuXG4gICAgICogQHBhcmFtIGJ5dGVDb21wYWN0aW9uRGF0YSBUaGUgYnl0ZSBjb21wYWN0aW9uIGRhdGEgaWYgdGhlcmVcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcyBhIG1vZGUgc2hpZnQuXG4gICAgICogQHBhcmFtIGxlbmd0aCAgICAgICAgICAgICBUaGUgc2l6ZSBvZiB0aGUgdGV4dCBjb21wYWN0aW9uIGFuZCBieXRlIGNvbXBhY3Rpb24gZGF0YS5cbiAgICAgKiBAcGFyYW0gcmVzdWx0ICAgICAgICAgICAgIFRoZSBkZWNvZGVkIGRhdGEgaXMgYXBwZW5kZWQgdG8gdGhlIHJlc3VsdC5cbiAgICAgKi9cbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZVRleHRDb21wYWN0aW9uID0gZnVuY3Rpb24gKHRleHRDb21wYWN0aW9uRGF0YSwgYnl0ZUNvbXBhY3Rpb25EYXRhLCBsZW5ndGgsIHJlc3VsdCkge1xuICAgICAgICAvLyBCZWdpbm5pbmcgZnJvbSBhbiBpbml0aWFsIHN0YXRlIG9mIHRoZSBBbHBoYSBzdWItbW9kZVxuICAgICAgICAvLyBUaGUgZGVmYXVsdCBjb21wYWN0aW9uIG1vZGUgZm9yIFBERjQxNyBpbiBlZmZlY3QgYXQgdGhlIHN0YXJ0IG9mIGVhY2ggc3ltYm9sIHNoYWxsIGFsd2F5cyBiZSBUZXh0XG4gICAgICAgIC8vIENvbXBhY3Rpb24gbW9kZSBBbHBoYSBzdWItbW9kZSAoYWxwaGFiZXRpYzogdXBwZXJjYXNlKS4gQSBsYXRjaCBjb2Rld29yZCBmcm9tIGFub3RoZXIgbW9kZSB0byB0aGUgVGV4dFxuICAgICAgICAvLyBDb21wYWN0aW9uIG1vZGUgc2hhbGwgYWx3YXlzIHN3aXRjaCB0byB0aGUgVGV4dCBDb21wYWN0aW9uIEFscGhhIHN1Yi1tb2RlLlxuICAgICAgICB2YXIgc3ViTW9kZSA9IE1vZGUuQUxQSEE7XG4gICAgICAgIHZhciBwcmlvclRvU2hpZnRNb2RlID0gTW9kZS5BTFBIQTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHN1Yk1vZGVDaCA9IHRleHRDb21wYWN0aW9uRGF0YVtpXTtcbiAgICAgICAgICAgIHZhciBjaCA9IC8qY2hhciovICcnO1xuICAgICAgICAgICAgc3dpdGNoIChzdWJNb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBNb2RlLkFMUEhBOlxuICAgICAgICAgICAgICAgICAgICAvLyBBbHBoYSAoYWxwaGFiZXRpYzogdXBwZXJjYXNlKVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViTW9kZUNoIDwgMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwcGVyIGNhc2UgQWxwaGEgQ2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiA2NSA9ICdBJyBBU0NJSSAtPiB0aGVyZSBpcyBieXRlIGNvZGUgb2Ygc3ltYm9sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaCA9IC8qKGNoYXIpKCdBJyArIHN1Yk1vZGVDaCkgKi8gU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIHN1Yk1vZGVDaCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN1Yk1vZGVDaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoID0gJyAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTEw6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1vZGUgPSBNb2RlLkxPV0VSO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUw6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1vZGUgPSBNb2RlLk1JWEVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuUFM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNoaWZ0IHRvIHB1bmN0dWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yVG9TaGlmdE1vZGUgPSBzdWJNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNb2RlID0gTW9kZS5QVU5DVF9TSElGVDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1PREVfU0hJRlRfVE9fQllURV9DT01QQUNUSU9OX01PREU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoLyooY2hhcikqLyBieXRlQ29tcGFjdGlvbkRhdGFbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuVEVYVF9DT01QQUNUSU9OX01PREVfTEFUQ0g6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1vZGUgPSBNb2RlLkFMUEhBO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1vZGUuTE9XRVI6XG4gICAgICAgICAgICAgICAgICAgIC8vIExvd2VyIChhbHBoYWJldGljOiBsb3dlcmNhc2UpXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJNb2RlQ2ggPCAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2ggPSAvKihjaGFyKSgnYScgKyBzdWJNb2RlQ2gpKi8gU3RyaW5nLmZyb21DaGFyQ29kZSg5NyArIHN1Yk1vZGVDaCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHN1Yk1vZGVDaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoID0gJyAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQVM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNoaWZ0IHRvIGFscGhhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yVG9TaGlmdE1vZGUgPSBzdWJNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNb2RlID0gTW9kZS5BTFBIQV9TSElGVDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1MOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNb2RlID0gTW9kZS5NSVhFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlBTOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaGlmdCB0byBwdW5jdHVhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmlvclRvU2hpZnRNb2RlID0gc3ViTW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTW9kZSA9IE1vZGUuUFVOQ1RfU0hJRlQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5NT0RFX1NISUZUX1RPX0JZVEVfQ09NUEFDVElPTl9NT0RFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIERvZXMgdGhpcyBuZWVkIHRvIHVzZSB0aGUgY3VycmVudCBjaGFyYWN0ZXIgZW5jb2Rpbmc/IFNlZSBvdGhlciBvY2N1cnJlbmNlcyBiZWxvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKC8qKGNoYXIpKi8gYnl0ZUNvbXBhY3Rpb25EYXRhW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlRFWFRfQ09NUEFDVElPTl9NT0RFX0xBVENIOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNb2RlID0gTW9kZS5BTFBIQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNb2RlLk1JWEVEOlxuICAgICAgICAgICAgICAgICAgICAvLyBNaXhlZCAocHVuY3R1YXRpb246IGUpXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJNb2RlQ2ggPCBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlBMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUlYRURfQ0hBUlNbc3ViTW9kZUNoXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3ViTW9kZUNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlBMOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNb2RlID0gTW9kZS5QVU5DVDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ggPSAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5MTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTW9kZSA9IE1vZGUuTE9XRVI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTW9kZSA9IE1vZGUuQUxQSEE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5QUzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hpZnQgdG8gcHVuY3R1YXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JUb1NoaWZ0TW9kZSA9IHN1Yk1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1vZGUgPSBNb2RlLlBVTkNUX1NISUZUO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTU9ERV9TSElGVF9UT19CWVRFX0NPTVBBQ1RJT05fTU9ERTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgvKihjaGFyKSovIGJ5dGVDb21wYWN0aW9uRGF0YVtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5URVhUX0NPTVBBQ1RJT05fTU9ERV9MQVRDSDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTW9kZSA9IE1vZGUuQUxQSEE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgTW9kZS5QVU5DVDpcbiAgICAgICAgICAgICAgICAgICAgLy8gUHVuY3R1YXRpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Yk1vZGVDaCA8IERlY29kZWRCaXRTdHJlYW1QYXJzZXIuUEFMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIuUFVOQ1RfQ0hBUlNbc3ViTW9kZUNoXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3ViTW9kZUNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlBBTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTW9kZSA9IE1vZGUuQUxQSEE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5NT0RFX1NISUZUX1RPX0JZVEVfQ09NUEFDVElPTl9NT0RFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKC8qKGNoYXIpKi8gYnl0ZUNvbXBhY3Rpb25EYXRhW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlRFWFRfQ09NUEFDVElPTl9NT0RFX0xBVENIOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNb2RlID0gTW9kZS5BTFBIQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNb2RlLkFMUEhBX1NISUZUOlxuICAgICAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIHN1Yi1tb2RlXG4gICAgICAgICAgICAgICAgICAgIHN1Yk1vZGUgPSBwcmlvclRvU2hpZnRNb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViTW9kZUNoIDwgMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoID0gLyooY2hhcikoJ0EnICsgc3ViTW9kZUNoKSovIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBzdWJNb2RlQ2gpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdWJNb2RlQ2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaCA9ICcgJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlRFWFRfQ09NUEFDVElPTl9NT0RFX0xBVENIOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNb2RlID0gTW9kZS5BTFBIQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBNb2RlLlBVTkNUX1NISUZUOlxuICAgICAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIHN1Yi1tb2RlXG4gICAgICAgICAgICAgICAgICAgIHN1Yk1vZGUgPSBwcmlvclRvU2hpZnRNb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViTW9kZUNoIDwgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5QQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5QVU5DVF9DSEFSU1tzdWJNb2RlQ2hdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdWJNb2RlQ2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuUEFMOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNb2RlID0gTW9kZS5BTFBIQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1PREVfU0hJRlRfVE9fQllURV9DT01QQUNUSU9OX01PREU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBTIGJlZm9yZSBTaGlmdC10by1CeXRlIGlzIHVzZWQgYXMgYSBwYWRkaW5nIGNoYXJhY3RlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VlIDUuNC4yLjQgb2YgdGhlIHNwZWNpZmljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgvKihjaGFyKSovIGJ5dGVDb21wYWN0aW9uRGF0YVtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5URVhUX0NPTVBBQ1RJT05fTU9ERV9MQVRDSDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTW9kZSA9IE1vZGUuQUxQSEE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgKGNoICE9PSAwKSB7XG4gICAgICAgICAgICBpZiAoY2ggIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgLy8gQXBwZW5kIGRlY29kZWQgY2hhcmFjdGVyIHRvIHJlc3VsdFxuICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoY2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBCeXRlIENvbXBhY3Rpb24gbW9kZSAoc2VlIDUuNC4zKSBwZXJtaXRzIGFsbCAyNTYgcG9zc2libGUgOC1iaXQgYnl0ZSB2YWx1ZXMgdG8gYmUgZW5jb2RlZC5cbiAgICAgKiBUaGlzIGluY2x1ZGVzIGFsbCBBU0NJSSBjaGFyYWN0ZXJzIHZhbHVlIDAgdG8gMTI3IGluY2x1c2l2ZSBhbmQgcHJvdmlkZXMgZm9yIGludGVybmF0aW9uYWxcbiAgICAgKiBjaGFyYWN0ZXIgc2V0IHN1cHBvcnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbW9kZSAgICAgIFRoZSBieXRlIGNvbXBhY3Rpb24gbW9kZSBpLmUuIDkwMSBvciA5MjRcbiAgICAgKiBAcGFyYW0gY29kZXdvcmRzIFRoZSBhcnJheSBvZiBjb2Rld29yZHMgKGRhdGEgKyBlcnJvcilcbiAgICAgKiBAcGFyYW0gZW5jb2RpbmcgIEN1cnJlbnRseSBhY3RpdmUgY2hhcmFjdGVyIGVuY29kaW5nXG4gICAgICogQHBhcmFtIGNvZGVJbmRleCBUaGUgY3VycmVudCBpbmRleCBpbnRvIHRoZSBjb2Rld29yZCBhcnJheS5cbiAgICAgKiBAcGFyYW0gcmVzdWx0ICAgIFRoZSBkZWNvZGVkIGRhdGEgaXMgYXBwZW5kZWQgdG8gdGhlIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJuIFRoZSBuZXh0IGluZGV4IGludG8gdGhlIGNvZGV3b3JkIGFycmF5LlxuICAgICAqL1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuYnl0ZUNvbXBhY3Rpb24gPSBmdW5jdGlvbiAobW9kZSwgY29kZXdvcmRzLCBlbmNvZGluZywgY29kZUluZGV4LCByZXN1bHQpIHtcbiAgICAgICAgdmFyIGRlY29kZWRCeXRlcyA9IG5ldyBCeXRlQXJyYXlPdXRwdXRTdHJlYW0oKTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgdmFyIHZhbHVlID0gLypsb25nKi8gMDtcbiAgICAgICAgdmFyIGVuZCA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CWVRFX0NPTVBBQ1RJT05fTU9ERV9MQVRDSDpcbiAgICAgICAgICAgICAgICAvLyBUb3RhbCBudW1iZXIgb2YgQnl0ZSBDb21wYWN0aW9uIGNoYXJhY3RlcnMgdG8gYmUgZW5jb2RlZFxuICAgICAgICAgICAgICAgIC8vIGlzIG5vdCBhIG11bHRpcGxlIG9mIDZcbiAgICAgICAgICAgICAgICB2YXIgYnl0ZUNvbXBhY3RlZENvZGV3b3JkcyA9IG5ldyBJbnQzMkFycmF5KDYpO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0Q29kZSA9IGNvZGV3b3Jkc1tjb2RlSW5kZXgrK107XG4gICAgICAgICAgICAgICAgd2hpbGUgKChjb2RlSW5kZXggPCBjb2Rld29yZHNbMF0pICYmICFlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnl0ZUNvbXBhY3RlZENvZGV3b3Jkc1tjb3VudCsrXSA9IG5leHRDb2RlO1xuICAgICAgICAgICAgICAgICAgICAvLyBCYXNlIDkwMFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDkwMCAqIHZhbHVlICsgbmV4dENvZGU7XG4gICAgICAgICAgICAgICAgICAgIG5leHRDb2RlID0gY29kZXdvcmRzW2NvZGVJbmRleCsrXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGVyaGFwcyBpdCBzaG91bGQgYmUgb2sgdG8gY2hlY2sgb25seSBuZXh0Q29kZSA+PSBURVhUX0NPTVBBQ1RJT05fTU9ERV9MQVRDSFxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG5leHRDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuVEVYVF9DT01QQUNUSU9OX01PREVfTEFUQ0g6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQllURV9DT01QQUNUSU9OX01PREVfTEFUQ0g6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTlVNRVJJQ19DT01QQUNUSU9OX01PREVfTEFUQ0g6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQllURV9DT01QQUNUSU9OX01PREVfTEFUQ0hfNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CRUdJTl9NQUNST19QREY0MTdfQ09OVFJPTF9CTE9DSzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CRUdJTl9NQUNST19QREY0MTdfT1BUSU9OQUxfRklFTEQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFDUk9fUERGNDE3X1RFUk1JTkFUT1I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZUluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChjb3VudCAlIDUgPT09IDApICYmIChjb3VudCA+IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlY29kZSBldmVyeSA1IGNvZGV3b3Jkc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRvIEJhc2UgMjU2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogLyppbnQqLyA9IDA7IGogPCA2OyArK2opIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBub3RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBKYXZhU2NyaXB0IHN0b3JlcyBudW1iZXJzIGFzIDY0IGJpdHMgZmxvYXRpbmcgcG9pbnQgbnVtYmVycywgYnV0IGFsbCBiaXR3aXNlIG9wZXJhdGlvbnMgYXJlIHBlcmZvcm1lZCBvbiAzMiBiaXRzIGJpbmFyeSBudW1iZXJzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogU28gdGhlIG5leHQgYml0d2lzZSBvcGVyYXRpb24gY291bGQgbm90IGJlIGRvbmUgd2l0aCBzaW1wbGUgbnVtYmVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkQnl0ZXMud3JpdGUoLyooYnl0ZSkqLyBOdW1iZXIoY3JlYXRlQmlnSW50KHZhbHVlKSA+PiBjcmVhdGVCaWdJbnQoOCAqICg1IC0gaikpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBlbmQgb2YgYWxsIGNvZGV3b3JkcyBpcyByZWFjaGVkIHRoZSBsYXN0IGNvZGV3b3JkIG5lZWRzIHRvIGJlIGFkZGVkXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVJbmRleCA9PT0gY29kZXdvcmRzWzBdICYmIG5leHRDb2RlIDwgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5URVhUX0NPTVBBQ1RJT05fTU9ERV9MQVRDSCkge1xuICAgICAgICAgICAgICAgICAgICBieXRlQ29tcGFjdGVkQ29kZXdvcmRzW2NvdW50KytdID0gbmV4dENvZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIEJ5dGUgQ29tcGFjdGlvbiBtb2RlIGlzIGludm9rZWQgd2l0aCBjb2Rld29yZCA5MDEsXG4gICAgICAgICAgICAgICAgLy8gdGhlIGxhc3QgZ3JvdXAgb2YgY29kZXdvcmRzIGlzIGludGVycHJldGVkIGRpcmVjdGx5XG4gICAgICAgICAgICAgICAgLy8gYXMgb25lIGJ5dGUgcGVyIGNvZGV3b3JkLCB3aXRob3V0IGNvbXBhY3Rpb24uXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjb2RlZEJ5dGVzLndyaXRlKC8qKGJ5dGUpKi8gYnl0ZUNvbXBhY3RlZENvZGV3b3Jkc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJZVEVfQ09NUEFDVElPTl9NT0RFX0xBVENIXzY6XG4gICAgICAgICAgICAgICAgLy8gVG90YWwgbnVtYmVyIG9mIEJ5dGUgQ29tcGFjdGlvbiBjaGFyYWN0ZXJzIHRvIGJlIGVuY29kZWRcbiAgICAgICAgICAgICAgICAvLyBpcyBhbiBpbnRlZ2VyIG11bHRpcGxlIG9mIDZcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29kZUluZGV4IDwgY29kZXdvcmRzWzBdICYmICFlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBjb2Rld29yZHNbY29kZUluZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA8IERlY29kZWRCaXRTdHJlYW1QYXJzZXIuVEVYVF9DT01QQUNUSU9OX01PREVfTEFUQ0gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCYXNlIDkwMFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSA5MDAgKiB2YWx1ZSArIGNvZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuVEVYVF9DT01QQUNUSU9OX01PREVfTEFUQ0g6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJZVEVfQ09NUEFDVElPTl9NT0RFX0xBVENIOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5OVU1FUklDX0NPTVBBQ1RJT05fTU9ERV9MQVRDSDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQllURV9DT01QQUNUSU9OX01PREVfTEFUQ0hfNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQkVHSU5fTUFDUk9fUERGNDE3X0NPTlRST0xfQkxPQ0s6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJFR0lOX01BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFDUk9fUERGNDE3X1RFUk1JTkFUT1I6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVJbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoKGNvdW50ICUgNSA9PT0gMCkgJiYgKGNvdW50ID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlY29kZSBldmVyeSA1IGNvZGV3b3Jkc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBCYXNlIDI1NlxuICAgICAgICAgICAgICAgICAgICAgICAgLyogQG5vdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEphdmFTY3JpcHQgc3RvcmVzIG51bWJlcnMgYXMgNjQgYml0cyBmbG9hdGluZyBwb2ludCBudW1iZXJzLCBidXQgYWxsIGJpdHdpc2Ugb3BlcmF0aW9ucyBhcmUgcGVyZm9ybWVkIG9uIDMyIGJpdHMgYmluYXJ5IG51bWJlcnMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBTbyB0aGUgbmV4dCBiaXR3aXNlIG9wZXJhdGlvbiBjb3VsZCBub3QgYmUgZG9uZSB3aXRoIHNpbXBsZSBudW1iZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiAvKmludCovID0gMDsgaiA8IDY7ICsraikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRCeXRlcy53cml0ZSgvKihieXRlKSovIE51bWJlcihjcmVhdGVCaWdJbnQodmFsdWUpID4+IGNyZWF0ZUJpZ0ludCg4ICogKDUgLSBqKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQuYXBwZW5kKFN0cmluZ0VuY29kaW5nLmRlY29kZShkZWNvZGVkQnl0ZXMudG9CeXRlQXJyYXkoKSwgZW5jb2RpbmcpKTtcbiAgICAgICAgcmV0dXJuIGNvZGVJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE51bWVyaWMgQ29tcGFjdGlvbiBtb2RlIChzZWUgNS40LjQpIHBlcm1pdHMgZWZmaWNpZW50IGVuY29kaW5nIG9mIG51bWVyaWMgZGF0YSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGV3b3JkcyBUaGUgYXJyYXkgb2YgY29kZXdvcmRzIChkYXRhICsgZXJyb3IpXG4gICAgICogQHBhcmFtIGNvZGVJbmRleCBUaGUgY3VycmVudCBpbmRleCBpbnRvIHRoZSBjb2Rld29yZCBhcnJheS5cbiAgICAgKiBAcGFyYW0gcmVzdWx0ICAgIFRoZSBkZWNvZGVkIGRhdGEgaXMgYXBwZW5kZWQgdG8gdGhlIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJuIFRoZSBuZXh0IGluZGV4IGludG8gdGhlIGNvZGV3b3JkIGFycmF5LlxuICAgICAqXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb25cbiAgICAgKi9cbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLm51bWVyaWNDb21wYWN0aW9uID0gZnVuY3Rpb24gKGNvZGV3b3JkcywgY29kZUluZGV4IC8qaW50Ki8sIHJlc3VsdCkge1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICB2YXIgZW5kID0gZmFsc2U7XG4gICAgICAgIHZhciBudW1lcmljQ29kZXdvcmRzID0gbmV3IEludDMyQXJyYXkoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5NQVhfTlVNRVJJQ19DT0RFV09SRFMpO1xuICAgICAgICB3aGlsZSAoY29kZUluZGV4IDwgY29kZXdvcmRzWzBdICYmICFlbmQpIHtcbiAgICAgICAgICAgIHZhciBjb2RlID0gY29kZXdvcmRzW2NvZGVJbmRleCsrXTtcbiAgICAgICAgICAgIGlmIChjb2RlSW5kZXggPT09IGNvZGV3b3Jkc1swXSkge1xuICAgICAgICAgICAgICAgIGVuZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29kZSA8IERlY29kZWRCaXRTdHJlYW1QYXJzZXIuVEVYVF9DT01QQUNUSU9OX01PREVfTEFUQ0gpIHtcbiAgICAgICAgICAgICAgICBudW1lcmljQ29kZXdvcmRzW2NvdW50XSA9IGNvZGU7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuVEVYVF9DT01QQUNUSU9OX01PREVfTEFUQ0g6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CWVRFX0NPTVBBQ1RJT05fTU9ERV9MQVRDSDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJZVEVfQ09NUEFDVElPTl9NT0RFX0xBVENIXzY6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CRUdJTl9NQUNST19QREY0MTdfQ09OVFJPTF9CTE9DSzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJFR0lOX01BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1BQ1JPX1BERjQxN19URVJNSU5BVE9SOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZUluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjb3VudCAlIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFYX05VTUVSSUNfQ09ERVdPUkRTID09PSAwIHx8IGNvZGUgPT09IERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTlVNRVJJQ19DT01QQUNUSU9OX01PREVfTEFUQ0ggfHwgZW5kKSAmJiBjb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBSZS1pbnZva2luZyBOdW1lcmljIENvbXBhY3Rpb24gbW9kZSAoYnkgdXNpbmcgY29kZXdvcmQgOTAyXG4gICAgICAgICAgICAgICAgLy8gd2hpbGUgaW4gTnVtZXJpYyBDb21wYWN0aW9uIG1vZGUpIHNlcnZlcyAgdG8gdGVybWluYXRlIHRoZVxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgTnVtZXJpYyBDb21wYWN0aW9uIG1vZGUgZ3JvdXBpbmcgYXMgZGVzY3JpYmVkIGluIDUuNC40LjIsXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoZW4gdG8gc3RhcnQgYSBuZXcgb25lIGdyb3VwaW5nLlxuICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVCYXNlOTAwdG9CYXNlMTAobnVtZXJpY0NvZGV3b3JkcywgY291bnQpKTtcbiAgICAgICAgICAgICAgICBjb3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvZGVJbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBsaXN0IG9mIE51bWVyaWMgQ29tcGFjdGVkIGNvZGV3b3JkcyBmcm9tIEJhc2UgOTAwIHRvIEJhc2UgMTAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29kZXdvcmRzIFRoZSBhcnJheSBvZiBjb2Rld29yZHNcbiAgICAgKiBAcGFyYW0gY291bnQgICAgIFRoZSBudW1iZXIgb2YgY29kZXdvcmRzXG4gICAgICogQHJldHVybiBUaGUgZGVjb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBOdW1lcmljIGRhdGEuXG4gICAgICpcbiAgICAgKiBFWEFNUExFXG4gICAgICogRW5jb2RlIHRoZSBmaWZ0ZWVuIGRpZ2l0IG51bWVyaWMgc3RyaW5nIDAwMDIxMzI5ODE3NDAwMFxuICAgICAqIFByZWZpeCB0aGUgbnVtZXJpYyBzdHJpbmcgd2l0aCBhIDEgYW5kIHNldCB0aGUgaW5pdGlhbCB2YWx1ZSBvZlxuICAgICAqIHQgPSAxIDAwMCAyMTMgMjk4IDE3NCAwMDBcbiAgICAgKiBDYWxjdWxhdGUgY29kZXdvcmQgMFxuICAgICAqIGQwID0gMSAwMDAgMjEzIDI5OCAxNzQgMDAwIG1vZCA5MDAgPSAyMDBcbiAgICAgKlxuICAgICAqIHQgPSAxIDAwMCAyMTMgMjk4IDE3NCAwMDAgZGl2IDkwMCA9IDEgMTExIDM0OCAxMDkgMDgyXG4gICAgICogQ2FsY3VsYXRlIGNvZGV3b3JkIDFcbiAgICAgKiBkMSA9IDEgMTExIDM0OCAxMDkgMDgyIG1vZCA5MDAgPSAyODJcbiAgICAgKlxuICAgICAqIHQgPSAxIDExMSAzNDggMTA5IDA4MiBkaXYgOTAwID0gMSAyMzQgODMxIDIzMlxuICAgICAqIENhbGN1bGF0ZSBjb2Rld29yZCAyXG4gICAgICogZDIgPSAxIDIzNCA4MzEgMjMyIG1vZCA5MDAgPSA2MzJcbiAgICAgKlxuICAgICAqIHQgPSAxIDIzNCA4MzEgMjMyIGRpdiA5MDAgPSAxIDM3MiAwMzRcbiAgICAgKiBDYWxjdWxhdGUgY29kZXdvcmQgM1xuICAgICAqIGQzID0gMSAzNzIgMDM0IG1vZCA5MDAgPSA0MzRcbiAgICAgKlxuICAgICAqIHQgPSAxIDM3MiAwMzQgZGl2IDkwMCA9IDEgNTI0XG4gICAgICogQ2FsY3VsYXRlIGNvZGV3b3JkIDRcbiAgICAgKiBkNCA9IDEgNTI0IG1vZCA5MDAgPSA2MjRcbiAgICAgKlxuICAgICAqIHQgPSAxIDUyNCBkaXYgOTAwID0gMVxuICAgICAqIENhbGN1bGF0ZSBjb2Rld29yZCA1XG4gICAgICogZDUgPSAxIG1vZCA5MDAgPSAxXG4gICAgICogdCA9IDEgZGl2IDkwMCA9IDBcbiAgICAgKiBDb2Rld29yZCBzZXF1ZW5jZSBpczogMSwgNjI0LCA0MzQsIDYzMiwgMjgyLCAyMDBcbiAgICAgKlxuICAgICAqIERlY29kZSB0aGUgYWJvdmUgY29kZXdvcmRzIGludm9sdmVzXG4gICAgICogICAxIHggOTAwIHBvd2VyIG9mIDUgKyA2MjQgeCA5MDAgcG93ZXIgb2YgNCArIDQzNCB4IDkwMCBwb3dlciBvZiAzICtcbiAgICAgKiA2MzIgeCA5MDAgcG93ZXIgb2YgMiArIDI4MiB4IDkwMCBwb3dlciBvZiAxICsgMjAwIHggOTAwIHBvd2VyIG9mIDAgPSAxMDAwMjEzMjk4MTc0MDAwXG4gICAgICpcbiAgICAgKiBSZW1vdmUgbGVhZGluZyAxID0+ICBSZXN1bHQgaXMgMDAwMjEzMjk4MTc0MDAwXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvblxuICAgICAqL1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQmFzZTkwMHRvQmFzZTEwID0gZnVuY3Rpb24gKGNvZGV3b3JkcywgY291bnQpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpZ0ludCgwKTtcbiAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkVYUDkwMFtjb3VudCAtIGkgLSAxXSAqIGNyZWF0ZUJpZ0ludChjb2Rld29yZHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHRTdHJpbmcgPSByZXN1bHQudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHJlc3VsdFN0cmluZy5jaGFyQXQoMCkgIT09ICcxJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRTdHJpbmcuc3Vic3RyaW5nKDEpO1xuICAgIH07XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5URVhUX0NPTVBBQ1RJT05fTU9ERV9MQVRDSCA9IDkwMDtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJZVEVfQ09NUEFDVElPTl9NT0RFX0xBVENIID0gOTAxO1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTlVNRVJJQ19DT01QQUNUSU9OX01PREVfTEFUQ0ggPSA5MDI7XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5CWVRFX0NPTVBBQ1RJT05fTU9ERV9MQVRDSF82ID0gOTI0O1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuRUNJX1VTRVJfREVGSU5FRCA9IDkyNTtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkVDSV9HRU5FUkFMX1BVUlBPU0UgPSA5MjY7XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5FQ0lfQ0hBUlNFVCA9IDkyNztcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkJFR0lOX01BQ1JPX1BERjQxN19DT05UUk9MX0JMT0NLID0gOTI4O1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQkVHSU5fTUFDUk9fUERGNDE3X09QVElPTkFMX0ZJRUxEID0gOTIzO1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFDUk9fUERGNDE3X1RFUk1JTkFUT1IgPSA5MjI7XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5NT0RFX1NISUZUX1RPX0JZVEVfQ09NUEFDVElPTl9NT0RFID0gOTEzO1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFYX05VTUVSSUNfQ09ERVdPUkRTID0gMTU7XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5NQUNST19QREY0MTdfT1BUSU9OQUxfRklFTERfRklMRV9OQU1FID0gMDtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRF9TRUdNRU5UX0NPVU5UID0gMTtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRF9USU1FX1NUQU1QID0gMjtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRF9TRU5ERVIgPSAzO1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTUFDUk9fUERGNDE3X09QVElPTkFMX0ZJRUxEX0FERFJFU1NFRSA9IDQ7XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5NQUNST19QREY0MTdfT1BUSU9OQUxfRklFTERfRklMRV9TSVpFID0gNTtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1BQ1JPX1BERjQxN19PUFRJT05BTF9GSUVMRF9DSEVDS1NVTSA9IDY7XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5QTCA9IDI1O1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuTEwgPSAyNztcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFTID0gMjc7XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5NTCA9IDI4O1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUwgPSAyODtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlBTID0gMjk7XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5QQUwgPSAyOTtcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLlBVTkNUX0NIQVJTID0gJzs8PkBbXFxcXF1fYH4hXFxyXFx0LDpcXG4tLiQvXCJ8KigpP3t9XFwnJztcbiAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLk1JWEVEX0NIQVJTID0gJzAxMjM0NTY3ODkmXFxyXFx0LDojLS4kLyslKj1eJztcbiAgICAvKipcbiAgICAgKiBUYWJsZSBjb250YWluaW5nIHZhbHVlcyBmb3IgdGhlIGV4cG9uZW50IG9mIDkwMC5cbiAgICAgKiBUaGlzIGlzIHVzZWQgaW4gdGhlIG51bWVyaWMgY29tcGFjdGlvbiBkZWNvZGUgYWxnb3JpdGhtLlxuICAgICAqL1xuICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuRVhQOTAwID0gZ2V0QmlnSW50Q29uc3RydWN0b3IoKSA/IGdldEVYUDkwMCgpIDogW107XG4gICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5OVU1CRVJfT0ZfU0VRVUVOQ0VfQ09ERVdPUkRTID0gMjtcbiAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBEZWNvZGVkQml0U3RyZWFtUGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVjb2RlZEJpdFN0cmVhbVBhcnNlci5qcy5tYXAiLCIvKlxuKiBDb3B5cmlnaHQgMjAxMyBaWGluZyBhdXRob3JzXG4qXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4qIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4qXG4qICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4qXG4qIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiovXG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG4vLyBwYWNrYWdlIGNvbS5nb29nbGUuenhpbmcucGRmNDE3LmRlY29kZXI7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5DaGVja3N1bUV4Y2VwdGlvbjtcbmltcG9ydCBDaGVja3N1bUV4Y2VwdGlvbiBmcm9tICcuLi8uLi9DaGVja3N1bUV4Y2VwdGlvbic7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5Gb3JtYXRFeGNlcHRpb247XG5pbXBvcnQgRm9ybWF0RXhjZXB0aW9uIGZyb20gJy4uLy4uL0Zvcm1hdEV4Y2VwdGlvbic7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5Ob3RGb3VuZEV4Y2VwdGlvbjtcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuLi8uLi9Ob3RGb3VuZEV4Y2VwdGlvbic7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5jb21tb24uZGV0ZWN0b3IuTWF0aFV0aWxzO1xuaW1wb3J0IE1hdGhVdGlscyBmcm9tICcuLi8uLi9jb21tb24vZGV0ZWN0b3IvTWF0aFV0aWxzJztcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNy5QREY0MTdDb21tb247XG5pbXBvcnQgUERGNDE3Q29tbW9uIGZyb20gJy4uL1BERjQxN0NvbW1vbic7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5wZGY0MTcuZGVjb2Rlci5lYy5FcnJvckNvcnJlY3Rpb247XG5pbXBvcnQgRXJyb3JDb3JyZWN0aW9uIGZyb20gJy4vZWMvRXJyb3JDb3JyZWN0aW9uJztcbi8vIGxvY2FsXG5pbXBvcnQgQm91bmRpbmdCb3ggZnJvbSAnLi9Cb3VuZGluZ0JveCc7XG5pbXBvcnQgRGV0ZWN0aW9uUmVzdWx0Um93SW5kaWNhdG9yQ29sdW1uIGZyb20gJy4vRGV0ZWN0aW9uUmVzdWx0Um93SW5kaWNhdG9yQ29sdW1uJztcbmltcG9ydCBEZXRlY3Rpb25SZXN1bHQgZnJvbSAnLi9EZXRlY3Rpb25SZXN1bHQnO1xuaW1wb3J0IERldGVjdGlvblJlc3VsdENvbHVtbiBmcm9tICcuL0RldGVjdGlvblJlc3VsdENvbHVtbic7XG5pbXBvcnQgQ29kZXdvcmQgZnJvbSAnLi9Db2Rld29yZCc7XG5pbXBvcnQgQmFyY29kZVZhbHVlIGZyb20gJy4vQmFyY29kZVZhbHVlJztcbmltcG9ydCBQREY0MTdDb2Rld29yZERlY29kZXIgZnJvbSAnLi9QREY0MTdDb2Rld29yZERlY29kZXInO1xuaW1wb3J0IERlY29kZWRCaXRTdHJlYW1QYXJzZXIgZnJvbSAnLi9EZWNvZGVkQml0U3RyZWFtUGFyc2VyJztcbi8vIHV0aWxzXG5pbXBvcnQgRm9ybWF0dGVyIGZyb20gJy4uLy4uL3V0aWwvRm9ybWF0dGVyJztcbi8vIGltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuLy8gaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uO1xuLy8gaW1wb3J0IGphdmEudXRpbC5Gb3JtYXR0ZXI7XG4vLyBpbXBvcnQgamF2YS51dGlsLkxpc3Q7XG4vKipcbiAqIEBhdXRob3IgR3VlbnRoZXIgR3JhdVxuICovXG52YXIgUERGNDE3U2Nhbm5pbmdEZWNvZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBERjQxN1NjYW5uaW5nRGVjb2RlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQFRPRE8gZG9uJ3QgcGFzcyBpbiBtaW5Db2Rld29yZFdpZHRoIGFuZCBtYXhDb2Rld29yZFdpZHRoLCBwYXNzIGluIGJhcmNvZGUgY29sdW1ucyBmb3Igc3RhcnQgYW5kIHN0b3AgcGF0dGVyblxuICAgICAqXG4gICAgICogY29sdW1ucy4gVGhhdCB3YXkgd2lkdGggY2FuIGJlIGRlZHVjdGVkIGZyb20gdGhlIHBhdHRlcm4gY29sdW1uLlxuICAgICAqIFRoaXMgYXBwcm9hY2ggYWxzbyBhbGxvd3MgdG8gZGV0ZWN0IG1vcmUgZGV0YWlscyBhYm91dCB0aGUgYmFyY29kZSwgZS5nLiBpZiBhIGJhciB0eXBlICh3aGl0ZSBvciBibGFjaykgaXMgd2lkZXJcbiAgICAgKiB0aGFuIGl0IHNob3VsZCBiZS4gVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBzY2FubmVyIHVzZWQgYSBiYWQgYmxhY2twb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBCaXRNYXRyaXhcbiAgICAgKiBAcGFyYW0gaW1hZ2VcbiAgICAgKiBAcGFyYW0gUmVzdWx0UG9pbnRcbiAgICAgKiBAcGFyYW0gaW1hZ2VUb3BMZWZ0XG4gICAgICogQHBhcmFtIFJlc3VsdFBvaW50XG4gICAgICogQHBhcmFtIGltYWdlQm90dG9tTGVmdFxuICAgICAqIEBwYXJhbSBSZXN1bHRQb2ludFxuICAgICAqIEBwYXJhbSBpbWFnZVRvcFJpZ2h0XG4gICAgICogQHBhcmFtIFJlc3VsdFBvaW50XG4gICAgICogQHBhcmFtIGltYWdlQm90dG9tUmlnaHRcbiAgICAgKiBAcGFyYW0gaW50XG4gICAgICogQHBhcmFtIG1pbkNvZGV3b3JkV2lkdGhcbiAgICAgKiBAcGFyYW0gaW50XG4gICAgICogQHBhcmFtIG1heENvZGV3b3JkV2lkdGhcbiAgICAgKlxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb25cbiAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvblxuICAgICAqIEB0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb25cbiAgICAgKi9cbiAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuZGVjb2RlID0gZnVuY3Rpb24gKGltYWdlLCBpbWFnZVRvcExlZnQsIGltYWdlQm90dG9tTGVmdCwgaW1hZ2VUb3BSaWdodCwgaW1hZ2VCb3R0b21SaWdodCwgbWluQ29kZXdvcmRXaWR0aCwgbWF4Q29kZXdvcmRXaWR0aCkge1xuICAgICAgICB2YXIgYm91bmRpbmdCb3ggPSBuZXcgQm91bmRpbmdCb3goaW1hZ2UsIGltYWdlVG9wTGVmdCwgaW1hZ2VCb3R0b21MZWZ0LCBpbWFnZVRvcFJpZ2h0LCBpbWFnZUJvdHRvbVJpZ2h0KTtcbiAgICAgICAgdmFyIGxlZnRSb3dJbmRpY2F0b3JDb2x1bW4gPSBudWxsO1xuICAgICAgICB2YXIgcmlnaHRSb3dJbmRpY2F0b3JDb2x1bW4gPSBudWxsO1xuICAgICAgICB2YXIgZGV0ZWN0aW9uUmVzdWx0O1xuICAgICAgICBmb3IgKHZhciBmaXJzdFBhc3MgLypib29sZWFuKi8gPSB0cnVlOzsgZmlyc3RQYXNzID0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChpbWFnZVRvcExlZnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxlZnRSb3dJbmRpY2F0b3JDb2x1bW4gPSBQREY0MTdTY2FubmluZ0RlY29kZXIuZ2V0Um93SW5kaWNhdG9yQ29sdW1uKGltYWdlLCBib3VuZGluZ0JveCwgaW1hZ2VUb3BMZWZ0LCB0cnVlLCBtaW5Db2Rld29yZFdpZHRoLCBtYXhDb2Rld29yZFdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbWFnZVRvcFJpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByaWdodFJvd0luZGljYXRvckNvbHVtbiA9IFBERjQxN1NjYW5uaW5nRGVjb2Rlci5nZXRSb3dJbmRpY2F0b3JDb2x1bW4oaW1hZ2UsIGJvdW5kaW5nQm94LCBpbWFnZVRvcFJpZ2h0LCBmYWxzZSwgbWluQ29kZXdvcmRXaWR0aCwgbWF4Q29kZXdvcmRXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXRlY3Rpb25SZXN1bHQgPSBQREY0MTdTY2FubmluZ0RlY29kZXIubWVyZ2UobGVmdFJvd0luZGljYXRvckNvbHVtbiwgcmlnaHRSb3dJbmRpY2F0b3JDb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGRldGVjdGlvblJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgTm90Rm91bmRFeGNlcHRpb24uZ2V0Tm90Rm91bmRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlc3VsdEJveCA9IGRldGVjdGlvblJlc3VsdC5nZXRCb3VuZGluZ0JveCgpO1xuICAgICAgICAgICAgaWYgKGZpcnN0UGFzcyAmJiByZXN1bHRCb3ggIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIChyZXN1bHRCb3guZ2V0TWluWSgpIDwgYm91bmRpbmdCb3guZ2V0TWluWSgpIHx8IHJlc3VsdEJveC5nZXRNYXhZKCkgPiBib3VuZGluZ0JveC5nZXRNYXhZKCkpKSB7XG4gICAgICAgICAgICAgICAgYm91bmRpbmdCb3ggPSByZXN1bHRCb3g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZXRlY3Rpb25SZXN1bHQuc2V0Qm91bmRpbmdCb3goYm91bmRpbmdCb3gpO1xuICAgICAgICB2YXIgbWF4QmFyY29kZUNvbHVtbiA9IGRldGVjdGlvblJlc3VsdC5nZXRCYXJjb2RlQ29sdW1uQ291bnQoKSArIDE7XG4gICAgICAgIGRldGVjdGlvblJlc3VsdC5zZXREZXRlY3Rpb25SZXN1bHRDb2x1bW4oMCwgbGVmdFJvd0luZGljYXRvckNvbHVtbik7XG4gICAgICAgIGRldGVjdGlvblJlc3VsdC5zZXREZXRlY3Rpb25SZXN1bHRDb2x1bW4obWF4QmFyY29kZUNvbHVtbiwgcmlnaHRSb3dJbmRpY2F0b3JDb2x1bW4pO1xuICAgICAgICB2YXIgbGVmdFRvUmlnaHQgPSBsZWZ0Um93SW5kaWNhdG9yQ29sdW1uICE9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGJhcmNvZGVDb2x1bW5Db3VudCAvKmludCovID0gMTsgYmFyY29kZUNvbHVtbkNvdW50IDw9IG1heEJhcmNvZGVDb2x1bW47IGJhcmNvZGVDb2x1bW5Db3VudCsrKSB7XG4gICAgICAgICAgICB2YXIgYmFyY29kZUNvbHVtbiA9IGxlZnRUb1JpZ2h0ID8gYmFyY29kZUNvbHVtbkNvdW50IDogbWF4QmFyY29kZUNvbHVtbiAtIGJhcmNvZGVDb2x1bW5Db3VudDtcbiAgICAgICAgICAgIGlmIChkZXRlY3Rpb25SZXN1bHQuZ2V0RGV0ZWN0aW9uUmVzdWx0Q29sdW1uKGJhcmNvZGVDb2x1bW4pICE9PSAvKiBudWxsICovIHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBiZSB0aGUgY2FzZSBmb3IgdGhlIG9wcG9zaXRlIHJvdyBpbmRpY2F0b3IgY29sdW1uLCB3aGljaCBkb2Vzbid0IG5lZWQgdG8gYmUgZGVjb2RlZCBhZ2Fpbi5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkZXRlY3Rpb25SZXN1bHRDb2x1bW4gPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoYmFyY29kZUNvbHVtbiA9PT0gMCB8fCBiYXJjb2RlQ29sdW1uID09PSBtYXhCYXJjb2RlQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgZGV0ZWN0aW9uUmVzdWx0Q29sdW1uID0gbmV3IERldGVjdGlvblJlc3VsdFJvd0luZGljYXRvckNvbHVtbihib3VuZGluZ0JveCwgYmFyY29kZUNvbHVtbiA9PT0gMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZXRlY3Rpb25SZXN1bHRDb2x1bW4gPSBuZXcgRGV0ZWN0aW9uUmVzdWx0Q29sdW1uKGJvdW5kaW5nQm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRldGVjdGlvblJlc3VsdC5zZXREZXRlY3Rpb25SZXN1bHRDb2x1bW4oYmFyY29kZUNvbHVtbiwgZGV0ZWN0aW9uUmVzdWx0Q29sdW1uKTtcbiAgICAgICAgICAgIHZhciBzdGFydENvbHVtbiA9IC0xO1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzU3RhcnRDb2x1bW4gPSBzdGFydENvbHVtbjtcbiAgICAgICAgICAgIC8vIFRPRE8gc3RhcnQgYXQgYSByb3cgZm9yIHdoaWNoIHdlIGtub3cgdGhlIHN0YXJ0IHBvc2l0aW9uLCB0aGVuIGRldGVjdCB1cHdhcmRzIGFuZCBkb3dud2FyZHMgZnJvbSB0aGVyZS5cbiAgICAgICAgICAgIGZvciAodmFyIGltYWdlUm93IC8qaW50Ki8gPSBib3VuZGluZ0JveC5nZXRNaW5ZKCk7IGltYWdlUm93IDw9IGJvdW5kaW5nQm94LmdldE1heFkoKTsgaW1hZ2VSb3crKykge1xuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmdldFN0YXJ0Q29sdW1uKGRldGVjdGlvblJlc3VsdCwgYmFyY29kZUNvbHVtbiwgaW1hZ2VSb3csIGxlZnRUb1JpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRDb2x1bW4gPCAwIHx8IHN0YXJ0Q29sdW1uID4gYm91bmRpbmdCb3guZ2V0TWF4WCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c1N0YXJ0Q29sdW1uID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBwcmV2aW91c1N0YXJ0Q29sdW1uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY29kZXdvcmQgPSBQREY0MTdTY2FubmluZ0RlY29kZXIuZGV0ZWN0Q29kZXdvcmQoaW1hZ2UsIGJvdW5kaW5nQm94LmdldE1pblgoKSwgYm91bmRpbmdCb3guZ2V0TWF4WCgpLCBsZWZ0VG9SaWdodCwgc3RhcnRDb2x1bW4sIGltYWdlUm93LCBtaW5Db2Rld29yZFdpZHRoLCBtYXhDb2Rld29yZFdpZHRoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZXdvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBkZXRlY3Rpb25SZXN1bHRDb2x1bW4uc2V0Q29kZXdvcmQoaW1hZ2VSb3csIGNvZGV3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNTdGFydENvbHVtbiA9IHN0YXJ0Q29sdW1uO1xuICAgICAgICAgICAgICAgICAgICBtaW5Db2Rld29yZFdpZHRoID0gTWF0aC5taW4obWluQ29kZXdvcmRXaWR0aCwgY29kZXdvcmQuZ2V0V2lkdGgoKSk7XG4gICAgICAgICAgICAgICAgICAgIG1heENvZGV3b3JkV2lkdGggPSBNYXRoLm1heChtYXhDb2Rld29yZFdpZHRoLCBjb2Rld29yZC5nZXRXaWR0aCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5jcmVhdGVEZWNvZGVyUmVzdWx0KGRldGVjdGlvblJlc3VsdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsZWZ0Um93SW5kaWNhdG9yQ29sdW1uXG4gICAgICogQHBhcmFtIHJpZ2h0Um93SW5kaWNhdG9yQ29sdW1uXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uXG4gICAgICovXG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLm1lcmdlID0gZnVuY3Rpb24gKGxlZnRSb3dJbmRpY2F0b3JDb2x1bW4sIHJpZ2h0Um93SW5kaWNhdG9yQ29sdW1uKSB7XG4gICAgICAgIGlmIChsZWZ0Um93SW5kaWNhdG9yQ29sdW1uID09IG51bGwgJiYgcmlnaHRSb3dJbmRpY2F0b3JDb2x1bW4gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJhcmNvZGVNZXRhZGF0YSA9IFBERjQxN1NjYW5uaW5nRGVjb2Rlci5nZXRCYXJjb2RlTWV0YWRhdGEobGVmdFJvd0luZGljYXRvckNvbHVtbiwgcmlnaHRSb3dJbmRpY2F0b3JDb2x1bW4pO1xuICAgICAgICBpZiAoYmFyY29kZU1ldGFkYXRhID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib3VuZGluZ0JveCA9IEJvdW5kaW5nQm94Lm1lcmdlKFBERjQxN1NjYW5uaW5nRGVjb2Rlci5hZGp1c3RCb3VuZGluZ0JveChsZWZ0Um93SW5kaWNhdG9yQ29sdW1uKSwgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmFkanVzdEJvdW5kaW5nQm94KHJpZ2h0Um93SW5kaWNhdG9yQ29sdW1uKSk7XG4gICAgICAgIHJldHVybiBuZXcgRGV0ZWN0aW9uUmVzdWx0KGJhcmNvZGVNZXRhZGF0YSwgYm91bmRpbmdCb3gpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm93SW5kaWNhdG9yQ29sdW1uXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uXG4gICAgICovXG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmFkanVzdEJvdW5kaW5nQm94ID0gZnVuY3Rpb24gKHJvd0luZGljYXRvckNvbHVtbikge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgaWYgKHJvd0luZGljYXRvckNvbHVtbiA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcm93SGVpZ2h0cyA9IHJvd0luZGljYXRvckNvbHVtbi5nZXRSb3dIZWlnaHRzKCk7XG4gICAgICAgIGlmIChyb3dIZWlnaHRzID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXhSb3dIZWlnaHQgPSBQREY0MTdTY2FubmluZ0RlY29kZXIuZ2V0TWF4KHJvd0hlaWdodHMpO1xuICAgICAgICB2YXIgbWlzc2luZ1N0YXJ0Um93cyA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciByb3dIZWlnaHRzXzEgPSBfX3ZhbHVlcyhyb3dIZWlnaHRzKSwgcm93SGVpZ2h0c18xXzEgPSByb3dIZWlnaHRzXzEubmV4dCgpOyAhcm93SGVpZ2h0c18xXzEuZG9uZTsgcm93SGVpZ2h0c18xXzEgPSByb3dIZWlnaHRzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvd0hlaWdodCA9IHJvd0hlaWdodHNfMV8xLnZhbHVlIC8qaW50Ki87XG4gICAgICAgICAgICAgICAgbWlzc2luZ1N0YXJ0Um93cyArPSBtYXhSb3dIZWlnaHQgLSByb3dIZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKHJvd0hlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAocm93SGVpZ2h0c18xXzEgJiYgIXJvd0hlaWdodHNfMV8xLmRvbmUgJiYgKF9hID0gcm93SGVpZ2h0c18xLnJldHVybikpIF9hLmNhbGwocm93SGVpZ2h0c18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY29kZXdvcmRzID0gcm93SW5kaWNhdG9yQ29sdW1uLmdldENvZGV3b3JkcygpO1xuICAgICAgICBmb3IgKHZhciByb3cgLyppbnQqLyA9IDA7IG1pc3NpbmdTdGFydFJvd3MgPiAwICYmIGNvZGV3b3Jkc1tyb3ddID09IG51bGw7IHJvdysrKSB7XG4gICAgICAgICAgICBtaXNzaW5nU3RhcnRSb3dzLS07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pc3NpbmdFbmRSb3dzID0gMDtcbiAgICAgICAgZm9yICh2YXIgcm93IC8qaW50Ki8gPSByb3dIZWlnaHRzLmxlbmd0aCAtIDE7IHJvdyA+PSAwOyByb3ctLSkge1xuICAgICAgICAgICAgbWlzc2luZ0VuZFJvd3MgKz0gbWF4Um93SGVpZ2h0IC0gcm93SGVpZ2h0c1tyb3ddO1xuICAgICAgICAgICAgaWYgKHJvd0hlaWdodHNbcm93XSA+IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciByb3cgLyppbnQqLyA9IGNvZGV3b3Jkcy5sZW5ndGggLSAxOyBtaXNzaW5nRW5kUm93cyA+IDAgJiYgY29kZXdvcmRzW3Jvd10gPT0gbnVsbDsgcm93LS0pIHtcbiAgICAgICAgICAgIG1pc3NpbmdFbmRSb3dzLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvd0luZGljYXRvckNvbHVtbi5nZXRCb3VuZGluZ0JveCgpLmFkZE1pc3NpbmdSb3dzKG1pc3NpbmdTdGFydFJvd3MsIG1pc3NpbmdFbmRSb3dzLCByb3dJbmRpY2F0b3JDb2x1bW4uaXNMZWZ0KCkpO1xuICAgIH07XG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmdldE1heCA9IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIHZhciBtYXhWYWx1ZSA9IC0xO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgdmFsdWVzXzEgPSBfX3ZhbHVlcyh2YWx1ZXMpLCB2YWx1ZXNfMV8xID0gdmFsdWVzXzEubmV4dCgpOyAhdmFsdWVzXzFfMS5kb25lOyB2YWx1ZXNfMV8xID0gdmFsdWVzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzXzFfMS52YWx1ZSAvKmludCovO1xuICAgICAgICAgICAgICAgIG1heFZhbHVlID0gTWF0aC5tYXgobWF4VmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlc18xXzEgJiYgIXZhbHVlc18xXzEuZG9uZSAmJiAoX2EgPSB2YWx1ZXNfMS5yZXR1cm4pKSBfYS5jYWxsKHZhbHVlc18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4VmFsdWU7XG4gICAgfTtcbiAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuZ2V0QmFyY29kZU1ldGFkYXRhID0gZnVuY3Rpb24gKGxlZnRSb3dJbmRpY2F0b3JDb2x1bW4sIHJpZ2h0Um93SW5kaWNhdG9yQ29sdW1uKSB7XG4gICAgICAgIHZhciBsZWZ0QmFyY29kZU1ldGFkYXRhO1xuICAgICAgICBpZiAobGVmdFJvd0luZGljYXRvckNvbHVtbiA9PSBudWxsIHx8XG4gICAgICAgICAgICAobGVmdEJhcmNvZGVNZXRhZGF0YSA9IGxlZnRSb3dJbmRpY2F0b3JDb2x1bW4uZ2V0QmFyY29kZU1ldGFkYXRhKCkpID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiByaWdodFJvd0luZGljYXRvckNvbHVtbiA9PSBudWxsID8gbnVsbCA6IHJpZ2h0Um93SW5kaWNhdG9yQ29sdW1uLmdldEJhcmNvZGVNZXRhZGF0YSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByaWdodEJhcmNvZGVNZXRhZGF0YTtcbiAgICAgICAgaWYgKHJpZ2h0Um93SW5kaWNhdG9yQ29sdW1uID09IG51bGwgfHxcbiAgICAgICAgICAgIChyaWdodEJhcmNvZGVNZXRhZGF0YSA9IHJpZ2h0Um93SW5kaWNhdG9yQ29sdW1uLmdldEJhcmNvZGVNZXRhZGF0YSgpKSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVmdEJhcmNvZGVNZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVmdEJhcmNvZGVNZXRhZGF0YS5nZXRDb2x1bW5Db3VudCgpICE9PSByaWdodEJhcmNvZGVNZXRhZGF0YS5nZXRDb2x1bW5Db3VudCgpICYmXG4gICAgICAgICAgICBsZWZ0QmFyY29kZU1ldGFkYXRhLmdldEVycm9yQ29ycmVjdGlvbkxldmVsKCkgIT09IHJpZ2h0QmFyY29kZU1ldGFkYXRhLmdldEVycm9yQ29ycmVjdGlvbkxldmVsKCkgJiZcbiAgICAgICAgICAgIGxlZnRCYXJjb2RlTWV0YWRhdGEuZ2V0Um93Q291bnQoKSAhPT0gcmlnaHRCYXJjb2RlTWV0YWRhdGEuZ2V0Um93Q291bnQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxlZnRCYXJjb2RlTWV0YWRhdGE7XG4gICAgfTtcbiAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuZ2V0Um93SW5kaWNhdG9yQ29sdW1uID0gZnVuY3Rpb24gKGltYWdlLCBib3VuZGluZ0JveCwgc3RhcnRQb2ludCwgbGVmdFRvUmlnaHQsIG1pbkNvZGV3b3JkV2lkdGgsIG1heENvZGV3b3JkV2lkdGgpIHtcbiAgICAgICAgdmFyIHJvd0luZGljYXRvckNvbHVtbiA9IG5ldyBEZXRlY3Rpb25SZXN1bHRSb3dJbmRpY2F0b3JDb2x1bW4oYm91bmRpbmdCb3gsIGxlZnRUb1JpZ2h0KTtcbiAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMDsgaSA8IDI7IGkrKykge1xuICAgICAgICAgICAgdmFyIGluY3JlbWVudCA9IGkgPT09IDAgPyAxIDogLTE7XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBNYXRoLnRydW5jKE1hdGgudHJ1bmMoc3RhcnRQb2ludC5nZXRYKCkpKTtcbiAgICAgICAgICAgIGZvciAodmFyIGltYWdlUm93IC8qaW50Ki8gPSBNYXRoLnRydW5jKE1hdGgudHJ1bmMoc3RhcnRQb2ludC5nZXRZKCkpKTsgaW1hZ2VSb3cgPD0gYm91bmRpbmdCb3guZ2V0TWF4WSgpICYmXG4gICAgICAgICAgICAgICAgaW1hZ2VSb3cgPj0gYm91bmRpbmdCb3guZ2V0TWluWSgpOyBpbWFnZVJvdyArPSBpbmNyZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29kZXdvcmQgPSBQREY0MTdTY2FubmluZ0RlY29kZXIuZGV0ZWN0Q29kZXdvcmQoaW1hZ2UsIDAsIGltYWdlLmdldFdpZHRoKCksIGxlZnRUb1JpZ2h0LCBzdGFydENvbHVtbiwgaW1hZ2VSb3csIG1pbkNvZGV3b3JkV2lkdGgsIG1heENvZGV3b3JkV2lkdGgpO1xuICAgICAgICAgICAgICAgIGlmIChjb2Rld29yZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd0luZGljYXRvckNvbHVtbi5zZXRDb2Rld29yZChpbWFnZVJvdywgY29kZXdvcmQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdFRvUmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gY29kZXdvcmQuZ2V0U3RhcnRYKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvbHVtbiA9IGNvZGV3b3JkLmdldEVuZFgoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm93SW5kaWNhdG9yQ29sdW1uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGV0ZWN0aW9uUmVzdWx0XG4gICAgICogQHBhcmFtIEJhcmNvZGVWYWx1ZVxuICAgICAqIEBwYXJhbSBwYXJhbTJcbiAgICAgKiBAcGFyYW0gcGFyYW0zXG4gICAgICogQHBhcmFtIGJhcmNvZGVNYXRyaXhcbiAgICAgKlxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb25cbiAgICAgKi9cbiAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuYWRqdXN0Q29kZXdvcmRDb3VudCA9IGZ1bmN0aW9uIChkZXRlY3Rpb25SZXN1bHQsIGJhcmNvZGVNYXRyaXgpIHtcbiAgICAgICAgdmFyIGJhcmNvZGVNYXRyaXgwMSA9IGJhcmNvZGVNYXRyaXhbMF1bMV07XG4gICAgICAgIHZhciBudW1iZXJPZkNvZGV3b3JkcyA9IGJhcmNvZGVNYXRyaXgwMS5nZXRWYWx1ZSgpO1xuICAgICAgICB2YXIgY2FsY3VsYXRlZE51bWJlck9mQ29kZXdvcmRzID0gZGV0ZWN0aW9uUmVzdWx0LmdldEJhcmNvZGVDb2x1bW5Db3VudCgpICpcbiAgICAgICAgICAgIGRldGVjdGlvblJlc3VsdC5nZXRCYXJjb2RlUm93Q291bnQoKSAtXG4gICAgICAgICAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuZ2V0TnVtYmVyT2ZFQ0NvZGVXb3JkcyhkZXRlY3Rpb25SZXN1bHQuZ2V0QmFyY29kZUVDTGV2ZWwoKSk7XG4gICAgICAgIGlmIChudW1iZXJPZkNvZGV3b3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGlmIChjYWxjdWxhdGVkTnVtYmVyT2ZDb2Rld29yZHMgPCAxIHx8IGNhbGN1bGF0ZWROdW1iZXJPZkNvZGV3b3JkcyA+IFBERjQxN0NvbW1vbi5NQVhfQ09ERVdPUkRTX0lOX0JBUkNPREUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXJjb2RlTWF0cml4MDEuc2V0VmFsdWUoY2FsY3VsYXRlZE51bWJlck9mQ29kZXdvcmRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChudW1iZXJPZkNvZGV3b3Jkc1swXSAhPT0gY2FsY3VsYXRlZE51bWJlck9mQ29kZXdvcmRzKSB7XG4gICAgICAgICAgICAvLyBUaGUgY2FsY3VsYXRlZCBvbmUgaXMgbW9yZSByZWxpYWJsZSBhcyBpdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJvdyBpbmRpY2F0b3IgY29sdW1uc1xuICAgICAgICAgICAgYmFyY29kZU1hdHJpeDAxLnNldFZhbHVlKGNhbGN1bGF0ZWROdW1iZXJPZkNvZGV3b3Jkcyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGRldGVjdGlvblJlc3VsdFxuICAgICAqXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb25cbiAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvblxuICAgICAqL1xuICAgIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5jcmVhdGVEZWNvZGVyUmVzdWx0ID0gZnVuY3Rpb24gKGRldGVjdGlvblJlc3VsdCkge1xuICAgICAgICB2YXIgYmFyY29kZU1hdHJpeCA9IFBERjQxN1NjYW5uaW5nRGVjb2Rlci5jcmVhdGVCYXJjb2RlTWF0cml4KGRldGVjdGlvblJlc3VsdCk7XG4gICAgICAgIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5hZGp1c3RDb2Rld29yZENvdW50KGRldGVjdGlvblJlc3VsdCwgYmFyY29kZU1hdHJpeCk7XG4gICAgICAgIHZhciBlcmFzdXJlcyAvKkNvbGxlY3Rpb248SW50ZWdlcj4qLyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB2YXIgY29kZXdvcmRzID0gbmV3IEludDMyQXJyYXkoZGV0ZWN0aW9uUmVzdWx0LmdldEJhcmNvZGVSb3dDb3VudCgpICogZGV0ZWN0aW9uUmVzdWx0LmdldEJhcmNvZGVDb2x1bW5Db3VudCgpKTtcbiAgICAgICAgdmFyIGFtYmlndW91c0luZGV4VmFsdWVzTGlzdCA9IC8qTGlzdDxpbnRbXT4qLyBbXTtcbiAgICAgICAgdmFyIGFtYmlndW91c0luZGV4ZXNMaXN0ID0gLypDb2xsZWN0aW9uPEludGVnZXI+Ki8gbmV3IEFycmF5KCk7XG4gICAgICAgIGZvciAodmFyIHJvdyAvKmludCovID0gMDsgcm93IDwgZGV0ZWN0aW9uUmVzdWx0LmdldEJhcmNvZGVSb3dDb3VudCgpOyByb3crKykge1xuICAgICAgICAgICAgZm9yICh2YXIgY29sdW1uIC8qaW50Ki8gPSAwOyBjb2x1bW4gPCBkZXRlY3Rpb25SZXN1bHQuZ2V0QmFyY29kZUNvbHVtbkNvdW50KCk7IGNvbHVtbisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGJhcmNvZGVNYXRyaXhbcm93XVtjb2x1bW4gKyAxXS5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIHZhciBjb2Rld29yZEluZGV4ID0gcm93ICogZGV0ZWN0aW9uUmVzdWx0LmdldEJhcmNvZGVDb2x1bW5Db3VudCgpICsgY29sdW1uO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVyYXN1cmVzLnB1c2goY29kZXdvcmRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZXdvcmRzW2NvZGV3b3JkSW5kZXhdID0gdmFsdWVzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYW1iaWd1b3VzSW5kZXhlc0xpc3QucHVzaChjb2Rld29yZEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgYW1iaWd1b3VzSW5kZXhWYWx1ZXNMaXN0LnB1c2godmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFtYmlndW91c0luZGV4VmFsdWVzID0gbmV3IEFycmF5KGFtYmlndW91c0luZGV4VmFsdWVzTGlzdC5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpIC8qaW50Ki8gPSAwOyBpIDwgYW1iaWd1b3VzSW5kZXhWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFtYmlndW91c0luZGV4VmFsdWVzW2ldID0gYW1iaWd1b3VzSW5kZXhWYWx1ZXNMaXN0W2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQREY0MTdTY2FubmluZ0RlY29kZXIuY3JlYXRlRGVjb2RlclJlc3VsdEZyb21BbWJpZ3VvdXNWYWx1ZXMoZGV0ZWN0aW9uUmVzdWx0LmdldEJhcmNvZGVFQ0xldmVsKCksIGNvZGV3b3JkcywgUERGNDE3Q29tbW9uLnRvSW50QXJyYXkoZXJhc3VyZXMpLCBQREY0MTdDb21tb24udG9JbnRBcnJheShhbWJpZ3VvdXNJbmRleGVzTGlzdCksIGFtYmlndW91c0luZGV4VmFsdWVzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGRlYWxzIHdpdGggdGhlIGZhY3QsIHRoYXQgdGhlIGRlY29kaW5nIHByb2Nlc3MgZG9lc24ndCBhbHdheXMgeWllbGQgYSBzaW5nbGUgbW9zdCBsaWtlbHkgdmFsdWUuIFRoZVxuICAgICAqIGN1cnJlbnQgZXJyb3IgY29ycmVjdGlvbiBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IGRlYWwgd2l0aCBlcmFzdXJlcyB2ZXJ5IHdlbGwsIHNvIGl0J3MgYmV0dGVyIHRvIHByb3ZpZGUgYSB2YWx1ZVxuICAgICAqIGZvciB0aGVzZSBhbWJpZ3VvdXMgY29kZXdvcmRzIGluc3RlYWQgb2YgdHJlYXRpbmcgaXQgYXMgYW4gZXJhc3VyZS4gVGhlIHByb2JsZW0gaXMgdGhhdCB3ZSBkb24ndCBrbm93IHdoaWNoIG9mXG4gICAgICogdGhlIGFtYmlndW91cyB2YWx1ZXMgdG8gY2hvb3NlLiBXZSB0cnkgZGVjb2RlIHVzaW5nIHRoZSBmaXJzdCB2YWx1ZSwgYW5kIGlmIHRoYXQgZmFpbHMsIHdlIHVzZSBhbm90aGVyIG9mIHRoZVxuICAgICAqIGFtYmlndW91cyB2YWx1ZXMgYW5kIHRyeSB0byBkZWNvZGUgYWdhaW4uIFRoaXMgdXN1YWxseSBvbmx5IGhhcHBlbnMgb24gdmVyeSBoYXJkIHRvIHJlYWQgYW5kIGRlY29kZSBiYXJjb2RlcyxcbiAgICAgKiBzbyBkZWNvZGluZyB0aGUgbm9ybWFsIGJhcmNvZGVzIGlzIG5vdCBhZmZlY3RlZCBieSB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVyYXN1cmVBcnJheSBjb250YWlucyB0aGUgaW5kZXhlcyBvZiBlcmFzdXJlc1xuICAgICAqIEBwYXJhbSBhbWJpZ3VvdXNJbmRleGVzIGFycmF5IHdpdGggdGhlIGluZGV4ZXMgdGhhdCBoYXZlIG1vcmUgdGhhbiBvbmUgbW9zdCBsaWtlbHkgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1iaWd1b3VzSW5kZXhWYWx1ZXMgdHdvIGRpbWVuc2lvbmFsIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIGFtYmlndW91cyB2YWx1ZXMuIFRoZSBmaXJzdCBkaW1lbnNpb24gbXVzdFxuICAgICAqIGJlIHRoZSBzYW1lIGxlbmd0aCBhcyB0aGUgYW1iaWd1b3VzSW5kZXhlcyBhcnJheVxuICAgICAqXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb25cbiAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uXG4gICAgICovXG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmNyZWF0ZURlY29kZXJSZXN1bHRGcm9tQW1iaWd1b3VzVmFsdWVzID0gZnVuY3Rpb24gKGVjTGV2ZWwsIGNvZGV3b3JkcywgZXJhc3VyZUFycmF5LCBhbWJpZ3VvdXNJbmRleGVzLCBhbWJpZ3VvdXNJbmRleFZhbHVlcykge1xuICAgICAgICB2YXIgYW1iaWd1b3VzSW5kZXhDb3VudCA9IG5ldyBJbnQzMkFycmF5KGFtYmlndW91c0luZGV4ZXMubGVuZ3RoKTtcbiAgICAgICAgdmFyIHRyaWVzID0gMTAwO1xuICAgICAgICB3aGlsZSAodHJpZXMtLSA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgLyppbnQqLyA9IDA7IGkgPCBhbWJpZ3VvdXNJbmRleENvdW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29kZXdvcmRzW2FtYmlndW91c0luZGV4ZXNbaV1dID0gYW1iaWd1b3VzSW5kZXhWYWx1ZXNbaV1bYW1iaWd1b3VzSW5kZXhDb3VudFtpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQREY0MTdTY2FubmluZ0RlY29kZXIuZGVjb2RlQ29kZXdvcmRzKGNvZGV3b3JkcywgZWNMZXZlbCwgZXJhc3VyZUFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWdub3JlZCA9IGVyciBpbnN0YW5jZW9mIENoZWNrc3VtRXhjZXB0aW9uO1xuICAgICAgICAgICAgICAgIGlmICghaWdub3JlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFtYmlndW91c0luZGV4Q291bnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgQ2hlY2tzdW1FeGNlcHRpb24uZ2V0Q2hlY2tzdW1JbnN0YW5jZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSAvKmludCovID0gMDsgaSA8IGFtYmlndW91c0luZGV4Q291bnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYW1iaWd1b3VzSW5kZXhDb3VudFtpXSA8IGFtYmlndW91c0luZGV4VmFsdWVzW2ldLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYW1iaWd1b3VzSW5kZXhDb3VudFtpXSsrO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFtYmlndW91c0luZGV4Q291bnRbaV0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gYW1iaWd1b3VzSW5kZXhDb3VudC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgQ2hlY2tzdW1FeGNlcHRpb24uZ2V0Q2hlY2tzdW1JbnN0YW5jZSgpO1xuICAgIH07XG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmNyZWF0ZUJhcmNvZGVNYXRyaXggPSBmdW5jdGlvbiAoZGV0ZWN0aW9uUmVzdWx0KSB7XG4gICAgICAgIHZhciBlXzMsIF9hLCBlXzQsIF9iO1xuICAgICAgICAvLyBsZXQgYmFyY29kZU1hdHJpeDogQmFyY29kZVZhbHVlW11bXSA9XG4gICAgICAgIC8vIG5ldyBCYXJjb2RlVmFsdWVbZGV0ZWN0aW9uUmVzdWx0LmdldEJhcmNvZGVSb3dDb3VudCgpXVtkZXRlY3Rpb25SZXN1bHQuZ2V0QmFyY29kZUNvbHVtbkNvdW50KCkgKyAyXTtcbiAgICAgICAgdmFyIGJhcmNvZGVNYXRyaXggPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBkZXRlY3Rpb25SZXN1bHQuZ2V0QmFyY29kZVJvd0NvdW50KCkgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEFycmF5KGRldGVjdGlvblJlc3VsdC5nZXRCYXJjb2RlQ29sdW1uQ291bnQoKSArIDIpOyB9KTtcbiAgICAgICAgZm9yICh2YXIgcm93IC8qaW50Ki8gPSAwOyByb3cgPCBiYXJjb2RlTWF0cml4Lmxlbmd0aDsgcm93KyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbHVtbl8xIC8qaW50Ki8gPSAwOyBjb2x1bW5fMSA8IGJhcmNvZGVNYXRyaXhbcm93XS5sZW5ndGg7IGNvbHVtbl8xKyspIHtcbiAgICAgICAgICAgICAgICBiYXJjb2RlTWF0cml4W3Jvd11bY29sdW1uXzFdID0gbmV3IEJhcmNvZGVWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjb2x1bW4gPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyhkZXRlY3Rpb25SZXN1bHQuZ2V0RGV0ZWN0aW9uUmVzdWx0Q29sdW1ucygpKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBkZXRlY3Rpb25SZXN1bHRDb2x1bW4gPSBfZC52YWx1ZSAvKkRldGVjdGlvblJlc3VsdENvbHVtbiovO1xuICAgICAgICAgICAgICAgIGlmIChkZXRlY3Rpb25SZXN1bHRDb2x1bW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2UgPSAoZV80ID0gdm9pZCAwLCBfX3ZhbHVlcyhkZXRlY3Rpb25SZXN1bHRDb2x1bW4uZ2V0Q29kZXdvcmRzKCkpKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2Rld29yZCA9IF9mLnZhbHVlIC8qQ29kZXdvcmQqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZXdvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93TnVtYmVyID0gY29kZXdvcmQuZ2V0Um93TnVtYmVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dOdW1iZXIgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd051bWJlciA+PSBiYXJjb2RlTWF0cml4Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgbW9yZSByb3dzIHRoYW4gdGhlIGJhcmNvZGUgbWV0YWRhdGEgYWxsb3dzIGZvciwgaWdub3JlIHRoZW0uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXJjb2RlTWF0cml4W3Jvd051bWJlcl1bY29sdW1uXS5zZXRWYWx1ZShjb2Rld29yZC5nZXRWYWx1ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV80XzEpIHsgZV80ID0geyBlcnJvcjogZV80XzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9mICYmICFfZi5kb25lICYmIChfYiA9IF9lLnJldHVybikpIF9iLmNhbGwoX2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbHVtbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhcmNvZGVNYXRyaXg7XG4gICAgfTtcbiAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuaXNWYWxpZEJhcmNvZGVDb2x1bW4gPSBmdW5jdGlvbiAoZGV0ZWN0aW9uUmVzdWx0LCBiYXJjb2RlQ29sdW1uKSB7XG4gICAgICAgIHJldHVybiBiYXJjb2RlQ29sdW1uID49IDAgJiYgYmFyY29kZUNvbHVtbiA8PSBkZXRlY3Rpb25SZXN1bHQuZ2V0QmFyY29kZUNvbHVtbkNvdW50KCkgKyAxO1xuICAgIH07XG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmdldFN0YXJ0Q29sdW1uID0gZnVuY3Rpb24gKGRldGVjdGlvblJlc3VsdCwgYmFyY29kZUNvbHVtbiwgaW1hZ2VSb3csIGxlZnRUb1JpZ2h0KSB7XG4gICAgICAgIHZhciBlXzUsIF9hO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gbGVmdFRvUmlnaHQgPyAxIDogLTE7XG4gICAgICAgIHZhciBjb2Rld29yZCA9IG51bGw7XG4gICAgICAgIGlmIChQREY0MTdTY2FubmluZ0RlY29kZXIuaXNWYWxpZEJhcmNvZGVDb2x1bW4oZGV0ZWN0aW9uUmVzdWx0LCBiYXJjb2RlQ29sdW1uIC0gb2Zmc2V0KSkge1xuICAgICAgICAgICAgY29kZXdvcmQgPSBkZXRlY3Rpb25SZXN1bHQuZ2V0RGV0ZWN0aW9uUmVzdWx0Q29sdW1uKGJhcmNvZGVDb2x1bW4gLSBvZmZzZXQpLmdldENvZGV3b3JkKGltYWdlUm93KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZXdvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlZnRUb1JpZ2h0ID8gY29kZXdvcmQuZ2V0RW5kWCgpIDogY29kZXdvcmQuZ2V0U3RhcnRYKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29kZXdvcmQgPSBkZXRlY3Rpb25SZXN1bHQuZ2V0RGV0ZWN0aW9uUmVzdWx0Q29sdW1uKGJhcmNvZGVDb2x1bW4pLmdldENvZGV3b3JkTmVhcmJ5KGltYWdlUm93KTtcbiAgICAgICAgaWYgKGNvZGV3b3JkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0VG9SaWdodCA/IGNvZGV3b3JkLmdldFN0YXJ0WCgpIDogY29kZXdvcmQuZ2V0RW5kWCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChQREY0MTdTY2FubmluZ0RlY29kZXIuaXNWYWxpZEJhcmNvZGVDb2x1bW4oZGV0ZWN0aW9uUmVzdWx0LCBiYXJjb2RlQ29sdW1uIC0gb2Zmc2V0KSkge1xuICAgICAgICAgICAgY29kZXdvcmQgPSBkZXRlY3Rpb25SZXN1bHQuZ2V0RGV0ZWN0aW9uUmVzdWx0Q29sdW1uKGJhcmNvZGVDb2x1bW4gLSBvZmZzZXQpLmdldENvZGV3b3JkTmVhcmJ5KGltYWdlUm93KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZXdvcmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlZnRUb1JpZ2h0ID8gY29kZXdvcmQuZ2V0RW5kWCgpIDogY29kZXdvcmQuZ2V0U3RhcnRYKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNraXBwZWRDb2x1bW5zID0gMDtcbiAgICAgICAgd2hpbGUgKFBERjQxN1NjYW5uaW5nRGVjb2Rlci5pc1ZhbGlkQmFyY29kZUNvbHVtbihkZXRlY3Rpb25SZXN1bHQsIGJhcmNvZGVDb2x1bW4gLSBvZmZzZXQpKSB7XG4gICAgICAgICAgICBiYXJjb2RlQ29sdW1uIC09IG9mZnNldDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAoZV81ID0gdm9pZCAwLCBfX3ZhbHVlcyhkZXRlY3Rpb25SZXN1bHQuZ2V0RGV0ZWN0aW9uUmVzdWx0Q29sdW1uKGJhcmNvZGVDb2x1bW4pLmdldENvZGV3b3JkcygpKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzUm93Q29kZXdvcmQgPSBfYy52YWx1ZSAvKkNvZGV3b3JkKi87XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c1Jvd0NvZGV3b3JkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAobGVmdFRvUmlnaHQgPyBwcmV2aW91c1Jvd0NvZGV3b3JkLmdldEVuZFgoKSA6IHByZXZpb3VzUm93Q29kZXdvcmQuZ2V0U3RhcnRYKCkpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwcGVkQ29sdW1ucyAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwcmV2aW91c1Jvd0NvZGV3b3JkLmdldEVuZFgoKSAtIHByZXZpb3VzUm93Q29kZXdvcmQuZ2V0U3RhcnRYKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfNV8xKSB7IGVfNSA9IHsgZXJyb3I6IGVfNV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzUpIHRocm93IGVfNS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2tpcHBlZENvbHVtbnMrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGVmdFRvUmlnaHQgPyBkZXRlY3Rpb25SZXN1bHQuZ2V0Qm91bmRpbmdCb3goKS5nZXRNaW5YKCkgOiBkZXRlY3Rpb25SZXN1bHQuZ2V0Qm91bmRpbmdCb3goKS5nZXRNYXhYKCk7XG4gICAgfTtcbiAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuZGV0ZWN0Q29kZXdvcmQgPSBmdW5jdGlvbiAoaW1hZ2UsIG1pbkNvbHVtbiwgbWF4Q29sdW1uLCBsZWZ0VG9SaWdodCwgc3RhcnRDb2x1bW4sIGltYWdlUm93LCBtaW5Db2Rld29yZFdpZHRoLCBtYXhDb2Rld29yZFdpZHRoKSB7XG4gICAgICAgIHN0YXJ0Q29sdW1uID0gUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmFkanVzdENvZGV3b3JkU3RhcnRDb2x1bW4oaW1hZ2UsIG1pbkNvbHVtbiwgbWF4Q29sdW1uLCBsZWZ0VG9SaWdodCwgc3RhcnRDb2x1bW4sIGltYWdlUm93KTtcbiAgICAgICAgLy8gd2UgdXN1YWxseSBrbm93IGZhaXJseSBleGFjdCBub3cgaG93IGxvbmcgYSBjb2Rld29yZCBpcy4gV2Ugc2hvdWxkIHByb3ZpZGUgbWluaW11bSBhbmQgbWF4aW11bSBleHBlY3RlZCBsZW5ndGhcbiAgICAgICAgLy8gYW5kIHRyeSB0byBhZGp1c3QgdGhlIHJlYWQgcGl4ZWxzLCBlLmcuIHJlbW92ZSBzaW5nbGUgcGl4ZWwgZXJyb3JzIG9yIHRyeSB0byBjdXQgb2ZmIGV4Y2VlZGluZyBwaXhlbHMuXG4gICAgICAgIC8vIG1pbiBhbmQgbWF4Q29kZXdvcmRXaWR0aCBzaG91bGQgbm90IGJlIHVzZWQgYXMgdGhleSBhcmUgY2FsY3VsYXRlZCBmb3IgdGhlIHdob2xlIGJhcmNvZGUgYW4gY2FuIGJlIGluYWNjdXJhdGVcbiAgICAgICAgLy8gZm9yIHRoZSBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIHZhciBtb2R1bGVCaXRDb3VudCA9IFBERjQxN1NjYW5uaW5nRGVjb2Rlci5nZXRNb2R1bGVCaXRDb3VudChpbWFnZSwgbWluQ29sdW1uLCBtYXhDb2x1bW4sIGxlZnRUb1JpZ2h0LCBzdGFydENvbHVtbiwgaW1hZ2VSb3cpO1xuICAgICAgICBpZiAobW9kdWxlQml0Q291bnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVuZENvbHVtbjtcbiAgICAgICAgdmFyIGNvZGV3b3JkQml0Q291bnQgPSBNYXRoVXRpbHMuc3VtKG1vZHVsZUJpdENvdW50KTtcbiAgICAgICAgaWYgKGxlZnRUb1JpZ2h0KSB7XG4gICAgICAgICAgICBlbmRDb2x1bW4gPSBzdGFydENvbHVtbiArIGNvZGV3b3JkQml0Q291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIC8qaW50Ki8gPSAwOyBpIDwgbW9kdWxlQml0Q291bnQubGVuZ3RoIC8gMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRtcENvdW50ID0gbW9kdWxlQml0Q291bnRbaV07XG4gICAgICAgICAgICAgICAgbW9kdWxlQml0Q291bnRbaV0gPSBtb2R1bGVCaXRDb3VudFttb2R1bGVCaXRDb3VudC5sZW5ndGggLSAxIC0gaV07XG4gICAgICAgICAgICAgICAgbW9kdWxlQml0Q291bnRbbW9kdWxlQml0Q291bnQubGVuZ3RoIC0gMSAtIGldID0gdG1wQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmRDb2x1bW4gPSBzdGFydENvbHVtbjtcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gZW5kQ29sdW1uIC0gY29kZXdvcmRCaXRDb3VudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIGltcGxlbWVudCBjaGVjayBmb3Igd2lkdGggYW5kIGNvcnJlY3Rpb24gb2YgYmxhY2sgYW5kIHdoaXRlIGJhcnNcbiAgICAgICAgLy8gdXNlIHN0YXJ0IChhbmQgbWF5YmUgc3RvcCBwYXR0ZXJuKSB0byBkZXRlcm1pbmUgaWYgYmxhY2sgYmFycyBhcmUgd2lkZXIgdGhhbiB3aGl0ZSBiYXJzLiBJZiBzbywgYWRqdXN0LlxuICAgICAgICAvLyBzaG91bGQgcHJvYmFibHkgZG9uZSBvbmx5IGZvciBjb2Rld29yZHMgd2l0aCBhIGxvdCBtb3JlIHRoYW4gMTcgYml0cy5cbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBmaXhlcyAxMC0xLnBuZywgd2hpY2ggaGFzIHdpZGUgYmxhY2sgYmFycyBhbmQgc21hbGwgd2hpdGUgYmFyc1xuICAgICAgICAvLyAgICBmb3IgKGxldCBpIC8qaW50Ki8gPSAwOyBpIDwgbW9kdWxlQml0Q291bnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gICAgICBpZiAoaSAlIDIgPT09IDApIHtcbiAgICAgICAgLy8gICAgICAgIG1vZHVsZUJpdENvdW50W2ldLS07XG4gICAgICAgIC8vICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgIG1vZHVsZUJpdENvdW50W2ldKys7XG4gICAgICAgIC8vICAgICAgfVxuICAgICAgICAvLyAgICB9XG4gICAgICAgIC8vIFdlIGNvdWxkIGFsc28gdXNlIHRoZSB3aWR0aCBvZiBzdXJyb3VuZGluZyBjb2Rld29yZHMgZm9yIG1vcmUgYWNjdXJhdGUgcmVzdWx0cywgYnV0IHRoaXMgc2VlbXNcbiAgICAgICAgLy8gc3VmZmljaWVudCBmb3Igbm93XG4gICAgICAgIGlmICghUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmNoZWNrQ29kZXdvcmRTa2V3KGNvZGV3b3JkQml0Q291bnQsIG1pbkNvZGV3b3JkV2lkdGgsIG1heENvZGV3b3JkV2lkdGgpKSB7XG4gICAgICAgICAgICAvLyBXZSBjb3VsZCB0cnkgdG8gdXNlIHRoZSBzdGFydFggYW5kIGVuZFggcG9zaXRpb24gb2YgdGhlIGNvZGV3b3JkIGluIHRoZSBzYW1lIGNvbHVtbiBpbiB0aGUgcHJldmlvdXMgcm93LFxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBiaXQgY291bnQgZnJvbSBpdCBhbmQgbm9ybWFsaXplIGl0IHRvIDguIFRoaXMgd291bGQgaGVscCB3aXRoIHNpbmdsZSBwaXhlbCBlcnJvcnMuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVjb2RlZFZhbHVlID0gUERGNDE3Q29kZXdvcmREZWNvZGVyLmdldERlY29kZWRWYWx1ZShtb2R1bGVCaXRDb3VudCk7XG4gICAgICAgIHZhciBjb2Rld29yZCA9IFBERjQxN0NvbW1vbi5nZXRDb2Rld29yZChkZWNvZGVkVmFsdWUpO1xuICAgICAgICBpZiAoY29kZXdvcmQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvZGV3b3JkKHN0YXJ0Q29sdW1uLCBlbmRDb2x1bW4sIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5nZXRDb2Rld29yZEJ1Y2tldE51bWJlcihkZWNvZGVkVmFsdWUpLCBjb2Rld29yZCk7XG4gICAgfTtcbiAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuZ2V0TW9kdWxlQml0Q291bnQgPSBmdW5jdGlvbiAoaW1hZ2UsIG1pbkNvbHVtbiwgbWF4Q29sdW1uLCBsZWZ0VG9SaWdodCwgc3RhcnRDb2x1bW4sIGltYWdlUm93KSB7XG4gICAgICAgIHZhciBpbWFnZUNvbHVtbiA9IHN0YXJ0Q29sdW1uO1xuICAgICAgICB2YXIgbW9kdWxlQml0Q291bnQgPSBuZXcgSW50MzJBcnJheSg4KTtcbiAgICAgICAgdmFyIG1vZHVsZU51bWJlciA9IDA7XG4gICAgICAgIHZhciBpbmNyZW1lbnQgPSBsZWZ0VG9SaWdodCA/IDEgOiAtMTtcbiAgICAgICAgdmFyIHByZXZpb3VzUGl4ZWxWYWx1ZSA9IGxlZnRUb1JpZ2h0O1xuICAgICAgICB3aGlsZSAoKGxlZnRUb1JpZ2h0ID8gaW1hZ2VDb2x1bW4gPCBtYXhDb2x1bW4gOiBpbWFnZUNvbHVtbiA+PSBtaW5Db2x1bW4pICYmXG4gICAgICAgICAgICBtb2R1bGVOdW1iZXIgPCBtb2R1bGVCaXRDb3VudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaW1hZ2VDb2x1bW4sIGltYWdlUm93KSA9PT0gcHJldmlvdXNQaXhlbFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlQml0Q291bnRbbW9kdWxlTnVtYmVyXSsrO1xuICAgICAgICAgICAgICAgIGltYWdlQ29sdW1uICs9IGluY3JlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZHVsZU51bWJlcisrO1xuICAgICAgICAgICAgICAgIHByZXZpb3VzUGl4ZWxWYWx1ZSA9ICFwcmV2aW91c1BpeGVsVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZHVsZU51bWJlciA9PT0gbW9kdWxlQml0Q291bnQubGVuZ3RoIHx8XG4gICAgICAgICAgICAoKGltYWdlQ29sdW1uID09PSAobGVmdFRvUmlnaHQgPyBtYXhDb2x1bW4gOiBtaW5Db2x1bW4pKSAmJlxuICAgICAgICAgICAgICAgIG1vZHVsZU51bWJlciA9PT0gbW9kdWxlQml0Q291bnQubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVCaXRDb3VudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5nZXROdW1iZXJPZkVDQ29kZVdvcmRzID0gZnVuY3Rpb24gKGJhcmNvZGVFQ0xldmVsKSB7XG4gICAgICAgIHJldHVybiAyIDw8IGJhcmNvZGVFQ0xldmVsO1xuICAgIH07XG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmFkanVzdENvZGV3b3JkU3RhcnRDb2x1bW4gPSBmdW5jdGlvbiAoaW1hZ2UsIG1pbkNvbHVtbiwgbWF4Q29sdW1uLCBsZWZ0VG9SaWdodCwgY29kZXdvcmRTdGFydENvbHVtbiwgaW1hZ2VSb3cpIHtcbiAgICAgICAgdmFyIGNvcnJlY3RlZFN0YXJ0Q29sdW1uID0gY29kZXdvcmRTdGFydENvbHVtbjtcbiAgICAgICAgdmFyIGluY3JlbWVudCA9IGxlZnRUb1JpZ2h0ID8gLTEgOiAxO1xuICAgICAgICAvLyB0aGVyZSBzaG91bGQgYmUgbm8gYmxhY2sgcGl4ZWxzIGJlZm9yZSB0aGUgc3RhcnQgY29sdW1uLiBJZiB0aGVyZSBhcmUsIHRoZW4gd2UgbmVlZCB0byBzdGFydCBlYXJsaWVyLlxuICAgICAgICBmb3IgKHZhciBpIC8qaW50Ki8gPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICAgICAgICB3aGlsZSAoKGxlZnRUb1JpZ2h0ID8gY29ycmVjdGVkU3RhcnRDb2x1bW4gPj0gbWluQ29sdW1uIDogY29ycmVjdGVkU3RhcnRDb2x1bW4gPCBtYXhDb2x1bW4pICYmXG4gICAgICAgICAgICAgICAgbGVmdFRvUmlnaHQgPT09IGltYWdlLmdldChjb3JyZWN0ZWRTdGFydENvbHVtbiwgaW1hZ2VSb3cpKSB7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGNvZGV3b3JkU3RhcnRDb2x1bW4gLSBjb3JyZWN0ZWRTdGFydENvbHVtbikgPiBQREY0MTdTY2FubmluZ0RlY29kZXIuQ09ERVdPUkRfU0tFV19TSVpFKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2Rld29yZFN0YXJ0Q29sdW1uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb3JyZWN0ZWRTdGFydENvbHVtbiArPSBpbmNyZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmNyZW1lbnQgPSAtaW5jcmVtZW50O1xuICAgICAgICAgICAgbGVmdFRvUmlnaHQgPSAhbGVmdFRvUmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvcnJlY3RlZFN0YXJ0Q29sdW1uO1xuICAgIH07XG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmNoZWNrQ29kZXdvcmRTa2V3ID0gZnVuY3Rpb24gKGNvZGV3b3JkU2l6ZSwgbWluQ29kZXdvcmRXaWR0aCwgbWF4Q29kZXdvcmRXaWR0aCkge1xuICAgICAgICByZXR1cm4gbWluQ29kZXdvcmRXaWR0aCAtIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5DT0RFV09SRF9TS0VXX1NJWkUgPD0gY29kZXdvcmRTaXplICYmXG4gICAgICAgICAgICBjb2Rld29yZFNpemUgPD0gbWF4Q29kZXdvcmRXaWR0aCArIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5DT0RFV09SRF9TS0VXX1NJWkU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbixcbiAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uXG4gICAgICovXG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmRlY29kZUNvZGV3b3JkcyA9IGZ1bmN0aW9uIChjb2Rld29yZHMsIGVjTGV2ZWwsIGVyYXN1cmVzKSB7XG4gICAgICAgIGlmIChjb2Rld29yZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBGb3JtYXRFeGNlcHRpb24uZ2V0Rm9ybWF0SW5zdGFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbnVtRUNDb2Rld29yZHMgPSAxIDw8IChlY0xldmVsICsgMSk7XG4gICAgICAgIHZhciBjb3JyZWN0ZWRFcnJvcnNDb3VudCA9IFBERjQxN1NjYW5uaW5nRGVjb2Rlci5jb3JyZWN0RXJyb3JzKGNvZGV3b3JkcywgZXJhc3VyZXMsIG51bUVDQ29kZXdvcmRzKTtcbiAgICAgICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLnZlcmlmeUNvZGV3b3JkQ291bnQoY29kZXdvcmRzLCBudW1FQ0NvZGV3b3Jkcyk7XG4gICAgICAgIC8vIERlY29kZSB0aGUgY29kZXdvcmRzXG4gICAgICAgIHZhciBkZWNvZGVyUmVzdWx0ID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGUoY29kZXdvcmRzLCAnJyArIGVjTGV2ZWwpO1xuICAgICAgICBkZWNvZGVyUmVzdWx0LnNldEVycm9yc0NvcnJlY3RlZChjb3JyZWN0ZWRFcnJvcnNDb3VudCk7XG4gICAgICAgIGRlY29kZXJSZXN1bHQuc2V0RXJhc3VyZXMoZXJhc3VyZXMubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGRlY29kZXJSZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG9cbiAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UuPC9wPlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGV3b3JkcyAgIGRhdGEgYW5kIGVycm9yIGNvcnJlY3Rpb24gY29kZXdvcmRzXG4gICAgICogQHBhcmFtIGVyYXN1cmVzIHBvc2l0aW9ucyBvZiBhbnkga25vd24gZXJhc3VyZXNcbiAgICAgKiBAcGFyYW0gbnVtRUNDb2Rld29yZHMgbnVtYmVyIG9mIGVycm9yIGNvcnJlY3Rpb24gY29kZXdvcmRzIHRoYXQgYXJlIGF2YWlsYWJsZSBpbiBjb2Rld29yZHNcbiAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHNcbiAgICAgKi9cbiAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuY29ycmVjdEVycm9ycyA9IGZ1bmN0aW9uIChjb2Rld29yZHMsIGVyYXN1cmVzLCBudW1FQ0NvZGV3b3Jkcykge1xuICAgICAgICBpZiAoZXJhc3VyZXMgIT0gbnVsbCAmJlxuICAgICAgICAgICAgZXJhc3VyZXMubGVuZ3RoID4gbnVtRUNDb2Rld29yZHMgLyAyICsgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLk1BWF9FUlJPUlMgfHxcbiAgICAgICAgICAgIG51bUVDQ29kZXdvcmRzIDwgMCB8fFxuICAgICAgICAgICAgbnVtRUNDb2Rld29yZHMgPiBQREY0MTdTY2FubmluZ0RlY29kZXIuTUFYX0VDX0NPREVXT1JEUykge1xuICAgICAgICAgICAgLy8gVG9vIG1hbnkgZXJyb3JzIG9yIEVDIENvZGV3b3JkcyBpcyBjb3JydXB0ZWRcbiAgICAgICAgICAgIHRocm93IENoZWNrc3VtRXhjZXB0aW9uLmdldENoZWNrc3VtSW5zdGFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmVycm9yQ29ycmVjdGlvbi5kZWNvZGUoY29kZXdvcmRzLCBudW1FQ0NvZGV3b3JkcywgZXJhc3VyZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmVyaWZ5IHRoYXQgYWxsIGlzIE9LIHdpdGggdGhlIGNvZGV3b3JkIGFycmF5LlxuICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uXG4gICAgICovXG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLnZlcmlmeUNvZGV3b3JkQ291bnQgPSBmdW5jdGlvbiAoY29kZXdvcmRzLCBudW1FQ0NvZGV3b3Jkcykge1xuICAgICAgICBpZiAoY29kZXdvcmRzLmxlbmd0aCA8IDQpIHtcbiAgICAgICAgICAgIC8vIENvZGV3b3JkIGFycmF5IHNpemUgc2hvdWxkIGJlIGF0IGxlYXN0IDQgYWxsb3dpbmcgZm9yXG4gICAgICAgICAgICAvLyBDb3VudCBDVywgQXQgbGVhc3Qgb25lIERhdGEgQ1csIEVycm9yIENvcnJlY3Rpb24gQ1csIEVycm9yIENvcnJlY3Rpb24gQ1dcbiAgICAgICAgICAgIHRocm93IEZvcm1hdEV4Y2VwdGlvbi5nZXRGb3JtYXRJbnN0YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBmaXJzdCBjb2Rld29yZCwgdGhlIFN5bWJvbCBMZW5ndGggRGVzY3JpcHRvciwgc2hhbGwgYWx3YXlzIGVuY29kZSB0aGUgdG90YWwgbnVtYmVyIG9mIGRhdGFcbiAgICAgICAgLy8gY29kZXdvcmRzIGluIHRoZSBzeW1ib2wsIGluY2x1ZGluZyB0aGUgU3ltYm9sIExlbmd0aCBEZXNjcmlwdG9yIGl0c2VsZiwgZGF0YSBjb2Rld29yZHMgYW5kIHBhZFxuICAgICAgICAvLyBjb2Rld29yZHMsIGJ1dCBleGNsdWRpbmcgdGhlIG51bWJlciBvZiBlcnJvciBjb3JyZWN0aW9uIGNvZGV3b3Jkcy5cbiAgICAgICAgdmFyIG51bWJlck9mQ29kZXdvcmRzID0gY29kZXdvcmRzWzBdO1xuICAgICAgICBpZiAobnVtYmVyT2ZDb2Rld29yZHMgPiBjb2Rld29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBGb3JtYXRFeGNlcHRpb24uZ2V0Rm9ybWF0SW5zdGFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtYmVyT2ZDb2Rld29yZHMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIFJlc2V0IHRvIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5IC0gOCAoQWxsb3cgZm9yIGF0IGxlYXN0IGxldmVsIDMgRXJyb3IgQ29ycmVjdGlvbiAoOCBFcnJvciBDb2Rld29yZHMpXG4gICAgICAgICAgICBpZiAobnVtRUNDb2Rld29yZHMgPCBjb2Rld29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29kZXdvcmRzWzBdID0gY29kZXdvcmRzLmxlbmd0aCAtIG51bUVDQ29kZXdvcmRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5nZXRCaXRDb3VudEZvckNvZGV3b3JkID0gZnVuY3Rpb24gKGNvZGV3b3JkKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheSg4KTtcbiAgICAgICAgdmFyIHByZXZpb3VzVmFsdWUgPSAwO1xuICAgICAgICB2YXIgaSA9IHJlc3VsdC5sZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKChjb2Rld29yZCAmIDB4MSkgIT09IHByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlID0gY29kZXdvcmQgJiAweDE7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGlmIChpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbaV0rKztcbiAgICAgICAgICAgIGNvZGV3b3JkID4+PSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBQREY0MTdTY2FubmluZ0RlY29kZXIuZ2V0Q29kZXdvcmRCdWNrZXROdW1iZXIgPSBmdW5jdGlvbiAoY29kZXdvcmQpIHtcbiAgICAgICAgaWYgKGNvZGV3b3JkIGluc3RhbmNlb2YgSW50MzJBcnJheSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29kZXdvcmRCdWNrZXROdW1iZXJfSW50MzJBcnJheShjb2Rld29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29kZXdvcmRCdWNrZXROdW1iZXJfbnVtYmVyKGNvZGV3b3JkKTtcbiAgICB9O1xuICAgIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5nZXRDb2Rld29yZEJ1Y2tldE51bWJlcl9udW1iZXIgPSBmdW5jdGlvbiAoY29kZXdvcmQpIHtcbiAgICAgICAgcmV0dXJuIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5nZXRDb2Rld29yZEJ1Y2tldE51bWJlcihQREY0MTdTY2FubmluZ0RlY29kZXIuZ2V0Qml0Q291bnRGb3JDb2Rld29yZChjb2Rld29yZCkpO1xuICAgIH07XG4gICAgUERGNDE3U2Nhbm5pbmdEZWNvZGVyLmdldENvZGV3b3JkQnVja2V0TnVtYmVyX0ludDMyQXJyYXkgPSBmdW5jdGlvbiAobW9kdWxlQml0Q291bnQpIHtcbiAgICAgICAgcmV0dXJuIChtb2R1bGVCaXRDb3VudFswXSAtIG1vZHVsZUJpdENvdW50WzJdICsgbW9kdWxlQml0Q291bnRbNF0gLSBtb2R1bGVCaXRDb3VudFs2XSArIDkpICUgOTtcbiAgICB9O1xuICAgIFBERjQxN1NjYW5uaW5nRGVjb2Rlci50b1N0cmluZyA9IGZ1bmN0aW9uIChiYXJjb2RlTWF0cml4KSB7XG4gICAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgRm9ybWF0dGVyKCk7XG4gICAgICAgIC8vIHRyeSAobGV0IGZvcm1hdHRlciA9IG5ldyBGb3JtYXR0ZXIoKSkge1xuICAgICAgICBmb3IgKHZhciByb3cgLyppbnQqLyA9IDA7IHJvdyA8IGJhcmNvZGVNYXRyaXgubGVuZ3RoOyByb3crKykge1xuICAgICAgICAgICAgZm9ybWF0dGVyLmZvcm1hdCgnUm93ICUyZDogJywgcm93KTtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbHVtbiAvKmludCovID0gMDsgY29sdW1uIDwgYmFyY29kZU1hdHJpeFtyb3ddLmxlbmd0aDsgY29sdW1uKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFyY29kZVZhbHVlID0gYmFyY29kZU1hdHJpeFtyb3ddW2NvbHVtbl07XG4gICAgICAgICAgICAgICAgaWYgKGJhcmNvZGVWYWx1ZS5nZXRWYWx1ZSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXIuZm9ybWF0KCcgICAgICAgICcsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyLmZvcm1hdCgnJTRkKCUyZCknLCBiYXJjb2RlVmFsdWUuZ2V0VmFsdWUoKVswXSwgYmFyY29kZVZhbHVlLmdldENvbmZpZGVuY2UoYmFyY29kZVZhbHVlLmdldFZhbHVlKClbMF0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3JtYXR0ZXIuZm9ybWF0KCclbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXR0ZXIudG9TdHJpbmcoKTtcbiAgICAgICAgLy8gfVxuICAgIH07XG4gICAgLypmaW5hbCovIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5DT0RFV09SRF9TS0VXX1NJWkUgPSAyO1xuICAgIC8qZmluYWwqLyBQREY0MTdTY2FubmluZ0RlY29kZXIuTUFYX0VSUk9SUyA9IDM7XG4gICAgLypmaW5hbCovIFBERjQxN1NjYW5uaW5nRGVjb2Rlci5NQVhfRUNfQ09ERVdPUkRTID0gNTEyO1xuICAgIC8qZmluYWwqLyBQREY0MTdTY2FubmluZ0RlY29kZXIuZXJyb3JDb3JyZWN0aW9uID0gbmV3IEVycm9yQ29ycmVjdGlvbigpO1xuICAgIHJldHVybiBQREY0MTdTY2FubmluZ0RlY29kZXI7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUERGNDE3U2Nhbm5pbmdEZWNvZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UERGNDE3U2Nhbm5pbmdEZWNvZGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuLy8gcGFja2FnZSBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNztcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLkJhcmNvZGVGb3JtYXQ7XG5pbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuLi9CYXJjb2RlRm9ybWF0Jztcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLkNoZWNrc3VtRXhjZXB0aW9uO1xuaW1wb3J0IENoZWNrc3VtRXhjZXB0aW9uIGZyb20gJy4uL0NoZWNrc3VtRXhjZXB0aW9uJztcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLkZvcm1hdEV4Y2VwdGlvbjtcbmltcG9ydCBGb3JtYXRFeGNlcHRpb24gZnJvbSAnLi4vRm9ybWF0RXhjZXB0aW9uJztcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLk5vdEZvdW5kRXhjZXB0aW9uO1xuaW1wb3J0IE5vdEZvdW5kRXhjZXB0aW9uIGZyb20gJy4uL05vdEZvdW5kRXhjZXB0aW9uJztcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLlJlc3VsdDtcbmltcG9ydCBSZXN1bHQgZnJvbSAnLi4vUmVzdWx0Jztcbi8vIGltcG9ydCBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5EZWNvZGVyUmVzdWx0O1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcubXVsdGkuTXVsdGlwbGVCYXJjb2RlUmVhZGVyO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcucGRmNDE3LmRlY29kZXIuUERGNDE3U2Nhbm5pbmdEZWNvZGVyO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcucGRmNDE3LmRldGVjdG9yLkRldGVjdG9yO1xuLy8gaW1wb3J0IGNvbS5nb29nbGUuenhpbmcucGRmNDE3LmRldGVjdG9yLlBERjQxN0RldGVjdG9yUmVzdWx0O1xuaW1wb3J0IFBERjQxN0NvbW1vbiBmcm9tICcuL1BERjQxN0NvbW1vbic7XG5pbXBvcnQgSW50ZWdlciBmcm9tICcuLi91dGlsL0ludGVnZXInO1xuaW1wb3J0IFJlc3VsdE1ldGFkYXRhVHlwZSBmcm9tICcuLi9SZXN1bHRNZXRhZGF0YVR5cGUnO1xuaW1wb3J0IERldGVjdG9yIGZyb20gJy4vZGV0ZWN0b3IvRGV0ZWN0b3InO1xuaW1wb3J0IFBERjQxN1NjYW5uaW5nRGVjb2RlciBmcm9tICcuL2RlY29kZXIvUERGNDE3U2Nhbm5pbmdEZWNvZGVyJztcbi8vIGltcG9ydCBqYXZhLnV0aWwuQXJyYXlMaXN0O1xuLy8gaW1wb3J0IGphdmEudXRpbC5MaXN0O1xuLy8gaW1wb3J0IGphdmEudXRpbC5NYXA7XG4vKipcbiAqIFRoaXMgaW1wbGVtZW50YXRpb24gY2FuIGRldGVjdCBhbmQgZGVjb2RlIFBERjQxNyBjb2RlcyBpbiBhbiBpbWFnZS5cbiAqXG4gKiBAYXV0aG9yIEd1ZW50aGVyIEdyYXVcbiAqL1xudmFyIFBERjQxN1JlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQREY0MTdSZWFkZXIoKSB7XG4gICAgfVxuICAgIC8vIHByaXZhdGUgc3RhdGljIC8qZmluYWwgUmVzdWx0W10qLyBFTVBUWV9SRVNVTFRfQVJSQVk6IFJlc3VsdFtdID0gbmV3IFJlc3VsdChbMF0pO1xuICAgIC8qKlxuICAgICAqIExvY2F0ZXMgYW5kIGRlY29kZXMgYSBQREY0MTcgY29kZSBpbiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb250ZW50IGVuY29kZWQgYnkgdGhlIFBERjQxNyBjb2RlXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFBERjQxNyBjb2RlIGNhbm5vdCBiZSBmb3VuZCxcbiAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBhIFBERjQxNyBjYW5ub3QgYmUgZGVjb2RlZFxuICAgICAqIEB0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb25cbiAgICAgKi9cbiAgICAvLyBAT3ZlcnJpZGVcbiAgICBQREY0MTdSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHtcbiAgICAgICAgaWYgKGhpbnRzID09PSB2b2lkIDApIHsgaGludHMgPSBudWxsOyB9XG4gICAgICAgIHZhciByZXN1bHQgPSBQREY0MTdSZWFkZXIuZGVjb2RlKGltYWdlLCBoaW50cywgZmFsc2UpO1xuICAgICAgICBpZiAocmVzdWx0ID09IG51bGwgfHwgcmVzdWx0Lmxlbmd0aCA9PT0gMCB8fCByZXN1bHRbMF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgTm90Rm91bmRFeGNlcHRpb24uZ2V0Tm90Rm91bmRJbnN0YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRbMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBCaW5hcnlCaXRtYXBcbiAgICAgKiBAcGFyYW0gaW1hZ2VcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uXG4gICAgICovXG4gICAgLy8gICBAT3ZlcnJpZGVcbiAgICBQREY0MTdSZWFkZXIucHJvdG90eXBlLmRlY29kZU11bHRpcGxlID0gZnVuY3Rpb24gKGltYWdlLCBoaW50cykge1xuICAgICAgICBpZiAoaGludHMgPT09IHZvaWQgMCkgeyBoaW50cyA9IG51bGw7IH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBQREY0MTdSZWFkZXIuZGVjb2RlKGltYWdlLCBoaW50cywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHtcbiAgICAgICAgICAgIGlmIChpZ25vcmVkIGluc3RhbmNlb2YgRm9ybWF0RXhjZXB0aW9uIHx8IGlnbm9yZWQgaW5zdGFuY2VvZiBDaGVja3N1bUV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93IE5vdEZvdW5kRXhjZXB0aW9uLmdldE5vdEZvdW5kSW5zdGFuY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGlnbm9yZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGltYWdlXG4gICAgICogQHBhcmFtIGhpbnRzXG4gICAgICogQHBhcmFtIG11bHRpcGxlXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uXG4gICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb27Dn1xuICAgICAqIEB0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb25cbiAgICAgKi9cbiAgICBQREY0MTdSZWFkZXIuZGVjb2RlID0gZnVuY3Rpb24gKGltYWdlLCBoaW50cywgbXVsdGlwbGUpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciBkZXRlY3RvclJlc3VsdCA9IERldGVjdG9yLmRldGVjdE11bHRpcGxlKGltYWdlLCBoaW50cywgbXVsdGlwbGUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQgPSBQREY0MTdTY2FubmluZ0RlY29kZXIuZGVjb2RlKGRldGVjdG9yUmVzdWx0LmdldEJpdHMoKSwgcG9pbnRzWzRdLCBwb2ludHNbNV0sIHBvaW50c1s2XSwgcG9pbnRzWzddLCBQREY0MTdSZWFkZXIuZ2V0TWluQ29kZXdvcmRXaWR0aChwb2ludHMpLCBQREY0MTdSZWFkZXIuZ2V0TWF4Q29kZXdvcmRXaWR0aChwb2ludHMpKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFJlc3VsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdC5QREZfNDE3KTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHV0TWV0YWRhdGEoUmVzdWx0TWV0YWRhdGFUeXBlLkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGRlY29kZXJSZXN1bHQuZ2V0RUNMZXZlbCgpKTtcbiAgICAgICAgICAgICAgICB2YXIgcGRmNDE3UmVzdWx0TWV0YWRhdGEgPSBkZWNvZGVyUmVzdWx0LmdldE90aGVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBkZjQxN1Jlc3VsdE1ldGFkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZS5QREY0MTdfRVhUUkFfTUVUQURBVEEsIHBkZjQxN1Jlc3VsdE1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHg7IH0pO1xuICAgIH07XG4gICAgUERGNDE3UmVhZGVyLmdldE1heFdpZHRoID0gZnVuY3Rpb24gKHAxLCBwMikge1xuICAgICAgICBpZiAocDEgPT0gbnVsbCB8fCBwMiA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC50cnVuYyhNYXRoLmFicyhwMS5nZXRYKCkgLSBwMi5nZXRYKCkpKTtcbiAgICB9O1xuICAgIFBERjQxN1JlYWRlci5nZXRNaW5XaWR0aCA9IGZ1bmN0aW9uIChwMSwgcDIpIHtcbiAgICAgICAgaWYgKHAxID09IG51bGwgfHwgcDIgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIEludGVnZXIuTUFYX1ZBTFVFO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNYXRoLnRydW5jKE1hdGguYWJzKHAxLmdldFgoKSAtIHAyLmdldFgoKSkpO1xuICAgIH07XG4gICAgUERGNDE3UmVhZGVyLmdldE1heENvZGV3b3JkV2lkdGggPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLm1heChNYXRoLm1heChQREY0MTdSZWFkZXIuZ2V0TWF4V2lkdGgocFswXSwgcFs0XSksIFBERjQxN1JlYWRlci5nZXRNYXhXaWR0aChwWzZdLCBwWzJdKSAqIFBERjQxN0NvbW1vbi5NT0RVTEVTX0lOX0NPREVXT1JEIC9cbiAgICAgICAgICAgIFBERjQxN0NvbW1vbi5NT0RVTEVTX0lOX1NUT1BfUEFUVEVSTiksIE1hdGgubWF4KFBERjQxN1JlYWRlci5nZXRNYXhXaWR0aChwWzFdLCBwWzVdKSwgUERGNDE3UmVhZGVyLmdldE1heFdpZHRoKHBbN10sIHBbM10pICogUERGNDE3Q29tbW9uLk1PRFVMRVNfSU5fQ09ERVdPUkQgL1xuICAgICAgICAgICAgUERGNDE3Q29tbW9uLk1PRFVMRVNfSU5fU1RPUF9QQVRURVJOKSkpO1xuICAgIH07XG4gICAgUERGNDE3UmVhZGVyLmdldE1pbkNvZGV3b3JkV2lkdGggPSBmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLm1pbihNYXRoLm1pbihQREY0MTdSZWFkZXIuZ2V0TWluV2lkdGgocFswXSwgcFs0XSksIFBERjQxN1JlYWRlci5nZXRNaW5XaWR0aChwWzZdLCBwWzJdKSAqIFBERjQxN0NvbW1vbi5NT0RVTEVTX0lOX0NPREVXT1JEIC9cbiAgICAgICAgICAgIFBERjQxN0NvbW1vbi5NT0RVTEVTX0lOX1NUT1BfUEFUVEVSTiksIE1hdGgubWluKFBERjQxN1JlYWRlci5nZXRNaW5XaWR0aChwWzFdLCBwWzVdKSwgUERGNDE3UmVhZGVyLmdldE1pbldpZHRoKHBbN10sIHBbM10pICogUERGNDE3Q29tbW9uLk1PRFVMRVNfSU5fQ09ERVdPUkQgL1xuICAgICAgICAgICAgUERGNDE3Q29tbW9uLk1PRFVMRVNfSU5fU1RPUF9QQVRURVJOKSkpO1xuICAgIH07XG4gICAgLy8gQE92ZXJyaWRlXG4gICAgUERGNDE3UmVhZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gbm90aGluZyBuZWVkcyB0byBiZSByZXNldFxuICAgIH07XG4gICAgcmV0dXJuIFBERjQxN1JlYWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBQREY0MTdSZWFkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QREY0MTdSZWFkZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vRXhjZXB0aW9uJztcbi8qKlxuICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLlxuICovXG52YXIgUmVhZGVyRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZWFkZXJFeGNlcHRpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVhZGVyRXhjZXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIFJlYWRlckV4Y2VwdGlvbi5raW5kID0gJ1JlYWRlckV4Y2VwdGlvbic7XG4gICAgcmV0dXJuIFJlYWRlckV4Y2VwdGlvbjtcbn0oRXhjZXB0aW9uKSk7XG5leHBvcnQgZGVmYXVsdCBSZWFkZXJFeGNlcHRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWFkZXJFeGNlcHRpb24uanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5pbXBvcnQgRGVjb2RlSGludFR5cGUgZnJvbSAnLi9EZWNvZGVIaW50VHlwZSc7XG5pbXBvcnQgQmFyY29kZUZvcm1hdCBmcm9tICcuL0JhcmNvZGVGb3JtYXQnO1xuaW1wb3J0IFFSQ29kZVJlYWRlciBmcm9tICcuL3FyY29kZS9RUkNvZGVSZWFkZXInO1xuaW1wb3J0IEF6dGVjUmVhZGVyIGZyb20gJy4vYXp0ZWMvQXp0ZWNSZWFkZXInO1xuaW1wb3J0IE11bHRpRm9ybWF0T25lRFJlYWRlciBmcm9tICcuL29uZWQvTXVsdGlGb3JtYXRPbmVEUmVhZGVyJztcbmltcG9ydCBEYXRhTWF0cml4UmVhZGVyIGZyb20gJy4vZGF0YW1hdHJpeC9EYXRhTWF0cml4UmVhZGVyJztcbmltcG9ydCBOb3RGb3VuZEV4Y2VwdGlvbiBmcm9tICcuL05vdEZvdW5kRXhjZXB0aW9uJztcbmltcG9ydCBQREY0MTdSZWFkZXIgZnJvbSAnLi9wZGY0MTcvUERGNDE3UmVhZGVyJztcbmltcG9ydCBSZWFkZXJFeGNlcHRpb24gZnJvbSAnLi9SZWFkZXJFeGNlcHRpb24nO1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki9cbi8qKlxuICogTXVsdGlGb3JtYXRSZWFkZXIgaXMgYSBjb252ZW5pZW5jZSBjbGFzcyBhbmQgdGhlIG1haW4gZW50cnkgcG9pbnQgaW50byB0aGUgbGlicmFyeSBmb3IgbW9zdCB1c2VzLlxuICogQnkgZGVmYXVsdCBpdCBhdHRlbXB0cyB0byBkZWNvZGUgYWxsIGJhcmNvZGUgZm9ybWF0cyB0aGF0IHRoZSBsaWJyYXJ5IHN1cHBvcnRzLiBPcHRpb25hbGx5LCB5b3VcbiAqIGNhbiBwcm92aWRlIGEgaGludHMgb2JqZWN0IHRvIHJlcXVlc3QgZGlmZmVyZW50IGJlaGF2aW9yLCBmb3IgZXhhbXBsZSBvbmx5IGRlY29kaW5nIFFSIGNvZGVzLlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKVxuICovXG52YXIgTXVsdGlGb3JtYXRSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTXVsdGlGb3JtYXRSZWFkZXIoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgdmVyc2lvbiBvZiBkZWNvZGUgaG9ub3JzIHRoZSBpbnRlbnQgb2YgUmVhZGVyLmRlY29kZShCaW5hcnlCaXRtYXApIGluIHRoYXQgaXRcbiAgICAgKiBwYXNzZXMgbnVsbCBhcyBhIGhpbnQgdG8gdGhlIGRlY29kZXJzLiBIb3dldmVyLCB0aGF0IG1ha2VzIGl0IGluZWZmaWNpZW50IHRvIGNhbGwgcmVwZWF0ZWRseS5cbiAgICAgKiBVc2Ugc2V0SGludHMoKSBmb2xsb3dlZCBieSBkZWNvZGVXaXRoU3RhdGUoKSBmb3IgY29udGludW91cyBzY2FuIGFwcGxpY2F0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbWFnZSBUaGUgcGl4ZWwgZGF0YSB0byBkZWNvZGVcbiAgICAgKiBAcmV0dXJuIFRoZSBjb250ZW50cyBvZiB0aGUgaW1hZ2VcbiAgICAgKlxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gQW55IGVycm9ycyB3aGljaCBvY2N1cnJlZFxuICAgICAqL1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBCaW5hcnlCaXRtYXApOiBSZXN1bHQge1xuICAgIC8vICAgc2V0SGludHMobnVsbClcbiAgICAvLyAgIHJldHVybiBkZWNvZGVJbnRlcm5hbChpbWFnZSlcbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlIGFuIGltYWdlIHVzaW5nIHRoZSBoaW50cyBwcm92aWRlZC4gRG9lcyBub3QgaG9ub3IgZXhpc3Rpbmcgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW1hZ2UgVGhlIHBpeGVsIGRhdGEgdG8gZGVjb2RlXG4gICAgICogQHBhcmFtIGhpbnRzIFRoZSBoaW50cyB0byB1c2UsIGNsZWFyaW5nIHRoZSBwcmV2aW91cyBzdGF0ZS5cbiAgICAgKiBAcmV0dXJuIFRoZSBjb250ZW50cyBvZiB0aGUgaW1hZ2VcbiAgICAgKlxuICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gQW55IGVycm9ycyB3aGljaCBvY2N1cnJlZFxuICAgICAqL1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBNdWx0aUZvcm1hdFJlYWRlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gKGltYWdlLCBoaW50cykge1xuICAgICAgICB0aGlzLnNldEhpbnRzKGhpbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlSW50ZXJuYWwoaW1hZ2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVjb2RlIGFuIGltYWdlIHVzaW5nIHRoZSBzdGF0ZSBzZXQgdXAgYnkgY2FsbGluZyBzZXRIaW50cygpIHByZXZpb3VzbHkuIENvbnRpbnVvdXMgc2NhblxuICAgICAqIGNsaWVudHMgd2lsbCBnZXQgYSA8Yj5sYXJnZTwvYj4gc3BlZWQgaW5jcmVhc2UgYnkgdXNpbmcgdGhpcyBpbnN0ZWFkIG9mIGRlY29kZSgpLlxuICAgICAqXG4gICAgICogQHBhcmFtIGltYWdlIFRoZSBwaXhlbCBkYXRhIHRvIGRlY29kZVxuICAgICAqIEByZXR1cm4gVGhlIGNvbnRlbnRzIG9mIHRoZSBpbWFnZVxuICAgICAqXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBBbnkgZXJyb3JzIHdoaWNoIG9jY3VycmVkXG4gICAgICovXG4gICAgTXVsdGlGb3JtYXRSZWFkZXIucHJvdG90eXBlLmRlY29kZVdpdGhTdGF0ZSA9IGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdG8gc2V0IHVwIHRoZSBkZWZhdWx0IHN0YXRlIHNvIHdlIGRvbid0IGNyYXNoXG4gICAgICAgIGlmICh0aGlzLnJlYWRlcnMgPT09IG51bGwgfHwgdGhpcy5yZWFkZXJzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0SGludHMobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlSW50ZXJuYWwoaW1hZ2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgYWRkcyBzdGF0ZSB0byB0aGUgTXVsdGlGb3JtYXRSZWFkZXIuIEJ5IHNldHRpbmcgdGhlIGhpbnRzIG9uY2UsIHN1YnNlcXVlbnQgY2FsbHNcbiAgICAgKiB0byBkZWNvZGVXaXRoU3RhdGUoaW1hZ2UpIGNhbiByZXVzZSB0aGUgc2FtZSBzZXQgb2YgcmVhZGVycyB3aXRob3V0IHJlYWxsb2NhdGluZyBtZW1vcnkuIFRoaXNcbiAgICAgKiBpcyBpbXBvcnRhbnQgZm9yIHBlcmZvcm1hbmNlIGluIGNvbnRpbnVvdXMgc2NhbiBjbGllbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGhpbnRzIFRoZSBzZXQgb2YgaGludHMgdG8gdXNlIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIGRlY29kZShpbWFnZSlcbiAgICAgKi9cbiAgICBNdWx0aUZvcm1hdFJlYWRlci5wcm90b3R5cGUuc2V0SGludHMgPSBmdW5jdGlvbiAoaGludHMpIHtcbiAgICAgICAgdGhpcy5oaW50cyA9IGhpbnRzO1xuICAgICAgICB2YXIgdHJ5SGFyZGVyID0gaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZS5UUllfSEFSREVSKTtcbiAgICAgICAgLypAU3VwcHJlc3NXYXJuaW5ncyhcInVuY2hlY2tlZFwiKSovXG4gICAgICAgIHZhciBmb3JtYXRzID0gaGludHMgPT09IG51bGwgfHwgaGludHMgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBoaW50cy5nZXQoRGVjb2RlSGludFR5cGUuUE9TU0lCTEVfRk9STUFUUyk7XG4gICAgICAgIHZhciByZWFkZXJzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGlmIChmb3JtYXRzICE9PSBudWxsICYmIGZvcm1hdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGFkZE9uZURSZWFkZXIgPSBmb3JtYXRzLnNvbWUoZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZiA9PT0gQmFyY29kZUZvcm1hdC5VUENfQSB8fFxuICAgICAgICAgICAgICAgICAgICBmID09PSBCYXJjb2RlRm9ybWF0LlVQQ19FIHx8XG4gICAgICAgICAgICAgICAgICAgIGYgPT09IEJhcmNvZGVGb3JtYXQuRUFOXzEzIHx8XG4gICAgICAgICAgICAgICAgICAgIGYgPT09IEJhcmNvZGVGb3JtYXQuRUFOXzggfHxcbiAgICAgICAgICAgICAgICAgICAgZiA9PT0gQmFyY29kZUZvcm1hdC5DT0RBQkFSIHx8XG4gICAgICAgICAgICAgICAgICAgIGYgPT09IEJhcmNvZGVGb3JtYXQuQ09ERV8zOSB8fFxuICAgICAgICAgICAgICAgICAgICBmID09PSBCYXJjb2RlRm9ybWF0LkNPREVfOTMgfHxcbiAgICAgICAgICAgICAgICAgICAgZiA9PT0gQmFyY29kZUZvcm1hdC5DT0RFXzEyOCB8fFxuICAgICAgICAgICAgICAgICAgICBmID09PSBCYXJjb2RlRm9ybWF0LklURiB8fFxuICAgICAgICAgICAgICAgICAgICBmID09PSBCYXJjb2RlRm9ybWF0LlJTU18xNCB8fFxuICAgICAgICAgICAgICAgICAgICBmID09PSBCYXJjb2RlRm9ybWF0LlJTU19FWFBBTkRFRDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gUHV0IDFEIHJlYWRlcnMgdXBmcm9udCBpbiBcIm5vcm1hbFwiIG1vZGVcbiAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiB1bmNvbW1lbnQgYmVsb3cgYXMgdGhleSBhcmUgcG9ydGVkXG4gICAgICAgICAgICBpZiAoYWRkT25lRFJlYWRlciAmJiAhdHJ5SGFyZGVyKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVycy5wdXNoKG5ldyBNdWx0aUZvcm1hdE9uZURSZWFkZXIoaGludHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3JtYXRzLmluY2x1ZGVzKEJhcmNvZGVGb3JtYXQuUVJfQ09ERSkpIHtcbiAgICAgICAgICAgICAgICByZWFkZXJzLnB1c2gobmV3IFFSQ29kZVJlYWRlcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3JtYXRzLmluY2x1ZGVzKEJhcmNvZGVGb3JtYXQuREFUQV9NQVRSSVgpKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVycy5wdXNoKG5ldyBEYXRhTWF0cml4UmVhZGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvcm1hdHMuaW5jbHVkZXMoQmFyY29kZUZvcm1hdC5BWlRFQykpIHtcbiAgICAgICAgICAgICAgICByZWFkZXJzLnB1c2gobmV3IEF6dGVjUmVhZGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvcm1hdHMuaW5jbHVkZXMoQmFyY29kZUZvcm1hdC5QREZfNDE3KSkge1xuICAgICAgICAgICAgICAgIHJlYWRlcnMucHVzaChuZXcgUERGNDE3UmVhZGVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgKGZvcm1hdHMuaW5jbHVkZXMoQmFyY29kZUZvcm1hdC5NQVhJQ09ERSkpIHtcbiAgICAgICAgICAgIC8vICAgIHJlYWRlcnMucHVzaChuZXcgTWF4aUNvZGVSZWFkZXIoKSlcbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIC8vIEF0IGVuZCBpbiBcInRyeSBoYXJkZXJcIiBtb2RlXG4gICAgICAgICAgICBpZiAoYWRkT25lRFJlYWRlciAmJiB0cnlIYXJkZXIpIHtcbiAgICAgICAgICAgICAgICByZWFkZXJzLnB1c2gobmV3IE11bHRpRm9ybWF0T25lRFJlYWRlcihoaW50cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCF0cnlIYXJkZXIpIHtcbiAgICAgICAgICAgICAgICByZWFkZXJzLnB1c2gobmV3IE11bHRpRm9ybWF0T25lRFJlYWRlcihoaW50cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVycy5wdXNoKG5ldyBRUkNvZGVSZWFkZXIoKSk7XG4gICAgICAgICAgICByZWFkZXJzLnB1c2gobmV3IERhdGFNYXRyaXhSZWFkZXIoKSk7XG4gICAgICAgICAgICByZWFkZXJzLnB1c2gobmV3IEF6dGVjUmVhZGVyKCkpO1xuICAgICAgICAgICAgcmVhZGVycy5wdXNoKG5ldyBQREY0MTdSZWFkZXIoKSk7XG4gICAgICAgICAgICAvLyByZWFkZXJzLnB1c2gobmV3IE1heGlDb2RlUmVhZGVyKCkpXG4gICAgICAgICAgICBpZiAodHJ5SGFyZGVyKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVycy5wdXNoKG5ldyBNdWx0aUZvcm1hdE9uZURSZWFkZXIoaGludHMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlYWRlcnMgPSByZWFkZXJzOyAvLyAudG9BcnJheShuZXcgUmVhZGVyW3JlYWRlcnMuc2l6ZSgpXSlcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBNdWx0aUZvcm1hdFJlYWRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICBpZiAodGhpcy5yZWFkZXJzICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5yZWFkZXJzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvblxuICAgICAqL1xuICAgIE11bHRpRm9ybWF0UmVhZGVyLnByb3RvdHlwZS5kZWNvZGVJbnRlcm5hbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICB2YXIgZV8yLCBfYTtcbiAgICAgICAgaWYgKHRoaXMucmVhZGVycyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlYWRlckV4Y2VwdGlvbignTm8gcmVhZGVycyB3aGVyZSBzZWxlY3RlZCwgbm90aGluZyBjYW4gYmUgcmVhZC4nKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnJlYWRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIC8vIFRyeWluZyB0byBkZWNvZGUgd2l0aCAke3JlYWRlcn0gcmVhZGVyLlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkZXIuZGVjb2RlKGltYWdlLCB0aGlzLmhpbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleCBpbnN0YW5jZW9mIFJlYWRlckV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQmFkIEV4Y2VwdGlvbi5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oJ05vIE11bHRpRm9ybWF0IFJlYWRlcnMgd2VyZSBhYmxlIHRvIGRldGVjdCB0aGUgY29kZS4nKTtcbiAgICB9O1xuICAgIHJldHVybiBNdWx0aUZvcm1hdFJlYWRlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBNdWx0aUZvcm1hdFJlYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU11bHRpRm9ybWF0UmVhZGVyLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgQnJvd3NlckNvZGVSZWFkZXIgfSBmcm9tICcuL0Jyb3dzZXJDb2RlUmVhZGVyJztcbmltcG9ydCBNdWx0aUZvcm1hdFJlYWRlciBmcm9tICcuLi9jb3JlL011bHRpRm9ybWF0UmVhZGVyJztcbnZhciBCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJyb3dzZXJNdWx0aUZvcm1hdFJlYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXIoaGludHMsIHRpbWVCZXR3ZWVuU2NhbnNNaWxsaXMpIHtcbiAgICAgICAgaWYgKGhpbnRzID09PSB2b2lkIDApIHsgaGludHMgPSBudWxsOyB9XG4gICAgICAgIGlmICh0aW1lQmV0d2VlblNjYW5zTWlsbGlzID09PSB2b2lkIDApIHsgdGltZUJldHdlZW5TY2Fuc01pbGxpcyA9IDUwMDsgfVxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IE11bHRpRm9ybWF0UmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5zZXRIaW50cyhoaW50cyk7XG4gICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcmVhZGVyLCB0aW1lQmV0d2VlblNjYW5zTWlsbGlzKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJ3cml0ZSBkZWNvZGVCaXRtYXAgdG8gY2FsbCBkZWNvZGVXaXRoU3RhdGUsIHdoaWNoIHdpbGwgcGF5XG4gICAgICogYXR0ZW50aW9uIHRvIHRoZSBoaW50cyBzZXQgaW4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICovXG4gICAgQnJvd3Nlck11bHRpRm9ybWF0UmVhZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRtYXAgPSBmdW5jdGlvbiAoYmluYXJ5Qml0bWFwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRlci5kZWNvZGVXaXRoU3RhdGUoYmluYXJ5Qml0bWFwKTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXI7XG59KEJyb3dzZXJDb2RlUmVhZGVyKSk7XG5leHBvcnQgeyBCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJNdWx0aUZvcm1hdFJlYWRlci5qcy5tYXAiLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IEJyb3dzZXJDb2RlUmVhZGVyIH0gZnJvbSAnLi9Ccm93c2VyQ29kZVJlYWRlcic7XG5pbXBvcnQgUERGNDE3UmVhZGVyIGZyb20gJy4uL2NvcmUvcGRmNDE3L1BERjQxN1JlYWRlcic7XG4vKipcbiAqIEBkZXByZWNhdGVkIE1vdmluZyB0byBAenhpbmcvYnJvd3NlclxuICpcbiAqIFFSIENvZGUgcmVhZGVyIHRvIHVzZSBmcm9tIGJyb3dzZXIuXG4gKi9cbnZhciBCcm93c2VyUERGNDE3UmVhZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCcm93c2VyUERGNDE3UmVhZGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQnJvd3NlclBERjQxN1JlYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RpbWVCZXR3ZWVuU2NhbnNNaWxsaXM9NTAwXSB0aGUgdGltZSBkZWxheSBiZXR3ZWVuIHN1YnNlcXVlbnQgZGVjb2RlIHRyaWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnJvd3NlclBERjQxN1JlYWRlcih0aW1lQmV0d2VlblNjYW5zTWlsbGlzKSB7XG4gICAgICAgIGlmICh0aW1lQmV0d2VlblNjYW5zTWlsbGlzID09PSB2b2lkIDApIHsgdGltZUJldHdlZW5TY2Fuc01pbGxpcyA9IDUwMDsgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgbmV3IFBERjQxN1JlYWRlcigpLCB0aW1lQmV0d2VlblNjYW5zTWlsbGlzKSB8fCB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQnJvd3NlclBERjQxN1JlYWRlcjtcbn0oQnJvd3NlckNvZGVSZWFkZXIpKTtcbmV4cG9ydCB7IEJyb3dzZXJQREY0MTdSZWFkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJQREY0MTdSZWFkZXIuanMubWFwIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBCcm93c2VyQ29kZVJlYWRlciB9IGZyb20gJy4vQnJvd3NlckNvZGVSZWFkZXInO1xuaW1wb3J0IFFSQ29kZVJlYWRlciBmcm9tICcuLi9jb3JlL3FyY29kZS9RUkNvZGVSZWFkZXInO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBNb3ZpbmcgdG8gQHp4aW5nL2Jyb3dzZXJcbiAqXG4gKiBRUiBDb2RlIHJlYWRlciB0byB1c2UgZnJvbSBicm93c2VyLlxuICovXG52YXIgQnJvd3NlclFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnJvd3NlclFSQ29kZVJlYWRlciwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEJyb3dzZXJRUkNvZGVSZWFkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lQmV0d2VlblNjYW5zTWlsbGlzPTUwMF0gdGhlIHRpbWUgZGVsYXkgYmV0d2VlbiBzdWJzZXF1ZW50IGRlY29kZSB0cmllc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJyb3dzZXJRUkNvZGVSZWFkZXIodGltZUJldHdlZW5TY2Fuc01pbGxpcykge1xuICAgICAgICBpZiAodGltZUJldHdlZW5TY2Fuc01pbGxpcyA9PT0gdm9pZCAwKSB7IHRpbWVCZXR3ZWVuU2NhbnNNaWxsaXMgPSA1MDA7IH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIG5ldyBRUkNvZGVSZWFkZXIoKSwgdGltZUJldHdlZW5TY2Fuc01pbGxpcykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIEJyb3dzZXJRUkNvZGVSZWFkZXI7XG59KEJyb3dzZXJDb2RlUmVhZGVyKSk7XG5leHBvcnQgeyBCcm93c2VyUVJDb2RlUmVhZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ccm93c2VyUVJDb2RlUmVhZGVyLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki9cbi8qKlxuICogVGhlc2UgYXJlIGEgc2V0IG9mIGhpbnRzIHRoYXQgeW91IG1heSBwYXNzIHRvIFdyaXRlcnMgdG8gc3BlY2lmeSB0aGVpciBiZWhhdmlvci5cbiAqXG4gKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKVxuICovXG52YXIgRW5jb2RlSGludFR5cGU7XG4oZnVuY3Rpb24gKEVuY29kZUhpbnRUeXBlKSB7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHdoYXQgZGVncmVlIG9mIGVycm9yIGNvcnJlY3Rpb24gdG8gdXNlLCBmb3IgZXhhbXBsZSBpbiBRUiBDb2Rlcy5cbiAgICAgKiBUeXBlIGRlcGVuZHMgb24gdGhlIGVuY29kZXIuIEZvciBleGFtcGxlIGZvciBRUiBjb2RlcyBpdCdzIHR5cGVcbiAgICAgKiB7QGxpbmsgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2Rlci5FcnJvckNvcnJlY3Rpb25MZXZlbCBFcnJvckNvcnJlY3Rpb25MZXZlbH0uXG4gICAgICogRm9yIEF6dGVjIGl0IGlzIG9mIHR5cGUge0BsaW5rIEludGVnZXJ9LCByZXByZXNlbnRpbmcgdGhlIG1pbmltYWwgcGVyY2VudGFnZSBvZiBlcnJvciBjb3JyZWN0aW9uIHdvcmRzLlxuICAgICAqIEZvciBQREY0MTcgaXQgaXMgb2YgdHlwZSB7QGxpbmsgSW50ZWdlcn0sIHZhbGlkIHZhbHVlcyBiZWluZyAwIHRvIDguXG4gICAgICogSW4gYWxsIGNhc2VzLCBpdCBjYW4gYWxzbyBiZSBhIHtAbGluayBTdHJpbmd9IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkZXNpcmVkIHZhbHVlIGFzIHdlbGwuXG4gICAgICogTm90ZTogYW4gQXp0ZWMgc3ltYm9sIHNob3VsZCBoYXZlIGEgbWluaW11bSBvZiAyNSUgRUMgd29yZHMuXG4gICAgICovXG4gICAgRW5jb2RlSGludFR5cGVbRW5jb2RlSGludFR5cGVbXCJFUlJPUl9DT1JSRUNUSU9OXCJdID0gMF0gPSBcIkVSUk9SX0NPUlJFQ1RJT05cIjtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUge0BsaW5rIFN0cmluZ30pXG4gICAgICovXG4gICAgRW5jb2RlSGludFR5cGVbRW5jb2RlSGludFR5cGVbXCJDSEFSQUNURVJfU0VUXCJdID0gMV0gPSBcIkNIQVJBQ1RFUl9TRVRcIjtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIG1hdHJpeCBzaGFwZSBmb3IgRGF0YSBNYXRyaXggKHR5cGUge0BsaW5rIGNvbS5nb29nbGUuenhpbmcuZGF0YW1hdHJpeC5lbmNvZGVyLlN5bWJvbFNoYXBlSGludH0pXG4gICAgICovXG4gICAgRW5jb2RlSGludFR5cGVbRW5jb2RlSGludFR5cGVbXCJEQVRBX01BVFJJWF9TSEFQRVwiXSA9IDJdID0gXCJEQVRBX01BVFJJWF9TSEFQRVwiO1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyBhIG1pbmltdW0gYmFyY29kZSBzaXplICh0eXBlIHtAbGluayBEaW1lbnNpb259KS4gT25seSBhcHBsaWNhYmxlIHRvIERhdGEgTWF0cml4IG5vdy5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSB3aWR0aC9oZWlnaHQgcGFyYW1zIGluXG4gICAgICoge0BsaW5rIGNvbS5nb29nbGUuenhpbmcuZGF0YW1hdHJpeC5EYXRhTWF0cml4V3JpdGVyI2VuY29kZShTdHJpbmcsIEJhcmNvZGVGb3JtYXQsIGludCwgaW50KX1cbiAgICAgKi9cbiAgICAvKkBEZXByZWNhdGVkKi9cbiAgICBFbmNvZGVIaW50VHlwZVtFbmNvZGVIaW50VHlwZVtcIk1JTl9TSVpFXCJdID0gM10gPSBcIk1JTl9TSVpFXCI7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgbWF4aW11bSBiYXJjb2RlIHNpemUgKHR5cGUge0BsaW5rIERpbWVuc2lvbn0pLiBPbmx5IGFwcGxpY2FibGUgdG8gRGF0YSBNYXRyaXggbm93LlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgd2l0aG91dCByZXBsYWNlbWVudFxuICAgICAqL1xuICAgIC8qQERlcHJlY2F0ZWQqL1xuICAgIEVuY29kZUhpbnRUeXBlW0VuY29kZUhpbnRUeXBlW1wiTUFYX1NJWkVcIl0gPSA0XSA9IFwiTUFYX1NJWkVcIjtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgbWFyZ2luLCBpbiBwaXhlbHMsIHRvIHVzZSB3aGVuIGdlbmVyYXRpbmcgdGhlIGJhcmNvZGUuIFRoZSBtZWFuaW5nIGNhbiB2YXJ5XG4gICAgICogYnkgZm9ybWF0OyBmb3IgZXhhbXBsZSBpdCBjb250cm9scyBtYXJnaW4gYmVmb3JlIGFuZCBhZnRlciB0aGUgYmFyY29kZSBob3Jpem9udGFsbHkgZm9yXG4gICAgICogbW9zdCAxRCBmb3JtYXRzLiAoVHlwZSB7QGxpbmsgSW50ZWdlcn0sIG9yIHtAbGluayBTdHJpbmd9IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBpbnRlZ2VyIHZhbHVlKS5cbiAgICAgKi9cbiAgICBFbmNvZGVIaW50VHlwZVtFbmNvZGVIaW50VHlwZVtcIk1BUkdJTlwiXSA9IDVdID0gXCJNQVJHSU5cIjtcbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgd2hldGhlciB0byB1c2UgY29tcGFjdCBtb2RlIGZvciBQREY0MTcgKHR5cGUge0BsaW5rIEJvb2xlYW59LCBvciBcInRydWVcIiBvciBcImZhbHNlXCJcbiAgICAgKiB7QGxpbmsgU3RyaW5nfSB2YWx1ZSkuXG4gICAgICovXG4gICAgRW5jb2RlSGludFR5cGVbRW5jb2RlSGludFR5cGVbXCJQREY0MTdfQ09NUEFDVFwiXSA9IDZdID0gXCJQREY0MTdfQ09NUEFDVFwiO1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB3aGF0IGNvbXBhY3Rpb24gbW9kZSB0byB1c2UgZm9yIFBERjQxNyAodHlwZVxuICAgICAqIHtAbGluayBjb20uZ29vZ2xlLnp4aW5nLnBkZjQxNy5lbmNvZGVyLkNvbXBhY3Rpb24gQ29tcGFjdGlvbn0gb3Ige0BsaW5rIFN0cmluZ30gdmFsdWUgb2Ygb25lIG9mIGl0c1xuICAgICAqIGVudW0gdmFsdWVzKS5cbiAgICAgKi9cbiAgICBFbmNvZGVIaW50VHlwZVtFbmNvZGVIaW50VHlwZVtcIlBERjQxN19DT01QQUNUSU9OXCJdID0gN10gPSBcIlBERjQxN19DT01QQUNUSU9OXCI7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBtaW5pbXVtIGFuZCBtYXhpbXVtIG51bWJlciBvZiByb3dzIGFuZCBjb2x1bW5zIGZvciBQREY0MTcgKHR5cGVcbiAgICAgKiB7QGxpbmsgY29tLmdvb2dsZS56eGluZy5wZGY0MTcuZW5jb2Rlci5EaW1lbnNpb25zIERpbWVuc2lvbnN9KS5cbiAgICAgKi9cbiAgICBFbmNvZGVIaW50VHlwZVtFbmNvZGVIaW50VHlwZVtcIlBERjQxN19ESU1FTlNJT05TXCJdID0gOF0gPSBcIlBERjQxN19ESU1FTlNJT05TXCI7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSByZXF1aXJlZCBudW1iZXIgb2YgbGF5ZXJzIGZvciBhbiBBenRlYyBjb2RlLlxuICAgICAqIEEgbmVnYXRpdmUgbnVtYmVyICgtMSwgLTIsIC0zLCAtNCkgc3BlY2lmaWVzIGEgY29tcGFjdCBBenRlYyBjb2RlLlxuICAgICAqIDAgaW5kaWNhdGVzIHRvIHVzZSB0aGUgbWluaW11bSBudW1iZXIgb2YgbGF5ZXJzICh0aGUgZGVmYXVsdCkuXG4gICAgICogQSBwb3NpdGl2ZSBudW1iZXIgKDEsIDIsIC4uIDMyKSBzcGVjaWZpZXMgYSBub3JtYWwgKG5vbi1jb21wYWN0KSBBenRlYyBjb2RlLlxuICAgICAqIChUeXBlIHtAbGluayBJbnRlZ2VyfSwgb3Ige0BsaW5rIFN0cmluZ30gcmVwcmVzZW50YXRpb24gb2YgdGhlIGludGVnZXIgdmFsdWUpLlxuICAgICAqL1xuICAgIEVuY29kZUhpbnRUeXBlW0VuY29kZUhpbnRUeXBlW1wiQVpURUNfTEFZRVJTXCJdID0gOV0gPSBcIkFaVEVDX0xBWUVSU1wiO1xuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZXhhY3QgdmVyc2lvbiBvZiBRUiBjb2RlIHRvIGJlIGVuY29kZWQuXG4gICAgICogKFR5cGUge0BsaW5rIEludGVnZXJ9LCBvciB7QGxpbmsgU3RyaW5nfSByZXByZXNlbnRhdGlvbiBvZiB0aGUgaW50ZWdlciB2YWx1ZSkuXG4gICAgICovXG4gICAgRW5jb2RlSGludFR5cGVbRW5jb2RlSGludFR5cGVbXCJRUl9WRVJTSU9OXCJdID0gMTBdID0gXCJRUl9WRVJTSU9OXCI7XG59KShFbmNvZGVIaW50VHlwZSB8fCAoRW5jb2RlSGludFR5cGUgPSB7fSkpO1xuZXhwb3J0IGRlZmF1bHQgRW5jb2RlSGludFR5cGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbmNvZGVIaW50VHlwZS5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBHZW5lcmljR0ZQb2x5IGZyb20gJy4vR2VuZXJpY0dGUG9seSc7XG5pbXBvcnQgU3lzdGVtIGZyb20gJy4uLy4uL3V0aWwvU3lzdGVtJztcbmltcG9ydCBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gZnJvbSAnLi4vLi4vSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJztcbi8qKlxuICogPHA+SW1wbGVtZW50cyBSZWVkLVNvbG9tb24gZW5jb2RpbmcsIGFzIHRoZSBuYW1lIGltcGxpZXMuPC9wPlxuICpcbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKiBAYXV0aG9yIFdpbGxpYW0gUnVja2xpZGdlXG4gKi9cbnZhciBSZWVkU29sb21vbkVuY29kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQSByZWVkIHNvbG9tb24gZXJyb3ItY29ycmVjdGluZyBlbmNvZGluZyBjb25zdHJ1Y3RvciBpcyBjcmVhdGVkIGJ5XG4gICAgICogcGFzc2luZyBhcyBHYWxvaXMgRmllbGQgd2l0aCBvZiBzaXplIGVxdWFsIHRvIHRoZSBudW1iZXIgb2YgY29kZVxuICAgICAqIHdvcmRzIChzeW1ib2xzKSBpbiB0aGUgYWxwaGFiZXQgKHRoZSBudW1iZXIgb2YgdmFsdWVzIGluIGVhY2hcbiAgICAgKiBlbGVtZW50IG9mIGFycmF5cyB0aGF0IGFyZSBlbmNvZGVkL2RlY29kZWQpLlxuICAgICAqIEBwYXJhbSBmaWVsZCBBIGdhbG9pcyBmaWVsZCB3aXRoIGEgbnVtYmVyIG9mIGVsZW1lbnRzIGVxdWFsIHRvIHRoZSBzaXplXG4gICAgICogb2YgdGhlIGFscGhhYmV0IG9mIHN5bWJvbHMgdG8gZW5jb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZWRTb2xvbW9uRW5jb2RlcihmaWVsZCkge1xuICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7XG4gICAgICAgIHRoaXMuY2FjaGVkR2VuZXJhdG9ycyA9IFtdO1xuICAgICAgICB0aGlzLmNhY2hlZEdlbmVyYXRvcnMucHVzaChuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgSW50MzJBcnJheS5mcm9tKFsxXSkpKTtcbiAgICB9XG4gICAgUmVlZFNvbG9tb25FbmNvZGVyLnByb3RvdHlwZS5idWlsZEdlbmVyYXRvciA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLykge1xuICAgICAgICB2YXIgY2FjaGVkR2VuZXJhdG9ycyA9IHRoaXMuY2FjaGVkR2VuZXJhdG9ycztcbiAgICAgICAgaWYgKGRlZ3JlZSA+PSBjYWNoZWRHZW5lcmF0b3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGxhc3RHZW5lcmF0b3IgPSBjYWNoZWRHZW5lcmF0b3JzW2NhY2hlZEdlbmVyYXRvcnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkO1xuICAgICAgICAgICAgZm9yICh2YXIgZCA9IGNhY2hlZEdlbmVyYXRvcnMubGVuZ3RoOyBkIDw9IGRlZ3JlZTsgZCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRHZW5lcmF0b3IgPSBsYXN0R2VuZXJhdG9yLm11bHRpcGx5KG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBJbnQzMkFycmF5LmZyb20oWzEsIGZpZWxkLmV4cChkIC0gMSArIGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSldKSkpO1xuICAgICAgICAgICAgICAgIGNhY2hlZEdlbmVyYXRvcnMucHVzaChuZXh0R2VuZXJhdG9yKTtcbiAgICAgICAgICAgICAgICBsYXN0R2VuZXJhdG9yID0gbmV4dEdlbmVyYXRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FjaGVkR2VuZXJhdG9yc1tkZWdyZWVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogPHA+RW5jb2RlIGEgc2VxdWVuY2Ugb2YgY29kZSB3b3JkcyAoc3ltYm9scykgdXNpbmcgUmVlZC1Tb2xvbW9uIHRvIGFsbG93IGRlY29kZXJzXG4gICAgICogdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycyB0aGF0IG1heSBoYXZlIGJlZW4gaW50cm9kdWNlZCB3aGVuIHRoZSByZXN1bHRpbmdcbiAgICAgKiBkYXRhIGlzIHN0b3JlZCBvciB0cmFuc21pdHRlZC48L3A+XG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG9FbmNvZGUgYXJyYXkgdXNlZCBmb3IgYm90aCBhbmQgb3V0cHV0LiBDYWxsZXIgaW5pdGlhbGl6ZXMgdGhlIGFycmF5IHdpdGhcbiAgICAgKiB0aGUgY29kZSB3b3JkcyAoc3ltYm9scykgdG8gYmUgZW5jb2RlZCBmb2xsb3dlZCBieSBlbXB0eSBlbGVtZW50cyBhbGxvY2F0ZWQgdG8gbWFrZVxuICAgICAqIHNwYWNlIGZvciBlcnJvci1jb3JyZWN0aW9uIGNvZGUgd29yZHMgaW4gdGhlIGVuY29kZWQgb3V0cHV0LiBUaGUgYXJyYXkgY29udGFpbnNcbiAgICAgKiB0aGUgZW5jZG9kZWQgb3V0cHV0IHdoZW4gZW5jb2RlIHJldHVybnMuIENvZGUgd29yZHMgYXJlIGVuY29kZWQgYXMgbnVtYmVycyBmcm9tXG4gICAgICogMCB0byBuLTEsIHdoZXJlIG4gaXMgdGhlIG51bWJlciBvZiBwb3NzaWJsZSBjb2RlIHdvcmRzIChzeW1ib2xzKSwgYXMgZGV0ZXJtaW5lZFxuICAgICAqIGJ5IHRoZSBzaXplIG9mIHRoZSBHYWxvaXMgRmllbGQgcGFzc2VkIGluIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGlzIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gZWNCeXRlcyB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHJlc2VydmVkIGluIHRoZSBhcnJheSAoZmlyc3QgcGFyYW1ldGVyKVxuICAgICAqIHRvIHN0b3JlIGVycm9yLWNvcnJlY3Rpb24gY29kZSB3b3Jkcy4gVGh1cywgdGhlIG51bWJlciBvZiBjb2RlIHdvcmRzIChzeW1ib2xzKVxuICAgICAqIHRvIGVuY29kZSBpbiB0aGUgZmlyc3QgcGFyYW1ldGVyIGlzIHRodXMgdG9FbmNvZGUubGVuZ3RoIC0gZWNCeXRlcy5cbiAgICAgKiBOb3RlLCB0aGUgdXNlIG9mIFwiYnl0ZXNcIiBpbiB0aGUgbmFtZSBvZiB0aGlzIHBhcmFtZXRlciBpcyBtaXNsZWFkaW5nLCBhcyB0aGVyZSBtYXlcbiAgICAgKiBiZSBtb3JlIG9yIGZld2VyIHRoYW4gMjU2IHN5bWJvbHMgYmVpbmcgZW5jb2RlZCwgYXMgZGV0ZXJtaW5lZCBieSB0aGUgbnVtYmVyIG9mXG4gICAgICogZWxlbWVudHMgaW4gdGhlIEdhbG9pcyBGaWVsZCBwYXNzZWQgYXMgYSBjb25zdHJ1Y3RvciB0byB0aGlzIG9iamVjdC5cbiAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiB0aHJvd24gaW4gcmVzcG9uc2UgdG8gdmFsaWRhdGlvbiBlcnJyb3MuXG4gICAgICovXG4gICAgUmVlZFNvbG9tb25FbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiAodG9FbmNvZGUsIGVjQnl0ZXMgLyppbnQqLykge1xuICAgICAgICBpZiAoZWNCeXRlcyA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignTm8gZXJyb3IgY29ycmVjdGlvbiBieXRlcycpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhQnl0ZXMgPSB0b0VuY29kZS5sZW5ndGggLSBlY0J5dGVzO1xuICAgICAgICBpZiAoZGF0YUJ5dGVzIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oJ05vIGRhdGEgYnl0ZXMgcHJvdmlkZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2VuZXJhdG9yID0gdGhpcy5idWlsZEdlbmVyYXRvcihlY0J5dGVzKTtcbiAgICAgICAgdmFyIGluZm9Db2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkYXRhQnl0ZXMpO1xuICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KHRvRW5jb2RlLCAwLCBpbmZvQ29lZmZpY2llbnRzLCAwLCBkYXRhQnl0ZXMpO1xuICAgICAgICB2YXIgaW5mbyA9IG5ldyBHZW5lcmljR0ZQb2x5KHRoaXMuZmllbGQsIGluZm9Db2VmZmljaWVudHMpO1xuICAgICAgICBpbmZvID0gaW5mby5tdWx0aXBseUJ5TW9ub21pYWwoZWNCeXRlcywgMSk7XG4gICAgICAgIHZhciByZW1haW5kZXIgPSBpbmZvLmRpdmlkZShnZW5lcmF0b3IpWzFdO1xuICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gcmVtYWluZGVyLmdldENvZWZmaWNpZW50cygpO1xuICAgICAgICB2YXIgbnVtWmVyb0NvZWZmaWNpZW50cyA9IGVjQnl0ZXMgLSBjb2VmZmljaWVudHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVplcm9Db2VmZmljaWVudHM7IGkrKykge1xuICAgICAgICAgICAgdG9FbmNvZGVbZGF0YUJ5dGVzICsgaV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIFN5c3RlbS5hcnJheWNvcHkoY29lZmZpY2llbnRzLCAwLCB0b0VuY29kZSwgZGF0YUJ5dGVzICsgbnVtWmVyb0NvZWZmaWNpZW50cywgY29lZmZpY2llbnRzLmxlbmd0aCk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVlZFNvbG9tb25FbmNvZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IFJlZWRTb2xvbW9uRW5jb2Rlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZWRTb2xvbW9uRW5jb2Rlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gZnJvbSAnLi4vLi4vSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJztcbi8qKlxuICogQGF1dGhvciBTYXRvcnUgVGFrYWJheWFzaGlcbiAqIEBhdXRob3IgRGFuaWVsIFN3aXRraW5cbiAqIEBhdXRob3IgU2VhbiBPd2VuXG4gKi9cbnZhciBNYXNrVXRpbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXNrVXRpbCgpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSBtYXNrIHBlbmFsdHkgcnVsZSAxIGFuZCByZXR1cm4gdGhlIHBlbmFsdHkuIEZpbmQgcmVwZXRpdGl2ZSBjZWxscyB3aXRoIHRoZSBzYW1lIGNvbG9yIGFuZFxuICAgICAqIGdpdmUgcGVuYWx0eSB0byB0aGVtLiBFeGFtcGxlOiAwMDAwMCBvciAxMTExMS5cbiAgICAgKi9cbiAgICBNYXNrVXRpbC5hcHBseU1hc2tQZW5hbHR5UnVsZTEgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIHJldHVybiBNYXNrVXRpbC5hcHBseU1hc2tQZW5hbHR5UnVsZTFJbnRlcm5hbChtYXRyaXgsIHRydWUpICsgTWFza1V0aWwuYXBwbHlNYXNrUGVuYWx0eVJ1bGUxSW50ZXJuYWwobWF0cml4LCBmYWxzZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBseSBtYXNrIHBlbmFsdHkgcnVsZSAyIGFuZCByZXR1cm4gdGhlIHBlbmFsdHkuIEZpbmQgMngyIGJsb2NrcyB3aXRoIHRoZSBzYW1lIGNvbG9yIGFuZCBnaXZlXG4gICAgICogcGVuYWx0eSB0byB0aGVtLiBUaGlzIGlzIGFjdHVhbGx5IGVxdWl2YWxlbnQgdG8gdGhlIHNwZWMncyBydWxlLCB3aGljaCBpcyB0byBmaW5kIE14TiBibG9ja3MgYW5kIGdpdmUgYVxuICAgICAqIHBlbmFsdHkgcHJvcG9ydGlvbmFsIHRvIChNLTEpeChOLTEpLCBiZWNhdXNlIHRoaXMgaXMgdGhlIG51bWJlciBvZiAyeDIgYmxvY2tzIGluc2lkZSBzdWNoIGEgYmxvY2suXG4gICAgICovXG4gICAgTWFza1V0aWwuYXBwbHlNYXNrUGVuYWx0eVJ1bGUyID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICB2YXIgcGVuYWx0eSA9IDA7XG4gICAgICAgIHZhciBhcnJheSA9IG1hdHJpeC5nZXRBcnJheSgpO1xuICAgICAgICB2YXIgd2lkdGggPSBtYXRyaXguZ2V0V2lkdGgoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1hdHJpeC5nZXRIZWlnaHQoKTtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQgLSAxOyB5KyspIHtcbiAgICAgICAgICAgIHZhciBhcnJheVkgPSBhcnJheVt5XTtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGggLSAxOyB4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVlbeF07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBhcnJheVlbeCArIDFdICYmIHZhbHVlID09PSBhcnJheVt5ICsgMV1beF0gJiYgdmFsdWUgPT09IGFycmF5W3kgKyAxXVt4ICsgMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcGVuYWx0eSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWFza1V0aWwuTjIgKiBwZW5hbHR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgbWFzayBwZW5hbHR5IHJ1bGUgMyBhbmQgcmV0dXJuIHRoZSBwZW5hbHR5LiBGaW5kIGNvbnNlY3V0aXZlIHJ1bnMgb2YgMToxOjM6MToxOjRcbiAgICAgKiBzdGFydGluZyB3aXRoIGJsYWNrLCBvciA0OjE6MTozOjE6MSBzdGFydGluZyB3aXRoIHdoaXRlLCBhbmQgZ2l2ZSBwZW5hbHR5IHRvIHRoZW0uICBJZiB3ZVxuICAgICAqIGZpbmQgcGF0dGVybnMgbGlrZSAwMDAwMTAxMTEwMTAwMDAsIHdlIGdpdmUgcGVuYWx0eSBvbmNlLlxuICAgICAqL1xuICAgIE1hc2tVdGlsLmFwcGx5TWFza1BlbmFsdHlSdWxlMyA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIG51bVBlbmFsdGllcyA9IDA7XG4gICAgICAgIHZhciBhcnJheSA9IG1hdHJpeC5nZXRBcnJheSgpO1xuICAgICAgICB2YXIgd2lkdGggPSBtYXRyaXguZ2V0V2lkdGgoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1hdHJpeC5nZXRIZWlnaHQoKTtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFycmF5WSA9IGFycmF5W3ldOyAvLyBXZSBjYW4gYXQgbGVhc3Qgb3B0aW1pemUgdGhpcyBhY2Nlc3NcbiAgICAgICAgICAgICAgICBpZiAoeCArIDYgPCB3aWR0aCAmJlxuICAgICAgICAgICAgICAgICAgICBhcnJheVlbeF0gPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlZW3ggKyAxXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBhcnJheVlbeCArIDJdID09PSAxICYmXG4gICAgICAgICAgICAgICAgICAgIGFycmF5WVt4ICsgM10gPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlZW3ggKyA0XSA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICBhcnJheVlbeCArIDVdID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGFycmF5WVt4ICsgNl0gPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgKE1hc2tVdGlsLmlzV2hpdGVIb3Jpem9udGFsKGFycmF5WSwgeCAtIDQsIHgpIHx8IE1hc2tVdGlsLmlzV2hpdGVIb3Jpem9udGFsKGFycmF5WSwgeCArIDcsIHggKyAxMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIG51bVBlbmFsdGllcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoeSArIDYgPCBoZWlnaHQgJiZcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbeV1beF0gPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbeSArIDFdW3hdID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W3kgKyAyXVt4XSA9PT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICBhcnJheVt5ICsgM11beF0gPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgYXJyYXlbeSArIDRdW3hdID09PSAxICYmXG4gICAgICAgICAgICAgICAgICAgIGFycmF5W3kgKyA1XVt4XSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBhcnJheVt5ICsgNl1beF0gPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgKE1hc2tVdGlsLmlzV2hpdGVWZXJ0aWNhbChhcnJheSwgeCwgeSAtIDQsIHkpIHx8IE1hc2tVdGlsLmlzV2hpdGVWZXJ0aWNhbChhcnJheSwgeCwgeSArIDcsIHkgKyAxMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIG51bVBlbmFsdGllcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtUGVuYWx0aWVzICogTWFza1V0aWwuTjM7XG4gICAgfTtcbiAgICBNYXNrVXRpbC5pc1doaXRlSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChyb3dBcnJheSwgZnJvbSAvKmludCovLCB0byAvKmludCovKSB7XG4gICAgICAgIGZyb20gPSBNYXRoLm1heChmcm9tLCAwKTtcbiAgICAgICAgdG8gPSBNYXRoLm1pbih0bywgcm93QXJyYXkubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGZyb207IGkgPCB0bzsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocm93QXJyYXlbaV0gPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBNYXNrVXRpbC5pc1doaXRlVmVydGljYWwgPSBmdW5jdGlvbiAoYXJyYXksIGNvbCAvKmludCovLCBmcm9tIC8qaW50Ki8sIHRvIC8qaW50Ki8pIHtcbiAgICAgICAgZnJvbSA9IE1hdGgubWF4KGZyb20sIDApO1xuICAgICAgICB0byA9IE1hdGgubWluKHRvLCBhcnJheS5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gZnJvbTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJheVtpXVtjb2xdID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbHkgbWFzayBwZW5hbHR5IHJ1bGUgNCBhbmQgcmV0dXJuIHRoZSBwZW5hbHR5LiBDYWxjdWxhdGUgdGhlIHJhdGlvIG9mIGRhcmsgY2VsbHMgYW5kIGdpdmVcbiAgICAgKiBwZW5hbHR5IGlmIHRoZSByYXRpbyBpcyBmYXIgZnJvbSA1MCUuIEl0IGdpdmVzIDEwIHBlbmFsdHkgZm9yIDUlIGRpc3RhbmNlLlxuICAgICAqL1xuICAgIE1hc2tVdGlsLmFwcGx5TWFza1BlbmFsdHlSdWxlNCA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgdmFyIG51bURhcmtDZWxscyA9IDA7XG4gICAgICAgIHZhciBhcnJheSA9IG1hdHJpeC5nZXRBcnJheSgpO1xuICAgICAgICB2YXIgd2lkdGggPSBtYXRyaXguZ2V0V2lkdGgoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1hdHJpeC5nZXRIZWlnaHQoKTtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgdmFyIGFycmF5WSA9IGFycmF5W3ldO1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFycmF5WVt4XSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBudW1EYXJrQ2VsbHMrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG51bVRvdGFsQ2VsbHMgPSBtYXRyaXguZ2V0SGVpZ2h0KCkgKiBtYXRyaXguZ2V0V2lkdGgoKTtcbiAgICAgICAgdmFyIGZpdmVQZXJjZW50VmFyaWFuY2VzID0gTWF0aC5mbG9vcihNYXRoLmFicyhudW1EYXJrQ2VsbHMgKiAyIC0gbnVtVG90YWxDZWxscykgKiAxMCAvIG51bVRvdGFsQ2VsbHMpO1xuICAgICAgICByZXR1cm4gZml2ZVBlcmNlbnRWYXJpYW5jZXMgKiBNYXNrVXRpbC5ONDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgbWFzayBiaXQgZm9yIFwiZ2V0TWFza1BhdHRlcm5cIiBhdCBcInhcIiBhbmQgXCJ5XCIuIFNlZSA4Ljggb2YgSklTWDA1MTA6MjAwNCBmb3IgbWFza1xuICAgICAqIHBhdHRlcm4gY29uZGl0aW9ucy5cbiAgICAgKi9cbiAgICBNYXNrVXRpbC5nZXREYXRhTWFza0JpdCA9IGZ1bmN0aW9uIChtYXNrUGF0dGVybiAvKmludCovLCB4IC8qaW50Ki8sIHkgLyppbnQqLykge1xuICAgICAgICB2YXIgaW50ZXJtZWRpYXRlOyAvKmludCovXG4gICAgICAgIHZhciB0ZW1wOyAvKmludCovXG4gICAgICAgIHN3aXRjaCAobWFza1BhdHRlcm4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGUgPSAoeSArIHgpICYgMHgxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZSA9IHkgJiAweDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlID0geCAlIDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlID0gKHkgKyB4KSAlIDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaW50ZXJtZWRpYXRlID0gKE1hdGguZmxvb3IoeSAvIDIpICsgTWF0aC5mbG9vcih4IC8gMykpICYgMHgxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRlbXAgPSB5ICogeDtcbiAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGUgPSAodGVtcCAmIDB4MSkgKyAodGVtcCAlIDMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHRlbXAgPSB5ICogeDtcbiAgICAgICAgICAgICAgICBpbnRlcm1lZGlhdGUgPSAoKHRlbXAgJiAweDEpICsgKHRlbXAgJSAzKSkgJiAweDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgdGVtcCA9IHkgKiB4O1xuICAgICAgICAgICAgICAgIGludGVybWVkaWF0ZSA9ICgodGVtcCAlIDMpICsgKCh5ICsgeCkgJiAweDEpKSAmIDB4MTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignSW52YWxpZCBtYXNrIHBhdHRlcm46ICcgKyBtYXNrUGF0dGVybik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludGVybWVkaWF0ZSA9PT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgYXBwbHlNYXNrUGVuYWx0eVJ1bGUxLiBXZSBuZWVkIHRoaXMgZm9yIGRvaW5nIHRoaXMgY2FsY3VsYXRpb24gaW4gYm90aFxuICAgICAqIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsIG9yZGVycyByZXNwZWN0aXZlbHkuXG4gICAgICovXG4gICAgTWFza1V0aWwuYXBwbHlNYXNrUGVuYWx0eVJ1bGUxSW50ZXJuYWwgPSBmdW5jdGlvbiAobWF0cml4LCBpc0hvcml6b250YWwpIHtcbiAgICAgICAgdmFyIHBlbmFsdHkgPSAwO1xuICAgICAgICB2YXIgaUxpbWl0ID0gaXNIb3Jpem9udGFsID8gbWF0cml4LmdldEhlaWdodCgpIDogbWF0cml4LmdldFdpZHRoKCk7XG4gICAgICAgIHZhciBqTGltaXQgPSBpc0hvcml6b250YWwgPyBtYXRyaXguZ2V0V2lkdGgoKSA6IG1hdHJpeC5nZXRIZWlnaHQoKTtcbiAgICAgICAgdmFyIGFycmF5ID0gbWF0cml4LmdldEFycmF5KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaUxpbWl0OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBudW1TYW1lQml0Q2VsbHMgPSAwO1xuICAgICAgICAgICAgdmFyIHByZXZCaXQgPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgakxpbWl0OyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYml0ID0gaXNIb3Jpem9udGFsID8gYXJyYXlbaV1bal0gOiBhcnJheVtqXVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoYml0ID09PSBwcmV2Qml0KSB7XG4gICAgICAgICAgICAgICAgICAgIG51bVNhbWVCaXRDZWxscysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bVNhbWVCaXRDZWxscyA+PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5hbHR5ICs9IE1hc2tVdGlsLk4xICsgKG51bVNhbWVCaXRDZWxscyAtIDUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG51bVNhbWVCaXRDZWxscyA9IDE7IC8vIEluY2x1ZGUgdGhlIGNlbGwgaXRzZWxmLlxuICAgICAgICAgICAgICAgICAgICBwcmV2Qml0ID0gYml0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChudW1TYW1lQml0Q2VsbHMgPj0gNSkge1xuICAgICAgICAgICAgICAgIHBlbmFsdHkgKz0gTWFza1V0aWwuTjEgKyAobnVtU2FtZUJpdENlbGxzIC0gNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBlbmFsdHk7XG4gICAgfTtcbiAgICAvLyBQZW5hbHR5IHdlaWdodHMgZnJvbSBzZWN0aW9uIDYuOC4yLjFcbiAgICBNYXNrVXRpbC5OMSA9IDM7XG4gICAgTWFza1V0aWwuTjIgPSAzO1xuICAgIE1hc2tVdGlsLk4zID0gNDA7XG4gICAgTWFza1V0aWwuTjQgPSAxMDtcbiAgICByZXR1cm4gTWFza1V0aWw7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgTWFza1V0aWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXNrVXRpbC5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbi8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmVuY29kZXIgeyovXG4vKmltcG9ydCBqYXZhLnV0aWwuQXJyYXlzOyovXG5pbXBvcnQgQXJyYXlzIGZyb20gJy4uLy4uL3V0aWwvQXJyYXlzJztcbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uLy4uL3V0aWwvU3RyaW5nQnVpbGRlcic7XG4vKipcbiAqIEpBVkFQT1JUOiBUaGUgb3JpZ2luYWwgY29kZSB3YXMgYSAyRCBhcnJheSBvZiBpbnRzLCBidXQgc2luY2UgaXQgb25seSBldmVyIGdldHMgYXNzaWduZWRcbiAqIC0xLCAwLCBhbmQgMSwgSSdtIGdvaW5nIHRvIHVzZSBsZXNzIG1lbW9yeSBhbmQgZ28gd2l0aCBieXRlcy5cbiAqXG4gKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKVxuICovXG52YXIgQnl0ZU1hdHJpeCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCeXRlTWF0cml4KHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHZhciBieXRlcyA9IG5ldyBBcnJheShoZWlnaHQpOyAvLyBbaGVpZ2h0XVt3aWR0aF1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGhlaWdodDsgaSsrKSB7XG4gICAgICAgICAgICBieXRlc1tpXSA9IG5ldyBVaW50OEFycmF5KHdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ5dGVzID0gYnl0ZXM7XG4gICAgfVxuICAgIEJ5dGVNYXRyaXgucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICAgIH07XG4gICAgQnl0ZU1hdHJpeC5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgIH07XG4gICAgQnl0ZU1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ5dGVzW3ldW3hdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiBhbiBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiBhcyBieXRlcywgaW4gcm93LW1ham9yIG9yZGVyLiBhcnJheVt5XVt4XSByZXByZXNlbnRzIHBvaW50ICh4LHkpXG4gICAgICovXG4gICAgQnl0ZU1hdHJpeC5wcm90b3R5cGUuZ2V0QXJyYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ5dGVzO1xuICAgIH07XG4gICAgLy8gVFlQRVNDUklQVFBPUlQ6IHByZWZmZXIgdG8gbGV0IHR3byBtZXRob2RzIGluc3RlYWQgb2Ygb3ZlcnJpZGUgdG8gYXZvaWQgdHlwZSBjb21wYXJpc29uIGluc2lkZVxuICAgIEJ5dGVNYXRyaXgucHJvdG90eXBlLnNldE51bWJlciA9IGZ1bmN0aW9uICh4IC8qaW50Ki8sIHkgLyppbnQqLywgdmFsdWUgLypieXRlfGludCovKSB7XG4gICAgICAgIHRoaXMuYnl0ZXNbeV1beF0gPSB2YWx1ZTtcbiAgICB9O1xuICAgIC8vIHB1YmxpYyBzZXQoeDogbnVtYmVyIC8qaW50Ki8sIHk6IG51bWJlciAvKmludCovLCB2YWx1ZTogbnVtYmVyIC8qaW50Ki8pOiB2b2lkIHtcbiAgICAvLyAgIGJ5dGVzW3ldW3hdID0gKGJ5dGUpIHZhbHVlXG4gICAgLy8gfVxuICAgIEJ5dGVNYXRyaXgucHJvdG90eXBlLnNldEJvb2xlYW4gPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8sIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYnl0ZXNbeV1beF0gPSAvKihieXRlKSAqLyAodmFsdWUgPyAxIDogMCk7XG4gICAgfTtcbiAgICBCeXRlTWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICh2YWx1ZSAvKmJ5dGUqLykge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5ieXRlcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYUJ5dGUgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBBcnJheXMuZmlsbChhQnl0ZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ5dGVNYXRyaXgucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBCeXRlTWF0cml4KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdGhlciA9IG87XG4gICAgICAgIGlmICh0aGlzLndpZHRoICE9PSBvdGhlci53aWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCAhPT0gb3RoZXIuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyArK3kpIHtcbiAgICAgICAgICAgIHZhciBieXRlc1kgPSB0aGlzLmJ5dGVzW3ldO1xuICAgICAgICAgICAgdmFyIG90aGVyQnl0ZXNZID0gb3RoZXIuYnl0ZXNbeV07XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMCwgd2lkdGggPSB0aGlzLndpZHRoOyB4IDwgd2lkdGg7ICsreCkge1xuICAgICAgICAgICAgICAgIGlmIChieXRlc1lbeF0gIT09IG90aGVyQnl0ZXNZW3hdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgQnl0ZU1hdHJpeC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgU3RyaW5nQnVpbGRlcigpOyAvLyAoMiAqIHdpZHRoICogaGVpZ2h0ICsgMilcbiAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyArK3kpIHtcbiAgICAgICAgICAgIHZhciBieXRlc1kgPSB0aGlzLmJ5dGVzW3ldO1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDAsIHdpZHRoID0gdGhpcy53aWR0aDsgeCA8IHdpZHRoOyArK3gpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGJ5dGVzWVt4XSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKCcgMCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoJyAxJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoJyAgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7XG4gICAgfTtcbiAgICByZXR1cm4gQnl0ZU1hdHJpeDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBCeXRlTWF0cml4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Qnl0ZU1hdHJpeC5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBTdHJpbmdCdWlsZGVyIGZyb20gJy4uLy4uL3V0aWwvU3RyaW5nQnVpbGRlcic7XG4vKipcbiAqIEBhdXRob3Igc2F0b3J1eEBnb29nbGUuY29tIChTYXRvcnUgVGFrYWJheWFzaGkpIC0gY3JlYXRvclxuICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikgLSBwb3J0ZWQgZnJvbSBDKytcbiAqL1xudmFyIFFSQ29kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBRUkNvZGUoKSB7XG4gICAgICAgIHRoaXMubWFza1BhdHRlcm4gPSAtMTtcbiAgICB9XG4gICAgUVJDb2RlLnByb3RvdHlwZS5nZXRNb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlO1xuICAgIH07XG4gICAgUVJDb2RlLnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsO1xuICAgIH07XG4gICAgUVJDb2RlLnByb3RvdHlwZS5nZXRWZXJzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uO1xuICAgIH07XG4gICAgUVJDb2RlLnByb3RvdHlwZS5nZXRNYXNrUGF0dGVybiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFza1BhdHRlcm47XG4gICAgfTtcbiAgICBRUkNvZGUucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4O1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIFFSQ29kZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgU3RyaW5nQnVpbGRlcigpOyAvLyAoMjAwKVxuICAgICAgICByZXN1bHQuYXBwZW5kKCc8PFxcbicpO1xuICAgICAgICByZXN1bHQuYXBwZW5kKCcgbW9kZTogJyk7XG4gICAgICAgIHJlc3VsdC5hcHBlbmQodGhpcy5tb2RlID8gdGhpcy5tb2RlLnRvU3RyaW5nKCkgOiAnbnVsbCcpO1xuICAgICAgICByZXN1bHQuYXBwZW5kKCdcXG4gZWNMZXZlbDogJyk7XG4gICAgICAgIHJlc3VsdC5hcHBlbmQodGhpcy5lY0xldmVsID8gdGhpcy5lY0xldmVsLnRvU3RyaW5nKCkgOiAnbnVsbCcpO1xuICAgICAgICByZXN1bHQuYXBwZW5kKCdcXG4gdmVyc2lvbjogJyk7XG4gICAgICAgIHJlc3VsdC5hcHBlbmQodGhpcy52ZXJzaW9uID8gdGhpcy52ZXJzaW9uLnRvU3RyaW5nKCkgOiAnbnVsbCcpO1xuICAgICAgICByZXN1bHQuYXBwZW5kKCdcXG4gbWFza1BhdHRlcm46ICcpO1xuICAgICAgICByZXN1bHQuYXBwZW5kKHRoaXMubWFza1BhdHRlcm4udG9TdHJpbmcoKSk7XG4gICAgICAgIGlmICh0aGlzLm1hdHJpeCkge1xuICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXFxuIG1hdHJpeDpcXG4nKTtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQodGhpcy5tYXRyaXgudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQuYXBwZW5kKCdcXG4gbWF0cml4OiBudWxsXFxuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LmFwcGVuZCgnPj5cXG4nKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpO1xuICAgIH07XG4gICAgUVJDb2RlLnByb3RvdHlwZS5zZXRNb2RlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IHZhbHVlO1xuICAgIH07XG4gICAgUVJDb2RlLnByb3RvdHlwZS5zZXRFQ0xldmVsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZWNMZXZlbCA9IHZhbHVlO1xuICAgIH07XG4gICAgUVJDb2RlLnByb3RvdHlwZS5zZXRWZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICB9O1xuICAgIFFSQ29kZS5wcm90b3R5cGUuc2V0TWFza1BhdHRlcm4gPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykge1xuICAgICAgICB0aGlzLm1hc2tQYXR0ZXJuID0gdmFsdWU7XG4gICAgfTtcbiAgICBRUkNvZGUucHJvdG90eXBlLnNldE1hdHJpeCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1hdHJpeCA9IHZhbHVlO1xuICAgIH07XG4gICAgLy8gQ2hlY2sgaWYgXCJtYXNrX3BhdHRlcm5cIiBpcyB2YWxpZC5cbiAgICBRUkNvZGUuaXNWYWxpZE1hc2tQYXR0ZXJuID0gZnVuY3Rpb24gKG1hc2tQYXR0ZXJuIC8qaW50Ki8pIHtcbiAgICAgICAgcmV0dXJuIG1hc2tQYXR0ZXJuID49IDAgJiYgbWFza1BhdHRlcm4gPCBRUkNvZGUuTlVNX01BU0tfUEFUVEVSTlM7XG4gICAgfTtcbiAgICBRUkNvZGUuTlVNX01BU0tfUEFUVEVSTlMgPSA4O1xuICAgIHJldHVybiBRUkNvZGU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgUVJDb2RlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UVJDb2RlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL0V4Y2VwdGlvbic7XG4vKipcbiAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi5cbiAqL1xudmFyIFdyaXRlckV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoV3JpdGVyRXhjZXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdyaXRlckV4Y2VwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBXcml0ZXJFeGNlcHRpb24ua2luZCA9ICdXcml0ZXJFeGNlcHRpb24nO1xuICAgIHJldHVybiBXcml0ZXJFeGNlcHRpb247XG59KEV4Y2VwdGlvbikpO1xuZXhwb3J0IGRlZmF1bHQgV3JpdGVyRXhjZXB0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9V3JpdGVyRXhjZXB0aW9uLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZW5jb2RlciB7Ki9cbmltcG9ydCBCaXRBcnJheSBmcm9tICcuLi8uLi9jb21tb24vQml0QXJyYXknO1xuaW1wb3J0IEludGVnZXIgZnJvbSAnLi4vLi4vdXRpbC9JbnRlZ2VyJztcbmltcG9ydCBRUkNvZGUgZnJvbSAnLi9RUkNvZGUnO1xuaW1wb3J0IE1hc2tVdGlsIGZyb20gJy4vTWFza1V0aWwnO1xuaW1wb3J0IFdyaXRlckV4Y2VwdGlvbiBmcm9tICcuLi8uLi9Xcml0ZXJFeGNlcHRpb24nO1xuaW1wb3J0IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBmcm9tICcuLi8uLi9JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24nO1xuLyoqXG4gKiBAYXV0aG9yIHNhdG9ydXhAZ29vZ2xlLmNvbSAoU2F0b3J1IFRha2FiYXlhc2hpKSAtIGNyZWF0b3JcbiAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pIC0gcG9ydGVkIGZyb20gQysrXG4gKi9cbnZhciBNYXRyaXhVdGlsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hdHJpeFV0aWwoKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG4gICAgLy8gU2V0IGFsbCBjZWxscyB0byAtMSAoVFlQRVNDUklQVFBPUlQ6IDI1NSkuICAtMSAoVFlQRVNDUklQVFBPUlQ6IDI1NSkgbWVhbnMgdGhhdCB0aGUgY2VsbCBpcyBlbXB0eSAobm90IHNldCB5ZXQpLlxuICAgIC8vXG4gICAgLy8gSkFWQVBPUlQ6IFdlIHNob3VsZG4ndCBuZWVkIHRvIGRvIHRoaXMgYXQgYWxsLiBUaGUgY29kZSBzaG91bGQgYmUgcmV3cml0dGVuIHRvIGJlZ2luIGVuY29kaW5nXG4gICAgLy8gd2l0aCB0aGUgQnl0ZU1hdHJpeCBpbml0aWFsaXplZCBhbGwgdG8gemVyby5cbiAgICBNYXRyaXhVdGlsLmNsZWFyTWF0cml4ID0gZnVuY3Rpb24gKG1hdHJpeCkge1xuICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogd2UgdXNlIFVpbnRBcnJheSBzZSBjaGFuZ2VkIGhlcmUgZnJvbSAtMSB0byAyNTVcbiAgICAgICAgbWF0cml4LmNsZWFyKC8qKGJ5dGUpICovIC8qLTEqLyAyNTUpO1xuICAgIH07XG4gICAgLy8gQnVpbGQgMkQgbWF0cml4IG9mIFFSIENvZGUgZnJvbSBcImRhdGFCaXRzXCIgd2l0aCBcImVjTGV2ZWxcIiwgXCJ2ZXJzaW9uXCIgYW5kIFwiZ2V0TWFza1BhdHRlcm5cIi4gT25cbiAgICAvLyBzdWNjZXNzLCBzdG9yZSB0aGUgcmVzdWx0IGluIFwibWF0cml4XCIgYW5kIHJldHVybiB0cnVlLlxuICAgIE1hdHJpeFV0aWwuYnVpbGRNYXRyaXggPSBmdW5jdGlvbiAoZGF0YUJpdHMsIGVjTGV2ZWwsIHZlcnNpb24sIG1hc2tQYXR0ZXJuIC8qaW50Ki8sIG1hdHJpeCkge1xuICAgICAgICBNYXRyaXhVdGlsLmNsZWFyTWF0cml4KG1hdHJpeCk7XG4gICAgICAgIE1hdHJpeFV0aWwuZW1iZWRCYXNpY1BhdHRlcm5zKHZlcnNpb24sIG1hdHJpeCk7XG4gICAgICAgIC8vIFR5cGUgaW5mb3JtYXRpb24gYXBwZWFyIHdpdGggYW55IHZlcnNpb24uXG4gICAgICAgIE1hdHJpeFV0aWwuZW1iZWRUeXBlSW5mbyhlY0xldmVsLCBtYXNrUGF0dGVybiwgbWF0cml4KTtcbiAgICAgICAgLy8gVmVyc2lvbiBpbmZvIGFwcGVhciBpZiB2ZXJzaW9uID49IDcuXG4gICAgICAgIE1hdHJpeFV0aWwubWF5YmVFbWJlZFZlcnNpb25JbmZvKHZlcnNpb24sIG1hdHJpeCk7XG4gICAgICAgIC8vIERhdGEgc2hvdWxkIGJlIGVtYmVkZGVkIGF0IGVuZC5cbiAgICAgICAgTWF0cml4VXRpbC5lbWJlZERhdGFCaXRzKGRhdGFCaXRzLCBtYXNrUGF0dGVybiwgbWF0cml4KTtcbiAgICB9O1xuICAgIC8vIEVtYmVkIGJhc2ljIHBhdHRlcm5zLiBPbiBzdWNjZXNzLCBtb2RpZnkgdGhlIG1hdHJpeCBhbmQgcmV0dXJuIHRydWUuXG4gICAgLy8gVGhlIGJhc2ljIHBhdHRlcm5zIGFyZTpcbiAgICAvLyAtIFBvc2l0aW9uIGRldGVjdGlvbiBwYXR0ZXJuc1xuICAgIC8vIC0gVGltaW5nIHBhdHRlcm5zXG4gICAgLy8gLSBEYXJrIGRvdCBhdCB0aGUgbGVmdCBib3R0b20gY29ybmVyXG4gICAgLy8gLSBQb3NpdGlvbiBhZGp1c3RtZW50IHBhdHRlcm5zLCBpZiBuZWVkIGJlXG4gICAgTWF0cml4VXRpbC5lbWJlZEJhc2ljUGF0dGVybnMgPSBmdW5jdGlvbiAodmVyc2lvbiwgbWF0cml4KSB7XG4gICAgICAgIC8vIExldCdzIGdldCBzdGFydGVkIHdpdGggZW1iZWRkaW5nIGJpZyBzcXVhcmVzIGF0IGNvcm5lcnMuXG4gICAgICAgIE1hdHJpeFV0aWwuZW1iZWRQb3NpdGlvbkRldGVjdGlvblBhdHRlcm5zQW5kU2VwYXJhdG9ycyhtYXRyaXgpO1xuICAgICAgICAvLyBUaGVuLCBlbWJlZCB0aGUgZGFyayBkb3QgYXQgdGhlIGxlZnQgYm90dG9tIGNvcm5lci5cbiAgICAgICAgTWF0cml4VXRpbC5lbWJlZERhcmtEb3RBdExlZnRCb3R0b21Db3JuZXIobWF0cml4KTtcbiAgICAgICAgLy8gUG9zaXRpb24gYWRqdXN0bWVudCBwYXR0ZXJucyBhcHBlYXIgaWYgdmVyc2lvbiA+PSAyLlxuICAgICAgICBNYXRyaXhVdGlsLm1heWJlRW1iZWRQb3NpdGlvbkFkanVzdG1lbnRQYXR0ZXJucyh2ZXJzaW9uLCBtYXRyaXgpO1xuICAgICAgICAvLyBUaW1pbmcgcGF0dGVybnMgc2hvdWxkIGJlIGVtYmVkZGVkIGFmdGVyIHBvc2l0aW9uIGFkai4gcGF0dGVybnMuXG4gICAgICAgIE1hdHJpeFV0aWwuZW1iZWRUaW1pbmdQYXR0ZXJucyhtYXRyaXgpO1xuICAgIH07XG4gICAgLy8gRW1iZWQgdHlwZSBpbmZvcm1hdGlvbi4gT24gc3VjY2VzcywgbW9kaWZ5IHRoZSBtYXRyaXguXG4gICAgTWF0cml4VXRpbC5lbWJlZFR5cGVJbmZvID0gZnVuY3Rpb24gKGVjTGV2ZWwsIG1hc2tQYXR0ZXJuIC8qaW50Ki8sIG1hdHJpeCkge1xuICAgICAgICB2YXIgdHlwZUluZm9CaXRzID0gbmV3IEJpdEFycmF5KCk7XG4gICAgICAgIE1hdHJpeFV0aWwubWFrZVR5cGVJbmZvQml0cyhlY0xldmVsLCBtYXNrUGF0dGVybiwgdHlwZUluZm9CaXRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHNpemUgPSB0eXBlSW5mb0JpdHMuZ2V0U2l6ZSgpOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICAgICAgICAvLyBQbGFjZSBiaXRzIGluIExTQiB0byBNU0Igb3JkZXIuICBMU0IgKGxlYXN0IHNpZ25pZmljYW50IGJpdCkgaXMgdGhlIGxhc3QgdmFsdWUgaW5cbiAgICAgICAgICAgIC8vIFwidHlwZUluZm9CaXRzXCIuXG4gICAgICAgICAgICB2YXIgYml0ID0gdHlwZUluZm9CaXRzLmdldCh0eXBlSW5mb0JpdHMuZ2V0U2l6ZSgpIC0gMSAtIGkpO1xuICAgICAgICAgICAgLy8gVHlwZSBpbmZvIGJpdHMgYXQgdGhlIGxlZnQgdG9wIGNvcm5lci4gU2VlIDguOSBvZiBKSVNYMDUxMDoyMDA0IChwLjQ2KS5cbiAgICAgICAgICAgIHZhciBjb29yZGluYXRlcyA9IE1hdHJpeFV0aWwuVFlQRV9JTkZPX0NPT1JESU5BVEVTW2ldO1xuICAgICAgICAgICAgdmFyIHgxID0gY29vcmRpbmF0ZXNbMF07XG4gICAgICAgICAgICB2YXIgeTEgPSBjb29yZGluYXRlc1sxXTtcbiAgICAgICAgICAgIG1hdHJpeC5zZXRCb29sZWFuKHgxLCB5MSwgYml0KTtcbiAgICAgICAgICAgIGlmIChpIDwgOCkge1xuICAgICAgICAgICAgICAgIC8vIFJpZ2h0IHRvcCBjb3JuZXIuXG4gICAgICAgICAgICAgICAgdmFyIHgyID0gbWF0cml4LmdldFdpZHRoKCkgLSBpIC0gMTtcbiAgICAgICAgICAgICAgICB2YXIgeTIgPSA4O1xuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXRCb29sZWFuKHgyLCB5MiwgYml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIExlZnQgYm90dG9tIGNvcm5lci5cbiAgICAgICAgICAgICAgICB2YXIgeDIgPSA4O1xuICAgICAgICAgICAgICAgIHZhciB5MiA9IG1hdHJpeC5nZXRIZWlnaHQoKSAtIDcgKyAoaSAtIDgpO1xuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXRCb29sZWFuKHgyLCB5MiwgYml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gRW1iZWQgdmVyc2lvbiBpbmZvcm1hdGlvbiBpZiBuZWVkIGJlLiBPbiBzdWNjZXNzLCBtb2RpZnkgdGhlIG1hdHJpeCBhbmQgcmV0dXJuIHRydWUuXG4gICAgLy8gU2VlIDguMTAgb2YgSklTWDA1MTA6MjAwNCAocC40NykgZm9yIGhvdyB0byBlbWJlZCB2ZXJzaW9uIGluZm9ybWF0aW9uLlxuICAgIE1hdHJpeFV0aWwubWF5YmVFbWJlZFZlcnNpb25JbmZvID0gZnVuY3Rpb24gKHZlcnNpb24sIG1hdHJpeCkge1xuICAgICAgICBpZiAodmVyc2lvbi5nZXRWZXJzaW9uTnVtYmVyKCkgPCA3KSB7IC8vIFZlcnNpb24gaW5mbyBpcyBuZWNlc3NhcnkgaWYgdmVyc2lvbiA+PSA3LlxuICAgICAgICAgICAgcmV0dXJuOyAvLyBEb24ndCBuZWVkIHZlcnNpb24gaW5mby5cbiAgICAgICAgfVxuICAgICAgICB2YXIgdmVyc2lvbkluZm9CaXRzID0gbmV3IEJpdEFycmF5KCk7XG4gICAgICAgIE1hdHJpeFV0aWwubWFrZVZlcnNpb25JbmZvQml0cyh2ZXJzaW9uLCB2ZXJzaW9uSW5mb0JpdHMpO1xuICAgICAgICB2YXIgYml0SW5kZXggPSA2ICogMyAtIDE7IC8vIEl0IHdpbGwgZGVjcmVhc2UgZnJvbSAxNyB0byAwLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7ICsraSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzOyArK2opIHtcbiAgICAgICAgICAgICAgICAvLyBQbGFjZSBiaXRzIGluIExTQiAobGVhc3Qgc2lnbmlmaWNhbnQgYml0KSB0byBNU0Igb3JkZXIuXG4gICAgICAgICAgICAgICAgdmFyIGJpdCA9IHZlcnNpb25JbmZvQml0cy5nZXQoYml0SW5kZXgpO1xuICAgICAgICAgICAgICAgIGJpdEluZGV4LS07XG4gICAgICAgICAgICAgICAgLy8gTGVmdCBib3R0b20gY29ybmVyLlxuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXRCb29sZWFuKGksIG1hdHJpeC5nZXRIZWlnaHQoKSAtIDExICsgaiwgYml0KTtcbiAgICAgICAgICAgICAgICAvLyBSaWdodCBib3R0b20gY29ybmVyLlxuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXRCb29sZWFuKG1hdHJpeC5nZXRIZWlnaHQoKSAtIDExICsgaiwgaSwgYml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gRW1iZWQgXCJkYXRhQml0c1wiIHVzaW5nIFwiZ2V0TWFza1BhdHRlcm5cIi4gT24gc3VjY2VzcywgbW9kaWZ5IHRoZSBtYXRyaXggYW5kIHJldHVybiB0cnVlLlxuICAgIC8vIEZvciBkZWJ1Z2dpbmcgcHVycG9zZXMsIGl0IHNraXBzIG1hc2tpbmcgcHJvY2VzcyBpZiBcImdldE1hc2tQYXR0ZXJuXCIgaXMgLTEoVFlQRVNDUklQVFBPUlQ6IDI1NSkuXG4gICAgLy8gU2VlIDguNyBvZiBKSVNYMDUxMDoyMDA0IChwLjM4KSBmb3IgaG93IHRvIGVtYmVkIGRhdGEgYml0cy5cbiAgICBNYXRyaXhVdGlsLmVtYmVkRGF0YUJpdHMgPSBmdW5jdGlvbiAoZGF0YUJpdHMsIG1hc2tQYXR0ZXJuIC8qaW50Ki8sIG1hdHJpeCkge1xuICAgICAgICB2YXIgYml0SW5kZXggPSAwO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gLTE7XG4gICAgICAgIC8vIFN0YXJ0IGZyb20gdGhlIHJpZ2h0IGJvdHRvbSBjZWxsLlxuICAgICAgICB2YXIgeCA9IG1hdHJpeC5nZXRXaWR0aCgpIC0gMTtcbiAgICAgICAgdmFyIHkgPSBtYXRyaXguZ2V0SGVpZ2h0KCkgLSAxO1xuICAgICAgICB3aGlsZSAoeCA+IDApIHtcbiAgICAgICAgICAgIC8vIFNraXAgdGhlIHZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuLlxuICAgICAgICAgICAgaWYgKHggPT09IDYpIHtcbiAgICAgICAgICAgICAgICB4IC09IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAoeSA+PSAwICYmIHkgPCBtYXRyaXguZ2V0SGVpZ2h0KCkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeHggPSB4IC0gaTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCB0aGUgY2VsbCBpZiBpdCdzIG5vdCBlbXB0eS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFNYXRyaXhVdGlsLmlzRW1wdHkobWF0cml4LmdldCh4eCwgeSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0SW5kZXggPCBkYXRhQml0cy5nZXRTaXplKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdCA9IGRhdGFCaXRzLmdldChiaXRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICArK2JpdEluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFkZGluZyBiaXQuIElmIHRoZXJlIGlzIG5vIGJpdCBsZWZ0LCB3ZSdsbCBmaWxsIHRoZSBsZWZ0IGNlbGxzIHdpdGggMCwgYXMgZGVzY3JpYmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiA4LjQuOSBvZiBKSVNYMDUxMDoyMDA0IChwLiAyNCkuXG4gICAgICAgICAgICAgICAgICAgICAgICBiaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIG1hc2tpbmcgaWYgbWFza19wYXR0ZXJuIGlzIC0xIChUWVBFU0NSSVBUUE9SVDogMjU1KS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hc2tQYXR0ZXJuICE9PSAyNTUgJiYgTWFza1V0aWwuZ2V0RGF0YU1hc2tCaXQobWFza1BhdHRlcm4sIHh4LCB5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0ID0gIWJpdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0Qm9vbGVhbih4eCwgeSwgYml0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeSArPSBkaXJlY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAtZGlyZWN0aW9uOyAvLyBSZXZlcnNlIHRoZSBkaXJlY3Rpb24uXG4gICAgICAgICAgICB5ICs9IGRpcmVjdGlvbjtcbiAgICAgICAgICAgIHggLT0gMjsgLy8gTW92ZSB0byB0aGUgbGVmdC5cbiAgICAgICAgfVxuICAgICAgICAvLyBBbGwgYml0cyBzaG91bGQgYmUgY29uc3VtZWQuXG4gICAgICAgIGlmIChiaXRJbmRleCAhPT0gZGF0YUJpdHMuZ2V0U2l6ZSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKCdOb3QgYWxsIGJpdHMgY29uc3VtZWQ6ICcgKyBiaXRJbmRleCArICcvJyArIGRhdGFCaXRzLmdldFNpemUoKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIG1vc3Qgc2lnbmlmaWNhbnQgYml0IHNldCAob25lOiB0bykgaW4gdGhlIFwidmFsdWVcIi4gVGhlIG1vc3RcbiAgICAvLyBzaWduaWZpY2FudCBiaXQgaXMgcG9zaXRpb24gMzIuIElmIHRoZXJlIGlzIG5vIGJpdCBzZXQsIHJldHVybiAwLiBFeGFtcGxlczpcbiAgICAvLyAtIGZpbmRNU0JTZXQoMCkgPT4gMFxuICAgIC8vIC0gZmluZE1TQlNldCgxKSA9PiAxXG4gICAgLy8gLSBmaW5kTVNCU2V0KDI1NSkgPT4gOFxuICAgIE1hdHJpeFV0aWwuZmluZE1TQlNldCA9IGZ1bmN0aW9uICh2YWx1ZSAvKmludCovKSB7XG4gICAgICAgIHJldHVybiAzMiAtIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3ModmFsdWUpO1xuICAgIH07XG4gICAgLy8gQ2FsY3VsYXRlIEJDSCAoQm9zZS1DaGF1ZGh1cmktSG9jcXVlbmdoZW0pIGNvZGUgZm9yIFwidmFsdWVcIiB1c2luZyBwb2x5bm9taWFsIFwicG9seVwiLiBUaGUgQkNIXG4gICAgLy8gY29kZSBpcyB1c2VkIGZvciBlbmNvZGluZyB0eXBlIGluZm9ybWF0aW9uIGFuZCB2ZXJzaW9uIGluZm9ybWF0aW9uLlxuICAgIC8vIEV4YW1wbGU6IENhbGN1bGF0aW9uIG9mIHZlcnNpb24gaW5mb3JtYXRpb24gb2YgNy5cbiAgICAvLyBmKHgpIGlzIGNyZWF0ZWQgZnJvbSA3LlxuICAgIC8vICAgLSA3ID0gMDAwMTExIGluIDYgYml0c1xuICAgIC8vICAgLSBmKHgpID0geF4yICsgeF4xICsgeF4wXG4gICAgLy8gZyh4KSBpcyBnaXZlbiBieSB0aGUgc3RhbmRhcmQgKHAuIDY3KVxuICAgIC8vICAgLSBnKHgpID0geF4xMiArIHheMTEgKyB4XjEwICsgeF45ICsgeF44ICsgeF41ICsgeF4yICsgMVxuICAgIC8vIE11bHRpcGx5IGYoeCkgYnkgeF4oMTggLSA2KVxuICAgIC8vICAgLSBmJyh4KSA9IGYoeCkgKiB4XigxOCAtIDYpXG4gICAgLy8gICAtIGYnKHgpID0geF4xNCArIHheMTMgKyB4XjEyXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSByZW1haW5kZXIgb2YgZicoeCkgLyBnKHgpXG4gICAgLy8gICAgICAgICB4XjJcbiAgICAvLyAgICAgICAgIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4gICAgLy8gICBnKHgpICl4XjE0ICsgeF4xMyArIHheMTJcbiAgICAvLyAgICAgICAgIHheMTQgKyB4XjEzICsgeF4xMiArIHheMTEgKyB4XjEwICsgeF43ICsgeF40ICsgeF4yXG4gICAgLy8gICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeF4xMSArIHheMTAgKyB4XjcgKyB4XjQgKyB4XjJcbiAgICAvL1xuICAgIC8vIFRoZSByZW1haW5kZXIgaXMgeF4xMSArIHheMTAgKyB4XjcgKyB4XjQgKyB4XjJcbiAgICAvLyBFbmNvZGUgaXQgaW4gYmluYXJ5OiAxMTAwMTAwMTAxMDBcbiAgICAvLyBUaGUgcmV0dXJuIHZhbHVlIGlzIDB4Yzk0ICgxMTAwIDEwMDEgMDEwMClcbiAgICAvL1xuICAgIC8vIFNpbmNlIGFsbCBjb2VmZmljaWVudHMgaW4gdGhlIHBvbHlub21pYWxzIGFyZSAxIG9yIDAsIHdlIGNhbiBkbyB0aGUgY2FsY3VsYXRpb24gYnkgYml0XG4gICAgLy8gb3BlcmF0aW9ucy4gV2UgZG9uJ3QgY2FyZSBpZiBjb2VmZmljaWVudHMgYXJlIHBvc2l0aXZlIG9yIG5lZ2F0aXZlLlxuICAgIE1hdHJpeFV0aWwuY2FsY3VsYXRlQkNIQ29kZSA9IGZ1bmN0aW9uICh2YWx1ZSAvKmludCovLCBwb2x5IC8qaW50Ki8pIHtcbiAgICAgICAgaWYgKHBvbHkgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oJzAgcG9seW5vbWlhbCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHBvbHkgaXMgXCIxIDExMTEgMDAxMCAwMTAxXCIgKHZlcnNpb24gaW5mbyBwb2x5KSwgbXNiU2V0SW5Qb2x5IGlzIDEzLiBXZSdsbCBzdWJ0cmFjdCAxXG4gICAgICAgIC8vIGZyb20gMTMgdG8gbWFrZSBpdCAxMi5cbiAgICAgICAgdmFyIG1zYlNldEluUG9seSA9IE1hdHJpeFV0aWwuZmluZE1TQlNldChwb2x5KTtcbiAgICAgICAgdmFsdWUgPDw9IG1zYlNldEluUG9seSAtIDE7XG4gICAgICAgIC8vIERvIHRoZSBkaXZpc2lvbiBidXNpbmVzcyB1c2luZyBleGNsdXNpdmUtb3Igb3BlcmF0aW9ucy5cbiAgICAgICAgd2hpbGUgKE1hdHJpeFV0aWwuZmluZE1TQlNldCh2YWx1ZSkgPj0gbXNiU2V0SW5Qb2x5KSB7XG4gICAgICAgICAgICB2YWx1ZSBePSBwb2x5IDw8IChNYXRyaXhVdGlsLmZpbmRNU0JTZXQodmFsdWUpIC0gbXNiU2V0SW5Qb2x5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgdGhlIFwidmFsdWVcIiBpcyB0aGUgcmVtYWluZGVyIChpLmUuIHRoZSBCQ0ggY29kZSlcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgLy8gTWFrZSBiaXQgdmVjdG9yIG9mIHR5cGUgaW5mb3JtYXRpb24uIE9uIHN1Y2Nlc3MsIHN0b3JlIHRoZSByZXN1bHQgaW4gXCJiaXRzXCIgYW5kIHJldHVybiB0cnVlLlxuICAgIC8vIEVuY29kZSBlcnJvciBjb3JyZWN0aW9uIGxldmVsIGFuZCBtYXNrIHBhdHRlcm4uIFNlZSA4Ljkgb2ZcbiAgICAvLyBKSVNYMDUxMDoyMDA0IChwLjQ1KSBmb3IgZGV0YWlscy5cbiAgICBNYXRyaXhVdGlsLm1ha2VUeXBlSW5mb0JpdHMgPSBmdW5jdGlvbiAoZWNMZXZlbCwgbWFza1BhdHRlcm4gLyppbnQqLywgYml0cykge1xuICAgICAgICBpZiAoIVFSQ29kZS5pc1ZhbGlkTWFza1BhdHRlcm4obWFza1BhdHRlcm4pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKCdJbnZhbGlkIG1hc2sgcGF0dGVybicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0eXBlSW5mbyA9IChlY0xldmVsLmdldEJpdHMoKSA8PCAzKSB8IG1hc2tQYXR0ZXJuO1xuICAgICAgICBiaXRzLmFwcGVuZEJpdHModHlwZUluZm8sIDUpO1xuICAgICAgICB2YXIgYmNoQ29kZSA9IE1hdHJpeFV0aWwuY2FsY3VsYXRlQkNIQ29kZSh0eXBlSW5mbywgTWF0cml4VXRpbC5UWVBFX0lORk9fUE9MWSk7XG4gICAgICAgIGJpdHMuYXBwZW5kQml0cyhiY2hDb2RlLCAxMCk7XG4gICAgICAgIHZhciBtYXNrQml0cyA9IG5ldyBCaXRBcnJheSgpO1xuICAgICAgICBtYXNrQml0cy5hcHBlbmRCaXRzKE1hdHJpeFV0aWwuVFlQRV9JTkZPX01BU0tfUEFUVEVSTiwgMTUpO1xuICAgICAgICBiaXRzLnhvcihtYXNrQml0cyk7XG4gICAgICAgIGlmIChiaXRzLmdldFNpemUoKSAhPT0gMTUpIHsgLy8gSnVzdCBpbiBjYXNlLlxuICAgICAgICAgICAgdGhyb3cgbmV3IFdyaXRlckV4Y2VwdGlvbignc2hvdWxkIG5vdCBoYXBwZW4gYnV0IHdlIGdvdDogJyArIGJpdHMuZ2V0U2l6ZSgpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gTWFrZSBiaXQgdmVjdG9yIG9mIHZlcnNpb24gaW5mb3JtYXRpb24uIE9uIHN1Y2Nlc3MsIHN0b3JlIHRoZSByZXN1bHQgaW4gXCJiaXRzXCIgYW5kIHJldHVybiB0cnVlLlxuICAgIC8vIFNlZSA4LjEwIG9mIEpJU1gwNTEwOjIwMDQgKHAuNDUpIGZvciBkZXRhaWxzLlxuICAgIE1hdHJpeFV0aWwubWFrZVZlcnNpb25JbmZvQml0cyA9IGZ1bmN0aW9uICh2ZXJzaW9uLCBiaXRzKSB7XG4gICAgICAgIGJpdHMuYXBwZW5kQml0cyh2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKSwgNik7XG4gICAgICAgIHZhciBiY2hDb2RlID0gTWF0cml4VXRpbC5jYWxjdWxhdGVCQ0hDb2RlKHZlcnNpb24uZ2V0VmVyc2lvbk51bWJlcigpLCBNYXRyaXhVdGlsLlZFUlNJT05fSU5GT19QT0xZKTtcbiAgICAgICAgYml0cy5hcHBlbmRCaXRzKGJjaENvZGUsIDEyKTtcbiAgICAgICAgaWYgKGJpdHMuZ2V0U2l6ZSgpICE9PSAxOCkgeyAvLyBKdXN0IGluIGNhc2UuXG4gICAgICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKCdzaG91bGQgbm90IGhhcHBlbiBidXQgd2UgZ290OiAnICsgYml0cy5nZXRTaXplKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBDaGVjayBpZiBcInZhbHVlXCIgaXMgZW1wdHkuXG4gICAgTWF0cml4VXRpbC5pc0VtcHR5ID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSAyNTU7IC8vIC0xXG4gICAgfTtcbiAgICBNYXRyaXhVdGlsLmVtYmVkVGltaW5nUGF0dGVybnMgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIC8vIC04IGlzIGZvciBza2lwcGluZyBwb3NpdGlvbiBkZXRlY3Rpb24gcGF0dGVybnMgKDc6IHNpemUpLCBhbmQgdHdvIGhvcml6b250YWwvdmVydGljYWxcbiAgICAgICAgLy8gc2VwYXJhdGlvbiBwYXR0ZXJucyAoMTogc2l6ZSkuIFRodXMsIDggPSA3ICsgMS5cbiAgICAgICAgZm9yICh2YXIgaSA9IDg7IGkgPCBtYXRyaXguZ2V0V2lkdGgoKSAtIDg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGJpdCA9IChpICsgMSkgJSAyO1xuICAgICAgICAgICAgLy8gSG9yaXpvbnRhbCBsaW5lLlxuICAgICAgICAgICAgaWYgKE1hdHJpeFV0aWwuaXNFbXB0eShtYXRyaXguZ2V0KGksIDYpKSkge1xuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXROdW1iZXIoaSwgNiwgYml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFZlcnRpY2FsIGxpbmUuXG4gICAgICAgICAgICBpZiAoTWF0cml4VXRpbC5pc0VtcHR5KG1hdHJpeC5nZXQoNiwgaSkpKSB7XG4gICAgICAgICAgICAgICAgbWF0cml4LnNldE51bWJlcig2LCBpLCBiaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBFbWJlZCB0aGUgbG9uZWx5IGRhcmsgZG90IGF0IGxlZnQgYm90dG9tIGNvcm5lci4gSklTWDA1MTA6MjAwNCAocC40NilcbiAgICBNYXRyaXhVdGlsLmVtYmVkRGFya0RvdEF0TGVmdEJvdHRvbUNvcm5lciA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgaWYgKG1hdHJpeC5nZXQoOCwgbWF0cml4LmdldEhlaWdodCgpIC0gOCkgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBtYXRyaXguc2V0TnVtYmVyKDgsIG1hdHJpeC5nZXRIZWlnaHQoKSAtIDgsIDEpO1xuICAgIH07XG4gICAgTWF0cml4VXRpbC5lbWJlZEhvcml6b250YWxTZXBhcmF0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICh4U3RhcnQgLyppbnQqLywgeVN0YXJ0IC8qaW50Ki8sIG1hdHJpeCkge1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IDg7ICsreCkge1xuICAgICAgICAgICAgaWYgKCFNYXRyaXhVdGlsLmlzRW1wdHkobWF0cml4LmdldCh4U3RhcnQgKyB4LCB5U3RhcnQpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdHJpeC5zZXROdW1iZXIoeFN0YXJ0ICsgeCwgeVN0YXJ0LCAwKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWF0cml4VXRpbC5lbWJlZFZlcnRpY2FsU2VwYXJhdGlvblBhdHRlcm4gPSBmdW5jdGlvbiAoeFN0YXJ0IC8qaW50Ki8sIHlTdGFydCAvKmludCovLCBtYXRyaXgpIHtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCA3OyArK3kpIHtcbiAgICAgICAgICAgIGlmICghTWF0cml4VXRpbC5pc0VtcHR5KG1hdHJpeC5nZXQoeFN0YXJ0LCB5U3RhcnQgKyB5KSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXRyaXguc2V0TnVtYmVyKHhTdGFydCwgeVN0YXJ0ICsgeSwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1hdHJpeFV0aWwuZW1iZWRQb3NpdGlvbkFkanVzdG1lbnRQYXR0ZXJuID0gZnVuY3Rpb24gKHhTdGFydCAvKmludCovLCB5U3RhcnQgLyppbnQqLywgbWF0cml4KSB7XG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgNTsgKyt5KSB7XG4gICAgICAgICAgICB2YXIgcGF0dGVyblkgPSBNYXRyaXhVdGlsLlBPU0lUSU9OX0FESlVTVE1FTlRfUEFUVEVSTlt5XTtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgNTsgKyt4KSB7XG4gICAgICAgICAgICAgICAgbWF0cml4LnNldE51bWJlcih4U3RhcnQgKyB4LCB5U3RhcnQgKyB5LCBwYXR0ZXJuWVt4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1hdHJpeFV0aWwuZW1iZWRQb3NpdGlvbkRldGVjdGlvblBhdHRlcm4gPSBmdW5jdGlvbiAoeFN0YXJ0IC8qaW50Ki8sIHlTdGFydCAvKmludCovLCBtYXRyaXgpIHtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCA3OyArK3kpIHtcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuWSA9IE1hdHJpeFV0aWwuUE9TSVRJT05fREVURUNUSU9OX1BBVFRFUk5beV07XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IDc7ICsreCkge1xuICAgICAgICAgICAgICAgIG1hdHJpeC5zZXROdW1iZXIoeFN0YXJ0ICsgeCwgeVN0YXJ0ICsgeSwgcGF0dGVybllbeF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBFbWJlZCBwb3NpdGlvbiBkZXRlY3Rpb24gcGF0dGVybnMgYW5kIHN1cnJvdW5kaW5nIHZlcnRpY2FsL2hvcml6b250YWwgc2VwYXJhdG9ycy5cbiAgICBNYXRyaXhVdGlsLmVtYmVkUG9zaXRpb25EZXRlY3Rpb25QYXR0ZXJuc0FuZFNlcGFyYXRvcnMgPSBmdW5jdGlvbiAobWF0cml4KSB7XG4gICAgICAgIC8vIEVtYmVkIHRocmVlIGJpZyBzcXVhcmVzIGF0IGNvcm5lcnMuXG4gICAgICAgIHZhciBwZHBXaWR0aCA9IE1hdHJpeFV0aWwuUE9TSVRJT05fREVURUNUSU9OX1BBVFRFUk5bMF0ubGVuZ3RoO1xuICAgICAgICAvLyBMZWZ0IHRvcCBjb3JuZXIuXG4gICAgICAgIE1hdHJpeFV0aWwuZW1iZWRQb3NpdGlvbkRldGVjdGlvblBhdHRlcm4oMCwgMCwgbWF0cml4KTtcbiAgICAgICAgLy8gUmlnaHQgdG9wIGNvcm5lci5cbiAgICAgICAgTWF0cml4VXRpbC5lbWJlZFBvc2l0aW9uRGV0ZWN0aW9uUGF0dGVybihtYXRyaXguZ2V0V2lkdGgoKSAtIHBkcFdpZHRoLCAwLCBtYXRyaXgpO1xuICAgICAgICAvLyBMZWZ0IGJvdHRvbSBjb3JuZXIuXG4gICAgICAgIE1hdHJpeFV0aWwuZW1iZWRQb3NpdGlvbkRldGVjdGlvblBhdHRlcm4oMCwgbWF0cml4LmdldFdpZHRoKCkgLSBwZHBXaWR0aCwgbWF0cml4KTtcbiAgICAgICAgLy8gRW1iZWQgaG9yaXpvbnRhbCBzZXBhcmF0aW9uIHBhdHRlcm5zIGFyb3VuZCB0aGUgc3F1YXJlcy5cbiAgICAgICAgdmFyIGhzcFdpZHRoID0gODtcbiAgICAgICAgLy8gTGVmdCB0b3AgY29ybmVyLlxuICAgICAgICBNYXRyaXhVdGlsLmVtYmVkSG9yaXpvbnRhbFNlcGFyYXRpb25QYXR0ZXJuKDAsIGhzcFdpZHRoIC0gMSwgbWF0cml4KTtcbiAgICAgICAgLy8gUmlnaHQgdG9wIGNvcm5lci5cbiAgICAgICAgTWF0cml4VXRpbC5lbWJlZEhvcml6b250YWxTZXBhcmF0aW9uUGF0dGVybihtYXRyaXguZ2V0V2lkdGgoKSAtIGhzcFdpZHRoLCBoc3BXaWR0aCAtIDEsIG1hdHJpeCk7XG4gICAgICAgIC8vIExlZnQgYm90dG9tIGNvcm5lci5cbiAgICAgICAgTWF0cml4VXRpbC5lbWJlZEhvcml6b250YWxTZXBhcmF0aW9uUGF0dGVybigwLCBtYXRyaXguZ2V0V2lkdGgoKSAtIGhzcFdpZHRoLCBtYXRyaXgpO1xuICAgICAgICAvLyBFbWJlZCB2ZXJ0aWNhbCBzZXBhcmF0aW9uIHBhdHRlcm5zIGFyb3VuZCB0aGUgc3F1YXJlcy5cbiAgICAgICAgdmFyIHZzcFNpemUgPSA3O1xuICAgICAgICAvLyBMZWZ0IHRvcCBjb3JuZXIuXG4gICAgICAgIE1hdHJpeFV0aWwuZW1iZWRWZXJ0aWNhbFNlcGFyYXRpb25QYXR0ZXJuKHZzcFNpemUsIDAsIG1hdHJpeCk7XG4gICAgICAgIC8vIFJpZ2h0IHRvcCBjb3JuZXIuXG4gICAgICAgIE1hdHJpeFV0aWwuZW1iZWRWZXJ0aWNhbFNlcGFyYXRpb25QYXR0ZXJuKG1hdHJpeC5nZXRIZWlnaHQoKSAtIHZzcFNpemUgLSAxLCAwLCBtYXRyaXgpO1xuICAgICAgICAvLyBMZWZ0IGJvdHRvbSBjb3JuZXIuXG4gICAgICAgIE1hdHJpeFV0aWwuZW1iZWRWZXJ0aWNhbFNlcGFyYXRpb25QYXR0ZXJuKHZzcFNpemUsIG1hdHJpeC5nZXRIZWlnaHQoKSAtIHZzcFNpemUsIG1hdHJpeCk7XG4gICAgfTtcbiAgICAvLyBFbWJlZCBwb3NpdGlvbiBhZGp1c3RtZW50IHBhdHRlcm5zIGlmIG5lZWQgYmUuXG4gICAgTWF0cml4VXRpbC5tYXliZUVtYmVkUG9zaXRpb25BZGp1c3RtZW50UGF0dGVybnMgPSBmdW5jdGlvbiAodmVyc2lvbiwgbWF0cml4KSB7XG4gICAgICAgIGlmICh2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKSA8IDIpIHsgLy8gVGhlIHBhdHRlcm5zIGFwcGVhciBpZiB2ZXJzaW9uID49IDJcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKSAtIDE7XG4gICAgICAgIHZhciBjb29yZGluYXRlcyA9IE1hdHJpeFV0aWwuUE9TSVRJT05fQURKVVNUTUVOVF9QQVRURVJOX0NPT1JESU5BVEVfVEFCTEVbaW5kZXhdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBjb29yZGluYXRlcy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB5ID0gY29vcmRpbmF0ZXNbaV07XG4gICAgICAgICAgICBpZiAoeSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogIT09IGxlbmd0aF8xOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBjb29yZGluYXRlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHggPj0gMCAmJiBNYXRyaXhVdGlsLmlzRW1wdHkobWF0cml4LmdldCh4LCB5KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjZWxsIGlzIHVuc2V0LCB3ZSBlbWJlZCB0aGUgcG9zaXRpb24gYWRqdXN0bWVudCBwYXR0ZXJuIGhlcmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAtMiBpcyBuZWNlc3Nhcnkgc2luY2UgdGhlIHgveSBjb29yZGluYXRlcyBwb2ludCB0byB0aGUgY2VudGVyIG9mIHRoZSBwYXR0ZXJuLCBub3QgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZWZ0IHRvcCBjb3JuZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRyaXhVdGlsLmVtYmVkUG9zaXRpb25BZGp1c3RtZW50UGF0dGVybih4IC0gMiwgeSAtIDIsIG1hdHJpeCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1hdHJpeFV0aWwuUE9TSVRJT05fREVURUNUSU9OX1BBVFRFUk4gPSBBcnJheS5mcm9tKFtcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAxLCAxLCAxLCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMCwgMCwgMCwgMCwgMCwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDAsIDEsIDEsIDEsIDAsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAwLCAxLCAxLCAxLCAwLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMCwgMSwgMSwgMSwgMCwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDAsIDAsIDAsIDAsIDAsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAxLCAxLCAxLCAxLCAxXSksXG4gICAgXSk7XG4gICAgTWF0cml4VXRpbC5QT1NJVElPTl9BREpVU1RNRU5UX1BBVFRFUk4gPSBBcnJheS5mcm9tKFtcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAxLCAxLCAxLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMCwgMCwgMCwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzEsIDAsIDEsIDAsIDFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsxLCAwLCAwLCAwLCAxXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgMSwgMSwgMSwgMV0pLFxuICAgIF0pO1xuICAgIC8vIEZyb20gQXBwZW5kaXggRS4gVGFibGUgMSwgSklTMDUxMFg6MjAwNCAoNzE6IHApLiBUaGUgdGFibGUgd2FzIGRvdWJsZS1jaGVja2VkIGJ5IGtvbWF0c3UuXG4gICAgTWF0cml4VXRpbC5QT1NJVElPTl9BREpVU1RNRU5UX1BBVFRFUk5fQ09PUkRJTkFURV9UQUJMRSA9IEFycmF5LmZyb20oW1xuICAgICAgICBJbnQzMkFycmF5LmZyb20oWy0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMTgsIC0xLCAtMSwgLTEsIC0xLCAtMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDIyLCAtMSwgLTEsIC0xLCAtMSwgLTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgLTEsIC0xLCAtMSwgLTEsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIC0xLCAtMSwgLTEsIC0xLCAtMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCAtMSwgLTEsIC0xLCAtMSwgLTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAyMiwgMzgsIC0xLCAtMSwgLTEsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDQyLCAtMSwgLTEsIC0xLCAtMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA0NiwgLTEsIC0xLCAtMSwgLTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAyOCwgNTAsIC0xLCAtMSwgLTEsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCAtMSwgLTEsIC0xLCAtMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDMyLCA1OCwgLTEsIC0xLCAtMSwgLTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIC0xLCAtMSwgLTEsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2LCA2NiwgLTEsIC0xLCAtMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA0OCwgNzAsIC0xLCAtMSwgLTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCAtMSwgLTEsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OCwgLTEsIC0xLCAtMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODIsIC0xLCAtMSwgLTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAtMSwgLTEsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgLTEsIC0xLCAtMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0LCAtMSwgLTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgLTEsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OCwgMTAyLCAtMSwgLTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAyOCwgNTQsIDgwLCAxMDYsIC0xLCAtMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDMyLCA1OCwgODQsIDExMCwgLTEsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAtMSwgLTFdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwLCAxMTgsIC0xLCAtMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4LCAxMjIsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OCwgMTAyLCAxMjYsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDUyLCA3OCwgMTA0LCAxMzAsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU2LCA4MiwgMTA4LCAxMzQsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzgsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDIsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDYsIC0xXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OCwgMTAyLCAxMjYsIDE1MF0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDI0LCA1MCwgNzYsIDEwMiwgMTI4LCAxNTRdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAyOCwgNTQsIDgwLCAxMDYsIDEzMiwgMTU4XSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4LCA4NCwgMTEwLCAxMzYsIDE2Ml0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksXG4gICAgXSk7XG4gICAgLy8gVHlwZSBpbmZvIGNlbGxzIGF0IHRoZSBsZWZ0IHRvcCBjb3JuZXIuXG4gICAgTWF0cml4VXRpbC5UWVBFX0lORk9fQ09PUkRJTkFURVMgPSBBcnJheS5mcm9tKFtcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs4LCAwXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbOCwgMV0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzgsIDJdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs4LCAzXSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbOCwgNF0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzgsIDVdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs4LCA3XSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbOCwgOF0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzcsIDhdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFs1LCA4XSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbNCwgOF0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzMsIDhdKSxcbiAgICAgICAgSW50MzJBcnJheS5mcm9tKFsyLCA4XSksXG4gICAgICAgIEludDMyQXJyYXkuZnJvbShbMSwgOF0pLFxuICAgICAgICBJbnQzMkFycmF5LmZyb20oWzAsIDhdKSxcbiAgICBdKTtcbiAgICAvLyBGcm9tIEFwcGVuZGl4IEQgaW4gSklTWDA1MTA6MjAwNCAocC4gNjcpXG4gICAgTWF0cml4VXRpbC5WRVJTSU9OX0lORk9fUE9MWSA9IDB4MWYyNTsgLy8gMSAxMTExIDAwMTAgMDEwMVxuICAgIC8vIEZyb20gQXBwZW5kaXggQyBpbiBKSVNYMDUxMDoyMDA0IChwLjY1KS5cbiAgICBNYXRyaXhVdGlsLlRZUEVfSU5GT19QT0xZID0gMHg1Mzc7XG4gICAgTWF0cml4VXRpbC5UWVBFX0lORk9fTUFTS19QQVRURVJOID0gMHg1NDEyO1xuICAgIHJldHVybiBNYXRyaXhVdGlsO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IE1hdHJpeFV0aWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXRyaXhVdGlsLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOCBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZW5jb2RlciB7Ki9cbnZhciBCbG9ja1BhaXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmxvY2tQYWlyKGRhdGFCeXRlcywgZXJyb3JDb3JyZWN0aW9uQnl0ZXMpIHtcbiAgICAgICAgdGhpcy5kYXRhQnl0ZXMgPSBkYXRhQnl0ZXM7XG4gICAgICAgIHRoaXMuZXJyb3JDb3JyZWN0aW9uQnl0ZXMgPSBlcnJvckNvcnJlY3Rpb25CeXRlcztcbiAgICB9XG4gICAgQmxvY2tQYWlyLnByb3RvdHlwZS5nZXREYXRhQnl0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFCeXRlcztcbiAgICB9O1xuICAgIEJsb2NrUGFpci5wcm90b3R5cGUuZ2V0RXJyb3JDb3JyZWN0aW9uQnl0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yQ29ycmVjdGlvbkJ5dGVzO1xuICAgIH07XG4gICAgcmV0dXJuIEJsb2NrUGFpcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBCbG9ja1BhaXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CbG9ja1BhaXIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5lbmNvZGVyIHsqL1xuaW1wb3J0IEVuY29kZUhpbnRUeXBlIGZyb20gJy4uLy4uL0VuY29kZUhpbnRUeXBlJztcbmltcG9ydCBCaXRBcnJheSBmcm9tICcuLi8uLi9jb21tb24vQml0QXJyYXknO1xuaW1wb3J0IENoYXJhY3RlclNldEVDSSBmcm9tICcuLi8uLi9jb21tb24vQ2hhcmFjdGVyU2V0RUNJJztcbmltcG9ydCBHZW5lcmljR0YgZnJvbSAnLi4vLi4vY29tbW9uL3JlZWRzb2xvbW9uL0dlbmVyaWNHRic7XG5pbXBvcnQgUmVlZFNvbG9tb25FbmNvZGVyIGZyb20gJy4uLy4uL2NvbW1vbi9yZWVkc29sb21vbi9SZWVkU29sb21vbkVuY29kZXInO1xuaW1wb3J0IE1vZGUgZnJvbSAnLi4vZGVjb2Rlci9Nb2RlJztcbmltcG9ydCBWZXJzaW9uIGZyb20gJy4uL2RlY29kZXIvVmVyc2lvbic7XG5pbXBvcnQgTWFza1V0aWwgZnJvbSAnLi9NYXNrVXRpbCc7XG5pbXBvcnQgQnl0ZU1hdHJpeCBmcm9tICcuL0J5dGVNYXRyaXgnO1xuaW1wb3J0IFFSQ29kZSBmcm9tICcuL1FSQ29kZSc7XG5pbXBvcnQgTWF0cml4VXRpbCBmcm9tICcuL01hdHJpeFV0aWwnO1xuaW1wb3J0IFN0cmluZ0VuY29kaW5nIGZyb20gJy4uLy4uL3V0aWwvU3RyaW5nRW5jb2RpbmcnO1xuaW1wb3J0IEJsb2NrUGFpciBmcm9tICcuL0Jsb2NrUGFpcic7XG5pbXBvcnQgV3JpdGVyRXhjZXB0aW9uIGZyb20gJy4uLy4uL1dyaXRlckV4Y2VwdGlvbic7XG4vKmltcG9ydCBqYXZhLmlvLlVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb247Ki9cbi8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki9cbi8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uOyovXG4vKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovXG4vKipcbiAqIEBhdXRob3Igc2F0b3J1eEBnb29nbGUuY29tIChTYXRvcnUgVGFrYWJheWFzaGkpIC0gY3JlYXRvclxuICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikgLSBwb3J0ZWQgZnJvbSBDKytcbiAqL1xudmFyIEVuY29kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoYW5nZWQgdG8gVVRGOCwgdGhlIGRlZmF1bHQgZm9yIGpzXG4gICAgZnVuY3Rpb24gRW5jb2RlcigpIHtcbiAgICB9XG4gICAgLy8gVGhlIG1hc2sgcGVuYWx0eSBjYWxjdWxhdGlvbiBpcyBjb21wbGljYXRlZC4gIFNlZSBUYWJsZSAyMSBvZiBKSVNYMDUxMDoyMDA0IChwLjQ1KSBmb3IgZGV0YWlscy5cbiAgICAvLyBCYXNpY2FsbHkgaXQgYXBwbGllcyBmb3VyIHJ1bGVzIGFuZCBzdW1tYXRlIGFsbCBwZW5hbHRpZXMuXG4gICAgRW5jb2Rlci5jYWxjdWxhdGVNYXNrUGVuYWx0eSA9IGZ1bmN0aW9uIChtYXRyaXgpIHtcbiAgICAgICAgcmV0dXJuIE1hc2tVdGlsLmFwcGx5TWFza1BlbmFsdHlSdWxlMShtYXRyaXgpXG4gICAgICAgICAgICArIE1hc2tVdGlsLmFwcGx5TWFza1BlbmFsdHlSdWxlMihtYXRyaXgpXG4gICAgICAgICAgICArIE1hc2tVdGlsLmFwcGx5TWFza1BlbmFsdHlSdWxlMyhtYXRyaXgpXG4gICAgICAgICAgICArIE1hc2tVdGlsLmFwcGx5TWFza1BlbmFsdHlSdWxlNChtYXRyaXgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvbnRlbnQgdGV4dCB0byBlbmNvZGVcbiAgICAgKiBAcGFyYW0gZWNMZXZlbCBlcnJvciBjb3JyZWN0aW9uIGxldmVsIHRvIHVzZVxuICAgICAqIEByZXR1cm4ge0BsaW5rIFFSQ29kZX0gcmVwcmVzZW50aW5nIHRoZSBlbmNvZGVkIFFSIGNvZGVcbiAgICAgKiBAdGhyb3dzIFdyaXRlckV4Y2VwdGlvbiBpZiBlbmNvZGluZyBjYW4ndCBzdWNjZWVkLCBiZWNhdXNlIG9mIGZvciBleGFtcGxlIGludmFsaWQgY29udGVudFxuICAgICAqICAgb3IgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIC8vIHB1YmxpYyBzdGF0aWMgZW5jb2RlKGNvbnRlbnQ6IHN0cmluZywgZWNMZXZlbDogRXJyb3JDb3JyZWN0aW9uTGV2ZWwpOiBRUkNvZGUgLyp0aHJvd3MgV3JpdGVyRXhjZXB0aW9uKi8ge1xuICAgIC8vICAgcmV0dXJuIGVuY29kZShjb250ZW50LCBlY0xldmVsLCBudWxsKVxuICAgIC8vIH1cbiAgICBFbmNvZGVyLmVuY29kZSA9IGZ1bmN0aW9uIChjb250ZW50LCBlY0xldmVsLCBoaW50cykge1xuICAgICAgICBpZiAoaGludHMgPT09IHZvaWQgMCkgeyBoaW50cyA9IG51bGw7IH1cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoYXQgY2hhcmFjdGVyIGVuY29kaW5nIGhhcyBiZWVuIHNwZWNpZmllZCBieSB0aGUgY2FsbGVyLCBpZiBhbnlcbiAgICAgICAgdmFyIGVuY29kaW5nID0gRW5jb2Rlci5ERUZBVUxUX0JZVEVfTU9ERV9FTkNPRElORztcbiAgICAgICAgdmFyIGhhc0VuY29kaW5nSGludCA9IGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KEVuY29kZUhpbnRUeXBlLkNIQVJBQ1RFUl9TRVQpO1xuICAgICAgICBpZiAoaGFzRW5jb2RpbmdIaW50KSB7XG4gICAgICAgICAgICBlbmNvZGluZyA9IGhpbnRzLmdldChFbmNvZGVIaW50VHlwZS5DSEFSQUNURVJfU0VUKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBpY2sgYW4gZW5jb2RpbmcgbW9kZSBhcHByb3ByaWF0ZSBmb3IgdGhlIGNvbnRlbnQuIE5vdGUgdGhhdCB0aGlzIHdpbGwgbm90IGF0dGVtcHQgdG8gdXNlXG4gICAgICAgIC8vIG11bHRpcGxlIG1vZGVzIC8gc2VnbWVudHMgZXZlbiBpZiB0aGF0IHdlcmUgbW9yZSBlZmZpY2llbnQuIFR3b3VsZCBiZSBuaWNlLlxuICAgICAgICB2YXIgbW9kZSA9IHRoaXMuY2hvb3NlTW9kZShjb250ZW50LCBlbmNvZGluZyk7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBzdG9yZSB0aGUgaGVhZGVyIGluZm9ybWF0aW9uLCBsaWtlIG1vZGUgYW5kXG4gICAgICAgIC8vIGxlbmd0aCwgYXMgd2VsbCBhcyBcImhlYWRlclwiIHNlZ21lbnRzIGxpa2UgYW4gRUNJIHNlZ21lbnQuXG4gICAgICAgIHZhciBoZWFkZXJCaXRzID0gbmV3IEJpdEFycmF5KCk7XG4gICAgICAgIC8vIEFwcGVuZCBFQ0kgc2VnbWVudCBpZiBhcHBsaWNhYmxlXG4gICAgICAgIGlmIChtb2RlID09PSBNb2RlLkJZVEUgJiYgKGhhc0VuY29kaW5nSGludCB8fCBFbmNvZGVyLkRFRkFVTFRfQllURV9NT0RFX0VOQ09ESU5HICE9PSBlbmNvZGluZykpIHtcbiAgICAgICAgICAgIHZhciBlY2kgPSBDaGFyYWN0ZXJTZXRFQ0kuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTtcbiAgICAgICAgICAgIGlmIChlY2kgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kRUNJKGVjaSwgaGVhZGVyQml0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gKFdpdGggRUNJIGluIHBsYWNlLCkgV3JpdGUgdGhlIG1vZGUgbWFya2VyXG4gICAgICAgIHRoaXMuYXBwZW5kTW9kZUluZm8obW9kZSwgaGVhZGVyQml0cyk7XG4gICAgICAgIC8vIENvbGxlY3QgZGF0YSB3aXRoaW4gdGhlIG1haW4gc2VnbWVudCwgc2VwYXJhdGVseSwgdG8gY291bnQgaXRzIHNpemUgaWYgbmVlZGVkLiBEb24ndCBhZGQgaXQgdG9cbiAgICAgICAgLy8gbWFpbiBwYXlsb2FkIHlldC5cbiAgICAgICAgdmFyIGRhdGFCaXRzID0gbmV3IEJpdEFycmF5KCk7XG4gICAgICAgIHRoaXMuYXBwZW5kQnl0ZXMoY29udGVudCwgbW9kZSwgZGF0YUJpdHMsIGVuY29kaW5nKTtcbiAgICAgICAgdmFyIHZlcnNpb247XG4gICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChFbmNvZGVIaW50VHlwZS5RUl9WRVJTSU9OKSkge1xuICAgICAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSBOdW1iZXIucGFyc2VJbnQoaGludHMuZ2V0KEVuY29kZUhpbnRUeXBlLlFSX1ZFUlNJT04pLnRvU3RyaW5nKCksIDEwKTtcbiAgICAgICAgICAgIHZlcnNpb24gPSBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIodmVyc2lvbk51bWJlcik7XG4gICAgICAgICAgICB2YXIgYml0c05lZWRlZCA9IHRoaXMuY2FsY3VsYXRlQml0c05lZWRlZChtb2RlLCBoZWFkZXJCaXRzLCBkYXRhQml0cywgdmVyc2lvbik7XG4gICAgICAgICAgICBpZiAoIXRoaXMud2lsbEZpdChiaXRzTmVlZGVkLCB2ZXJzaW9uLCBlY0xldmVsKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24oJ0RhdGEgdG9vIGJpZyBmb3IgcmVxdWVzdGVkIHZlcnNpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZlcnNpb24gPSB0aGlzLnJlY29tbWVuZFZlcnNpb24oZWNMZXZlbCwgbW9kZSwgaGVhZGVyQml0cywgZGF0YUJpdHMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoZWFkZXJBbmREYXRhQml0cyA9IG5ldyBCaXRBcnJheSgpO1xuICAgICAgICBoZWFkZXJBbmREYXRhQml0cy5hcHBlbmRCaXRBcnJheShoZWFkZXJCaXRzKTtcbiAgICAgICAgLy8gRmluZCBcImxlbmd0aFwiIG9mIG1haW4gc2VnbWVudCBhbmQgd3JpdGUgaXRcbiAgICAgICAgdmFyIG51bUxldHRlcnMgPSBtb2RlID09PSBNb2RlLkJZVEUgPyBkYXRhQml0cy5nZXRTaXplSW5CeXRlcygpIDogY29udGVudC5sZW5ndGg7XG4gICAgICAgIHRoaXMuYXBwZW5kTGVuZ3RoSW5mbyhudW1MZXR0ZXJzLCB2ZXJzaW9uLCBtb2RlLCBoZWFkZXJBbmREYXRhQml0cyk7XG4gICAgICAgIC8vIFB1dCBkYXRhIHRvZ2V0aGVyIGludG8gdGhlIG92ZXJhbGwgcGF5bG9hZFxuICAgICAgICBoZWFkZXJBbmREYXRhQml0cy5hcHBlbmRCaXRBcnJheShkYXRhQml0cyk7XG4gICAgICAgIHZhciBlY0Jsb2NrcyA9IHZlcnNpb24uZ2V0RUNCbG9ja3NGb3JMZXZlbChlY0xldmVsKTtcbiAgICAgICAgdmFyIG51bURhdGFCeXRlcyA9IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSAtIGVjQmxvY2tzLmdldFRvdGFsRUNDb2Rld29yZHMoKTtcbiAgICAgICAgLy8gVGVybWluYXRlIHRoZSBiaXRzIHByb3Blcmx5LlxuICAgICAgICB0aGlzLnRlcm1pbmF0ZUJpdHMobnVtRGF0YUJ5dGVzLCBoZWFkZXJBbmREYXRhQml0cyk7XG4gICAgICAgIC8vIEludGVybGVhdmUgZGF0YSBiaXRzIHdpdGggZXJyb3IgY29ycmVjdGlvbiBjb2RlLlxuICAgICAgICB2YXIgZmluYWxCaXRzID0gdGhpcy5pbnRlcmxlYXZlV2l0aEVDQnl0ZXMoaGVhZGVyQW5kRGF0YUJpdHMsIHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSwgbnVtRGF0YUJ5dGVzLCBlY0Jsb2Nrcy5nZXROdW1CbG9ja3MoKSk7XG4gICAgICAgIHZhciBxckNvZGUgPSBuZXcgUVJDb2RlKCk7XG4gICAgICAgIHFyQ29kZS5zZXRFQ0xldmVsKGVjTGV2ZWwpO1xuICAgICAgICBxckNvZGUuc2V0TW9kZShtb2RlKTtcbiAgICAgICAgcXJDb2RlLnNldFZlcnNpb24odmVyc2lvbik7XG4gICAgICAgIC8vICBDaG9vc2UgdGhlIG1hc2sgcGF0dGVybiBhbmQgc2V0IHRvIFwicXJDb2RlXCIuXG4gICAgICAgIHZhciBkaW1lbnNpb24gPSB2ZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCeXRlTWF0cml4KGRpbWVuc2lvbiwgZGltZW5zaW9uKTtcbiAgICAgICAgdmFyIG1hc2tQYXR0ZXJuID0gdGhpcy5jaG9vc2VNYXNrUGF0dGVybihmaW5hbEJpdHMsIGVjTGV2ZWwsIHZlcnNpb24sIG1hdHJpeCk7XG4gICAgICAgIHFyQ29kZS5zZXRNYXNrUGF0dGVybihtYXNrUGF0dGVybik7XG4gICAgICAgIC8vIEJ1aWxkIHRoZSBtYXRyaXggYW5kIHNldCBpdCB0byBcInFyQ29kZVwiLlxuICAgICAgICBNYXRyaXhVdGlsLmJ1aWxkTWF0cml4KGZpbmFsQml0cywgZWNMZXZlbCwgdmVyc2lvbiwgbWFza1BhdHRlcm4sIG1hdHJpeCk7XG4gICAgICAgIHFyQ29kZS5zZXRNYXRyaXgobWF0cml4KTtcbiAgICAgICAgcmV0dXJuIHFyQ29kZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlY2lkZXMgdGhlIHNtYWxsZXN0IHZlcnNpb24gb2YgUVIgY29kZSB0aGF0IHdpbGwgY29udGFpbiBhbGwgb2YgdGhlIHByb3ZpZGVkIGRhdGEuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIFdyaXRlckV4Y2VwdGlvbiBpZiB0aGUgZGF0YSBjYW5ub3QgZml0IGluIGFueSB2ZXJzaW9uXG4gICAgICovXG4gICAgRW5jb2Rlci5yZWNvbW1lbmRWZXJzaW9uID0gZnVuY3Rpb24gKGVjTGV2ZWwsIG1vZGUsIGhlYWRlckJpdHMsIGRhdGFCaXRzKSB7XG4gICAgICAgIC8vIEhhcmQgcGFydDogbmVlZCB0byBrbm93IHZlcnNpb24gdG8ga25vdyBob3cgbWFueSBiaXRzIGxlbmd0aCB0YWtlcy4gQnV0IG5lZWQgdG8ga25vdyBob3cgbWFueVxuICAgICAgICAvLyBiaXRzIGl0IHRha2VzIHRvIGtub3cgdmVyc2lvbi4gRmlyc3Qgd2UgdGFrZSBhIGd1ZXNzIGF0IHZlcnNpb24gYnkgYXNzdW1pbmcgdmVyc2lvbiB3aWxsIGJlXG4gICAgICAgIC8vIHRoZSBtaW5pbXVtLCAxOlxuICAgICAgICB2YXIgcHJvdmlzaW9uYWxCaXRzTmVlZGVkID0gdGhpcy5jYWxjdWxhdGVCaXRzTmVlZGVkKG1vZGUsIGhlYWRlckJpdHMsIGRhdGFCaXRzLCBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoMSkpO1xuICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gdGhpcy5jaG9vc2VWZXJzaW9uKHByb3Zpc2lvbmFsQml0c05lZWRlZCwgZWNMZXZlbCk7XG4gICAgICAgIC8vIFVzZSB0aGF0IGd1ZXNzIHRvIGNhbGN1bGF0ZSB0aGUgcmlnaHQgdmVyc2lvbi4gSSBhbSBzdGlsbCBub3Qgc3VyZSB0aGlzIHdvcmtzIGluIDEwMCUgb2YgY2FzZXMuXG4gICAgICAgIHZhciBiaXRzTmVlZGVkID0gdGhpcy5jYWxjdWxhdGVCaXRzTmVlZGVkKG1vZGUsIGhlYWRlckJpdHMsIGRhdGFCaXRzLCBwcm92aXNpb25hbFZlcnNpb24pO1xuICAgICAgICByZXR1cm4gdGhpcy5jaG9vc2VWZXJzaW9uKGJpdHNOZWVkZWQsIGVjTGV2ZWwpO1xuICAgIH07XG4gICAgRW5jb2Rlci5jYWxjdWxhdGVCaXRzTmVlZGVkID0gZnVuY3Rpb24gKG1vZGUsIGhlYWRlckJpdHMsIGRhdGFCaXRzLCB2ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXJCaXRzLmdldFNpemUoKSArIG1vZGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzKHZlcnNpb24pICsgZGF0YUJpdHMuZ2V0U2l6ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybiB0aGUgY29kZSBwb2ludCBvZiB0aGUgdGFibGUgdXNlZCBpbiBhbHBoYW51bWVyaWMgbW9kZSBvclxuICAgICAqICAtMSBpZiB0aGVyZSBpcyBubyBjb3JyZXNwb25kaW5nIGNvZGUgaW4gdGhlIHRhYmxlLlxuICAgICAqL1xuICAgIEVuY29kZXIuZ2V0QWxwaGFudW1lcmljQ29kZSA9IGZ1bmN0aW9uIChjb2RlIC8qaW50Ki8pIHtcbiAgICAgICAgaWYgKGNvZGUgPCBFbmNvZGVyLkFMUEhBTlVNRVJJQ19UQUJMRS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBFbmNvZGVyLkFMUEhBTlVNRVJJQ19UQUJMRVtjb2RlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgICAvLyBwdWJsaWMgc3RhdGljIGNob29zZU1vZGUoY29udGVudDogc3RyaW5nKTogTW9kZSB7XG4gICAgLy8gICByZXR1cm4gY2hvb3NlTW9kZShjb250ZW50LCBudWxsKTtcbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogQ2hvb3NlIHRoZSBiZXN0IG1vZGUgYnkgZXhhbWluaW5nIHRoZSBjb250ZW50LiBOb3RlIHRoYXQgJ2VuY29kaW5nJyBpcyB1c2VkIGFzIGEgaGludDtcbiAgICAgKiBpZiBpdCBpcyBTaGlmdF9KSVMsIGFuZCB0aGUgaW5wdXQgaXMgb25seSBkb3VibGUtYnl0ZSBLYW5qaSwgdGhlbiB3ZSByZXR1cm4ge0BsaW5rIE1vZGUjS0FOSkl9LlxuICAgICAqL1xuICAgIEVuY29kZXIuY2hvb3NlTW9kZSA9IGZ1bmN0aW9uIChjb250ZW50LCBlbmNvZGluZykge1xuICAgICAgICBpZiAoZW5jb2RpbmcgPT09IHZvaWQgMCkgeyBlbmNvZGluZyA9IG51bGw7IH1cbiAgICAgICAgaWYgKENoYXJhY3RlclNldEVDSS5TSklTLmdldE5hbWUoKSA9PT0gZW5jb2RpbmcgJiYgdGhpcy5pc09ubHlEb3VibGVCeXRlS2FuamkoY29udGVudCkpIHtcbiAgICAgICAgICAgIC8vIENob29zZSBLYW5qaSBtb2RlIGlmIGFsbCBpbnB1dCBhcmUgZG91YmxlLWJ5dGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgcmV0dXJuIE1vZGUuS0FOSkk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhhc051bWVyaWMgPSBmYWxzZTtcbiAgICAgICAgdmFyIGhhc0FscGhhbnVtZXJpYyA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBjb250ZW50Lmxlbmd0aDsgaSA8IGxlbmd0aF8xOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjID0gY29udGVudC5jaGFyQXQoaSk7XG4gICAgICAgICAgICBpZiAoRW5jb2Rlci5pc0RpZ2l0KGMpKSB7XG4gICAgICAgICAgICAgICAgaGFzTnVtZXJpYyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmdldEFscGhhbnVtZXJpY0NvZGUoYy5jaGFyQ29kZUF0KDApKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBoYXNBbHBoYW51bWVyaWMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1vZGUuQllURTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzQWxwaGFudW1lcmljKSB7XG4gICAgICAgICAgICByZXR1cm4gTW9kZS5BTFBIQU5VTUVSSUM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc051bWVyaWMpIHtcbiAgICAgICAgICAgIHJldHVybiBNb2RlLk5VTUVSSUM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1vZGUuQllURTtcbiAgICB9O1xuICAgIEVuY29kZXIuaXNPbmx5RG91YmxlQnl0ZUthbmppID0gZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgdmFyIGJ5dGVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYnl0ZXMgPSBTdHJpbmdFbmNvZGluZy5lbmNvZGUoY29udGVudCwgQ2hhcmFjdGVyU2V0RUNJLlNKSVMpOyAvLyBjb250ZW50LmdldEJ5dGVzKFwiU2hpZnRfSklTXCIpKVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBVbnN1cHBvcnRlZEVuY29kaW5nRXhjZXB0aW9uKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciBieXRlMSA9IGJ5dGVzW2ldICYgMHhGRjtcbiAgICAgICAgICAgIGlmICgoYnl0ZTEgPCAweDgxIHx8IGJ5dGUxID4gMHg5RikgJiYgKGJ5dGUxIDwgMHhFMCB8fCBieXRlMSA+IDB4RUIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgRW5jb2Rlci5jaG9vc2VNYXNrUGF0dGVybiA9IGZ1bmN0aW9uIChiaXRzLCBlY0xldmVsLCB2ZXJzaW9uLCBtYXRyaXgpIHtcbiAgICAgICAgdmFyIG1pblBlbmFsdHkgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjsgLy8gTG93ZXIgcGVuYWx0eSBpcyBiZXR0ZXIuXG4gICAgICAgIHZhciBiZXN0TWFza1BhdHRlcm4gPSAtMTtcbiAgICAgICAgLy8gV2UgdHJ5IGFsbCBtYXNrIHBhdHRlcm5zIHRvIGNob29zZSB0aGUgYmVzdCBvbmUuXG4gICAgICAgIGZvciAodmFyIG1hc2tQYXR0ZXJuID0gMDsgbWFza1BhdHRlcm4gPCBRUkNvZGUuTlVNX01BU0tfUEFUVEVSTlM7IG1hc2tQYXR0ZXJuKyspIHtcbiAgICAgICAgICAgIE1hdHJpeFV0aWwuYnVpbGRNYXRyaXgoYml0cywgZWNMZXZlbCwgdmVyc2lvbiwgbWFza1BhdHRlcm4sIG1hdHJpeCk7XG4gICAgICAgICAgICB2YXIgcGVuYWx0eSA9IHRoaXMuY2FsY3VsYXRlTWFza1BlbmFsdHkobWF0cml4KTtcbiAgICAgICAgICAgIGlmIChwZW5hbHR5IDwgbWluUGVuYWx0eSkge1xuICAgICAgICAgICAgICAgIG1pblBlbmFsdHkgPSBwZW5hbHR5O1xuICAgICAgICAgICAgICAgIGJlc3RNYXNrUGF0dGVybiA9IG1hc2tQYXR0ZXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXN0TWFza1BhdHRlcm47XG4gICAgfTtcbiAgICBFbmNvZGVyLmNob29zZVZlcnNpb24gPSBmdW5jdGlvbiAobnVtSW5wdXRCaXRzIC8qaW50Ki8sIGVjTGV2ZWwpIHtcbiAgICAgICAgZm9yICh2YXIgdmVyc2lvbk51bSA9IDE7IHZlcnNpb25OdW0gPD0gNDA7IHZlcnNpb25OdW0rKykge1xuICAgICAgICAgICAgdmFyIHZlcnNpb24gPSBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIodmVyc2lvbk51bSk7XG4gICAgICAgICAgICBpZiAoRW5jb2Rlci53aWxsRml0KG51bUlucHV0Qml0cywgdmVyc2lvbiwgZWNMZXZlbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKCdEYXRhIHRvbyBiaWcnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgbnVtYmVyIG9mIGlucHV0IGJpdHMgd2lsbCBmaXQgaW4gYSBjb2RlIHdpdGggdGhlIHNwZWNpZmllZCB2ZXJzaW9uIGFuZFxuICAgICAqIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwuXG4gICAgICovXG4gICAgRW5jb2Rlci53aWxsRml0ID0gZnVuY3Rpb24gKG51bUlucHV0Qml0cyAvKmludCovLCB2ZXJzaW9uLCBlY0xldmVsKSB7XG4gICAgICAgIC8vIEluIHRoZSBmb2xsb3dpbmcgY29tbWVudHMsIHdlIHVzZSBudW1iZXJzIG9mIFZlcnNpb24gNy1ILlxuICAgICAgICAvLyBudW1CeXRlcyA9IDE5NlxuICAgICAgICB2YXIgbnVtQnl0ZXMgPSB2ZXJzaW9uLmdldFRvdGFsQ29kZXdvcmRzKCk7XG4gICAgICAgIC8vIGdldE51bUVDQnl0ZXMgPSAxMzBcbiAgICAgICAgdmFyIGVjQmxvY2tzID0gdmVyc2lvbi5nZXRFQ0Jsb2Nrc0ZvckxldmVsKGVjTGV2ZWwpO1xuICAgICAgICB2YXIgbnVtRWNCeXRlcyA9IGVjQmxvY2tzLmdldFRvdGFsRUNDb2Rld29yZHMoKTtcbiAgICAgICAgLy8gZ2V0TnVtRGF0YUJ5dGVzID0gMTk2IC0gMTMwID0gNjZcbiAgICAgICAgdmFyIG51bURhdGFCeXRlcyA9IG51bUJ5dGVzIC0gbnVtRWNCeXRlcztcbiAgICAgICAgdmFyIHRvdGFsSW5wdXRCeXRlcyA9IChudW1JbnB1dEJpdHMgKyA3KSAvIDg7XG4gICAgICAgIHJldHVybiBudW1EYXRhQnl0ZXMgPj0gdG90YWxJbnB1dEJ5dGVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVybWluYXRlIGJpdHMgYXMgZGVzY3JpYmVkIGluIDguNC44IGFuZCA4LjQuOSBvZiBKSVNYMDUxMDoyMDA0IChwLjI0KS5cbiAgICAgKi9cbiAgICBFbmNvZGVyLnRlcm1pbmF0ZUJpdHMgPSBmdW5jdGlvbiAobnVtRGF0YUJ5dGVzIC8qaW50Ki8sIGJpdHMpIHtcbiAgICAgICAgdmFyIGNhcGFjaXR5ID0gbnVtRGF0YUJ5dGVzICogODtcbiAgICAgICAgaWYgKGJpdHMuZ2V0U2l6ZSgpID4gY2FwYWNpdHkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24oJ2RhdGEgYml0cyBjYW5ub3QgZml0IGluIHRoZSBRUiBDb2RlJyArIGJpdHMuZ2V0U2l6ZSgpICsgJyA+ICcgK1xuICAgICAgICAgICAgICAgIGNhcGFjaXR5KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQgJiYgYml0cy5nZXRTaXplKCkgPCBjYXBhY2l0eTsgKytpKSB7XG4gICAgICAgICAgICBiaXRzLmFwcGVuZEJpdChmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXBwZW5kIHRlcm1pbmF0aW9uIGJpdHMuIFNlZSA4LjQuOCBvZiBKSVNYMDUxMDoyMDA0IChwLjI0KSBmb3IgZGV0YWlscy5cbiAgICAgICAgLy8gSWYgdGhlIGxhc3QgYnl0ZSBpc24ndCA4LWJpdCBhbGlnbmVkLCB3ZSdsbCBhZGQgcGFkZGluZyBiaXRzLlxuICAgICAgICB2YXIgbnVtQml0c0luTGFzdEJ5dGUgPSBiaXRzLmdldFNpemUoKSAmIDB4MDc7XG4gICAgICAgIGlmIChudW1CaXRzSW5MYXN0Qnl0ZSA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBudW1CaXRzSW5MYXN0Qnl0ZTsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgIGJpdHMuYXBwZW5kQml0KGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBoYXZlIG1vcmUgc3BhY2UsIHdlJ2xsIGZpbGwgdGhlIHNwYWNlIHdpdGggcGFkZGluZyBwYXR0ZXJucyBkZWZpbmVkIGluIDguNC45IChwLjI0KS5cbiAgICAgICAgdmFyIG51bVBhZGRpbmdCeXRlcyA9IG51bURhdGFCeXRlcyAtIGJpdHMuZ2V0U2l6ZUluQnl0ZXMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1QYWRkaW5nQnl0ZXM7ICsraSkge1xuICAgICAgICAgICAgYml0cy5hcHBlbmRCaXRzKChpICYgMHgwMSkgPT09IDAgPyAweEVDIDogMHgxMSwgOCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJpdHMuZ2V0U2l6ZSgpICE9PSBjYXBhY2l0eSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdyaXRlckV4Y2VwdGlvbignQml0cyBzaXplIGRvZXMgbm90IGVxdWFsIGNhcGFjaXR5Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldCBudW1iZXIgb2YgZGF0YSBieXRlcyBhbmQgbnVtYmVyIG9mIGVycm9yIGNvcnJlY3Rpb24gYnl0ZXMgZm9yIGJsb2NrIGlkIFwiYmxvY2tJRFwiLiBTdG9yZVxuICAgICAqIHRoZSByZXN1bHQgaW4gXCJudW1EYXRhQnl0ZXNJbkJsb2NrXCIsIGFuZCBcIm51bUVDQnl0ZXNJbkJsb2NrXCIuIFNlZSB0YWJsZSAxMiBpbiA4LjUuMSBvZlxuICAgICAqIEpJU1gwNTEwOjIwMDQgKHAuMzApXG4gICAgICovXG4gICAgRW5jb2Rlci5nZXROdW1EYXRhQnl0ZXNBbmROdW1FQ0J5dGVzRm9yQmxvY2tJRCA9IGZ1bmN0aW9uIChudW1Ub3RhbEJ5dGVzIC8qaW50Ki8sIG51bURhdGFCeXRlcyAvKmludCovLCBudW1SU0Jsb2NrcyAvKmludCovLCBibG9ja0lEIC8qaW50Ki8sIG51bURhdGFCeXRlc0luQmxvY2ssIG51bUVDQnl0ZXNJbkJsb2NrKSB7XG4gICAgICAgIGlmIChibG9ja0lEID49IG51bVJTQmxvY2tzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKCdCbG9jayBJRCB0b28gbGFyZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBudW1Sc0Jsb2Nrc0luR3JvdXAyID0gMTk2ICUgNSA9IDFcbiAgICAgICAgdmFyIG51bVJzQmxvY2tzSW5Hcm91cDIgPSBudW1Ub3RhbEJ5dGVzICUgbnVtUlNCbG9ja3M7XG4gICAgICAgIC8vIG51bVJzQmxvY2tzSW5Hcm91cDEgPSA1IC0gMSA9IDRcbiAgICAgICAgdmFyIG51bVJzQmxvY2tzSW5Hcm91cDEgPSBudW1SU0Jsb2NrcyAtIG51bVJzQmxvY2tzSW5Hcm91cDI7XG4gICAgICAgIC8vIG51bVRvdGFsQnl0ZXNJbkdyb3VwMSA9IDE5NiAvIDUgPSAzOVxuICAgICAgICB2YXIgbnVtVG90YWxCeXRlc0luR3JvdXAxID0gTWF0aC5mbG9vcihudW1Ub3RhbEJ5dGVzIC8gbnVtUlNCbG9ja3MpO1xuICAgICAgICAvLyBudW1Ub3RhbEJ5dGVzSW5Hcm91cDIgPSAzOSArIDEgPSA0MFxuICAgICAgICB2YXIgbnVtVG90YWxCeXRlc0luR3JvdXAyID0gbnVtVG90YWxCeXRlc0luR3JvdXAxICsgMTtcbiAgICAgICAgLy8gbnVtRGF0YUJ5dGVzSW5Hcm91cDEgPSA2NiAvIDUgPSAxM1xuICAgICAgICB2YXIgbnVtRGF0YUJ5dGVzSW5Hcm91cDEgPSBNYXRoLmZsb29yKG51bURhdGFCeXRlcyAvIG51bVJTQmxvY2tzKTtcbiAgICAgICAgLy8gbnVtRGF0YUJ5dGVzSW5Hcm91cDIgPSAxMyArIDEgPSAxNFxuICAgICAgICB2YXIgbnVtRGF0YUJ5dGVzSW5Hcm91cDIgPSBudW1EYXRhQnl0ZXNJbkdyb3VwMSArIDE7XG4gICAgICAgIC8vIG51bUVjQnl0ZXNJbkdyb3VwMSA9IDM5IC0gMTMgPSAyNlxuICAgICAgICB2YXIgbnVtRWNCeXRlc0luR3JvdXAxID0gbnVtVG90YWxCeXRlc0luR3JvdXAxIC0gbnVtRGF0YUJ5dGVzSW5Hcm91cDE7XG4gICAgICAgIC8vIG51bUVjQnl0ZXNJbkdyb3VwMiA9IDQwIC0gMTQgPSAyNlxuICAgICAgICB2YXIgbnVtRWNCeXRlc0luR3JvdXAyID0gbnVtVG90YWxCeXRlc0luR3JvdXAyIC0gbnVtRGF0YUJ5dGVzSW5Hcm91cDI7XG4gICAgICAgIC8vIFNhbml0eSBjaGVja3MuXG4gICAgICAgIC8vIDI2ID0gMjZcbiAgICAgICAgaWYgKG51bUVjQnl0ZXNJbkdyb3VwMSAhPT0gbnVtRWNCeXRlc0luR3JvdXAyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKCdFQyBieXRlcyBtaXNtYXRjaCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDUgPSA0ICsgMS5cbiAgICAgICAgaWYgKG51bVJTQmxvY2tzICE9PSBudW1Sc0Jsb2Nrc0luR3JvdXAxICsgbnVtUnNCbG9ja3NJbkdyb3VwMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdyaXRlckV4Y2VwdGlvbignUlMgYmxvY2tzIG1pc21hdGNoJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMTk2ID0gKDEzICsgMjYpICogNCArICgxNCArIDI2KSAqIDFcbiAgICAgICAgaWYgKG51bVRvdGFsQnl0ZXMgIT09XG4gICAgICAgICAgICAoKG51bURhdGFCeXRlc0luR3JvdXAxICsgbnVtRWNCeXRlc0luR3JvdXAxKSAqXG4gICAgICAgICAgICAgICAgbnVtUnNCbG9ja3NJbkdyb3VwMSkgK1xuICAgICAgICAgICAgICAgICgobnVtRGF0YUJ5dGVzSW5Hcm91cDIgKyBudW1FY0J5dGVzSW5Hcm91cDIpICpcbiAgICAgICAgICAgICAgICAgICAgbnVtUnNCbG9ja3NJbkdyb3VwMikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24oJ1RvdGFsIGJ5dGVzIG1pc21hdGNoJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJsb2NrSUQgPCBudW1Sc0Jsb2Nrc0luR3JvdXAxKSB7XG4gICAgICAgICAgICBudW1EYXRhQnl0ZXNJbkJsb2NrWzBdID0gbnVtRGF0YUJ5dGVzSW5Hcm91cDE7XG4gICAgICAgICAgICBudW1FQ0J5dGVzSW5CbG9ja1swXSA9IG51bUVjQnl0ZXNJbkdyb3VwMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG51bURhdGFCeXRlc0luQmxvY2tbMF0gPSBudW1EYXRhQnl0ZXNJbkdyb3VwMjtcbiAgICAgICAgICAgIG51bUVDQnl0ZXNJbkJsb2NrWzBdID0gbnVtRWNCeXRlc0luR3JvdXAyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcmxlYXZlIFwiYml0c1wiIHdpdGggY29ycmVzcG9uZGluZyBlcnJvciBjb3JyZWN0aW9uIGJ5dGVzLiBPbiBzdWNjZXNzLCBzdG9yZSB0aGUgcmVzdWx0IGluXG4gICAgICogXCJyZXN1bHRcIi4gVGhlIGludGVybGVhdmUgcnVsZSBpcyBjb21wbGljYXRlZC4gU2VlIDguNiBvZiBKSVNYMDUxMDoyMDA0IChwLjM3KSBmb3IgZGV0YWlscy5cbiAgICAgKi9cbiAgICBFbmNvZGVyLmludGVybGVhdmVXaXRoRUNCeXRlcyA9IGZ1bmN0aW9uIChiaXRzLCBudW1Ub3RhbEJ5dGVzIC8qaW50Ki8sIG51bURhdGFCeXRlcyAvKmludCovLCBudW1SU0Jsb2NrcyAvKmludCovKSB7XG4gICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICAvLyBcImJpdHNcIiBtdXN0IGhhdmUgXCJnZXROdW1EYXRhQnl0ZXNcIiBieXRlcyBvZiBkYXRhLlxuICAgICAgICBpZiAoYml0cy5nZXRTaXplSW5CeXRlcygpICE9PSBudW1EYXRhQnl0ZXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24oJ051bWJlciBvZiBiaXRzIGFuZCBkYXRhIGJ5dGVzIGRvZXMgbm90IG1hdGNoJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RlcCAxLiAgRGl2aWRlIGRhdGEgYnl0ZXMgaW50byBibG9ja3MgYW5kIGdlbmVyYXRlIGVycm9yIGNvcnJlY3Rpb24gYnl0ZXMgZm9yIHRoZW0uIFdlJ2xsXG4gICAgICAgIC8vIHN0b3JlIHRoZSBkaXZpZGVkIGRhdGEgYnl0ZXMgYmxvY2tzIGFuZCBlcnJvciBjb3JyZWN0aW9uIGJ5dGVzIGJsb2NrcyBpbnRvIFwiYmxvY2tzXCIuXG4gICAgICAgIHZhciBkYXRhQnl0ZXNPZmZzZXQgPSAwO1xuICAgICAgICB2YXIgbWF4TnVtRGF0YUJ5dGVzID0gMDtcbiAgICAgICAgdmFyIG1heE51bUVjQnl0ZXMgPSAwO1xuICAgICAgICAvLyBTaW5jZSwgd2Uga25vdyB0aGUgbnVtYmVyIG9mIHJlZWRzb2xtb24gYmxvY2tzLCB3ZSBjYW4gaW5pdGlhbGl6ZSB0aGUgdmVjdG9yIHdpdGggdGhlIG51bWJlci5cbiAgICAgICAgdmFyIGJsb2NrcyA9IG5ldyBBcnJheSgpOyAvLyBuZXcgQXJyYXk8QmxvY2tQYWlyPihudW1SU0Jsb2NrcylcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1SU0Jsb2NrczsgKytpKSB7XG4gICAgICAgICAgICB2YXIgbnVtRGF0YUJ5dGVzSW5CbG9jayA9IG5ldyBJbnQzMkFycmF5KDEpO1xuICAgICAgICAgICAgdmFyIG51bUVjQnl0ZXNJbkJsb2NrID0gbmV3IEludDMyQXJyYXkoMSk7XG4gICAgICAgICAgICBFbmNvZGVyLmdldE51bURhdGFCeXRlc0FuZE51bUVDQnl0ZXNGb3JCbG9ja0lEKG51bVRvdGFsQnl0ZXMsIG51bURhdGFCeXRlcywgbnVtUlNCbG9ja3MsIGksIG51bURhdGFCeXRlc0luQmxvY2ssIG51bUVjQnl0ZXNJbkJsb2NrKTtcbiAgICAgICAgICAgIHZhciBzaXplID0gbnVtRGF0YUJ5dGVzSW5CbG9ja1swXTtcbiAgICAgICAgICAgIHZhciBkYXRhQnl0ZXMgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICAgICAgICAgIGJpdHMudG9CeXRlcyg4ICogZGF0YUJ5dGVzT2Zmc2V0LCBkYXRhQnl0ZXMsIDAsIHNpemUpO1xuICAgICAgICAgICAgdmFyIGVjQnl0ZXMgPSBFbmNvZGVyLmdlbmVyYXRlRUNCeXRlcyhkYXRhQnl0ZXMsIG51bUVjQnl0ZXNJbkJsb2NrWzBdKTtcbiAgICAgICAgICAgIGJsb2Nrcy5wdXNoKG5ldyBCbG9ja1BhaXIoZGF0YUJ5dGVzLCBlY0J5dGVzKSk7XG4gICAgICAgICAgICBtYXhOdW1EYXRhQnl0ZXMgPSBNYXRoLm1heChtYXhOdW1EYXRhQnl0ZXMsIHNpemUpO1xuICAgICAgICAgICAgbWF4TnVtRWNCeXRlcyA9IE1hdGgubWF4KG1heE51bUVjQnl0ZXMsIGVjQnl0ZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGRhdGFCeXRlc09mZnNldCArPSBudW1EYXRhQnl0ZXNJbkJsb2NrWzBdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChudW1EYXRhQnl0ZXMgIT09IGRhdGFCeXRlc09mZnNldCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdyaXRlckV4Y2VwdGlvbignRGF0YSBieXRlcyBkb2VzIG5vdCBtYXRjaCBvZmZzZXQnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEJpdEFycmF5KCk7XG4gICAgICAgIC8vIEZpcnN0LCBwbGFjZSBkYXRhIGJsb2Nrcy5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhOdW1EYXRhQnl0ZXM7ICsraSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBibG9ja3NfMSA9IChlXzEgPSB2b2lkIDAsIF9fdmFsdWVzKGJsb2NrcykpLCBibG9ja3NfMV8xID0gYmxvY2tzXzEubmV4dCgpOyAhYmxvY2tzXzFfMS5kb25lOyBibG9ja3NfMV8xID0gYmxvY2tzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBibG9jayA9IGJsb2Nrc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhQnl0ZXMgPSBibG9jay5nZXREYXRhQnl0ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBkYXRhQnl0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kQml0cyhkYXRhQnl0ZXNbaV0sIDgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NfMV8xICYmICFibG9ja3NfMV8xLmRvbmUgJiYgKF9hID0gYmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChibG9ja3NfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVuLCBwbGFjZSBlcnJvciBjb3JyZWN0aW9uIGJsb2Nrcy5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhOdW1FY0J5dGVzOyArK2kpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYmxvY2tzXzIgPSAoZV8yID0gdm9pZCAwLCBfX3ZhbHVlcyhibG9ja3MpKSwgYmxvY2tzXzJfMSA9IGJsb2Nrc18yLm5leHQoKTsgIWJsb2Nrc18yXzEuZG9uZTsgYmxvY2tzXzJfMSA9IGJsb2Nrc18yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmxvY2sgPSBibG9ja3NfMl8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWNCeXRlcyA9IGJsb2NrLmdldEVycm9yQ29ycmVjdGlvbkJ5dGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpIDwgZWNCeXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRCaXRzKGVjQnl0ZXNbaV0sIDgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9ja3NfMl8xICYmICFibG9ja3NfMl8xLmRvbmUgJiYgKF9iID0gYmxvY2tzXzIucmV0dXJuKSkgX2IuY2FsbChibG9ja3NfMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtVG90YWxCeXRlcyAhPT0gcmVzdWx0LmdldFNpemVJbkJ5dGVzKCkpIHsgLy8gU2hvdWxkIGJlIHNhbWUuXG4gICAgICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKCdJbnRlcmxlYXZpbmcgZXJyb3I6ICcgKyBudW1Ub3RhbEJ5dGVzICsgJyBhbmQgJyArXG4gICAgICAgICAgICAgICAgcmVzdWx0LmdldFNpemVJbkJ5dGVzKCkgKyAnIGRpZmZlci4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgRW5jb2Rlci5nZW5lcmF0ZUVDQnl0ZXMgPSBmdW5jdGlvbiAoZGF0YUJ5dGVzLCBudW1FY0J5dGVzSW5CbG9jayAvKmludCovKSB7XG4gICAgICAgIHZhciBudW1EYXRhQnl0ZXMgPSBkYXRhQnl0ZXMubGVuZ3RoO1xuICAgICAgICB2YXIgdG9FbmNvZGUgPSBuZXcgSW50MzJBcnJheShudW1EYXRhQnl0ZXMgKyBudW1FY0J5dGVzSW5CbG9jayk7IC8vIGludFtudW1EYXRhQnl0ZXMgKyBudW1FY0J5dGVzSW5CbG9ja11cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQnl0ZXM7IGkrKykge1xuICAgICAgICAgICAgdG9FbmNvZGVbaV0gPSBkYXRhQnl0ZXNbaV0gJiAweEZGO1xuICAgICAgICB9XG4gICAgICAgIG5ldyBSZWVkU29sb21vbkVuY29kZXIoR2VuZXJpY0dGLlFSX0NPREVfRklFTERfMjU2KS5lbmNvZGUodG9FbmNvZGUsIG51bUVjQnl0ZXNJbkJsb2NrKTtcbiAgICAgICAgdmFyIGVjQnl0ZXMgPSBuZXcgVWludDhBcnJheShudW1FY0J5dGVzSW5CbG9jayk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtRWNCeXRlc0luQmxvY2s7IGkrKykge1xuICAgICAgICAgICAgZWNCeXRlc1tpXSA9IC8qKGJ5dGUpICovIHRvRW5jb2RlW251bURhdGFCeXRlcyArIGldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlY0J5dGVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kIG1vZGUgaW5mby4gT24gc3VjY2Vzcywgc3RvcmUgdGhlIHJlc3VsdCBpbiBcImJpdHNcIi5cbiAgICAgKi9cbiAgICBFbmNvZGVyLmFwcGVuZE1vZGVJbmZvID0gZnVuY3Rpb24gKG1vZGUsIGJpdHMpIHtcbiAgICAgICAgYml0cy5hcHBlbmRCaXRzKG1vZGUuZ2V0Qml0cygpLCA0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGVuZCBsZW5ndGggaW5mby4gT24gc3VjY2Vzcywgc3RvcmUgdGhlIHJlc3VsdCBpbiBcImJpdHNcIi5cbiAgICAgKi9cbiAgICBFbmNvZGVyLmFwcGVuZExlbmd0aEluZm8gPSBmdW5jdGlvbiAobnVtTGV0dGVycyAvKmludCovLCB2ZXJzaW9uLCBtb2RlLCBiaXRzKSB7XG4gICAgICAgIHZhciBudW1CaXRzID0gbW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbik7XG4gICAgICAgIGlmIChudW1MZXR0ZXJzID49ICgxIDw8IG51bUJpdHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKG51bUxldHRlcnMgKyAnIGlzIGJpZ2dlciB0aGFuICcgKyAoKDEgPDwgbnVtQml0cykgLSAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgYml0cy5hcHBlbmRCaXRzKG51bUxldHRlcnMsIG51bUJpdHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwZW5kIFwiYnl0ZXNcIiBpbiBcIm1vZGVcIiBtb2RlIChlbmNvZGluZykgaW50byBcImJpdHNcIi4gT24gc3VjY2Vzcywgc3RvcmUgdGhlIHJlc3VsdCBpbiBcImJpdHNcIi5cbiAgICAgKi9cbiAgICBFbmNvZGVyLmFwcGVuZEJ5dGVzID0gZnVuY3Rpb24gKGNvbnRlbnQsIG1vZGUsIGJpdHMsIGVuY29kaW5nKSB7XG4gICAgICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgICAgICAgY2FzZSBNb2RlLk5VTUVSSUM6XG4gICAgICAgICAgICAgICAgRW5jb2Rlci5hcHBlbmROdW1lcmljQnl0ZXMoY29udGVudCwgYml0cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1vZGUuQUxQSEFOVU1FUklDOlxuICAgICAgICAgICAgICAgIEVuY29kZXIuYXBwZW5kQWxwaGFudW1lcmljQnl0ZXMoY29udGVudCwgYml0cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1vZGUuQllURTpcbiAgICAgICAgICAgICAgICBFbmNvZGVyLmFwcGVuZDhCaXRCeXRlcyhjb250ZW50LCBiaXRzLCBlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE1vZGUuS0FOSkk6XG4gICAgICAgICAgICAgICAgRW5jb2Rlci5hcHBlbmRLYW5qaUJ5dGVzKGNvbnRlbnQsIGJpdHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV3JpdGVyRXhjZXB0aW9uKCdJbnZhbGlkIG1vZGU6ICcgKyBtb2RlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRW5jb2Rlci5nZXREaWdpdCA9IGZ1bmN0aW9uIChzaW5nbGVDaGFyYWN0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHNpbmdsZUNoYXJhY3Rlci5jaGFyQ29kZUF0KDApIC0gNDg7XG4gICAgfTtcbiAgICBFbmNvZGVyLmlzRGlnaXQgPSBmdW5jdGlvbiAoc2luZ2xlQ2hhcmFjdGVyKSB7XG4gICAgICAgIHZhciBjbiA9IEVuY29kZXIuZ2V0RGlnaXQoc2luZ2xlQ2hhcmFjdGVyKTtcbiAgICAgICAgcmV0dXJuIGNuID49IDAgJiYgY24gPD0gOTtcbiAgICB9O1xuICAgIEVuY29kZXIuYXBwZW5kTnVtZXJpY0J5dGVzID0gZnVuY3Rpb24gKGNvbnRlbnQsIGJpdHMpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbnRlbnQubGVuZ3RoO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbnVtMSA9IEVuY29kZXIuZ2V0RGlnaXQoY29udGVudC5jaGFyQXQoaSkpO1xuICAgICAgICAgICAgaWYgKGkgKyAyIDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gRW5jb2RlIHRocmVlIG51bWVyaWMgbGV0dGVycyBpbiB0ZW4gYml0cy5cbiAgICAgICAgICAgICAgICB2YXIgbnVtMiA9IEVuY29kZXIuZ2V0RGlnaXQoY29udGVudC5jaGFyQXQoaSArIDEpKTtcbiAgICAgICAgICAgICAgICB2YXIgbnVtMyA9IEVuY29kZXIuZ2V0RGlnaXQoY29udGVudC5jaGFyQXQoaSArIDIpKTtcbiAgICAgICAgICAgICAgICBiaXRzLmFwcGVuZEJpdHMobnVtMSAqIDEwMCArIG51bTIgKiAxMCArIG51bTMsIDEwKTtcbiAgICAgICAgICAgICAgICBpICs9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpICsgMSA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIEVuY29kZSB0d28gbnVtZXJpYyBsZXR0ZXJzIGluIHNldmVuIGJpdHMuXG4gICAgICAgICAgICAgICAgdmFyIG51bTIgPSBFbmNvZGVyLmdldERpZ2l0KGNvbnRlbnQuY2hhckF0KGkgKyAxKSk7XG4gICAgICAgICAgICAgICAgYml0cy5hcHBlbmRCaXRzKG51bTEgKiAxMCArIG51bTIsIDcpO1xuICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVuY29kZSBvbmUgbnVtZXJpYyBsZXR0ZXIgaW4gZm91ciBiaXRzLlxuICAgICAgICAgICAgICAgIGJpdHMuYXBwZW5kQml0cyhudW0xLCA0KTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIuYXBwZW5kQWxwaGFudW1lcmljQnl0ZXMgPSBmdW5jdGlvbiAoY29udGVudCwgYml0cykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gY29udGVudC5sZW5ndGg7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjb2RlMSA9IEVuY29kZXIuZ2V0QWxwaGFudW1lcmljQ29kZShjb250ZW50LmNoYXJDb2RlQXQoaSkpO1xuICAgICAgICAgICAgaWYgKGNvZGUxID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpICsgMSA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjb2RlMiA9IEVuY29kZXIuZ2V0QWxwaGFudW1lcmljQ29kZShjb250ZW50LmNoYXJDb2RlQXQoaSArIDEpKTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZTIgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRW5jb2RlIHR3byBhbHBoYW51bWVyaWMgbGV0dGVycyBpbiAxMSBiaXRzLlxuICAgICAgICAgICAgICAgIGJpdHMuYXBwZW5kQml0cyhjb2RlMSAqIDQ1ICsgY29kZTIsIDExKTtcbiAgICAgICAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFbmNvZGUgb25lIGFscGhhbnVtZXJpYyBsZXR0ZXIgaW4gc2l4IGJpdHMuXG4gICAgICAgICAgICAgICAgYml0cy5hcHBlbmRCaXRzKGNvZGUxLCA2KTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEVuY29kZXIuYXBwZW5kOEJpdEJ5dGVzID0gZnVuY3Rpb24gKGNvbnRlbnQsIGJpdHMsIGVuY29kaW5nKSB7XG4gICAgICAgIHZhciBieXRlcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJ5dGVzID0gU3RyaW5nRW5jb2RpbmcuZW5jb2RlKGNvbnRlbnQsIGVuY29kaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAodWVlIC8qOiBVbnN1cHBvcnRlZEVuY29kaW5nRXhjZXB0aW9uKi8pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24odWVlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzIgPSBieXRlcy5sZW5ndGg7IGkgIT09IGxlbmd0aF8yOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBiID0gYnl0ZXNbaV07XG4gICAgICAgICAgICBiaXRzLmFwcGVuZEJpdHMoYiwgOCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEB0aHJvd3MgV3JpdGVyRXhjZXB0aW9uXG4gICAgICovXG4gICAgRW5jb2Rlci5hcHBlbmRLYW5qaUJ5dGVzID0gZnVuY3Rpb24gKGNvbnRlbnQsIGJpdHMpIHtcbiAgICAgICAgdmFyIGJ5dGVzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYnl0ZXMgPSBTdHJpbmdFbmNvZGluZy5lbmNvZGUoY29udGVudCwgQ2hhcmFjdGVyU2V0RUNJLlNKSVMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoICh1ZWUgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdyaXRlckV4Y2VwdGlvbih1ZWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBieXRlcy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciBieXRlMSA9IGJ5dGVzW2ldICYgMHhGRjtcbiAgICAgICAgICAgIHZhciBieXRlMiA9IGJ5dGVzW2kgKyAxXSAmIDB4RkY7XG4gICAgICAgICAgICB2YXIgY29kZSA9ICgoYnl0ZTEgPDwgOCkgJiAweEZGRkZGRkZGKSB8IGJ5dGUyO1xuICAgICAgICAgICAgdmFyIHN1YnRyYWN0ZWQgPSAtMTtcbiAgICAgICAgICAgIGlmIChjb2RlID49IDB4ODE0MCAmJiBjb2RlIDw9IDB4OWZmYykge1xuICAgICAgICAgICAgICAgIHN1YnRyYWN0ZWQgPSBjb2RlIC0gMHg4MTQwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA+PSAweGUwNDAgJiYgY29kZSA8PSAweGViYmYpIHtcbiAgICAgICAgICAgICAgICBzdWJ0cmFjdGVkID0gY29kZSAtIDB4YzE0MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdWJ0cmFjdGVkID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXcml0ZXJFeGNlcHRpb24oJ0ludmFsaWQgYnl0ZSBzZXF1ZW5jZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVuY29kZWQgPSAoKHN1YnRyYWN0ZWQgPj4gOCkgKiAweGMwKSArIChzdWJ0cmFjdGVkICYgMHhmZik7XG4gICAgICAgICAgICBiaXRzLmFwcGVuZEJpdHMoZW5jb2RlZCwgMTMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFbmNvZGVyLmFwcGVuZEVDSSA9IGZ1bmN0aW9uIChlY2ksIGJpdHMpIHtcbiAgICAgICAgYml0cy5hcHBlbmRCaXRzKE1vZGUuRUNJLmdldEJpdHMoKSwgNCk7XG4gICAgICAgIC8vIFRoaXMgaXMgY29ycmVjdCBmb3IgdmFsdWVzIHVwIHRvIDEyNywgd2hpY2ggaXMgYWxsIHdlIG5lZWQgbm93LlxuICAgICAgICBiaXRzLmFwcGVuZEJpdHMoZWNpLmdldFZhbHVlKCksIDgpO1xuICAgIH07XG4gICAgLy8gVGhlIG9yaWdpbmFsIHRhYmxlIGlzIGRlZmluZWQgaW4gdGhlIHRhYmxlIDUgb2YgSklTWDA1MTA6MjAwNCAocC4xOSkuXG4gICAgRW5jb2Rlci5BTFBIQU5VTUVSSUNfVEFCTEUgPSBJbnQzMkFycmF5LmZyb20oW1xuICAgICAgICAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSxcbiAgICAgICAgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsIC0xLCAtMSwgLTEsXG4gICAgICAgIDM2LCAtMSwgLTEsIC0xLCAzNywgMzgsIC0xLCAtMSwgLTEsIC0xLCAzOSwgNDAsIC0xLCA0MSwgNDIsIDQzLFxuICAgICAgICAwLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCA0NCwgLTEsIC0xLCAtMSwgLTEsIC0xLFxuICAgICAgICAtMSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTksIDIwLCAyMSwgMjIsIDIzLCAyNCxcbiAgICAgICAgMjUsIDI2LCAyNywgMjgsIDI5LCAzMCwgMzEsIDMyLCAzMywgMzQsIDM1LCAtMSwgLTEsIC0xLCAtMSwgLTEsXG4gICAgXSk7XG4gICAgRW5jb2Rlci5ERUZBVUxUX0JZVEVfTU9ERV9FTkNPRElORyA9IENoYXJhY3RlclNldEVDSS5VVEY4LmdldE5hbWUoKTsgLy8gXCJJU08tODg1OS0xXCJcbiAgICByZXR1cm4gRW5jb2Rlcjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBFbmNvZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW5jb2Rlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki9cbmltcG9ydCBTeXN0ZW0gZnJvbSAnLi91dGlsL1N5c3RlbSc7XG5pbXBvcnQgTHVtaW5hbmNlU291cmNlIGZyb20gJy4vTHVtaW5hbmNlU291cmNlJztcbmltcG9ydCBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSBmcm9tICcuL0ludmVydGVkTHVtaW5hbmNlU291cmNlJztcbmltcG9ydCBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gZnJvbSAnLi9JbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24nO1xuLyoqXG4gKiBUaGlzIG9iamVjdCBleHRlbmRzIEx1bWluYW5jZVNvdXJjZSBhcm91bmQgYW4gYXJyYXkgb2YgWVVWIGRhdGEgcmV0dXJuZWQgZnJvbSB0aGUgY2FtZXJhIGRyaXZlcixcbiAqIHdpdGggdGhlIG9wdGlvbiB0byBjcm9wIHRvIGEgcmVjdGFuZ2xlIHdpdGhpbiB0aGUgZnVsbCBkYXRhLiBUaGlzIGNhbiBiZSB1c2VkIHRvIGV4Y2x1ZGVcbiAqIHN1cGVyZmx1b3VzIHBpeGVscyBhcm91bmQgdGhlIHBlcmltZXRlciBhbmQgc3BlZWQgdXAgZGVjb2RpbmcuXG4gKlxuICogSXQgd29ya3MgZm9yIGFueSBwaXhlbCBmb3JtYXQgd2hlcmUgdGhlIFkgY2hhbm5lbCBpcyBwbGFuYXIgYW5kIGFwcGVhcnMgZmlyc3QsIGluY2x1ZGluZ1xuICogWUNiQ3JfNDIwX1NQIGFuZCBZQ2JDcl80MjJfU1AuXG4gKlxuICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbilcbiAqL1xudmFyIFBsYW5hcllVVkx1bWluYW5jZVNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGxhbmFyWVVWTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBsYW5hcllVVkx1bWluYW5jZVNvdXJjZSh5dXZEYXRhLCBkYXRhV2lkdGggLyppbnQqLywgZGF0YUhlaWdodCAvKmludCovLCBsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcmV2ZXJzZUhvcml6b250YWwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMueXV2RGF0YSA9IHl1dkRhdGE7XG4gICAgICAgIF90aGlzLmRhdGFXaWR0aCA9IGRhdGFXaWR0aDtcbiAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGRhdGFIZWlnaHQ7XG4gICAgICAgIF90aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICBfdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIGlmIChsZWZ0ICsgd2lkdGggPiBkYXRhV2lkdGggfHwgdG9wICsgaGVpZ2h0ID4gZGF0YUhlaWdodCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignQ3JvcCByZWN0YW5nbGUgZG9lcyBub3QgZml0IHdpdGhpbiBpbWFnZSBkYXRhLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXZlcnNlSG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgX3RoaXMucmV2ZXJzZUhvcml6b250YWwod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKkBPdmVycmlkZSovXG4gICAgUGxhbmFyWVVWTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHtcbiAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbignUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTtcbiAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHtcbiAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7XG4gICAgICAgIFN5c3RlbS5hcnJheWNvcHkodGhpcy55dXZEYXRhLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpO1xuICAgICAgICByZXR1cm4gcm93O1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIFBsYW5hcllVVkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpO1xuICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZVxuICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLlxuICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55dXZEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7XG4gICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7XG4gICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS5cbiAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkge1xuICAgICAgICAgICAgU3lzdGVtLmFycmF5Y29weSh0aGlzLnl1dkRhdGEsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpO1xuICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLlxuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoO1xuICAgICAgICAgICAgU3lzdGVtLmFycmF5Y29weSh0aGlzLnl1dkRhdGEsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpO1xuICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBQbGFuYXJZVVZMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgUGxhbmFyWVVWTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGxhbmFyWVVWTHVtaW5hbmNlU291cmNlKHRoaXMueXV2RGF0YSwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3AsIHdpZHRoLCBoZWlnaHQsIGZhbHNlKTtcbiAgICB9O1xuICAgIFBsYW5hcllVVkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucmVuZGVyVGh1bWJuYWlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCkgLyBQbGFuYXJZVVZMdW1pbmFuY2VTb3VyY2UuVEhVTUJOQUlMX1NDQUxFX0ZBQ1RPUjtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0KCkgLyBQbGFuYXJZVVZMdW1pbmFuY2VTb3VyY2UuVEhVTUJOQUlMX1NDQUxFX0ZBQ1RPUjtcbiAgICAgICAgdmFyIHBpeGVscyA9IG5ldyBJbnQzMkFycmF5KHdpZHRoICogaGVpZ2h0KTtcbiAgICAgICAgdmFyIHl1diA9IHRoaXMueXV2RGF0YTtcbiAgICAgICAgdmFyIGlucHV0T2Zmc2V0ID0gdGhpcy50b3AgKiB0aGlzLmRhdGFXaWR0aCArIHRoaXMubGVmdDtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBoZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgdmFyIG91dHB1dE9mZnNldCA9IHkgKiB3aWR0aDtcbiAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykge1xuICAgICAgICAgICAgICAgIHZhciBncmV5ID0geXV2W2lucHV0T2Zmc2V0ICsgeCAqIFBsYW5hcllVVkx1bWluYW5jZVNvdXJjZS5USFVNQk5BSUxfU0NBTEVfRkFDVE9SXSAmIDB4ZmY7XG4gICAgICAgICAgICAgICAgcGl4ZWxzW291dHB1dE9mZnNldCArIHhdID0gMHhGRjAwMDAwMCB8IChncmV5ICogMHgwMDAxMDEwMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dE9mZnNldCArPSB0aGlzLmRhdGFXaWR0aCAqIFBsYW5hcllVVkx1bWluYW5jZVNvdXJjZS5USFVNQk5BSUxfU0NBTEVfRkFDVE9SO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXhlbHM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHdpZHRoIG9mIGltYWdlIGZyb20ge0BsaW5rICNyZW5kZXJUaHVtYm5haWwoKX1cbiAgICAgKi9cbiAgICBQbGFuYXJZVVZMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldFRodW1ibmFpbFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRXaWR0aCgpIC8gUGxhbmFyWVVWTHVtaW5hbmNlU291cmNlLlRIVU1CTkFJTF9TQ0FMRV9GQUNUT1I7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIGhlaWdodCBvZiBpbWFnZSBmcm9tIHtAbGluayAjcmVuZGVyVGh1bWJuYWlsKCl9XG4gICAgICovXG4gICAgUGxhbmFyWVVWTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRUaHVtYm5haWxIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEhlaWdodCgpIC8gUGxhbmFyWVVWTHVtaW5hbmNlU291cmNlLlRIVU1CTkFJTF9TQ0FMRV9GQUNUT1I7XG4gICAgfTtcbiAgICBQbGFuYXJZVVZMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJldmVyc2VIb3Jpem9udGFsID0gZnVuY3Rpb24gKHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7XG4gICAgICAgIHZhciB5dXZEYXRhID0gdGhpcy55dXZEYXRhO1xuICAgICAgICBmb3IgKHZhciB5ID0gMCwgcm93U3RhcnQgPSB0aGlzLnRvcCAqIHRoaXMuZGF0YVdpZHRoICsgdGhpcy5sZWZ0OyB5IDwgaGVpZ2h0OyB5KyssIHJvd1N0YXJ0ICs9IHRoaXMuZGF0YVdpZHRoKSB7XG4gICAgICAgICAgICB2YXIgbWlkZGxlID0gcm93U3RhcnQgKyB3aWR0aCAvIDI7XG4gICAgICAgICAgICBmb3IgKHZhciB4MSA9IHJvd1N0YXJ0LCB4MiA9IHJvd1N0YXJ0ICsgd2lkdGggLSAxOyB4MSA8IG1pZGRsZTsgeDErKywgeDItLSkge1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0geXV2RGF0YVt4MV07XG4gICAgICAgICAgICAgICAgeXV2RGF0YVt4MV0gPSB5dXZEYXRhW3gyXTtcbiAgICAgICAgICAgICAgICB5dXZEYXRhW3gyXSA9IHRlbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYW5hcllVVkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaW52ZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMpO1xuICAgIH07XG4gICAgUGxhbmFyWVVWTHVtaW5hbmNlU291cmNlLlRIVU1CTkFJTF9TQ0FMRV9GQUNUT1IgPSAyO1xuICAgIHJldHVybiBQbGFuYXJZVVZMdW1pbmFuY2VTb3VyY2U7XG59KEx1bWluYW5jZVNvdXJjZSkpO1xuZXhwb3J0IGRlZmF1bHQgUGxhbmFyWVVWTHVtaW5hbmNlU291cmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxhbmFyWVVWTHVtaW5hbmNlU291cmNlLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG4vKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqL1xuaW1wb3J0ICcuL0ludmVydGVkTHVtaW5hbmNlU291cmNlJzsgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlXG5pbXBvcnQgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgZnJvbSAnLi9JbnZlcnRlZEx1bWluYW5jZVNvdXJjZSc7XG5pbXBvcnQgTHVtaW5hbmNlU291cmNlIGZyb20gJy4vTHVtaW5hbmNlU291cmNlJztcbmltcG9ydCBTeXN0ZW0gZnJvbSAnLi91dGlsL1N5c3RlbSc7XG5pbXBvcnQgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGZyb20gJy4vSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJztcbi8qKlxuICogVGhpcyBjbGFzcyBpcyB1c2VkIHRvIGhlbHAgZGVjb2RlIGltYWdlcyBmcm9tIGZpbGVzIHdoaWNoIGFycml2ZSBhcyBSR0IgZGF0YSBmcm9tXG4gKiBhbiBBUkdCIHBpeGVsIGFycmF5LiBJdCBkb2VzIG5vdCBzdXBwb3J0IHJvdGF0aW9uLlxuICpcbiAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pXG4gKiBAYXV0aG9yIEJldGFtaW5vc1xuICovXG52YXIgUkdCTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSR0JMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUkdCTHVtaW5hbmNlU291cmNlKGx1bWluYW5jZXMsIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBkYXRhV2lkdGggLyppbnQqLywgZGF0YUhlaWdodCAvKmludCovLCBsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRhdGFXaWR0aCA9IGRhdGFXaWR0aDtcbiAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGRhdGFIZWlnaHQ7XG4gICAgICAgIF90aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICBfdGhpcy50b3AgPSB0b3A7XG4gICAgICAgIGlmIChsdW1pbmFuY2VzLkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KSB7IC8vIEludDMyQXJyYXlcbiAgICAgICAgICAgIHZhciBzaXplID0gd2lkdGggKiBoZWlnaHQ7XG4gICAgICAgICAgICB2YXIgbHVtaW5hbmNlc1VpbnQ4QXJyYXkgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoc2l6ZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBzaXplOyBvZmZzZXQrKykge1xuICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0XTtcbiAgICAgICAgICAgICAgICB2YXIgciA9IChwaXhlbCA+PiAxNikgJiAweGZmOyAvLyByZWRcbiAgICAgICAgICAgICAgICB2YXIgZzIgPSAocGl4ZWwgPj4gNykgJiAweDFmZTsgLy8gMiAqIGdyZWVuXG4gICAgICAgICAgICAgICAgdmFyIGIgPSBwaXhlbCAmIDB4ZmY7IC8vIGJsdWVcbiAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgZ3JlZW4tZmF2b3VyaW5nIGF2ZXJhZ2UgY2hlYXBseVxuICAgICAgICAgICAgICAgIGx1bWluYW5jZXNVaW50OEFycmF5W29mZnNldF0gPSAvKihieXRlKSAqLyAoKHIgKyBnMiArIGIpIC8gNCkgJiAweEZGO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMubHVtaW5hbmNlcyA9IGx1bWluYW5jZXNVaW50OEFycmF5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMubHVtaW5hbmNlcyA9IGx1bWluYW5jZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YVdpZHRoKSB7XG4gICAgICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodW5kZWZpbmVkID09PSBkYXRhSGVpZ2h0KSB7XG4gICAgICAgICAgICBfdGhpcy5kYXRhSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IGxlZnQpIHtcbiAgICAgICAgICAgIF90aGlzLmxlZnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IHRvcCkge1xuICAgICAgICAgICAgX3RoaXMudG9wID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3RoaXMubGVmdCArIHdpZHRoID4gX3RoaXMuZGF0YVdpZHRoIHx8IF90aGlzLnRvcCArIGhlaWdodCA+IF90aGlzLmRhdGFIZWlnaHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24oJ0Nyb3AgcmVjdGFuZ2xlIGRvZXMgbm90IGZpdCB3aXRoaW4gaW1hZ2UgZGF0YS4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykge1xuICAgICAgICBpZiAoeSA8IDAgfHwgeSA+PSB0aGlzLmdldEhlaWdodCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCdSZXF1ZXN0ZWQgcm93IGlzIG91dHNpZGUgdGhlIGltYWdlOiAnICsgeSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpO1xuICAgICAgICBpZiAocm93ID09PSBudWxsIHx8IHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdy5sZW5ndGggPCB3aWR0aCkge1xuICAgICAgICAgICAgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2Zmc2V0ID0gKHkgKyB0aGlzLnRvcCkgKiB0aGlzLmRhdGFXaWR0aCArIHRoaXMubGVmdDtcbiAgICAgICAgU3lzdGVtLmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIG9mZnNldCwgcm93LCAwLCB3aWR0aCk7XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgfTtcbiAgICAvKkBPdmVycmlkZSovXG4gICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRNYXRyaXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0KCk7XG4gICAgICAgIC8vIElmIHRoZSBjYWxsZXIgYXNrcyBmb3IgdGhlIGVudGlyZSB1bmRlcmx5aW5nIGltYWdlLCBzYXZlIHRoZSBjb3B5IGFuZCBnaXZlIHRoZW0gdGhlXG4gICAgICAgIC8vIG9yaWdpbmFsIGRhdGEuIFRoZSBkb2NzIHNwZWNpZmljYWxseSB3YXJuIHRoYXQgcmVzdWx0Lmxlbmd0aCBtdXN0IGJlIGlnbm9yZWQuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gdGhpcy5kYXRhV2lkdGggJiYgaGVpZ2h0ID09PSB0aGlzLmRhdGFIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmx1bWluYW5jZXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFyZWEgPSB3aWR0aCAqIGhlaWdodDtcbiAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBVaW50OENsYW1wZWRBcnJheShhcmVhKTtcbiAgICAgICAgdmFyIGlucHV0T2Zmc2V0ID0gdGhpcy50b3AgKiB0aGlzLmRhdGFXaWR0aCArIHRoaXMubGVmdDtcbiAgICAgICAgLy8gSWYgdGhlIHdpZHRoIG1hdGNoZXMgdGhlIGZ1bGwgd2lkdGggb2YgdGhlIHVuZGVybHlpbmcgZGF0YSwgcGVyZm9ybSBhIHNpbmdsZSBjb3B5LlxuICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoKSB7XG4gICAgICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KHRoaXMubHVtaW5hbmNlcywgaW5wdXRPZmZzZXQsIG1hdHJpeCwgMCwgYXJlYSk7XG4gICAgICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSBjb3B5IG9uZSBjcm9wcGVkIHJvdyBhdCBhIHRpbWUuXG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXRPZmZzZXQgPSB5ICogd2lkdGg7XG4gICAgICAgICAgICBTeXN0ZW0uYXJyYXljb3B5KHRoaXMubHVtaW5hbmNlcywgaW5wdXRPZmZzZXQsIG1hdHJpeCwgb3V0cHV0T2Zmc2V0LCB3aWR0aCk7XG4gICAgICAgICAgICBpbnB1dE9mZnNldCArPSB0aGlzLmRhdGFXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH07XG4gICAgLypAT3ZlcnJpZGUqL1xuICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qQE92ZXJyaWRlKi9cbiAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmNyb3AgPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSR0JMdW1pbmFuY2VTb3VyY2UodGhpcy5sdW1pbmFuY2VzLCB3aWR0aCwgaGVpZ2h0LCB0aGlzLmRhdGFXaWR0aCwgdGhpcy5kYXRhSGVpZ2h0LCB0aGlzLmxlZnQgKyBsZWZ0LCB0aGlzLnRvcCArIHRvcCk7XG4gICAgfTtcbiAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBSR0JMdW1pbmFuY2VTb3VyY2U7XG59KEx1bWluYW5jZVNvdXJjZSkpO1xuZXhwb3J0IGRlZmF1bHQgUkdCTHVtaW5hbmNlU291cmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UkdCTHVtaW5hbmNlU291cmNlLmpzLm1hcCIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IENoYXJhY3RlclNldEVDSSBmcm9tICcuLi9jb21tb24vQ2hhcmFjdGVyU2V0RUNJJztcbi8qKlxuICogSnVzdCB0byBtYWtlIGEgc2hvcnRjdXQgYmV0d2VlbiBKYXZhIGNvZGUgYW5kIFRTIGNvZGUuXG4gKi9cbnZhciBDaGFyc2V0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDaGFyc2V0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENoYXJzZXQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQ2hhcnNldC5mb3JOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKG5hbWUpO1xuICAgIH07XG4gICAgcmV0dXJuIENoYXJzZXQ7XG59KENoYXJhY3RlclNldEVDSSkpO1xuZXhwb3J0IGRlZmF1bHQgQ2hhcnNldDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoYXJzZXQuanMubWFwIiwiLypcbiogQ29weXJpZ2h0IDIwMTMgWlhpbmcgYXV0aG9yc1xuKlxuKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4qIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuKlxuKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuKlxuKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4qIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4qIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qL1xudmFyIFRva2VuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRva2VuKHByZXZpb3VzKSB7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICB9XG4gICAgVG9rZW4ucHJvdG90eXBlLmdldFByZXZpb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2aW91cztcbiAgICB9O1xuICAgIHJldHVybiBUb2tlbjtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBUb2tlbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRva2VuLmpzLm1hcCIsIi8qXG4qIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnNcbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IFRva2VuIGZyb20gJy4vVG9rZW4nO1xuaW1wb3J0IEludGVnZXIgZnJvbSAnLi4vLi4vdXRpbC9JbnRlZ2VyJztcbnZhciBTaW1wbGVUb2tlbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2ltcGxlVG9rZW4sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2ltcGxlVG9rZW4ocHJldmlvdXMsIHZhbHVlLCBiaXRDb3VudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcmV2aW91cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgX3RoaXMuYml0Q291bnQgPSBiaXRDb3VudDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAT3ZlcnJpZGVcbiAgICAgKi9cbiAgICBTaW1wbGVUb2tlbi5wcm90b3R5cGUuYXBwZW5kVG8gPSBmdW5jdGlvbiAoYml0QXJyYXksIHRleHQpIHtcbiAgICAgICAgYml0QXJyYXkuYXBwZW5kQml0cyh0aGlzLnZhbHVlLCB0aGlzLmJpdENvdW50KTtcbiAgICB9O1xuICAgIFNpbXBsZVRva2VuLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAodmFsdWUsIGJpdENvdW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgU2ltcGxlVG9rZW4odGhpcywgdmFsdWUsIGJpdENvdW50KTtcbiAgICB9O1xuICAgIFNpbXBsZVRva2VuLnByb3RvdHlwZS5hZGRCaW5hcnlTaGlmdCA9IGZ1bmN0aW9uIChzdGFydCwgYnl0ZUNvdW50KSB7XG4gICAgICAgIC8vIG5vLW9wIGNhbid0IGJpbmFyeSBzaGlmdCBhIHNpbXBsZSB0b2tlblxuICAgICAgICBjb25zb2xlLndhcm4oJ2FkZEJpbmFyeVNoaWZ0IG9uIFNpbXBsZVRva2VuLCB0aGlzIHNpbXBseSByZXR1cm5zIGEgY29weSBvZiB0aGlzIHRva2VuJyk7XG4gICAgICAgIHJldHVybiBuZXcgU2ltcGxlVG9rZW4odGhpcywgc3RhcnQsIGJ5dGVDb3VudCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAT3ZlcnJpZGVcbiAgICAgKi9cbiAgICBTaW1wbGVUb2tlbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudmFsdWUgJiAoKDEgPDwgdGhpcy5iaXRDb3VudCkgLSAxKTtcbiAgICAgICAgdmFsdWUgfD0gMSA8PCB0aGlzLmJpdENvdW50O1xuICAgICAgICByZXR1cm4gJzwnICsgSW50ZWdlci50b0JpbmFyeVN0cmluZyh2YWx1ZSB8ICgxIDw8IHRoaXMuYml0Q291bnQpKS5zdWJzdHJpbmcoMSkgKyAnPic7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlVG9rZW47XG59KFRva2VuKSk7XG5leHBvcnQgZGVmYXVsdCBTaW1wbGVUb2tlbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbXBsZVRva2VuLmpzLm1hcCIsIi8qXG4qIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnNcbipcbiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbipcbiogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbipcbiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4qIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4qIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IFNpbXBsZVRva2VuIGZyb20gJy4vU2ltcGxlVG9rZW4nO1xudmFyIEJpbmFyeVNoaWZ0VG9rZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJpbmFyeVNoaWZ0VG9rZW4sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmluYXJ5U2hpZnRUb2tlbihwcmV2aW91cywgYmluYXJ5U2hpZnRTdGFydCwgYmluYXJ5U2hpZnRCeXRlQ291bnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJldmlvdXMsIDAsIDApIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmJpbmFyeVNoaWZ0U3RhcnQgPSBiaW5hcnlTaGlmdFN0YXJ0O1xuICAgICAgICBfdGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCA9IGJpbmFyeVNoaWZ0Qnl0ZUNvdW50O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBPdmVycmlkZVxuICAgICAqL1xuICAgIEJpbmFyeVNoaWZ0VG9rZW4ucHJvdG90eXBlLmFwcGVuZFRvID0gZnVuY3Rpb24gKGJpdEFycmF5LCB0ZXh0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gMCB8fCAoaSA9PT0gMzEgJiYgdGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCA8PSA2MikpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIGEgaGVhZGVyIGJlZm9yZSB0aGUgZmlyc3QgY2hhcmFjdGVyLCBhbmQgYmVmb3JlXG4gICAgICAgICAgICAgICAgLy8gY2hhcmFjdGVyIDMxIHdoZW4gdGhlIHRvdGFsIGJ5dGUgY29kZSBpcyA8PSA2MlxuICAgICAgICAgICAgICAgIGJpdEFycmF5LmFwcGVuZEJpdHMoMzEsIDUpOyAvLyBCSU5BUllfU0hJRlRcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCA+IDYyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJpdEFycmF5LmFwcGVuZEJpdHModGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCAtIDMxLCAxNik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMSA8PSBiaW5hcnlTaGlmdEJ5dGVDb2RlIDw9IDYyXG4gICAgICAgICAgICAgICAgICAgIGJpdEFycmF5LmFwcGVuZEJpdHMoTWF0aC5taW4odGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCwgMzEpLCA1KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDMyIDw9IGJpbmFyeVNoaWZ0Q291bnQgPD0gNjIgYW5kIGkgPT0gMzFcbiAgICAgICAgICAgICAgICAgICAgYml0QXJyYXkuYXBwZW5kQml0cyh0aGlzLmJpbmFyeVNoaWZ0Qnl0ZUNvdW50IC0gMzEsIDUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJpdEFycmF5LmFwcGVuZEJpdHModGV4dFt0aGlzLmJpbmFyeVNoaWZ0U3RhcnQgKyBpXSwgOCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJpbmFyeVNoaWZ0VG9rZW4ucHJvdG90eXBlLmFkZEJpbmFyeVNoaWZ0ID0gZnVuY3Rpb24gKHN0YXJ0LCBieXRlQ291bnQpIHtcbiAgICAgICAgLy8gaW50IGJpdENvdW50ID0gKGJ5dGVDb3VudCAqIDgpICsgKGJ5dGVDb3VudCA8PSAzMSA/IDEwIDogYnl0ZUNvdW50IDw9IDYyID8gMjAgOiAyMSk7XG4gICAgICAgIHJldHVybiBuZXcgQmluYXJ5U2hpZnRUb2tlbih0aGlzLCBzdGFydCwgYnl0ZUNvdW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBPdmVycmlkZVxuICAgICAqL1xuICAgIEJpbmFyeVNoaWZ0VG9rZW4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJzwnICsgdGhpcy5iaW5hcnlTaGlmdFN0YXJ0ICsgJzo6JyArICh0aGlzLmJpbmFyeVNoaWZ0U3RhcnQgKyB0aGlzLmJpbmFyeVNoaWZ0Qnl0ZUNvdW50IC0gMSkgKyAnPic7XG4gICAgfTtcbiAgICByZXR1cm4gQmluYXJ5U2hpZnRUb2tlbjtcbn0oU2ltcGxlVG9rZW4pKTtcbmV4cG9ydCBkZWZhdWx0IEJpbmFyeVNoaWZ0VG9rZW47XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaW5hcnlTaGlmdFRva2VuLmpzLm1hcCIsImltcG9ydCBTaW1wbGVUb2tlbiBmcm9tICcuL1NpbXBsZVRva2VuJztcbmV4cG9ydCB2YXIgLypmaW5hbCovIE1PREVfTkFNRVMgPSBbXG4gICAgJ1VQUEVSJyxcbiAgICAnTE9XRVInLFxuICAgICdESUdJVCcsXG4gICAgJ01JWEVEJyxcbiAgICAnUFVOQ1QnXG5dO1xuZXhwb3J0IHZhciAvKmZpbmFsKi8gTU9ERV9VUFBFUiA9IDA7IC8vIDUgYml0c1xuZXhwb3J0IHZhciAvKmZpbmFsKi8gTU9ERV9MT1dFUiA9IDE7IC8vIDUgYml0c1xuZXhwb3J0IHZhciAvKmZpbmFsKi8gTU9ERV9ESUdJVCA9IDI7IC8vIDQgYml0c1xuZXhwb3J0IHZhciAvKmZpbmFsKi8gTU9ERV9NSVhFRCA9IDM7IC8vIDUgYml0c1xuZXhwb3J0IHZhciAvKmZpbmFsKi8gTU9ERV9QVU5DVCA9IDQ7IC8vIDUgYml0c1xuZXhwb3J0IHZhciBFTVBUWV9UT0tFTiA9IG5ldyBTaW1wbGVUb2tlbihudWxsLCAwLCAwKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVuY29kZXJDb25zdGFudHMuanMubWFwIiwidmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuaW1wb3J0IEFycmF5cyBmcm9tICcuLi8uLi91dGlsL0FycmF5cyc7XG5pbXBvcnQgKiBhcyBDIGZyb20gJy4vRW5jb2RlckNvbnN0YW50cyc7XG5leHBvcnQgZnVuY3Rpb24gc3RhdGljX1NISUZUX1RBQkxFKFNISUZUX1RBQkxFKSB7XG4gICAgdmFyIGVfMSwgX2E7XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgU0hJRlRfVEFCTEVfMSA9IF9fdmFsdWVzKFNISUZUX1RBQkxFKSwgU0hJRlRfVEFCTEVfMV8xID0gU0hJRlRfVEFCTEVfMS5uZXh0KCk7ICFTSElGVF9UQUJMRV8xXzEuZG9uZTsgU0hJRlRfVEFCTEVfMV8xID0gU0hJRlRfVEFCTEVfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciB0YWJsZSA9IFNISUZUX1RBQkxFXzFfMS52YWx1ZSAvKkludDMyQXJyYXkqLztcbiAgICAgICAgICAgIEFycmF5cy5maWxsKHRhYmxlLCAtMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChTSElGVF9UQUJMRV8xXzEgJiYgIVNISUZUX1RBQkxFXzFfMS5kb25lICYmIChfYSA9IFNISUZUX1RBQkxFXzEucmV0dXJuKSkgX2EuY2FsbChTSElGVF9UQUJMRV8xKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgfVxuICAgIFNISUZUX1RBQkxFW0MuTU9ERV9VUFBFUl1bQy5NT0RFX1BVTkNUXSA9IDA7XG4gICAgU0hJRlRfVEFCTEVbQy5NT0RFX0xPV0VSXVtDLk1PREVfUFVOQ1RdID0gMDtcbiAgICBTSElGVF9UQUJMRVtDLk1PREVfTE9XRVJdW0MuTU9ERV9VUFBFUl0gPSAyODtcbiAgICBTSElGVF9UQUJMRVtDLk1PREVfTUlYRURdW0MuTU9ERV9QVU5DVF0gPSAwO1xuICAgIFNISUZUX1RBQkxFW0MuTU9ERV9ESUdJVF1bQy5NT0RFX1BVTkNUXSA9IDA7XG4gICAgU0hJRlRfVEFCTEVbQy5NT0RFX0RJR0lUXVtDLk1PREVfVVBQRVJdID0gMTU7XG4gICAgcmV0dXJuIFNISUZUX1RBQkxFO1xufVxuZXhwb3J0IHZhciAvKmZpbmFsKi8gU0hJRlRfVEFCTEUgPSBzdGF0aWNfU0hJRlRfVEFCTEUoQXJyYXlzLmNyZWF0ZUludDMyQXJyYXkoNiwgNikpOyAvLyBtb2RlIHNoaWZ0IGNvZGVzLCBwZXIgdGFibGVcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNoaWZ0VGFibGUuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG4vLyBwYWNrYWdlIGNvbS5nb29nbGUuenhpbmcuYXp0ZWMuZW5jb2Rlcjtcbi8vIGltcG9ydCBqYXZhLnV0aWwuRGVxdWU7XG4vLyBpbXBvcnQgamF2YS51dGlsLkxpbmtlZExpc3Q7XG4vLyBpbXBvcnQgY29tLmdvb2dsZS56eGluZy5jb21tb24uQml0QXJyYXk7XG5pbXBvcnQgQml0QXJyYXkgZnJvbSAnLi4vLi4vY29tbW9uL0JpdEFycmF5JztcbmltcG9ydCAqIGFzIFRva2VuSGVscGVycyBmcm9tICcuL1Rva2VuSGVscGVycyc7XG5pbXBvcnQgKiBhcyBDIGZyb20gJy4vRW5jb2RlckNvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBMYXRjaFRhYmxlIGZyb20gJy4vTGF0Y2hUYWJsZSc7XG5pbXBvcnQgKiBhcyBTaGlmdFRhYmxlIGZyb20gJy4vU2hpZnRUYWJsZSc7XG5pbXBvcnQgU3RyaW5nVXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL1N0cmluZ1V0aWxzJztcbi8qKlxuICogU3RhdGUgcmVwcmVzZW50cyBhbGwgaW5mb3JtYXRpb24gYWJvdXQgYSBzZXF1ZW5jZSBuZWNlc3NhcnkgdG8gZ2VuZXJhdGUgdGhlIGN1cnJlbnQgb3V0cHV0LlxuICogTm90ZSB0aGF0IGEgc3RhdGUgaXMgaW1tdXRhYmxlLlxuICovXG52YXIgU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGUodG9rZW4sIG1vZGUsIGJpbmFyeUJ5dGVzLCBiaXRDb3VudCkge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgIHRoaXMuYmluYXJ5U2hpZnRCeXRlQ291bnQgPSBiaW5hcnlCeXRlcztcbiAgICAgICAgdGhpcy5iaXRDb3VudCA9IGJpdENvdW50O1xuICAgICAgICAvLyBNYWtlIHN1cmUgd2UgbWF0Y2ggdGhlIHRva2VuXG4gICAgICAgIC8vIGludCBiaW5hcnlTaGlmdEJpdENvdW50ID0gKGJpbmFyeVNoaWZ0Qnl0ZUNvdW50ICogOCkgK1xuICAgICAgICAvLyAgICAoYmluYXJ5U2hpZnRCeXRlQ291bnQgPT09IDAgPyAwIDpcbiAgICAgICAgLy8gICAgIGJpbmFyeVNoaWZ0Qnl0ZUNvdW50IDw9IDMxID8gMTAgOlxuICAgICAgICAvLyAgICAgYmluYXJ5U2hpZnRCeXRlQ291bnQgPD0gNjIgPyAyMCA6IDIxKTtcbiAgICAgICAgLy8gYXNzZXJ0IHRoaXMuYml0Q291bnQgPT09IHRva2VuLmdldFRvdGFsQml0Q291bnQoKSArIGJpbmFyeVNoaWZ0Qml0Q291bnQ7XG4gICAgfVxuICAgIFN0YXRlLnByb3RvdHlwZS5nZXRNb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlO1xuICAgIH07XG4gICAgU3RhdGUucHJvdG90eXBlLmdldFRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbjtcbiAgICB9O1xuICAgIFN0YXRlLnByb3RvdHlwZS5nZXRCaW5hcnlTaGlmdEJ5dGVDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJ5U2hpZnRCeXRlQ291bnQ7XG4gICAgfTtcbiAgICBTdGF0ZS5wcm90b3R5cGUuZ2V0Qml0Q291bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJpdENvdW50O1xuICAgIH07XG4gICAgLy8gQ3JlYXRlIGEgbmV3IHN0YXRlIHJlcHJlc2VudGluZyB0aGlzIHN0YXRlIHdpdGggYSBsYXRjaCB0byBhIChub3RcbiAgICAvLyBuZWNlc3NhcnkgZGlmZmVyZW50KSBtb2RlLCBhbmQgdGhlbiBhIGNvZGUuXG4gICAgU3RhdGUucHJvdG90eXBlLmxhdGNoQW5kQXBwZW5kID0gZnVuY3Rpb24gKG1vZGUsIHZhbHVlKSB7XG4gICAgICAgIC8vIGFzc2VydCBiaW5hcnlTaGlmdEJ5dGVDb3VudCA9PT0gMDtcbiAgICAgICAgdmFyIGJpdENvdW50ID0gdGhpcy5iaXRDb3VudDtcbiAgICAgICAgdmFyIHRva2VuID0gdGhpcy50b2tlbjtcbiAgICAgICAgaWYgKG1vZGUgIT09IHRoaXMubW9kZSkge1xuICAgICAgICAgICAgdmFyIGxhdGNoID0gTGF0Y2hUYWJsZS5MQVRDSF9UQUJMRVt0aGlzLm1vZGVdW21vZGVdO1xuICAgICAgICAgICAgdG9rZW4gPSBUb2tlbkhlbHBlcnMuYWRkKHRva2VuLCBsYXRjaCAmIDB4ZmZmZiwgbGF0Y2ggPj4gMTYpO1xuICAgICAgICAgICAgYml0Q291bnQgKz0gbGF0Y2ggPj4gMTY7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhdGNoTW9kZUJpdENvdW50ID0gbW9kZSA9PT0gQy5NT0RFX0RJR0lUID8gNCA6IDU7XG4gICAgICAgIHRva2VuID0gVG9rZW5IZWxwZXJzLmFkZCh0b2tlbiwgdmFsdWUsIGxhdGNoTW9kZUJpdENvdW50KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdGF0ZSh0b2tlbiwgbW9kZSwgMCwgYml0Q291bnQgKyBsYXRjaE1vZGVCaXRDb3VudCk7XG4gICAgfTtcbiAgICAvLyBDcmVhdGUgYSBuZXcgc3RhdGUgcmVwcmVzZW50aW5nIHRoaXMgc3RhdGUsIHdpdGggYSB0ZW1wb3Jhcnkgc2hpZnRcbiAgICAvLyB0byBhIGRpZmZlcmVudCBtb2RlIHRvIG91dHB1dCBhIHNpbmdsZSB2YWx1ZS5cbiAgICBTdGF0ZS5wcm90b3R5cGUuc2hpZnRBbmRBcHBlbmQgPSBmdW5jdGlvbiAobW9kZSwgdmFsdWUpIHtcbiAgICAgICAgLy8gYXNzZXJ0IGJpbmFyeVNoaWZ0Qnl0ZUNvdW50ID09PSAwICYmIHRoaXMubW9kZSAhPT0gbW9kZTtcbiAgICAgICAgdmFyIHRva2VuID0gdGhpcy50b2tlbjtcbiAgICAgICAgdmFyIHRoaXNNb2RlQml0Q291bnQgPSB0aGlzLm1vZGUgPT09IEMuTU9ERV9ESUdJVCA/IDQgOiA1O1xuICAgICAgICAvLyBTaGlmdHMgZXhpc3Qgb25seSB0byBVUFBFUiBhbmQgUFVOQ1QsIGJvdGggd2l0aCB0b2tlbnMgc2l6ZSA1LlxuICAgICAgICB0b2tlbiA9IFRva2VuSGVscGVycy5hZGQodG9rZW4sIFNoaWZ0VGFibGUuU0hJRlRfVEFCTEVbdGhpcy5tb2RlXVttb2RlXSwgdGhpc01vZGVCaXRDb3VudCk7XG4gICAgICAgIHRva2VuID0gVG9rZW5IZWxwZXJzLmFkZCh0b2tlbiwgdmFsdWUsIDUpO1xuICAgICAgICByZXR1cm4gbmV3IFN0YXRlKHRva2VuLCB0aGlzLm1vZGUsIDAsIHRoaXMuYml0Q291bnQgKyB0aGlzTW9kZUJpdENvdW50ICsgNSk7XG4gICAgfTtcbiAgICAvLyBDcmVhdGUgYSBuZXcgc3RhdGUgcmVwcmVzZW50aW5nIHRoaXMgc3RhdGUsIGJ1dCBhbiBhZGRpdGlvbmFsIGNoYXJhY3RlclxuICAgIC8vIG91dHB1dCBpbiBCaW5hcnkgU2hpZnQgbW9kZS5cbiAgICBTdGF0ZS5wcm90b3R5cGUuYWRkQmluYXJ5U2hpZnRDaGFyID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW47XG4gICAgICAgIHZhciBtb2RlID0gdGhpcy5tb2RlO1xuICAgICAgICB2YXIgYml0Q291bnQgPSB0aGlzLmJpdENvdW50O1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBDLk1PREVfUFVOQ1QgfHwgdGhpcy5tb2RlID09PSBDLk1PREVfRElHSVQpIHtcbiAgICAgICAgICAgIC8vIGFzc2VydCBiaW5hcnlTaGlmdEJ5dGVDb3VudCA9PT0gMDtcbiAgICAgICAgICAgIHZhciBsYXRjaCA9IExhdGNoVGFibGUuTEFUQ0hfVEFCTEVbbW9kZV1bQy5NT0RFX1VQUEVSXTtcbiAgICAgICAgICAgIHRva2VuID0gVG9rZW5IZWxwZXJzLmFkZCh0b2tlbiwgbGF0Y2ggJiAweGZmZmYsIGxhdGNoID4+IDE2KTtcbiAgICAgICAgICAgIGJpdENvdW50ICs9IGxhdGNoID4+IDE2O1xuICAgICAgICAgICAgbW9kZSA9IEMuTU9ERV9VUFBFUjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsdGFCaXRDb3VudCA9IHRoaXMuYmluYXJ5U2hpZnRCeXRlQ291bnQgPT09IDAgfHwgdGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCA9PT0gMzFcbiAgICAgICAgICAgID8gMThcbiAgICAgICAgICAgIDogdGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCA9PT0gNjJcbiAgICAgICAgICAgICAgICA/IDlcbiAgICAgICAgICAgICAgICA6IDg7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgU3RhdGUodG9rZW4sIG1vZGUsIHRoaXMuYmluYXJ5U2hpZnRCeXRlQ291bnQgKyAxLCBiaXRDb3VudCArIGRlbHRhQml0Q291bnQpO1xuICAgICAgICBpZiAocmVzdWx0LmJpbmFyeVNoaWZ0Qnl0ZUNvdW50ID09PSAyMDQ3ICsgMzEpIHtcbiAgICAgICAgICAgIC8vIFRoZSBzdHJpbmcgaXMgYXMgbG9uZyBhcyBpdCdzIGFsbG93ZWQgdG8gYmUuICBXZSBzaG91bGQgZW5kIGl0LlxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmVuZEJpbmFyeVNoaWZ0KGluZGV4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8vIENyZWF0ZSB0aGUgc3RhdGUgaWRlbnRpY2FsIHRvIHRoaXMgb25lLCBidXQgd2UgYXJlIG5vIGxvbmdlciBpblxuICAgIC8vIEJpbmFyeSBTaGlmdCBtb2RlLlxuICAgIFN0YXRlLnByb3RvdHlwZS5lbmRCaW5hcnlTaGlmdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRva2VuID0gdGhpcy50b2tlbjtcbiAgICAgICAgdG9rZW4gPSBUb2tlbkhlbHBlcnMuYWRkQmluYXJ5U2hpZnQodG9rZW4sIGluZGV4IC0gdGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCwgdGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCk7XG4gICAgICAgIC8vIGFzc2VydCB0b2tlbi5nZXRUb3RhbEJpdENvdW50KCkgPT09IHRoaXMuYml0Q291bnQ7XG4gICAgICAgIHJldHVybiBuZXcgU3RhdGUodG9rZW4sIHRoaXMubW9kZSwgMCwgdGhpcy5iaXRDb3VudCk7XG4gICAgfTtcbiAgICAvLyBSZXR1cm5zIHRydWUgaWYgXCJ0aGlzXCIgc3RhdGUgaXMgYmV0dGVyIChlcXVhbDogb3IpIHRvIGJlIGluIHRoYW4gXCJ0aGF0XCJcbiAgICAvLyBzdGF0ZSB1bmRlciBhbGwgcG9zc2libGUgY2lyY3Vtc3RhbmNlcy5cbiAgICBTdGF0ZS5wcm90b3R5cGUuaXNCZXR0ZXJUaGFuT3JFcXVhbFRvID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHZhciBuZXdNb2RlQml0Q291bnQgPSB0aGlzLmJpdENvdW50ICsgKExhdGNoVGFibGUuTEFUQ0hfVEFCTEVbdGhpcy5tb2RlXVtvdGhlci5tb2RlXSA+PiAxNik7XG4gICAgICAgIGlmICh0aGlzLmJpbmFyeVNoaWZ0Qnl0ZUNvdW50IDwgb3RoZXIuYmluYXJ5U2hpZnRCeXRlQ291bnQpIHtcbiAgICAgICAgICAgIC8vIGFkZCBhZGRpdGlvbmFsIEIvUyBlbmNvZGluZyBjb3N0IG9mIG90aGVyLCBpZiBhbnlcbiAgICAgICAgICAgIG5ld01vZGVCaXRDb3VudCArPVxuICAgICAgICAgICAgICAgIFN0YXRlLmNhbGN1bGF0ZUJpbmFyeVNoaWZ0Q29zdChvdGhlcikgLVxuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5jYWxjdWxhdGVCaW5hcnlTaGlmdENvc3QodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5iaW5hcnlTaGlmdEJ5dGVDb3VudCA+IG90aGVyLmJpbmFyeVNoaWZ0Qnl0ZUNvdW50ICYmXG4gICAgICAgICAgICBvdGhlci5iaW5hcnlTaGlmdEJ5dGVDb3VudCA+IDApIHtcbiAgICAgICAgICAgIC8vIG1heGltdW0gcG9zc2libGUgYWRkaXRpb25hbCBjb3N0IChpdDogaClcbiAgICAgICAgICAgIG5ld01vZGVCaXRDb3VudCArPSAxMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3TW9kZUJpdENvdW50IDw9IG90aGVyLmJpdENvdW50O1xuICAgIH07XG4gICAgU3RhdGUucHJvdG90eXBlLnRvQml0QXJyYXkgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgLy8gUmV2ZXJzZSB0aGUgdG9rZW5zLCBzbyB0aGF0IHRoZXkgYXJlIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgc2hvdWxkXG4gICAgICAgIC8vIGJlIG91dHB1dFxuICAgICAgICB2YXIgc3ltYm9scyA9IFtdO1xuICAgICAgICBmb3IgKHZhciB0b2tlbiA9IHRoaXMuZW5kQmluYXJ5U2hpZnQodGV4dC5sZW5ndGgpLnRva2VuOyB0b2tlbiAhPT0gbnVsbDsgdG9rZW4gPSB0b2tlbi5nZXRQcmV2aW91cygpKSB7XG4gICAgICAgICAgICBzeW1ib2xzLnVuc2hpZnQodG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiaXRBcnJheSA9IG5ldyBCaXRBcnJheSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQWRkIGVhY2ggdG9rZW4gdG8gdGhlIHJlc3VsdC5cbiAgICAgICAgICAgIGZvciAodmFyIHN5bWJvbHNfMSA9IF9fdmFsdWVzKHN5bWJvbHMpLCBzeW1ib2xzXzFfMSA9IHN5bWJvbHNfMS5uZXh0KCk7ICFzeW1ib2xzXzFfMS5kb25lOyBzeW1ib2xzXzFfMSA9IHN5bWJvbHNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ltYm9sID0gc3ltYm9sc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgc3ltYm9sLmFwcGVuZFRvKGJpdEFycmF5LCB0ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHN5bWJvbHNfMV8xICYmICFzeW1ib2xzXzFfMS5kb25lICYmIChfYSA9IHN5bWJvbHNfMS5yZXR1cm4pKSBfYS5jYWxsKHN5bWJvbHNfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXNzZXJ0IGJpdEFycmF5LmdldFNpemUoKSA9PT0gdGhpcy5iaXRDb3VudDtcbiAgICAgICAgcmV0dXJuIGJpdEFycmF5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQE92ZXJyaWRlXG4gICAgICovXG4gICAgU3RhdGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuZm9ybWF0KCclcyBiaXRzPSVkIGJ5dGVzPSVkJywgQy5NT0RFX05BTUVTW3RoaXMubW9kZV0sIHRoaXMuYml0Q291bnQsIHRoaXMuYmluYXJ5U2hpZnRCeXRlQ291bnQpO1xuICAgIH07XG4gICAgU3RhdGUuY2FsY3VsYXRlQmluYXJ5U2hpZnRDb3N0ID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZS5iaW5hcnlTaGlmdEJ5dGVDb3VudCA+IDYyKSB7XG4gICAgICAgICAgICByZXR1cm4gMjE7IC8vIEIvUyB3aXRoIGV4dGVuZGVkIGxlbmd0aFxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5iaW5hcnlTaGlmdEJ5dGVDb3VudCA+IDMxKSB7XG4gICAgICAgICAgICByZXR1cm4gMjA7IC8vIHR3byBCL1NcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuYmluYXJ5U2hpZnRCeXRlQ291bnQgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMTA7IC8vIG9uZSBCL1NcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuICAgIFN0YXRlLklOSVRJQUxfU1RBVEUgPSBuZXcgU3RhdGUoQy5FTVBUWV9UT0tFTiwgQy5NT0RFX1VQUEVSLCAwLCAwKTtcbiAgICByZXR1cm4gU3RhdGU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgU3RhdGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGF0ZS5qcy5tYXAiLCJpbXBvcnQgKiBhcyBDIGZyb20gJy4vRW5jb2RlckNvbnN0YW50cyc7XG5pbXBvcnQgQXJyYXlzIGZyb20gJy4uLy4uL3V0aWwvQXJyYXlzJztcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vU3RyaW5nVXRpbHMnO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXRpY19DSEFSX01BUChDSEFSX01BUCkge1xuICAgIHZhciBzcGFjZUNoYXJDb2RlID0gU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUoJyAnKTtcbiAgICB2YXIgcG9pbnRDaGFyQ29kZSA9IFN0cmluZ1V0aWxzLmdldENoYXJDb2RlKCcuJyk7XG4gICAgdmFyIGNvbW1hQ2hhckNvZGUgPSBTdHJpbmdVdGlscy5nZXRDaGFyQ29kZSgnLCcpO1xuICAgIENIQVJfTUFQW0MuTU9ERV9VUFBFUl1bc3BhY2VDaGFyQ29kZV0gPSAxO1xuICAgIHZhciB6VXBwZXJDaGFyQ29kZSA9IFN0cmluZ1V0aWxzLmdldENoYXJDb2RlKCdaJyk7XG4gICAgdmFyIGFVcHBlckNoYXJDb2RlID0gU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUoJ0EnKTtcbiAgICBmb3IgKHZhciBjID0gYVVwcGVyQ2hhckNvZGU7IGMgPD0gelVwcGVyQ2hhckNvZGU7IGMrKykge1xuICAgICAgICBDSEFSX01BUFtDLk1PREVfVVBQRVJdW2NdID0gYyAtIGFVcHBlckNoYXJDb2RlICsgMjtcbiAgICB9XG4gICAgQ0hBUl9NQVBbQy5NT0RFX0xPV0VSXVtzcGFjZUNoYXJDb2RlXSA9IDE7XG4gICAgdmFyIHpMb3dlckNoYXJDb2RlID0gU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUoJ3onKTtcbiAgICB2YXIgYUxvd2VyQ2hhckNvZGUgPSBTdHJpbmdVdGlscy5nZXRDaGFyQ29kZSgnYScpO1xuICAgIGZvciAodmFyIGMgPSBhTG93ZXJDaGFyQ29kZTsgYyA8PSB6TG93ZXJDaGFyQ29kZTsgYysrKSB7XG4gICAgICAgIENIQVJfTUFQW0MuTU9ERV9MT1dFUl1bY10gPSBjIC0gYUxvd2VyQ2hhckNvZGUgKyAyO1xuICAgIH1cbiAgICBDSEFSX01BUFtDLk1PREVfRElHSVRdW3NwYWNlQ2hhckNvZGVdID0gMTtcbiAgICB2YXIgbmluZUNoYXJDb2RlID0gU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUoJzknKTtcbiAgICB2YXIgemVyb0NoYXJDb2RlID0gU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUoJzAnKTtcbiAgICBmb3IgKHZhciBjID0gemVyb0NoYXJDb2RlOyBjIDw9IG5pbmVDaGFyQ29kZTsgYysrKSB7XG4gICAgICAgIENIQVJfTUFQW0MuTU9ERV9ESUdJVF1bY10gPSBjIC0gemVyb0NoYXJDb2RlICsgMjtcbiAgICB9XG4gICAgQ0hBUl9NQVBbQy5NT0RFX0RJR0lUXVtjb21tYUNoYXJDb2RlXSA9IDEyO1xuICAgIENIQVJfTUFQW0MuTU9ERV9ESUdJVF1bcG9pbnRDaGFyQ29kZV0gPSAxMztcbiAgICB2YXIgbWl4ZWRUYWJsZSA9IFtcbiAgICAgICAgJ1xceDAwJyxcbiAgICAgICAgJyAnLFxuICAgICAgICAnXFx4MDEnLFxuICAgICAgICAnXFx4MDInLFxuICAgICAgICAnXFx4MDMnLFxuICAgICAgICAnXFx4MDQnLFxuICAgICAgICAnXFx4MDUnLFxuICAgICAgICAnXFx4MDYnLFxuICAgICAgICAnXFx4MDcnLFxuICAgICAgICAnXFxiJyxcbiAgICAgICAgJ1xcdCcsXG4gICAgICAgICdcXG4nLFxuICAgICAgICAnXFx4MGInLFxuICAgICAgICAnXFxmJyxcbiAgICAgICAgJ1xccicsXG4gICAgICAgICdcXHgxYicsXG4gICAgICAgICdcXHgxYycsXG4gICAgICAgICdcXHgxZCcsXG4gICAgICAgICdcXHgxZScsXG4gICAgICAgICdcXHgxZicsXG4gICAgICAgICdAJyxcbiAgICAgICAgJ1xcXFwnLFxuICAgICAgICAnXicsXG4gICAgICAgICdfJyxcbiAgICAgICAgJ2AnLFxuICAgICAgICAnfCcsXG4gICAgICAgICd+JyxcbiAgICAgICAgJ1xceDdmJ1xuICAgIF07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhlZFRhYmxlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENIQVJfTUFQW0MuTU9ERV9NSVhFRF1bU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUobWl4ZWRUYWJsZVtpXSldID0gaTtcbiAgICB9XG4gICAgdmFyIHB1bmN0VGFibGUgPSBbXG4gICAgICAgICdcXHgwMCcsXG4gICAgICAgICdcXHInLFxuICAgICAgICAnXFx4MDAnLFxuICAgICAgICAnXFx4MDAnLFxuICAgICAgICAnXFx4MDAnLFxuICAgICAgICAnXFx4MDAnLFxuICAgICAgICAnIScsXG4gICAgICAgICdcXCcnLFxuICAgICAgICAnIycsXG4gICAgICAgICckJyxcbiAgICAgICAgJyUnLFxuICAgICAgICAnJicsXG4gICAgICAgICdcXCcnLFxuICAgICAgICAnKCcsXG4gICAgICAgICcpJyxcbiAgICAgICAgJyonLFxuICAgICAgICAnKycsXG4gICAgICAgICcsJyxcbiAgICAgICAgJy0nLFxuICAgICAgICAnLicsXG4gICAgICAgICcvJyxcbiAgICAgICAgJzonLFxuICAgICAgICAnOycsXG4gICAgICAgICc8JyxcbiAgICAgICAgJz0nLFxuICAgICAgICAnPicsXG4gICAgICAgICc/JyxcbiAgICAgICAgJ1snLFxuICAgICAgICAnXScsXG4gICAgICAgICd7JyxcbiAgICAgICAgJ30nXG4gICAgXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHB1bmN0VGFibGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmdldENoYXJDb2RlKHB1bmN0VGFibGVbaV0pID4gMCkge1xuICAgICAgICAgICAgQ0hBUl9NQVBbQy5NT0RFX1BVTkNUXVtTdHJpbmdVdGlscy5nZXRDaGFyQ29kZShwdW5jdFRhYmxlW2ldKV0gPSBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBDSEFSX01BUDtcbn1cbmV4cG9ydCB2YXIgQ0hBUl9NQVAgPSBzdGF0aWNfQ0hBUl9NQVAoQXJyYXlzLmNyZWF0ZUludDMyQXJyYXkoNSwgMjU2KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGFyTWFwLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxMyBaWGluZyBhdXRob3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuLy8gaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uO1xuLy8gaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9ucztcbmltcG9ydCBDb2xsZWN0aW9ucyBmcm9tICcuLi8uLi91dGlsL0NvbGxlY3Rpb25zJztcbi8vIGltcG9ydCBqYXZhLnV0aWwuQ29tcGFyYXRvcjtcbi8vIGltcG9ydCBqYXZhLnV0aWwuSXRlcmF0b3I7XG4vLyBpbXBvcnQgamF2YS51dGlsLkxpbmtlZExpc3Q7XG5pbXBvcnQgU3RhdGUgZnJvbSAnLi9TdGF0ZSc7XG5pbXBvcnQgKiBhcyBDIGZyb20gJy4vRW5jb2RlckNvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBDaGFyTWFwIGZyb20gJy4vQ2hhck1hcCc7XG5pbXBvcnQgKiBhcyBTaGlmdFRhYmxlIGZyb20gJy4vU2hpZnRUYWJsZSc7XG5pbXBvcnQgU3RyaW5nVXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL1N0cmluZ1V0aWxzJztcbi8qKlxuICogVGhpcyBwcm9kdWNlcyBuZWFybHkgb3B0aW1hbCBlbmNvZGluZ3Mgb2YgdGV4dCBpbnRvIHRoZSBmaXJzdC1sZXZlbCBvZlxuICogZW5jb2RpbmcgdXNlZCBieSBBenRlYyBjb2RlLlxuICpcbiAqIEl0IHVzZXMgYSBkeW5hbWljIGFsZ29yaXRobS4gIEZvciBlYWNoIHByZWZpeCBvZiB0aGUgc3RyaW5nLCBpdCBkZXRlcm1pbmVzXG4gKiBhIHNldCBvZiBlbmNvZGluZ3MgdGhhdCBjb3VsZCBsZWFkIHRvIHRoaXMgcHJlZml4LiAgV2UgcmVwZWF0ZWRseSBhZGQgYVxuICogY2hhcmFjdGVyIGFuZCBnZW5lcmF0ZSBhIG5ldyBzZXQgb2Ygb3B0aW1hbCBlbmNvZGluZ3MgdW50aWwgd2UgaGF2ZSByZWFkXG4gKiB0aHJvdWdoIHRoZSBlbnRpcmUgaW5wdXQuXG4gKlxuICogQGF1dGhvciBGcmFuayBZZWxsaW5cbiAqIEBhdXRob3IgUnVzdGFtIEFiZHVsbGFldlxuICovXG52YXIgSGlnaExldmVsRW5jb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIaWdoTGV2ZWxFbmNvZGVyKHRleHQpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGVkIGJ5IHRoaXMgZW5jb2RlciBlbmNvZGVkIGFzIGEge0BsaW5rIEJpdEFycmF5fVxuICAgICAqL1xuICAgIEhpZ2hMZXZlbEVuY29kZXIucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNwYWNlQ2hhckNvZGUgPSBTdHJpbmdVdGlscy5nZXRDaGFyQ29kZSgnICcpO1xuICAgICAgICB2YXIgbGluZUJyZWFrQ2hhckNvZGUgPSBTdHJpbmdVdGlscy5nZXRDaGFyQ29kZSgnXFxuJyk7XG4gICAgICAgIHZhciBzdGF0ZXMgPSBDb2xsZWN0aW9ucy5zaW5nbGV0b25MaXN0KFN0YXRlLklOSVRJQUxfU1RBVEUpO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIHBhaXJDb2RlID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gaW5kZXggKyAxIDwgdGhpcy50ZXh0Lmxlbmd0aCA/IHRoaXMudGV4dFtpbmRleCArIDFdIDogMDtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy50ZXh0W2luZGV4XSkge1xuICAgICAgICAgICAgICAgIGNhc2UgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUoJ1xccicpOlxuICAgICAgICAgICAgICAgICAgICBwYWlyQ29kZSA9IG5leHRDaGFyID09PSBsaW5lQnJlYWtDaGFyQ29kZSA/IDIgOiAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFN0cmluZ1V0aWxzLmdldENoYXJDb2RlKCcuJyk6XG4gICAgICAgICAgICAgICAgICAgIHBhaXJDb2RlID0gbmV4dENoYXIgPT09IHNwYWNlQ2hhckNvZGUgPyAzIDogMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBTdHJpbmdVdGlscy5nZXRDaGFyQ29kZSgnLCcpOlxuICAgICAgICAgICAgICAgICAgICBwYWlyQ29kZSA9IG5leHRDaGFyID09PSBzcGFjZUNoYXJDb2RlID8gNCA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUoJzonKTpcbiAgICAgICAgICAgICAgICAgICAgcGFpckNvZGUgPSBuZXh0Q2hhciA9PT0gc3BhY2VDaGFyQ29kZSA/IDUgOiAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBwYWlyQ29kZSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFpckNvZGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBvbmUgb2YgdGhlIGZvdXIgc3BlY2lhbCBQVU5DVCBwYWlycy4gIFRyZWF0IHRoZW0gc3BlY2lhbGx5LlxuICAgICAgICAgICAgICAgIC8vIEdldCBhIG5ldyBzZXQgb2Ygc3RhdGVzIGZvciB0aGUgdHdvIG5ldyBjaGFyYWN0ZXJzLlxuICAgICAgICAgICAgICAgIHN0YXRlcyA9IEhpZ2hMZXZlbEVuY29kZXIudXBkYXRlU3RhdGVMaXN0Rm9yUGFpcihzdGF0ZXMsIGluZGV4LCBwYWlyQ29kZSk7XG4gICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEdldCBhIG5ldyBzZXQgb2Ygc3RhdGVzIGZvciB0aGUgbmV3IGNoYXJhY3Rlci5cbiAgICAgICAgICAgICAgICBzdGF0ZXMgPSB0aGlzLnVwZGF0ZVN0YXRlTGlzdEZvckNoYXIoc3RhdGVzLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgYXJlIGxlZnQgd2l0aCBhIHNldCBvZiBzdGF0ZXMuICBGaW5kIHRoZSBzaG9ydGVzdCBvbmUuXG4gICAgICAgIHZhciBtaW5TdGF0ZSA9IENvbGxlY3Rpb25zLm1pbihzdGF0ZXMsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5nZXRCaXRDb3VudCgpIC0gYi5nZXRCaXRDb3VudCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ29udmVydCBpdCB0byBhIGJpdCBhcnJheSwgYW5kIHJldHVybi5cbiAgICAgICAgcmV0dXJuIG1pblN0YXRlLnRvQml0QXJyYXkodGhpcy50ZXh0KTtcbiAgICB9O1xuICAgIC8vIFdlIHVwZGF0ZSBhIHNldCBvZiBzdGF0ZXMgZm9yIGEgbmV3IGNoYXJhY3RlciBieSB1cGRhdGluZyBlYWNoIHN0YXRlXG4gICAgLy8gZm9yIHRoZSBuZXcgY2hhcmFjdGVyLCBtZXJnaW5nIHRoZSByZXN1bHRzLCBhbmQgdGhlbiByZW1vdmluZyB0aGVcbiAgICAvLyBub24tb3B0aW1hbCBzdGF0ZXMuXG4gICAgSGlnaExldmVsRW5jb2Rlci5wcm90b3R5cGUudXBkYXRlU3RhdGVMaXN0Rm9yQ2hhciA9IGZ1bmN0aW9uIChzdGF0ZXMsIGluZGV4KSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBzdGF0ZXNfMSA9IF9fdmFsdWVzKHN0YXRlcyksIHN0YXRlc18xXzEgPSBzdGF0ZXNfMS5uZXh0KCk7ICFzdGF0ZXNfMV8xLmRvbmU7IHN0YXRlc18xXzEgPSBzdGF0ZXNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBzdGF0ZXNfMV8xLnZhbHVlIC8qU3RhdGUqLztcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlRm9yQ2hhcihzdGF0ZSwgaW5kZXgsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZXNfMV8xICYmICFzdGF0ZXNfMV8xLmRvbmUgJiYgKF9hID0gc3RhdGVzXzEucmV0dXJuKSkgX2EuY2FsbChzdGF0ZXNfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEhpZ2hMZXZlbEVuY29kZXIuc2ltcGxpZnlTdGF0ZXMocmVzdWx0KTtcbiAgICB9O1xuICAgIC8vIFJldHVybiBhIHNldCBvZiBzdGF0ZXMgdGhhdCByZXByZXNlbnQgdGhlIHBvc3NpYmxlIHdheXMgb2YgdXBkYXRpbmcgdGhpc1xuICAgIC8vIHN0YXRlIGZvciB0aGUgbmV4dCBjaGFyYWN0ZXIuICBUaGUgcmVzdWx0aW5nIHNldCBvZiBzdGF0ZXMgYXJlIGFkZGVkIHRvXG4gICAgLy8gdGhlIFwicmVzdWx0XCIgbGlzdC5cbiAgICBIaWdoTGV2ZWxFbmNvZGVyLnByb3RvdHlwZS51cGRhdGVTdGF0ZUZvckNoYXIgPSBmdW5jdGlvbiAoc3RhdGUsIGluZGV4LCByZXN1bHQpIHtcbiAgICAgICAgdmFyIGNoID0gKHRoaXMudGV4dFtpbmRleF0gJiAweGZmKTtcbiAgICAgICAgdmFyIGNoYXJJbkN1cnJlbnRUYWJsZSA9IENoYXJNYXAuQ0hBUl9NQVBbc3RhdGUuZ2V0TW9kZSgpXVtjaF0gPiAwO1xuICAgICAgICB2YXIgc3RhdGVOb0JpbmFyeSA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIG1vZGUgLyppbnQqLyA9IDA7IG1vZGUgPD0gQy5NT0RFX1BVTkNUOyBtb2RlKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFySW5Nb2RlID0gQ2hhck1hcC5DSEFSX01BUFttb2RlXVtjaF07XG4gICAgICAgICAgICBpZiAoY2hhckluTW9kZSA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGVOb0JpbmFyeSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgY3JlYXRlIHN0YXRlTm9CaW5hcnkgdGhlIGZpcnN0IHRpbWUgaXQncyByZXF1aXJlZC5cbiAgICAgICAgICAgICAgICAgICAgc3RhdGVOb0JpbmFyeSA9IHN0YXRlLmVuZEJpbmFyeVNoaWZ0KGluZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVHJ5IGdlbmVyYXRpbmcgdGhlIGNoYXJhY3RlciBieSBsYXRjaGluZyB0byBpdHMgbW9kZVxuICAgICAgICAgICAgICAgIGlmICghY2hhckluQ3VycmVudFRhYmxlIHx8XG4gICAgICAgICAgICAgICAgICAgIG1vZGUgPT09IHN0YXRlLmdldE1vZGUoKSB8fFxuICAgICAgICAgICAgICAgICAgICBtb2RlID09PSBDLk1PREVfRElHSVQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoYXJhY3RlciBpcyBpbiB0aGUgY3VycmVudCB0YWJsZSwgd2UgZG9uJ3Qgd2FudCB0byBsYXRjaCB0b1xuICAgICAgICAgICAgICAgICAgICAvLyBhbnkgb3RoZXIgbW9kZSBleGNlcHQgcG9zc2libHkgZGlnaXQgKHdoaWNoIHVzZXMgb25seSA0IGJpdHMpLiAgQW55XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyIGxhdGNoIHdvdWxkIGJlIGVxdWFsbHkgc3VjY2Vzc2Z1bCAqYWZ0ZXIqIHRoaXMgY2hhcmFjdGVyLCBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd291bGRuJ3Qgc2F2ZSBhbnkgYml0cy5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdGNoU3RhdGUgPSBzdGF0ZU5vQmluYXJ5LmxhdGNoQW5kQXBwZW5kKG1vZGUsIGNoYXJJbk1vZGUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsYXRjaFN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVHJ5IGdlbmVyYXRpbmcgdGhlIGNoYXJhY3RlciBieSBzd2l0Y2hpbmcgdG8gaXRzIG1vZGUuXG4gICAgICAgICAgICAgICAgaWYgKCFjaGFySW5DdXJyZW50VGFibGUgJiZcbiAgICAgICAgICAgICAgICAgICAgU2hpZnRUYWJsZS5TSElGVF9UQUJMRVtzdGF0ZS5nZXRNb2RlKCldW21vZGVdID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgbmV2ZXIgbWFrZXMgc2Vuc2UgdG8gdGVtcG9yYXJpbHkgc2hpZnQgdG8gYW5vdGhlciBtb2RlIGlmIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBjaGFyYWN0ZXIgZXhpc3RzIGluIHRoZSBjdXJyZW50IG1vZGUuICBUaGF0IGNhbiBuZXZlciBzYXZlIGJpdHMuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaGlmdFN0YXRlID0gc3RhdGVOb0JpbmFyeS5zaGlmdEFuZEFwcGVuZChtb2RlLCBjaGFySW5Nb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc2hpZnRTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5nZXRCaW5hcnlTaGlmdEJ5dGVDb3VudCgpID4gMCB8fFxuICAgICAgICAgICAgQ2hhck1hcC5DSEFSX01BUFtzdGF0ZS5nZXRNb2RlKCldW2NoXSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gSXQncyBuZXZlciB3b3J0aHdoaWxlIHRvIGdvIGludG8gYmluYXJ5IHNoaWZ0IG1vZGUgaWYgeW91J3JlIG5vdCBhbHJlYWR5XG4gICAgICAgICAgICAvLyBpbiBiaW5hcnkgc2hpZnQgbW9kZSwgYW5kIHRoZSBjaGFyYWN0ZXIgZXhpc3RzIGluIHlvdXIgY3VycmVudCBtb2RlLlxuICAgICAgICAgICAgLy8gVGhhdCBjYW4gbmV2ZXIgc2F2ZSBiaXRzIG92ZXIganVzdCBvdXRwdXR0aW5nIHRoZSBjaGFyIGluIHRoZSBjdXJyZW50IG1vZGUuXG4gICAgICAgICAgICB2YXIgYmluYXJ5U3RhdGUgPSBzdGF0ZS5hZGRCaW5hcnlTaGlmdENoYXIoaW5kZXgpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYmluYXJ5U3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIaWdoTGV2ZWxFbmNvZGVyLnVwZGF0ZVN0YXRlTGlzdEZvclBhaXIgPSBmdW5jdGlvbiAoc3RhdGVzLCBpbmRleCwgcGFpckNvZGUpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIHN0YXRlc18yID0gX192YWx1ZXMoc3RhdGVzKSwgc3RhdGVzXzJfMSA9IHN0YXRlc18yLm5leHQoKTsgIXN0YXRlc18yXzEuZG9uZTsgc3RhdGVzXzJfMSA9IHN0YXRlc18yLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IHN0YXRlc18yXzEudmFsdWUgLypTdGF0ZSovO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGVGb3JQYWlyKHN0YXRlLCBpbmRleCwgcGFpckNvZGUsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZXNfMl8xICYmICFzdGF0ZXNfMl8xLmRvbmUgJiYgKF9hID0gc3RhdGVzXzIucmV0dXJuKSkgX2EuY2FsbChzdGF0ZXNfMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxpZnlTdGF0ZXMocmVzdWx0KTtcbiAgICB9O1xuICAgIEhpZ2hMZXZlbEVuY29kZXIudXBkYXRlU3RhdGVGb3JQYWlyID0gZnVuY3Rpb24gKHN0YXRlLCBpbmRleCwgcGFpckNvZGUsIHJlc3VsdCkge1xuICAgICAgICB2YXIgc3RhdGVOb0JpbmFyeSA9IHN0YXRlLmVuZEJpbmFyeVNoaWZ0KGluZGV4KTtcbiAgICAgICAgLy8gUG9zc2liaWxpdHkgMS4gIExhdGNoIHRvIEMuTU9ERV9QVU5DVCwgYW5kIHRoZW4gYXBwZW5kIHRoaXMgY29kZVxuICAgICAgICByZXN1bHQucHVzaChzdGF0ZU5vQmluYXJ5LmxhdGNoQW5kQXBwZW5kKEMuTU9ERV9QVU5DVCwgcGFpckNvZGUpKTtcbiAgICAgICAgaWYgKHN0YXRlLmdldE1vZGUoKSAhPT0gQy5NT0RFX1BVTkNUKSB7XG4gICAgICAgICAgICAvLyBQb3NzaWJpbGl0eSAyLiAgU2hpZnQgdG8gQy5NT0RFX1BVTkNULCBhbmQgdGhlbiBhcHBlbmQgdGhpcyBjb2RlLlxuICAgICAgICAgICAgLy8gRXZlcnkgc3RhdGUgZXhjZXB0IEMuTU9ERV9QVU5DVCAoaGFuZGxlZCBhYm92ZSkgY2FuIHNoaWZ0XG4gICAgICAgICAgICByZXN1bHQucHVzaChzdGF0ZU5vQmluYXJ5LnNoaWZ0QW5kQXBwZW5kKEMuTU9ERV9QVU5DVCwgcGFpckNvZGUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFpckNvZGUgPT09IDMgfHwgcGFpckNvZGUgPT09IDQpIHtcbiAgICAgICAgICAgIC8vIGJvdGggY2hhcmFjdGVycyBhcmUgaW4gRElHSVRTLiAgU29tZXRpbWVzIGJldHRlciB0byBqdXN0IGFkZCB0d28gZGlnaXRzXG4gICAgICAgICAgICB2YXIgZGlnaXRTdGF0ZSA9IHN0YXRlTm9CaW5hcnlcbiAgICAgICAgICAgICAgICAubGF0Y2hBbmRBcHBlbmQoQy5NT0RFX0RJR0lULCAxNiAtIHBhaXJDb2RlKSAvLyBwZXJpb2Qgb3IgY29tbWEgaW4gRElHSVRcbiAgICAgICAgICAgICAgICAubGF0Y2hBbmRBcHBlbmQoQy5NT0RFX0RJR0lULCAxKTsgLy8gc3BhY2UgaW4gRElHSVRcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGRpZ2l0U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5nZXRCaW5hcnlTaGlmdEJ5dGVDb3VudCgpID4gMCkge1xuICAgICAgICAgICAgLy8gSXQgb25seSBtYWtlcyBzZW5zZSB0byBkbyB0aGUgY2hhcmFjdGVycyBhcyBiaW5hcnkgaWYgd2UncmUgYWxyZWFkeVxuICAgICAgICAgICAgLy8gaW4gYmluYXJ5IG1vZGUuXG4gICAgICAgICAgICB2YXIgYmluYXJ5U3RhdGUgPSBzdGF0ZVxuICAgICAgICAgICAgICAgIC5hZGRCaW5hcnlTaGlmdENoYXIoaW5kZXgpXG4gICAgICAgICAgICAgICAgLmFkZEJpbmFyeVNoaWZ0Q2hhcihpbmRleCArIDEpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYmluYXJ5U3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIaWdoTGV2ZWxFbmNvZGVyLnNpbXBsaWZ5U3RhdGVzID0gZnVuY3Rpb24gKHN0YXRlcykge1xuICAgICAgICB2YXIgZV8zLCBfYSwgZV80LCBfYjtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgc3RhdGVzXzMgPSBfX3ZhbHVlcyhzdGF0ZXMpLCBzdGF0ZXNfM18xID0gc3RhdGVzXzMubmV4dCgpOyAhc3RhdGVzXzNfMS5kb25lOyBzdGF0ZXNfM18xID0gc3RhdGVzXzMubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1N0YXRlID0gc3RhdGVzXzNfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgYWRkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChvbGRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2xkU3RhdGUuaXNCZXR0ZXJUaGFuT3JFcXVhbFRvKG5ld1N0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJicmVha1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdTdGF0ZS5pc0JldHRlclRoYW5PckVxdWFsVG8ob2xkU3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRvci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggIT09IG9sZFN0YXRlOyB9KTsgLy8gcmVtb3ZlIG9sZCBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByZXN1bHRfMSA9IChlXzQgPSB2b2lkIDAsIF9fdmFsdWVzKHJlc3VsdCkpLCByZXN1bHRfMV8xID0gcmVzdWx0XzEubmV4dCgpOyAhcmVzdWx0XzFfMS5kb25lOyByZXN1bHRfMV8xID0gcmVzdWx0XzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkU3RhdGUgPSByZXN1bHRfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlXzEgPSBfbG9vcF8xKG9sZFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZV8xID09PSBcImJyZWFrXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfMV8xICYmICFyZXN1bHRfMV8xLmRvbmUgJiYgKF9iID0gcmVzdWx0XzEucmV0dXJuKSkgX2IuY2FsbChyZXN1bHRfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ld1N0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfM18xKSB7IGVfMyA9IHsgZXJyb3I6IGVfM18xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZXNfM18xICYmICFzdGF0ZXNfM18xLmRvbmUgJiYgKF9hID0gc3RhdGVzXzMucmV0dXJuKSkgX2EuY2FsbChzdGF0ZXNfMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIHJldHVybiBIaWdoTGV2ZWxFbmNvZGVyO1xufSgpKTtcbmV4cG9ydCBkZWZhdWx0IEhpZ2hMZXZlbEVuY29kZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IaWdoTGV2ZWxFbmNvZGVyLmpzLm1hcCIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cbiAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0aHJvdHRsZTtcbiIsImV4cG9ydCBmdW5jdGlvbiBpc0RvY3VtZW50VmlzaWJsZSgpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlICE9PSAnaGlkZGVuJztcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzT25saW5lKCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvci5vbkxpbmUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn0iLCJ2YXIgX19yZWFkID0gdGhpcyAmJiB0aGlzLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdGhpcyAmJiB0aGlzLl9fc3ByZWFkIHx8IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaW1pdChmbiwgdGltZXNwYW4pIHtcbiAgdmFyIHBlbmRpbmcgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG5cbiAgICBpZiAocGVuZGluZykgcmV0dXJuO1xuICAgIHBlbmRpbmcgPSB0cnVlO1xuICAgIGZuLmFwcGx5KHZvaWQgMCwgX19zcHJlYWQoYXJncykpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcGVuZGluZyA9IGZhbHNlO1xuICAgIH0sIHRpbWVzcGFuKTtcbiAgfTtcbn0iLCJ2YXIgX19yZWFkID0gdGhpcyAmJiB0aGlzLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdGhpcyAmJiB0aGlzLl9fc3ByZWFkIHx8IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiB1c2VQZXJzaXN0Rm4oZm4pIHtcbiAgdmFyIHJlZiA9IHVzZVJlZihmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBhbiBldmVudCBoYW5kbGVyIHdoaWxlIHJlbmRlcmluZy4nKTtcbiAgfSk7XG4gIHJlZi5jdXJyZW50ID0gZm47XG4gIHZhciBwZXJzaXN0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cblxuICAgIHZhciByZWZGbiA9IHJlZi5jdXJyZW50O1xuXG4gICAgaWYgKHJlZkZuKSB7XG4gICAgICByZXR1cm4gcmVmRm4uYXBwbHkodm9pZCAwLCBfX3NwcmVhZChhcmdzKSk7XG4gICAgfVxuICB9LCBbcmVmXSk7XG5cbiAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBwZXJzaXN0O1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlUGVyc2lzdEZuOyIsIi8vIGZyb20gc3dyXG5pbXBvcnQgeyBpc0RvY3VtZW50VmlzaWJsZSwgaXNPbmxpbmUgfSBmcm9tICcuL3V0aWxzJztcbnZhciBsaXN0ZW5lcnMgPSBbXTtcblxuZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcbn1cblxudmFyIGV2ZW50c0JpbmRlZCA9IGZhbHNlO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgJiYgIWV2ZW50c0JpbmRlZCkge1xuICB2YXIgcmV2YWxpZGF0ZSA9IGZ1bmN0aW9uIHJldmFsaWRhdGUoKSB7XG4gICAgaWYgKCFpc0RvY3VtZW50VmlzaWJsZSgpIHx8ICFpc09ubGluZSgpKSByZXR1cm47XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCByZXZhbGlkYXRlLCBmYWxzZSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHJldmFsaWRhdGUsIGZhbHNlKTsgLy8gb25seSBiaW5kIHRoZSBldmVudHMgb25jZVxuXG4gIGV2ZW50c0JpbmRlZCA9IHRydWU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN1YnNjcmliZTsiLCIvLyBmcm9tIHN3clxuaW1wb3J0IHsgaXNEb2N1bWVudFZpc2libGUgfSBmcm9tICcuL3V0aWxzJztcbnZhciBsaXN0ZW5lcnMgPSBbXTtcblxuZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgIHZhciBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfTtcbn1cblxudmFyIGV2ZW50c0JpbmRlZCA9IGZhbHNlO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgJiYgIWV2ZW50c0JpbmRlZCkge1xuICB2YXIgcmV2YWxpZGF0ZSA9IGZ1bmN0aW9uIHJldmFsaWRhdGUoKSB7XG4gICAgaWYgKCFpc0RvY3VtZW50VmlzaWJsZSgpKSByZXR1cm47XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCByZXZhbGlkYXRlLCBmYWxzZSk7IC8vIG9ubHkgYmluZCB0aGUgZXZlbnRzIG9uY2VcblxuICBldmVudHNCaW5kZWQgPSB0cnVlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdWJzY3JpYmU7IiwidmFyIF9fYXNzaWduID0gdGhpcyAmJiB0aGlzLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZWFkID0gdGhpcyAmJiB0aGlzLl9fcmVhZCB8fCBmdW5jdGlvbiAobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLFxuICAgICAgcixcbiAgICAgIGFyID0gW10sXG4gICAgICBlO1xuXG4gIHRyeSB7XG4gICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGFyLnB1c2goci52YWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSB7XG4gICAgICBlcnJvcjogZXJyb3JcbiAgICB9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGUpIHRocm93IGUuZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxudmFyIF9fc3ByZWFkID0gdGhpcyAmJiB0aGlzLl9fc3ByZWFkIHx8IGZ1bmN0aW9uICgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoLmRlYm91bmNlJztcbmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gudGhyb3R0bGUnO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGlzRG9jdW1lbnRWaXNpYmxlIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBnZXRDYWNoZSwgc2V0Q2FjaGUgfSBmcm9tICcuL3V0aWxzL2NhY2hlJztcbmltcG9ydCBsaW1pdCBmcm9tICcuL3V0aWxzL2xpbWl0JztcbmltcG9ydCB1c2VQZXJzaXN0Rm4gZnJvbSAnLi91dGlscy91c2VQZXJzaXN0Rm4nO1xuaW1wb3J0IHVzZVVwZGF0ZUVmZmVjdCBmcm9tICcuL3V0aWxzL3VzZVVwZGF0ZUVmZmVjdCc7XG5pbXBvcnQgc3Vic2NyaWJlRm9jdXMgZnJvbSAnLi91dGlscy93aW5kb3dGb2N1cyc7XG5pbXBvcnQgc3Vic2NyaWJlVmlzaWJsZSBmcm9tICcuL3V0aWxzL3dpbmRvd1Zpc2libGUnO1xudmFyIERFRkFVTFRfS0VZID0gJ0FIT09LU19VU0VfUkVRVUVTVF9ERUZBVUxUX0tFWSc7XG5cbnZhciBGZXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRmV0Y2goc2VydmljZSwgY29uZmlnLCBzdWJzY3JpYmUsIGluaXRTdGF0ZSkge1xuICAgIC8vIOivt+axguaXtuW6j1xuICAgIHRoaXMuY291bnQgPSAwOyAvLyB2aXNpYmxlIOWQju+8jOaYr+WQpue7p+e7rei9ruivolxuXG4gICAgdGhpcy5wb2xsaW5nV2hlblZpc2libGVGbGFnID0gZmFsc2U7XG4gICAgdGhpcy5wb2xsaW5nVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sb2FkaW5nRGVsYXlUaW1lciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnVuc3Vic2NyaWJlID0gW107XG4gICAgdGhpcy50aGF0ID0gdGhpcztcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICBwYXJhbXM6IFtdLFxuICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgIHJ1bjogdGhpcy5ydW4uYmluZCh0aGlzLnRoYXQpLFxuICAgICAgbXV0YXRlOiB0aGlzLm11dGF0ZS5iaW5kKHRoaXMudGhhdCksXG4gICAgICByZWZyZXNoOiB0aGlzLnJlZnJlc2guYmluZCh0aGlzLnRoYXQpLFxuICAgICAgY2FuY2VsOiB0aGlzLmNhbmNlbC5iaW5kKHRoaXMudGhhdCksXG4gICAgICB1bm1vdW50OiB0aGlzLnVubW91bnQuYmluZCh0aGlzLnRoYXQpXG4gICAgfTtcbiAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuXG4gICAgaWYgKGluaXRTdGF0ZSkge1xuICAgICAgdGhpcy5zdGF0ZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLnN0YXRlKSwgaW5pdFN0YXRlKTtcbiAgICB9XG5cbiAgICB0aGlzLmRlYm91bmNlUnVuID0gdGhpcy5jb25maWcuZGVib3VuY2VJbnRlcnZhbCA/IGRlYm91bmNlKHRoaXMuX3J1biwgdGhpcy5jb25maWcuZGVib3VuY2VJbnRlcnZhbCkgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy50aHJvdHRsZVJ1biA9IHRoaXMuY29uZmlnLnRocm90dGxlSW50ZXJ2YWwgPyB0aHJvdHRsZSh0aGlzLl9ydW4sIHRoaXMuY29uZmlnLnRocm90dGxlSW50ZXJ2YWwpIDogdW5kZWZpbmVkO1xuICAgIHRoaXMubGltaXRSZWZyZXNoID0gbGltaXQodGhpcy5yZWZyZXNoLmJpbmQodGhpcyksIHRoaXMuY29uZmlnLmZvY3VzVGltZXNwYW4pO1xuXG4gICAgaWYgKHRoaXMuY29uZmlnLnBvbGxpbmdJbnRlcnZhbCkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZS5wdXNoKHN1YnNjcmliZVZpc2libGUodGhpcy5yZVBvbGxpbmcuYmluZCh0aGlzKSkpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbmZpZy5yZWZyZXNoT25XaW5kb3dGb2N1cykge1xuICAgICAgdGhpcy51bnN1YnNjcmliZS5wdXNoKHN1YnNjcmliZUZvY3VzKHRoaXMubGltaXRSZWZyZXNoLmJpbmQodGhpcykpKTtcbiAgICB9XG4gIH1cblxuICBGZXRjaC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocykge1xuICAgIGlmIChzID09PSB2b2lkIDApIHtcbiAgICAgIHMgPSB7fTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuc3RhdGUpLCBzKTtcbiAgICB0aGlzLnN1YnNjcmliZSh0aGlzLnN0YXRlKTtcbiAgfTtcblxuICBGZXRjaC5wcm90b3R5cGUuX3J1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfSAvLyDlj5bmtojlt7LmnInlrprml7blmahcblxuXG4gICAgaWYgKHRoaXMucG9sbGluZ1RpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5wb2xsaW5nVGltZXIpO1xuICAgIH0gLy8g5Y+W5raIIGxvYWRpbmdEZWxheVRpbWVyXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmdEZWxheVRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5sb2FkaW5nRGVsYXlUaW1lcik7XG4gICAgfVxuXG4gICAgdGhpcy5jb3VudCArPSAxOyAvLyDpl63ljIXlrZjlgqjlvZPmrKHor7fmsYLnmoQgY291bnRcblxuICAgIHZhciBjdXJyZW50Q291bnQgPSB0aGlzLmNvdW50O1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbG9hZGluZzogIXRoaXMuY29uZmlnLmxvYWRpbmdEZWxheSxcbiAgICAgIHBhcmFtczogYXJnc1xuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuY29uZmlnLmxvYWRpbmdEZWxheSkge1xuICAgICAgdGhpcy5sb2FkaW5nRGVsYXlUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbG9hZGluZzogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0sIHRoaXMuY29uZmlnLmxvYWRpbmdEZWxheSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2VydmljZS5hcHBseSh0aGlzLCBfX3NwcmVhZChhcmdzKSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpZiAoY3VycmVudENvdW50ICE9PSBfdGhpcy5jb3VudCkge1xuICAgICAgICAvLyBwcmV2ZW50IHJ1bi50aGVuIHdoZW4gcmVxdWVzdCBpcyBjYW5jZWxlZFxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKCkge30pO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMubG9hZGluZ0RlbGF5VGltZXIpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmxvYWRpbmdEZWxheVRpbWVyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZvcm1hdHRlZFJlc3VsdCA9IF90aGlzLmNvbmZpZy5mb3JtYXRSZXN1bHQgPyBfdGhpcy5jb25maWcuZm9ybWF0UmVzdWx0KHJlcykgOiByZXM7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0YTogZm9ybWF0dGVkUmVzdWx0LFxuICAgICAgICBlcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICBsb2FkaW5nOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChfdGhpcy5jb25maWcub25TdWNjZXNzKSB7XG4gICAgICAgIF90aGlzLmNvbmZpZy5vblN1Y2Nlc3MoZm9ybWF0dGVkUmVzdWx0LCBhcmdzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZvcm1hdHRlZFJlc3VsdDtcbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgaWYgKGN1cnJlbnRDb3VudCAhPT0gX3RoaXMuY291bnQpIHtcbiAgICAgICAgLy8gcHJldmVudCBydW4udGhlbiB3aGVuIHJlcXVlc3QgaXMgY2FuY2VsZWRcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLmxvYWRpbmdEZWxheVRpbWVyKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5sb2FkaW5nRGVsYXlUaW1lcik7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgIGxvYWRpbmc6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLmNvbmZpZy5vbkVycm9yKSB7XG4gICAgICAgIF90aGlzLmNvbmZpZy5vbkVycm9yKGVycm9yLCBhcmdzKTtcbiAgICAgIH0gLy8gSWYgdGhyb3dPbkVycm9yLCB1c2VyIHNob3VsZCBjYXRjaCB0aGUgZXJyb3Igc2VsZixcbiAgICAgIC8vIG9yIHRoZSBwYWdlIHdpbGwgY3Jhc2hcblxuXG4gICAgICBpZiAoX3RoaXMuY29uZmlnLnRocm93T25FcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcHJvbWlzZS1yZWplY3QtZXJyb3JzXG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgndXNlUmVxdWVzdCBoYXMgY2F1Z2h0IHRoZSBleGNlcHRpb24sIGlmIHlvdSBuZWVkIHRvIGhhbmRsZSB0aGUgZXhjZXB0aW9uIHlvdXJzZWxmLCB5b3UgY2FuIHNldCBvcHRpb25zLnRocm93T25FcnJvciB0byB0cnVlLicpO1xuICAgIH0pW1wiZmluYWxseVwiXShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoY3VycmVudENvdW50ID09PSBfdGhpcy5jb3VudCkge1xuICAgICAgICBpZiAoX3RoaXMuY29uZmlnLnBvbGxpbmdJbnRlcnZhbCkge1xuICAgICAgICAgIC8vIOWmguaenOWxj+W5lemakOiXj++8jOW5tuS4lCAhcG9sbGluZ1doZW5IaWRkZW4sIOWImeWBnOatoui9ruivou+8jOW5tuiusOW9lSBmbGFn77yM562JIHZpc2libGUg5pe277yM57un57ut6L2u6K+iXG4gICAgICAgICAgaWYgKCFpc0RvY3VtZW50VmlzaWJsZSgpICYmICFfdGhpcy5jb25maWcucG9sbGluZ1doZW5IaWRkZW4pIHtcbiAgICAgICAgICAgIF90aGlzLnBvbGxpbmdXaGVuVmlzaWJsZUZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLnBvbGxpbmdUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX3J1bi5hcHBseShfdGhpcywgX19zcHJlYWQoYXJncykpO1xuICAgICAgICAgIH0sIF90aGlzLmNvbmZpZy5wb2xsaW5nSW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgRmV0Y2gucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kZWJvdW5jZVJ1bikge1xuICAgICAgdGhpcy5kZWJvdW5jZVJ1bi5hcHBseSh0aGlzLCBfX3NwcmVhZChhcmdzKSk7IC8vIFRPRE8g5aaC5p6cIG9wdGlvbnMg5a2Y5ZyoIGRlYm91bmNlSW50ZXJ2YWzvvIzmiJYgdGhyb3R0bGVJbnRlcnZhbO+8jOWImSBydW4g5ZKMIHJlZnJlc2gg5LiN5Lya6L+U5ZueIFByb21pc2XjgIIg5bim57G75Z6L6ZyA6KaB5L+u5aSN5ZCO77yM5q2k5aSE5Y+Y5oiQIHJldHVybjvjgIJcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50aHJvdHRsZVJ1bikge1xuICAgICAgdGhpcy50aHJvdHRsZVJ1bi5hcHBseSh0aGlzLCBfX3NwcmVhZChhcmdzKSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9ydW4uYXBwbHkodGhpcywgX19zcHJlYWQoYXJncykpO1xuICB9O1xuXG4gIEZldGNoLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuZGVib3VuY2VSdW4pIHtcbiAgICAgIHRoaXMuZGVib3VuY2VSdW4uY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGhyb3R0bGVSdW4pIHtcbiAgICAgIHRoaXMudGhyb3R0bGVSdW4uY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubG9hZGluZ0RlbGF5VGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxvYWRpbmdEZWxheVRpbWVyKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wb2xsaW5nVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBvbGxpbmdUaW1lcik7XG4gICAgfVxuXG4gICAgdGhpcy5wb2xsaW5nV2hlblZpc2libGVGbGFnID0gZmFsc2U7XG4gICAgdGhpcy5jb3VudCArPSAxO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbG9hZGluZzogZmFsc2VcbiAgICB9KTtcbiAgfTtcblxuICBGZXRjaC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5ydW4uYXBwbHkodGhpcywgX19zcHJlYWQodGhpcy5zdGF0ZS5wYXJhbXMpKTtcbiAgfTtcblxuICBGZXRjaC5wcm90b3R5cGUucmVQb2xsaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBvbGxpbmdXaGVuVmlzaWJsZUZsYWcpIHtcbiAgICAgIHRoaXMucG9sbGluZ1doZW5WaXNpYmxlRmxhZyA9IGZhbHNlO1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICB9O1xuXG4gIEZldGNoLnByb3RvdHlwZS5tdXRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1hY2Nlc3Mtc3RhdGUtaW4tc2V0c3RhdGVcbiAgICAgICAgZGF0YTogZGF0YSh0aGlzLnN0YXRlLmRhdGEpIHx8IHt9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRhdGE6IGRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBGZXRjaC5wcm90b3R5cGUudW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNhbmNlbCgpO1xuICAgIHRoaXMudW5zdWJzY3JpYmUuZm9yRWFjaChmdW5jdGlvbiAocykge1xuICAgICAgcygpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBGZXRjaDtcbn0oKTtcblxuZnVuY3Rpb24gdXNlQXN5bmMoc2VydmljZSwgb3B0aW9ucykge1xuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBfYSA9IF9vcHRpb25zLnJlZnJlc2hEZXBzLFxuICAgICAgcmVmcmVzaERlcHMgPSBfYSA9PT0gdm9pZCAwID8gW10gOiBfYSxcbiAgICAgIF9iID0gX29wdGlvbnMubWFudWFsLFxuICAgICAgbWFudWFsID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2IsXG4gICAgICBfYyA9IF9vcHRpb25zLm9uU3VjY2VzcyxcbiAgICAgIG9uU3VjY2VzcyA9IF9jID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7fSA6IF9jLFxuICAgICAgX2QgPSBfb3B0aW9ucy5vbkVycm9yLFxuICAgICAgb25FcnJvciA9IF9kID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoKSB7fSA6IF9kLFxuICAgICAgX2UgPSBfb3B0aW9ucy5kZWZhdWx0TG9hZGluZyxcbiAgICAgIGRlZmF1bHRMb2FkaW5nID0gX2UgPT09IHZvaWQgMCA/IGZhbHNlIDogX2UsXG4gICAgICBsb2FkaW5nRGVsYXkgPSBfb3B0aW9ucy5sb2FkaW5nRGVsYXksXG4gICAgICBfZiA9IF9vcHRpb25zLnBvbGxpbmdJbnRlcnZhbCxcbiAgICAgIHBvbGxpbmdJbnRlcnZhbCA9IF9mID09PSB2b2lkIDAgPyAwIDogX2YsXG4gICAgICBfZyA9IF9vcHRpb25zLnBvbGxpbmdXaGVuSGlkZGVuLFxuICAgICAgcG9sbGluZ1doZW5IaWRkZW4gPSBfZyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9nLFxuICAgICAgX2ggPSBfb3B0aW9ucy5kZWZhdWx0UGFyYW1zLFxuICAgICAgZGVmYXVsdFBhcmFtcyA9IF9oID09PSB2b2lkIDAgPyBbXSA6IF9oLFxuICAgICAgX2ogPSBfb3B0aW9ucy5yZWZyZXNoT25XaW5kb3dGb2N1cyxcbiAgICAgIHJlZnJlc2hPbldpbmRvd0ZvY3VzID0gX2ogPT09IHZvaWQgMCA/IGZhbHNlIDogX2osXG4gICAgICBfayA9IF9vcHRpb25zLmZvY3VzVGltZXNwYW4sXG4gICAgICBmb2N1c1RpbWVzcGFuID0gX2sgPT09IHZvaWQgMCA/IDUwMDAgOiBfayxcbiAgICAgIGZldGNoS2V5ID0gX29wdGlvbnMuZmV0Y2hLZXksXG4gICAgICBjYWNoZUtleSA9IF9vcHRpb25zLmNhY2hlS2V5LFxuICAgICAgX2wgPSBfb3B0aW9ucy5jYWNoZVRpbWUsXG4gICAgICBjYWNoZVRpbWUgPSBfbCA9PT0gdm9pZCAwID8gNSAqIDYwICogMTAwMCA6IF9sLFxuICAgICAgX20gPSBfb3B0aW9ucy5zdGFsZVRpbWUsXG4gICAgICBzdGFsZVRpbWUgPSBfbSA9PT0gdm9pZCAwID8gMCA6IF9tLFxuICAgICAgZGVib3VuY2VJbnRlcnZhbCA9IF9vcHRpb25zLmRlYm91bmNlSW50ZXJ2YWwsXG4gICAgICB0aHJvdHRsZUludGVydmFsID0gX29wdGlvbnMudGhyb3R0bGVJbnRlcnZhbCxcbiAgICAgIGluaXRpYWxEYXRhID0gX29wdGlvbnMuaW5pdGlhbERhdGEsXG4gICAgICBfbyA9IF9vcHRpb25zLnJlYWR5LFxuICAgICAgcmVhZHkgPSBfbyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vLFxuICAgICAgX3AgPSBfb3B0aW9ucy50aHJvd09uRXJyb3IsXG4gICAgICB0aHJvd09uRXJyb3IgPSBfcCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcDtcbiAgdmFyIG5ld3N0RmV0Y2hLZXkgPSB1c2VSZWYoREVGQVVMVF9LRVkpOyAvLyDmjIHkuYXljJbkuIDkupvlh73mlbBcblxuICB2YXIgc2VydmljZVBlcnNpc3QgPSB1c2VQZXJzaXN0Rm4oc2VydmljZSk7XG4gIHZhciBvblN1Y2Nlc3NQZXJzaXN0ID0gdXNlUGVyc2lzdEZuKG9uU3VjY2Vzcyk7XG4gIHZhciBvbkVycm9yUGVyc2lzdCA9IHVzZVBlcnNpc3RGbihvbkVycm9yKTtcbiAgdmFyIGZldGNoS2V5UGVyc2lzdCA9IHVzZVBlcnNpc3RGbihmZXRjaEtleSk7XG4gIHZhciBmb3JtYXRSZXN1bHQ7XG5cbiAgaWYgKCdmb3JtYXRSZXN1bHQnIGluIF9vcHRpb25zKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgZm9ybWF0UmVzdWx0ID0gX29wdGlvbnMuZm9ybWF0UmVzdWx0O1xuICB9XG5cbiAgdmFyIGZvcm1hdFJlc3VsdFBlcnNpc3QgPSB1c2VQZXJzaXN0Rm4oZm9ybWF0UmVzdWx0KTtcbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBmb3JtYXRSZXN1bHQ6IGZvcm1hdFJlc3VsdFBlcnNpc3QsXG4gICAgb25TdWNjZXNzOiBvblN1Y2Nlc3NQZXJzaXN0LFxuICAgIG9uRXJyb3I6IG9uRXJyb3JQZXJzaXN0LFxuICAgIGxvYWRpbmdEZWxheTogbG9hZGluZ0RlbGF5LFxuICAgIHBvbGxpbmdJbnRlcnZhbDogcG9sbGluZ0ludGVydmFsLFxuICAgIHBvbGxpbmdXaGVuSGlkZGVuOiBwb2xsaW5nV2hlbkhpZGRlbixcbiAgICAvLyByZWZyZXNoT25XaW5kb3dGb2N1cyBzaG91bGQgbm90IHdvcmsgb24gbWFudWFsIG1vZGVcbiAgICByZWZyZXNoT25XaW5kb3dGb2N1czogIW1hbnVhbCAmJiByZWZyZXNoT25XaW5kb3dGb2N1cyxcbiAgICBmb2N1c1RpbWVzcGFuOiBmb2N1c1RpbWVzcGFuLFxuICAgIGRlYm91bmNlSW50ZXJ2YWw6IGRlYm91bmNlSW50ZXJ2YWwsXG4gICAgdGhyb3R0bGVJbnRlcnZhbDogdGhyb3R0bGVJbnRlcnZhbCxcbiAgICB0aHJvd09uRXJyb3I6IHRocm93T25FcnJvclxuICB9O1xuICB2YXIgc3Vic2NyaWJlID0gdXNlUGVyc2lzdEZuKGZ1bmN0aW9uIChrZXksIGRhdGEpIHtcbiAgICBzZXRGZXRjaGVzKGZ1bmN0aW9uIChzKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIHNba2V5XSA9IGRhdGE7XG4gICAgICByZXR1cm4gX19hc3NpZ24oe30sIHMpO1xuICAgIH0pO1xuICB9KTtcblxuICB2YXIgX3EgPSBfX3JlYWQodXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYTsgLy8g5aaC5p6c5pyJIOe8k+WtmO+8jOWImeS7jue8k+WtmOS4reivu+aVsOaNrlxuXG5cbiAgICBpZiAoY2FjaGVLZXkpIHtcbiAgICAgIHZhciBjYWNoZURhdGFfMSA9IChfYSA9IGdldENhY2hlKGNhY2hlS2V5KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRhdGE7XG5cbiAgICAgIGlmIChjYWNoZURhdGFfMSkge1xuICAgICAgICBuZXdzdEZldGNoS2V5LmN1cnJlbnQgPSBjYWNoZURhdGFfMS5uZXdzdEZldGNoS2V5O1xuICAgICAgICAvKiDkvb/nlKggaW5pdFN0YXRlLCDph43mlrAgbmV3IEZldGNoICovXG5cbiAgICAgICAgdmFyIG5ld0ZldGNoZXNfMSA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhjYWNoZURhdGFfMS5mZXRjaGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICB2YXIgY2FjaGVGZXRjaCA9IGNhY2hlRGF0YV8xLmZldGNoZXNba2V5XTtcbiAgICAgICAgICB2YXIgbmV3RmV0Y2ggPSBuZXcgRmV0Y2goc2VydmljZVBlcnNpc3QsIGNvbmZpZywgc3Vic2NyaWJlLmJpbmQobnVsbCwga2V5KSwge1xuICAgICAgICAgICAgbG9hZGluZzogY2FjaGVGZXRjaC5sb2FkaW5nLFxuICAgICAgICAgICAgcGFyYW1zOiBjYWNoZUZldGNoLnBhcmFtcyxcbiAgICAgICAgICAgIGRhdGE6IGNhY2hlRmV0Y2guZGF0YSxcbiAgICAgICAgICAgIGVycm9yOiBjYWNoZUZldGNoLmVycm9yXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmV3RmV0Y2hlc18xW2tleV0gPSBuZXdGZXRjaC5zdGF0ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXdGZXRjaGVzXzE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHt9O1xuICB9KSwgMiksXG4gICAgICBmZXRjaGVzID0gX3FbMF0sXG4gICAgICBzZXRGZXRjaGVzID0gX3FbMV07XG5cbiAgdmFyIGZldGNoZXNSZWYgPSB1c2VSZWYoZmV0Y2hlcyk7XG4gIGZldGNoZXNSZWYuY3VycmVudCA9IGZldGNoZXM7XG4gIHZhciByZWFkeU1lbW9yeVBhcmFtcyA9IHVzZVJlZigpO1xuICB2YXIgcnVuID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gW107XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cblxuICAgIGlmICghcmVhZHkpIHtcbiAgICAgIC8vIOayoeaciSByZWFkeSwg6K6w5b2V6K+35rGC5Y+C5pWw77yM562JIHJlYWR5IOWQju+8jOWPkei1t+ivt+axgueUqFxuICAgICAgcmVhZHlNZW1vcnlQYXJhbXMuY3VycmVudCA9IGFyZ3M7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGZldGNoS2V5UGVyc2lzdCkge1xuICAgICAgdmFyIGtleSA9IGZldGNoS2V5UGVyc2lzdC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkKGFyZ3MpKTtcbiAgICAgIG5ld3N0RmV0Y2hLZXkuY3VycmVudCA9IGtleSA9PT0gdW5kZWZpbmVkID8gREVGQVVMVF9LRVkgOiBrZXk7XG4gICAgfVxuXG4gICAgdmFyIGN1cnJlbnRGZXRjaEtleSA9IG5ld3N0RmV0Y2hLZXkuY3VycmVudDsgLy8g6L+Z6YeM5b+F6aG755SoIGZldGNoc1JlZu+8jOiAjOS4jeiDveeUqCBmZXRjaGVz44CCXG4gICAgLy8g5ZCm5YiZ5ZyoIHJlc2V0IOWujO+8jOeri+WNsyBydW4g55qE5pe25YCZ77yM6L+Z6YeM5ou/5Yiw55qEIGZldGNoZXMg5piv5pen55qE44CCXG5cbiAgICB2YXIgY3VycmVudEZldGNoID0gZmV0Y2hlc1JlZi5jdXJyZW50W2N1cnJlbnRGZXRjaEtleV07XG5cbiAgICBpZiAoIWN1cnJlbnRGZXRjaCkge1xuICAgICAgdmFyIG5ld0ZldGNoID0gbmV3IEZldGNoKHNlcnZpY2VQZXJzaXN0LCBjb25maWcsIHN1YnNjcmliZS5iaW5kKG51bGwsIGN1cnJlbnRGZXRjaEtleSksIHtcbiAgICAgICAgZGF0YTogaW5pdGlhbERhdGFcbiAgICAgIH0pO1xuICAgICAgY3VycmVudEZldGNoID0gbmV3RmV0Y2guc3RhdGU7XG4gICAgICBzZXRGZXRjaGVzKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBzW2N1cnJlbnRGZXRjaEtleV0gPSBjdXJyZW50RmV0Y2g7XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgcyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudEZldGNoLnJ1bi5hcHBseShjdXJyZW50RmV0Y2gsIF9fc3ByZWFkKGFyZ3MpKTtcbiAgfSwgW2ZldGNoS2V5LCBzdWJzY3JpYmUsIHJlYWR5XSk7XG4gIHZhciBydW5SZWYgPSB1c2VSZWYocnVuKTtcbiAgcnVuUmVmLmN1cnJlbnQgPSBydW47IC8vIGNhY2hlXG5cbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY2FjaGVLZXkpIHtcbiAgICAgIHNldENhY2hlKGNhY2hlS2V5LCBjYWNoZVRpbWUsIHtcbiAgICAgICAgZmV0Y2hlczogZmV0Y2hlcyxcbiAgICAgICAgbmV3c3RGZXRjaEtleTogbmV3c3RGZXRjaEtleS5jdXJyZW50XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtjYWNoZUtleSwgZmV0Y2hlc10pOyAvLyBmb3IgcmVhZHlcblxuICB2YXIgaGFzVHJpZ2dlcmVkQnlSZWFkeSA9IHVzZVJlZihmYWxzZSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHJlYWR5KSB7XG4gICAgICBpZiAoIWhhc1RyaWdnZXJlZEJ5UmVhZHkuY3VycmVudCAmJiByZWFkeU1lbW9yeVBhcmFtcy5jdXJyZW50KSB7XG4gICAgICAgIHJ1blJlZi5jdXJyZW50LmFwcGx5KHJ1blJlZiwgX19zcHJlYWQocmVhZHlNZW1vcnlQYXJhbXMuY3VycmVudCkpO1xuICAgICAgfVxuXG4gICAgICBoYXNUcmlnZ2VyZWRCeVJlYWR5LmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgfSwgW3JlYWR5XSk7IC8vIOesrOS4gOasoem7mOiupOaJp+ihjFxuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgaWYgKCFtYW51YWwpIHtcbiAgICAgIC8vIOWmguaenOaciee8k+WtmO+8jOWImemHjeaWsOivt+axglxuICAgICAgaWYgKE9iamVjdC5rZXlzKGZldGNoZXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8g5aaC5p6cIHN0YWxlVGltZSDmmK8gLTHvvIzliJkgY2FjaGUg5rC45LiN6L+H5pyfXG4gICAgICAgIC8vIOWmguaenCBzdGF0bGVUaW1lIOi2heacn+S6hu+8jOWImemHjeaWsOivt+axglxuICAgICAgICB2YXIgY2FjaGVTdGFydFRpbWUgPSBjYWNoZUtleSAmJiAoKF9hID0gZ2V0Q2FjaGUoY2FjaGVLZXkpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhcnRUaW1lKSB8fCAwO1xuXG4gICAgICAgIGlmICghKHN0YWxlVGltZSA9PT0gLTEgfHwgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBjYWNoZVN0YXJ0VGltZSA8PSBzdGFsZVRpbWUpKSB7XG4gICAgICAgICAgLyog6YeN5paw5omn6KGM5omA5pyJ55qEIGNhY2hlICovXG4gICAgICAgICAgT2JqZWN0LnZhbHVlcyhmZXRjaGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICBmLnJlZnJlc2goKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g56ys5LiA5qyh6buY6K6k5omn6KGM77yM5Y+v5Lul6YCa6L+HIGRlZmF1bHRQYXJhbXMg6K6+572u5Y+C5pWwXG4gICAgICAgIHJ1blJlZi5jdXJyZW50LmFwcGx5KHJ1blJlZiwgX19zcHJlYWQoZGVmYXVsdFBhcmFtcykpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW10pOyAvLyDph43nva4gZmV0Y2hlc1xuXG4gIHZhciByZXNldCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBPYmplY3QudmFsdWVzKGZldGNoZXNSZWYuY3VycmVudCkuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgICAgZi51bm1vdW50KCk7XG4gICAgfSk7XG4gICAgbmV3c3RGZXRjaEtleS5jdXJyZW50ID0gREVGQVVMVF9LRVk7XG4gICAgc2V0RmV0Y2hlcyh7fSk7IC8vIOS4jeWGmeS8muaciemXrumimOOAguWmguaenOS4jeWGme+8jOatpOaXtueri+WNsyBydW7vvIzkvJrmmK/ogIHnmoTmlbDmja5cblxuICAgIGZldGNoZXNSZWYuY3VycmVudCA9IHt9O1xuICB9LCBbc2V0RmV0Y2hlc10pOyAvLyAgcmVmcmVzaERlcHMg5Y+Y5YyW77yM6YeN5paw5omn6KGM5omA5pyJ6K+35rGCXG5cbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIW1hbnVhbCkge1xuICAgICAgLyog5YWo6YOo6YeN5paw5omn6KGMICovXG4gICAgICBPYmplY3QudmFsdWVzKGZldGNoZXNSZWYuY3VycmVudCkuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgICAgICBmLnJlZnJlc2goKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgX19zcHJlYWQocmVmcmVzaERlcHMpKTsgLy8g5Y246L2957uE5Lu26Kem5Y+RXG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgT2JqZWN0LnZhbHVlcyhmZXRjaGVzUmVmLmN1cnJlbnQpLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgZi51bm1vdW50KCk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHZhciBub3RFeGVjdXRlZFdhcm5pbmcgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJZb3Ugc2hvdWxkJ3QgY2FsbCBcIiArIG5hbWUgKyBcIiB3aGVuIHNlcnZpY2Ugbm90IGV4ZWN1dGVkIG9uY2UuXCIpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHtcbiAgICBsb2FkaW5nOiByZWFkeSAmJiAhbWFudWFsIHx8IGRlZmF1bHRMb2FkaW5nLFxuICAgIGRhdGE6IGluaXRpYWxEYXRhLFxuICAgIGVycm9yOiB1bmRlZmluZWQsXG4gICAgcGFyYW1zOiBbXSxcbiAgICBjYW5jZWw6IG5vdEV4ZWN1dGVkV2FybmluZygnY2FuY2VsJyksXG4gICAgcmVmcmVzaDogbm90RXhlY3V0ZWRXYXJuaW5nKCdyZWZyZXNoJyksXG4gICAgbXV0YXRlOiBub3RFeGVjdXRlZFdhcm5pbmcoJ211dGF0ZScpXG4gIH0sIGZldGNoZXNbbmV3c3RGZXRjaEtleS5jdXJyZW50XSB8fCB7fSksIHtcbiAgICBydW46IHJ1bixcbiAgICBmZXRjaGVzOiBmZXRjaGVzLFxuICAgIHJlc2V0OiByZXNldFxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlQXN5bmM7IiwidmFyIF9fYXNzaWduID0gdGhpcyAmJiB0aGlzLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICB2YXIgdCA9IHt9O1xuXG4gIGZvciAodmFyIHAgaW4gcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gIH1cblxuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dO1xuICB9XG4gIHJldHVybiB0O1xufTtcblxudmFyIF9fcmVhZCA9IHRoaXMgJiYgdGhpcy5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbnZhciBfX3NwcmVhZCA9IHRoaXMgJiYgdGhpcy5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuaW1wb3J0IHsgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlTWVtbywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VBc3luYyBmcm9tICcuL3VzZUFzeW5jJztcbmltcG9ydCB1c2VVcGRhdGVFZmZlY3QgZnJvbSAnLi91dGlscy91c2VVcGRhdGVFZmZlY3QnO1xuXG5mdW5jdGlvbiB1c2VMb2FkTW9yZShzZXJ2aWNlLCBvcHRpb25zKSB7XG4gIHZhciBfYSA9IG9wdGlvbnMucmVmcmVzaERlcHMsXG4gICAgICByZWZyZXNoRGVwcyA9IF9hID09PSB2b2lkIDAgPyBbXSA6IF9hLFxuICAgICAgcmVmID0gb3B0aW9ucy5yZWYsXG4gICAgICBpc05vTW9yZSA9IG9wdGlvbnMuaXNOb01vcmUsXG4gICAgICBfYiA9IG9wdGlvbnMudGhyZXNob2xkLFxuICAgICAgdGhyZXNob2xkID0gX2IgPT09IHZvaWQgMCA/IDEwMCA6IF9iLFxuICAgICAgZmV0Y2hLZXkgPSBvcHRpb25zLmZldGNoS2V5LFxuICAgICAgcmVzdE9wdGlvbnMgPSBfX3Jlc3Qob3B0aW9ucywgW1wicmVmcmVzaERlcHNcIiwgXCJyZWZcIiwgXCJpc05vTW9yZVwiLCBcInRocmVzaG9sZFwiLCBcImZldGNoS2V5XCJdKTtcblxuICB2YXIgX2MgPSBfX3JlYWQodXNlU3RhdGUoZmFsc2UpLCAyKSxcbiAgICAgIGxvYWRpbmdNb3JlID0gX2NbMF0sXG4gICAgICBzZXRMb2FkaW5nTW9yZSA9IF9jWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG9wdGlvbnMuZmV0Y2hLZXkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcInVzZVJlcXVlc3QgbG9hZE1vcmUgbW9kZSBkb24ndCBuZWVkIGZldGNoS2V5IVwiKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgdmFyIHJlc3VsdCA9IHVzZUFzeW5jKHNlcnZpY2UsIF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXN0T3B0aW9ucyksIHtcbiAgICBmZXRjaEtleTogZnVuY3Rpb24gZmV0Y2hLZXkoZCkge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICByZXR1cm4gKChfYSA9IGQgPT09IG51bGwgfHwgZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZC5saXN0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSB8fCAwO1xuICAgIH0sXG4gICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHBhcmFtc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgfVxuXG4gICAgICBzZXRMb2FkaW5nTW9yZShmYWxzZSk7XG5cbiAgICAgIGlmIChvcHRpb25zLm9uU3VjY2Vzcykge1xuICAgICAgICBvcHRpb25zLm9uU3VjY2Vzcy5hcHBseShvcHRpb25zLCBfX3NwcmVhZChwYXJhbXMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pKTtcbiAgdmFyIGRhdGEgPSByZXN1bHQuZGF0YSxcbiAgICAgIHJ1biA9IHJlc3VsdC5ydW4sXG4gICAgICBwYXJhbXMgPSByZXN1bHQucGFyYW1zLFxuICAgICAgcmVzZXQgPSByZXN1bHQucmVzZXQsXG4gICAgICBsb2FkaW5nID0gcmVzdWx0LmxvYWRpbmcsXG4gICAgICBmZXRjaGVzID0gcmVzdWx0LmZldGNoZXM7XG4gIHZhciByZWxvYWQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgcmVzZXQoKTtcblxuICAgIHZhciBfYSA9IF9fcmVhZChwYXJhbXMpLFxuICAgICAgICByZXN0UGFyYW1zID0gX2Euc2xpY2UoMSk7XG5cbiAgICBydW4uYXBwbHkodm9pZCAwLCBfX3NwcmVhZChbdW5kZWZpbmVkXSwgcmVzdFBhcmFtcykpO1xuICB9LCBbcnVuLCByZXNldCwgcGFyYW1zXSk7XG4gIHZhciByZWxvYWRSZWYgPSB1c2VSZWYocmVsb2FkKTtcbiAgcmVsb2FkUmVmLmN1cnJlbnQgPSByZWxvYWQ7XG4gIC8qIGxvYWRNb3JlIOWcuuaZr+S4i++8jOWmguaenCByZWZyZXNoRGVwcyDlj5jljJbvvIzph43nva7liLDnrKzkuIDpobUgKi9cblxuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8qIOWPquacieiHquWKqOaJp+ihjOeahOWcuuaZr++8jCByZWZyZXNoRGVwcyDmiY3mnInmlYggKi9cbiAgICBpZiAoIW9wdGlvbnMubWFudWFsKSB7XG4gICAgICByZWxvYWRSZWYuY3VycmVudCgpO1xuICAgIH1cbiAgfSwgX19zcHJlYWQocmVmcmVzaERlcHMpKTtcbiAgdmFyIGRhdGFHcm91cCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciBsaXN0R3JvdXAgPSBbXTsgLy8g5ZyoIGxvYWRNb3JlIOaXtu+8jOS4jeW4jOacm+a4heepuuS4iuS4gOasoeeahCBkYXRh44CC6ZyA6KaB5oqK5pyA5ZCO5LiA5LiqIOmdniBsb2FkaW5nIOeahOivt+axgiBkYXRh77yM5pS+5Zue5Y6744CCXG5cbiAgICB2YXIgbGFzdE5vTG9hZGluZ0RhdGEgPSBkYXRhO1xuICAgIE9iamVjdC52YWx1ZXMoZmV0Y2hlcykuZm9yRWFjaChmdW5jdGlvbiAoaCkge1xuICAgICAgdmFyIF9hLCBfYjtcblxuICAgICAgaWYgKChfYSA9IGguZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxpc3QpIHtcbiAgICAgICAgbGlzdEdyb3VwID0gbGlzdEdyb3VwLmNvbmNhdCgoX2IgPSBoLmRhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5saXN0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFoLmxvYWRpbmcpIHtcbiAgICAgICAgbGFzdE5vTG9hZGluZ0RhdGEgPSBoLmRhdGE7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBsYXN0Tm9Mb2FkaW5nRGF0YSksIHtcbiAgICAgIGxpc3Q6IGxpc3RHcm91cFxuICAgIH0pO1xuICB9LCBbZmV0Y2hlcywgZGF0YV0pO1xuICB2YXIgbm9Nb3JlID0gaXNOb01vcmUgPyAhbG9hZGluZyAmJiAhbG9hZGluZ01vcmUgJiYgaXNOb01vcmUoZGF0YUdyb3VwKSA6IGZhbHNlO1xuICB2YXIgbG9hZE1vcmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG5vTW9yZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldExvYWRpbmdNb3JlKHRydWUpO1xuXG4gICAgdmFyIF9hID0gX19yZWFkKHBhcmFtcyksXG4gICAgICAgIHJlc3RQYXJhbXMgPSBfYS5zbGljZSgxKTtcblxuICAgIHJ1bi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkKFtkYXRhR3JvdXBdLCByZXN0UGFyYW1zKSk7XG4gIH0sIFtub01vcmUsIHJ1biwgZGF0YUdyb3VwLCBwYXJhbXNdKTtcbiAgLyog5LiK5ouJ5Yqg6L2955qE5pa55rOVICovXG5cbiAgdmFyIHNjcm9sbE1ldGhvZCA9IGZ1bmN0aW9uIHNjcm9sbE1ldGhvZCgpIHtcbiAgICBpZiAobG9hZGluZyB8fCBsb2FkaW5nTW9yZSB8fCAhcmVmIHx8ICFyZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChyZWYuY3VycmVudC5zY3JvbGxIZWlnaHQgLSByZWYuY3VycmVudC5zY3JvbGxUb3AgPD0gcmVmLmN1cnJlbnQuY2xpZW50SGVpZ2h0ICsgdGhyZXNob2xkKSB7XG4gICAgICBsb2FkTW9yZSgpO1xuICAgIH1cbiAgfTsgLy8g5aaC5p6c5LiN55SoIHJlZu+8jOiAjOeUqOS5i+WJjeeahCB1c2VDYWxsYmFr77yM5Zyo5p+Q5Lqb5oOF5Ya15LiL5Lya5Ye66Zeu6aKY77yM6YCg5oiQ5ou/5Yiw55qEIGxvYWRpbmcg5LiN5piv5pyA5paw55qE44CCXG4gIC8vIGZpeCBodHRwczovL2dpdGh1Yi5jb20vYWxpYmFiYS9ob29rcy9pc3N1ZXMvNjMwXG5cblxuICB2YXIgc2Nyb2xsTWV0aG9kUmVmID0gdXNlUmVmKHNjcm9sbE1ldGhvZCk7XG4gIHNjcm9sbE1ldGhvZFJlZi5jdXJyZW50ID0gc2Nyb2xsTWV0aG9kO1xuICAvKiDlpoLmnpzmnIkgcmVm77yM5YiZ5Lya5LiK5ouJ5Yqg6L295pu05aSaICovXG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXJlZiB8fCAhcmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgICB9XG5cbiAgICB2YXIgc2Nyb2xsVHJpZ2dlciA9IGZ1bmN0aW9uIHNjcm9sbFRyaWdnZXIoKSB7XG4gICAgICByZXR1cm4gc2Nyb2xsTWV0aG9kUmVmLmN1cnJlbnQoKTtcbiAgICB9O1xuXG4gICAgcmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsVHJpZ2dlcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChyZWYgJiYgcmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsVHJpZ2dlcik7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3Njcm9sbE1ldGhvZFJlZl0pO1xuICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHJlc3VsdCksIHtcbiAgICBkYXRhOiBkYXRhR3JvdXAsXG4gICAgcmVsb2FkOiByZWxvYWQsXG4gICAgbG9hZGluZzogbG9hZGluZyAmJiBkYXRhR3JvdXAubGlzdC5sZW5ndGggPT09IDAsXG4gICAgbG9hZE1vcmU6IGxvYWRNb3JlLFxuICAgIGxvYWRpbmdNb3JlOiBsb2FkaW5nTW9yZSxcbiAgICBub01vcmU6IG5vTW9yZVxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlTG9hZE1vcmU7IiwidmFyIF9fYXNzaWduID0gdGhpcyAmJiB0aGlzLl9fYXNzaWduIHx8IGZ1bmN0aW9uICgpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG4gICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICB2YXIgdCA9IHt9O1xuXG4gIGZvciAodmFyIHAgaW4gcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gIH1cblxuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpIHRbcFtpXV0gPSBzW3BbaV1dO1xuICB9XG4gIHJldHVybiB0O1xufTtcblxudmFyIF9fcmVhZCA9IHRoaXMgJiYgdGhpcy5fX3JlYWQgfHwgZnVuY3Rpb24gKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSxcbiAgICAgIHIsXG4gICAgICBhciA9IFtdLFxuICAgICAgZTtcblxuICB0cnkge1xuICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSB7XG4gICAgICBhci5wdXNoKHIudmFsdWUpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0ge1xuICAgICAgZXJyb3I6IGVycm9yXG4gICAgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB0aHJvdyBlLmVycm9yO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbnZhciBfX3NwcmVhZCA9IHRoaXMgJiYgdGhpcy5fX3NwcmVhZCB8fCBmdW5jdGlvbiAoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICB9XG5cbiAgcmV0dXJuIGFyO1xufTtcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUFzeW5jIGZyb20gJy4vdXNlQXN5bmMnO1xuaW1wb3J0IHVzZVVwZGF0ZUVmZmVjdCBmcm9tICcuL3V0aWxzL3VzZVVwZGF0ZUVmZmVjdCc7XG5cbmZ1bmN0aW9uIHVzZVBhZ2luYXRlZChzZXJ2aWNlLCBvcHRpb25zKSB7XG4gIHZhciBwYWdpbmF0ZWQgPSBvcHRpb25zLnBhZ2luYXRlZCxcbiAgICAgIF9hID0gb3B0aW9ucy5kZWZhdWx0UGFnZVNpemUsXG4gICAgICBkZWZhdWx0UGFnZVNpemUgPSBfYSA9PT0gdm9pZCAwID8gMTAgOiBfYSxcbiAgICAgIF9iID0gb3B0aW9ucy5yZWZyZXNoRGVwcyxcbiAgICAgIHJlZnJlc2hEZXBzID0gX2IgPT09IHZvaWQgMCA/IFtdIDogX2IsXG4gICAgICBmZXRjaEtleSA9IG9wdGlvbnMuZmV0Y2hLZXksXG4gICAgICByZXN0T3B0aW9ucyA9IF9fcmVzdChvcHRpb25zLCBbXCJwYWdpbmF0ZWRcIiwgXCJkZWZhdWx0UGFnZVNpemVcIiwgXCJyZWZyZXNoRGVwc1wiLCBcImZldGNoS2V5XCJdKTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChmZXRjaEtleSkge1xuICAgICAgY29uc29sZS5lcnJvcihcInVzZVJlcXVlc3QgcGFnaW5hdGlvbidzIGZldGNoS2V5IHdpbGwgbm90IHdvcmshXCIpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIHZhciBfYyA9IHVzZUFzeW5jKHNlcnZpY2UsIF9fYXNzaWduKHtcbiAgICBkZWZhdWx0UGFyYW1zOiBbe1xuICAgICAgY3VycmVudDogMSxcbiAgICAgIHBhZ2VTaXplOiBkZWZhdWx0UGFnZVNpemVcbiAgICB9XVxuICB9LCByZXN0T3B0aW9ucykpLFxuICAgICAgZGF0YSA9IF9jLmRhdGEsXG4gICAgICBwYXJhbXMgPSBfYy5wYXJhbXMsXG4gICAgICBydW4gPSBfYy5ydW4sXG4gICAgICBsb2FkaW5nID0gX2MubG9hZGluZyxcbiAgICAgIHJlc3QgPSBfX3Jlc3QoX2MsIFtcImRhdGFcIiwgXCJwYXJhbXNcIiwgXCJydW5cIiwgXCJsb2FkaW5nXCJdKTtcblxuICB2YXIgX2QgPSBwYXJhbXMgJiYgcGFyYW1zWzBdID8gcGFyYW1zWzBdIDoge30sXG4gICAgICBfZSA9IF9kLmN1cnJlbnQsXG4gICAgICBjdXJyZW50ID0gX2UgPT09IHZvaWQgMCA/IDEgOiBfZSxcbiAgICAgIF9mID0gX2QucGFnZVNpemUsXG4gICAgICBwYWdlU2l6ZSA9IF9mID09PSB2b2lkIDAgPyBkZWZhdWx0UGFnZVNpemUgOiBfZixcbiAgICAgIF9nID0gX2Quc29ydGVyLFxuICAgICAgc29ydGVyID0gX2cgPT09IHZvaWQgMCA/IHt9IDogX2csXG4gICAgICBfaCA9IF9kLmZpbHRlcnMsXG4gICAgICBmaWx0ZXJzID0gX2ggPT09IHZvaWQgMCA/IHt9IDogX2g7IC8vIOWPquaUueWPmCBwYWdpbmF0aW9u77yM5YW25LuW5Y+C5pWw5Y6f5qC35Lyg6YCSXG5cblxuICB2YXIgcnVuQ2hhbmdlUGFnaW5hdGlvbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwYWdpbmF0aW9uUGFyYW1zKSB7XG4gICAgdmFyIF9hID0gX19yZWFkKHBhcmFtcyksXG4gICAgICAgIG9sZFBhZ2luYXRpb25QYXJhbXMgPSBfYVswXSxcbiAgICAgICAgcmVzdFBhcmFtcyA9IF9hLnNsaWNlKDEpO1xuXG4gICAgcnVuLmFwcGx5KHZvaWQgMCwgX19zcHJlYWQoW19fYXNzaWduKF9fYXNzaWduKHt9LCBvbGRQYWdpbmF0aW9uUGFyYW1zKSwgcGFnaW5hdGlvblBhcmFtcyldLCByZXN0UGFyYW1zKSk7XG4gIH0sIFtydW4sIHBhcmFtc10pO1xuICB2YXIgdG90YWwgPSAoZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkYXRhLnRvdGFsKSB8fCAwO1xuICB2YXIgdG90YWxQYWdlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0b3RhbCAvIHBhZ2VTaXplKTtcbiAgfSwgW3BhZ2VTaXplLCB0b3RhbF0pO1xuICB2YXIgb25DaGFuZ2UgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoYywgcCkge1xuICAgIHZhciB0b0N1cnJlbnQgPSBjIDw9IDAgPyAxIDogYztcbiAgICB2YXIgdG9QYWdlU2l6ZSA9IHAgPD0gMCA/IDEgOiBwO1xuICAgIHZhciB0ZW1wVG90YWxQYWdlID0gTWF0aC5jZWlsKHRvdGFsIC8gdG9QYWdlU2l6ZSk7XG5cbiAgICBpZiAodG9DdXJyZW50ID4gdGVtcFRvdGFsUGFnZSkge1xuICAgICAgdG9DdXJyZW50ID0gdGVtcFRvdGFsUGFnZTtcbiAgICB9XG5cbiAgICBydW5DaGFuZ2VQYWdpbmF0aW9uKHtcbiAgICAgIGN1cnJlbnQ6IGMsXG4gICAgICBwYWdlU2l6ZTogcFxuICAgIH0pO1xuICB9LCBbdG90YWwsIHJ1bkNoYW5nZVBhZ2luYXRpb25dKTtcbiAgdmFyIGNoYW5nZUN1cnJlbnQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoYykge1xuICAgIG9uQ2hhbmdlKGMsIHBhZ2VTaXplKTtcbiAgfSwgW29uQ2hhbmdlLCBwYWdlU2l6ZV0pO1xuICB2YXIgY2hhbmdlUGFnZVNpemUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocCkge1xuICAgIG9uQ2hhbmdlKGN1cnJlbnQsIHApO1xuICB9LCBbb25DaGFuZ2UsIGN1cnJlbnRdKTtcbiAgdmFyIGNoYW5nZUN1cnJlbnRSZWYgPSB1c2VSZWYoY2hhbmdlQ3VycmVudCk7XG4gIGNoYW5nZUN1cnJlbnRSZWYuY3VycmVudCA9IGNoYW5nZUN1cnJlbnQ7XG4gIC8qIOWIhumhteWcuuaZr+S4i++8jOWmguaenCByZWZyZXNoRGVwcyDlj5jljJbvvIzph43nva7liIbpobUgKi9cblxuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIC8qIOWPquacieiHquWKqOaJp+ihjOeahOWcuuaZr++8jCByZWZyZXNoRGVwcyDmiY3mnInmlYggKi9cbiAgICBpZiAoIW9wdGlvbnMubWFudWFsKSB7XG4gICAgICBjaGFuZ2VDdXJyZW50UmVmLmN1cnJlbnQoMSk7XG4gICAgfVxuICB9LCBfX3NwcmVhZChyZWZyZXNoRGVwcykpOyAvLyDooajmoLznv7vpobUg5o6S5bqPIOetm+mAieetiVxuXG4gIHZhciBjaGFuZ2VUYWJsZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwLCBmLCBzKSB7XG4gICAgcnVuQ2hhbmdlUGFnaW5hdGlvbih7XG4gICAgICBjdXJyZW50OiBwLmN1cnJlbnQsXG4gICAgICBwYWdlU2l6ZTogcC5wYWdlU2l6ZSB8fCBkZWZhdWx0UGFnZVNpemUsXG4gICAgICBmaWx0ZXJzOiBmLFxuICAgICAgc29ydGVyOiBzXG4gICAgfSk7XG4gIH0sIFtmaWx0ZXJzLCBzb3J0ZXIsIHJ1bkNoYW5nZVBhZ2luYXRpb25dKTtcbiAgcmV0dXJuIF9fYXNzaWduKHtcbiAgICBsb2FkaW5nOiBsb2FkaW5nLFxuICAgIGRhdGE6IGRhdGEsXG4gICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgcnVuOiBydW4sXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgY3VycmVudDogY3VycmVudCxcbiAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZSxcbiAgICAgIHRvdGFsOiB0b3RhbCxcbiAgICAgIHRvdGFsUGFnZTogdG90YWxQYWdlLFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgY2hhbmdlQ3VycmVudDogY2hhbmdlQ3VycmVudCxcbiAgICAgIGNoYW5nZVBhZ2VTaXplOiBjaGFuZ2VQYWdlU2l6ZVxuICAgIH0sXG4gICAgdGFibGVQcm9wczoge1xuICAgICAgZGF0YVNvdXJjZTogKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5saXN0KSB8fCBbXSxcbiAgICAgIGxvYWRpbmc6IGxvYWRpbmcsXG4gICAgICBvbkNoYW5nZTogY2hhbmdlVGFibGUsXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIGN1cnJlbnQ6IGN1cnJlbnQsXG4gICAgICAgIHBhZ2VTaXplOiBwYWdlU2l6ZSxcbiAgICAgICAgdG90YWw6IHRvdGFsXG4gICAgICB9XG4gICAgfSxcbiAgICBzb3J0ZXI6IHNvcnRlcixcbiAgICBmaWx0ZXJzOiBmaWx0ZXJzXG4gIH0sIHJlc3QpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VQYWdpbmF0ZWQ7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbnZhciBDb25maWdDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQoe30pO1xuQ29uZmlnQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdVc2VSZXF1ZXN0Q29uZmlnQ29udGV4dCc7XG5leHBvcnQgZGVmYXVsdCBDb25maWdDb250ZXh0OyIsInZhciBfX2Fzc2lnbiA9IHRoaXMgJiYgdGhpcy5fX2Fzc2lnbiB8fCBmdW5jdGlvbiAoKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcblxudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcblxuICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICB9XG5cbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgfVxuICByZXR1cm4gdDtcbn07XG5cbnZhciBfX3JlYWQgPSB0aGlzICYmIHRoaXMuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG52YXIgX19zcHJlYWQgPSB0aGlzICYmIHRoaXMuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rcyAqL1xuXG5cbmltcG9ydCB7IHVzZVJlZiwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VBc3luYyBmcm9tICcuL3VzZUFzeW5jJztcbmltcG9ydCB1c2VMb2FkTW9yZSBmcm9tICcuL3VzZUxvYWRNb3JlJztcbmltcG9ydCB1c2VQYWdpbmF0ZWQgZnJvbSAnLi91c2VQYWdpbmF0ZWQnO1xuaW1wb3J0IENvbmZpZ0NvbnRleHQgZnJvbSAnLi9jb25maWdDb250ZXh0JztcblxuZnVuY3Rpb24gdXNlUmVxdWVzdChzZXJ2aWNlLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgY29udGV4dENvbmZpZyA9IHVzZUNvbnRleHQoQ29uZmlnQ29udGV4dCk7XG5cbiAgdmFyIGZpbmFsT3B0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBjb250ZXh0Q29uZmlnKSwgb3B0aW9ucyk7XG5cbiAgdmFyIHBhZ2luYXRlZCA9IGZpbmFsT3B0aW9ucy5wYWdpbmF0ZWQsXG4gICAgICBsb2FkTW9yZSA9IGZpbmFsT3B0aW9ucy5sb2FkTW9yZSxcbiAgICAgIHJlcXVlc3RNZXRob2QgPSBmaW5hbE9wdGlvbnMucmVxdWVzdE1ldGhvZDtcbiAgdmFyIHBhZ2luYXRlZFJlZiA9IHVzZVJlZihwYWdpbmF0ZWQpO1xuICB2YXIgbG9hZE1vcmVSZWYgPSB1c2VSZWYobG9hZE1vcmUpO1xuXG4gIGlmIChwYWdpbmF0ZWRSZWYuY3VycmVudCAhPT0gcGFnaW5hdGVkKSB7XG4gICAgdGhyb3cgRXJyb3IoJ1lvdSBzaG91bGQgbm90IG1vZGlmeSB0aGUgcGFnaW5hdGVkIG9mIG9wdGlvbnMnKTtcbiAgfVxuXG4gIGlmIChsb2FkTW9yZVJlZi5jdXJyZW50ICE9PSBsb2FkTW9yZSkge1xuICAgIHRocm93IEVycm9yKCdZb3Ugc2hvdWxkIG5vdCBtb2RpZnkgdGhlIGxvYWRNb3JlIG9mIG9wdGlvbnMnKTtcbiAgfVxuXG4gIHBhZ2luYXRlZFJlZi5jdXJyZW50ID0gcGFnaW5hdGVkO1xuICBsb2FkTW9yZVJlZi5jdXJyZW50ID0gbG9hZE1vcmU7IC8vIEB0cy1pZ25vcmVcblxuICB2YXIgZmV0Y2hQcm94eSA9IGZ1bmN0aW9uIGZldGNoUHJveHkoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfSAvLyBAdHMtaWdub3JlXG5cblxuICAgIHJldHVybiBmZXRjaC5hcHBseSh2b2lkIDAsIF9fc3ByZWFkKGFyZ3MpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihyZXMuc3RhdHVzVGV4dCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGZpbmFsUmVxdWVzdE1ldGhvZCA9IHJlcXVlc3RNZXRob2QgfHwgZmV0Y2hQcm94eTtcbiAgdmFyIHByb21pc2VTZXJ2aWNlO1xuXG4gIHN3aXRjaCAodHlwZW9mIHNlcnZpY2UpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcHJvbWlzZVNlcnZpY2UgPSBmdW5jdGlvbiBwcm9taXNlU2VydmljZSgpIHtcbiAgICAgICAgcmV0dXJuIGZpbmFsUmVxdWVzdE1ldGhvZChzZXJ2aWNlKTtcbiAgICAgIH07XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHZhciB1cmxfMSA9IHNlcnZpY2UudXJsLFxuICAgICAgICAgIHJlc3RfMSA9IF9fcmVzdChzZXJ2aWNlLCBbXCJ1cmxcIl0pO1xuXG4gICAgICBwcm9taXNlU2VydmljZSA9IGZ1bmN0aW9uIHByb21pc2VTZXJ2aWNlKCkge1xuICAgICAgICByZXR1cm4gcmVxdWVzdE1ldGhvZCA/IHJlcXVlc3RNZXRob2Qoc2VydmljZSkgOiBmZXRjaFByb3h5KHVybF8xLCByZXN0XzEpO1xuICAgICAgfTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcHJvbWlzZVNlcnZpY2UgPSBmdW5jdGlvbiBwcm9taXNlU2VydmljZSgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgdmFyIHMgPSBzZXJ2aWNlLmFwcGx5KHZvaWQgMCwgX19zcHJlYWQoYXJncykpO1xuICAgICAgICAgIHZhciBmbiA9IHM7XG5cbiAgICAgICAgICBpZiAoIXMudGhlbikge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2Ygcykge1xuICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIGZuID0gZmluYWxSZXF1ZXN0TWV0aG9kKHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgdmFyIHVybF8yID0gcy51cmwsXG4gICAgICAgICAgICAgICAgICAgIHJlc3RfMiA9IF9fcmVzdChzLCBbXCJ1cmxcIl0pO1xuXG4gICAgICAgICAgICAgICAgZm4gPSByZXF1ZXN0TWV0aG9kID8gcmVxdWVzdE1ldGhvZChzKSA6IGZldGNoUHJveHkodXJsXzIsIHJlc3RfMik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm4udGhlbihyZXNvbHZlKVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICB9XG5cbiAgaWYgKGxvYWRNb3JlKSB7XG4gICAgcmV0dXJuIHVzZUxvYWRNb3JlKHByb21pc2VTZXJ2aWNlLCBmaW5hbE9wdGlvbnMpO1xuICB9XG5cbiAgaWYgKHBhZ2luYXRlZCkge1xuICAgIHJldHVybiB1c2VQYWdpbmF0ZWQocHJvbWlzZVNlcnZpY2UsIGZpbmFsT3B0aW9ucyk7XG4gIH1cblxuICByZXR1cm4gdXNlQXN5bmMocHJvbWlzZVNlcnZpY2UsIGZpbmFsT3B0aW9ucyk7XG59XG5cbnZhciBVc2VSZXF1ZXN0UHJvdmlkZXIgPSBDb25maWdDb250ZXh0LlByb3ZpZGVyOyAvLyBVc2VBUElQcm92aWRlciDlt7Lnu4/lup/lvIPvvIzmraTlpITkuLrkuoblhbzlrrkgdW1panMg5o+S5Lu2IHBsdWdpbi1yZXF1ZXN0XG5cbnZhciBVc2VBUElQcm92aWRlciA9IFVzZVJlcXVlc3RQcm92aWRlcjtcbmV4cG9ydCB7IHVzZUFzeW5jLCB1c2VQYWdpbmF0ZWQsIHVzZUxvYWRNb3JlLCBVc2VSZXF1ZXN0UHJvdmlkZXIsIFVzZUFQSVByb3ZpZGVyIH07XG5leHBvcnQgZGVmYXVsdCB1c2VSZXF1ZXN0OyIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiB1c2VJbnRlcnZhbChmbiwgZGVsYXksIG9wdGlvbnMpIHtcbiAgdmFyIGltbWVkaWF0ZSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5pbW1lZGlhdGU7XG4gIHZhciBmblJlZiA9IHVzZVJlZigpO1xuICBmblJlZi5jdXJyZW50ID0gZm47XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuXG4gICAgaWYgKGRlbGF5ID09PSB1bmRlZmluZWQgfHwgZGVsYXkgPT09IG51bGwpIHJldHVybjtcblxuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIChfYSA9IGZuUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGZuUmVmKTtcbiAgICB9XG5cbiAgICB2YXIgdGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIChfYSA9IGZuUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGZuUmVmKTtcbiAgICB9LCBkZWxheSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgIH07XG4gIH0sIFtkZWxheV0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB1c2VJbnRlcnZhbDsiLCJ2YXIgX19hc3NpZ24gPSB0aGlzICYmIHRoaXMuX19hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdDtcbiAgfTtcblxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlV2h5RGlkWW91VXBkYXRlKGNvbXBvbmVudE5hbWUsIHByb3BzKSB7XG4gIHZhciBwcmV2UHJvcHMgPSB1c2VSZWYoe30pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcmV2UHJvcHMuY3VycmVudCkge1xuICAgICAgdmFyIGFsbEtleXMgPSBPYmplY3Qua2V5cyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcHJldlByb3BzLmN1cnJlbnQpLCBwcm9wcykpO1xuICAgICAgdmFyIGNoYW5nZWRQcm9wc18xID0ge307XG4gICAgICBhbGxLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAocHJldlByb3BzLmN1cnJlbnRba2V5XSAhPT0gcHJvcHNba2V5XSkge1xuICAgICAgICAgIGNoYW5nZWRQcm9wc18xW2tleV0gPSB7XG4gICAgICAgICAgICBmcm9tOiBwcmV2UHJvcHMuY3VycmVudFtrZXldLFxuICAgICAgICAgICAgdG86IHByb3BzW2tleV1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGNoYW5nZWRQcm9wc18xKS5sZW5ndGgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1t3aHktZGlkLXlvdS11cGRhdGVdJywgY29tcG9uZW50TmFtZSwgY2hhbmdlZFByb3BzXzEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHByZXZQcm9wcy5jdXJyZW50ID0gcHJvcHM7XG4gIH0pO1xufSIsInZhciBfX3JlYWQgPSB0aGlzICYmIHRoaXMuX19yZWFkIHx8IGZ1bmN0aW9uIChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksXG4gICAgICByLFxuICAgICAgYXIgPSBbXSxcbiAgICAgIGU7XG5cbiAgdHJ5IHtcbiAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IHtcbiAgICAgIGVycm9yOiBlcnJvclxuICAgIH07XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXI7XG59O1xuXG52YXIgX19zcHJlYWQgPSB0aGlzICYmIHRoaXMuX19zcHJlYWQgfHwgZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuXG4gIHJldHVybiBhcjtcbn07XG5cbmltcG9ydCB1c2VSZXF1ZXN0LCB7IFVzZVJlcXVlc3RQcm92aWRlciB9IGZyb20gJ0BhaG9va3Nqcy91c2UtcmVxdWVzdCc7XG5pbXBvcnQgdXNlQ29udHJvbGxhYmxlVmFsdWUgZnJvbSAnLi91c2VDb250cm9sbGFibGVWYWx1ZSc7XG5pbXBvcnQgdXNlRHluYW1pY0xpc3QgZnJvbSAnLi91c2VEeW5hbWljTGlzdCc7XG5pbXBvcnQgdXNlRXZlbnRFbWl0dGVyIGZyb20gJy4vdXNlRXZlbnRFbWl0dGVyJztcbmltcG9ydCB1c2VWaXJ0dWFsTGlzdCBmcm9tICcuL3VzZVZpcnR1YWxMaXN0JztcbmltcG9ydCB7IGNvbmZpZ1Jlc3BvbnNpdmUsIHVzZVJlc3BvbnNpdmUgfSBmcm9tICcuL3VzZVJlc3BvbnNpdmUnO1xuaW1wb3J0IHVzZVNpemUgZnJvbSAnLi91c2VTaXplJztcbmltcG9ydCB1c2VMb2NhbFN0b3JhZ2VTdGF0ZSBmcm9tICcuL3VzZUxvY2FsU3RvcmFnZVN0YXRlJztcbmltcG9ydCB1c2VTZXNzaW9uU3RvcmFnZVN0YXRlIGZyb20gJy4vdXNlU2Vzc2lvblN0b3JhZ2VTdGF0ZSc7XG5pbXBvcnQgdXNlVXBkYXRlRWZmZWN0IGZyb20gJy4vdXNlVXBkYXRlRWZmZWN0JztcbmltcG9ydCB1c2VVcGRhdGVMYXlvdXRFZmZlY3QgZnJvbSAnLi91c2VVcGRhdGVMYXlvdXRFZmZlY3QnO1xuaW1wb3J0IHVzZUJvb2xlYW4gZnJvbSAnLi91c2VCb29sZWFuJztcbmltcG9ydCB1c2VUb2dnbGUgZnJvbSAnLi91c2VUb2dnbGUnO1xuaW1wb3J0IHVzZURvY3VtZW50VmlzaWJpbGl0eSBmcm9tICcuL3VzZURvY3VtZW50VmlzaWJpbGl0eSc7XG5pbXBvcnQgdXNlU2VsZWN0aW9ucyBmcm9tICcuL3VzZVNlbGVjdGlvbnMnO1xuaW1wb3J0IHVzZVRocm90dGxlIGZyb20gJy4vdXNlVGhyb3R0bGUnO1xuaW1wb3J0IHVzZVRocm90dGxlRm4gZnJvbSAnLi91c2VUaHJvdHRsZUZuJztcbmltcG9ydCB1c2VUaHJvdHRsZUVmZmVjdCBmcm9tICcuL3VzZVRocm90dGxlRWZmZWN0JztcbmltcG9ydCB1c2VEZWJvdW5jZSBmcm9tICcuL3VzZURlYm91bmNlJztcbmltcG9ydCB1c2VEZWJvdW5jZUZuIGZyb20gJy4vdXNlRGVib3VuY2VGbic7XG5pbXBvcnQgdXNlUHJldmlvdXMgZnJvbSAnLi91c2VQcmV2aW91cyc7XG5pbXBvcnQgdXNlTW91c2UgZnJvbSAnLi91c2VNb3VzZSc7XG5pbXBvcnQgdXNlU2Nyb2xsIGZyb20gJy4vdXNlU2Nyb2xsJztcbmltcG9ydCB1c2VDbGlja0F3YXkgZnJvbSAnLi91c2VDbGlja0F3YXknO1xuaW1wb3J0IHVzZUZ1bGxzY3JlZW4gZnJvbSAnLi91c2VGdWxsc2NyZWVuJztcbmltcG9ydCB1c2VJblZpZXdwb3J0IGZyb20gJy4vdXNlSW5WaWV3cG9ydCc7XG5pbXBvcnQgdXNlS2V5UHJlc3MgZnJvbSAnLi91c2VLZXlQcmVzcyc7XG5pbXBvcnQgdXNlRXZlbnRMaXN0ZW5lciBmcm9tICcuL3VzZUV2ZW50TGlzdGVuZXInO1xuaW1wb3J0IHVzZUhvdmVyIGZyb20gJy4vdXNlSG92ZXInO1xuaW1wb3J0IHVzZVVubW91bnQgZnJvbSAnLi91c2VVbm1vdW50JztcbmltcG9ydCB1c2VBbnRkVGFibGUgZnJvbSAnLi91c2VBbnRkVGFibGUnO1xuaW1wb3J0IHVzZUZ1c2lvblRhYmxlIGZyb20gJy4vdXNlRnVzaW9uVGFibGUnO1xuaW1wb3J0IHVzZVNldCBmcm9tICcuL3VzZVNldCc7XG5pbXBvcnQgdXNlUGVyc2lzdEZuIGZyb20gJy4vdXNlUGVyc2lzdEZuJztcbmltcG9ydCB1c2VNYXAgZnJvbSAnLi91c2VNYXAnO1xuaW1wb3J0IHVzZUNyZWF0aW9uIGZyb20gJy4vdXNlQ3JlYXRpb24nO1xuaW1wb3J0IHVzZURyb3AgZnJvbSAnLi91c2VEcm9wJztcbmltcG9ydCB1c2VEcmFnIGZyb20gJy4vdXNlRHJhZyc7XG5pbXBvcnQgdXNlTW91bnQgZnJvbSAnLi91c2VNb3VudCc7XG5pbXBvcnQgdXNlVGV4dFNlbGVjdGlvbiBmcm9tICcuL3VzZVRleHRTZWxlY3Rpb24nO1xuaW1wb3J0IHVzZUNvdW50ZXIgZnJvbSAnLi91c2VDb3VudGVyJztcbmltcG9ydCB1c2VVcGRhdGUgZnJvbSAnLi91c2VVcGRhdGUnO1xuaW1wb3J0IHVzZUV2ZW50VGFyZ2V0IGZyb20gJy4vdXNlRXZlbnRUYXJnZXQnO1xuaW1wb3J0IHVzZUhpc3RvcnlUcmF2ZWwgZnJvbSAnLi91c2VIaXN0b3J5VHJhdmVsJztcbmltcG9ydCB1c2VEZWJvdW5jZUVmZmVjdCBmcm9tICcuL3VzZURlYm91bmNlRWZmZWN0JztcbmltcG9ydCB1c2VDb29raWVTdGF0ZSBmcm9tICcuL3VzZUNvb2tpZVN0YXRlJztcbmltcG9ydCB1c2VTZXRTdGF0ZSBmcm9tICcuL3VzZVNldFN0YXRlJztcbmltcG9ydCB1c2VJbnRlcnZhbCBmcm9tICcuL3VzZUludGVydmFsJztcbmltcG9ydCB1c2VXaHlEaWRZb3VVcGRhdGUgZnJvbSAnLi91c2VXaHlEaWRZb3VVcGRhdGUnO1xuaW1wb3J0IHVzZVRpdGxlIGZyb20gJy4vdXNlVGl0bGUnO1xuaW1wb3J0IHVzZU5ldHdvcmsgZnJvbSAnLi91c2VOZXR3b3JrJztcbmltcG9ydCB1c2VUaW1lb3V0IGZyb20gJy4vdXNlVGltZW91dCc7XG5pbXBvcnQgdXNlUmVhY3RpdmUgZnJvbSAnLi91c2VSZWFjdGl2ZSc7XG5pbXBvcnQgdXNlRmF2aWNvbiBmcm9tICcuL3VzZUZhdmljb24nO1xuaW1wb3J0IHVzZUNvdW50RG93biBmcm9tICcuL3VzZUNvdW50RG93bic7XG5pbXBvcnQgdXNlV2ViU29ja2V0IGZyb20gJy4vdXNlV2ViU29ja2V0JztcbmltcG9ydCB1c2VMb2NrRm4gZnJvbSAnLi91c2VMb2NrRm4nO1xuaW1wb3J0IHVzZVRyYWNrZWRFZmZlY3QgZnJvbSAnLi91c2VUcmFja2VkRWZmZWN0JztcbmltcG9ydCB1c2VVbm1vdW50ZWRSZWYgZnJvbSAnLi91c2VVbm1vdW50ZWRSZWYnO1xuaW1wb3J0IHVzZUV4dGVybmFsIGZyb20gJy4vdXNlRXh0ZXJuYWwnO1xuaW1wb3J0IHVzZVNhZmVTdGF0ZSBmcm9tICcuL3VzZVNhZmVTdGF0ZSc7XG5cbnZhciB1c2VDb250cm9sbGVkVmFsdWUgPSBmdW5jdGlvbiB1c2VDb250cm9sbGVkVmFsdWUoKSB7XG4gIHZhciBhcmdzID0gW107XG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gIH1cblxuICBjb25zb2xlLndhcm4oJ3VzZUNvbnRyb2xsZWRWYWx1ZSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi4gUGxlYXNlIHVzZSB1c2VDb250cm9sbGFibGVWYWx1ZSBpbnN0ZWFkLicpO1xuICByZXR1cm4gdXNlQ29udHJvbGxhYmxlVmFsdWUuYXBwbHkodm9pZCAwLCBfX3NwcmVhZChhcmdzKSk7XG59O1xuXG5leHBvcnQgeyB1c2VDb250cm9sbGVkVmFsdWUsIHVzZUNvbnRyb2xsYWJsZVZhbHVlLCB1c2VEeW5hbWljTGlzdCwgdXNlVmlydHVhbExpc3QsIHVzZVJlc3BvbnNpdmUsIHVzZUV2ZW50RW1pdHRlciwgdXNlTG9jYWxTdG9yYWdlU3RhdGUsIHVzZVNlc3Npb25TdG9yYWdlU3RhdGUsIHVzZVNpemUsIGNvbmZpZ1Jlc3BvbnNpdmUsIHVzZVVwZGF0ZUVmZmVjdCwgdXNlVXBkYXRlTGF5b3V0RWZmZWN0LCB1c2VCb29sZWFuLCB1c2VUb2dnbGUsIHVzZURvY3VtZW50VmlzaWJpbGl0eSwgdXNlU2VsZWN0aW9ucywgdXNlVGhyb3R0bGUsIHVzZVRocm90dGxlRm4sIHVzZVRocm90dGxlRWZmZWN0LCB1c2VEZWJvdW5jZSwgdXNlRGVib3VuY2VGbiwgdXNlRGVib3VuY2VFZmZlY3QsIHVzZVByZXZpb3VzLCB1c2VNb3VzZSwgdXNlU2Nyb2xsLCB1c2VDbGlja0F3YXksIHVzZUZ1bGxzY3JlZW4sIHVzZUluVmlld3BvcnQsIHVzZUtleVByZXNzLCB1c2VFdmVudExpc3RlbmVyLCB1c2VIb3ZlciwgdXNlUmVxdWVzdCwgVXNlUmVxdWVzdFByb3ZpZGVyLCB1c2VBbnRkVGFibGUsIHVzZVVubW91bnQsIHVzZVNldCwgdXNlUGVyc2lzdEZuLCB1c2VNYXAsIHVzZUNyZWF0aW9uLCB1c2VEcmFnLCB1c2VEcm9wLCB1c2VNb3VudCwgdXNlQ291bnRlciwgdXNlVXBkYXRlLCB1c2VUZXh0U2VsZWN0aW9uLCB1c2VFdmVudFRhcmdldCwgdXNlSGlzdG9yeVRyYXZlbCwgdXNlRnVzaW9uVGFibGUsIHVzZUNvb2tpZVN0YXRlLCB1c2VTZXRTdGF0ZSwgdXNlSW50ZXJ2YWwsIHVzZVdoeURpZFlvdVVwZGF0ZSwgdXNlVGl0bGUsIHVzZU5ldHdvcmssIHVzZVRpbWVvdXQsIHVzZVJlYWN0aXZlLCB1c2VGYXZpY29uLCB1c2VDb3VudERvd24sIHVzZVRyYWNrZWRFZmZlY3QsIHVzZVdlYlNvY2tldCwgdXNlTG9ja0ZuLCB1c2VVbm1vdW50ZWRSZWYsIHVzZUV4dGVybmFsLCB1c2VTYWZlU3RhdGUgfTsiLCJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQmFyY29kZUZvcm1hdCwgQnJvd3Nlck11bHRpRm9ybWF0UmVhZGVyLCBEZWNvZGVIaW50VHlwZSB9IGZyb20gXCJAenhpbmcvbGlicmFyeVwiO1xuaW1wb3J0IHsgdXNlSW50ZXJ2YWwgfSBmcm9tIFwiYWhvb2tzXCI7XG5cbmNvbnN0IGhpbnRzID0gbmV3IE1hcCgpO1xuLy8gUlNTX0V4cGFuZGVkIGlzIG5vdCBwcm9kdWN0aW9uIHJlYWR5IHlldC5cbmNvbnN0IGV4Y2x1c2lvbnM6IEJhcmNvZGVGb3JtYXRbXSA9IFtCYXJjb2RlRm9ybWF0LlJTU19FWFBBTkRFRF07XG4vLyBgQmFyY29kZUZvcm1hdGAgaXMgYSBUeXBlU2NyaXB0IGVudW0uIENhbGxpbmcgYE9iamVjdC52YWx1ZXNgIG9uIGl0IHJldHVybnMgYW4gYXJyYXkgb2Ygc3RyaW5nIGFuZCBpbnRzLCB3ZSBvbmx5IHdhbnQgdGhlIGxhdHRlci5cbmNvbnN0IGZvcm1hdHMgPSBPYmplY3QudmFsdWVzKEJhcmNvZGVGb3JtYXQpXG4gICAgLmZpbHRlcigoZm9ybWF0OiBzdHJpbmcgfCBCYXJjb2RlRm9ybWF0KSA9PiB0eXBlb2YgZm9ybWF0ICE9PSBcInN0cmluZ1wiKVxuICAgIC5maWx0ZXIoKGZvcm1hdDogQmFyY29kZUZvcm1hdCkgPT4gIWV4Y2x1c2lvbnMuaW5jbHVkZXMoZm9ybWF0KSkgYXMgQmFyY29kZUZvcm1hdFtdO1xuaGludHMuc2V0KERlY29kZUhpbnRUeXBlLlBPU1NJQkxFX0ZPUk1BVFMsIGZvcm1hdHMpO1xuXG5leHBvcnQgdHlwZSBDb2RlU2Nhbm5lckhvb2tFcnJvciA9IFwiRVJST1JfQ09ERV9TQ0FOTkVSXCI7XG5cbnR5cGUgQ29kZVNjYW5uZXJIb29rID0gKFxuICAgIHN0cmVhbU9iamVjdDogTWVkaWFTdHJlYW0gfCBudWxsLFxuICAgIHZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudCB8IG51bGxcbikgPT4ge1xuICAgIGNvZGVSZXN1bHQ6IHN0cmluZyB8IG51bGw7XG4gICAgZXJyb3I6IENvZGVTY2FubmVySG9va0Vycm9yIHwgbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VDb2RlU2Nhbm5lcjogQ29kZVNjYW5uZXJIb29rID0gKHN0cmVhbU9iamVjdCwgdmlkZW9FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgW2NvZGVSZXN1bHQsIHNldENvZGVSZXN1bHRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW2xhc3RDb2RlUmVzdWx0LCBzZXRMYXN0Q29kZVJlc3VsdF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPFwiRVJST1JfQ09ERV9TQ0FOTkVSXCIgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbaW50ZXJ2YWwsIHNldEludGVydmFsXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KDUwMCk7XG5cbiAgICB1c2VJbnRlcnZhbCgoKSA9PiB7XG5cbiAgICAgICAgaWYgKHN0cmVhbU9iamVjdCAmJiB2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgICAgIHNldEludGVydmFsKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgYnJvd3NlclJlYWRlciA9IG5ldyBCcm93c2VyTXVsdGlGb3JtYXRSZWFkZXIoaGludHMsIDIwMDApO1xuICAgICAgICAgICAgYnJvd3NlclJlYWRlci5kZWNvZGVPbmNlRnJvbVN0cmVhbShzdHJlYW1PYmplY3QsIHVuZGVmaW5lZCkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0Q29kZVJlc3VsdCAhPT0gcmVzdWx0LmdldFRleHQoKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRMYXN0Q29kZVJlc3VsdChyZXN1bHQuZ2V0VGV4dCgpKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q29kZVJlc3VsdChyZXN1bHQuZ2V0VGV4dCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoNTAwKTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoXCJFUlJPUl9DT0RFX1NDQU5ORVJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSwgaW50ZXJ2YWwsIHsgaW1tZWRpYXRlOiBmYWxzZSB9KTtcblxuICAgIHJldHVybiB7IGNvZGVSZXN1bHQsIGVycm9yIH07XG59O1xuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IHR5cGUgTWVkaWFTdHJlYW1Ib29rRXJyb3IgPSBcIkVSUk9SX05PVF9GT1VORFwiIHwgXCJFUlJPUl9OT1RfQUxMT1dFRFwiIHwgXCJFUlJPUl9NRURJQV9TVFJFQU1cIjtcblxudHlwZSBNZWRpYVN0cmVhbUhvb2sgPSAoKSA9PiB7XG4gICAgc3RyZWFtT2JqZWN0OiBNZWRpYVN0cmVhbSB8IG51bGw7XG4gICAgZXJyb3I6IE1lZGlhU3RyZWFtSG9va0Vycm9yIHwgbnVsbDtcbiAgICBjbGVhbnVwU3RyZWFtT2JqZWN0OiAoKSA9PiB2b2lkO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGJyb3dzZXJTdXBwb3J0c0NhbWVyYUFjY2VzcygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gXCJtZWRpYURldmljZXNcIiBpbiBuYXZpZ2F0b3IgJiYgXCJnZXRVc2VyTWVkaWFcIiBpbiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzO1xufVxuXG5jb25zdCBtZWRpYVN0cmVhbUNvbnN0cmFpbnRzOiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzID0ge1xuICAgIGF1ZGlvOiBmYWxzZSxcbiAgICB2aWRlbzoge1xuICAgICAgICBmYWNpbmdNb2RlOiBcImVudmlyb25tZW50XCIsXG4gICAgICAgIHdpZHRoOiB7IG1pbjogMTI4MCwgaWRlYWw6IDE5MjAsIG1heDogMjU2MCB9LFxuICAgICAgICBoZWlnaHQ6IHsgbWluOiA3MjAsIGlkZWFsOiAxMDgwLCBtYXg6IDE0NDAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCB1c2VNZWRpYVN0cmVhbTogTWVkaWFTdHJlYW1Ib29rID0gKCkgPT4ge1xuICAgIGNvbnN0IFtzdHJlYW1PYmplY3QsIHNldFN0cmVhbU9iamVjdF0gPSB1c2VTdGF0ZTxNZWRpYVN0cmVhbSB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8TWVkaWFTdHJlYW1Ib29rRXJyb3IgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBzdXBwb3J0c0NhbWVyYUFjY2VzcyA9IGJyb3dzZXJTdXBwb3J0c0NhbWVyYUFjY2VzcygpO1xuXG4gICAgY29uc3QgY2xlYW51cFN0cmVhbU9iamVjdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgc3RyZWFtT2JqZWN0Py5nZXRWaWRlb1RyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICB9LCBbc3RyZWFtT2JqZWN0XSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsZXQgc3RyZWFtOiBNZWRpYVN0cmVhbSB8IG51bGw7XG4gICAgICAgIGxldCBpc0NhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdldFN0cmVhbSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEobWVkaWFTdHJlYW1Db25zdHJhaW50cyk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0NhbmNlbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN0cmVhbU9iamVjdChzdHJlYW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmICFpc0NhbmNlbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTm90Rm91bmRFcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVycm9yKFwiRVJST1JfTk9UX0ZPVU5EXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5vdEFsbG93ZWRFcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVycm9yKFwiRVJST1JfTk9UX0FMTE9XRURcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEVycm9yKFwiRVJST1JfTUVESUFfU1RSRUFNXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdXBwb3J0c0NhbWVyYUFjY2VzcyAmJiAhc3RyZWFtT2JqZWN0KSB7XG4gICAgICAgICAgICBnZXRTdHJlYW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaXNDYW5jZWxlZCA9IHRydWU7XG4gICAgICAgICAgICBjbGVhbnVwU3RyZWFtT2JqZWN0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW3N1cHBvcnRzQ2FtZXJhQWNjZXNzLCBzdHJlYW1PYmplY3QsIGNsZWFudXBTdHJlYW1PYmplY3RdKTtcblxuICAgIHJldHVybiB7IHN0cmVhbU9iamVjdCwgY2xlYW51cFN0cmVhbU9iamVjdCwgZXJyb3IgfTtcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBSZWFjdEVsZW1lbnQsIFJlYWN0Tm9kZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gXCJjbGFzc25hbWVzXCI7XG5pbXBvcnQgeyBBbGVydCB9IGZyb20gXCJAbWVuZGl4LWNuL3Bpdy11dGlscy1pbnRlcm5hbFwiO1xuaW1wb3J0IHsgRGltZW5zaW9ucywgZ2V0RGltZW5zaW9ucyB9IGZyb20gXCJAbWVuZGl4LWNuL3Bpdy11dGlscy1pbnRlcm5hbFwiO1xuaW1wb3J0IHsgdXNlQ29kZVNjYW5uZXIsIENvZGVTY2FubmVySG9va0Vycm9yIH0gZnJvbSBcIi4uL2hvb2tzL3VzZUNvZGVTY2FubmVyXCI7XG5pbXBvcnQgeyBicm93c2VyU3VwcG9ydHNDYW1lcmFBY2Nlc3MsIHVzZU1lZGlhU3RyZWFtLCBNZWRpYVN0cmVhbUhvb2tFcnJvciB9IGZyb20gXCIuLi9ob29rcy91c2VNZWRpYVN0cmVhbVwiO1xuXG5pbXBvcnQgXCIuLi91aS9CYXJjb2RlU2Nhbm5lci5zY3NzXCI7XG5pbXBvcnQgeyB1c2VXaHlEaWRZb3VVcGRhdGUgfSBmcm9tIFwiYWhvb2tzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFyY29kZVNjYW5uZXJQcm9wcyBleHRlbmRzIERpbWVuc2lvbnMge1xuICAgIG9uRGV0ZWN0OiAoZGF0YTogc3RyaW5nKSA9PiB2b2lkO1xuICAgIHNob3dNYXNrOiBib29sZWFuO1xuICAgIGNsYXNzOiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvckVudW06IE1lZGlhU3RyZWFtSG9va0Vycm9yIHwgQ29kZVNjYW5uZXJIb29rRXJyb3IgfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgc3dpdGNoIChlcnJvckVudW0pIHtcbiAgICAgICAgY2FzZSBcIkVSUk9SX05PVF9GT1VORFwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiRXJyb3IgaW4gYmFyY29kZSBzY2FubmVyOiBubyBjYW1lcmEgbWVkaWEgZGV2aWNlcyB3ZXJlIGZvdW5kLlwiO1xuICAgICAgICBjYXNlIFwiRVJST1JfTUVESUFfU1RSRUFNXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJFcnJvciBpbiBiYXJjb2RlIHNjYW5uZXI6IGFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyB0aGUgY2FtZXJhIG1lZGlhIHN0cmVhbS5cIjtcbiAgICAgICAgY2FzZSBcIkVSUk9SX0NPREVfU0NBTk5FUlwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiRXJyb3IgaW4gYmFyY29kZSBzY2FubmVyOiBhbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIGRldGVjdGluZyBhIGJhcmNvZGUgaW4gdGhlIGNhbWVyYSBtZWRpYSBzdHJlYW0uXCI7XG4gICAgICAgIGNhc2UgXCJFUlJPUl9OT1RfQUxMT1dFRFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5pbnRlcmZhY2UgQmFyY29kZVNjYW5uZXJPdmVybGF5UHJvcHMgZXh0ZW5kcyBEaW1lbnNpb25zIHtcbiAgICBzaG93TWFzazogYm9vbGVhbjtcbiAgICBjbGFzczogc3RyaW5nO1xuICAgIGNoaWxkcmVuPzogUmVhY3ROb2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQmFyY29kZVNjYW5uZXJPdmVybGF5KHtcbiAgICBjaGlsZHJlbixcbiAgICBjbGFzczogY2xhc3NOYW1lLFxuICAgIHNob3dNYXNrLFxuICAgIC4uLmRpbWVuc2lvbnNcbn06IEJhcmNvZGVTY2FubmVyT3ZlcmxheVByb3BzKTogUmVhY3RFbGVtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcIm14LWJhcmNvZGUtc2Nhbm5lclwiLCBjbGFzc05hbWUpfSBzdHlsZT17Z2V0RGltZW5zaW9ucyhkaW1lbnNpb25zKX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcIm14LWJhcmNvZGUtc2Nhbm5lci1jb250ZW50XCIpfT5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgICAge3Nob3dNYXNrID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcInZpZGVvLWNhbnZhc1wiKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcImNhbnZhcy1sZWZ0XCIsIFwiY2FudmFzLWJhY2tncm91bmRcIil9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcImNhbnZhcy1taWRkbGVcIil9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFwiY2FudmFzLW1pZGRsZS10b3BcIiwgXCJjYW52YXMtYmFja2dyb3VuZFwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcImNhbnZhcy1taWRkbGUtbWlkZGxlXCIpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXCJjb3JuZXJcIiwgXCJjb3JuZXItdG9wLWxlZnRcIil9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFwiY29ybmVyXCIsIFwiY29ybmVyLXRvcC1yaWdodFwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoXCJjb3JuZXJcIiwgXCJjb3JuZXItYm90dG9tLXJpZ2h0XCIpfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcImNvcm5lclwiLCBcImNvcm5lci1ib3R0b20tbGVmdFwiKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcImNhbnZhcy1taWRkbGUtYm90dG9tXCIsIFwiY2FudmFzLWJhY2tncm91bmRcIil9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKFwiY2FudmFzLXJpZ2h0XCIsIFwiY2FudmFzLWJhY2tncm91bmRcIil9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCYXJjb2RlU2Nhbm5lcih7XG4gICAgb25EZXRlY3QsXG4gICAgc2hvd01hc2ssXG4gICAgY2xhc3M6IGNsYXNzTmFtZSxcbiAgICAuLi5kaW1lbnNpb25zXG59OiBCYXJjb2RlU2Nhbm5lclByb3BzKTogUmVhY3RFbGVtZW50IHwgbnVsbCB7XG4gICAgY29uc3QgdmlkZW9FbGVtZW50ID0gdXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCB7IHN0cmVhbU9iamVjdCwgZXJyb3I6IGVycm9yTWVkaWFTdHJlYW0gfSA9IHVzZU1lZGlhU3RyZWFtKCk7XG4gICAgY29uc3QgeyBjb2RlUmVzdWx0LCBlcnJvcjogZXJyb3JDb2RlU2Nhbm5lciB9ID0gdXNlQ29kZVNjYW5uZXIoc3RyZWFtT2JqZWN0LCB2aWRlb0VsZW1lbnQuY3VycmVudCk7XG4gICAgY29uc3Qgc3VwcG9ydHNDYW1lcmFBY2Nlc3MgPSBicm93c2VyU3VwcG9ydHNDYW1lcmFBY2Nlc3MoKTtcblxuICAgIC8vIElmIGJvdGggdGhlIHZpZGVvIGVsZW1lbnQgcmVmIGFuZCB0aGUgY2FtZXJhIHN0cmVhbSBvYmplY3QgYXJlIHJlYWR5LCBkaXNwbGF5IGl0IHRocm91Z2ggdGhlIGBzcmNPYmplY3RgIHByb3AuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHZpZGVvRWxlbWVudC5jdXJyZW50ICYmIHN0cmVhbU9iamVjdCkge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LmN1cnJlbnQuc3JjT2JqZWN0ID0gc3RyZWFtT2JqZWN0O1xuICAgICAgICB9XG4gICAgfSwgW3N0cmVhbU9iamVjdF0pO1xuXG4gICAgLy8gSWYgd2UgaGF2ZSBhbiBvbkRldGVjdCBoYW5kbGVyIGFuZCBhIGJhcmNvZGUgaGFzIGJlZW4gc2Nhbm5lZCBhbmQgaXQgd2FzIHRoZSBmaXJzdCBkZXRlY3RlZCBjb2RlLCB0cmlnZ2VyIHRoZSBvbkRldGVjdCBoYW5kbGVyLlxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChjb2RlUmVzdWx0KSB7XG4gICAgICAgICAgICBvbkRldGVjdChjb2RlUmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH0sIFtjb2RlUmVzdWx0XSk7XG5cbiAgICBpZiAoIXN1cHBvcnRzQ2FtZXJhQWNjZXNzKSB7XG4gICAgICAgIC8vIE1lbmRpeCBlbnN1cmVzIHRoYXQgTWVuZGl4IGFwcHMgYXJlIG9ubHkgcnVuIGluIHRoZSBzdXBwb3J0ZWQgYnJvd3NlcnMgYW5kIGFsbCBvZiB0aGVtXG4gICAgICAgIC8vIHN1cHBvcnQgdGhlIGBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYWAgQVBJLiBTbyBubyBhZGRpdGlvbmFsIGVycm9yIGhhbmRsaW5nXG4gICAgICAgIC8vIG5lZWRzIHRvIGJlIGRvbmUsIGJ1dCBqdXN0IGluIGNhc2Ugd2Ugc29mdCBjYXRjaCBpdC5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxBbGVydCBib290c3RyYXBTdHlsZT1cImRhbmdlclwiPlxuICAgICAgICAgICAgICAgIFRoZSBiYXJjb2RlIHNjYW5uZXIgd2lkZ2V0IGlzIG9ubHkgY29tcGF0aWJsZSB3aXRoIGNlcnRhaW4gYnJvd3NlcnMgYW5kIHJlcXVpcmVzIGEgc2VjdXJlIEhUVFBTXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbiBpbiBjZXJ0YWluIGJyb3dzZXJzLiBJZiB5b3UgZW5jb3VudGVyIHRoaXMgZXJyb3IgbWVzc2FnZSBhcyBhbiB1c2VyLCBwbGVhc2UgY29udGFjdCB5b3VyXG4gICAgICAgICAgICAgICAgc3lzdGVtIGFkbWluaXN0cmF0b3IuIElmIHlvdSBhcmUgYSBNZW5kaXggZGV2ZWxvcGVyLCBwbGVhc2UgcmVmZXIgdG8gdGhlIGFwcHJvcHJpYXRlIGRvY3Mgb24gaG93IHRvXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSB0aGlzIGlzc3VlLlxuICAgICAgICAgICAgPC9BbGVydD5cbiAgICAgICAgKTtcbiAgICB9XG4gICAgaWYgKChlcnJvck1lZGlhU3RyZWFtICYmIGVycm9yTWVkaWFTdHJlYW0gIT09IFwiRVJST1JfTk9UX0FMTE9XRURcIikgfHwgZXJyb3JDb2RlU2Nhbm5lcikge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2UoZXJyb3JNZWRpYVN0cmVhbSB8fCBlcnJvckNvZGVTY2FubmVyKTtcbiAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuIDxBbGVydCBib290c3RyYXBTdHlsZT1cImRhbmdlclwiPntlcnJvck1lc3NhZ2V9PC9BbGVydD47XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXNlV2h5RGlkWW91VXBkYXRlKCdsd2cnLHtjb2RlUmVzdWx0LCBvbkRldGVjdH0pXG4gICAgcmV0dXJuIChcbiAgICAgICAgPEJhcmNvZGVTY2FubmVyT3ZlcmxheSBjbGFzcz17Y2xhc3NOYW1lfSBzaG93TWFzaz17c2hvd01hc2t9IHsuLi5kaW1lbnNpb25zfT5cbiAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhcInZpZGVvXCIpfVxuICAgICAgICAgICAgICAgIHJlZj17dmlkZW9FbGVtZW50fVxuICAgICAgICAgICAgICAgIG9uQ2FuUGxheT17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvQmFyY29kZVNjYW5uZXJPdmVybGF5PlxuICAgICk7XG59XG4iLCJpbXBvcnQgeyBleGVjdXRlQWN0aW9uIH0gZnJvbSBcIkBtZW5kaXgtY24vcGl3LXV0aWxzLWludGVybmFsXCI7XG5pbXBvcnQgeyBWYWx1ZVN0YXR1cyB9IGZyb20gXCJtZW5kaXhcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIEZ1bmN0aW9uQ29tcG9uZW50LCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQmFyY29kZVNjYW5uZXJDb250YWluZXJQcm9wcyB9IGZyb20gXCIuLi90eXBpbmdzL0JhcmNvZGVTY2FubmVyUHJvcHNcIjtcbmltcG9ydCB7IEJhcmNvZGVTY2FubmVyIGFzIEJhcmNvZGVTY2FubmVyQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9CYXJjb2RlU2Nhbm5lclwiO1xuXG5leHBvcnQgY29uc3QgQmFyY29kZVNjYW5uZXI6IEZ1bmN0aW9uQ29tcG9uZW50PEJhcmNvZGVTY2FubmVyQ29udGFpbmVyUHJvcHM+ID0gcHJvcHMgPT4ge1xuICAgIGNvbnN0IG9uRGV0ZWN0ID0gdXNlQ2FsbGJhY2soXG4gICAgICAgIChkYXRhOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5kYXRhc291cmNlPy5zdGF0dXMgIT09IFZhbHVlU3RhdHVzLkF2YWlsYWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhICE9PSBwcm9wcy5kYXRhc291cmNlLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcHJvcHMuZGF0YXNvdXJjZS5zZXRWYWx1ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4ZWN1dGVBY3Rpb24ocHJvcHMub25EZXRlY3QpO1xuICAgICAgICB9LFxuICAgICAgICBbcHJvcHMub25EZXRlY3QsIHByb3BzLmRhdGFzb3VyY2VdXG4gICAgKTtcbiAgICByZXR1cm4gKFxuICAgICAgICA8QmFyY29kZVNjYW5uZXJDb21wb25lbnRcbiAgICAgICAgICAgIG9uRGV0ZWN0PXtvbkRldGVjdH1cbiAgICAgICAgICAgIHNob3dNYXNrPXtwcm9wcy5zaG93TWFza31cbiAgICAgICAgICAgIGNsYXNzPXtwcm9wcy5jbGFzc31cbiAgICAgICAgICAgIGhlaWdodFVuaXQ9e3Byb3BzLmhlaWdodFVuaXR9XG4gICAgICAgICAgICBoZWlnaHQ9e3Byb3BzLmhlaWdodH1cbiAgICAgICAgICAgIHdpZHRoVW5pdD17cHJvcHMud2lkdGhVbml0fVxuICAgICAgICAgICAgd2lkdGg9e3Byb3BzLndpZHRofVxuICAgICAgICAvPlxuICAgICk7XG59O1xuIl0sIm5hbWVzIjpbImhhc093biIsImhhc093blByb3BlcnR5IiwiY2xhc3NOYW1lcyIsImNsYXNzZXMiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJnIiwiYXJnVHlwZSIsInB1c2giLCJBcnJheSIsImlzQXJyYXkiLCJpbm5lciIsImFwcGx5IiwidG9TdHJpbmciLCJPYmplY3QiLCJwcm90b3R5cGUiLCJrZXkiLCJjYWxsIiwiam9pbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZhdWx0Iiwid2luZG93IiwiQWxlcnQiLCJjbGFzc05hbWUiLCJib290c3RyYXBTdHlsZSIsImNoaWxkcmVuIiwiQ2hpbGRyZW4iLCJjb3VudCIsImNyZWF0ZUVsZW1lbnQiLCJkaXNwbGF5TmFtZSIsImV4ZWN1dGVBY3Rpb24iLCJhY3Rpb24iLCJjYW5FeGVjdXRlIiwiaXNFeGVjdXRpbmciLCJleGVjdXRlIiwiRm9ybWF0dGVyVHlwZSIsImdldERpbWVuc2lvbnMiLCJwcm9wcyIsInN0eWxlIiwid2lkdGgiLCJ3aWR0aFVuaXQiLCJoZWlnaHRVbml0IiwicmF0aW8iLCJoZWlnaHQiLCJwYWRkaW5nQm90dG9tIiwiX19leHRlbmRzIiwiX192YWx1ZXMiLCJEZWNvZGVIaW50VHlwZSIsIkRlY29kZXIiLCJEZXRlY3RvciIsIkJhcmNvZGVGb3JtYXQiLCJSZXN1bHRNZXRhZGF0YVR5cGUiLCJGaW5kZXJQYXR0ZXJuIiwiRUNCbG9ja3MiLCJFQ0IiLCJWZXJzaW9uIiwiQml0TWF0cml4UGFyc2VyIiwiRGF0YUJsb2NrIiwiTW9kZSIsIkRlY29kZWRCaXRTdHJlYW1QYXJzZXIiLCJfX3JlYWQiLCJFbmNvZGVIaW50VHlwZSIsIkMuTU9ERV9VUFBFUiIsIkMuTU9ERV9QVU5DVCIsIkMuTU9ERV9MT1dFUiIsIkMuTU9ERV9NSVhFRCIsIkMuTU9ERV9ESUdJVCIsImZyZWVHbG9iYWwiLCJnbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJGdW5jdGlvbiIsImlzRG9jdW1lbnRWaXNpYmxlIiwiZG9jdW1lbnQiLCJ2aXNpYmlsaXR5U3RhdGUiLCJpc09ubGluZSIsIm5hdmlnYXRvciIsIm9uTGluZSIsInRoaXMiLCJvIiwibiIsIm0iLCJTeW1ib2wiLCJpdGVyYXRvciIsInIiLCJhciIsImUiLCJuZXh0IiwiZG9uZSIsInZhbHVlIiwiZXJyb3IiLCJfX3NwcmVhZCIsImNvbmNhdCIsImxpc3RlbmVycyIsImV2ZW50c0JpbmRlZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXZhbGlkYXRlIiwibGlzdGVuZXIiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJzIiwicCIsIl9fcmVzdCIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIkNvbmZpZ0NvbnRleHQiLCJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJQcm92aWRlciIsInVzZUludGVydmFsIiwiZm4iLCJkZWxheSIsIm9wdGlvbnMiLCJpbW1lZGlhdGUiLCJmblJlZiIsInVzZVJlZiIsImN1cnJlbnQiLCJ1c2VFZmZlY3QiLCJfYSIsInVuZGVmaW5lZCIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwidXNlV2h5RGlkWW91VXBkYXRlIiwiY29tcG9uZW50TmFtZSIsInByZXZQcm9wcyIsImFsbEtleXMiLCJrZXlzIiwiY2hhbmdlZFByb3BzXzEiLCJmb3JFYWNoIiwiZnJvbSIsInRvIiwiY29uc29sZSIsImxvZyIsIkJhcmNvZGVTY2FubmVyIiwiQmFyY29kZVNjYW5uZXJDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS0E7QUFFQyxhQUFZOztBQUdaLE1BQUlBLE1BQU0sR0FBRyxHQUFHQyxjQUFoQjs7QUFFQSxXQUFTQyxVQUFULEdBQXNCO0FBQ3JCLFFBQUlDLE9BQU8sR0FBRyxFQUFkOztBQUVBLFNBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0MsU0FBUyxDQUFDQyxNQUE5QixFQUFzQ0YsQ0FBQyxFQUF2QyxFQUEyQztBQUMxQyxVQUFJRyxHQUFHLEdBQUdGLFNBQVMsQ0FBQ0QsQ0FBRCxDQUFuQjtBQUNBLFVBQUksQ0FBQ0csR0FBTCxFQUFVO0FBRVYsVUFBSUMsT0FBTyxHQUFHLE9BQU9ELEdBQXJCOztBQUVBLFVBQUlDLE9BQU8sS0FBSyxRQUFaLElBQXdCQSxPQUFPLEtBQUssUUFBeEMsRUFBa0Q7QUFDakRMLFFBQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhRixHQUFiO0FBQ0EsT0FGRCxNQUVPLElBQUlHLEtBQUssQ0FBQ0MsT0FBTixDQUFjSixHQUFkLENBQUosRUFBd0I7QUFDOUIsWUFBSUEsR0FBRyxDQUFDRCxNQUFSLEVBQWdCO0FBQ2YsY0FBSU0sS0FBSyxHQUFHVixVQUFVLENBQUNXLEtBQVgsQ0FBaUIsSUFBakIsRUFBdUJOLEdBQXZCLENBQVo7O0FBQ0EsY0FBSUssS0FBSixFQUFXO0FBQ1ZULFlBQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhRyxLQUFiO0FBQ0E7QUFDRDtBQUNELE9BUE0sTUFPQSxJQUFJSixPQUFPLEtBQUssUUFBaEIsRUFBMEI7QUFDaEMsWUFBSUQsR0FBRyxDQUFDTyxRQUFKLEtBQWlCQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJGLFFBQXRDLEVBQWdEO0FBQy9DLGVBQUssSUFBSUcsR0FBVCxJQUFnQlYsR0FBaEIsRUFBcUI7QUFDcEIsZ0JBQUlQLE1BQU0sQ0FBQ2tCLElBQVAsQ0FBWVgsR0FBWixFQUFpQlUsR0FBakIsS0FBeUJWLEdBQUcsQ0FBQ1UsR0FBRCxDQUFoQyxFQUF1QztBQUN0Q2QsY0FBQUEsT0FBTyxDQUFDTSxJQUFSLENBQWFRLEdBQWI7QUFDQTtBQUNEO0FBQ0QsU0FORCxNQU1PO0FBQ05kLFVBQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhRixHQUFHLENBQUNPLFFBQUosRUFBYjtBQUNBO0FBQ0Q7QUFDRDs7QUFFRCxXQUFPWCxPQUFPLENBQUNnQixJQUFSLENBQWEsR0FBYixDQUFQO0FBQ0E7O0FBRUQsTUFBcUNDLE1BQU0sQ0FBQ0MsT0FBNUMsRUFBcUQ7QUFDcERuQixJQUFBQSxVQUFVLENBQUNvQixPQUFYLEdBQXFCcEIsVUFBckI7QUFDQWtCLElBQUFBLGlCQUFpQmxCLFVBQWpCO0FBQ0EsR0FIRCxNQVFPO0FBQ05xQixJQUFBQSxNQUFNLENBQUNyQixVQUFQLEdBQW9CQSxVQUFwQjtBQUNBO0FBQ0QsQ0FsREEsR0FBRDs7Ozs7QUNMTyxNQUFNc0IsS0FBSyxHQUFHLENBQUM7QUFBRUMsRUFBQUEsU0FBRjtBQUFhQyxFQUFBQSxjQUFiO0FBQTZCQyxFQUFBQTtBQUE3QixDQUFELEtBQTZDQyxRQUFRLENBQUNDLEtBQVQsQ0FBZUYsUUFBZixJQUEyQixDQUEzQixHQUFnQ0csYUFBYSxDQUFDLEtBQUQsRUFBUTtBQUFFTCxFQUFBQSxTQUFTLEVBQUV2QixZQUFVLENBQUUsZUFBY3dCLGNBQWUsRUFBL0IsRUFBa0NELFNBQWxDO0FBQXZCLENBQVIsRUFBK0VFLFFBQS9FLENBQTdDLEdBQXlJLElBQXBNO0FBQ1BILEtBQUssQ0FBQ08sV0FBTixHQUFvQixPQUFwQjs7QUNITyxNQUFNQyxhQUFhLEdBQUlDLE1BQUQsSUFBWTtBQUNyQyxNQUFJQSxNQUFNLElBQUlBLE1BQU0sQ0FBQ0MsVUFBakIsSUFBK0IsQ0FBQ0QsTUFBTSxDQUFDRSxXQUEzQyxFQUF3RDtBQUNwREYsSUFBQUEsTUFBTSxDQUFDRyxPQUFQO0FBQ0g7QUFDSixDQUpNOztBQ0FBLElBQUlDLGFBQUo7O0FBQ1AsQ0FBQyxVQUFVQSxhQUFWLEVBQXlCO0FBQ3RCQSxFQUFBQSxhQUFhLENBQUMsUUFBRCxDQUFiLEdBQTBCLFFBQTFCO0FBQ0FBLEVBQUFBLGFBQWEsQ0FBQyxVQUFELENBQWIsR0FBNEIsVUFBNUI7QUFDSCxDQUhELEVBR0dBLGFBQWEsS0FBS0EsYUFBYSxHQUFHLEVBQXJCLENBSGhCOztBQ0RPLFNBQVNDLGFBQVQsQ0FBdUJDLEtBQXZCLEVBQThCO0FBQ2pDLFFBQU1DLEtBQUssR0FBRztBQUNWQyxJQUFBQSxLQUFLLEVBQUVGLEtBQUssQ0FBQ0csU0FBTixLQUFvQixZQUFwQixHQUFvQyxHQUFFSCxLQUFLLENBQUNFLEtBQU0sR0FBbEQsR0FBd0QsR0FBRUYsS0FBSyxDQUFDRSxLQUFNO0FBRG5FLEdBQWQ7O0FBR0EsTUFBSUYsS0FBSyxDQUFDSSxVQUFOLEtBQXFCLG1CQUF6QixFQUE4QztBQUMxQyxVQUFNQyxLQUFLLEdBQUlMLEtBQUssQ0FBQ00sTUFBTixHQUFlLEdBQWhCLEdBQXVCTixLQUFLLENBQUNFLEtBQTNDOztBQUNBLFFBQUlGLEtBQUssQ0FBQ0csU0FBTixLQUFvQixZQUF4QixFQUFzQztBQUNsQ0YsTUFBQUEsS0FBSyxDQUFDSyxNQUFOLEdBQWUsTUFBZjtBQUNBTCxNQUFBQSxLQUFLLENBQUNNLGFBQU4sR0FBdUIsR0FBRUYsS0FBTSxHQUEvQjtBQUNILEtBSEQsTUFJSztBQUNESixNQUFBQSxLQUFLLENBQUNLLE1BQU4sR0FBZ0IsR0FBRUQsS0FBTSxJQUF4QjtBQUNIO0FBQ0osR0FURCxNQVVLLElBQUlMLEtBQUssQ0FBQ0ksVUFBTixLQUFxQixRQUF6QixFQUFtQztBQUNwQ0gsSUFBQUEsS0FBSyxDQUFDSyxNQUFOLEdBQWdCLEdBQUVOLEtBQUssQ0FBQ00sTUFBTyxJQUEvQjtBQUNILEdBRkksTUFHQSxJQUFJTixLQUFLLENBQUNJLFVBQU4sS0FBcUIsb0JBQXpCLEVBQStDO0FBQ2hESCxJQUFBQSxLQUFLLENBQUNLLE1BQU4sR0FBZ0IsR0FBRU4sS0FBSyxDQUFDTSxNQUFPLEdBQS9CO0FBQ0g7O0FBQ0QsU0FBT0wsS0FBUDtBQUNIOzs7Ozs7Ozs7OztBQ2hCRDtBQUVDLGFBQVk7O0FBR1osTUFBSXhDLE1BQU0sR0FBRyxHQUFHQyxjQUFoQjs7QUFFQSxXQUFTQyxVQUFULEdBQXNCO0FBQ3JCLFFBQUlDLE9BQU8sR0FBRyxFQUFkOztBQUVBLFNBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0MsU0FBUyxDQUFDQyxNQUE5QixFQUFzQ0YsQ0FBQyxFQUF2QyxFQUEyQztBQUMxQyxVQUFJRyxHQUFHLEdBQUdGLFNBQVMsQ0FBQ0QsQ0FBRCxDQUFuQjtBQUNBLFVBQUksQ0FBQ0csR0FBTCxFQUFVO0FBRVYsVUFBSUMsT0FBTyxHQUFHLE9BQU9ELEdBQXJCOztBQUVBLFVBQUlDLE9BQU8sS0FBSyxRQUFaLElBQXdCQSxPQUFPLEtBQUssUUFBeEMsRUFBa0Q7QUFDakRMLFFBQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhRixHQUFiO0FBQ0EsT0FGRCxNQUVPLElBQUlHLEtBQUssQ0FBQ0MsT0FBTixDQUFjSixHQUFkLENBQUosRUFBd0I7QUFDOUIsWUFBSUEsR0FBRyxDQUFDRCxNQUFSLEVBQWdCO0FBQ2YsY0FBSU0sS0FBSyxHQUFHVixVQUFVLENBQUNXLEtBQVgsQ0FBaUIsSUFBakIsRUFBdUJOLEdBQXZCLENBQVo7O0FBQ0EsY0FBSUssS0FBSixFQUFXO0FBQ1ZULFlBQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhRyxLQUFiO0FBQ0E7QUFDRDtBQUNELE9BUE0sTUFPQSxJQUFJSixPQUFPLEtBQUssUUFBaEIsRUFBMEI7QUFDaEMsWUFBSUQsR0FBRyxDQUFDTyxRQUFKLEtBQWlCQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJGLFFBQXRDLEVBQWdEO0FBQy9DLGVBQUssSUFBSUcsR0FBVCxJQUFnQlYsR0FBaEIsRUFBcUI7QUFDcEIsZ0JBQUlQLE1BQU0sQ0FBQ2tCLElBQVAsQ0FBWVgsR0FBWixFQUFpQlUsR0FBakIsS0FBeUJWLEdBQUcsQ0FBQ1UsR0FBRCxDQUFoQyxFQUF1QztBQUN0Q2QsY0FBQUEsT0FBTyxDQUFDTSxJQUFSLENBQWFRLEdBQWI7QUFDQTtBQUNEO0FBQ0QsU0FORCxNQU1PO0FBQ05kLFVBQUFBLE9BQU8sQ0FBQ00sSUFBUixDQUFhRixHQUFHLENBQUNPLFFBQUosRUFBYjtBQUNBO0FBQ0Q7QUFDRDs7QUFFRCxXQUFPWCxPQUFPLENBQUNnQixJQUFSLENBQWEsR0FBYixDQUFQO0FBQ0E7O0FBRUQsTUFBcUNDLE1BQU0sQ0FBQ0MsT0FBNUMsRUFBcUQ7QUFDcERuQixJQUFBQSxVQUFVLENBQUNvQixPQUFYLEdBQXFCcEIsVUFBckI7QUFDQWtCLElBQUFBLGlCQUFpQmxCLFVBQWpCO0FBQ0EsR0FIRCxNQVFPO0FBQ05xQixJQUFBQSxNQUFNLENBQUNyQixVQUFQLEdBQW9CQSxVQUFwQjtBQUNBO0FBQ0QsQ0FsREEsR0FBRDs7Ozs7QUNFTSxTQUFBLFFBQUEsQ0FBQSxNQUFBLEVBQUEsU0FBQSxFQUErQztNQUM5QyxjQUFjLEdBQWMsTUFBYyxDQUFoRDtBQUNBLEVBQUEsY0FBYyxHQUNYLGNBQWMsQ0FBQSxNQUFBLEVBREgsU0FDRyxDQURILEdBRVQsTUFBYyxDQUFkLFNBQUEsR0FGTCxTQUFBOzs7QUFXSyxTQUFBLFFBQUEsQ0FBQSxNQUFBLEVBQUEsRUFBQSxFQUFtRTtNQUFqQyxFQUFBLEtBQUEsS0FBQSxHQUFBO0FBQUEsSUFBQSxFQUFBLEdBQWUsTUFBTSxDQUFyQixXQUFBOzs7TUFDakMsaUJBQWlCLEdBQWMsS0FBYSxDQUFsRDtBQUNBLEVBQUEsaUJBQWlCLElBQUksaUJBQWlCLENBQUEsTUFBQSxFQUF0QyxFQUFzQyxDQUF0Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEJEOztBQUVHOztBQUNILElBQUEsU0FBQTtBQUFBO0FBQUEsVUFBQSxNQUFBLEVBQUE7QUFBdUMsRUFBQTZDLFlBQUEsQ0FBQSxTQUFBLEVBQUEsTUFBQSxDQUFBO0FBT3JDOzs7QUFHRzs7O0FBQ0gsV0FBQSxTQUFBLENBQ1MsT0FEVCxFQUNvQztBQUEzQixRQUFBLE9BQUEsS0FBQSxLQUFBLENBQUEsRUFBQTtBQUFBLE1BQUEsT0FBQSxHQUFBLFNBQUE7QUFBMkI7O0FBRHBDLFFBQUEsS0FBQSxHQUdFLE1BQUEsQ0FBQSxJQUFBLENBQUEsSUFBQSxFQUFNLE9BQU4sS0FBYyxJQUhoQjs7QUFDUyxJQUFBLEtBQUEsQ0FBQSxPQUFBLEdBQUEsT0FBQTs7QUFHUjs7QUFFTSxFQUFBLFNBQUEsQ0FBQSxTQUFBLENBQUEsT0FBQSxHQUFQLFlBQUE7QUFDRSxRQUFNLEVBQUUsR0FBcUIsS0FBSyxXQUFsQztBQUNBLFdBQU8sRUFBRSxDQUFDLElBQVY7QUFDRCxHQUhNO0FBZlA7O0FBRUc7OztBQUNhLEVBQUEsU0FBQSxDQUFBLElBQUEsR0FBZSxXQUFmO0FBZ0JsQixTQUFBLFNBQUE7QUFBQyxDQXJCRCxDQUF1QyxXQUF2QyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDSEE7O0FBRUc7O0FBQ0gsSUFBQSxpQkFBQTtBQUFBO0FBQUEsVUFBQSxNQUFBLEVBQUE7QUFBK0MsRUFBQUEsWUFBQSxDQUFBLGlCQUFBLEVBQUEsTUFBQSxDQUFBOztBQUEvQyxXQUFBLGlCQUFBLEdBQUE7O0FBRUM7O0FBRGlCLEVBQUEsaUJBQUEsQ0FBQSxJQUFBLEdBQWUsbUJBQWY7QUFDbEIsU0FBQSxpQkFBQTtBQUFDLENBRkQsQ0FBK0MsU0FBL0MsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0hBOztBQUVHOztBQUNILElBQUEsd0JBQUE7QUFBQTtBQUFBLFVBQUEsTUFBQSxFQUFBO0FBQXNELEVBQUFBLFlBQUEsQ0FBQSx3QkFBQSxFQUFBLE1BQUEsQ0FBQTs7QUFBdEQsV0FBQSx3QkFBQSxHQUFBOztBQUVDOztBQURpQixFQUFBLHdCQUFBLENBQUEsSUFBQSxHQUFlLDBCQUFmO0FBQ2xCLFNBQUEsd0JBQUE7QUFBQyxDQUZELENBQXNELFNBQXRELENBQUE7O0FDTEE7Ozs7Ozs7Ozs7Ozs7O0FBY0c7O0FBaUJILElBQUEsWUFBQTtBQUFBO0FBQUEsWUFBQTtBQUdJLFdBQUEsWUFBQSxDQUEyQixTQUEzQixFQUErQztBQUFwQixTQUFBLFNBQUEsR0FBQSxTQUFBOztBQUN2QixRQUFJLFNBQVMsS0FBSyxJQUFsQixFQUF3QjtBQUNwQixZQUFNLElBQUksd0JBQUosQ0FBNkIsNkJBQTdCLENBQU47QUFDSDtBQUNKO0FBRUQ7O0FBRUc7OztBQUNJLEVBQUEsWUFBQSxDQUFBLFNBQUEsQ0FBQSxRQUFBLEdBQVAsWUFBQTtBQUNJLFdBQU8sS0FBSyxTQUFMLENBQWUsUUFBZixFQUFQO0FBQ0gsR0FGTTtBQUlQOztBQUVHOzs7QUFDSSxFQUFBLFlBQUEsQ0FBQSxTQUFBLENBQUEsU0FBQSxHQUFQLFlBQUE7QUFDSSxXQUFPLEtBQUssU0FBTCxDQUFlLFNBQWYsRUFBUDtBQUNILEdBRk07QUFJUDs7Ozs7Ozs7OztBQVVHOzs7QUFDSSxFQUFBLFlBQUEsQ0FBQSxTQUFBLENBQUEsV0FBQSxHQUFQLFVBQW1CO0FBQVU7QUFBN0IsSUFBc0MsR0FBdEMsRUFBbUQ7QUFDL0MsV0FBTyxLQUFLLFNBQUwsQ0FBZSxXQUFmLENBQTJCLENBQTNCLEVBQThCLEdBQTlCLENBQVA7QUFDSCxHQUZNO0FBSVA7Ozs7Ozs7O0FBUUc7OztBQUNJLEVBQUEsWUFBQSxDQUFBLFNBQUEsQ0FBQSxjQUFBLEdBQVAsWUFBQTtBQUNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFJLEtBQUssTUFBTCxLQUFnQixJQUFoQixJQUF3QixLQUFLLE1BQUwsS0FBZ0IsU0FBNUMsRUFBdUQ7QUFDbkQsV0FBSyxNQUFMLEdBQWMsS0FBSyxTQUFMLENBQWUsY0FBZixFQUFkO0FBQ0g7O0FBQ0QsV0FBTyxLQUFLLE1BQVo7QUFDSCxHQVZNO0FBWVA7O0FBRUc7OztBQUNJLEVBQUEsWUFBQSxDQUFBLFNBQUEsQ0FBQSxlQUFBLEdBQVAsWUFBQTtBQUNJLFdBQU8sS0FBSyxTQUFMLENBQWUsa0JBQWYsR0FBb0MsZUFBcEMsRUFBUDtBQUNILEdBRk07QUFJUDs7Ozs7Ozs7O0FBU0c7OztBQUNJLEVBQUEsWUFBQSxDQUFBLFNBQUEsQ0FBQSxJQUFBLEdBQVAsVUFBWTtBQUFhO0FBQXpCLElBQWtDO0FBQVk7QUFBOUMsSUFBdUQ7QUFBYztBQUFyRSxJQUE4RTtBQUFlO0FBQTdGLElBQW9HO0FBQ2hHLFFBQU0sU0FBUyxHQUFvQixLQUFLLFNBQUwsQ0FBZSxrQkFBZixHQUFvQyxJQUFwQyxDQUF5QyxJQUF6QyxFQUErQyxHQUEvQyxFQUFvRCxLQUFwRCxFQUEyRCxNQUEzRCxDQUFuQztBQUNBLFdBQU8sSUFBSSxZQUFKLENBQWlCLEtBQUssU0FBTCxDQUFlLGVBQWYsQ0FBK0IsU0FBL0IsQ0FBakIsQ0FBUDtBQUNILEdBSE07QUFLUDs7QUFFRzs7O0FBQ0ksRUFBQSxZQUFBLENBQUEsU0FBQSxDQUFBLGlCQUFBLEdBQVAsWUFBQTtBQUNJLFdBQU8sS0FBSyxTQUFMLENBQWUsa0JBQWYsR0FBb0MsaUJBQXBDLEVBQVA7QUFDSCxHQUZNO0FBSVA7Ozs7O0FBS0c7OztBQUNJLEVBQUEsWUFBQSxDQUFBLFNBQUEsQ0FBQSxzQkFBQSxHQUFQLFlBQUE7QUFDSSxRQUFNLFNBQVMsR0FBb0IsS0FBSyxTQUFMLENBQWUsa0JBQWYsR0FBb0Msc0JBQXBDLEVBQW5DO0FBQ0EsV0FBTyxJQUFJLFlBQUosQ0FBaUIsS0FBSyxTQUFMLENBQWUsZUFBZixDQUErQixTQUEvQixDQUFqQixDQUFQO0FBQ0gsR0FITTtBQUtQOzs7OztBQUtHOzs7QUFDSSxFQUFBLFlBQUEsQ0FBQSxTQUFBLENBQUEsd0JBQUEsR0FBUCxZQUFBO0FBQ0ksUUFBTSxTQUFTLEdBQW9CLEtBQUssU0FBTCxDQUFlLGtCQUFmLEdBQW9DLHdCQUFwQyxFQUFuQztBQUNBLFdBQU8sSUFBSSxZQUFKLENBQWlCLEtBQUssU0FBTCxDQUFlLGVBQWYsQ0FBK0IsU0FBL0IsQ0FBakIsQ0FBUDtBQUNILEdBSE07QUFLUDs7O0FBQ08sRUFBQSxZQUFBLENBQUEsU0FBQSxDQUFBLFFBQUEsR0FBUCxZQUFBO0FBQ0ksUUFBSTtBQUNBLGFBQU8sS0FBSyxjQUFMLEdBQXNCLFFBQXRCLEVBQVA7QUFDSCxLQUZELENBRUUsT0FBTztBQUFFO0FBQVQsTUFBa0M7QUFDaEMsYUFBTyxFQUFQO0FBQ0g7QUFDSixHQU5NOztBQVFYLFNBQUEsWUFBQTtBQUFDLENBdkhELEVBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM3QkE7O0FBRUc7O0FBQ0gsSUFBQSxpQkFBQTtBQUFBO0FBQUEsVUFBQSxNQUFBLEVBQUE7QUFBK0MsRUFBQUEsV0FBQSxDQUFBLGlCQUFBLEVBQUEsTUFBQSxDQUFBOztBQUEvQyxXQUFBLGlCQUFBLEdBQUE7O0FBS0M7O0FBSFEsRUFBQSxpQkFBQSxDQUFBLG1CQUFBLEdBQVAsWUFBQTtBQUNFLFdBQU8sSUFBSSxpQkFBSixFQUFQO0FBQ0QsR0FGTTs7QUFEUyxFQUFBLGlCQUFBLENBQUEsSUFBQSxHQUFlLG1CQUFmO0FBSWxCLFNBQUEsaUJBQUE7QUFBQyxDQUxELENBQStDLFNBQS9DLENBQUE7O0FDTEE7Ozs7Ozs7Ozs7Ozs7O0FBY0c7O0FBUUg7Ozs7Ozs7QUFPRztBQUNILElBQUEsU0FBQTtBQUFBO0FBQUEsWUFBQTtBQUVJLFdBQUEsU0FBQSxDQUE4QixNQUE5QixFQUFxRDtBQUF2QixTQUFBLE1BQUEsR0FBQSxNQUFBO0FBQTRCOztBQUVuRCxFQUFBLFNBQUEsQ0FBQSxTQUFBLENBQUEsa0JBQUEsR0FBUCxZQUFBO0FBQ0ksV0FBTyxLQUFLLE1BQVo7QUFDSCxHQUZNOztBQXlDQSxFQUFBLFNBQUEsQ0FBQSxTQUFBLENBQUEsUUFBQSxHQUFQLFlBQUE7QUFDSSxXQUFPLEtBQUssTUFBTCxDQUFZLFFBQVosRUFBUDtBQUNILEdBRk07O0FBSUEsRUFBQSxTQUFBLENBQUEsU0FBQSxDQUFBLFNBQUEsR0FBUCxZQUFBO0FBQ0ksV0FBTyxLQUFLLE1BQUwsQ0FBWSxTQUFaLEVBQVA7QUFDSCxHQUZNOztBQUdYLFNBQUEsU0FBQTtBQUFDLENBcERELEVBQUE7O0FDOUJBLElBQUEsTUFBQTtBQUFBO0FBQUEsWUFBQTtBQUFBLFdBQUEsTUFBQSxHQUFBLEVBQUE7O0FBR0k7O0FBRUc7OztBQUNXLEVBQUEsTUFBQSxDQUFBLFNBQUEsR0FBZCxVQUF3QixHQUF4QixFQUFrQyxNQUFsQyxFQUFrRCxJQUFsRCxFQUE2RCxPQUE3RCxFQUE4RSxNQUE5RSxFQUE0RjtBQUN4RjtBQUNBLFdBQU8sTUFBTSxFQUFiLEVBQWlCO0FBQ2IsTUFBQSxJQUFJLENBQUMsT0FBTyxFQUFSLENBQUosR0FBa0IsR0FBRyxDQUFDLE1BQU0sRUFBUCxDQUFyQjtBQUNIO0FBQ0osR0FMYTtBQU9kOztBQUVHOzs7QUFDVyxFQUFBLE1BQUEsQ0FBQSxpQkFBQSxHQUFkLFlBQUE7QUFDSSxXQUFPLElBQUksQ0FBQyxHQUFMLEVBQVA7QUFDSCxHQUZhOztBQUdsQixTQUFBLE1BQUE7QUFBQyxDQW5CRCxFQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRUE7O0FBRUc7O0FBQ0gsSUFBQSx5QkFBQTtBQUFBO0FBQUEsVUFBQSxNQUFBLEVBQUE7QUFBdUQsRUFBQUEsV0FBQSxDQUFBLHlCQUFBLEVBQUEsTUFBQSxDQUFBOztBQUF2RCxXQUFBLHlCQUFBLEdBQUE7O0FBRUM7O0FBRGlCLEVBQUEseUJBQUEsQ0FBQSxJQUFBLEdBQWUsMkJBQWY7QUFDbEIsU0FBQSx5QkFBQTtBQUFDLENBRkQsQ0FBdUQsU0FBdkQsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0hBOztBQUVHOztBQUNILElBQUEsOEJBQUE7QUFBQTtBQUFBLFVBQUEsTUFBQSxFQUFBO0FBQTRELEVBQUFBLFdBQUEsQ0FBQSw4QkFBQSxFQUFBLE1BQUEsQ0FBQTs7QUFFMUQsV0FBQSw4QkFBQSxDQUNTLEtBRFQsRUFFUyxPQUZULEVBRW9DO0FBRDNCLFFBQUEsS0FBQSxLQUFBLEtBQUEsQ0FBQSxFQUFBO0FBQUEsTUFBQSxLQUFBLEdBQUEsU0FBQTtBQUF5Qjs7QUFDekIsUUFBQSxPQUFBLEtBQUEsS0FBQSxDQUFBLEVBQUE7QUFBQSxNQUFBLE9BQUEsR0FBQSxTQUFBO0FBQTJCOztBQUZwQyxRQUFBLEtBQUEsR0FJRSxNQUFBLENBQUEsSUFBQSxDQUFBLElBQUEsRUFBTSxPQUFOLEtBQWMsSUFKaEI7O0FBQ1MsSUFBQSxLQUFBLENBQUEsS0FBQSxHQUFBLEtBQUE7QUFDQSxJQUFBLEtBQUEsQ0FBQSxPQUFBLEdBQUEsT0FBQTs7QUFHUjs7QUFOZSxFQUFBLDhCQUFBLENBQUEsSUFBQSxHQUFlLGdDQUFmO0FBT2xCLFNBQUEsOEJBQUE7QUFBQyxDQVJELENBQTRELHlCQUE1RCxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUEsSUFBQSxNQUFBO0FBQUE7QUFBQSxZQUFBO0FBQUEsV0FBQSxNQUFBLEdBQUE7QUFFRTs7Ozs7O0FBTUc7OztBQUNXLEVBQUEsTUFBQSxDQUFBLElBQUEsR0FBZCxVQUFtQixDQUFuQixFQUF1RCxHQUF2RCxFQUErRDtBQUM3RCxTQUFLLElBQUksQ0FBQyxHQUFHLENBQVIsRUFBVyxHQUFHLEdBQUcsQ0FBQyxDQUFDLE1BQXhCLEVBQWdDLENBQUMsR0FBRyxHQUFwQyxFQUF5QyxDQUFDLEVBQTFDLEVBQ0UsQ0FBQyxDQUFDLENBQUQsQ0FBRCxHQUFPLEdBQVA7QUFDSCxHQUhhO0FBS2Q7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkc7OztBQUNXLEVBQUEsTUFBQSxDQUFBLFVBQUEsR0FBZCxVQUF5QixDQUF6QixFQUF3QyxTQUF4QyxFQUF3RCxPQUF4RCxFQUFzRSxHQUF0RSxFQUE4RTtBQUM1RSxJQUFBLE1BQU0sQ0FBQyxVQUFQLENBQWtCLENBQUMsQ0FBQyxNQUFwQixFQUE0QixTQUE1QixFQUF1QyxPQUF2Qzs7QUFDQSxTQUFLLElBQUksQ0FBQyxHQUFHLFNBQWIsRUFBd0IsQ0FBQyxHQUFHLE9BQTVCLEVBQXFDLENBQUMsRUFBdEMsRUFDRSxDQUFDLENBQUMsQ0FBRCxDQUFELEdBQU8sR0FBUDtBQUNILEdBSmE7QUFNZDs7O0FBR0c7OztBQUNJLEVBQUEsTUFBQSxDQUFBLFVBQUEsR0FBUCxVQUFrQixXQUFsQixFQUFvQyxTQUFwQyxFQUFvRCxPQUFwRCxFQUFnRTtBQUM5RCxRQUFJLFNBQVMsR0FBRyxPQUFoQixFQUF5QjtBQUN2QixZQUFNLElBQUksd0JBQUosQ0FDSixlQUFlLFNBQWYsR0FBMkIsY0FBM0IsR0FBNEMsT0FBNUMsR0FBc0QsR0FEbEQsQ0FBTjtBQUVEOztBQUNELFFBQUksU0FBUyxHQUFHLENBQWhCLEVBQW1CO0FBQ2pCLFlBQU0sSUFBSSw4QkFBSixDQUFtQyxTQUFuQyxDQUFOO0FBQ0Q7O0FBQ0QsUUFBSSxPQUFPLEdBQUcsV0FBZCxFQUEyQjtBQUN6QixZQUFNLElBQUksOEJBQUosQ0FBbUMsT0FBbkMsQ0FBTjtBQUNEO0FBQ0YsR0FYTTs7QUFhTyxFQUFBLE1BQUEsQ0FBQSxNQUFBLEdBQWQsWUFBQTtBQUE4QixRQUFBLElBQUEsR0FBQSxFQUFBOztTQUFBLElBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLFNBQUEsQ0FBQSxRQUFBLEVBQUEsSUFBWTtBQUFaLE1BQUEsSUFBQSxDQUFBLEVBQUEsQ0FBQSxHQUFBLFNBQUEsQ0FBQSxFQUFBLENBQUE7OztBQUM1QixXQUFPLElBQVA7QUFDRCxHQUZhOztBQUlBLEVBQUEsTUFBQSxDQUFBLE1BQUEsR0FBZCxVQUE4QixJQUE5QixFQUF5QyxJQUF6QyxFQUFvRCxLQUFwRCxFQUE2RDtBQUUzRCxRQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsSUFBTixDQUFXO0FBQUUsTUFBQSxNQUFNLEVBQUU7QUFBVixLQUFYLENBQVY7QUFFQSxXQUFPLEdBQUcsQ0FBQyxHQUFKLENBQVEsVUFBQSxDQUFBLEVBQUM7QUFBSSxhQUFBLEtBQUssQ0FBQyxJQUFOLENBQWM7QUFBRSxRQUFBLE1BQU0sRUFBRTtBQUFWLE9BQWQsRUFBZ0MsSUFBaEMsQ0FBQSxLQUFBLENBQUE7QUFBMkMsS0FBeEQsQ0FBUDtBQUNELEdBTGE7O0FBT0EsRUFBQSxNQUFBLENBQUEsZ0JBQUEsR0FBZCxVQUErQixJQUEvQixFQUEwQyxJQUExQyxFQUFxRCxLQUFyRCxFQUFnRTtBQUU5RCxRQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsSUFBTixDQUFXO0FBQUUsTUFBQSxNQUFNLEVBQUU7QUFBVixLQUFYLENBQVY7QUFFQSxXQUFPLEdBQUcsQ0FBQyxHQUFKLENBQVEsVUFBQSxDQUFBLEVBQUM7QUFBSSxhQUFBLFVBQVUsQ0FBQyxJQUFYLENBQWdCO0FBQUUsUUFBQSxNQUFNLEVBQUU7QUFBVixPQUFoQixFQUFrQyxJQUFsQyxDQUFBLEtBQUEsQ0FBQTtBQUE2QyxLQUExRCxDQUFQO0FBQ0QsR0FMYTs7QUFPQSxFQUFBLE1BQUEsQ0FBQSxNQUFBLEdBQWQsVUFBcUIsS0FBckIsRUFBaUMsTUFBakMsRUFBNEM7QUFDMUMsUUFBSSxDQUFDLEtBQUwsRUFBWTtBQUNWLGFBQU8sS0FBUDtBQUNEOztBQUNELFFBQUksQ0FBQyxNQUFMLEVBQWE7QUFDWCxhQUFPLEtBQVA7QUFDRDs7QUFDRCxRQUFJLENBQUMsS0FBSyxDQUFDLE1BQVgsRUFBbUI7QUFDakIsYUFBTyxLQUFQO0FBQ0Q7O0FBQ0QsUUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFaLEVBQW9CO0FBQ2xCLGFBQU8sS0FBUDtBQUNEOztBQUNELFFBQUksS0FBSyxDQUFDLE1BQU4sS0FBaUIsTUFBTSxDQUFDLE1BQTVCLEVBQW9DO0FBQ2xDLGFBQU8sS0FBUDtBQUNEOztBQUNELFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBUixFQUFXLFFBQU0sR0FBRyxLQUFLLENBQUMsTUFBL0IsRUFBdUMsQ0FBQyxHQUFHLFFBQTNDLEVBQW1ELENBQUMsRUFBcEQsRUFBd0Q7QUFDdEQsVUFBSSxLQUFLLENBQUMsQ0FBRCxDQUFMLEtBQWEsTUFBTSxDQUFDLENBQUQsQ0FBdkIsRUFBNEI7QUFDMUIsZUFBTyxLQUFQO0FBQ0Q7QUFDRjs7QUFDRCxXQUFPLElBQVA7QUFDRCxHQXRCYTs7QUF3QkEsRUFBQSxNQUFBLENBQUEsUUFBQSxHQUFkLFVBQXVCLENBQXZCLEVBQTZCOzs7QUFDM0IsUUFBSSxDQUFDLEtBQUssSUFBVixFQUFnQjtBQUNkLGFBQU8sQ0FBUDtBQUNEOztBQUNELFFBQUksTUFBTSxHQUFHLENBQWI7OztBQUNBLFdBQXNCLElBQUEsR0FBQSxHQUFBQyxVQUFBLENBQUEsQ0FBQSxDQUFBLEVBQUMsS0FBQSxHQUFBLEdBQUEsQ0FBQSxJQUFBLEVBQXZCLEVBQXVCLENBQUEsS0FBQSxDQUFBLElBQXZCLEVBQXVCLEtBQUEsR0FBQSxHQUFBLENBQUEsSUFBQSxFQUF2QixFQUF5QjtBQUFwQixZQUFNLE9BQU8sR0FBQSxLQUFBLENBQUEsS0FBYjtBQUNILFFBQUEsTUFBTSxHQUFHLEtBQUssTUFBTCxHQUFjLE9BQXZCO0FBQ0Q7Ozs7Ozs7Ozs7Ozs7QUFDRCxXQUFPLE1BQVA7QUFDRCxHQVRhOztBQVdBLEVBQUEsTUFBQSxDQUFBLGNBQUEsR0FBZCxVQUE2QixDQUE3QixFQUE0QyxLQUE1QyxFQUF5RDtBQUN2RCxTQUFLLElBQUksQ0FBQyxHQUFHLENBQWIsRUFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUF4QixFQUFnQyxDQUFDLEVBQWpDLEVBQXFDO0FBQ25DLE1BQUEsQ0FBQyxDQUFDLENBQUQsQ0FBRCxHQUFPLEtBQVA7QUFDRDtBQUNGLEdBSmE7O0FBTUEsRUFBQSxNQUFBLENBQUEsTUFBQSxHQUFkLFVBQXFCLFFBQXJCLEVBQTJDLFNBQTNDLEVBQTREO0FBQzFELFdBQU8sUUFBUSxDQUFDLEtBQVQsQ0FBZSxDQUFmLEVBQWtCLFNBQWxCLENBQVA7QUFDRCxHQUZhOztBQUlBLEVBQUEsTUFBQSxDQUFBLGdCQUFBLEdBQWQsVUFBK0IsUUFBL0IsRUFBcUQsU0FBckQsRUFBc0U7QUFFcEUsUUFBSSxRQUFRLENBQUMsTUFBVCxJQUFtQixTQUF2QixFQUFrQztBQUNoQyxVQUFNLFFBQVEsR0FBRyxJQUFJLFVBQUosQ0FBZSxTQUFmLENBQWpCO0FBQ0EsTUFBQSxRQUFRLENBQUMsR0FBVCxDQUFhLFFBQWI7QUFDQSxhQUFPLFFBQVA7QUFDRDs7QUFFRCxXQUFPLFFBQVEsQ0FBQyxLQUFULENBQWUsQ0FBZixFQUFrQixTQUFsQixDQUFQO0FBQ0QsR0FUYTs7QUFXQSxFQUFBLE1BQUEsQ0FBQSxXQUFBLEdBQWQsVUFBMEIsUUFBMUIsRUFBZ0QsSUFBaEQsRUFBOEQsRUFBOUQsRUFBd0U7QUFDdEUsUUFBTSxTQUFTLEdBQUcsRUFBRSxHQUFHLElBQXZCO0FBQ0EsUUFBTSxJQUFJLEdBQUcsSUFBSSxVQUFKLENBQWUsU0FBZixDQUFiO0FBQ0EsSUFBQSxNQUFNLENBQUMsU0FBUCxDQUFpQixRQUFqQixFQUEyQixJQUEzQixFQUFpQyxJQUFqQyxFQUF1QyxDQUF2QyxFQUEwQyxTQUExQztBQUNBLFdBQU8sSUFBUDtBQUNELEdBTGE7QUFPZDs7Ozs7Ozs7Ozs7Ozs7QUFjRTs7O0FBQ1ksRUFBQSxNQUFBLENBQUEsWUFBQSxHQUFkLFVBQTJCLEVBQTNCLEVBQTJDLEVBQTNDLEVBQXVELFVBQXZELEVBQW9HO0FBQ2xHLFFBQUksU0FBUyxLQUFLLFVBQWxCLEVBQThCO0FBQzVCLE1BQUEsVUFBVSxHQUFHLE1BQU0sQ0FBQyxnQkFBcEI7QUFDRDs7QUFDRCxRQUFJLENBQUMsR0FBRyxDQUFSO0FBQ0EsUUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQUgsR0FBWSxDQUFwQjs7QUFDQSxXQUFPLENBQUMsSUFBSSxDQUFaLEVBQWU7QUFDYixVQUFNLENBQUMsR0FBSSxDQUFDLEdBQUcsQ0FBTCxJQUFXLENBQXJCO0FBQ0EsVUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLEVBQUQsRUFBSyxFQUFFLENBQUMsQ0FBRCxDQUFQLENBQXRCOztBQUNBLFVBQUksR0FBRyxHQUFHLENBQVYsRUFBYTtBQUNYLFFBQUEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFSO0FBQ0QsT0FGRCxNQUVPLElBQUksR0FBRyxHQUFHLENBQVYsRUFBYTtBQUNsQixRQUFBLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBUjtBQUNELE9BRk0sTUFFQTtBQUNMLGVBQU8sQ0FBUDtBQUNEO0FBQ0Y7O0FBQ0QsV0FBTyxDQUFDLENBQUQsR0FBSyxDQUFaO0FBQ0QsR0FsQmE7O0FBb0JBLEVBQUEsTUFBQSxDQUFBLGdCQUFBLEdBQWQsVUFBK0IsQ0FBL0IsRUFBMEMsQ0FBMUMsRUFBbUQ7QUFDakQsV0FBTyxDQUFDLEdBQUcsQ0FBWDtBQUNELEdBRmE7O0FBR2hCLFNBQUEsTUFBQTtBQUFDLENBN0tELEVBQUE7O0FDTEE7O0FBRUc7QUFDSCxJQUFBLE9BQUE7QUFBQTtBQUFBLFlBQUE7QUFBQSxXQUFBLE9BQUEsR0FBQTs7QUFLZ0IsRUFBQSxPQUFBLENBQUEscUJBQUEsR0FBZCxVQUFvQyxDQUFwQyxFQUE2QztBQUUzQyxRQUFJLENBQUo7QUFFQSxRQUFJLENBQUMsS0FBSyxDQUFWLEVBQWEsT0FBTyxFQUFQO0FBRWIsUUFBSSxDQUFDLEdBQUcsRUFBUjtBQUVBLElBQUEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFUOztBQUVBLFFBQUksQ0FBQyxLQUFLLENBQVYsRUFBYTtBQUNYLE1BQUEsQ0FBQyxJQUFJLEVBQUw7QUFDQSxNQUFBLENBQUMsR0FBRyxDQUFKO0FBQ0Q7O0FBRUQsSUFBQSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQVQ7O0FBRUEsUUFBSSxDQUFDLEtBQUssQ0FBVixFQUFhO0FBQ1gsTUFBQSxDQUFDLElBQUksQ0FBTDtBQUNBLE1BQUEsQ0FBQyxHQUFHLENBQUo7QUFDRDs7QUFFRCxJQUFBLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBVDs7QUFFQSxRQUFJLENBQUMsS0FBSyxDQUFWLEVBQWE7QUFDWCxNQUFBLENBQUMsSUFBSSxDQUFMO0FBQ0EsTUFBQSxDQUFDLEdBQUcsQ0FBSjtBQUNEOztBQUVELElBQUEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFUOztBQUVBLFFBQUksQ0FBQyxLQUFLLENBQVYsRUFBYTtBQUNYLE1BQUEsQ0FBQyxJQUFJLENBQUw7QUFDQSxNQUFBLENBQUMsR0FBRyxDQUFKO0FBQ0Q7O0FBRUQsV0FBTyxDQUFDLElBQUssQ0FBQyxJQUFJLENBQU4sS0FBYSxFQUFqQixDQUFSO0FBQ0QsR0FyQ2E7O0FBdUNBLEVBQUEsT0FBQSxDQUFBLG9CQUFBLEdBQWQsVUFBbUMsQ0FBbkMsRUFBNEM7QUFFMUM7QUFDQSxRQUFJLENBQUMsS0FBSyxDQUFWLEVBQWE7QUFDWCxhQUFPLEVBQVA7QUFDRDs7QUFFRCxRQUFJLENBQUMsR0FBRyxDQUFSOztBQUVBLFFBQUksQ0FBQyxLQUFLLEVBQU4sS0FBYSxDQUFqQixFQUFvQjtBQUNsQixNQUFBLENBQUMsSUFBSSxFQUFMO0FBQ0EsTUFBQSxDQUFDLEtBQUssRUFBTjtBQUNEOztBQUVELFFBQUksQ0FBQyxLQUFLLEVBQU4sS0FBYSxDQUFqQixFQUFvQjtBQUNsQixNQUFBLENBQUMsSUFBSSxDQUFMO0FBQ0EsTUFBQSxDQUFDLEtBQUssQ0FBTjtBQUNEOztBQUVELFFBQUksQ0FBQyxLQUFLLEVBQU4sS0FBYSxDQUFqQixFQUFvQjtBQUNsQixNQUFBLENBQUMsSUFBSSxDQUFMO0FBQ0EsTUFBQSxDQUFDLEtBQUssQ0FBTjtBQUNEOztBQUVELFFBQUksQ0FBQyxLQUFLLEVBQU4sS0FBYSxDQUFqQixFQUFvQjtBQUNsQixNQUFBLENBQUMsSUFBSSxDQUFMO0FBQ0EsTUFBQSxDQUFDLEtBQUssQ0FBTjtBQUNEOztBQUVELElBQUEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFYO0FBRUEsV0FBTyxDQUFQO0FBQ0QsR0FoQ2E7O0FBa0NBLEVBQUEsT0FBQSxDQUFBLFdBQUEsR0FBZCxVQUEwQixDQUExQixFQUFtQztBQUNqQyxXQUFPLENBQUMsQ0FBQyxRQUFGLENBQVcsRUFBWCxDQUFQO0FBQ0QsR0FGYTs7QUFJQSxFQUFBLE9BQUEsQ0FBQSxjQUFBLEdBQWQsVUFBNkIsU0FBN0IsRUFBOEM7QUFDNUMsV0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxTQUFELENBQVAsRUFBb0IsQ0FBcEIsQ0FBVCxDQUFiO0FBQ0QsR0FGYSxDQWxGaEI7QUF1RkU7QUFDQTs7O0FBQ2MsRUFBQSxPQUFBLENBQUEsUUFBQSxHQUFkLFVBQXVCLENBQXZCLEVBQWdDO0FBQzlCO0FBQ0EsSUFBQSxDQUFDLEdBQUcsQ0FBQyxJQUFLLENBQUMsS0FBSyxDQUFQLEdBQVksVUFBaEIsQ0FBTDtBQUNBLElBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFVBQUwsS0FBcUIsQ0FBQyxLQUFLLENBQVAsR0FBWSxVQUFoQyxDQUFKO0FBQ0EsSUFBQSxDQUFDLEdBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFWLENBQUYsR0FBa0IsVUFBdEI7QUFDQSxJQUFBLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQVYsQ0FBTDtBQUNBLElBQUEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBVixDQUFMO0FBRUEsV0FBTyxDQUFDLEdBQUcsSUFBWDtBQUNELEdBVGE7O0FBV0EsRUFBQSxPQUFBLENBQUEsYUFBQSxHQUFkLFVBQTRCLFFBQTVCLEVBQThDLE9BQTlDLEVBQTZEO0FBQzNELFdBQU8sSUFBSSxDQUFDLEtBQUwsQ0FBVyxRQUFRLEdBQUcsT0FBdEIsQ0FBUDtBQUNELEdBRmE7QUFJZDs7OztBQUlHOzs7QUFDSSxFQUFBLE9BQUEsQ0FBQSxRQUFBLEdBQVAsVUFBZ0IsR0FBaEIsRUFBNkIsS0FBN0IsRUFBc0Q7QUFBekIsUUFBQSxLQUFBLEtBQUEsS0FBQSxDQUFBLEVBQUE7QUFBQSxNQUFBLEtBQUEsR0FBQSxTQUFBO0FBQXlCOztBQUNwRCxXQUFPLFFBQVEsQ0FBQyxHQUFELEVBQU0sS0FBTixDQUFmO0FBQ0QsR0FGTTs7QUEzR0EsRUFBQSxPQUFBLENBQUEsaUJBQUEsR0FBb0IsQ0FBQyxVQUFyQjtBQUNBLEVBQUEsT0FBQSxDQUFBLFNBQUEsR0FBb0IsTUFBTSxDQUFDLGdCQUEzQjtBQTZHVCxTQUFBLE9BQUE7QUFBQyxDQWhIRCxFQUFBOztBQ0hBOzs7Ozs7Ozs7Ozs7OztBQWNHO0FBWUg7Ozs7QUFJRzs7QUFDSCxJQUFBO0FBQThCO0FBQTlCO0FBQXNEO0FBQUEsWUFBQTtBQUtwRDtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBLFdBQUEsUUFBQSxDQUFtQjtBQUFjO0FBQWpDLElBQTBDLElBQTFDLEVBQTJEO0FBQ3pELFFBQUksU0FBUyxLQUFLLElBQWxCLEVBQXdCO0FBQ3RCLFdBQUssSUFBTCxHQUFZLENBQVo7QUFDQSxXQUFLLElBQUwsR0FBWSxJQUFJLFVBQUosQ0FBZSxDQUFmLENBQVo7QUFDRCxLQUhELE1BR087QUFDTCxXQUFLLElBQUwsR0FBWSxJQUFaOztBQUNBLFVBQUksU0FBUyxLQUFLLElBQWQsSUFBc0IsU0FBUyxJQUFuQyxFQUF5QztBQUN2QyxhQUFLLElBQUwsR0FBWSxRQUFRLENBQUMsU0FBVCxDQUFtQixJQUFuQixDQUFaO0FBQ0QsT0FGRCxNQUVPO0FBQ0wsYUFBSyxJQUFMLEdBQVksSUFBWjtBQUNEO0FBQ0Y7QUFDRjs7QUFFTSxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsT0FBQSxHQUFQLFlBQUE7QUFDRSxXQUFPLEtBQUssSUFBWjtBQUNELEdBRk07O0FBSUEsRUFBQSxRQUFBLENBQUEsU0FBQSxDQUFBLGNBQUEsR0FBUCxZQUFBO0FBQ0UsV0FBTyxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsS0FBSyxJQUFMLEdBQVksQ0FBYixJQUFrQixDQUE3QixDQUFQO0FBQ0QsR0FGTTs7QUFJQyxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsY0FBQSxHQUFSLFVBQXVCO0FBQWE7QUFBcEMsSUFBMkM7QUFDekMsUUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFMLENBQVUsTUFBVixHQUFtQixFQUE5QixFQUFrQztBQUNoQyxVQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsU0FBVCxDQUFtQixJQUFuQixDQUFoQjtBQUNBLE1BQUEsTUFBTSxDQUFDLFNBQVAsQ0FBaUIsS0FBSyxJQUF0QixFQUE0QixDQUE1QixFQUErQixPQUEvQixFQUF3QyxDQUF4QyxFQUEyQyxLQUFLLElBQUwsQ0FBVSxNQUFyRDtBQUNBLFdBQUssSUFBTCxHQUFZLE9BQVo7QUFDRDtBQUNGLEdBTk87QUFRUjs7O0FBR0c7OztBQUNJLEVBQUEsUUFBQSxDQUFBLFNBQUEsQ0FBQSxHQUFBLEdBQVAsVUFBVztBQUFVO0FBQXJCLElBQTRCO0FBQzFCLFdBQU8sQ0FBQyxLQUFLLElBQUwsQ0FBVSxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsR0FBRyxFQUFmLENBQVYsSUFBaUMsTUFBTSxDQUFDLEdBQUcsSUFBVixDQUFsQyxNQUF3RCxDQUEvRDtBQUNELEdBRk07QUFJUDs7OztBQUlHOzs7QUFDSSxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsR0FBQSxHQUFQLFVBQVc7QUFBVTtBQUFyQixJQUE0QjtBQUMxQixTQUFLLElBQUwsQ0FBVSxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsR0FBRyxFQUFmLENBQVYsS0FBaUMsTUFBTSxDQUFDLEdBQUcsSUFBVixDQUFqQztBQUNELEdBRk07QUFJUDs7OztBQUlHOzs7QUFDSSxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsSUFBQSxHQUFQLFVBQVk7QUFBVTtBQUF0QixJQUE2QjtBQUMzQixTQUFLLElBQUwsQ0FBVSxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsR0FBRyxFQUFmLENBQVYsS0FBaUMsTUFBTSxDQUFDLEdBQUcsSUFBVixDQUFqQztBQUNELEdBRk07QUFJUDs7Ozs7QUFLRzs7O0FBQ0ksRUFBQSxRQUFBLENBQUEsU0FBQSxDQUFBLFVBQUEsR0FBUCxVQUFrQjtBQUFhO0FBQS9CLElBQXNDO0FBQ3BDLFFBQU0sSUFBSSxHQUFHLEtBQUssSUFBbEI7O0FBQ0EsUUFBSSxJQUFJLElBQUksSUFBWixFQUFrQjtBQUNoQixhQUFPLElBQVA7QUFDRDs7QUFDRCxRQUFNLElBQUksR0FBRyxLQUFLLElBQWxCO0FBQ0EsUUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUwsQ0FBVyxJQUFJLEdBQUcsRUFBbEIsQ0FBakI7QUFDQSxRQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsVUFBRCxDQUF0QixDQVBvQzs7QUFTcEMsSUFBQSxXQUFXLElBQUksRUFBRSxDQUFDLE1BQU0sSUFBSSxHQUFHLElBQWIsQ0FBRCxJQUF1QixDQUF6QixDQUFmO0FBQ0EsUUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQXBCOztBQUNBLFdBQU8sV0FBVyxLQUFLLENBQXZCLEVBQTBCO0FBQ3hCLFVBQUksRUFBRSxVQUFGLEtBQWlCLE1BQXJCLEVBQTZCO0FBQzNCLGVBQU8sSUFBUDtBQUNEOztBQUNELE1BQUEsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFELENBQWxCO0FBQ0Q7O0FBQ0QsUUFBTSxNQUFNLEdBQUksVUFBVSxHQUFHLEVBQWQsR0FBb0IsT0FBTyxDQUFDLHFCQUFSLENBQThCLFdBQTlCLENBQW5DO0FBQ0EsV0FBTyxNQUFNLEdBQUcsSUFBVCxHQUFnQixJQUFoQixHQUF1QixNQUE5QjtBQUNELEdBbkJNO0FBcUJQOzs7O0FBSUc7OztBQUNJLEVBQUEsUUFBQSxDQUFBLFNBQUEsQ0FBQSxZQUFBLEdBQVAsVUFBb0I7QUFBYTtBQUFqQyxJQUF3QztBQUN0QyxRQUFNLElBQUksR0FBRyxLQUFLLElBQWxCOztBQUNBLFFBQUksSUFBSSxJQUFJLElBQVosRUFBa0I7QUFDaEIsYUFBTyxJQUFQO0FBQ0Q7O0FBQ0QsUUFBTSxJQUFJLEdBQUcsS0FBSyxJQUFsQjtBQUNBLFFBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBSSxHQUFHLEVBQWxCLENBQWpCO0FBQ0EsUUFBSSxXQUFXLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBRCxDQUF2QixDQVBzQzs7QUFTdEMsSUFBQSxXQUFXLElBQUksRUFBRSxDQUFDLE1BQU0sSUFBSSxHQUFHLElBQWIsQ0FBRCxJQUF1QixDQUF6QixDQUFmO0FBQ0EsUUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQXBCOztBQUNBLFdBQU8sV0FBVyxLQUFLLENBQXZCLEVBQTBCO0FBQ3hCLFVBQUksRUFBRSxVQUFGLEtBQWlCLE1BQXJCLEVBQTZCO0FBQzNCLGVBQU8sSUFBUDtBQUNEOztBQUNELE1BQUEsV0FBVyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQUQsQ0FBbkI7QUFDRDs7QUFDRCxRQUFNLE1BQU0sR0FBSSxVQUFVLEdBQUcsRUFBZCxHQUFvQixPQUFPLENBQUMscUJBQVIsQ0FBOEIsV0FBOUIsQ0FBbkM7QUFDQSxXQUFPLE1BQU0sR0FBRyxJQUFULEdBQWdCLElBQWhCLEdBQXVCLE1BQTlCO0FBQ0QsR0FuQk07QUFxQlA7Ozs7OztBQU1HOzs7QUFDSSxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsT0FBQSxHQUFQLFVBQWU7QUFBVTtBQUF6QixJQUFrQztBQUFnQjtBQUFsRCxJQUF5RDtBQUN2RCxTQUFLLElBQUwsQ0FBVSxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsR0FBRyxFQUFmLENBQVYsSUFBZ0MsT0FBaEM7QUFDRCxHQUZNO0FBSVA7Ozs7O0FBS0c7OztBQUNJLEVBQUEsUUFBQSxDQUFBLFNBQUEsQ0FBQSxRQUFBLEdBQVAsVUFBZ0I7QUFBYztBQUE5QixJQUF1QztBQUFZO0FBQW5ELElBQTBEO0FBQ3hELFFBQUksR0FBRyxHQUFHLEtBQU4sSUFBZSxLQUFLLEdBQUcsQ0FBdkIsSUFBNEIsR0FBRyxHQUFHLEtBQUssSUFBM0MsRUFBaUQ7QUFDL0MsWUFBTSxJQUFJLHdCQUFKLEVBQU47QUFDRDs7QUFDRCxRQUFJLEdBQUcsS0FBSyxLQUFaLEVBQW1CO0FBQ2pCO0FBQ0Q7O0FBQ0QsSUFBQSxHQUFHLEdBUHFEOztBQVF4RCxRQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUssR0FBRyxFQUFuQixDQUFqQjtBQUNBLFFBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFMLENBQVcsR0FBRyxHQUFHLEVBQWpCLENBQWhCO0FBQ0EsUUFBTSxJQUFJLEdBQUcsS0FBSyxJQUFsQjs7QUFDQSxTQUFLLElBQUksQ0FBQyxHQUFHLFFBQWIsRUFBdUIsQ0FBQyxJQUFJLE9BQTVCLEVBQXFDLENBQUMsRUFBdEMsRUFBMEM7QUFDeEMsVUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLFFBQUosR0FBZSxDQUFmLEdBQW1CLEtBQUssR0FBRyxJQUE1QztBQUNBLFVBQU0sT0FBTyxHQUFHLENBQUMsR0FBRyxPQUFKLEdBQWMsRUFBZCxHQUFtQixHQUFHLEdBQUcsSUFBekMsQ0FGd0M7O0FBSXhDLFVBQU0sSUFBSSxHQUFHLENBQUMsS0FBSyxPQUFOLEtBQWtCLEtBQUssUUFBdkIsQ0FBYjtBQUNBLE1BQUEsSUFBSSxDQUFDLENBQUQsQ0FBSixJQUFXLElBQVg7QUFDRDtBQUNGLEdBbEJNO0FBb0JQOztBQUVHOzs7QUFDSSxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsS0FBQSxHQUFQLFlBQUE7QUFDRSxRQUFNLEdBQUcsR0FBRyxLQUFLLElBQUwsQ0FBVSxNQUF0QjtBQUNBLFFBQU0sSUFBSSxHQUFHLEtBQUssSUFBbEI7O0FBQ0EsU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFiLEVBQWdCLENBQUMsR0FBRyxHQUFwQixFQUF5QixDQUFDLEVBQTFCLEVBQThCO0FBQzVCLE1BQUEsSUFBSSxDQUFDLENBQUQsQ0FBSixHQUFVLENBQVY7QUFDRDtBQUNGLEdBTk07QUFRUDs7Ozs7Ozs7QUFRRzs7O0FBQ0ksRUFBQSxRQUFBLENBQUEsU0FBQSxDQUFBLE9BQUEsR0FBUCxVQUFlO0FBQWM7QUFBN0IsSUFBc0M7QUFBWTtBQUFsRCxJQUEyRCxLQUEzRCxFQUF5RTtBQUN2RSxRQUFJLEdBQUcsR0FBRyxLQUFOLElBQWUsS0FBSyxHQUFHLENBQXZCLElBQTRCLEdBQUcsR0FBRyxLQUFLLElBQTNDLEVBQWlEO0FBQy9DLFlBQU0sSUFBSSx3QkFBSixFQUFOO0FBQ0Q7O0FBQ0QsUUFBSSxHQUFHLEtBQUssS0FBWixFQUFtQjtBQUNqQixhQUFPLElBQVAsQ0FEaUI7QUFFbEI7O0FBQ0QsSUFBQSxHQUFHLEdBUG9FOztBQVF2RSxRQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBTCxDQUFXLEtBQUssR0FBRyxFQUFuQixDQUFqQjtBQUNBLFFBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFMLENBQVcsR0FBRyxHQUFHLEVBQWpCLENBQWhCO0FBQ0EsUUFBTSxJQUFJLEdBQUcsS0FBSyxJQUFsQjs7QUFDQSxTQUFLLElBQUksQ0FBQyxHQUFHLFFBQWIsRUFBdUIsQ0FBQyxJQUFJLE9BQTVCLEVBQXFDLENBQUMsRUFBdEMsRUFBMEM7QUFDeEMsVUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLFFBQUosR0FBZSxDQUFmLEdBQW1CLEtBQUssR0FBRyxJQUE1QztBQUNBLFVBQU0sT0FBTyxHQUFHLENBQUMsR0FBRyxPQUFKLEdBQWMsRUFBZCxHQUFtQixHQUFHLEdBQUcsSUFBekMsQ0FGd0M7O0FBSXhDLFVBQU0sSUFBSSxHQUFHLENBQUMsS0FBSyxPQUFOLEtBQWtCLEtBQUssUUFBdkIsSUFBbUMsVUFBaEQsQ0FKd0M7QUFNeEM7QUFDQTs7QUFDQSxVQUFJLENBQUMsSUFBSSxDQUFDLENBQUQsQ0FBSixHQUFVLElBQVgsT0FBc0IsS0FBSyxHQUFHLElBQUgsR0FBVSxDQUFyQyxDQUFKLEVBQTZDO0FBQzNDLGVBQU8sS0FBUDtBQUNEO0FBQ0Y7O0FBQ0QsV0FBTyxJQUFQO0FBQ0QsR0F4Qk07O0FBMEJBLEVBQUEsUUFBQSxDQUFBLFNBQUEsQ0FBQSxTQUFBLEdBQVAsVUFBaUIsR0FBakIsRUFBNkI7QUFDM0IsU0FBSyxjQUFMLENBQW9CLEtBQUssSUFBTCxHQUFZLENBQWhDOztBQUNBLFFBQUksR0FBSixFQUFTO0FBQ1AsV0FBSyxJQUFMLENBQVUsSUFBSSxDQUFDLEtBQUwsQ0FBVyxLQUFLLElBQUwsR0FBWSxFQUF2QixDQUFWLEtBQXlDLE1BQU0sS0FBSyxJQUFMLEdBQVksSUFBbEIsQ0FBekM7QUFDRDs7QUFDRCxTQUFLLElBQUw7QUFDRCxHQU5NO0FBUVA7Ozs7Ozs7QUFPRzs7O0FBQ0ksRUFBQSxRQUFBLENBQUEsU0FBQSxDQUFBLFVBQUEsR0FBUCxVQUFrQjtBQUFjO0FBQWhDLElBQXlDO0FBQWdCO0FBQXpELElBQWdFO0FBQzlELFFBQUksT0FBTyxHQUFHLENBQVYsSUFBZSxPQUFPLEdBQUcsRUFBN0IsRUFBaUM7QUFDL0IsWUFBTSxJQUFJLHdCQUFKLENBQTZCLG1DQUE3QixDQUFOO0FBQ0Q7O0FBQ0QsU0FBSyxjQUFMLENBQW9CLEtBQUssSUFBTCxHQUFZLE9BQWhDLEVBSjhEOztBQU05RCxTQUFLLElBQUksV0FBVyxHQUFHLE9BQXZCLEVBQWdDLFdBQVcsR0FBRyxDQUE5QyxFQUFpRCxXQUFXLEVBQTVELEVBQWdFO0FBQzlELFdBQUssU0FBTCxDQUFlLENBQUUsS0FBSyxJQUFLLFdBQVcsR0FBRyxDQUF6QixHQUErQixJQUFoQyxNQUEwQyxDQUF6RDtBQUNEO0FBQ0YsR0FUTTs7QUFXQSxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsY0FBQSxHQUFQLFVBQXNCLEtBQXRCLEVBQXFDO0FBQ25DLFFBQU0sU0FBUyxHQUFHLEtBQUssQ0FBQyxJQUF4QjtBQUNBLFNBQUssY0FBTCxDQUFvQixLQUFLLElBQUwsR0FBWSxTQUFoQyxFQUZtQzs7QUFJbkMsU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFiLEVBQWdCLENBQUMsR0FBRyxTQUFwQixFQUErQixDQUFDLEVBQWhDLEVBQW9DO0FBQ2xDLFdBQUssU0FBTCxDQUFlLEtBQUssQ0FBQyxHQUFOLENBQVUsQ0FBVixDQUFmO0FBQ0Q7QUFDRixHQVBNOztBQVNBLEVBQUEsUUFBQSxDQUFBLFNBQUEsQ0FBQSxHQUFBLEdBQVAsVUFBVyxLQUFYLEVBQTBCO0FBQ3hCLFFBQUksS0FBSyxJQUFMLEtBQWMsS0FBSyxDQUFDLElBQXhCLEVBQThCO0FBQzVCLFlBQU0sSUFBSSx3QkFBSixDQUE2QixvQkFBN0IsQ0FBTjtBQUNEOztBQUNELFFBQU0sSUFBSSxHQUFHLEtBQUssSUFBbEI7O0FBQ0EsU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFSLEVBQVcsUUFBTSxHQUFHLElBQUksQ0FBQyxNQUE5QixFQUFzQyxDQUFDLEdBQUcsUUFBMUMsRUFBa0QsQ0FBQyxFQUFuRCxFQUF1RDtBQUNyRDtBQUNBO0FBQ0EsTUFBQSxJQUFJLENBQUMsQ0FBRCxDQUFKLElBQVcsS0FBSyxDQUFDLElBQU4sQ0FBVyxDQUFYLENBQVg7QUFDRDtBQUNGLEdBVk07QUFZUDs7Ozs7OztBQU9HOzs7QUFDSSxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsT0FBQSxHQUFQLFVBQWU7QUFBa0I7QUFBakMsSUFBMEMsS0FBMUMsRUFBNkQ7QUFBZTtBQUE1RSxJQUFxRjtBQUFpQjtBQUF0RyxJQUE2RztBQUMzRyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQWIsRUFBZ0IsQ0FBQyxHQUFHLFFBQXBCLEVBQThCLENBQUMsRUFBL0IsRUFBbUM7QUFDakMsVUFBSSxPQUFPLEdBQUcsQ0FBZDs7QUFDQSxXQUFLLElBQUksQ0FBQyxHQUFHLENBQWIsRUFBZ0IsQ0FBQyxHQUFHLENBQXBCLEVBQXVCLENBQUMsRUFBeEIsRUFBNEI7QUFDMUIsWUFBSSxLQUFLLEdBQUwsQ0FBUyxTQUFULENBQUosRUFBeUI7QUFDdkIsVUFBQSxPQUFPLElBQUksS0FBTSxJQUFJLENBQXJCO0FBQ0Q7O0FBQ0QsUUFBQSxTQUFTO0FBQ1Y7O0FBQ0QsTUFBQSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQVYsQ0FBTDtBQUFvQjtBQUFXLE1BQUEsT0FBL0I7QUFDRDtBQUNGLEdBWE07QUFhUDs7O0FBR0c7OztBQUNJLEVBQUEsUUFBQSxDQUFBLFNBQUEsQ0FBQSxXQUFBLEdBQVAsWUFBQTtBQUNFLFdBQU8sS0FBSyxJQUFaO0FBQ0QsR0FGTTtBQUlQOztBQUVHOzs7QUFDSSxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsT0FBQSxHQUFQLFlBQUE7QUFDRSxRQUFNLE9BQU8sR0FBRyxJQUFJLFVBQUosQ0FBZSxLQUFLLElBQUwsQ0FBVSxNQUF6QixDQUFoQixDQURGOztBQUdFLFFBQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFMLENBQVcsQ0FBQyxLQUFLLElBQUwsR0FBWSxDQUFiLElBQWtCLEVBQTdCLENBQVo7QUFDQSxRQUFNLFVBQVUsR0FBRyxHQUFHLEdBQUcsQ0FBekI7QUFDQSxRQUFNLElBQUksR0FBRyxLQUFLLElBQWxCOztBQUNBLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBYixFQUFnQixDQUFDLEdBQUcsVUFBcEIsRUFBZ0MsQ0FBQyxFQUFqQyxFQUFxQztBQUNuQyxVQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBRCxDQUFaO0FBQ0EsTUFBQSxDQUFDLEdBQUssQ0FBQyxJQUFJLENBQU4sR0FBVyxVQUFaLEdBQTJCLENBQUMsQ0FBQyxHQUFHLFVBQUwsS0FBb0IsQ0FBbkQ7QUFDQSxNQUFBLENBQUMsR0FBSyxDQUFDLElBQUksQ0FBTixHQUFXLFVBQVosR0FBMkIsQ0FBQyxDQUFDLEdBQUcsVUFBTCxLQUFvQixDQUFuRDtBQUNBLE1BQUEsQ0FBQyxHQUFLLENBQUMsSUFBSSxDQUFOLEdBQVcsVUFBWixHQUEyQixDQUFDLENBQUMsR0FBRyxVQUFMLEtBQW9CLENBQW5EO0FBQ0EsTUFBQSxDQUFDLEdBQUssQ0FBQyxJQUFJLENBQU4sR0FBVyxVQUFaLEdBQTJCLENBQUMsQ0FBQyxHQUFHLFVBQUwsS0FBb0IsQ0FBbkQ7QUFDQSxNQUFBLENBQUMsR0FBSyxDQUFDLElBQUksRUFBTixHQUFZLFVBQWIsR0FBNEIsQ0FBQyxDQUFDLEdBQUcsVUFBTCxLQUFvQixFQUFwRDtBQUNBLE1BQUEsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFQLENBQVA7QUFBbUI7QUFBVSxNQUFBLENBQTdCO0FBQ0QsS0FkSDs7O0FBZ0JFLFFBQUksS0FBSyxJQUFMLEtBQWMsVUFBVSxHQUFHLEVBQS9CLEVBQW1DO0FBQ2pDLFVBQU0sVUFBVSxHQUFHLFVBQVUsR0FBRyxFQUFiLEdBQWtCLEtBQUssSUFBMUM7QUFDQSxVQUFJLFVBQVUsR0FBRyxPQUFPLENBQUMsQ0FBRCxDQUFQLEtBQWUsVUFBaEM7O0FBQ0EsV0FBSyxJQUFJLENBQUMsR0FBRyxDQUFiLEVBQWdCLENBQUMsR0FBRyxVQUFwQixFQUFnQyxDQUFDLEVBQWpDLEVBQXFDO0FBQ25DLFlBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxDQUFELENBQXZCO0FBQ0EsUUFBQSxVQUFVLElBQUksT0FBTyxJQUFLLEtBQUssVUFBL0I7QUFDQSxRQUFBLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBTCxDQUFQLEdBQWlCLFVBQWpCO0FBQ0EsUUFBQSxVQUFVLEdBQUcsT0FBTyxLQUFLLFVBQXpCO0FBQ0Q7O0FBQ0QsTUFBQSxPQUFPLENBQUMsVUFBVSxHQUFHLENBQWQsQ0FBUCxHQUEwQixVQUExQjtBQUNEOztBQUNELFNBQUssSUFBTCxHQUFZLE9BQVo7QUFDRCxHQTVCTTs7QUE4QlEsRUFBQSxRQUFBLENBQUEsU0FBQSxHQUFmLFVBQXlCO0FBQWE7QUFBdEMsSUFBNkM7QUFDM0MsV0FBTyxJQUFJLFVBQUosQ0FBZSxJQUFJLENBQUMsS0FBTCxDQUFXLENBQUMsSUFBSSxHQUFHLEVBQVIsSUFBYyxFQUF6QixDQUFmLENBQVA7QUFDRCxHQUZjO0FBSWY7OztBQUNPLEVBQUEsUUFBQSxDQUFBLFNBQUEsQ0FBQSxNQUFBLEdBQVAsVUFBYyxDQUFkLEVBQW9CO0FBQ2xCLFFBQUksRUFBRSxDQUFDLFlBQVksUUFBZixDQUFKLEVBQThCO0FBQzVCLGFBQU8sS0FBUDtBQUNEOztBQUNELFFBQU0sS0FBSyxHQUFhLENBQXhCO0FBQ0EsV0FBTyxLQUFLLElBQUwsS0FBYyxLQUFLLENBQUMsSUFBcEIsSUFBNEIsTUFBTSxDQUFDLE1BQVAsQ0FBYyxLQUFLLElBQW5CLEVBQXlCLEtBQUssQ0FBQyxJQUEvQixDQUFuQztBQUNELEdBTk07QUFRUDs7O0FBQ08sRUFBQSxRQUFBLENBQUEsU0FBQSxDQUFBLFFBQUEsR0FBUCxZQUFBO0FBQ0UsV0FBTyxLQUFLLEtBQUssSUFBVixHQUFpQixNQUFNLENBQUMsUUFBUCxDQUFnQixLQUFLLElBQXJCLENBQXhCO0FBQ0QsR0FGTTtBQUlQOzs7QUFDTyxFQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsUUFBQSxHQUFQLFlBQUE7QUFDRSxRQUFJLE1BQU0sR0FBRyxFQUFiOztBQUNBLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBUixFQUFXLElBQUksR0FBRyxLQUFLLElBQTVCLEVBQWtDLENBQUMsR0FBRyxJQUF0QyxFQUE0QyxDQUFDLEVBQTdDLEVBQWlEO0FBQy9DLFVBQUksQ0FBQyxDQUFDLEdBQUcsSUFBTCxNQUFlLENBQW5CLEVBQXNCO0FBQ3BCLFFBQUEsTUFBTSxJQUFJLEdBQVY7QUFDRDs7QUFDRCxNQUFBLE1BQU0sSUFBSSxLQUFLLEdBQUwsQ0FBUyxDQUFULElBQWMsR0FBZCxHQUFvQixHQUE5QjtBQUNEOztBQUNELFdBQU8sTUFBUDtBQUNELEdBVE07QUFXUDs7O0FBQ08sRUFBQSxRQUFBLENBQUEsU0FBQSxDQUFBLEtBQUEsR0FBUCxZQUFBO0FBQ0UsV0FBTyxJQUFJLFFBQUosQ0FBYSxLQUFLLElBQWxCLEVBQXdCLEtBQUssSUFBTCxDQUFVLEtBQVYsRUFBeEIsQ0FBUDtBQUNELEdBRk07O0FBSVQsU0FBQSxRQUFBO0FBQUMsQ0FyV3FELEVBQXREOztBQy9CQTs7Ozs7Ozs7Ozs7Ozs7QUFjRzs7QUFFSDs7QUFFQTs7Ozs7Ozs7QUFRRztBQUNILElBQUssY0FBTDs7QUFBQSxDQUFBLFVBQUssY0FBTCxFQUFtQjtBQUVmOztBQUVHO0FBQ0gsRUFBQSxjQUFBLENBQUEsY0FBQSxDQUFBLE9BQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLE9BQUE7QUFBSzs7QUFFTDs7O0FBR0c7O0FBQ0gsRUFBQSxjQUFBLENBQUEsY0FBQSxDQUFBLGNBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLGNBQUE7QUFBWTs7QUFFWjs7O0FBR0c7O0FBQ0gsRUFBQSxjQUFBLENBQUEsY0FBQSxDQUFBLGtCQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxrQkFBQTtBQUFnQjs7QUFFaEI7OztBQUdHOztBQUNILEVBQUEsY0FBQSxDQUFBLGNBQUEsQ0FBQSxZQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxZQUFBO0FBQVU7O0FBRVY7O0FBRUc7O0FBQ0gsRUFBQSxjQUFBLENBQUEsY0FBQSxDQUFBLGVBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLGVBQUE7QUFBYTs7QUFFYjs7QUFFRzs7QUFDSCxFQUFBLGNBQUEsQ0FBQSxjQUFBLENBQUEsaUJBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLGlCQUFBO0FBQWU7O0FBRWY7OztBQUdHOztBQUNILEVBQUEsY0FBQSxDQUFBLGNBQUEsQ0FBQSw0QkFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsNEJBQUE7QUFBMEI7O0FBRTFCOzs7O0FBSUc7O0FBQ0gsRUFBQSxjQUFBLENBQUEsY0FBQSxDQUFBLFlBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLFlBQUE7QUFBVTs7QUFFVjs7OztBQUlHOztBQUNILEVBQUEsY0FBQSxDQUFBLGNBQUEsQ0FBQSwwQkFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsMEJBQUE7QUFBd0I7O0FBRXhCOzs7QUFHRzs7QUFDSCxFQUFBLGNBQUEsQ0FBQSxjQUFBLENBQUEsNEJBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLDRCQUFBO0FBQTBCOztBQUcxQjs7Ozs7O0FBTUc7O0FBQ0gsRUFBQSxjQUFBLENBQUEsY0FBQSxDQUFBLHdCQUFBLENBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSx3QkFBQTtBQUFzQjtBQUV0Qjs7QUFHQTs7Ozs7OztBQU9HO0FBQ0g7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFSCxDQTVGRCxFQUFLLGNBQWMsS0FBZCxjQUFjLEdBQUEsRUFBQSxDQUFuQjs7QUE4RkEsdUJBQWUsY0FBZjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZIQTs7QUFFRzs7QUFDSCxJQUFBLGVBQUE7QUFBQTtBQUFBLFVBQUEsTUFBQSxFQUFBO0FBQTZDLEVBQUFELFdBQUEsQ0FBQSxlQUFBLEVBQUEsTUFBQSxDQUFBOztBQUE3QyxXQUFBLGVBQUEsR0FBQTs7QUFPQzs7QUFIVSxFQUFBLGVBQUEsQ0FBQSxpQkFBQSxHQUFQLFlBQUE7QUFDSSxXQUFPLElBQUksZUFBSixFQUFQO0FBQ0gsR0FGTTs7QUFGTyxFQUFBLGVBQUEsQ0FBQSxJQUFBLEdBQWUsaUJBQWY7QUFLbEIsU0FBQSxlQUFBO0FBQUMsQ0FQRCxDQUE2QyxTQUE3QyxDQUFBOztBQ0xBOzs7Ozs7Ozs7Ozs7OztBQWNHOzs7Ozs7Ozs7Ozs7Ozs7OztBQU9IOztBQUNBOztBQUVBLElBQVksNEJBQVo7O0FBQUEsQ0FBQSxVQUFZLDRCQUFaLEVBQXdDO0FBQ3BDLEVBQUEsNEJBQUEsQ0FBQSw0QkFBQSxDQUFBLE9BQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLE9BQUE7QUFDQSxFQUFBLDRCQUFBLENBQUEsNEJBQUEsQ0FBQSxXQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxXQUFBO0FBQ0EsRUFBQSw0QkFBQSxDQUFBLDRCQUFBLENBQUEsV0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsV0FBQTtBQUNBLEVBQUEsNEJBQUEsQ0FBQSw0QkFBQSxDQUFBLFdBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLFdBQUE7QUFDQSxFQUFBLDRCQUFBLENBQUEsNEJBQUEsQ0FBQSxXQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxXQUFBO0FBQ0EsRUFBQSw0QkFBQSxDQUFBLDRCQUFBLENBQUEsV0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsV0FBQTtBQUNBLEVBQUEsNEJBQUEsQ0FBQSw0QkFBQSxDQUFBLFdBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLFdBQUE7QUFDQSxFQUFBLDRCQUFBLENBQUEsNEJBQUEsQ0FBQSxXQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxXQUFBO0FBQ0EsRUFBQSw0QkFBQSxDQUFBLDRCQUFBLENBQUEsV0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsV0FBQTtBQUNBLEVBQUEsNEJBQUEsQ0FBQSw0QkFBQSxDQUFBLFdBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLFdBQUE7QUFDQSxFQUFBLDRCQUFBLENBQUEsNEJBQUEsQ0FBQSxZQUFBLENBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxZQUFBO0FBQ0EsRUFBQSw0QkFBQSxDQUFBLDRCQUFBLENBQUEsWUFBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLEdBQUEsWUFBQTtBQUNBLEVBQUEsNEJBQUEsQ0FBQSw0QkFBQSxDQUFBLFlBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxHQUFBLFlBQUE7QUFDQSxFQUFBLDRCQUFBLENBQUEsNEJBQUEsQ0FBQSxZQUFBLENBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxZQUFBO0FBQ0EsRUFBQSw0QkFBQSxDQUFBLDRCQUFBLENBQUEsWUFBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLEdBQUEsWUFBQTtBQUNBLEVBQUEsNEJBQUEsQ0FBQSw0QkFBQSxDQUFBLFlBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxHQUFB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QSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsU0FBQTtBQUVBOztBQUNBLEVBQUEsYUFBQSxDQUFBLGFBQUEsQ0FBQSxVQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxVQUFBO0FBRUE7O0FBQ0EsRUFBQSxhQUFBLENBQUEsYUFBQSxDQUFBLGFBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLGFBQUE7QUFFQTs7QUFDQSxFQUFBLGFBQUEsQ0FBQSxhQUFBLENBQUEsT0FBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsT0FBQTtBQUVBOztBQUNBLEVBQUEsYUFBQSxDQUFBLGFBQUEsQ0FBQSxRQUFBLENBQUEsR0FBQSxDQUFBLENBQUEsR0FBQSxRQUFBO0FBRUE7O0FBQ0EsRUFBQSxhQUFBLENBQUEsYUFBQSxDQUFBLEtBQUEsQ0FBQSxHQUFBLENBQUEsQ0FBQSxHQUFBLEtBQUE7QUFFQTs7QUFDQSxFQUFBLGFBQUEsQ0FBQSxhQUFBLENBQUEsVUFBQSxDQUFBLEdBQUEsQ0FBQSxDQUFBLEdBQUEsVUFBQTtBQUVBOztBQUNBLEVBQUEsYUFBQSxDQUFBLGFBQUEsQ0FBQSxTQUFBLENBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxTQUFBO0FBRUE7O0FBQ0EsRUFBQSxhQUFBLENBQUEsYUFBQSxDQUFBLFNBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxHQUFBLFNBQUE7QUFFQTs7QUFDQSxFQUFBLGFBQUEsQ0FBQSxhQUFBLENBQUEsUUFBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLEdBQUEsUUFBQTtBQUVBOztBQUNBLEVBQUEsYUFBQSxDQUFBLGFBQUEsQ0FBQSxjQUFBLENBQUEsR0FBQSxFQUFBLENBQUEsR0FBQSxjQUFBO0FBRUE7O0FBQ0EsRUFBQSxhQUFBLENBQUEsYUFBQSxDQUFBLE9BQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBQSxHQUFBLE9BQUE7QUFFQTs7QUFDQSxFQUFBLGFBQUEsQ0FBQSxhQUFBLENBQUEsT0FBQSxDQUFBLEdBQUEsRUFBQSxDQUFBLEdBQUEsT0FBQTtBQUVBOztBQUNBLEVBQUEs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QXRCLENBQTFCLENBQVA7QUFDRDs7QUFFRCxRQUFJLGFBQWEsR0FBRyxLQUFLLCtCQUFMLENBQXFDLEdBQXJDLEVBQTBDLENBQTFDLENBQXBCO0FBQ0EsUUFBSSxDQUFKOztBQUNBLFlBQVEsYUFBUjtBQUNFLFdBQUssR0FBTDtBQUNFLFFBQUEsQ0FBQyxHQUFHLEdBQUo7QUFDQTs7QUFDRixXQUFLLEdBQUw7QUFDRSxRQUFBLENBQUMsR0FBRyxHQUFKO0FBQ0E7O0FBQ0YsV0FBSyxHQUFMO0FBQ0UsUUFBQSxDQUFDLEdBQUcsR0FBSjtBQUNBOztBQUNGLFdBQUssR0FBTDtBQUNFLFFBQUEsQ0FBQyxHQUFHLEdBQUo7QUFDQTs7QUFDRixXQUFLLEdBQUw7QUFDRSxRQUFBLENBQUMsR0FBRyxJQUFKO0FBQ0E7O0FBQ0YsV0FBSyxHQUFMO0FBQ0UsUUFBQSxDQUFDLEdBQUcsR0FBSjtBQUNBOztBQUNGLFdBQUssR0FBTDtBQUNFLFFBQUEsQ0FBQyxHQUFHLEdBQUo7QUFDQTs7QUFDRixXQUFLLEdBQUw7QUFDRSxRQUFBLENBQUMsR0FBRyxHQUFKO0FBQ0E7O0FBQ0YsV0FBSyxHQUFMO0FBQ0UsUUFBQSxDQUFDLEdBQUcsR0FBSjtBQUNBOztBQUNGLFdBQUssR0FBTDtBQUNFLFFBQUEsQ0FBQyxHQUFHLEdBQUo7QUFDQTs7QUFDRixXQUFLLEdBQUw7QUFDRSxRQUFBLENBQUMsR0FBRyxHQUFKO0FBQ0E7O0FBQ0YsV0FBSyxHQUFMO0FBQ0UsUUFBQSxDQUFDLEdBQUcsR0FBSjtBQUNBOztBQUNGLFdBQUssR0FBTDtBQUNFLFFBQUEsQ0FBQyxHQUFHLEdBQUo7QUFDQTs7QUFDRixXQUFLLEdBQUw7QUFDRSxRQUFBLENBQUMsR0FBRyxHQUFKO0FBQ0E7O0FBQ0YsV0FBSyxHQUFMO0FBQ0UsUUFBQSxDQUFDLEdBQUcsR0FBSjtBQUNBOztBQUNGLFdBQUssR0FBTDtBQUNFLFFBQUEsQ0FBQyxHQUFHLEdBQUo7QUFDQTs7QUFDRixXQUFLLEdBQUw7QUFDRSxRQUFBLENBQUMsR0FBRyxHQUFKO0FBQ0E7O0FBQ0Ys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Q0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxFQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxFQUFYLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxFQUFYLENBREosQ0FQSixDQW5HaUMsRUE0R2pDLElBQUksT0FBSixDQUFZLEVBQVosRUFBZ0IsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxFQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBREosQ0FQSixDQTVHaUMsRUFxSGpDLElBQUksT0FBSixDQUFZLEVBQVosRUFBZ0IsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsR0FBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxHQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsRUFBUixFQUFZLEVBQVosQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxFQUFYLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsRUFBUixFQUFZLEVBQVosQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBREosQ0FQSixDQXJIaUMsRUE4SGpDLElBQUksT0FBSixDQUFZLEVBQVosRUFBZ0IsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsR0FBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxHQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBREosQ0FQSixDQTlIaUMsRUF1SWpDLElBQUksT0FBSixDQUFZLEVBQVosRUFBZ0IsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsR0FBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxHQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxD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QUosQ0FBUSxDQUFSLEVBQVcsR0FBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxHQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsRUFBUixFQUFZLEVBQVosQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBREosQ0FQSixDQXhLaUMsRUFpTGpDLElBQUksT0FBSixDQUFZLEVBQVosRUFBZ0IsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLEVBQWdCLEdBQWhCLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsR0FBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxHQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsRUFBUixFQUFZLEVBQVosQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxFQUFYLENBREosQ0FQSixDQWpMaUMsRUEwTGpDLElBQUksT0FBSixDQUFZLEVBQVosRUFBZ0IsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLEVBQWdCLEdBQWhCLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsR0FBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxHQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxFQUFYLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsRUFBUixFQUFZLEVBQVosQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBREosQ0FQSixDQTFMaUMsRUFtTWpDLElBQUksT0FBSixDQUFZLEVBQVosRUFBZ0IsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLEVBQWdCLEdBQWhCLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksR0FBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxHQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsRUFBUixFQUFZLEVBQVosQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxFQUFYLENBREosQ0FQSixDQW5NaUMsRUE0TWpDLElBQUksT0FBSixDQUFZLEVBQVosRUFBZ0IsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLEVBQWdCLEdBQWhCLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsR0FBWCxDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxHQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsRUFBUixFQUFZLEVBQVosQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxDQUFSLEVBQVcsRUFBWCxDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxFQUFYLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsRUFBUixFQUFZLEVBQVosQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBREosQ0FQ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VSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLEVBQWdCLEdBQWhCLEVBQXFCLEdBQXJCLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksR0FBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLENBQVIsRUFBVyxHQUFYLENBREosQ0FESixFQUdJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FBakIsRUFDSSxJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQURKLENBSEosRUFLSSxJQUFJLFFBQUosQ0FBYSxFQUFiLEVBQWlCLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBQWpCLEVBQ0ksSUFBSSxHQUFKLENBQVEsQ0FBUixFQUFXLEVBQVgsQ0FESixDQUxKLEVBT0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBREosQ0FQSixDQWhQaUMsRUF5UGpDLElBQUksT0FBSixDQUFZLEVBQVosRUFBZ0IsVUFBVSxDQUFDLElBQVgsQ0FBZ0IsQ0FBQyxDQUFELEVBQUksRUFBSixFQUFRLEVBQVIsRUFBWSxFQUFaLEVBQWdCLEdBQWhCLEVBQXFCLEdBQXJCLENBQWhCLENBQWhCLEVBQ0ksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksR0FBWixDQUFqQixDQURKLEVBRUksSUFBSSxRQUFKLENBQWEsRUFBYixFQUFpQixJQUFJLEdBQUosQ0FBUSxFQUFSLEVBQVksRUFBWixDQUFqQixFQUNJLElBQUksR0FBSixDQUFRLEVBQVIsRUFBWSxFQUFaLENBREosQ0FGSixFQUlJLElBQUksUUFBSixDQUFhLEVBQWIsRUFBaUIsSUFBSSxH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
